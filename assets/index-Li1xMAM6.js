function eg(e,n){for(var s=0;s<n.length;s++){const c=n[s];if(typeof c!="string"&&!Array.isArray(c)){for(const f in c)if(f!=="default"&&!(f in e)){const g=Object.getOwnPropertyDescriptor(c,f);g&&Object.defineProperty(e,f,g.get?g:{enumerable:!0,get:()=>c[f]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function s(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(f){if(f.ep)return;f.ep=!0;const g=s(f);fetch(f.href,g)}})();var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xd={exports:{}},kl={},_d={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),tg=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),ig=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),sg=Symbol.for("react.context"),ag=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),ug=Symbol.for("react.memo"),cg=Symbol.for("react.lazy"),Wh=Symbol.iterator;function hg(e){return e===null||typeof e!="object"?null:(e=Wh&&e[Wh]||e["@@iterator"],typeof e=="function"?e:null)}var yd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wd=Object.assign,vd={};function hs(e,n,s){this.props=e,this.context=n,this.refs=vd,this.updater=s||yd}hs.prototype.isReactComponent={};hs.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cd(){}Cd.prototype=hs.prototype;function Lc(e,n,s){this.props=e,this.context=n,this.refs=vd,this.updater=s||yd}var Dc=Lc.prototype=new Cd;Dc.constructor=Lc;wd(Dc,hs.prototype);Dc.isPureReactComponent=!0;var Zh=Array.isArray,Ed=Object.prototype.hasOwnProperty,Rc={current:null},Ad={key:!0,ref:!0,__self:!0,__source:!0};function Sd(e,n,s){var c,f={},g=null,y=null;if(n!=null)for(c in n.ref!==void 0&&(y=n.ref),n.key!==void 0&&(g=""+n.key),n)Ed.call(n,c)&&!Ad.hasOwnProperty(c)&&(f[c]=n[c]);var S=arguments.length-2;if(S===1)f.children=s;else if(1<S){for(var I=Array(S),w=0;w<S;w++)I[w]=arguments[w+2];f.children=I}if(e&&e.defaultProps)for(c in S=e.defaultProps,S)f[c]===void 0&&(f[c]=S[c]);return{$$typeof:xa,type:e,key:g,ref:y,props:f,_owner:Rc.current}}function fg(e,n){return{$$typeof:xa,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function dg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var Gh=/\/+/g;function cu(e,n){return typeof e=="object"&&e!==null&&e.key!=null?dg(""+e.key):n.toString(36)}function qa(e,n,s,c,f){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(g){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case xa:case tg:y=!0}}if(y)return y=e,f=f(y),e=c===""?"."+cu(y,0):c,Zh(f)?(s="",e!=null&&(s=e.replace(Gh,"$&/")+"/"),qa(f,n,s,"",function(w){return w})):f!=null&&(Pc(f)&&(f=fg(f,s+(!f.key||y&&y.key===f.key?"":(""+f.key).replace(Gh,"$&/")+"/")+e)),n.push(f)),1;if(y=0,c=c===""?".":c+":",Zh(e))for(var S=0;S<e.length;S++){g=e[S];var I=c+cu(g,S);y+=qa(g,n,s,I,f)}else if(I=hg(e),typeof I=="function")for(e=I.call(e),S=0;!(g=e.next()).done;)g=g.value,I=c+cu(g,S++),y+=qa(g,n,s,I,f);else if(g==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return y}function Ra(e,n,s){if(e==null)return e;var c=[],f=0;return qa(e,c,"","",function(g){return n.call(s,g,f++)}),c}function gg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var kn={current:null},Ja={transition:null},pg={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:Rc};et.Children={map:Ra,forEach:function(e,n,s){Ra(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return Ra(e,function(){n++}),n},toArray:function(e){return Ra(e,function(n){return n})||[]},only:function(e){if(!Pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=hs;et.Fragment=ng;et.Profiler=rg;et.PureComponent=Lc;et.StrictMode=ig;et.Suspense=lg;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;et.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=wd({},e.props),f=e.key,g=e.ref,y=e._owner;if(n!=null){if(n.ref!==void 0&&(g=n.ref,y=Rc.current),n.key!==void 0&&(f=""+n.key),e.type&&e.type.defaultProps)var S=e.type.defaultProps;for(I in n)Ed.call(n,I)&&!Ad.hasOwnProperty(I)&&(c[I]=n[I]===void 0&&S!==void 0?S[I]:n[I])}var I=arguments.length-2;if(I===1)c.children=s;else if(1<I){S=Array(I);for(var w=0;w<I;w++)S[w]=arguments[w+2];c.children=S}return{$$typeof:xa,type:e.type,key:f,ref:g,props:c,_owner:y}};et.createContext=function(e){return e={$$typeof:sg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:og,_context:e},e.Consumer=e};et.createElement=Sd;et.createFactory=function(e){var n=Sd.bind(null,e);return n.type=e,n};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:ag,render:e}};et.isValidElement=Pc;et.lazy=function(e){return{$$typeof:cg,_payload:{_status:-1,_result:e},_init:gg}};et.memo=function(e,n){return{$$typeof:ug,type:e,compare:n===void 0?null:n}};et.startTransition=function(e){var n=Ja.transition;Ja.transition={};try{e()}finally{Ja.transition=n}};et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};et.useCallback=function(e,n){return kn.current.useCallback(e,n)};et.useContext=function(e){return kn.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return kn.current.useDeferredValue(e)};et.useEffect=function(e,n){return kn.current.useEffect(e,n)};et.useId=function(){return kn.current.useId()};et.useImperativeHandle=function(e,n,s){return kn.current.useImperativeHandle(e,n,s)};et.useInsertionEffect=function(e,n){return kn.current.useInsertionEffect(e,n)};et.useLayoutEffect=function(e,n){return kn.current.useLayoutEffect(e,n)};et.useMemo=function(e,n){return kn.current.useMemo(e,n)};et.useReducer=function(e,n,s){return kn.current.useReducer(e,n,s)};et.useRef=function(e){return kn.current.useRef(e)};et.useState=function(e){return kn.current.useState(e)};et.useSyncExternalStore=function(e,n,s){return kn.current.useSyncExternalStore(e,n,s)};et.useTransition=function(){return kn.current.useTransition()};et.version="18.2.0";_d.exports=et;var qt=_d.exports;const mg=Pl(qt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=qt,_g=Symbol.for("react.element"),yg=Symbol.for("react.fragment"),wg=Object.prototype.hasOwnProperty,vg=xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cg={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,n,s){var c,f={},g=null,y=null;s!==void 0&&(g=""+s),n.key!==void 0&&(g=""+n.key),n.ref!==void 0&&(y=n.ref);for(c in n)wg.call(n,c)&&!Cg.hasOwnProperty(c)&&(f[c]=n[c]);if(e&&e.defaultProps)for(c in n=e.defaultProps,n)f[c]===void 0&&(f[c]=n[c]);return{$$typeof:_g,type:e,key:g,ref:y,props:f,_owner:vg.current}}kl.Fragment=yg;kl.jsx=Id;kl.jsxs=Id;xd.exports=kl;var Re=xd.exports,ku={},Td={exports:{}},ri={},Nd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n($,Ie){var se=$.length;$.push(Ie);e:for(;0<se;){var De=se-1>>>1,be=$[De];if(0<f(be,Ie))$[De]=Ie,$[se]=be,se=De;else break e}}function s($){return $.length===0?null:$[0]}function c($){if($.length===0)return null;var Ie=$[0],se=$.pop();if(se!==Ie){$[0]=se;e:for(var De=0,be=$.length,ct=be>>>1;De<ct;){var Fe=2*(De+1)-1,Xe=$[Fe],re=Fe+1,Yt=$[re];if(0>f(Xe,se))re<be&&0>f(Yt,Xe)?($[De]=Yt,$[re]=se,De=re):($[De]=Xe,$[Fe]=se,De=Fe);else if(re<be&&0>f(Yt,se))$[De]=Yt,$[re]=se,De=re;else break e}}return Ie}function f($,Ie){var se=$.sortIndex-Ie.sortIndex;return se!==0?se:$.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var y=Date,S=y.now();e.unstable_now=function(){return y.now()-S}}var I=[],w=[],D=1,O=null,U=3,q=!1,te=!1,X=!1,Se=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var Ie=s(w);Ie!==null;){if(Ie.callback===null)c(w);else if(Ie.startTime<=$)c(w),Ie.sortIndex=Ie.expirationTime,n(I,Ie);else break;Ie=s(w)}}function Q($){if(X=!1,k($),!te)if(s(I)!==null)te=!0,Le(ge);else{var Ie=s(w);Ie!==null&&Oe(Q,Ie.startTime-$)}}function ge($,Ie){te=!1,X&&(X=!1,z(he),he=-1),q=!0;var se=U;try{for(k(Ie),O=s(I);O!==null&&(!(O.expirationTime>Ie)||$&&!He());){var De=O.callback;if(typeof De=="function"){O.callback=null,U=O.priorityLevel;var be=De(O.expirationTime<=Ie);Ie=e.unstable_now(),typeof be=="function"?O.callback=be:O===s(I)&&c(I),k(Ie)}else c(I);O=s(I)}if(O!==null)var ct=!0;else{var Fe=s(w);Fe!==null&&Oe(Q,Fe.startTime-Ie),ct=!1}return ct}finally{O=null,U=se,q=!1}}var le=!1,G=null,he=-1,J=5,Be=-1;function He(){return!(e.unstable_now()-Be<J)}function ye(){if(G!==null){var $=e.unstable_now();Be=$;var Ie=!0;try{Ie=G(!0,$)}finally{Ie?Ye():(le=!1,G=null)}}else le=!1}var Ye;if(typeof R=="function")Ye=function(){R(ye)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,K=We.port2;We.port1.onmessage=ye,Ye=function(){K.postMessage(null)}}else Ye=function(){Se(ye,0)};function Le($){G=$,le||(le=!0,Ye())}function Oe($,Ie){he=Se(function(){$(e.unstable_now())},Ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){te||q||(te=!0,Le(ge))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return U},e.unstable_getFirstCallbackNode=function(){return s(I)},e.unstable_next=function($){switch(U){case 1:case 2:case 3:var Ie=3;break;default:Ie=U}var se=U;U=Ie;try{return $()}finally{U=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,Ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=U;U=$;try{return Ie()}finally{U=se}},e.unstable_scheduleCallback=function($,Ie,se){var De=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?De+se:De):se=De,$){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=se+be,$={id:D++,callback:Ie,priorityLevel:$,startTime:se,expirationTime:be,sortIndex:-1},se>De?($.sortIndex=se,n(w,$),s(I)===null&&$===s(w)&&(X?(z(he),he=-1):X=!0,Oe(Q,se-De))):($.sortIndex=be,n(I,$),te||q||(te=!0,Le(ge))),$},e.unstable_shouldYield=He,e.unstable_wrapCallback=function($){var Ie=U;return function(){var se=U;U=Ie;try{return $.apply(this,arguments)}finally{U=se}}}})(Md);Nd.exports=Md;var Eg=Nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=qt,ii=Eg;function ce(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bd=new Set,ea={};function Io(e,n){rs(e,n),rs(e+"Capture",n)}function rs(e,n){for(ea[e]=n,e=0;e<n.length;e++)bd.add(n[e])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=Object.prototype.hasOwnProperty,Ag=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yh={},Xh={};function Sg(e){return Bu.call(Xh,e)?!0:Bu.call(Yh,e)?!1:Ag.test(e)?Xh[e]=!0:(Yh[e]=!0,!1)}function Ig(e,n,s,c){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tg(e,n,s,c){if(n===null||typeof n>"u"||Ig(e,n,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Bn(e,n,s,c,f,g,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=g,this.removeEmptyString=y}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_n[e]=new Bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];_n[n]=new Bn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_n[e]=new Bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_n[e]=new Bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_n[e]=new Bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_n[e]=new Bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_n[e]=new Bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_n[e]=new Bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_n[e]=new Bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Bc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(kc,Bc);_n[n]=new Bn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(kc,Bc);_n[n]=new Bn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(kc,Bc);_n[n]=new Bn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_n[e]=new Bn(e,1,!1,e.toLowerCase(),null,!1,!1)});_n.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_n[e]=new Bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fc(e,n,s,c){var f=_n.hasOwnProperty(n)?_n[n]:null;(f!==null?f.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Tg(n,s,f,c)&&(s=null),c||f===null?Sg(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):f.mustUseProperty?e[f.propertyName]=s===null?f.type===3?!1:"":s:(n=f.attributeName,c=f.attributeNamespace,s===null?e.removeAttribute(n):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,c?e.setAttributeNS(c,n,s):e.setAttribute(n,s))))}var vr=Od.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Dd=Symbol.for("react.context"),Uc=Symbol.for("react.forward_ref"),zu=Symbol.for("react.suspense"),Uu=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),Qh=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Qh&&e[Qh]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,hu;function Hs(e){if(hu===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hu=n&&n[1]||""}return`
`+hu+e}var fu=!1;function du(e,n){if(!e||fu)return"";fu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(w){var c=w}Reflect.construct(e,[],n)}else{try{n.call()}catch(w){c=w}e.call(n.prototype)}else{try{throw Error()}catch(w){c=w}e()}}catch(w){if(w&&c&&typeof w.stack=="string"){for(var f=w.stack.split(`
`),g=c.stack.split(`
`),y=f.length-1,S=g.length-1;1<=y&&0<=S&&f[y]!==g[S];)S--;for(;1<=y&&0<=S;y--,S--)if(f[y]!==g[S]){if(y!==1||S!==1)do if(y--,S--,0>S||f[y]!==g[S]){var I=`
`+f[y].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=y&&0<=S);break}}}finally{fu=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Hs(e):""}function Ng(e){switch(e.tag){case 5:return Hs(e.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return e=du(e.type,!1),e;case 11:return e=du(e.type.render,!1),e;case 1:return e=du(e.type,!0),e;default:return""}}function Hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uo:return"Fragment";case zo:return"Portal";case Fu:return"Profiler";case zc:return"StrictMode";case zu:return"Suspense";case Uu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dd:return(e.displayName||"Context")+".Consumer";case Ld:return(e._context.displayName||"Context")+".Provider";case Uc:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hc:return n=e.displayName||null,n!==null?n:Hu(e.type)||"Memo";case Pr:n=e._payload,e=e._init;try{return Hu(e(n))}catch{}}return null}function Mg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hu(n);case 8:return n===zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Og(e){var n=Pd(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,g.call(this,y)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ka(e){e._valueTracker||(e._valueTracker=Og(e))}function kd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=Pd(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ju(e,n){var s=n.checked;return zt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Kh(e,n){var s=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;s=Qr(n.value!=null?n.value:s),e._wrapperState={initialChecked:c,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Bd(e,n){n=n.checked,n!=null&&Fc(e,"checked",n,!1)}function Vu(e,n){Bd(e,n);var s=Qr(n.value),c=n.type;if(s!=null)c==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Wu(e,n.type,s):n.hasOwnProperty("defaultValue")&&Wu(e,n.type,Qr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function qh(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Wu(e,n,s){(n!=="number"||ul(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var js=Array.isArray;function Jo(e,n,s,c){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&c&&(e[s].defaultSelected=!0)}else{for(s=""+Qr(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Zu(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ce(91));return zt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jh(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(ce(92));if(js(s)){if(1<s.length)throw Error(ce(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Qr(s)}}function Fd(e,n){var s=Qr(n.value),c=Qr(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),c!=null&&(e.defaultValue=""+c)}function $h(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function zd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gu(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?zd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ba,Ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,c,f){MSApp.execUnsafeLocalFunction(function(){return e(n,s,c,f)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ba.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ta(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bg=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){bg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Zs[n]=Zs[e]})});function Hd(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+n).trim():n+"px"}function jd(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var c=s.indexOf("--")===0,f=Hd(s,n[s],c);s==="float"&&(s="cssFloat"),c?e.setProperty(s,f):e[s]=f}}var Lg=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yu(e,n){if(n){if(Lg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ce(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ce(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ce(62))}}function Xu(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ku=null,$o=null,es=null;function ef(e){if(e=wa(e)){if(typeof Ku!="function")throw Error(ce(280));var n=e.stateNode;n&&(n=Hl(n),Ku(e.stateNode,e.type,n))}}function Vd(e){$o?es?es.push(e):es=[e]:$o=e}function Wd(){if($o){var e=$o,n=es;if(es=$o=null,ef(e),n)for(e=0;e<n.length;e++)ef(n[e])}}function Zd(e,n){return e(n)}function Gd(){}var gu=!1;function Yd(e,n,s){if(gu)return e(n,s);gu=!0;try{return Zd(e,n,s)}finally{gu=!1,($o!==null||es!==null)&&(Gd(),Wd())}}function na(e,n){var s=e.stateNode;if(s===null)return null;var c=Hl(s);if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ce(231,n,typeof s));return s}var qu=!1;if(xr)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{qu=!1}function Dg(e,n,s,c,f,g,y,S,I){var w=Array.prototype.slice.call(arguments,3);try{n.apply(s,w)}catch(D){this.onError(D)}}var Gs=!1,cl=null,hl=!1,Ju=null,Rg={onError:function(e){Gs=!0,cl=e}};function Pg(e,n,s,c,f,g,y,S,I){Gs=!1,cl=null,Dg.apply(Rg,arguments)}function kg(e,n,s,c,f,g,y,S,I){if(Pg.apply(this,arguments),Gs){if(Gs){var w=cl;Gs=!1,cl=null}else throw Error(ce(198));hl||(hl=!0,Ju=w)}}function To(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Xd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function tf(e){if(To(e)!==e)throw Error(ce(188))}function Bg(e){var n=e.alternate;if(!n){if(n=To(e),n===null)throw Error(ce(188));return n!==e?null:e}for(var s=e,c=n;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){s=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return tf(f),e;if(g===c)return tf(f),n;g=g.sibling}throw Error(ce(188))}if(s.return!==c.return)s=f,c=g;else{for(var y=!1,S=f.child;S;){if(S===s){y=!0,s=f,c=g;break}if(S===c){y=!0,c=f,s=g;break}S=S.sibling}if(!y){for(S=g.child;S;){if(S===s){y=!0,s=g,c=f;break}if(S===c){y=!0,c=g,s=f;break}S=S.sibling}if(!y)throw Error(ce(189))}}if(s.alternate!==c)throw Error(ce(190))}if(s.tag!==3)throw Error(ce(188));return s.stateNode.current===s?e:n}function Qd(e){return e=Bg(e),e!==null?Kd(e):null}function Kd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Kd(e);if(n!==null)return n;e=e.sibling}return null}var qd=ii.unstable_scheduleCallback,nf=ii.unstable_cancelCallback,Fg=ii.unstable_shouldYield,zg=ii.unstable_requestPaint,Gt=ii.unstable_now,Ug=ii.unstable_getCurrentPriorityLevel,Vc=ii.unstable_ImmediatePriority,Jd=ii.unstable_UserBlockingPriority,fl=ii.unstable_NormalPriority,Hg=ii.unstable_LowPriority,$d=ii.unstable_IdlePriority,Bl=null,Ji=null;function jg(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(Bl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:Zg,Vg=Math.log,Wg=Math.LN2;function Zg(e){return e>>>=0,e===0?32:31-(Vg(e)/Wg|0)|0}var Fa=64,za=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes,y=s&268435455;if(y!==0){var S=y&~f;S!==0?c=Vs(S):(g&=y,g!==0&&(c=Vs(g)))}else y=s&~f,y!==0?c=Vs(y):g!==0&&(c=Vs(g));if(c===0)return 0;if(n!==0&&n!==c&&!(n&f)&&(f=c&-c,g=n&-n,f>=g||f===16&&(g&4194240)!==0))return n;if(c&4&&(c|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)s=31-Pi(n),f=1<<s,c|=e[s],n&=~f;return c}function Gg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yg(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes;0<g;){var y=31-Pi(g),S=1<<y,I=f[y];I===-1?(!(S&s)||S&c)&&(f[y]=Gg(S,n)):I<=n&&(e.expiredLanes|=S),g&=~S}}function $u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e1(){var e=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),e}function pu(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _a(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pi(n),e[n]=s}function Xg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<s;){var f=31-Pi(s),g=1<<f;n[f]=0,c[f]=-1,e[f]=-1,s&=~g}}function Wc(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-Pi(s),f=1<<c;f&n|e[c]&n&&(e[c]|=n),s&=~f}}var pt=0;function t1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n1,Zc,i1,r1,o1,ec=!1,Ua=[],Hr=null,jr=null,Vr=null,ia=new Map,ra=new Map,Br=[],Qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(e,n){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ia.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(n.pointerId)}}function Ps(e,n,s,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},n!==null&&(n=wa(n),n!==null&&Zc(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Kg(e,n,s,c,f){switch(n){case"focusin":return Hr=Ps(Hr,e,n,s,c,f),!0;case"dragenter":return jr=Ps(jr,e,n,s,c,f),!0;case"mouseover":return Vr=Ps(Vr,e,n,s,c,f),!0;case"pointerover":var g=f.pointerId;return ia.set(g,Ps(ia.get(g)||null,e,n,s,c,f)),!0;case"gotpointercapture":return g=f.pointerId,ra.set(g,Ps(ra.get(g)||null,e,n,s,c,f)),!0}return!1}function s1(e){var n=mo(e.target);if(n!==null){var s=To(n);if(s!==null){if(n=s.tag,n===13){if(n=Xd(s),n!==null){e.blockedOn=n,o1(e.priority,function(){i1(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $a(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=tc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);Qu=c,s.target.dispatchEvent(c),Qu=null}else return n=wa(s),n!==null&&Zc(n),e.blockedOn=s,!1;n.shift()}return!0}function of(e,n,s){$a(e)&&s.delete(n)}function qg(){ec=!1,Hr!==null&&$a(Hr)&&(Hr=null),jr!==null&&$a(jr)&&(jr=null),Vr!==null&&$a(Vr)&&(Vr=null),ia.forEach(of),ra.forEach(of)}function ks(e,n){e.blockedOn===n&&(e.blockedOn=null,ec||(ec=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,qg)))}function oa(e){function n(f){return ks(f,e)}if(0<Ua.length){ks(Ua[0],e);for(var s=1;s<Ua.length;s++){var c=Ua[s];c.blockedOn===e&&(c.blockedOn=null)}}for(Hr!==null&&ks(Hr,e),jr!==null&&ks(jr,e),Vr!==null&&ks(Vr,e),ia.forEach(n),ra.forEach(n),s=0;s<Br.length;s++)c=Br[s],c.blockedOn===e&&(c.blockedOn=null);for(;0<Br.length&&(s=Br[0],s.blockedOn===null);)s1(s),s.blockedOn===null&&Br.shift()}var ts=vr.ReactCurrentBatchConfig,gl=!0;function Jg(e,n,s,c){var f=pt,g=ts.transition;ts.transition=null;try{pt=1,Gc(e,n,s,c)}finally{pt=f,ts.transition=g}}function $g(e,n,s,c){var f=pt,g=ts.transition;ts.transition=null;try{pt=4,Gc(e,n,s,c)}finally{pt=f,ts.transition=g}}function Gc(e,n,s,c){if(gl){var f=tc(e,n,s,c);if(f===null)Su(e,n,c,pl,s),rf(e,c);else if(Kg(f,e,n,s,c))c.stopPropagation();else if(rf(e,c),n&4&&-1<Qg.indexOf(e)){for(;f!==null;){var g=wa(f);if(g!==null&&n1(g),g=tc(e,n,s,c),g===null&&Su(e,n,c,pl,s),g===f)break;f=g}f!==null&&c.stopPropagation()}else Su(e,n,c,null,s)}}var pl=null;function tc(e,n,s,c){if(pl=null,e=jc(c),e=mo(e),e!==null)if(n=To(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Xd(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return pl=e,null}function a1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ug()){case Vc:return 1;case Jd:return 4;case fl:case Hg:return 16;case $d:return 536870912;default:return 16}default:return 16}}var zr=null,Yc=null,el=null;function l1(){if(el)return el;var e,n=Yc,s=n.length,c,f="value"in zr?zr.value:zr.textContent,g=f.length;for(e=0;e<s&&n[e]===f[e];e++);var y=s-e;for(c=1;c<=y&&n[s-c]===f[g-c];c++);return el=f.slice(e,1<c?1-c:void 0)}function tl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ha(){return!0}function sf(){return!1}function oi(e){function n(s,c,f,g,y){this._reactName=s,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ha:sf,this.isPropagationStopped=sf,this}return zt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),n}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=oi(fs),ya=zt({},fs,{view:0,detail:0}),ep=oi(ya),mu,xu,Bs,Fl=zt({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(mu=e.screenX-Bs.screenX,xu=e.screenY-Bs.screenY):xu=mu=0,Bs=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:xu}}),af=oi(Fl),tp=zt({},Fl,{dataTransfer:0}),np=oi(tp),ip=zt({},ya,{relatedTarget:0}),_u=oi(ip),rp=zt({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),op=oi(rp),sp=zt({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ap=oi(sp),lp=zt({},fs,{data:0}),lf=oi(lp),up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hp[e])?!!n[e]:!1}function Qc(){return fp}var dp=zt({},ya,{key:function(e){if(e.key){var n=up[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(e){return e.type==="keypress"?tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gp=oi(dp),pp=zt({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=oi(pp),mp=zt({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),xp=oi(mp),_p=zt({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),yp=oi(_p),wp=zt({},Fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vp=oi(wp),Cp=[9,13,27,32],Kc=xr&&"CompositionEvent"in window,Ys=null;xr&&"documentMode"in document&&(Ys=document.documentMode);var Ep=xr&&"TextEvent"in window&&!Ys,u1=xr&&(!Kc||Ys&&8<Ys&&11>=Ys),cf=" ",hf=!1;function c1(e,n){switch(e){case"keyup":return Cp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ho=!1;function Ap(e,n){switch(e){case"compositionend":return h1(n);case"keypress":return n.which!==32?null:(hf=!0,cf);case"textInput":return e=n.data,e===cf&&hf?null:e;default:return null}}function Sp(e,n){if(Ho)return e==="compositionend"||!Kc&&c1(e,n)?(e=l1(),el=Yc=zr=null,Ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return u1&&n.locale!=="ko"?null:n.data;default:return null}}var Ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ip[e.type]:n==="textarea"}function f1(e,n,s,c){Vd(c),n=ml(n,"onChange"),0<n.length&&(s=new Xc("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var Xs=null,sa=null;function Tp(e){E1(e,0)}function zl(e){var n=Wo(e);if(kd(n))return e}function Np(e,n){if(e==="change")return n}var d1=!1;if(xr){var yu;if(xr){var wu="oninput"in document;if(!wu){var df=document.createElement("div");df.setAttribute("oninput","return;"),wu=typeof df.oninput=="function"}yu=wu}else yu=!1;d1=yu&&(!document.documentMode||9<document.documentMode)}function gf(){Xs&&(Xs.detachEvent("onpropertychange",g1),sa=Xs=null)}function g1(e){if(e.propertyName==="value"&&zl(sa)){var n=[];f1(n,sa,e,jc(e)),Yd(Tp,n)}}function Mp(e,n,s){e==="focusin"?(gf(),Xs=n,sa=s,Xs.attachEvent("onpropertychange",g1)):e==="focusout"&&gf()}function Op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(sa)}function bp(e,n){if(e==="click")return zl(n)}function Lp(e,n){if(e==="input"||e==="change")return zl(n)}function Dp(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bi=typeof Object.is=="function"?Object.is:Dp;function aa(e,n){if(Bi(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var f=s[c];if(!Bu.call(n,f)||!Bi(e[f],n[f]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mf(e,n){var s=pf(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pf(s)}}function p1(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?p1(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function m1(){for(var e=window,n=ul();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ul(e.document)}return n}function qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Rp(e){var n=m1(),s=e.focusedElem,c=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&p1(s.ownerDocument.documentElement,s)){if(c!==null&&qc(s)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var f=s.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!e.extend&&g>c&&(f=c,c=g,g=f),f=mf(s,g);var y=mf(s,c);f&&y&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),e.removeAllRanges(),g>c?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pp=xr&&"documentMode"in document&&11>=document.documentMode,jo=null,nc=null,Qs=null,ic=!1;function xf(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ic||jo==null||jo!==ul(c)||(c=jo,"selectionStart"in c&&qc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qs&&aa(Qs,c)||(Qs=c,c=ml(nc,"onSelect"),0<c.length&&(n=new Xc("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=jo)))}function ja(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Vo={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},vu={},x1={};xr&&(x1=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Ul(e){if(vu[e])return vu[e];if(!Vo[e])return e;var n=Vo[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in x1)return vu[e]=n[s];return e}var _1=Ul("animationend"),y1=Ul("animationiteration"),w1=Ul("animationstart"),v1=Ul("transitionend"),C1=new Map,_f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,n){C1.set(e,n),Io(n,[e])}for(var Cu=0;Cu<_f.length;Cu++){var Eu=_f[Cu],kp=Eu.toLowerCase(),Bp=Eu[0].toUpperCase()+Eu.slice(1);Jr(kp,"on"+Bp)}Jr(_1,"onAnimationEnd");Jr(y1,"onAnimationIteration");Jr(w1,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(v1,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function yf(e,n,s){var c=e.type||"unknown-event";e.currentTarget=s,kg(c,n,void 0,e),e.currentTarget=null}function E1(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],f=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var y=c.length-1;0<=y;y--){var S=c[y],I=S.instance,w=S.currentTarget;if(S=S.listener,I!==g&&f.isPropagationStopped())break e;yf(f,S,w),g=I}else for(y=0;y<c.length;y++){if(S=c[y],I=S.instance,w=S.currentTarget,S=S.listener,I!==g&&f.isPropagationStopped())break e;yf(f,S,w),g=I}}}if(hl)throw e=Ju,hl=!1,Ju=null,e}function Mt(e,n){var s=n[lc];s===void 0&&(s=n[lc]=new Set);var c=e+"__bubble";s.has(c)||(A1(n,e,2,!1),s.add(c))}function Au(e,n,s){var c=0;n&&(c|=4),A1(s,e,c,n)}var Va="_reactListening"+Math.random().toString(36).slice(2);function la(e){if(!e[Va]){e[Va]=!0,bd.forEach(function(s){s!=="selectionchange"&&(Fp.has(s)||Au(s,!1,e),Au(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Va]||(n[Va]=!0,Au("selectionchange",!1,n))}}function A1(e,n,s,c){switch(a1(n)){case 1:var f=Jg;break;case 4:f=$g;break;default:f=Gc}s=f.bind(null,n,s,e),f=void 0,!qu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function Su(e,n,s,c,f){var g=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(y===4)for(y=c.return;y!==null;){var I=y.tag;if((I===3||I===4)&&(I=y.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;y=y.return}for(;S!==null;){if(y=mo(S),y===null)return;if(I=y.tag,I===5||I===6){c=g=y;continue e}S=S.parentNode}}c=c.return}Yd(function(){var w=g,D=jc(s),O=[];e:{var U=C1.get(e);if(U!==void 0){var q=Xc,te=e;switch(e){case"keypress":if(tl(s)===0)break e;case"keydown":case"keyup":q=gp;break;case"focusin":te="focus",q=_u;break;case"focusout":te="blur",q=_u;break;case"beforeblur":case"afterblur":q=_u;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=xp;break;case _1:case y1:case w1:q=op;break;case v1:q=yp;break;case"scroll":q=ep;break;case"wheel":q=vp;break;case"copy":case"cut":case"paste":q=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=uf}var X=(n&4)!==0,Se=!X&&e==="scroll",z=X?U!==null?U+"Capture":null:U;X=[];for(var R=w,k;R!==null;){k=R;var Q=k.stateNode;if(k.tag===5&&Q!==null&&(k=Q,z!==null&&(Q=na(R,z),Q!=null&&X.push(ua(R,Q,k)))),Se)break;R=R.return}0<X.length&&(U=new q(U,te,null,s,D),O.push({event:U,listeners:X}))}}if(!(n&7)){e:{if(U=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",U&&s!==Qu&&(te=s.relatedTarget||s.fromElement)&&(mo(te)||te[_r]))break e;if((q||U)&&(U=D.window===D?D:(U=D.ownerDocument)?U.defaultView||U.parentWindow:window,q?(te=s.relatedTarget||s.toElement,q=w,te=te?mo(te):null,te!==null&&(Se=To(te),te!==Se||te.tag!==5&&te.tag!==6)&&(te=null)):(q=null,te=w),q!==te)){if(X=af,Q="onMouseLeave",z="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(X=uf,Q="onPointerLeave",z="onPointerEnter",R="pointer"),Se=q==null?U:Wo(q),k=te==null?U:Wo(te),U=new X(Q,R+"leave",q,s,D),U.target=Se,U.relatedTarget=k,Q=null,mo(D)===w&&(X=new X(z,R+"enter",te,s,D),X.target=k,X.relatedTarget=Se,Q=X),Se=Q,q&&te)t:{for(X=q,z=te,R=0,k=X;k;k=Bo(k))R++;for(k=0,Q=z;Q;Q=Bo(Q))k++;for(;0<R-k;)X=Bo(X),R--;for(;0<k-R;)z=Bo(z),k--;for(;R--;){if(X===z||z!==null&&X===z.alternate)break t;X=Bo(X),z=Bo(z)}X=null}else X=null;q!==null&&wf(O,U,q,X,!1),te!==null&&Se!==null&&wf(O,Se,te,X,!0)}}e:{if(U=w?Wo(w):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var ge=Np;else if(ff(U))if(d1)ge=Lp;else{ge=Op;var le=Mp}else(q=U.nodeName)&&q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ge=bp);if(ge&&(ge=ge(e,w))){f1(O,ge,s,D);break e}le&&le(e,U,w),e==="focusout"&&(le=U._wrapperState)&&le.controlled&&U.type==="number"&&Wu(U,"number",U.value)}switch(le=w?Wo(w):window,e){case"focusin":(ff(le)||le.contentEditable==="true")&&(jo=le,nc=w,Qs=null);break;case"focusout":Qs=nc=jo=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,xf(O,s,D);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":xf(O,s,D)}var G;if(Kc)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Ho?c1(e,s)&&(he="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(he="onCompositionStart");he&&(u1&&s.locale!=="ko"&&(Ho||he!=="onCompositionStart"?he==="onCompositionEnd"&&Ho&&(G=l1()):(zr=D,Yc="value"in zr?zr.value:zr.textContent,Ho=!0)),le=ml(w,he),0<le.length&&(he=new lf(he,e,null,s,D),O.push({event:he,listeners:le}),G?he.data=G:(G=h1(s),G!==null&&(he.data=G)))),(G=Ep?Ap(e,s):Sp(e,s))&&(w=ml(w,"onBeforeInput"),0<w.length&&(D=new lf("onBeforeInput","beforeinput",null,s,D),O.push({event:D,listeners:w}),D.data=G))}E1(O,n)})}function ua(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ml(e,n){for(var s=n+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=na(e,s),g!=null&&c.unshift(ua(e,g,f)),g=na(e,n),g!=null&&c.push(ua(e,g,f))),e=e.return}return c}function Bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,n,s,c,f){for(var g=n._reactName,y=[];s!==null&&s!==c;){var S=s,I=S.alternate,w=S.stateNode;if(I!==null&&I===c)break;S.tag===5&&w!==null&&(S=w,f?(I=na(s,g),I!=null&&y.unshift(ua(s,I,S))):f||(I=na(s,g),I!=null&&y.push(ua(s,I,S)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var zp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(zp,`
`).replace(Up,"")}function Wa(e,n,s){if(n=vf(n),vf(e)!==n&&s)throw Error(ce(425))}function xl(){}var rc=null,oc=null;function sc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(e){return Cf.resolve(null).then(e).catch(Vp)}:ac;function Vp(e){setTimeout(function(){throw e})}function Iu(e,n){var s=n,c=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(c===0){e.removeChild(f),oa(n);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=f}while(s);oa(n)}function Wr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ef(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),qi="__reactFiber$"+ds,ca="__reactProps$"+ds,_r="__reactContainer$"+ds,lc="__reactEvents$"+ds,Wp="__reactListeners$"+ds,Zp="__reactHandles$"+ds;function mo(e){var n=e[qi];if(n)return n;for(var s=e.parentNode;s;){if(n=s[_r]||s[qi]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ef(e);e!==null;){if(s=e[qi])return s;e=Ef(e)}return n}e=s,s=e.parentNode}return null}function wa(e){return e=e[qi]||e[_r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Hl(e){return e[ca]||null}var uc=[],Zo=-1;function $r(e){return{current:e}}function bt(e){0>Zo||(e.current=uc[Zo],uc[Zo]=null,Zo--)}function St(e,n){Zo++,uc[Zo]=e.current,e.current=n}var Kr={},In=$r(Kr),Vn=$r(!1),vo=Kr;function os(e,n){var s=e.type.contextTypes;if(!s)return Kr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in s)f[g]=n[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=f),f}function Wn(e){return e=e.childContextTypes,e!=null}function _l(){bt(Vn),bt(In)}function Af(e,n,s){if(In.current!==Kr)throw Error(ce(168));St(In,n),St(Vn,s)}function S1(e,n,s){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var f in c)if(!(f in n))throw Error(ce(108,Mg(e)||"Unknown",f));return zt({},s,c)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,vo=In.current,St(In,e),St(Vn,Vn.current),!0}function Sf(e,n,s){var c=e.stateNode;if(!c)throw Error(ce(169));s?(e=S1(e,n,vo),c.__reactInternalMemoizedMergedChildContext=e,bt(Vn),bt(In),St(In,e)):bt(Vn),St(Vn,s)}var fr=null,jl=!1,Tu=!1;function I1(e){fr===null?fr=[e]:fr.push(e)}function Gp(e){jl=!0,I1(e)}function eo(){if(!Tu&&fr!==null){Tu=!0;var e=0,n=pt;try{var s=fr;for(pt=1;e<s.length;e++){var c=s[e];do c=c(!0);while(c!==null)}fr=null,jl=!1}catch(f){throw fr!==null&&(fr=fr.slice(e+1)),qd(Vc,eo),f}finally{pt=n,Tu=!1}}return null}var Go=[],Yo=0,wl=null,vl=0,mi=[],xi=0,Co=null,dr=1,gr="";function go(e,n){Go[Yo++]=vl,Go[Yo++]=wl,wl=e,vl=n}function T1(e,n,s){mi[xi++]=dr,mi[xi++]=gr,mi[xi++]=Co,Co=e;var c=dr;e=gr;var f=32-Pi(c)-1;c&=~(1<<f),s+=1;var g=32-Pi(n)+f;if(30<g){var y=f-f%5;g=(c&(1<<y)-1).toString(32),c>>=y,f-=y,dr=1<<32-Pi(n)+f|s<<f|c,gr=g+e}else dr=1<<g|s<<f|c,gr=e}function Jc(e){e.return!==null&&(go(e,1),T1(e,1,0))}function $c(e){for(;e===wl;)wl=Go[--Yo],Go[Yo]=null,vl=Go[--Yo],Go[Yo]=null;for(;e===Co;)Co=mi[--xi],mi[xi]=null,gr=mi[--xi],mi[xi]=null,dr=mi[--xi],mi[xi]=null}var ni=null,ti=null,Dt=!1,Ri=null;function N1(e,n){var s=_i(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function If(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ni=e,ti=Wr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ni=e,ti=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Co!==null?{id:dr,overflow:gr}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=_i(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,ni=e,ti=null,!0):!1;default:return!1}}function cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hc(e){if(Dt){var n=ti;if(n){var s=n;if(!If(e,n)){if(cc(e))throw Error(ce(418));n=Wr(s.nextSibling);var c=ni;n&&If(e,n)?N1(c,s):(e.flags=e.flags&-4097|2,Dt=!1,ni=e)}}else{if(cc(e))throw Error(ce(418));e.flags=e.flags&-4097|2,Dt=!1,ni=e}}}function Tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ni=e}function Za(e){if(e!==ni)return!1;if(!Dt)return Tf(e),Dt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!sc(e.type,e.memoizedProps)),n&&(n=ti)){if(cc(e))throw M1(),Error(ce(418));for(;n;)N1(e,n),n=Wr(n.nextSibling)}if(Tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){ti=Wr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}ti=null}}else ti=ni?Wr(e.stateNode.nextSibling):null;return!0}function M1(){for(var e=ti;e;)e=Wr(e.nextSibling)}function ss(){ti=ni=null,Dt=!1}function eh(e){Ri===null?Ri=[e]:Ri.push(e)}var Yp=vr.ReactCurrentBatchConfig;function bi(e,n){if(e&&e.defaultProps){n=zt({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}var Cl=$r(null),El=null,Xo=null,th=null;function nh(){th=Xo=El=null}function ih(e){var n=Cl.current;bt(Cl),e._currentValue=n}function fc(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function ns(e,n){El=e,th=Xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(jn=!0),e.firstContext=null)}function wi(e){var n=e._currentValue;if(th!==e)if(e={context:e,memoizedValue:n,next:null},Xo===null){if(El===null)throw Error(ce(308));Xo=e,El.dependencies={lanes:0,firstContext:e}}else Xo=Xo.next=e;return n}var xo=null;function rh(e){xo===null?xo=[e]:xo.push(e)}function O1(e,n,s,c){var f=n.interleaved;return f===null?(s.next=s,rh(n)):(s.next=f.next,f.next=s),n.interleaved=s,yr(e,c)}function yr(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var kr=!1;function oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Zr(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,st&2){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,yr(e,s)}return f=c.interleaved,f===null?(n.next=n,rh(c)):(n.next=f.next,f.next=n),c.interleaved=n,yr(e,s)}function nl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Wc(e,s)}}function Nf(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?f=g=y:g=g.next=y,s=s.next}while(s!==null);g===null?f=g=n:g=g.next=n}else f=g=n;s={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Al(e,n,s,c){var f=e.updateQueue;kr=!1;var g=f.firstBaseUpdate,y=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,w=I.next;I.next=null,y===null?g=w:y.next=w,y=I;var D=e.alternate;D!==null&&(D=D.updateQueue,S=D.lastBaseUpdate,S!==y&&(S===null?D.firstBaseUpdate=w:S.next=w,D.lastBaseUpdate=I))}if(g!==null){var O=f.baseState;y=0,D=w=I=null,S=g;do{var U=S.lane,q=S.eventTime;if((c&U)===U){D!==null&&(D=D.next={eventTime:q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var te=e,X=S;switch(U=n,q=s,X.tag){case 1:if(te=X.payload,typeof te=="function"){O=te.call(q,O,U);break e}O=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=X.payload,U=typeof te=="function"?te.call(q,O,U):te,U==null)break e;O=zt({},O,U);break e;case 2:kr=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,U=f.effects,U===null?f.effects=[S]:U.push(S))}else q={eventTime:q,lane:U,tag:S.tag,payload:S.payload,callback:S.callback,next:null},D===null?(w=D=q,I=O):D=D.next=q,y|=U;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;U=S,S=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(D===null&&(I=O),f.baseState=I,f.firstBaseUpdate=w,f.lastBaseUpdate=D,n=f.shared.interleaved,n!==null){f=n;do y|=f.lane,f=f.next;while(f!==n)}else g===null&&(f.shared.lanes=0);Ao|=y,e.lanes=y,e.memoizedState=O}}function Mf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],f=c.callback;if(f!==null){if(c.callback=null,c=s,typeof f!="function")throw Error(ce(191,f));f.call(c)}}}var L1=new Od.Component().refs;function dc(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:zt({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vl={isMounted:function(e){return(e=e._reactInternals)?To(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var c=Pn(),f=Yr(e),g=mr(c,f);g.payload=n,s!=null&&(g.callback=s),n=Zr(e,g,f),n!==null&&(ki(n,e,f,c),nl(n,e,f))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=Pn(),f=Yr(e),g=mr(c,f);g.tag=1,g.payload=n,s!=null&&(g.callback=s),n=Zr(e,g,f),n!==null&&(ki(n,e,f,c),nl(n,e,f))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Pn(),c=Yr(e),f=mr(s,c);f.tag=2,n!=null&&(f.callback=n),n=Zr(e,f,c),n!==null&&(ki(n,e,c,s),nl(n,e,c))}};function Of(e,n,s,c,f,g,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,y):n.prototype&&n.prototype.isPureReactComponent?!aa(s,c)||!aa(f,g):!0}function D1(e,n,s){var c=!1,f=Kr,g=n.contextType;return typeof g=="object"&&g!==null?g=wi(g):(f=Wn(n)?vo:In.current,c=n.contextTypes,g=(c=c!=null)?os(e,f):Kr),n=new n(s,g),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vl,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=g),n}function bf(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&Vl.enqueueReplaceState(n,n.state,null)}function gc(e,n,s,c){var f=e.stateNode;f.props=s,f.state=e.memoizedState,f.refs=L1,oh(e);var g=n.contextType;typeof g=="object"&&g!==null?f.context=wi(g):(g=Wn(n)?vo:In.current,f.context=os(e,g)),f.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(dc(e,n,g,s),f.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&Vl.enqueueReplaceState(f,f.state,null),Al(e,s,f,c),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ce(309));var c=s.stateNode}if(!c)throw Error(ce(147,e));var f=c,g=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(y){var S=f.refs;S===L1&&(S=f.refs={}),y===null?delete S[g]:S[g]=y},n._stringRef=g,n)}if(typeof e!="string")throw Error(ce(284));if(!s._owner)throw Error(ce(290,e))}return e}function Ga(e,n){throw e=Object.prototype.toString.call(n),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Lf(e){var n=e._init;return n(e._payload)}function R1(e){function n(z,R){if(e){var k=z.deletions;k===null?(z.deletions=[R],z.flags|=16):k.push(R)}}function s(z,R){if(!e)return null;for(;R!==null;)n(z,R),R=R.sibling;return null}function c(z,R){for(z=new Map;R!==null;)R.key!==null?z.set(R.key,R):z.set(R.index,R),R=R.sibling;return z}function f(z,R){return z=Xr(z,R),z.index=0,z.sibling=null,z}function g(z,R,k){return z.index=k,e?(k=z.alternate,k!==null?(k=k.index,k<R?(z.flags|=2,R):k):(z.flags|=2,R)):(z.flags|=1048576,R)}function y(z){return e&&z.alternate===null&&(z.flags|=2),z}function S(z,R,k,Q){return R===null||R.tag!==6?(R=Ru(k,z.mode,Q),R.return=z,R):(R=f(R,k),R.return=z,R)}function I(z,R,k,Q){var ge=k.type;return ge===Uo?D(z,R,k.props.children,Q,k.key):R!==null&&(R.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Pr&&Lf(ge)===R.type)?(Q=f(R,k.props),Q.ref=Fs(z,R,k),Q.return=z,Q):(Q=ll(k.type,k.key,k.props,null,z.mode,Q),Q.ref=Fs(z,R,k),Q.return=z,Q)}function w(z,R,k,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=Pu(k,z.mode,Q),R.return=z,R):(R=f(R,k.children||[]),R.return=z,R)}function D(z,R,k,Q,ge){return R===null||R.tag!==7?(R=wo(k,z.mode,Q,ge),R.return=z,R):(R=f(R,k),R.return=z,R)}function O(z,R,k){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Ru(""+R,z.mode,k),R.return=z,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Pa:return k=ll(R.type,R.key,R.props,null,z.mode,k),k.ref=Fs(z,null,R),k.return=z,k;case zo:return R=Pu(R,z.mode,k),R.return=z,R;case Pr:var Q=R._init;return O(z,Q(R._payload),k)}if(js(R)||Ds(R))return R=wo(R,z.mode,k,null),R.return=z,R;Ga(z,R)}return null}function U(z,R,k,Q){var ge=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return ge!==null?null:S(z,R,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Pa:return k.key===ge?I(z,R,k,Q):null;case zo:return k.key===ge?w(z,R,k,Q):null;case Pr:return ge=k._init,U(z,R,ge(k._payload),Q)}if(js(k)||Ds(k))return ge!==null?null:D(z,R,k,Q,null);Ga(z,k)}return null}function q(z,R,k,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return z=z.get(k)||null,S(R,z,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Pa:return z=z.get(Q.key===null?k:Q.key)||null,I(R,z,Q,ge);case zo:return z=z.get(Q.key===null?k:Q.key)||null,w(R,z,Q,ge);case Pr:var le=Q._init;return q(z,R,k,le(Q._payload),ge)}if(js(Q)||Ds(Q))return z=z.get(k)||null,D(R,z,Q,ge,null);Ga(R,Q)}return null}function te(z,R,k,Q){for(var ge=null,le=null,G=R,he=R=0,J=null;G!==null&&he<k.length;he++){G.index>he?(J=G,G=null):J=G.sibling;var Be=U(z,G,k[he],Q);if(Be===null){G===null&&(G=J);break}e&&G&&Be.alternate===null&&n(z,G),R=g(Be,R,he),le===null?ge=Be:le.sibling=Be,le=Be,G=J}if(he===k.length)return s(z,G),Dt&&go(z,he),ge;if(G===null){for(;he<k.length;he++)G=O(z,k[he],Q),G!==null&&(R=g(G,R,he),le===null?ge=G:le.sibling=G,le=G);return Dt&&go(z,he),ge}for(G=c(z,G);he<k.length;he++)J=q(G,z,he,k[he],Q),J!==null&&(e&&J.alternate!==null&&G.delete(J.key===null?he:J.key),R=g(J,R,he),le===null?ge=J:le.sibling=J,le=J);return e&&G.forEach(function(He){return n(z,He)}),Dt&&go(z,he),ge}function X(z,R,k,Q){var ge=Ds(k);if(typeof ge!="function")throw Error(ce(150));if(k=ge.call(k),k==null)throw Error(ce(151));for(var le=ge=null,G=R,he=R=0,J=null,Be=k.next();G!==null&&!Be.done;he++,Be=k.next()){G.index>he?(J=G,G=null):J=G.sibling;var He=U(z,G,Be.value,Q);if(He===null){G===null&&(G=J);break}e&&G&&He.alternate===null&&n(z,G),R=g(He,R,he),le===null?ge=He:le.sibling=He,le=He,G=J}if(Be.done)return s(z,G),Dt&&go(z,he),ge;if(G===null){for(;!Be.done;he++,Be=k.next())Be=O(z,Be.value,Q),Be!==null&&(R=g(Be,R,he),le===null?ge=Be:le.sibling=Be,le=Be);return Dt&&go(z,he),ge}for(G=c(z,G);!Be.done;he++,Be=k.next())Be=q(G,z,he,Be.value,Q),Be!==null&&(e&&Be.alternate!==null&&G.delete(Be.key===null?he:Be.key),R=g(Be,R,he),le===null?ge=Be:le.sibling=Be,le=Be);return e&&G.forEach(function(ye){return n(z,ye)}),Dt&&go(z,he),ge}function Se(z,R,k,Q){if(typeof k=="object"&&k!==null&&k.type===Uo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Pa:e:{for(var ge=k.key,le=R;le!==null;){if(le.key===ge){if(ge=k.type,ge===Uo){if(le.tag===7){s(z,le.sibling),R=f(le,k.props.children),R.return=z,z=R;break e}}else if(le.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Pr&&Lf(ge)===le.type){s(z,le.sibling),R=f(le,k.props),R.ref=Fs(z,le,k),R.return=z,z=R;break e}s(z,le);break}else n(z,le);le=le.sibling}k.type===Uo?(R=wo(k.props.children,z.mode,Q,k.key),R.return=z,z=R):(Q=ll(k.type,k.key,k.props,null,z.mode,Q),Q.ref=Fs(z,R,k),Q.return=z,z=Q)}return y(z);case zo:e:{for(le=k.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){s(z,R.sibling),R=f(R,k.children||[]),R.return=z,z=R;break e}else{s(z,R);break}else n(z,R);R=R.sibling}R=Pu(k,z.mode,Q),R.return=z,z=R}return y(z);case Pr:return le=k._init,Se(z,R,le(k._payload),Q)}if(js(k))return te(z,R,k,Q);if(Ds(k))return X(z,R,k,Q);Ga(z,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,R!==null&&R.tag===6?(s(z,R.sibling),R=f(R,k),R.return=z,z=R):(s(z,R),R=Ru(k,z.mode,Q),R.return=z,z=R),y(z)):s(z,R)}return Se}var as=R1(!0),P1=R1(!1),va={},$i=$r(va),ha=$r(va),fa=$r(va);function _o(e){if(e===va)throw Error(ce(174));return e}function sh(e,n){switch(St(fa,n),St(ha,e),St($i,va),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Gu(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Gu(n,e)}bt($i),St($i,n)}function ls(){bt($i),bt(ha),bt(fa)}function k1(e){_o(fa.current);var n=_o($i.current),s=Gu(n,e.type);n!==s&&(St(ha,e),St($i,s))}function ah(e){ha.current===e&&(bt($i),bt(ha))}var Bt=$r(0);function Sl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Nu=[];function lh(){for(var e=0;e<Nu.length;e++)Nu[e]._workInProgressVersionPrimary=null;Nu.length=0}var il=vr.ReactCurrentDispatcher,Mu=vr.ReactCurrentBatchConfig,Eo=0,Ft=null,on=null,gn=null,Il=!1,Ks=!1,da=0,Xp=0;function En(){throw Error(ce(321))}function uh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Bi(e[s],n[s]))return!1;return!0}function ch(e,n,s,c,f,g){if(Eo=g,Ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,il.current=e===null||e.memoizedState===null?Jp:$p,e=s(c,f),Ks){g=0;do{if(Ks=!1,da=0,25<=g)throw Error(ce(301));g+=1,gn=on=null,n.updateQueue=null,il.current=em,e=s(c,f)}while(Ks)}if(il.current=Tl,n=on!==null&&on.next!==null,Eo=0,gn=on=Ft=null,Il=!1,n)throw Error(ce(300));return e}function hh(){var e=da!==0;return da=0,e}function Qi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Ft.memoizedState=gn=e:gn=gn.next=e,gn}function vi(){if(on===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=on.next;var n=gn===null?Ft.memoizedState:gn.next;if(n!==null)gn=n,on=e;else{if(e===null)throw Error(ce(310));on=e,e={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},gn===null?Ft.memoizedState=gn=e:gn=gn.next=e}return gn}function ga(e,n){return typeof n=="function"?n(e):n}function Ou(e){var n=vi(),s=n.queue;if(s===null)throw Error(ce(311));s.lastRenderedReducer=e;var c=on,f=c.baseQueue,g=s.pending;if(g!==null){if(f!==null){var y=f.next;f.next=g.next,g.next=y}c.baseQueue=f=g,s.pending=null}if(f!==null){g=f.next,c=c.baseState;var S=y=null,I=null,w=g;do{var D=w.lane;if((Eo&D)===D)I!==null&&(I=I.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),c=w.hasEagerState?w.eagerState:e(c,w.action);else{var O={lane:D,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};I===null?(S=I=O,y=c):I=I.next=O,Ft.lanes|=D,Ao|=D}w=w.next}while(w!==null&&w!==g);I===null?y=c:I.next=S,Bi(c,n.memoizedState)||(jn=!0),n.memoizedState=c,n.baseState=y,n.baseQueue=I,s.lastRenderedState=c}if(e=s.interleaved,e!==null){f=e;do g=f.lane,Ft.lanes|=g,Ao|=g,f=f.next;while(f!==e)}else f===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function bu(e){var n=vi(),s=n.queue;if(s===null)throw Error(ce(311));s.lastRenderedReducer=e;var c=s.dispatch,f=s.pending,g=n.memoizedState;if(f!==null){s.pending=null;var y=f=f.next;do g=e(g,y.action),y=y.next;while(y!==f);Bi(g,n.memoizedState)||(jn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function B1(){}function F1(e,n){var s=Ft,c=vi(),f=n(),g=!Bi(c.memoizedState,f);if(g&&(c.memoizedState=f,jn=!0),c=c.queue,fh(H1.bind(null,s,c,e),[e]),c.getSnapshot!==n||g||gn!==null&&gn.memoizedState.tag&1){if(s.flags|=2048,pa(9,U1.bind(null,s,c,f,n),void 0,null),pn===null)throw Error(ce(349));Eo&30||z1(s,n,f)}return f}function z1(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ft.updateQueue,n===null?(n={lastEffect:null,stores:null},Ft.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function U1(e,n,s,c){n.value=s,n.getSnapshot=c,j1(n)&&V1(e)}function H1(e,n,s){return s(function(){j1(n)&&V1(e)})}function j1(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Bi(e,s)}catch{return!0}}function V1(e){var n=yr(e,1);n!==null&&ki(n,e,1,-1)}function Df(e){var n=Qi();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},n.queue=e,e=e.dispatch=qp.bind(null,Ft,e),[n.memoizedState,e]}function pa(e,n,s,c){return e={tag:e,create:n,destroy:s,deps:c,next:null},n=Ft.updateQueue,n===null?(n={lastEffect:null,stores:null},Ft.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e)),e}function W1(){return vi().memoizedState}function rl(e,n,s,c){var f=Qi();Ft.flags|=e,f.memoizedState=pa(1|n,s,void 0,c===void 0?null:c)}function Wl(e,n,s,c){var f=vi();c=c===void 0?null:c;var g=void 0;if(on!==null){var y=on.memoizedState;if(g=y.destroy,c!==null&&uh(c,y.deps)){f.memoizedState=pa(n,s,g,c);return}}Ft.flags|=e,f.memoizedState=pa(1|n,s,g,c)}function Rf(e,n){return rl(8390656,8,e,n)}function fh(e,n){return Wl(2048,8,e,n)}function Z1(e,n){return Wl(4,2,e,n)}function G1(e,n){return Wl(4,4,e,n)}function Y1(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function X1(e,n,s){return s=s!=null?s.concat([e]):null,Wl(4,4,Y1.bind(null,n,e),s)}function dh(){}function Q1(e,n){var s=vi();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&uh(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function K1(e,n){var s=vi();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&uh(n,c[1])?c[0]:(e=e(),s.memoizedState=[e,n],e)}function q1(e,n,s){return Eo&21?(Bi(s,n)||(s=e1(),Ft.lanes|=s,Ao|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=s)}function Qp(e,n){var s=pt;pt=s!==0&&4>s?s:4,e(!0);var c=Mu.transition;Mu.transition={};try{e(!1),n()}finally{pt=s,Mu.transition=c}}function J1(){return vi().memoizedState}function Kp(e,n,s){var c=Yr(e);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},$1(e))e0(n,s);else if(s=O1(e,n,s,c),s!==null){var f=Pn();ki(s,e,c,f),t0(s,n,c)}}function qp(e,n,s){var c=Yr(e),f={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if($1(e))e0(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var y=n.lastRenderedState,S=g(y,s);if(f.hasEagerState=!0,f.eagerState=S,Bi(S,y)){var I=n.interleaved;I===null?(f.next=f,rh(n)):(f.next=I.next,I.next=f),n.interleaved=f;return}}catch{}finally{}s=O1(e,n,f,c),s!==null&&(f=Pn(),ki(s,e,c,f),t0(s,n,c))}}function $1(e){var n=e.alternate;return e===Ft||n!==null&&n===Ft}function e0(e,n){Ks=Il=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function t0(e,n,s){if(s&4194240){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Wc(e,s)}}var Tl={readContext:wi,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},Jp={readContext:wi,useCallback:function(e,n){return Qi().memoizedState=[e,n===void 0?null:n],e},useContext:wi,useEffect:Rf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,rl(4194308,4,Y1.bind(null,n,e),s)},useLayoutEffect:function(e,n){return rl(4194308,4,e,n)},useInsertionEffect:function(e,n){return rl(4,2,e,n)},useMemo:function(e,n){var s=Qi();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var c=Qi();return n=s!==void 0?s(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=Kp.bind(null,Ft,e),[c.memoizedState,e]},useRef:function(e){var n=Qi();return e={current:e},n.memoizedState=e},useState:Df,useDebugValue:dh,useDeferredValue:function(e){return Qi().memoizedState=e},useTransition:function(){var e=Df(!1),n=e[0];return e=Qp.bind(null,e[1]),Qi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var c=Ft,f=Qi();if(Dt){if(s===void 0)throw Error(ce(407));s=s()}else{if(s=n(),pn===null)throw Error(ce(349));Eo&30||z1(c,n,s)}f.memoizedState=s;var g={value:s,getSnapshot:n};return f.queue=g,Rf(H1.bind(null,c,g,e),[e]),c.flags|=2048,pa(9,U1.bind(null,c,g,s,n),void 0,null),s},useId:function(){var e=Qi(),n=pn.identifierPrefix;if(Dt){var s=gr,c=dr;s=(c&~(1<<32-Pi(c)-1)).toString(32)+s,n=":"+n+"R"+s,s=da++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Xp++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},$p={readContext:wi,useCallback:Q1,useContext:wi,useEffect:fh,useImperativeHandle:X1,useInsertionEffect:Z1,useLayoutEffect:G1,useMemo:K1,useReducer:Ou,useRef:W1,useState:function(){return Ou(ga)},useDebugValue:dh,useDeferredValue:function(e){var n=vi();return q1(n,on.memoizedState,e)},useTransition:function(){var e=Ou(ga)[0],n=vi().memoizedState;return[e,n]},useMutableSource:B1,useSyncExternalStore:F1,useId:J1,unstable_isNewReconciler:!1},em={readContext:wi,useCallback:Q1,useContext:wi,useEffect:fh,useImperativeHandle:X1,useInsertionEffect:Z1,useLayoutEffect:G1,useMemo:K1,useReducer:bu,useRef:W1,useState:function(){return bu(ga)},useDebugValue:dh,useDeferredValue:function(e){var n=vi();return on===null?n.memoizedState=e:q1(n,on.memoizedState,e)},useTransition:function(){var e=bu(ga)[0],n=vi().memoizedState;return[e,n]},useMutableSource:B1,useSyncExternalStore:F1,useId:J1,unstable_isNewReconciler:!1};function us(e,n){try{var s="",c=n;do s+=Ng(c),c=c.return;while(c);var f=s}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:n,stack:f,digest:null}}function Lu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function pc(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var tm=typeof WeakMap=="function"?WeakMap:Map;function n0(e,n,s){s=mr(-1,s),s.tag=3,s.payload={element:null};var c=n.value;return s.callback=function(){Ml||(Ml=!0,Sc=c),pc(e,n)},s}function i0(e,n,s){s=mr(-1,s),s.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var f=n.value;s.payload=function(){return c(f)},s.callback=function(){pc(e,n)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){pc(e,n),typeof c!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),s}function Pf(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new tm;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(s)||(f.add(s),e=pm.bind(null,e,n,s),n.then(e,e))}function kf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Bf(e,n,s,c,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=mr(-1,1),n.tag=2,Zr(s,n,1))),s.lanes|=1),e)}var nm=vr.ReactCurrentOwner,jn=!1;function Rn(e,n,s,c){n.child=e===null?P1(n,null,s,c):as(n,e.child,s,c)}function Ff(e,n,s,c,f){s=s.render;var g=n.ref;return ns(n,f),c=ch(e,n,s,c,g,f),s=hh(),e!==null&&!jn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,wr(e,n,f)):(Dt&&s&&Jc(n),n.flags|=1,Rn(e,n,c,f),n.child)}function zf(e,n,s,c,f){if(e===null){var g=s.type;return typeof g=="function"&&!vh(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=g,r0(e,n,g,c,f)):(e=ll(s.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!(e.lanes&f)){var y=g.memoizedProps;if(s=s.compare,s=s!==null?s:aa,s(y,c)&&e.ref===n.ref)return wr(e,n,f)}return n.flags|=1,e=Xr(g,c),e.ref=n.ref,e.return=n,n.child=e}function r0(e,n,s,c,f){if(e!==null){var g=e.memoizedProps;if(aa(g,c)&&e.ref===n.ref)if(jn=!1,n.pendingProps=c=g,(e.lanes&f)!==0)e.flags&131072&&(jn=!0);else return n.lanes=e.lanes,wr(e,n,f)}return mc(e,n,s,c,f)}function o0(e,n,s){var c=n.pendingProps,f=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Ko,$n),$n|=s;else{if(!(s&1073741824))return e=g!==null?g.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,St(Ko,$n),$n|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:s,St(Ko,$n),$n|=c}else g!==null?(c=g.baseLanes|s,n.memoizedState=null):c=s,St(Ko,$n),$n|=c;return Rn(e,n,f,s),n.child}function s0(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function mc(e,n,s,c,f){var g=Wn(s)?vo:In.current;return g=os(n,g),ns(n,f),s=ch(e,n,s,c,g,f),c=hh(),e!==null&&!jn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,wr(e,n,f)):(Dt&&c&&Jc(n),n.flags|=1,Rn(e,n,s,f),n.child)}function Uf(e,n,s,c,f){if(Wn(s)){var g=!0;yl(n)}else g=!1;if(ns(n,f),n.stateNode===null)ol(e,n),D1(n,s,c),gc(n,s,c,f),c=!0;else if(e===null){var y=n.stateNode,S=n.memoizedProps;y.props=S;var I=y.context,w=s.contextType;typeof w=="object"&&w!==null?w=wi(w):(w=Wn(s)?vo:In.current,w=os(n,w));var D=s.getDerivedStateFromProps,O=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function";O||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==c||I!==w)&&bf(n,y,c,w),kr=!1;var U=n.memoizedState;y.state=U,Al(n,c,y,f),I=n.memoizedState,S!==c||U!==I||Vn.current||kr?(typeof D=="function"&&(dc(n,s,D,c),I=n.memoizedState),(S=kr||Of(n,s,S,c,U,I,w))?(O||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=I),y.props=c,y.state=I,y.context=w,c=S):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{y=n.stateNode,b1(e,n),S=n.memoizedProps,w=n.type===n.elementType?S:bi(n.type,S),y.props=w,O=n.pendingProps,U=y.context,I=s.contextType,typeof I=="object"&&I!==null?I=wi(I):(I=Wn(s)?vo:In.current,I=os(n,I));var q=s.getDerivedStateFromProps;(D=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==O||U!==I)&&bf(n,y,c,I),kr=!1,U=n.memoizedState,y.state=U,Al(n,c,y,f);var te=n.memoizedState;S!==O||U!==te||Vn.current||kr?(typeof q=="function"&&(dc(n,s,q,c),te=n.memoizedState),(w=kr||Of(n,s,w,c,U,te,I)||!1)?(D||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,te,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,te,I)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=te),y.props=c,y.state=te,y.context=I,c=w):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),c=!1)}return xc(e,n,s,c,g,f)}function xc(e,n,s,c,f,g){s0(e,n);var y=(n.flags&128)!==0;if(!c&&!y)return f&&Sf(n,s,!1),wr(e,n,g);c=n.stateNode,nm.current=n;var S=y&&typeof s.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&y?(n.child=as(n,e.child,null,g),n.child=as(n,null,S,g)):Rn(e,n,S,g),n.memoizedState=c.state,f&&Sf(n,s,!0),n.child}function a0(e){var n=e.stateNode;n.pendingContext?Af(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Af(e,n.context,!1),sh(e,n.containerInfo)}function Hf(e,n,s,c,f){return ss(),eh(f),n.flags|=256,Rn(e,n,s,c),n.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function l0(e,n,s){var c=n.pendingProps,f=Bt.current,g=!1,y=(n.flags&128)!==0,S;if((S=y)||(S=e!==null&&e.memoizedState===null?!1:(f&2)!==0),S?(g=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),St(Bt,f&1),e===null)return hc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=c.children,e=c.fallback,g?(c=n.mode,g=n.child,y={mode:"hidden",children:y},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=y):g=Yl(y,c,0,null),e=wo(e,c,s,null),g.return=n,e.return=n,g.sibling=e,n.child=g,n.child.memoizedState=yc(s),n.memoizedState=_c,e):gh(n,y));if(f=e.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return im(e,n,y,c,S,f,s);if(g){g=c.fallback,y=n.mode,f=e.child,S=f.sibling;var I={mode:"hidden",children:c.children};return!(y&1)&&n.child!==f?(c=n.child,c.childLanes=0,c.pendingProps=I,n.deletions=null):(c=Xr(f,I),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?g=Xr(S,g):(g=wo(g,y,s,null),g.flags|=2),g.return=n,c.return=n,c.sibling=g,n.child=c,c=g,g=n.child,y=e.child.memoizedState,y=y===null?yc(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},g.memoizedState=y,g.childLanes=e.childLanes&~s,n.memoizedState=_c,c}return g=e.child,e=g.sibling,c=Xr(g,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=s),c.return=n,c.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=c,n.memoizedState=null,c}function gh(e,n){return n=Yl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ya(e,n,s,c){return c!==null&&eh(c),as(n,e.child,null,s),e=gh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function im(e,n,s,c,f,g,y){if(s)return n.flags&256?(n.flags&=-257,c=Lu(Error(ce(422))),Ya(e,n,y,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(g=c.fallback,f=n.mode,c=Yl({mode:"visible",children:c.children},f,0,null),g=wo(g,f,y,null),g.flags|=2,c.return=n,g.return=n,c.sibling=g,n.child=c,n.mode&1&&as(n,e.child,null,y),n.child.memoizedState=yc(y),n.memoizedState=_c,g);if(!(n.mode&1))return Ya(e,n,y,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,g=Error(ce(419)),c=Lu(g,c,void 0),Ya(e,n,y,c)}if(S=(y&e.childLanes)!==0,jn||S){if(c=pn,c!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|y)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,yr(e,f),ki(c,e,f,-1))}return wh(),c=Lu(Error(ce(421))),Ya(e,n,y,c)}return f.data==="$?"?(n.flags|=128,n.child=e.child,n=mm.bind(null,e),f._reactRetry=n,null):(e=g.treeContext,ti=Wr(f.nextSibling),ni=n,Dt=!0,Ri=null,e!==null&&(mi[xi++]=dr,mi[xi++]=gr,mi[xi++]=Co,dr=e.id,gr=e.overflow,Co=n),n=gh(n,c.children),n.flags|=4096,n)}function jf(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),fc(e.return,n,s)}function Du(e,n,s,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=f)}function u0(e,n,s){var c=n.pendingProps,f=c.revealOrder,g=c.tail;if(Rn(e,n,c.children,s),c=Bt.current,c&2)c=c&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jf(e,s,n);else if(e.tag===19)jf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(St(Bt,c),!(n.mode&1))n.memoizedState=null;else switch(f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Sl(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Du(n,!1,f,s,g);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Sl(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Du(n,!0,s,null,g);break;case"together":Du(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ol(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function wr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ao|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ce(153));if(n.child!==null){for(e=n.child,s=Xr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Xr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function rm(e,n,s){switch(n.tag){case 3:a0(n),ss();break;case 5:k1(n);break;case 1:Wn(n.type)&&yl(n);break;case 4:sh(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,f=n.memoizedProps.value;St(Cl,c._currentValue),c._currentValue=f;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(St(Bt,Bt.current&1),n.flags|=128,null):s&n.child.childLanes?l0(e,n,s):(St(Bt,Bt.current&1),e=wr(e,n,s),e!==null?e.sibling:null);St(Bt,Bt.current&1);break;case 19:if(c=(s&n.childLanes)!==0,e.flags&128){if(c)return u0(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),St(Bt,Bt.current),c)break;return null;case 22:case 23:return n.lanes=0,o0(e,n,s)}return wr(e,n,s)}var c0,wc,h0,f0;c0=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};wc=function(){};h0=function(e,n,s,c){var f=e.memoizedProps;if(f!==c){e=n.stateNode,_o($i.current);var g=null;switch(s){case"input":f=ju(e,f),c=ju(e,c),g=[];break;case"select":f=zt({},f,{value:void 0}),c=zt({},c,{value:void 0}),g=[];break;case"textarea":f=Zu(e,f),c=Zu(e,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=xl)}Yu(s,c);var y;s=null;for(w in f)if(!c.hasOwnProperty(w)&&f.hasOwnProperty(w)&&f[w]!=null)if(w==="style"){var S=f[w];for(y in S)S.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(ea.hasOwnProperty(w)?g||(g=[]):(g=g||[]).push(w,null));for(w in c){var I=c[w];if(S=f!=null?f[w]:void 0,c.hasOwnProperty(w)&&I!==S&&(I!=null||S!=null))if(w==="style")if(S){for(y in S)!S.hasOwnProperty(y)||I&&I.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in I)I.hasOwnProperty(y)&&S[y]!==I[y]&&(s||(s={}),s[y]=I[y])}else s||(g||(g=[]),g.push(w,s)),s=I;else w==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,S=S?S.__html:void 0,I!=null&&S!==I&&(g=g||[]).push(w,I)):w==="children"?typeof I!="string"&&typeof I!="number"||(g=g||[]).push(w,""+I):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(ea.hasOwnProperty(w)?(I!=null&&w==="onScroll"&&Mt("scroll",e),g||S===I||(g=[])):(g=g||[]).push(w,I))}s&&(g=g||[]).push("style",s);var w=g;(n.updateQueue=w)&&(n.flags|=4)}};f0=function(e,n,s,c){s!==c&&(n.flags|=4)};function zs(e,n){if(!Dt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function An(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function om(e,n,s){var c=n.pendingProps;switch($c(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(n),null;case 1:return Wn(n.type)&&_l(),An(n),null;case 3:return c=n.stateNode,ls(),bt(Vn),bt(In),lh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Za(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ri!==null&&(Nc(Ri),Ri=null))),wc(e,n),An(n),null;case 5:ah(n);var f=_o(fa.current);if(s=n.type,e!==null&&n.stateNode!=null)h0(e,n,s,c,f),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(ce(166));return An(n),null}if(e=_o($i.current),Za(n)){c=n.stateNode,s=n.type;var g=n.memoizedProps;switch(c[qi]=n,c[ca]=g,e=(n.mode&1)!==0,s){case"dialog":Mt("cancel",c),Mt("close",c);break;case"iframe":case"object":case"embed":Mt("load",c);break;case"video":case"audio":for(f=0;f<Ws.length;f++)Mt(Ws[f],c);break;case"source":Mt("error",c);break;case"img":case"image":case"link":Mt("error",c),Mt("load",c);break;case"details":Mt("toggle",c);break;case"input":Kh(c,g),Mt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Mt("invalid",c);break;case"textarea":Jh(c,g),Mt("invalid",c)}Yu(s,g),f=null;for(var y in g)if(g.hasOwnProperty(y)){var S=g[y];y==="children"?typeof S=="string"?c.textContent!==S&&(g.suppressHydrationWarning!==!0&&Wa(c.textContent,S,e),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&Wa(c.textContent,S,e),f=["children",""+S]):ea.hasOwnProperty(y)&&S!=null&&y==="onScroll"&&Mt("scroll",c)}switch(s){case"input":ka(c),qh(c,g,!0);break;case"textarea":ka(c),$h(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=xl)}c=f,n.updateQueue=c,c!==null&&(n.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zd(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=y.createElement(s,{is:c.is}):(e=y.createElement(s),s==="select"&&(y=e,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):e=y.createElementNS(e,s),e[qi]=n,e[ca]=c,c0(e,n,!1,!1),n.stateNode=e;e:{switch(y=Xu(s,c),s){case"dialog":Mt("cancel",e),Mt("close",e),f=c;break;case"iframe":case"object":case"embed":Mt("load",e),f=c;break;case"video":case"audio":for(f=0;f<Ws.length;f++)Mt(Ws[f],e);f=c;break;case"source":Mt("error",e),f=c;break;case"img":case"image":case"link":Mt("error",e),Mt("load",e),f=c;break;case"details":Mt("toggle",e),f=c;break;case"input":Kh(e,c),f=ju(e,c),Mt("invalid",e);break;case"option":f=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},f=zt({},c,{value:void 0}),Mt("invalid",e);break;case"textarea":Jh(e,c),f=Zu(e,c),Mt("invalid",e);break;default:f=c}Yu(s,f),S=f;for(g in S)if(S.hasOwnProperty(g)){var I=S[g];g==="style"?jd(e,I):g==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Ud(e,I)):g==="children"?typeof I=="string"?(s!=="textarea"||I!=="")&&ta(e,I):typeof I=="number"&&ta(e,""+I):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea.hasOwnProperty(g)?I!=null&&g==="onScroll"&&Mt("scroll",e):I!=null&&Fc(e,g,I,y))}switch(s){case"input":ka(e),qh(e,c,!1);break;case"textarea":ka(e),$h(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Qr(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?Jo(e,!!c.multiple,g,!1):c.defaultValue!=null&&Jo(e,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=xl)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return An(n),null;case 6:if(e&&n.stateNode!=null)f0(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(ce(166));if(s=_o(fa.current),_o($i.current),Za(n)){if(c=n.stateNode,s=n.memoizedProps,c[qi]=n,(g=c.nodeValue!==s)&&(e=ni,e!==null))switch(e.tag){case 3:Wa(c.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wa(c.nodeValue,s,(e.mode&1)!==0)}g&&(n.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[qi]=n,n.stateNode=c}return An(n),null;case 13:if(bt(Bt),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&ti!==null&&n.mode&1&&!(n.flags&128))M1(),ss(),n.flags|=98560,g=!1;else if(g=Za(n),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(ce(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(ce(317));g[qi]=n}else ss(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;An(n),g=!1}else Ri!==null&&(Nc(Ri),Ri=null),g=!0;if(!g)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(e===null||Bt.current&1?sn===0&&(sn=3):wh())),n.updateQueue!==null&&(n.flags|=4),An(n),null);case 4:return ls(),wc(e,n),e===null&&la(n.stateNode.containerInfo),An(n),null;case 10:return ih(n.type._context),An(n),null;case 17:return Wn(n.type)&&_l(),An(n),null;case 19:if(bt(Bt),g=n.memoizedState,g===null)return An(n),null;if(c=(n.flags&128)!==0,y=g.rendering,y===null)if(c)zs(g,!1);else{if(sn!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Sl(e),y!==null){for(n.flags|=128,zs(g,!1),c=y.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=s,s=n.child;s!==null;)g=s,e=c,g.flags&=14680066,y=g.alternate,y===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=y.childLanes,g.lanes=y.lanes,g.child=y.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=y.memoizedProps,g.memoizedState=y.memoizedState,g.updateQueue=y.updateQueue,g.type=y.type,e=y.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return St(Bt,Bt.current&1|2),n.child}e=e.sibling}g.tail!==null&&Gt()>cs&&(n.flags|=128,c=!0,zs(g,!1),n.lanes=4194304)}else{if(!c)if(e=Sl(y),e!==null){if(n.flags|=128,c=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),zs(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Dt)return An(n),null}else 2*Gt()-g.renderingStartTime>cs&&s!==1073741824&&(n.flags|=128,c=!0,zs(g,!1),n.lanes=4194304);g.isBackwards?(y.sibling=n.child,n.child=y):(s=g.last,s!==null?s.sibling=y:n.child=y,g.last=y)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=Gt(),n.sibling=null,s=Bt.current,St(Bt,c?s&1|2:s&1),n):(An(n),null);case 22:case 23:return yh(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?$n&1073741824&&(An(n),n.subtreeFlags&6&&(n.flags|=8192)):An(n),null;case 24:return null;case 25:return null}throw Error(ce(156,n.tag))}function sm(e,n){switch($c(n),n.tag){case 1:return Wn(n.type)&&_l(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ls(),bt(Vn),bt(In),lh(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ah(n),null;case 13:if(bt(Bt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ce(340));ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return bt(Bt),null;case 4:return ls(),null;case 10:return ih(n.type._context),null;case 22:case 23:return yh(),null;case 24:return null;default:return null}}var Xa=!1,Sn=!1,am=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Qo(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){Vt(e,n,c)}else s.current=null}function vc(e,n,s){try{s()}catch(c){Vt(e,n,c)}}var Vf=!1;function lm(e,n){if(rc=gl,e=m1(),qc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var y=0,S=-1,I=-1,w=0,D=0,O=e,U=null;t:for(;;){for(var q;O!==s||f!==0&&O.nodeType!==3||(S=y+f),O!==g||c!==0&&O.nodeType!==3||(I=y+c),O.nodeType===3&&(y+=O.nodeValue.length),(q=O.firstChild)!==null;)U=O,O=q;for(;;){if(O===e)break t;if(U===s&&++w===f&&(S=y),U===g&&++D===c&&(I=y),(q=O.nextSibling)!==null)break;O=U,U=O.parentNode}O=q}s=S===-1||I===-1?null:{start:S,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(oc={focusedElem:e,selectionRange:s},gl=!1,Ce=n;Ce!==null;)if(n=Ce,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ce=e;else for(;Ce!==null;){n=Ce;try{var te=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var X=te.memoizedProps,Se=te.memoizedState,z=n.stateNode,R=z.getSnapshotBeforeUpdate(n.elementType===n.type?X:bi(n.type,X),Se);z.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(Q){Vt(n,n.return,Q)}if(e=n.sibling,e!==null){e.return=n.return,Ce=e;break}Ce=n.return}return te=Vf,Vf=!1,te}function qs(e,n,s){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&e)===e){var g=f.destroy;f.destroy=void 0,g!==void 0&&vc(n,s,g)}f=f.next}while(f!==c)}}function Zl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var c=s.create;s.destroy=c()}s=s.next}while(s!==n)}}function Cc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function d0(e){var n=e.alternate;n!==null&&(e.alternate=null,d0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[qi],delete n[ca],delete n[lc],delete n[Wp],delete n[Zp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g0(e){return e.tag===5||e.tag===3||e.tag===4}function Wf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=xl));else if(c!==4&&(e=e.child,e!==null))for(Ec(e,n,s),e=e.sibling;e!==null;)Ec(e,n,s),e=e.sibling}function Ac(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Ac(e,n,s),e=e.sibling;e!==null;)Ac(e,n,s),e=e.sibling}var mn=null,Li=!1;function Dr(e,n,s){for(s=s.child;s!==null;)p0(e,n,s),s=s.sibling}function p0(e,n,s){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(Bl,s)}catch{}switch(s.tag){case 5:Sn||Qo(s,n);case 6:var c=mn,f=Li;mn=null,Dr(e,n,s),mn=c,Li=f,mn!==null&&(Li?(e=mn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):mn.removeChild(s.stateNode));break;case 18:mn!==null&&(Li?(e=mn,s=s.stateNode,e.nodeType===8?Iu(e.parentNode,s):e.nodeType===1&&Iu(e,s),oa(e)):Iu(mn,s.stateNode));break;case 4:c=mn,f=Li,mn=s.stateNode.containerInfo,Li=!0,Dr(e,n,s),mn=c,Li=f;break;case 0:case 11:case 14:case 15:if(!Sn&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,y=g.destroy;g=g.tag,y!==void 0&&(g&2||g&4)&&vc(s,n,y),f=f.next}while(f!==c)}Dr(e,n,s);break;case 1:if(!Sn&&(Qo(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(S){Vt(s,n,S)}Dr(e,n,s);break;case 21:Dr(e,n,s);break;case 22:s.mode&1?(Sn=(c=Sn)||s.memoizedState!==null,Dr(e,n,s),Sn=c):Dr(e,n,s);break;default:Dr(e,n,s)}}function Zf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new am),n.forEach(function(c){var f=xm.bind(null,e,c);s.has(c)||(s.add(c),c.then(f,f))})}}function Oi(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];try{var g=e,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 5:mn=S.stateNode,Li=!1;break e;case 3:mn=S.stateNode.containerInfo,Li=!0;break e;case 4:mn=S.stateNode.containerInfo,Li=!0;break e}S=S.return}if(mn===null)throw Error(ce(160));p0(g,y,f),mn=null,Li=!1;var I=f.alternate;I!==null&&(I.return=null),f.return=null}catch(w){Vt(f,n,w)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)m0(n,e),n=n.sibling}function m0(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oi(n,e),Xi(e),c&4){try{qs(3,e,e.return),Zl(3,e)}catch(X){Vt(e,e.return,X)}try{qs(5,e,e.return)}catch(X){Vt(e,e.return,X)}}break;case 1:Oi(n,e),Xi(e),c&512&&s!==null&&Qo(s,s.return);break;case 5:if(Oi(n,e),Xi(e),c&512&&s!==null&&Qo(s,s.return),e.flags&32){var f=e.stateNode;try{ta(f,"")}catch(X){Vt(e,e.return,X)}}if(c&4&&(f=e.stateNode,f!=null)){var g=e.memoizedProps,y=s!==null?s.memoizedProps:g,S=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&Bd(f,g),Xu(S,y);var w=Xu(S,g);for(y=0;y<I.length;y+=2){var D=I[y],O=I[y+1];D==="style"?jd(f,O):D==="dangerouslySetInnerHTML"?Ud(f,O):D==="children"?ta(f,O):Fc(f,D,O,w)}switch(S){case"input":Vu(f,g);break;case"textarea":Fd(f,g);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var q=g.value;q!=null?Jo(f,!!g.multiple,q,!1):U!==!!g.multiple&&(g.defaultValue!=null?Jo(f,!!g.multiple,g.defaultValue,!0):Jo(f,!!g.multiple,g.multiple?[]:"",!1))}f[ca]=g}catch(X){Vt(e,e.return,X)}}break;case 6:if(Oi(n,e),Xi(e),c&4){if(e.stateNode===null)throw Error(ce(162));f=e.stateNode,g=e.memoizedProps;try{f.nodeValue=g}catch(X){Vt(e,e.return,X)}}break;case 3:if(Oi(n,e),Xi(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{oa(n.containerInfo)}catch(X){Vt(e,e.return,X)}break;case 4:Oi(n,e),Xi(e);break;case 13:Oi(n,e),Xi(e),f=e.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(xh=Gt())),c&4&&Zf(e);break;case 22:if(D=s!==null&&s.memoizedState!==null,e.mode&1?(Sn=(w=Sn)||D,Oi(n,e),Sn=w):Oi(n,e),Xi(e),c&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!D&&e.mode&1)for(Ce=e,D=e.child;D!==null;){for(O=Ce=D;Ce!==null;){switch(U=Ce,q=U.child,U.tag){case 0:case 11:case 14:case 15:qs(4,U,U.return);break;case 1:Qo(U,U.return);var te=U.stateNode;if(typeof te.componentWillUnmount=="function"){c=U,s=U.return;try{n=c,te.props=n.memoizedProps,te.state=n.memoizedState,te.componentWillUnmount()}catch(X){Vt(c,s,X)}}break;case 5:Qo(U,U.return);break;case 22:if(U.memoizedState!==null){Yf(O);continue}}q!==null?(q.return=U,Ce=q):Yf(O)}D=D.sibling}e:for(D=null,O=e;;){if(O.tag===5){if(D===null){D=O;try{f=O.stateNode,w?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=O.stateNode,I=O.memoizedProps.style,y=I!=null&&I.hasOwnProperty("display")?I.display:null,S.style.display=Hd("display",y))}catch(X){Vt(e,e.return,X)}}}else if(O.tag===6){if(D===null)try{O.stateNode.nodeValue=w?"":O.memoizedProps}catch(X){Vt(e,e.return,X)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;D===O&&(D=null),O=O.return}D===O&&(D=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:Oi(n,e),Xi(e),c&4&&Zf(e);break;case 21:break;default:Oi(n,e),Xi(e)}}function Xi(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(g0(s)){var c=s;break e}s=s.return}throw Error(ce(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(ta(f,""),c.flags&=-33);var g=Wf(e);Ac(e,g,f);break;case 3:case 4:var y=c.stateNode.containerInfo,S=Wf(e);Ec(e,S,y);break;default:throw Error(ce(161))}}catch(I){Vt(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function um(e,n,s){Ce=e,x0(e)}function x0(e,n,s){for(var c=(e.mode&1)!==0;Ce!==null;){var f=Ce,g=f.child;if(f.tag===22&&c){var y=f.memoizedState!==null||Xa;if(!y){var S=f.alternate,I=S!==null&&S.memoizedState!==null||Sn;S=Xa;var w=Sn;if(Xa=y,(Sn=I)&&!w)for(Ce=f;Ce!==null;)y=Ce,I=y.child,y.tag===22&&y.memoizedState!==null?Xf(f):I!==null?(I.return=y,Ce=I):Xf(f);for(;g!==null;)Ce=g,x0(g),g=g.sibling;Ce=f,Xa=S,Sn=w}Gf(e)}else f.subtreeFlags&8772&&g!==null?(g.return=f,Ce=g):Gf(e)}}function Gf(e){for(;Ce!==null;){var n=Ce;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Sn||Zl(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Sn)if(s===null)c.componentDidMount();else{var f=n.elementType===n.type?s.memoizedProps:bi(n.type,s.memoizedProps);c.componentDidUpdate(f,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&Mf(n,g,c);break;case 3:var y=n.updateQueue;if(y!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Mf(n,y,s)}break;case 5:var S=n.stateNode;if(s===null&&n.flags&4){s=S;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&s.focus();break;case"img":I.src&&(s.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var w=n.alternate;if(w!==null){var D=w.memoizedState;if(D!==null){var O=D.dehydrated;O!==null&&oa(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Sn||n.flags&512&&Cc(n)}catch(U){Vt(n,n.return,U)}}if(n===e){Ce=null;break}if(s=n.sibling,s!==null){s.return=n.return,Ce=s;break}Ce=n.return}}function Yf(e){for(;Ce!==null;){var n=Ce;if(n===e){Ce=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Ce=s;break}Ce=n.return}}function Xf(e){for(;Ce!==null;){var n=Ce;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Zl(4,n)}catch(I){Vt(n,s,I)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var f=n.return;try{c.componentDidMount()}catch(I){Vt(n,f,I)}}var g=n.return;try{Cc(n)}catch(I){Vt(n,g,I)}break;case 5:var y=n.return;try{Cc(n)}catch(I){Vt(n,y,I)}}}catch(I){Vt(n,n.return,I)}if(n===e){Ce=null;break}var S=n.sibling;if(S!==null){S.return=n.return,Ce=S;break}Ce=n.return}}var cm=Math.ceil,Nl=vr.ReactCurrentDispatcher,ph=vr.ReactCurrentOwner,yi=vr.ReactCurrentBatchConfig,st=0,pn=null,Jt=null,xn=0,$n=0,Ko=$r(0),sn=0,ma=null,Ao=0,Gl=0,mh=0,Js=null,Hn=null,xh=0,cs=1/0,hr=null,Ml=!1,Sc=null,Gr=null,Qa=!1,Ur=null,Ol=0,$s=0,Ic=null,sl=-1,al=0;function Pn(){return st&6?Gt():sl!==-1?sl:sl=Gt()}function Yr(e){return e.mode&1?st&2&&xn!==0?xn&-xn:Yp.transition!==null?(al===0&&(al=e1()),al):(e=pt,e!==0||(e=window.event,e=e===void 0?16:a1(e.type)),e):1}function ki(e,n,s,c){if(50<$s)throw $s=0,Ic=null,Error(ce(185));_a(e,s,c),(!(st&2)||e!==pn)&&(e===pn&&(!(st&2)&&(Gl|=s),sn===4&&Fr(e,xn)),Zn(e,c),s===1&&st===0&&!(n.mode&1)&&(cs=Gt()+500,jl&&eo()))}function Zn(e,n){var s=e.callbackNode;Yg(e,n);var c=dl(e,e===pn?xn:0);if(c===0)s!==null&&nf(s),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(s!=null&&nf(s),n===1)e.tag===0?Gp(Qf.bind(null,e)):I1(Qf.bind(null,e)),jp(function(){!(st&6)&&eo()}),s=null;else{switch(t1(c)){case 1:s=Vc;break;case 4:s=Jd;break;case 16:s=fl;break;case 536870912:s=$d;break;default:s=fl}s=S0(s,_0.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function _0(e,n){if(sl=-1,al=0,st&6)throw Error(ce(327));var s=e.callbackNode;if(is()&&e.callbackNode!==s)return null;var c=dl(e,e===pn?xn:0);if(c===0)return null;if(c&30||c&e.expiredLanes||n)n=bl(e,c);else{n=c;var f=st;st|=2;var g=w0();(pn!==e||xn!==n)&&(hr=null,cs=Gt()+500,yo(e,n));do try{dm();break}catch(S){y0(e,S)}while(!0);nh(),Nl.current=g,st=f,Jt!==null?n=0:(pn=null,xn=0,n=sn)}if(n!==0){if(n===2&&(f=$u(e),f!==0&&(c=f,n=Tc(e,f))),n===1)throw s=ma,yo(e,0),Fr(e,c),Zn(e,Gt()),s;if(n===6)Fr(e,c);else{if(f=e.current.alternate,!(c&30)&&!hm(f)&&(n=bl(e,c),n===2&&(g=$u(e),g!==0&&(c=g,n=Tc(e,g))),n===1))throw s=ma,yo(e,0),Fr(e,c),Zn(e,Gt()),s;switch(e.finishedWork=f,e.finishedLanes=c,n){case 0:case 1:throw Error(ce(345));case 2:po(e,Hn,hr);break;case 3:if(Fr(e,c),(c&130023424)===c&&(n=xh+500-Gt(),10<n)){if(dl(e,0)!==0)break;if(f=e.suspendedLanes,(f&c)!==c){Pn(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=ac(po.bind(null,e,Hn,hr),n);break}po(e,Hn,hr);break;case 4:if(Fr(e,c),(c&4194240)===c)break;for(n=e.eventTimes,f=-1;0<c;){var y=31-Pi(c);g=1<<y,y=n[y],y>f&&(f=y),c&=~g}if(c=f,c=Gt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*cm(c/1960))-c,10<c){e.timeoutHandle=ac(po.bind(null,e,Hn,hr),c);break}po(e,Hn,hr);break;case 5:po(e,Hn,hr);break;default:throw Error(ce(329))}}}return Zn(e,Gt()),e.callbackNode===s?_0.bind(null,e):null}function Tc(e,n){var s=Js;return e.current.memoizedState.isDehydrated&&(yo(e,n).flags|=256),e=bl(e,n),e!==2&&(n=Hn,Hn=s,n!==null&&Nc(n)),e}function Nc(e){Hn===null?Hn=e:Hn.push.apply(Hn,e)}function hm(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var f=s[c],g=f.getSnapshot;f=f.value;try{if(!Bi(g(),f))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fr(e,n){for(n&=~mh,n&=~Gl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Pi(n),c=1<<s;e[s]=-1,n&=~c}}function Qf(e){if(st&6)throw Error(ce(327));is();var n=dl(e,0);if(!(n&1))return Zn(e,Gt()),null;var s=bl(e,n);if(e.tag!==0&&s===2){var c=$u(e);c!==0&&(n=c,s=Tc(e,c))}if(s===1)throw s=ma,yo(e,0),Fr(e,n),Zn(e,Gt()),s;if(s===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,po(e,Hn,hr),Zn(e,Gt()),null}function _h(e,n){var s=st;st|=1;try{return e(n)}finally{st=s,st===0&&(cs=Gt()+500,jl&&eo())}}function So(e){Ur!==null&&Ur.tag===0&&!(st&6)&&is();var n=st;st|=1;var s=yi.transition,c=pt;try{if(yi.transition=null,pt=1,e)return e()}finally{pt=c,yi.transition=s,st=n,!(st&6)&&eo()}}function yh(){$n=Ko.current,bt(Ko)}function yo(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Hp(s)),Jt!==null)for(s=Jt.return;s!==null;){var c=s;switch($c(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&_l();break;case 3:ls(),bt(Vn),bt(In),lh();break;case 5:ah(c);break;case 4:ls();break;case 13:bt(Bt);break;case 19:bt(Bt);break;case 10:ih(c.type._context);break;case 22:case 23:yh()}s=s.return}if(pn=e,Jt=e=Xr(e.current,null),xn=$n=n,sn=0,ma=null,mh=Gl=Ao=0,Hn=Js=null,xo!==null){for(n=0;n<xo.length;n++)if(s=xo[n],c=s.interleaved,c!==null){s.interleaved=null;var f=c.next,g=s.pending;if(g!==null){var y=g.next;g.next=f,c.next=y}s.pending=c}xo=null}return e}function y0(e,n){do{var s=Jt;try{if(nh(),il.current=Tl,Il){for(var c=Ft.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Il=!1}if(Eo=0,gn=on=Ft=null,Ks=!1,da=0,ph.current=null,s===null||s.return===null){sn=1,ma=n,Jt=null;break}e:{var g=e,y=s.return,S=s,I=n;if(n=xn,S.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var w=I,D=S,O=D.tag;if(!(D.mode&1)&&(O===0||O===11||O===15)){var U=D.alternate;U?(D.updateQueue=U.updateQueue,D.memoizedState=U.memoizedState,D.lanes=U.lanes):(D.updateQueue=null,D.memoizedState=null)}var q=kf(y);if(q!==null){q.flags&=-257,Bf(q,y,S,g,n),q.mode&1&&Pf(g,w,n),n=q,I=w;var te=n.updateQueue;if(te===null){var X=new Set;X.add(I),n.updateQueue=X}else te.add(I);break e}else{if(!(n&1)){Pf(g,w,n),wh();break e}I=Error(ce(426))}}else if(Dt&&S.mode&1){var Se=kf(y);if(Se!==null){!(Se.flags&65536)&&(Se.flags|=256),Bf(Se,y,S,g,n),eh(us(I,S));break e}}g=I=us(I,S),sn!==4&&(sn=2),Js===null?Js=[g]:Js.push(g),g=y;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var z=n0(g,I,n);Nf(g,z);break e;case 1:S=I;var R=g.type,k=g.stateNode;if(!(g.flags&128)&&(typeof R.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Gr===null||!Gr.has(k)))){g.flags|=65536,n&=-n,g.lanes|=n;var Q=i0(g,S,n);Nf(g,Q);break e}}g=g.return}while(g!==null)}C0(s)}catch(ge){n=ge,Jt===s&&s!==null&&(Jt=s=s.return);continue}break}while(!0)}function w0(){var e=Nl.current;return Nl.current=Tl,e===null?Tl:e}function wh(){(sn===0||sn===3||sn===2)&&(sn=4),pn===null||!(Ao&268435455)&&!(Gl&268435455)||Fr(pn,xn)}function bl(e,n){var s=st;st|=2;var c=w0();(pn!==e||xn!==n)&&(hr=null,yo(e,n));do try{fm();break}catch(f){y0(e,f)}while(!0);if(nh(),st=s,Nl.current=c,Jt!==null)throw Error(ce(261));return pn=null,xn=0,sn}function fm(){for(;Jt!==null;)v0(Jt)}function dm(){for(;Jt!==null&&!Fg();)v0(Jt)}function v0(e){var n=A0(e.alternate,e,$n);e.memoizedProps=e.pendingProps,n===null?C0(e):Jt=n,ph.current=null}function C0(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=sm(s,n),s!==null){s.flags&=32767,Jt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sn=6,Jt=null;return}}else if(s=om(s,n,$n),s!==null){Jt=s;return}if(n=n.sibling,n!==null){Jt=n;return}Jt=n=e}while(n!==null);sn===0&&(sn=5)}function po(e,n,s){var c=pt,f=yi.transition;try{yi.transition=null,pt=1,gm(e,n,s,c)}finally{yi.transition=f,pt=c}return null}function gm(e,n,s,c){do is();while(Ur!==null);if(st&6)throw Error(ce(327));s=e.finishedWork;var f=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var g=s.lanes|s.childLanes;if(Xg(e,g),e===pn&&(Jt=pn=null,xn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Qa||(Qa=!0,S0(fl,function(){return is(),null})),g=(s.flags&15990)!==0,s.subtreeFlags&15990||g){g=yi.transition,yi.transition=null;var y=pt;pt=1;var S=st;st|=4,ph.current=null,lm(e,s),m0(s,e),Rp(oc),gl=!!rc,oc=rc=null,e.current=s,um(s),zg(),st=S,pt=y,yi.transition=g}else e.current=s;if(Qa&&(Qa=!1,Ur=e,Ol=f),g=e.pendingLanes,g===0&&(Gr=null),jg(s.stateNode),Zn(e,Gt()),n!==null)for(c=e.onRecoverableError,s=0;s<n.length;s++)f=n[s],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ml)throw Ml=!1,e=Sc,Sc=null,e;return Ol&1&&e.tag!==0&&is(),g=e.pendingLanes,g&1?e===Ic?$s++:($s=0,Ic=e):$s=0,eo(),null}function is(){if(Ur!==null){var e=t1(Ol),n=yi.transition,s=pt;try{if(yi.transition=null,pt=16>e?16:e,Ur===null)var c=!1;else{if(e=Ur,Ur=null,Ol=0,st&6)throw Error(ce(331));var f=st;for(st|=4,Ce=e.current;Ce!==null;){var g=Ce,y=g.child;if(Ce.flags&16){var S=g.deletions;if(S!==null){for(var I=0;I<S.length;I++){var w=S[I];for(Ce=w;Ce!==null;){var D=Ce;switch(D.tag){case 0:case 11:case 15:qs(8,D,g)}var O=D.child;if(O!==null)O.return=D,Ce=O;else for(;Ce!==null;){D=Ce;var U=D.sibling,q=D.return;if(d0(D),D===w){Ce=null;break}if(U!==null){U.return=q,Ce=U;break}Ce=q}}}var te=g.alternate;if(te!==null){var X=te.child;if(X!==null){te.child=null;do{var Se=X.sibling;X.sibling=null,X=Se}while(X!==null)}}Ce=g}}if(g.subtreeFlags&2064&&y!==null)y.return=g,Ce=y;else e:for(;Ce!==null;){if(g=Ce,g.flags&2048)switch(g.tag){case 0:case 11:case 15:qs(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,Ce=z;break e}Ce=g.return}}var R=e.current;for(Ce=R;Ce!==null;){y=Ce;var k=y.child;if(y.subtreeFlags&2064&&k!==null)k.return=y,Ce=k;else e:for(y=R;Ce!==null;){if(S=Ce,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Zl(9,S)}}catch(ge){Vt(S,S.return,ge)}if(S===y){Ce=null;break e}var Q=S.sibling;if(Q!==null){Q.return=S.return,Ce=Q;break e}Ce=S.return}}if(st=f,eo(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(Bl,e)}catch{}c=!0}return c}finally{pt=s,yi.transition=n}}return!1}function Kf(e,n,s){n=us(s,n),n=n0(e,n,1),e=Zr(e,n,1),n=Pn(),e!==null&&(_a(e,1,n),Zn(e,n))}function Vt(e,n,s){if(e.tag===3)Kf(e,e,s);else for(;n!==null;){if(n.tag===3){Kf(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gr===null||!Gr.has(c))){e=us(s,e),e=i0(n,e,1),n=Zr(n,e,1),e=Pn(),n!==null&&(_a(n,1,e),Zn(n,e));break}}n=n.return}}function pm(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),n=Pn(),e.pingedLanes|=e.suspendedLanes&s,pn===e&&(xn&s)===s&&(sn===4||sn===3&&(xn&130023424)===xn&&500>Gt()-xh?yo(e,0):mh|=s),Zn(e,n)}function E0(e,n){n===0&&(e.mode&1?(n=za,za<<=1,!(za&130023424)&&(za=4194304)):n=1);var s=Pn();e=yr(e,n),e!==null&&(_a(e,n,s),Zn(e,s))}function mm(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),E0(e,s)}function xm(e,n){var s=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(ce(314))}c!==null&&c.delete(n),E0(e,s)}var A0;A0=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||Vn.current)jn=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return jn=!1,rm(e,n,s);jn=!!(e.flags&131072)}else jn=!1,Dt&&n.flags&1048576&&T1(n,vl,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;ol(e,n),e=n.pendingProps;var f=os(n,In.current);ns(n,s),f=ch(null,n,c,e,f,s);var g=hh();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Wn(c)?(g=!0,yl(n)):g=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,oh(n),f.updater=Vl,n.stateNode=f,f._reactInternals=n,gc(n,c,e,s),n=xc(null,n,c,!0,g,s)):(n.tag=0,Dt&&g&&Jc(n),Rn(null,n,f,s),n=n.child),n;case 16:c=n.elementType;e:{switch(ol(e,n),e=n.pendingProps,f=c._init,c=f(c._payload),n.type=c,f=n.tag=ym(c),e=bi(c,e),f){case 0:n=mc(null,n,c,e,s);break e;case 1:n=Uf(null,n,c,e,s);break e;case 11:n=Ff(null,n,c,e,s);break e;case 14:n=zf(null,n,c,bi(c.type,e),s);break e}throw Error(ce(306,c,""))}return n;case 0:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:bi(c,f),mc(e,n,c,f,s);case 1:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:bi(c,f),Uf(e,n,c,f,s);case 3:e:{if(a0(n),e===null)throw Error(ce(387));c=n.pendingProps,g=n.memoizedState,f=g.element,b1(e,n),Al(n,c,null,s);var y=n.memoizedState;if(c=y.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){f=us(Error(ce(423)),n),n=Hf(e,n,c,s,f);break e}else if(c!==f){f=us(Error(ce(424)),n),n=Hf(e,n,c,s,f);break e}else for(ti=Wr(n.stateNode.containerInfo.firstChild),ni=n,Dt=!0,Ri=null,s=P1(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ss(),c===f){n=wr(e,n,s);break e}Rn(e,n,c,s)}n=n.child}return n;case 5:return k1(n),e===null&&hc(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,y=f.children,sc(c,f)?y=null:g!==null&&sc(c,g)&&(n.flags|=32),s0(e,n),Rn(e,n,y,s),n.child;case 6:return e===null&&hc(n),null;case 13:return l0(e,n,s);case 4:return sh(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=as(n,null,c,s):Rn(e,n,c,s),n.child;case 11:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:bi(c,f),Ff(e,n,c,f,s);case 7:return Rn(e,n,n.pendingProps,s),n.child;case 8:return Rn(e,n,n.pendingProps.children,s),n.child;case 12:return Rn(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(c=n.type._context,f=n.pendingProps,g=n.memoizedProps,y=f.value,St(Cl,c._currentValue),c._currentValue=y,g!==null)if(Bi(g.value,y)){if(g.children===f.children&&!Vn.current){n=wr(e,n,s);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var S=g.dependencies;if(S!==null){y=g.child;for(var I=S.firstContext;I!==null;){if(I.context===c){if(g.tag===1){I=mr(-1,s&-s),I.tag=2;var w=g.updateQueue;if(w!==null){w=w.shared;var D=w.pending;D===null?I.next=I:(I.next=D.next,D.next=I),w.pending=I}}g.lanes|=s,I=g.alternate,I!==null&&(I.lanes|=s),fc(g.return,s,n),S.lanes|=s;break}I=I.next}}else if(g.tag===10)y=g.type===n.type?null:g.child;else if(g.tag===18){if(y=g.return,y===null)throw Error(ce(341));y.lanes|=s,S=y.alternate,S!==null&&(S.lanes|=s),fc(y,s,n),y=g.sibling}else y=g.child;if(y!==null)y.return=g;else for(y=g;y!==null;){if(y===n){y=null;break}if(g=y.sibling,g!==null){g.return=y.return,y=g;break}y=y.return}g=y}Rn(e,n,f.children,s),n=n.child}return n;case 9:return f=n.type,c=n.pendingProps.children,ns(n,s),f=wi(f),c=c(f),n.flags|=1,Rn(e,n,c,s),n.child;case 14:return c=n.type,f=bi(c,n.pendingProps),f=bi(c.type,f),zf(e,n,c,f,s);case 15:return r0(e,n,n.type,n.pendingProps,s);case 17:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:bi(c,f),ol(e,n),n.tag=1,Wn(c)?(e=!0,yl(n)):e=!1,ns(n,s),D1(n,c,f),gc(n,c,f,s),xc(null,n,c,!0,e,s);case 19:return u0(e,n,s);case 22:return o0(e,n,s)}throw Error(ce(156,n.tag))};function S0(e,n){return qd(e,n)}function _m(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(e,n,s,c){return new _m(e,n,s,c)}function vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ym(e){if(typeof e=="function")return vh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uc)return 11;if(e===Hc)return 14}return 2}function Xr(e,n){var s=e.alternate;return s===null?(s=_i(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ll(e,n,s,c,f,g){var y=2;if(c=e,typeof e=="function")vh(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Uo:return wo(s.children,f,g,n);case zc:y=8,f|=8;break;case Fu:return e=_i(12,s,n,f|2),e.elementType=Fu,e.lanes=g,e;case zu:return e=_i(13,s,n,f),e.elementType=zu,e.lanes=g,e;case Uu:return e=_i(19,s,n,f),e.elementType=Uu,e.lanes=g,e;case Rd:return Yl(s,f,g,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ld:y=10;break e;case Dd:y=9;break e;case Uc:y=11;break e;case Hc:y=14;break e;case Pr:y=16,c=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return n=_i(y,s,n,f),n.elementType=e,n.type=c,n.lanes=g,n}function wo(e,n,s,c){return e=_i(7,e,c,n),e.lanes=s,e}function Yl(e,n,s,c){return e=_i(22,e,c,n),e.elementType=Rd,e.lanes=s,e.stateNode={isHidden:!1},e}function Ru(e,n,s){return e=_i(6,e,null,n),e.lanes=s,e}function Pu(e,n,s){return n=_i(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function wm(e,n,s,c,f){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pu(0),this.expirationTimes=pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ch(e,n,s,c,f,g,y,S,I){return e=new wm(e,n,s,S,I),n===1?(n=1,g===!0&&(n|=8)):n=0,g=_i(3,null,null,n),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(g),e}function vm(e,n,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:c==null?null:""+c,children:e,containerInfo:n,implementation:s}}function I0(e){if(!e)return Kr;e=e._reactInternals;e:{if(To(e)!==e||e.tag!==1)throw Error(ce(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Wn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ce(171))}if(e.tag===1){var s=e.type;if(Wn(s))return S1(e,s,n)}return n}function T0(e,n,s,c,f,g,y,S,I){return e=Ch(s,c,!0,e,f,g,y,S,I),e.context=I0(null),s=e.current,c=Pn(),f=Yr(s),g=mr(c,f),g.callback=n??null,Zr(s,g,f),e.current.lanes=f,_a(e,f,c),Zn(e,c),e}function Xl(e,n,s,c){var f=n.current,g=Pn(),y=Yr(f);return s=I0(s),n.context===null?n.context=s:n.pendingContext=s,n=mr(g,y),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Zr(f,n,y),e!==null&&(ki(e,f,y,g),nl(e,f,y)),y}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Eh(e,n){qf(e,n),(e=e.alternate)&&qf(e,n)}function Cm(){return null}var N0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ah(e){this._internalRoot=e}Ql.prototype.render=Ah.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ce(409));Xl(e,n,null,null)};Ql.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;So(function(){Xl(null,e,null,null)}),n[_r]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var n=r1();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Br.length&&n!==0&&n<Br[s].priority;s++);Br.splice(s,0,e),s===0&&s1(e)}};function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jf(){}function Em(e,n,s,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var w=Ll(y);g.call(w)}}var y=T0(n,c,e,0,null,!1,!1,"",Jf);return e._reactRootContainer=y,e[_r]=y.current,la(e.nodeType===8?e.parentNode:e),So(),y}for(;f=e.lastChild;)e.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var w=Ll(I);S.call(w)}}var I=Ch(e,0,!1,null,null,!1,!1,"",Jf);return e._reactRootContainer=I,e[_r]=I.current,la(e.nodeType===8?e.parentNode:e),So(function(){Xl(n,I,s,c)}),I}function ql(e,n,s,c,f){var g=s._reactRootContainer;if(g){var y=g;if(typeof f=="function"){var S=f;f=function(){var I=Ll(y);S.call(I)}}Xl(n,y,e,f)}else y=Em(s,n,e,f,c);return Ll(y)}n1=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Vs(n.pendingLanes);s!==0&&(Wc(n,s|1),Zn(n,Gt()),!(st&6)&&(cs=Gt()+500,eo()))}break;case 13:So(function(){var c=yr(e,1);if(c!==null){var f=Pn();ki(c,e,1,f)}}),Eh(e,1)}};Zc=function(e){if(e.tag===13){var n=yr(e,134217728);if(n!==null){var s=Pn();ki(n,e,134217728,s)}Eh(e,134217728)}};i1=function(e){if(e.tag===13){var n=Yr(e),s=yr(e,n);if(s!==null){var c=Pn();ki(s,e,n,c)}Eh(e,n)}};r1=function(){return pt};o1=function(e,n){var s=pt;try{return pt=e,n()}finally{pt=s}};Ku=function(e,n,s){switch(n){case"input":if(Vu(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var f=Hl(c);if(!f)throw Error(ce(90));kd(c),Vu(c,f)}}}break;case"textarea":Fd(e,s);break;case"select":n=s.value,n!=null&&Jo(e,!!s.multiple,n,!1)}};Zd=_h;Gd=So;var Am={usingClientEntryPoint:!1,Events:[wa,Wo,Hl,Vd,Wd,_h]},Us={findFiberByHostInstance:mo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Sm={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qd(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Bl=Ka.inject(Sm),Ji=Ka}catch{}}ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am;ri.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(n))throw Error(ce(200));return vm(e,n,null,s)};ri.createRoot=function(e,n){if(!Sh(e))throw Error(ce(299));var s=!1,c="",f=N0;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=Ch(e,1,!1,null,null,s,!1,c,f),e[_r]=n.current,la(e.nodeType===8?e.parentNode:e),new Ah(n)};ri.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Qd(n),e=e===null?null:e.stateNode,e};ri.flushSync=function(e){return So(e)};ri.hydrate=function(e,n,s){if(!Kl(n))throw Error(ce(200));return ql(null,e,n,!0,s)};ri.hydrateRoot=function(e,n,s){if(!Sh(e))throw Error(ce(405));var c=s!=null&&s.hydratedSources||null,f=!1,g="",y=N0;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),n=T0(n,null,e,1,s??null,f,!1,g,y),e[_r]=n.current,la(e),c)for(e=0;e<c.length;e++)s=c[e],f=s._getVersion,f=f(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,f]:n.mutableSourceEagerHydrationData.push(s,f);return new Ql(n)};ri.render=function(e,n,s){if(!Kl(n))throw Error(ce(200));return ql(null,e,n,!1,s)};ri.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(ce(40));return e._reactRootContainer?(So(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[_r]=null})}),!0):!1};ri.unstable_batchedUpdates=_h;ri.unstable_renderSubtreeIntoContainer=function(e,n,s,c){if(!Kl(s))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return ql(e,n,s,!1,c)};ri.version="18.2.0-next-9e3b772b8-20220608";function M0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M0)}catch(e){console.error(e)}}M0(),Td.exports=ri;var Im=Td.exports,$f=Im;ku.createRoot=$f.createRoot,ku.hydrateRoot=$f.hydrateRoot;var O0={exports:{}},Tm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nm=Tm,Mm=Nm;function b0(){}function L0(){}L0.resetWarningCache=b0;var Om=function(){function e(c,f,g,y,S,I){if(I!==Mm){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}e.isRequired=e;function n(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:L0,resetWarningCache:b0};return s.PropTypes=s,s};O0.exports=Om();var bm=O0.exports;const Lm=Pl(bm),ed="/Mapa-UC/assets/elevatorLogo-30_jZ6Gw.png",Dm="/Mapa-UC/assets/emergencyExit-bK8ZRk4K.png";var Mc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(s,c){c(n)})(Fo,function(s){var c="1.9.4";function f(r){var u,p,_,C;for(p=1,_=arguments.length;p<_;p++){C=arguments[p];for(u in C)r[u]=C[u]}return r}var g=Object.create||function(){function r(){}return function(u){return r.prototype=u,new r}}();function y(r,u){var p=Array.prototype.slice;if(r.bind)return r.bind.apply(r,p.call(arguments,1));var _=p.call(arguments,2);return function(){return r.apply(u,_.length?_.concat(p.call(arguments)):arguments)}}var S=0;function I(r){return"_leaflet_id"in r||(r._leaflet_id=++S),r._leaflet_id}function w(r,u,p){var _,C,N,P;return P=function(){_=!1,C&&(N.apply(p,C),C=!1)},N=function(){_?C=arguments:(r.apply(p,arguments),setTimeout(P,u),_=!0)},N}function D(r,u,p){var _=u[1],C=u[0],N=_-C;return r===_&&p?r:((r-C)%N+N)%N+C}function O(){return!1}function U(r,u){if(u===!1)return r;var p=Math.pow(10,u===void 0?6:u);return Math.round(r*p)/p}function q(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function te(r){return q(r).split(/\s+/)}function X(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?g(r.options):{});for(var p in u)r.options[p]=u[p];return r.options}function Se(r,u,p){var _=[];for(var C in r)_.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(r[C]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function R(r,u){return r.replace(z,function(p,_){var C=u[_];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(u)),C})}var k=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Q(r,u){for(var p=0;p<r.length;p++)if(r[p]===u)return p;return-1}var ge="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function le(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var G=0;function he(r){var u=+new Date,p=Math.max(0,16-(u-G));return G=u+p,window.setTimeout(r,p)}var J=window.requestAnimationFrame||le("RequestAnimationFrame")||he,Be=window.cancelAnimationFrame||le("CancelAnimationFrame")||le("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function He(r,u,p){if(p&&J===he)r.call(u);else return J.call(window,y(r,u))}function ye(r){r&&Be.call(window,r)}var Ye={__proto__:null,extend:f,create:g,bind:y,get lastId(){return S},stamp:I,throttle:w,wrapNum:D,falseFn:O,formatNum:U,trim:q,splitWords:te,setOptions:X,getParamString:Se,template:R,isArray:k,indexOf:Q,emptyImageUrl:ge,requestFn:J,cancelFn:Be,requestAnimFrame:He,cancelAnimFrame:ye};function We(){}We.extend=function(r){var u=function(){X(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,_=g(p);_.constructor=u,u.prototype=_;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(u[C]=this[C]);return r.statics&&f(u,r.statics),r.includes&&(K(r.includes),f.apply(null,[_].concat(r.includes))),f(_,r),delete _.statics,delete _.includes,_.options&&(_.options=p.options?g(p.options):{},f(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,P=_._initHooks.length;N<P;N++)_._initHooks[N].call(this)}},u},We.include=function(r){var u=this.prototype.options;return f(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},We.mergeOptions=function(r){return f(this.prototype.options,r),this},We.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),p=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function K(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=k(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Le={on:function(r,u,p){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u);else{r=te(r);for(var C=0,N=r.length;C<N;C++)this._on(r[C],u,p)}return this},off:function(r,u,p){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],u);else{r=te(r);for(var C=arguments.length===1,N=0,P=r.length;N<P;N++)C?this._off(r[N]):this._off(r[N],u,p)}return this},_on:function(r,u,p,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,p)===!1){p===this&&(p=void 0);var C={fn:u,ctx:p};_&&(C.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(C)}},_off:function(r,u,p){var _,C,N;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(C=0,N=_.length;C<N;C++)_[C].fn=O;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var P=this._listens(r,u,p);if(P!==!1){var V=_[P];this._firingCount&&(V.fn=O,this._events[r]=_=_.slice()),_.splice(P,1)}}},fire:function(r,u,p){if(!this.listens(r,p))return this;var _=f({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var C=this._events[r];if(C){this._firingCount=this._firingCount+1||1;for(var N=0,P=C.length;N<P;N++){var V=C[N],Y=V.fn;V.once&&this.off(r,Y,V.ctx),Y.call(V.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(r,u,p,_){typeof r!="string"&&console.warn('"string" type argument expected');var C=u;typeof u!="function"&&(_=!!u,C=void 0,p=void 0);var N=this._events&&this._events[r];if(N&&N.length&&this._listens(r,C,p)!==!1)return!0;if(_){for(var P in this._eventParents)if(this._eventParents[P].listens(r,u,p,_))return!0}return!1},_listens:function(r,u,p){if(!this._events)return!1;var _=this._events[r]||[];if(!u)return!!_.length;p===this&&(p=void 0);for(var C=0,N=_.length;C<N;C++)if(_[C].fn===u&&_[C].ctx===p)return C;return!1},once:function(r,u,p){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u,!0);else{r=te(r);for(var C=0,N=r.length;C<N;C++)this._on(r[C],u,p,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[I(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[I(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,f({layer:r.target,propagatedFrom:r.target},r),!0)}};Le.addEventListener=Le.on,Le.removeEventListener=Le.clearAllEventListeners=Le.off,Le.addOneTimeEventListener=Le.once,Le.fireEvent=Le.fire,Le.hasEventListeners=Le.listens;var Oe=We.extend(Le);function $(r,u,p){this.x=p?Math.round(r):r,this.y=p?Math.round(u):u}var Ie=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(r){return this.clone()._add(se(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(se(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new $(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new $(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ie(this.x),this.y=Ie(this.y),this},distanceTo:function(r){r=se(r);var u=r.x-this.x,p=r.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(r){return r=se(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=se(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+U(this.x)+", "+U(this.y)+")"}};function se(r,u,p){return r instanceof $?r:k(r)?new $(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new $(r.x,r.y):new $(r,u,p)}function De(r,u){if(r)for(var p=u?[r,u]:r,_=0,C=p.length;_<C;_++)this.extend(p[_])}De.prototype={extend:function(r){var u,p;if(!r)return this;if(r instanceof $||typeof r[0]=="number"||"x"in r)u=p=se(r);else if(r=be(r),u=r.min,p=r.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(r){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,p;return typeof r[0]=="number"||r instanceof $?r=se(r):r=be(r),r instanceof De?(u=r.min,p=r.max):u=p=r,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(r){r=be(r);var u=this.min,p=this.max,_=r.min,C=r.max,N=C.x>=u.x&&_.x<=p.x,P=C.y>=u.y&&_.y<=p.y;return N&&P},overlaps:function(r){r=be(r);var u=this.min,p=this.max,_=r.min,C=r.max,N=C.x>u.x&&_.x<p.x,P=C.y>u.y&&_.y<p.y;return N&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,p=this.max,_=Math.abs(u.x-p.x)*r,C=Math.abs(u.y-p.y)*r;return be(se(u.x-_,u.y-C),se(p.x+_,p.y+C))},equals:function(r){return r?(r=be(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function be(r,u){return!r||r instanceof De?r:new De(r,u)}function ct(r,u){if(r)for(var p=u?[r,u]:r,_=0,C=p.length;_<C;_++)this.extend(p[_])}ct.prototype={extend:function(r){var u=this._southWest,p=this._northEast,_,C;if(r instanceof Xe)_=r,C=r;else if(r instanceof ct){if(_=r._southWest,C=r._northEast,!_||!C)return this}else return r?this.extend(re(r)||Fe(r)):this;return!u&&!p?(this._southWest=new Xe(_.lat,_.lng),this._northEast=new Xe(C.lat,C.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(r){var u=this._southWest,p=this._northEast,_=Math.abs(u.lat-p.lat)*r,C=Math.abs(u.lng-p.lng)*r;return new ct(new Xe(u.lat-_,u.lng-C),new Xe(p.lat+_,p.lng+C))},getCenter:function(){return new Xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Xe||"lat"in r?r=re(r):r=Fe(r);var u=this._southWest,p=this._northEast,_,C;return r instanceof ct?(_=r.getSouthWest(),C=r.getNorthEast()):_=C=r,_.lat>=u.lat&&C.lat<=p.lat&&_.lng>=u.lng&&C.lng<=p.lng},intersects:function(r){r=Fe(r);var u=this._southWest,p=this._northEast,_=r.getSouthWest(),C=r.getNorthEast(),N=C.lat>=u.lat&&_.lat<=p.lat,P=C.lng>=u.lng&&_.lng<=p.lng;return N&&P},overlaps:function(r){r=Fe(r);var u=this._southWest,p=this._northEast,_=r.getSouthWest(),C=r.getNorthEast(),N=C.lat>u.lat&&_.lat<p.lat,P=C.lng>u.lng&&_.lng<p.lng;return N&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=Fe(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Fe(r,u){return r instanceof ct?r:new ct(r,u)}function Xe(r,u,p){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,p!==void 0&&(this.alt=+p)}Xe.prototype={equals:function(r,u){if(!r)return!1;r=re(r);var p=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return p<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+U(this.lat,r)+", "+U(this.lng,r)+")"},distanceTo:function(r){return ht.distance(this,re(r))},wrap:function(){return ht.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,p=u/Math.cos(Math.PI/180*this.lat);return Fe([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Xe(this.lat,this.lng,this.alt)}};function re(r,u,p){return r instanceof Xe?r:k(r)&&typeof r[0]!="object"?r.length===3?new Xe(r[0],r[1],r[2]):r.length===2?new Xe(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Xe(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new Xe(r,u,p)}var Yt={latLngToPoint:function(r,u){var p=this.projection.project(r),_=this.scale(u);return this.transformation._transform(p,_)},pointToLatLng:function(r,u){var p=this.scale(u),_=this.transformation.untransform(r,p);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(r),_=this.transformation.transform(u.min,p),C=this.transformation.transform(u.max,p);return new De(_,C)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?D(r.lng,this.wrapLng,!0):r.lng,p=this.wrapLat?D(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new Xe(p,u,_)},wrapLatLngBounds:function(r){var u=r.getCenter(),p=this.wrapLatLng(u),_=u.lat-p.lat,C=u.lng-p.lng;if(_===0&&C===0)return r;var N=r.getSouthWest(),P=r.getNorthEast(),V=new Xe(N.lat-_,N.lng-C),Y=new Xe(P.lat-_,P.lng-C);return new ct(V,Y)}},ht=f({},Yt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var p=Math.PI/180,_=r.lat*p,C=u.lat*p,N=Math.sin((u.lat-r.lat)*p/2),P=Math.sin((u.lng-r.lng)*p/2),V=N*N+Math.cos(_)*Math.cos(C)*P*P,Y=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*Y}}),Fi=6378137,Ci={R:Fi,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,r.lat),-p),C=Math.sin(_*u);return new $(this.R*r.lng*u,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(r){var u=180/Math.PI;return new Xe((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:function(){var r=Fi*Math.PI;return new De([-r,-r],[r,r])}()};function Wt(r,u,p,_){if(k(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=p,this._d=_}Wt.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new $((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function si(r,u,p,_){return new Wt(r,u,p,_)}var Ke=f({},ht,{code:"EPSG:3857",projection:Ci,transformation:function(){var r=.5/(Math.PI*Ci.R);return si(r,.5,-r,.5)}()}),Ei=f({},Ke,{code:"EPSG:900913"});function Tn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function zi(r,u){var p="",_,C,N,P,V,Y;for(_=0,N=r.length;_<N;_++){for(V=r[_],C=0,P=V.length;C<P;C++)Y=V[C],p+=(C?"L":"M")+Y.x+" "+Y.y;p+=u?Ee.svg?"z":"x":""}return p||"M0 0"}var Rt=document.documentElement.style,rt="ActiveXObject"in window,qe=rt&&!document.addEventListener,er="msLaunchUri"in navigator&&!("documentMode"in document),we=It("webkit"),Ui=It("android"),de=It("android 2")||It("android 3"),Te=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pt=Ui&&It("Google")&&Te<537&&!("AudioNode"in window),yt=!!window.opera,Ut=!er&&It("chrome"),Gn=It("gecko")&&!we&&!yt&&!rt,$t=!Ut&&It("safari"),to=It("phantom"),tr="OTransition"in Rt,No=navigator.platform.indexOf("Win")===0,mt=rt&&"transition"in Rt,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!de,Ht="MozPerspective"in Rt,ft=!window.L_DISABLE_3D&&(mt||fe||Ht)&&!tr&&!to,xt=typeof orientation<"u"||It("mobile"),no=xt&&we,gs=xt&&fe,ps=!window.PointerEvent&&window.MSPointerEvent,nt=!!(window.PointerEvent||ps),Hi="ontouchstart"in window||!!window.TouchEvent,Ca=!window.L_NO_TOUCH&&(Hi||nt),Ea=xt&&yt,Yn=xt&&Gn,ms=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,an=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",O,u),window.removeEventListener("testPassiveEventSupport",O,u)}catch{}return r}(),Cr=function(){return!!document.createElement("canvas").getContext}(),Er=!!(document.createElementNS&&Tn("svg").createSVGRect),ai=!!Er&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$l=!Er&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),nr=navigator.platform.indexOf("Mac")===0,xs=navigator.platform.indexOf("Linux")===0;function It(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Ee={ie:rt,ielt9:qe,edge:er,webkit:we,android:Ui,android23:de,androidStock:Pt,opera:yt,chrome:Ut,gecko:Gn,safari:$t,phantom:to,opera12:tr,win:No,ie3d:mt,webkit3d:fe,gecko3d:Ht,any3d:ft,mobile:xt,mobileWebkit:no,mobileWebkit3d:gs,msPointer:ps,pointer:nt,touch:Ca,touchNative:Hi,mobileOpera:Ea,mobileGecko:Yn,retina:ms,passiveEvents:an,canvas:Cr,svg:Er,vml:$l,inlineSvg:ai,mac:nr,linux:xs},Nn=Ee.msPointer?"MSPointerDown":"pointerdown",xe=Ee.msPointer?"MSPointerMove":"pointermove",ir=Ee.msPointer?"MSPointerUp":"pointerup",Mo=Ee.msPointer?"MSPointerCancel":"pointercancel",ln={touchstart:Nn,touchmove:xe,touchend:ir,touchcancel:Mo},rr={touchstart:ji,touchmove:ro,touchend:ro,touchcancel:ro},Ai={},io=!1;function li(r,u,p){return u==="touchstart"&&Ct(),rr[u]?(p=rr[u].bind(this,p),r.addEventListener(ln[u],p,!1),p):(console.warn("wrong event specified:",u),O)}function eu(r,u,p){if(!ln[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(ln[u],p,!1)}function tu(r){Ai[r.pointerId]=r}function ui(r){Ai[r.pointerId]&&(Ai[r.pointerId]=r)}function un(r){delete Ai[r.pointerId]}function Ct(){io||(document.addEventListener(Nn,tu,!0),document.addEventListener(xe,ui,!0),document.addEventListener(ir,un,!0),document.addEventListener(Mo,un,!0),io=!0)}function ro(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in Ai)u.touches.push(Ai[p]);u.changedTouches=[u],r(u)}}function ji(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&tn(u),ro(r,u)}function _s(r){var u={},p,_;for(_ in r)p=r[_],u[_]=p&&p.bind?p.bind(r):p;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ee=200;function nu(r,u){r.addEventListener("dblclick",u);var p=0,_;function C(N){if(N.detail!==1){_=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var P=Sr(N);if(!(P.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!P.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var V=Date.now();V-p<=ee?(_++,_===2&&u(_s(N))):_=1,p=V}}}return r.addEventListener("click",C),{dblclick:u,simDblclick:C}}function Lt(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var Vi=j(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oo=j(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ot=oo==="webkitTransition"||oo==="OTransition"?oo+"End":"transitionend";function it(r){return typeof r=="string"?document.getElementById(r):r}function Ve(r,u){var p=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);p=_?_[u]:null}return p==="auto"?null:p}function $e(r,u,p){var _=document.createElement(r);return _.className=u||"",p&&p.appendChild(_),_}function wt(r){var u=r.parentNode;u&&u.removeChild(r)}function Ar(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Et(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Mn(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function ys(r,u){if(r.classList!==void 0)return r.classList.contains(u);var p=Si(r);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Ae(r,u){if(r.classList!==void 0)for(var p=te(u),_=0,C=p.length;_<C;_++)r.classList.add(p[_]);else if(!ys(r,u)){var N=Si(r);ws(r,(N?N+" ":"")+u)}}function lt(r,u){r.classList!==void 0?r.classList.remove(u):ws(r,q((" "+Si(r)+" ").replace(" "+u+" "," ")))}function ws(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Si(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ze(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&cn(r,u)}function cn(r,u){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=r.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):r.style.filter+=" progid:"+_+"(opacity="+u+")"}function j(r){for(var u=document.documentElement.style,p=0;p<r.length;p++)if(r[p]in u)return r[p];return!1}function M(r,u,p){var _=u||new $(0,0);r.style[Vi]=(Ee.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function pe(r,u){r._leaflet_pos=u,Ee.any3d?M(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function At(r){return r._leaflet_pos||new $(0,0)}var hn,so,ao;if("onselectstart"in document)hn=function(){ke(window,"selectstart",tn)},so=function(){me(window,"selectstart",tn)};else{var fn=j(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hn=function(){if(fn){var r=document.documentElement.style;ao=r[fn],r[fn]="none"}},so=function(){fn&&(document.documentElement.style[fn]=ao,ao=void 0)}}function Ne(){ke(window,"dragstart",tn)}function vt(){me(window,"dragstart",tn)}var lo,vs;function uo(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(or(),lo=r,vs=r.style.outlineStyle,r.style.outlineStyle="none",ke(window,"keydown",or))}function or(){lo&&(lo.style.outlineStyle=vs,lo=void 0,vs=void 0,me(window,"keydown",or))}function Oo(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Cs(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var Xt={__proto__:null,TRANSFORM:Vi,TRANSITION:oo,TRANSITION_END:ot,get:it,getStyle:Ve,create:$e,remove:wt,empty:Ar,toFront:Et,toBack:Mn,hasClass:ys,addClass:Ae,removeClass:lt,setClass:ws,getClass:Si,setOpacity:Ze,testProp:j,setTransform:M,setPosition:pe,getPosition:At,get disableTextSelection(){return hn},get enableTextSelection(){return so},disableImageDrag:Ne,enableImageDrag:vt,preventOutline:uo,restoreOutline:or,getSizedParentNode:Oo,getScale:Cs};function ke(r,u,p,_){if(u&&typeof u=="object")for(var C in u)Zt(r,C,u[C],p);else{u=te(u);for(var N=0,P=u.length;N<P;N++)Zt(r,u[N],p,_)}return this}var en="_leaflet_events";function me(r,u,p,_){if(arguments.length===1)Aa(r),delete r[en];else if(u&&typeof u=="object")for(var C in u)Es(r,C,u[C],p);else if(u=te(u),arguments.length===2)Aa(r,function(V){return Q(u,V)!==-1});else for(var N=0,P=u.length;N<P;N++)Es(r,u[N],p,_);return this}function Aa(r,u){for(var p in r[en]){var _=p.split(/\d/)[0];(!u||u(_))&&Es(r,_,null,null,p)}}var ze={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zt(r,u,p,_){var C=u+I(p)+(_?"_"+I(_):"");if(r[en]&&r[en][C])return this;var N=function(V){return p.call(_||r,V||window.event)},P=N;!Ee.touchNative&&Ee.pointer&&u.indexOf("touch")===0?N=li(r,u,N):Ee.touch&&u==="dblclick"?N=nu(r,N):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(ze[u]||u,N,Ee.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(N=function(V){V=V||window.event,sr(r,V)&&P(V)},r.addEventListener(ze[u],N,!1)):r.addEventListener(u,P,!1):r.attachEvent("on"+u,N),r[en]=r[en]||{},r[en][C]=N}function Es(r,u,p,_,C){C=C||u+I(p)+(_?"_"+I(_):"");var N=r[en]&&r[en][C];if(!N)return this;!Ee.touchNative&&Ee.pointer&&u.indexOf("touch")===0?eu(r,u,N):Ee.touch&&u==="dblclick"?Lt(r,N):"removeEventListener"in r?r.removeEventListener(ze[u]||u,N,!1):r.detachEvent("on"+u,N),r[en][C]=null}function Ii(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function bo(r){return Zt(r,"wheel",Ii),this}function Xn(r){return ke(r,"mousedown touchstart dblclick contextmenu",Ii),r._leaflet_disable_click=!0,this}function tn(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Qn(r){return tn(r),Ii(r),this}function Sr(r){if(r.composedPath)return r.composedPath();for(var u=[],p=r.target;p;)u.push(p),p=p.parentNode;return u}function Ir(r,u){if(!u)return new $(r.clientX,r.clientY);var p=Cs(u),_=p.boundingClientRect;return new $((r.clientX-_.left)/p.x-u.clientLeft,(r.clientY-_.top)/p.y-u.clientTop)}var Sa=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tr(r){return Ee.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Sa:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function sr(r,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==r;)p=p.parentNode}catch{return!1}return p!==r}var yn={__proto__:null,on:ke,off:me,stopPropagation:Ii,disableScrollPropagation:bo,disableClickPropagation:Xn,preventDefault:tn,stop:Qn,getPropagationPath:Sr,getMousePosition:Ir,getWheelDelta:Tr,isExternalTarget:sr,addListener:ke,removeListener:me},As=Oe.extend({run:function(r,u,p,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=At(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=He(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var p=this._startPos.add(this._offset.multiplyBy(r));u&&p._round(),pe(this._el,p),this.fire("step")},_complete:function(){ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Je=Oe.extend({options:{crs:Ke,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=X(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(re(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oo&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,ot,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(re(r),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=f({animate:p.animate},p.zoom),p.pan=f({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,p.zoom):this._tryAnimatedPan(r,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,p){var _=this.getZoomScale(u),C=this.getSize().divideBy(2),N=r instanceof $?r:this.latLngToContainerPoint(r),P=N.subtract(C).multiplyBy(1-1/_),V=this.containerPointToLatLng(C.add(P));return this.setView(V,u,{zoom:p})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():Fe(r);var p=se(u.paddingTopLeft||u.padding||[0,0]),_=se(u.paddingBottomRight||u.padding||[0,0]),C=this.getBoundsZoom(r,!1,p.add(_));if(C=typeof u.maxZoom=="number"?Math.min(u.maxZoom,C):C,C===1/0)return{center:r.getCenter(),zoom:C};var N=_.subtract(p).divideBy(2),P=this.project(r.getSouthWest(),C),V=this.project(r.getNorthEast(),C),Y=this.unproject(P.add(V).divideBy(2).add(N),C);return{center:Y,zoom:C}},fitBounds:function(r,u){if(r=Fe(r),!r.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(r,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=se(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new As,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,p){if(p=p||{},p.animate===!1||!Ee.any3d)return this.setView(r,u,p);this._stop();var _=this.project(this.getCenter()),C=this.project(r),N=this.getSize(),P=this._zoom;r=re(r),u=u===void 0?P:u;var V=Math.max(N.x,N.y),Y=V*this.getZoomScale(P,u),ne=C.distanceTo(_)||1,_e=1.42,Pe=_e*_e;function Qe(Kt){var Da=Kt?-1:1,K0=Kt?Y:V,q0=Y*Y-V*V+Da*Pe*Pe*ne*ne,J0=2*K0*Pe*ne,uu=q0/J0,Vh=Math.sqrt(uu*uu+1)-uu,$0=Vh<1e-9?-18:Math.log(Vh);return $0}function Dn(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function dn(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}function pi(Kt){return Dn(Kt)/dn(Kt)}var zn=Qe(0);function ko(Kt){return V*(dn(zn)/dn(zn+_e*Kt))}function G0(Kt){return V*(dn(zn)*pi(zn+_e*Kt)-Dn(zn))/Pe}function Y0(Kt){return 1-Math.pow(1-Kt,1.5)}var X0=Date.now(),Hh=(Qe(1)-zn)/_e,Q0=p.duration?1e3*p.duration:1e3*Hh*.8;function jh(){var Kt=(Date.now()-X0)/Q0,Da=Y0(Kt)*Hh;Kt<=1?(this._flyToFrame=He(jh,this),this._move(this.unproject(_.add(C.subtract(_).multiplyBy(G0(Da)/ne)),P),this.getScaleZoom(V/ko(Da),P),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),jh.call(this),this},flyToBounds:function(r,u){var p=this._getBoundsCenterZoom(r,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(r){return r=Fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,Fe(r));return p.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var p=se(u.paddingTopLeft||u.padding||[0,0]),_=se(u.paddingBottomRight||u.padding||[0,0]),C=this.project(this.getCenter()),N=this.project(r),P=this.getPixelBounds(),V=be([P.min.add(p),P.max.subtract(_)]),Y=V.getSize();if(!V.contains(N)){this._enforcingBounds=!0;var ne=N.subtract(V.getCenter()),_e=V.extend(N).getSize().subtract(Y);C.x+=ne.x<0?-_e.x:_e.x,C.y+=ne.y<0?-_e.y:_e.y,this.panTo(this.unproject(C),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=f({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=u.divideBy(2).round(),C=p.divideBy(2).round(),N=_.subtract(C);return!N.x&&!N.y?this:(r.animate&&r.pan?this.panBy(N):(r.pan&&this._rawPanBy(N),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=f({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=y(this._handleGeolocationResponse,this),p=y(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,r):navigator.geolocation.getCurrentPosition(u,p,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,p=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,p=r.coords.longitude,_=new Xe(u,p),C=_.toBounds(r.coords.accuracy*2),N=this._locateOptions;if(N.setView){var P=this.getBoundsZoom(C);this.setView(_,N.maxZoom?Math.min(P,N.maxZoom):P)}var V={latlng:_,bounds:C,timestamp:r.timestamp};for(var Y in r.coords)typeof r.coords[Y]=="number"&&(V[Y]=r.coords[Y]);this.fire("locationfound",V)}},addHandler:function(r,u){if(!u)return this;var p=this[r]=new u(this);return this._handlers.push(p),this.options[r]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)wt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var p="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=$e("div",p,u||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),p=this.unproject(r.getTopRight());return new ct(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,p){r=Fe(r),p=se(p||[0,0]);var _=this.getZoom()||0,C=this.getMinZoom(),N=this.getMaxZoom(),P=r.getNorthWest(),V=r.getSouthEast(),Y=this.getSize().subtract(p),ne=be(this.project(V,_),this.project(P,_)).getSize(),_e=Ee.any3d?this.options.zoomSnap:1,Pe=Y.x/ne.x,Qe=Y.y/ne.y,Dn=u?Math.max(Pe,Qe):Math.min(Pe,Qe);return _=this.getScaleZoom(Dn,_),_e&&(_=Math.round(_/(_e/100))*(_e/100),_=u?Math.ceil(_/_e)*_e:Math.floor(_/_e)*_e),Math.max(C,Math.min(N,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var p=this._getTopLeftPoint(r,u);return new De(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(r)/p.scale(u)},getScaleZoom:function(r,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var _=p.zoom(r*p.scale(u));return isNaN(_)?1/0:_},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(re(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(se(r),u)},layerPointToLatLng:function(r){var u=se(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(re(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(re(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Fe(r))},distance:function(r,u){return this.options.crs.distance(re(r),re(u))},containerPointToLayerPoint:function(r){return se(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return se(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(se(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(r)))},mouseEventToContainerPoint:function(r){return Ir(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=it(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(u,"scroll",this._onScroll,this),this._containerId=I(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,Ae(r,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ve(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pe(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(r.markerPane,"leaflet-zoom-hide"),Ae(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,p){pe(this._mapPane,new $(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var C=this._zoom!==u;this._moveStart(C,p)._move(r,u)._moveEnd(C),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,p,_){u===void 0&&(u=this._zoom);var C=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){pe(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[I(this._container)]=this;var u=r?me:ke;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ye(this._resizeRequest),this._resizeRequest=He(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var p=[],_,C=u==="mouseout"||u==="mouseover",N=r.target||r.srcElement,P=!1;N;){if(_=this._targets[I(N)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){P=!0;break}if(_&&_.listens(u,!0)&&(C&&!sr(N,r)||(p.push(_),C))||N===this._container)break;N=N.parentNode}return!p.length&&!P&&!C&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var p=r.type;p==="mousedown"&&uo(u),this._fireDOMEvent(r,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,p){if(r.type==="click"){var _=f({},r);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var C=this._findEventTargets(r,u);if(p){for(var N=[],P=0;P<p.length;P++)p[P].listens(u,!0)&&N.push(p[P]);C=N.concat(C)}if(C.length){u==="contextmenu"&&tn(r);var V=C[0],Y={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var ne=V.getLatLng&&(!V._radius||V._radius<=10);Y.containerPoint=ne?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(r),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=ne?V.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(P=0;P<C.length;P++)if(C[P].fire(u,Y,!0),Y.originalEvent._stopped||C[P].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return At(this._mapPane)||new $(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var p=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var p=this.getSize()._divideBy(2);return this.project(r,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,p){var _=this._getNewPixelOrigin(p,u);return this.project(r,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,u,p){var _=this._getNewPixelOrigin(p,u);return be([this.project(r.getSouthWest(),u)._subtract(_),this.project(r.getNorthWest(),u)._subtract(_),this.project(r.getSouthEast(),u)._subtract(_),this.project(r.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,p){if(!p)return r;var _=this.project(r,u),C=this.getSize().divideBy(2),N=new De(_.subtract(C),_.add(C)),P=this._getBoundsOffset(N,p,u);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?r:this.unproject(_.add(P),u)},_limitOffset:function(r,u){if(!u)return r;var p=this.getPixelBounds(),_=new De(p.min.add(r),p.max.add(r));return r.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(r,u,p){var _=be(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),C=_.min.subtract(r.min),N=_.max.subtract(r.max),P=this._rebound(C.x,-N.x),V=this._rebound(C.y,-N.y);return new $(P,V)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),p=this.getMaxZoom(),_=Ee.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(u,Math.min(p,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var p=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var r=this._proxy=$e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var p=Vi,_=this._proxy.style[p];M(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();M(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),C=this._getCenterOffset(r)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(C)?!1:(He(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ia(r,u){return new Je(r,u)}var Kn=We.extend({options:{position:"topright"},initialize:function(r){X(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),p=this.getPosition(),_=r._controlCorners[p];return Ae(u,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),co=function(r){return new Kn(r)};Je.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",p=this._controlContainer=$e("div",u+"control-container",this._container);function _(C,N){var P=u+C+" "+u+N;r[C+N]=$e("div",P,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)wt(this._controlCorners[r]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ta=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,p,_){return p<_?-1:_<p?1:0}},initialize:function(r,u,p){X(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Kn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(I(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=$e("div",r),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Xn(u),bo(u);var _=this._section=$e("section",r+"-list");p&&(this._map.on("click",this.collapse,this),ke(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=$e("a",r+"-toggle",u);C.href="#",C.title="Layers",C.setAttribute("role","button"),ke(C,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){tn(N),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=$e("div",r+"-base",_),this._separator=$e("div",r+"-separator",_),this._overlaysList=$e("div",r+"-overlays",_),u.appendChild(_)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&I(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,p){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(y(function(_,C){return this.options.sortFunction(_.layer,C.layer,_.name,C.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ar(this._baseLayersList),Ar(this._overlaysList),this._layerControlInputs=[];var r,u,p,_,C=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),u=u||_.overlay,r=r||!_.overlay,C+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&C>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(I(r.target)),p=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(r,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(r){var u=document.createElement("label"),p=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+I(this),p),this._layerControlInputs.push(_),_.layerId=I(r.layer),ke(_,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+r.name;var N=document.createElement("span");u.appendChild(N),N.appendChild(_),N.appendChild(C);var P=r.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,p,_=[],C=[];this._handlingClick=!0;for(var N=r.length-1;N>=0;N--)u=r[N],p=this._getLayer(u.layerId).layer,u.checked?_.push(p):u.checked||C.push(p);for(N=0;N<C.length;N++)this._map.hasLayer(C[N])&&this._map.removeLayer(C[N]);for(N=0;N<_.length;N++)this._map.hasLayer(_[N])||this._map.addLayer(_[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,p,_=this._map.getZoom(),C=r.length-1;C>=0;C--)u=r[C],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ke(r,"click",tn),this.expand();var u=this;setTimeout(function(){me(r,"click",tn),u._preventClick=!1})}}),ut=function(r,u,p){return new Ta(r,u,p)},Lo=Kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",p=$e("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,p,_,C){var N=$e("a",p,_);return N.innerHTML=r,N.href="#",N.title=u,N.setAttribute("role","button"),N.setAttribute("aria-label",u),Xn(N),ke(N,"click",Qn),ke(N,"click",C,this),ke(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";lt(this._zoomInButton,u),lt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ae(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ae(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Je.mergeOptions({zoomControl:!0}),Je.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Lo,this.addControl(this.zoomControl))});var Do=function(r){return new Lo(r)},Ti=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",p=$e("div",u),_=this.options;return this._addScales(_,u+"-line",p),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),p},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,p){r.metric&&(this._mScale=$e("div",u,p)),r.imperial&&(this._iScale=$e("div",u,p))},_update:function(){var r=this._map,u=r.getSize().y/2,p=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/r)},_updateImperial:function(r){var u=r*3.2808399,p,_,C;u>5280?(p=u/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(C=this._getRoundNum(u),this._updateScale(this._iScale,C+" ft",C/u))},_updateScale:function(r,u,p){r.style.width=Math.round(this.options.maxWidth*p)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),p=r/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),iu=function(r){return new Ti(r)},Z='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',je=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?Z+" ":"")+"Leaflet</a>"},initialize:function(r){X(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=$e("div","leaflet-control-attribution"),Xn(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),r.length&&p.push(r.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Je.mergeOptions({attributionControl:!0}),Je.addInitHook(function(){this.options.attributionControl&&new je().addTo(this)});var nn=function(r){return new je(r)};Kn.Layers=Ta,Kn.Zoom=Lo,Kn.Scale=Ti,Kn.Attribution=je,co.layers=ut,co.zoom=Do,co.scale=iu,co.attribution=nn;var On=We.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});On.addTo=function(r,u){return r.addHandler(u,this),this};var Na={Events:Le},Ma=Ee.touch?"touchstart mousedown":"mousedown",Wi=Oe.extend({options:{clickTolerance:3},initialize:function(r,u,p,_){X(this,_),this._element=r,this._dragStartTarget=u||r,this._preventOutline=p},enable:function(){this._enabled||(ke(this._dragStartTarget,Ma,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wi._dragging===this&&this.finishDrag(!0),me(this._dragStartTarget,Ma,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!ys(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Wi._dragging===this&&this.finishDrag();return}if(!(Wi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Wi._dragging=this,this._preventOutline&&uo(this._element),Ne(),hn(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,p=Oo(this._element);this._startPoint=new $(u.clientX,u.clientY),this._startPos=At(this._element),this._parentScale=Cs(p);var _=r.type==="mousedown";ke(document,_?"mousemove":"touchmove",this._onMove,this),ke(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,p=new $(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,tn(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),pe(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),me(document,"mousemove touchmove",this._onMove,this),me(document,"mouseup touchend touchcancel",this._onUp,this),vt(),so();var u=this._moved&&this._moving;this._moving=!1,Wi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Oa(r,u,p){var _,C=[1,4,2,8],N,P,V,Y,ne,_e,Pe,Qe;for(N=0,_e=r.length;N<_e;N++)r[N]._code=lr(r[N],u);for(V=0;V<4;V++){for(Pe=C[V],_=[],N=0,_e=r.length,P=_e-1;N<_e;P=N++)Y=r[N],ne=r[P],Y._code&Pe?ne._code&Pe||(Qe=Ni(ne,Y,Pe,u,p),Qe._code=lr(Qe,u),_.push(Qe)):(ne._code&Pe&&(Qe=Ni(ne,Y,Pe,u,p),Qe._code=lr(Qe,u),_.push(Qe)),_.push(Y));r=_}return r}function Ro(r,u){var p,_,C,N,P,V,Y,ne,_e;if(!r||r.length===0)throw new Error("latlngs not passed");bn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Pe=re([0,0]),Qe=Fe(r),Dn=Qe.getNorthWest().distanceTo(Qe.getSouthWest())*Qe.getNorthEast().distanceTo(Qe.getNorthWest());Dn<1700&&(Pe=kt(r));var dn=r.length,pi=[];for(p=0;p<dn;p++){var zn=re(r[p]);pi.push(u.project(re([zn.lat-Pe.lat,zn.lng-Pe.lng])))}for(V=Y=ne=0,p=0,_=dn-1;p<dn;_=p++)C=pi[p],N=pi[_],P=C.y*N.x-N.y*C.x,Y+=(C.x+N.x)*P,ne+=(C.y+N.y)*P,V+=P*3;V===0?_e=pi[0]:_e=[Y/V,ne/V];var ko=u.unproject(se(_e));return re([ko.lat+Pe.lat,ko.lng+Pe.lng])}function kt(r){for(var u=0,p=0,_=0,C=0;C<r.length;C++){var N=re(r[C]);u+=N.lat,p+=N.lng,_++}return re([u/_,p/_])}var Ss={__proto__:null,clipPolygon:Oa,polygonCenter:Ro,centroid:kt};function Tt(r,u){if(!u||!r.length)return r.slice();var p=u*u;return r=ru(r,p),r=dt(r,p),r}function ho(r,u,p){return Math.sqrt(ur(r,u,p,!0))}function ar(r,u,p){return ur(r,u,p)}function dt(r,u){var p=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,C=new _(p);C[0]=C[p-1]=1,Me(r,C,u,0,p-1);var N,P=[];for(N=0;N<p;N++)C[N]&&P.push(r[N]);return P}function Me(r,u,p,_,C){var N=0,P,V,Y;for(V=_+1;V<=C-1;V++)Y=ur(r[V],r[_],r[C],!0),Y>N&&(P=V,N=Y);N>p&&(u[P]=1,Me(r,u,p,_,P),Me(r,u,p,P,C))}function ru(r,u){for(var p=[r[0]],_=1,C=0,N=r.length;_<N;_++)ci(r[_],r[C])>u&&(p.push(r[_]),C=_);return C<N-1&&p.push(r[N-1]),p}var _t;function Zi(r,u,p,_,C){var N=_?_t:lr(r,p),P=lr(u,p),V,Y,ne;for(_t=P;;){if(!(N|P))return[r,u];if(N&P)return!1;V=N||P,Y=Ni(r,u,V,p,C),ne=lr(Y,p),V===N?(r=Y,N=ne):(u=Y,P=ne)}}function Ni(r,u,p,_,C){var N=u.x-r.x,P=u.y-r.y,V=_.min,Y=_.max,ne,_e;return p&8?(ne=r.x+N*(Y.y-r.y)/P,_e=Y.y):p&4?(ne=r.x+N*(V.y-r.y)/P,_e=V.y):p&2?(ne=Y.x,_e=r.y+P*(Y.x-r.x)/N):p&1&&(ne=V.x,_e=r.y+P*(V.x-r.x)/N),new $(ne,_e,C)}function lr(r,u){var p=0;return r.x<u.min.x?p|=1:r.x>u.max.x&&(p|=2),r.y<u.min.y?p|=4:r.y>u.max.y&&(p|=8),p}function ci(r,u){var p=u.x-r.x,_=u.y-r.y;return p*p+_*_}function ur(r,u,p,_){var C=u.x,N=u.y,P=p.x-C,V=p.y-N,Y=P*P+V*V,ne;return Y>0&&(ne=((r.x-C)*P+(r.y-N)*V)/Y,ne>1?(C=p.x,N=p.y):ne>0&&(C+=P*ne,N+=V*ne)),P=r.x-C,V=r.y-N,_?P*P+V*V:new $(C,N)}function bn(r){return!k(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Po(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(r)}function Is(r,u){var p,_,C,N,P,V,Y,ne;if(!r||r.length===0)throw new Error("latlngs not passed");bn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var _e=re([0,0]),Pe=Fe(r),Qe=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Qe<1700&&(_e=kt(r));var Dn=r.length,dn=[];for(p=0;p<Dn;p++){var pi=re(r[p]);dn.push(u.project(re([pi.lat-_e.lat,pi.lng-_e.lng])))}for(p=0,_=0;p<Dn-1;p++)_+=dn[p].distanceTo(dn[p+1])/2;if(_===0)ne=dn[0];else for(p=0,N=0;p<Dn-1;p++)if(P=dn[p],V=dn[p+1],C=P.distanceTo(V),N+=C,N>_){Y=(N-_)/C,ne=[V.x-Y*(V.x-P.x),V.y-Y*(V.y-P.y)];break}var zn=u.unproject(se(ne));return re([zn.lat+_e.lat,zn.lng+_e.lng])}var ba={__proto__:null,simplify:Tt,pointToSegmentDistance:ho,closestPointOnSegment:ar,clipSegment:Zi,_getEdgeIntersection:Ni,_getBitCode:lr,_sqClosestPointOnSegment:ur,isFlat:bn,_flat:Po,polylineCenter:Is},Ts={project:function(r){return new $(r.lng,r.lat)},unproject:function(r){return new Xe(r.y,r.x)},bounds:new De([-180,-90],[180,90])},Gi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new De([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,p=this.R,_=r.lat*u,C=this.R_MINOR/p,N=Math.sqrt(1-C*C),P=N*Math.sin(_),V=Math.tan(Math.PI/4-_/2)/Math.pow((1-P)/(1+P),N/2);return _=-p*Math.log(Math.max(V,1e-10)),new $(r.lng*u*p,_)},unproject:function(r){for(var u=180/Math.PI,p=this.R,_=this.R_MINOR/p,C=Math.sqrt(1-_*_),N=Math.exp(-r.y/p),P=Math.PI/2-2*Math.atan(N),V=0,Y=.1,ne;V<15&&Math.abs(Y)>1e-7;V++)ne=C*Math.sin(P),ne=Math.pow((1-ne)/(1+ne),C/2),Y=Math.PI/2-2*Math.atan(N*ne)-P,P+=Y;return new Xe(P*u,r.x*u/p)}},Ns={__proto__:null,LonLat:Ts,Mercator:Gi,SphericalMercator:Ci},ou=f({},ht,{code:"EPSG:3395",projection:Gi,transformation:function(){var r=.5/(Math.PI*Gi.R);return si(r,.5,-r,.5)}()}),Nr=f({},ht,{code:"EPSG:4326",projection:Ts,transformation:si(1/180,1,-1/180,.5)}),su=f({},Yt,{projection:Ts,transformation:si(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var p=u.lng-r.lng,_=u.lat-r.lat;return Math.sqrt(p*p+_*_)},infinite:!0});Yt.Earth=ht,Yt.EPSG3395=ou,Yt.EPSG3857=Ke,Yt.EPSG900913=Ei,Yt.EPSG4326=Nr,Yt.Simple=su;var Qt=Oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[I(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[I(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Je.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=I(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=I(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return I(r)in this._layers},eachLayer:function(r,u){for(var p in this._layers)r.call(u,this._layers[p]);return this},_addLayers:function(r){r=r?k(r)?r:[r]:[];for(var u=0,p=r.length;u<p;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[I(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=I(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var C=this._zoomBoundLayers[_].options;r=C.minZoom===void 0?r:Math.min(r,C.minZoom),u=C.maxZoom===void 0?u:Math.max(u,C.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mi=Qt.extend({initialize:function(r,u){X(this,u),this._layers={};var p,_;if(r)for(p=0,_=r.length;p<_;p++)this.addLayer(r[p])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[r]&&_[r].apply(_,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var p in this._layers)r.call(u,this._layers[p]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return I(r)}}),Fn=function(r,u){return new Mi(r,u)},hi=Mi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Mi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Mi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ct;for(var u in this._layers){var p=this._layers[u];r.extend(p.getBounds?p.getBounds():p.getLatLng())}return r}}),fi=function(r,u){return new hi(r,u)},Mr=We.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){X(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var p=this._getIconUrl(r);if(!p){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,u){var p=this.options,_=p[u+"Size"];typeof _=="number"&&(_=[_,_]);var C=se(_),N=se(u==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(p.className||""),N&&(r.style.marginLeft=-N.x+"px",r.style.marginTop=-N.y+"px"),C&&(r.style.width=C.x+"px",r.style.height=C.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Ee.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Ms(r){return new Mr(r)}var fo=Mr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof fo.imagePath!="string"&&(fo.imagePath=this._detectIconPath()),(this.options.imagePath||fo.imagePath)+Mr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(p,_,C){var N=_.exec(p);return N&&N[C]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=$e("div","leaflet-default-icon-path",document.body),u=Ve(r,"background-image")||Ve(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Os=On.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Wi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,p=u._map,_=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,N=At(u._icon),P=p.getPixelBounds(),V=p.getPixelOrigin(),Y=be(P.min._subtract(V).add(C),P.max._subtract(V).subtract(C));if(!Y.contains(N)){var ne=se((Math.max(Y.max.x,N.x)-Y.max.x)/(P.max.x-Y.max.x)-(Math.min(Y.min.x,N.x)-Y.min.x)/(P.min.x-Y.min.x),(Math.max(Y.max.y,N.y)-Y.max.y)/(P.max.y-Y.max.y)-(Math.min(Y.min.y,N.y)-Y.min.y)/(P.min.y-Y.min.y)).multiplyBy(_);p.panBy(ne,{animate:!1}),this._draggable._newPos._add(ne),this._draggable._startPos._add(ne),pe(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=He(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(ye(this._panRequest),this._panRequest=He(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,p=u._shadow,_=At(u._icon),C=u._map.layerPointToLatLng(_);p&&pe(p,_),u._latlng=C,r.latlng=C,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ln=Qt.extend({options:{icon:new fo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){X(this,u),this._latlng=re(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=re(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=r.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(p.title=r.title),p.tagName==="IMG"&&(p.alt=r.alt||"")),Ae(p,u),r.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(p,"focus",this._panOnFocus,this);var C=r.icon.createShadow(this._shadow),N=!1;C!==this._shadow&&(this._removeShadow(),N=!0),C&&(Ae(C,u),C.alt=""),this._shadow=C,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&N&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(this._icon,"focus",this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&pe(this._icon,r),this._shadow&&pe(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Os)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Os(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ze(this._icon,r),this._shadow&&Ze(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,p=u.iconSize?se(u.iconSize):se(0,0),_=u.iconAnchor?se(u.iconAnchor):se(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function au(r,u){return new Ln(r,u)}var di=Qt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return X(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yi=di.extend({options:{fill:!0,radius:10},initialize:function(r,u){X(this,u),this._latlng=re(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=re(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return di.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,p=this._clickTolerance(),_=[r+p,u+p];this._pxBounds=new De(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tt(r,u){return new Yi(r,u)}var Or=Yi.extend({initialize:function(r,u,p){if(typeof u=="number"&&(u=f({},p,{radius:u})),X(this,u),this._latlng=re(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ct(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:di.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===ht.distance){var C=Math.PI/180,N=this._mRadius/ht.R/C,P=p.project([u+N,r]),V=p.project([u-N,r]),Y=P.add(V).divideBy(2),ne=p.unproject(Y).lat,_e=Math.acos((Math.cos(N*C)-Math.sin(u*C)*Math.sin(ne*C))/(Math.cos(u*C)*Math.cos(ne*C)))/C;(isNaN(_e)||_e===0)&&(_e=N/Math.cos(Math.PI/180*u)),this._point=Y.subtract(p.getPixelOrigin()),this._radius=isNaN(_e)?0:Y.x-p.project([ne,r-_e]).x,this._radiusY=Y.y-P.y}else{var Pe=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Pe).x}this._updateBounds()}});function E(r,u,p){return new Or(r,u,p)}var t=di.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){X(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,p=null,_=ur,C,N,P=0,V=this._parts.length;P<V;P++)for(var Y=this._parts[P],ne=1,_e=Y.length;ne<_e;ne++){C=Y[ne-1],N=Y[ne];var Pe=_(r,C,N,!0);Pe<u&&(u=Pe,p=_(r,C,N))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Is(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=re(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ct,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],p=bn(r),_=0,C=r.length;_<C;_++)p?(u[_]=re(r[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(r[_]);return u},_project:function(){var r=new De;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new $(r,r);this._rawPxBounds&&(this._pxBounds=new De([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,p){var _=r[0]instanceof Xe,C=r.length,N,P;if(_){for(P=[],N=0;N<C;N++)P[N]=this._map.latLngToLayerPoint(r[N]),p.extend(P[N]);u.push(P)}else for(N=0;N<C;N++)this._projectLatlngs(r[N],u,p)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,_,C,N,P,V,Y;for(p=0,C=0,N=this._rings.length;p<N;p++)for(Y=this._rings[p],_=0,P=Y.length;_<P-1;_++)V=Zi(Y[_],Y[_+1],r,_,!0),V&&(u[C]=u[C]||[],u[C].push(V[0]),(V[1]!==Y[_+1]||_===P-2)&&(u[C].push(V[1]),C++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,p=0,_=r.length;p<_;p++)r[p]=Tt(r[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var p,_,C,N,P,V,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(p=0,N=this._parts.length;p<N;p++)for(V=this._parts[p],_=0,P=V.length,C=P-1;_<P;C=_++)if(!(!u&&_===0)&&ho(r,V[C],V[_])<=Y)return!0;return!1}});function i(r,u){return new t(r,u)}t._flat=Po;var o=t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ro(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=t.prototype._convertLatLngs.call(this,r),p=u.length;return p>=2&&u[0]instanceof Xe&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(r){t.prototype._setLatLngs.call(this,r),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,p=new $(u,u);if(r=new De(r.min.subtract(p),r.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,C=this._rings.length,N;_<C;_++)N=Oa(this._rings[_],r,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,p,_,C,N,P,V,Y,ne;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(N=0,Y=this._parts.length;N<Y;N++)for(p=this._parts[N],P=0,ne=p.length,V=ne-1;P<ne;V=P++)_=p[P],C=p[V],_.y>r.y!=C.y>r.y&&r.x<(C.x-_.x)*(r.y-_.y)/(C.y-_.y)+_.x&&(u=!u);return u||t.prototype._containsPoint.call(this,r,!0)}});function a(r,u){return new o(r,u)}var l=hi.extend({initialize:function(r,u){X(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=k(r)?r:r.features,p,_,C;if(u){for(p=0,_=u.length;p<_;p++)C=u[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var N=this.options;if(N.filter&&!N.filter(r))return this;var P=h(r,N);return P?(P.feature=b(r),P.defaultOptions=P.options,this.resetStyle(P),N.onEachFeature&&N.onEachFeature(r,P),this.addLayer(P)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=f({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function h(r,u){var p=r.type==="Feature"?r.geometry:r,_=p?p.coordinates:null,C=[],N=u&&u.pointToLayer,P=u&&u.coordsToLatLng||m,V,Y,ne,_e;if(!_&&!p)return null;switch(p.type){case"Point":return V=P(_),d(N,r,V,u);case"MultiPoint":for(ne=0,_e=_.length;ne<_e;ne++)V=P(_[ne]),C.push(d(N,r,V,u));return new hi(C);case"LineString":case"MultiLineString":return Y=x(_,p.type==="LineString"?0:1,P),new t(Y,u);case"Polygon":case"MultiPolygon":return Y=x(_,p.type==="Polygon"?1:2,P),new o(Y,u);case"GeometryCollection":for(ne=0,_e=p.geometries.length;ne<_e;ne++){var Pe=h({geometry:p.geometries[ne],type:"Feature",properties:r.properties},u);Pe&&C.push(Pe)}return new hi(C);case"FeatureCollection":for(ne=0,_e=p.features.length;ne<_e;ne++){var Qe=h(p.features[ne],u);Qe&&C.push(Qe)}return new hi(C);default:throw new Error("Invalid GeoJSON object.")}}function d(r,u,p,_){return r?r(u,p):new Ln(p,_&&_.markersInheritOptions&&_)}function m(r){return new Xe(r[1],r[0],r[2])}function x(r,u,p){for(var _=[],C=0,N=r.length,P;C<N;C++)P=u?x(r[C],u-1,p):(p||m)(r[C]),_.push(P);return _}function v(r,u){return r=re(r),r.alt!==void 0?[U(r.lng,u),U(r.lat,u),U(r.alt,u)]:[U(r.lng,u),U(r.lat,u)]}function A(r,u,p,_){for(var C=[],N=0,P=r.length;N<P;N++)C.push(u?A(r[N],bn(r[N])?0:u-1,p,_):v(r[N],_));return!u&&p&&C.length>0&&C.push(C[0].slice()),C}function T(r,u){return r.feature?f({},r.feature,{geometry:u}):b(u)}function b(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var B={toGeoJSON:function(r){return T(this,{type:"Point",coordinates:v(this.getLatLng(),r)})}};Ln.include(B),Or.include(B),Yi.include(B),t.include({toGeoJSON:function(r){var u=!bn(this._latlngs),p=A(this._latlngs,u?1:0,!1,r);return T(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),o.include({toGeoJSON:function(r){var u=!bn(this._latlngs),p=u&&!bn(this._latlngs[0]),_=A(this._latlngs,p?2:u?1:0,!0,r);return u||(_=[_]),T(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),Mi.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(r).geometry.coordinates)}),T(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var p=u==="GeometryCollection",_=[];return this.eachLayer(function(C){if(C.toGeoJSON){var N=C.toGeoJSON(r);if(p)_.push(N.geometry);else{var P=b(N);P.type==="FeatureCollection"?_.push.apply(_,P.features):_.push(P)}}}),p?T(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function F(r,u){return new l(r,u)}var H=F,W=Qt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,p){this._url=r,this._bounds=Fe(u),X(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Et(this._image),this},bringToBack:function(){return this._map&&Mn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:$e("img");if(Ae(u,"leaflet-image-layer"),this._zoomAnimated&&Ae(u,"leaflet-zoom-animated"),this.options.className&&Ae(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onload=y(this.fire,this,"load"),u.onerror=y(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;M(this._image,p,u)},_reset:function(){var r=this._image,u=new De(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();pe(r,u.min),r.style.width=p.x+"px",r.style.height=p.y+"px"},_updateOpacity:function(){Ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ae=function(r,u,p){return new W(r,u,p)},ue=W.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:$e("video");if(Ae(u,"leaflet-image-layer"),this._zoomAnimated&&Ae(u,"leaflet-zoom-animated"),this.options.className&&Ae(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onloadeddata=y(this.fire,this,"load"),r){for(var p=u.getElementsByTagName("source"),_=[],C=0;C<p.length;C++)_.push(p[C].src);this._url=p.length>0?_:[u.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var P=$e("source");P.src=this._url[N],u.appendChild(P)}}});function ie(r,u,p){return new ue(r,u,p)}var Ge=W.extend({_initImage:function(){var r=this._image=this._url;Ae(r,"leaflet-image-layer"),this._zoomAnimated&&Ae(r,"leaflet-zoom-animated"),this.options.className&&Ae(r,this.options.className),r.onselectstart=O,r.onmousemove=O}});function Ue(r,u,p){return new Ge(r,u,p)}var Nt=Qt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Xe||k(r))?(this._latlng=re(r),X(this,u)):(X(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ze(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ze(this._container,0),this._removeTimeout=setTimeout(y(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=re(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Et(this._container),this},bringToBack:function(){return this._map&&Mn(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof hi){u=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){u=p[_];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=se(this.options.offset),p=this._getAnchor();this._zoomAnimated?pe(this._container,r.add(p)):u=u.add(r).add(p);var _=this._containerBottom=-u.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Je.include({_initOverlay:function(r,u,p,_){var C=u;return C instanceof r||(C=new r(_).setContent(u)),p&&C.setLatLng(p),C}}),Qt.include({_initOverlay:function(r,u,p,_){var C=p;return C instanceof r?(X(C,_),C._source=this):(C=u&&!_?u:new r(_,this),C.setContent(p)),C}});var wn=Nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Nt.prototype.openOn.call(this,r)},onAdd:function(r){Nt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof di||this._source.on("preclick",Ii))},onRemove:function(r){Nt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof di||this._source.off("preclick",Ii))},getEvents:function(){var r=Nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=$e("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=$e("div",r+"-content-wrapper",u);if(this._contentNode=$e("div",r+"-content",p),Xn(u),bo(this._contentNode),ke(u,"contextmenu",Ii),this._tipContainer=$e("div",r+"-tip-container",u),this._tip=$e("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=$e("a",r+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',ke(_,"click",function(C){tn(C),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var p=r.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var _=r.offsetHeight,C=this.options.maxHeight,N="leaflet-popup-scrolled";C&&_>C?(u.height=C+"px",Ae(r,N)):lt(r,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),p=this._getAnchor();pe(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(Ve(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,_=this._containerWidth,C=new $(this._containerLeft,-p-this._containerBottom);C._add(At(this._container));var N=r.layerPointToContainerPoint(C),P=se(this.options.autoPanPadding),V=se(this.options.autoPanPaddingTopLeft||P),Y=se(this.options.autoPanPaddingBottomRight||P),ne=r.getSize(),_e=0,Pe=0;N.x+_+Y.x>ne.x&&(_e=N.x+_-ne.x+Y.x),N.x-_e-V.x<0&&(_e=N.x-V.x),N.y+p+Y.y>ne.y&&(Pe=N.y+p-ne.y+Y.y),N.y-Pe-V.y<0&&(Pe=N.y-V.y),(_e||Pe)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([_e,Pe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vn=function(r,u){return new wn(r,u)};Je.mergeOptions({closePopupOnClick:!0}),Je.include({openPopup:function(r,u,p){return this._initOverlay(wn,r,u,p).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Qt.include({bindPopup:function(r,u){return this._popup=this._initOverlay(wn,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof hi||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Qn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof di)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var at=Nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Nt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Nt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Nt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$e("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+I(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,p,_=this._map,C=this._container,N=_.latLngToContainerPoint(_.getCenter()),P=_.layerPointToContainerPoint(r),V=this.options.direction,Y=C.offsetWidth,ne=C.offsetHeight,_e=se(this.options.offset),Pe=this._getAnchor();V==="top"?(u=Y/2,p=ne):V==="bottom"?(u=Y/2,p=0):V==="center"?(u=Y/2,p=ne/2):V==="right"?(u=0,p=ne/2):V==="left"?(u=Y,p=ne/2):P.x<N.x?(V="right",u=0,p=ne/2):(V="left",u=Y+(_e.x+Pe.x)*2,p=ne/2),r=r.subtract(se(u,p,!0)).add(_e).add(Pe),lt(C,"leaflet-tooltip-right"),lt(C,"leaflet-tooltip-left"),lt(C,"leaflet-tooltip-top"),lt(C,"leaflet-tooltip-bottom"),Ae(C,"leaflet-tooltip-"+V),pe(C,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ze(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rn=function(r,u){return new at(r,u)};Je.include({openTooltip:function(r,u,p){return this._initOverlay(at,r,u,p).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Qt.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(at,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof hi||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(ke(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ke(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,p,_;this._tooltip.options.sticky&&r.originalEvent&&(p=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Cn=Mr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ar(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=se(p.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function br(r){return new Cn(r)}Mr.Default=fo;var gi=Qt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){X(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),wt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof $?r:new $(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,p=-r(-1/0,1/0),_=0,C=u.length,N;_<C;_++)N=u[_].style.zIndex,u[_]!==this._container&&N&&(p=r(p,+N));isFinite(p)&&(this.options.zIndex=p+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){Ze(this._container,this.options.opacity);var r=+new Date,u=!1,p=!1;for(var _ in this._tiles){var C=this._tiles[_];if(!(!C.current||!C.loaded)){var N=Math.min(1,(r-C.loaded)/200);Ze(C.el,N),N<1?u=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(ye(this._fadeFrame),this._fadeFrame=He(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=$e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===r?(this._levels[p].el.style.zIndex=u-Math.abs(r-p),this._onUpdateLevel(p)):(wt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[r],C=this._map;return _||(_=this._levels[r]={},_.el=$e("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=C.project(C.unproject(C.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,C.getCenter(),C.getZoom()),O(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var r,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)wt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,p,_){var C=Math.floor(r/2),N=Math.floor(u/2),P=p-1,V=new $(+C,+N);V.z=+P;var Y=this._tileCoordsToKey(V),ne=this._tiles[Y];return ne&&ne.active?(ne.retain=!0,!0):(ne&&ne.loaded&&(ne.retain=!0),P>_?this._retainParent(C,N,P,_):!1)},_retainChildren:function(r,u,p,_){for(var C=2*r;C<2*r+2;C++)for(var N=2*u;N<2*u+2;N++){var P=new $(C,N);P.z=p+1;var V=this._tileCoordsToKey(P),Y=this._tiles[V];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);p+1<_&&this._retainChildren(C,N,p+1,_)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,p,_){var C=Math.round(u);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var N=this.options.updateWhenZooming&&C!==this._tileZoom;(!_||N)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(r),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],r,u)},_setZoomTransform:function(r,u,p){var _=this._map.getZoomScale(p,r.zoom),C=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,p)).round();Ee.any3d?M(r.el,C,_):pe(r.el,C)},_resetGrid:function(){var r=this._map,u=r.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],_).x/p.x),Math.ceil(r.project([0,u.wrapLng[1]],_).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],_).y/p.x),Math.ceil(r.project([u.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(p,this._tileZoom),C=u.project(r,this._tileZoom).floor(),N=u.getSize().divideBy(_*2);return new De(C.subtract(N),C.add(N))},_update:function(r){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),C=this._pxBoundsToTileRange(_),N=C.getCenter(),P=[],V=this.options.keepBuffer,Y=new De(C.getBottomLeft().subtract([V,-V]),C.getTopRight().add([V,-V]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ne in this._tiles){var _e=this._tiles[ne].coords;(_e.z!==this._tileZoom||!Y.contains(new $(_e.x,_e.y)))&&(this._tiles[ne].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(r,p);return}for(var Pe=C.min.y;Pe<=C.max.y;Pe++)for(var Qe=C.min.x;Qe<=C.max.x;Qe++){var Dn=new $(Qe,Pe);if(Dn.z=this._tileZoom,!!this._isValidTile(Dn)){var dn=this._tiles[this._tileCoordsToKey(Dn)];dn?dn.current=!0:P.push(Dn)}}if(P.sort(function(zn,ko){return zn.distanceTo(N)-ko.distanceTo(N)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pi=document.createDocumentFragment();for(Qe=0;Qe<P.length;Qe++)this._addTile(P[Qe],pi);this._level.el.appendChild(pi)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(r.x<p.min.x||r.x>p.max.x)||!u.wrapLat&&(r.y<p.min.y||r.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return Fe(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,p=this.getTileSize(),_=r.scaleBy(p),C=_.add(p),N=u.unproject(_,r.z),P=u.unproject(C,r.z);return[N,P]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),p=new ct(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),p=new $(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(r){var u=this._tiles[r];u&&(wt(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ae(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=O,r.onmousemove=O,Ee.ielt9&&this.options.opacity<1&&Ze(r,this.options.opacity)},_addTile:function(r,u){var p=this._getTilePos(r),_=this._tileCoordsToKey(r),C=this.createTile(this._wrapCoords(r),y(this._tileReady,this,r));this._initTile(C),this.createTile.length<2&&He(y(this._tileReady,this,r,null,C)),pe(C,p),this._tiles[_]={el:C,coords:r,current:!0},u.appendChild(C),this.fire("tileloadstart",{tile:C,coords:r})},_tileReady:function(r,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:r});var _=this._tileCoordsToKey(r);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Ze(p.el,0),ye(this._fadeFrame),this._fadeFrame=He(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Ae(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?He(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new $(this._wrapX?D(r.x,this._wrapX):r.x,this._wrapY?D(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new De(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function lu(r){return new gi(r)}var Lr=gi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=X(this,u),u.detectRetina&&Ee.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var p=document.createElement("img");return ke(p,"load",y(this._tileOnLoad,this,u,p)),ke(p,"error",y(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(r),p},getTileUrl:function(r){var u={r:Ee.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=p),u["-y"]=p}return R(this._url,f(u,this.options))},_tileOnLoad:function(r,u){Ee.ielt9?setTimeout(y(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,p){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),r(p,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(r=u-r),r+_},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=O,u.onerror=O,!u.complete)){u.src=ge;var p=this._tiles[r].coords;wt(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",ge),gi.prototype._removeTile.call(this,r)},_tileReady:function(r,u,p){if(!(!this._map||p&&p.getAttribute("src")===ge))return gi.prototype._tileReady.call(this,r,u,p)}});function Nh(r,u){return new Lr(r,u)}var Mh=Lr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var p=f({},this.defaultWmsParams);for(var _ in u)_ in this.options||(p[_]=u[_]);u=X(this,u);var C=u.detectRetina&&Ee.retina?2:1,N=this.getTileSize();p.width=N.x*C,p.height=N.y*C,this.wmsParams=p},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Lr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),p=this._crs,_=be(p.project(u[0]),p.project(u[1])),C=_.min,N=_.max,P=(this._wmsVersion>=1.3&&this._crs===Nr?[C.y,C.x,N.y,N.x]:[C.x,C.y,N.x,N.y]).join(","),V=Lr.prototype.getTileUrl.call(this,r);return V+Se(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(r,u){return f(this.wmsParams,r),u||this.redraw(),this}});function H0(r,u){return new Mh(r,u)}Lr.WMS=Mh,Nh.wms=H0;var cr=Qt.extend({options:{padding:.1},initialize:function(r){X(this,r),I(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var p=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,u),N=_.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(r,u));Ee.any3d?M(this._container,N,p):pe(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new De(p,p.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Oh=cr.extend({options:{tolerance:0},getEvents:function(){var r=cr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ke(r,"mousemove",this._onMouseMove,this),ke(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){ye(this._redrawRequest),delete this._ctx,wt(this._container),me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cr.prototype._update.call(this);var r=this._bounds,u=this._container,p=r.getSize(),_=Ee.retina?2:1;pe(u,r.min),u.width=_*p.x,u.height=_*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[I(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,p=u.next,_=u.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete r._order,delete this._layers[I(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),p=[],_,C;for(C=0;C<u.length;C++){if(_=Number(u[C]),isNaN(_))return;p.push(_)}r.options._dashArray=p}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||He(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new De,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var p,_,C,N,P=r._parts,V=P.length,Y=this._ctx;if(V){for(Y.beginPath(),p=0;p<V;p++){for(_=0,C=P[p].length;_<C;_++)N=P[p][_],Y[_?"lineTo":"moveTo"](N.x,N.y);u&&Y.closePath()}this._fillStroke(Y,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,p=this._ctx,_=Math.max(Math.round(r._radius),1),C=(Math.max(Math.round(r._radiusY),1)||_)/_;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(u.x,u.y/C,_,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,r)}},_fillStroke:function(r,u){var p=u.options;p.fill&&(r.globalAlpha=p.fillOpacity,r.fillStyle=p.fillColor||p.color,r.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=p.opacity,r.lineWidth=p.weight,r.strokeStyle=p.color,r.lineCap=p.lineCap,r.lineJoin=p.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),p,_,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(lt(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var p,_,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(u)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,p){this._map._fireDOMEvent(u,p||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var p=u.next,_=u.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var p=u.next,_=u.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function bh(r){return Ee.canvas?new Oh(r):null}var bs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),j0={_initContainer:function(){this._container=$e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=bs("shape");Ae(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=bs("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[I(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;wt(u),r.removeInteractiveTarget(u),delete this._layers[I(r)]},_updateStyle:function(r){var u=r._stroke,p=r._fill,_=r.options,C=r._container;C.stroked=!!_.stroke,C.filled=!!_.fill,_.stroke?(u||(u=r._stroke=bs("stroke")),C.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=k(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(C.removeChild(u),r._stroke=null),_.fill?(p||(p=r._fill=bs("fill")),C.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(C.removeChild(p),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),p=Math.round(r._radius),_=Math.round(r._radiusY||p);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){Et(r._container)},_bringToBack:function(r){Mn(r._container)}},La=Ee.vml?bs:Tn,Ls=cr.extend({_initContainer:function(){this._container=La("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=La("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cr.prototype._update.call(this);var r=this._bounds,u=r.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),pe(p,r.min),p.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=La("path");r.options.className&&Ae(u,r.options.className),r.options.interactive&&Ae(u,"leaflet-interactive"),this._updateStyle(r),this._layers[I(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){wt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[I(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,p=r.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,zi(r._parts,u))},_updateCircle:function(r){var u=r._point,p=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||p,C="a"+p+","+_+" 0 1,0 ",N=r._empty()?"M0 0":"M"+(u.x-p)+","+u.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(r,N)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){Et(r._path)},_bringToBack:function(r){Mn(r._path)}});Ee.vml&&Ls.include(j0);function Lh(r){return Ee.svg||Ee.vml?new Ls(r):null}Je.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&bh(r)||Lh(r)}});var Dh=o.extend({initialize:function(r,u){o.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function V0(r,u){return new Dh(r,u)}Ls.create=La,Ls.pointsToPath=zi,l.geometryToLayer=h,l.coordsToLatLng=m,l.coordsToLatLngs=x,l.latLngToCoords=v,l.latLngsToCoords=A,l.getFeature=T,l.asFeature=b,Je.mergeOptions({boxZoom:!0});var Rh=On.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hn(),Ne(),this._startPoint=this._map.mouseEventToContainerPoint(r),ke(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=$e("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new De(this._point,this._startPoint),p=u.getSize();pe(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(wt(this._box),lt(this._container,"leaflet-crosshair")),so(),vt(),me(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0);var u=new ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Je.addInitHook("addHandler","boxZoom",Rh),Je.mergeOptions({doubleClickZoom:!0});var Ph=On.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,p=u.getZoom(),_=u.options.zoomDelta,C=r.originalEvent.shiftKey?p-_:p+_;u.options.doubleClickZoom==="center"?u.setZoom(C):u.setZoomAround(r.containerPoint,C)}});Je.addInitHook("addHandler","doubleClickZoom",Ph),Je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kh=On.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Wi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Fe(this._map.options.maxBounds);this._offsetLimit=be(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,C=(_-u+p)%r+u-p,N=(_+u+p)%r-u-p,P=Math.abs(C+p)<Math.abs(N+p)?C:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(r){var u=this._map,p=u.options,_=!p.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),_)u.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,P=p.easeLinearity,V=C.multiplyBy(P/N),Y=V.distanceTo([0,0]),ne=Math.min(p.inertiaMaxSpeed,Y),_e=V.multiplyBy(ne/Y),Pe=ne/(p.inertiaDeceleration*P),Qe=_e.multiplyBy(-Pe/2).round();!Qe.x&&!Qe.y?u.fire("moveend"):(Qe=u._limitOffset(Qe,u.options.maxBounds),He(function(){u.panBy(Qe,{duration:Pe,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});Je.addInitHook("addHandler","dragging",kh),Je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bh=On.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ke(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,p=r.scrollTop||u.scrollTop,_=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},p=this.keyCodes,_,C;for(_=0,C=p.left.length;_<C;_++)u[p.left[_]]=[-1*r,0];for(_=0,C=p.right.length;_<C;_++)u[p.right[_]]=[r,0];for(_=0,C=p.down.length;_<C;_++)u[p.down[_]]=[0,r];for(_=0,C=p.up.length;_<C;_++)u[p.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},p=this.keyCodes,_,C;for(_=0,C=p.zoomIn.length;_<C;_++)u[p.zoomIn[_]]=r;for(_=0,C=p.zoomOut.length;_<C;_++)u[p.zoomOut[_]]=-r},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,p=this._map,_;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[u],r.shiftKey&&(_=se(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(se(_),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(C)}else p.panBy(_)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Qn(r)}}});Je.addInitHook("addHandler","keyboard",Bh),Je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fh=On.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=Tr(r),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),_),Qn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),p=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,N=p?Math.ceil(C/p)*p:C,P=r._limitZoom(u+(this._delta>0?N:-N))-u;this._delta=0,this._startTime=null,P&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+P):r.setZoomAround(this._lastMousePos,u+P))}});Je.addInitHook("addHandler","scrollWheelZoom",Fh);var W0=600;Je.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var zh=On.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new $(u.clientX,u.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",tn),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),W0),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){me(document,"touchend",tn),me(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new $(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var p=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Je.addInitHook("addHandler","tapHold",zh),Je.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var Uh=On.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),tn(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]),C=p.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(C,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&C<1||this._zoom>u.getMaxZoom()&&C>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var N=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(C===1&&N.x===0&&N.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ye(this._animRequest);var P=y(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=He(P,this,!0),tn(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ye(this._animRequest),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Je.addInitHook("addHandler","touchZoom",Uh),Je.BoxZoom=Rh,Je.DoubleClickZoom=Ph,Je.Drag=kh,Je.Keyboard=Bh,Je.ScrollWheelZoom=Fh,Je.TapHold=zh,Je.TouchZoom=Uh,s.Bounds=De,s.Browser=Ee,s.CRS=Yt,s.Canvas=Oh,s.Circle=Or,s.CircleMarker=Yi,s.Class=We,s.Control=Kn,s.DivIcon=Cn,s.DivOverlay=Nt,s.DomEvent=yn,s.DomUtil=Xt,s.Draggable=Wi,s.Evented=Oe,s.FeatureGroup=hi,s.GeoJSON=l,s.GridLayer=gi,s.Handler=On,s.Icon=Mr,s.ImageOverlay=W,s.LatLng=Xe,s.LatLngBounds=ct,s.Layer=Qt,s.LayerGroup=Mi,s.LineUtil=ba,s.Map=Je,s.Marker=Ln,s.Mixin=Na,s.Path=di,s.Point=$,s.PolyUtil=Ss,s.Polygon=o,s.Polyline=t,s.Popup=wn,s.PosAnimation=As,s.Projection=Ns,s.Rectangle=Dh,s.Renderer=cr,s.SVG=Ls,s.SVGOverlay=Ge,s.TileLayer=Lr,s.Tooltip=at,s.Transformation=Wt,s.Util=Ye,s.VideoOverlay=ue,s.bind=y,s.bounds=be,s.canvas=bh,s.circle=E,s.circleMarker=tt,s.control=co,s.divIcon=br,s.extend=f,s.featureGroup=fi,s.geoJSON=F,s.geoJson=H,s.gridLayer=lu,s.icon=Ms,s.imageOverlay=ae,s.latLng=re,s.latLngBounds=Fe,s.layerGroup=Fn,s.map=Ia,s.marker=au,s.point=se,s.polygon=a,s.polyline=i,s.popup=vn,s.rectangle=V0,s.setOptions=X,s.stamp=I,s.svg=Lh,s.svgOverlay=Ue,s.tileLayer=Nh,s.tooltip=rn,s.transformation=si,s.version=c,s.videoOverlay=ie;var Z0=window.L;s.noConflict=function(){return window.L=Z0,this},window.L=s})})(Mc,Mc.exports);var Rm=Mc.exports;const Un=Pl(Rm);class Pm{constructor(n){this.V=n,this.adj=new Array(n).fill().map(()=>[]),this.parent=new Array(n).fill(-1),this.nodeCategories=new Array(n).fill("default"),this.nodeBuilding=new Array(n).fill(""),this.arrayPath=[]}addEdge(n,s,c){this.adj[n].push([s,c]),this.adj[s].push([n,c])}setNodeCategory(n,s){this.nodeCategories[n]=s}setNodeBuilding(n,s){this.nodeBuilding[n]=s}findClosestCategory(n,s,c,f){const g=new Array(this.V).fill(Number.POSITIVE_INFINITY),y=new Set;for(y.add([0,n]),g[n]=0;y.size>0;){const w=[...y].reduce((O,U)=>O[0]<U[0]?O:U);y.delete(w);const D=w[1];for(const[O,U]of this.adj[D])!c&&this.nodeCategories[O]==="elevator"||!f&&this.nodeCategories[Jl]==="emergencyExit"||g[O]>g[D]+U&&(g[O]!==Number.POSITIVE_INFINITY&&y.delete([g[O],O]),g[O]=g[D]+U,y.add([g[O],O]),this.parent[O]=D)}let S=-1,I=Number.POSITIVE_INFINITY;for(let w=0;w<this.V;w++)g[w]<I&&this.nodeCategories[w]===s&&(I=g[w],S=w);return I!==Number.POSITIVE_INFINITY?(console.log(`Closest Node of Category ${s} from Room ${n} is Room ${S} at a distance of ${I}.`),console.log("Path: "),this.printPath(S),console.log("Array Path:",this.arrayPath)):console.log(`No node of Category ${s} found from Room ${n}`),[I,S]}printPath(n){if(this.arrayPath=[],console.log(`Current Node: ${n}`),n===-1){console.log("Terminating recursion");return}this.printPath(this.parent[n]),console.log(`${n} -> `),this.arrayPath.push(Number(n))}shortestPath(n,s,c,f){const g=new Array(this.V).fill(Number.POSITIVE_INFINITY),y=new Set;for(y.add([0,n]),g[n]=0;y.size>0;){const S=[...y].reduce((w,D)=>w[0]<D[0]?w:D);y.delete(S);const I=S[1];for(const[w,D]of this.adj[I])!f&&this.nodeCategories[w]==="emergencyExit"||!c&&this.nodeCategories[w]==="elevator"||g[w]>g[I]+D&&(g[w]!==Number.POSITIVE_INFINITY&&y.delete([g[w],w]),g[w]=g[I]+D,y.add([g[w],w]),this.parent[w]=I)}g[s]===Number.POSITIVE_INFINITY?console.log(`No node found at Room ${s} from Room ${n}`):(console.log(`Room ${s} from Room ${n} is ${g[s]} units away.`),console.log("Path: "),this.printPath(s))}}function td(e,n,s,c,f){if(oe.parent=new Array(Jl).fill(-1),oe.arrayPath=[],e==="enterDestination")return oe.shortestPath(n,s,c,f),oe.arrayPath;if(e==="enterFindFacility")return oe.findClosestCategory(n,s,c,f),oe.arrayPath}function km(e,n,s,c,f){if(oe.parent=new Array(Jl).fill(-1),oe.arrayPath=[],e==="enterDestination")return oe.shortestPath(n,s,c,f),oe.nodeBuilding[oe.arrayPath[0]];if(e==="enterFindFacility")return oe.findClosestCategory(n,s,c,f),oe.nodeBuilding[oe.arrayPath[0]]}const Jl=1e4,oe=new Pm(Jl);oe.addEdge(0,1,1);oe.addEdge(0,3,1);oe.addEdge(3,2,1);oe.addEdge(3,6,1);oe.addEdge(4,6,1);oe.addEdge(5,6,1);oe.addEdge(7,6,1);oe.addEdge(7,11,1);oe.addEdge(12,11,1);oe.addEdge(12,13,1);oe.addEdge(7,8,1);oe.addEdge(9,8,1);oe.addEdge(10,8,1);oe.addEdge(10,14,1);oe.addEdge(10,16,1);oe.addEdge(15,16,1);oe.addEdge(19,16,1);oe.addEdge(19,18,1);oe.addEdge(19,20,1);oe.addEdge(19,22,1);oe.addEdge(21,22,1);oe.addEdge(23,22,1);oe.addEdge(24,22,1);oe.addEdge(24,25,1);oe.addEdge(26,25,1);oe.addEdge(27,25,1);oe.addEdge(24,28,1);oe.addEdge(29,28,1);oe.addEdge(30,28,1);oe.addEdge(31,28,1);oe.addEdge(31,33,1);oe.addEdge(32,33,1);oe.addEdge(34,33,1);oe.addEdge(34,35,1);oe.addEdge(34,37,1);oe.addEdge(36,37,1);oe.addEdge(38,37,1);oe.addEdge(38,46,1);oe.addEdge(38,47,1);oe.addEdge(38,48,1);oe.addEdge(38,39,1);oe.addEdge(40,39,1);oe.addEdge(41,39,1);oe.addEdge(41,45,1);oe.addEdge(41,42,1);oe.addEdge(43,42,1);oe.addEdge(44,43,1);oe.addEdge(31,49,1);oe.addEdge(50,49,1);oe.addEdge(51,49,1);oe.addEdge(51,52,1);oe.addEdge(51,53,1);oe.addEdge(54,53,1);oe.addEdge(55,53,1);oe.addEdge(55,56,1);oe.addEdge(55,57,1);oe.addEdge(58,57,1);oe.addEdge(58,59,1);oe.addEdge(60,53,1);oe.addEdge(60,61,1);oe.addEdge(60,82,1);oe.addEdge(62,82,1);oe.addEdge(17,82,1);oe.addEdge(63,17,1);oe.addEdge(17,65,1);oe.addEdge(66,65,1);oe.addEdge(67,65,1);oe.addEdge(67,68,1);oe.addEdge(67,69,1);oe.addEdge(70,69,1);oe.addEdge(71,69,1);oe.addEdge(72,69,1);oe.addEdge(72,73,1);oe.addEdge(72,74,.5);oe.addEdge(75,74,1);oe.addEdge(76,74,.5);oe.addEdge(77,76,1);oe.addEdge(78,76,1);oe.addEdge(78,79,1);oe.addEdge(78,80,1);oe.addEdge(81,80,1);oe.addEdge(16,80,2);for(let e=0;e<=100;e++)oe.setNodeBuilding(e,"science2ndFloor");var ve;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ve||(ve={}));var nd=new Map([[ve.QR_CODE,"QR_CODE"],[ve.AZTEC,"AZTEC"],[ve.CODABAR,"CODABAR"],[ve.CODE_39,"CODE_39"],[ve.CODE_93,"CODE_93"],[ve.CODE_128,"CODE_128"],[ve.DATA_MATRIX,"DATA_MATRIX"],[ve.MAXICODE,"MAXICODE"],[ve.ITF,"ITF"],[ve.EAN_13,"EAN_13"],[ve.EAN_8,"EAN_8"],[ve.PDF_417,"PDF_417"],[ve.RSS_14,"RSS_14"],[ve.RSS_EXPANDED,"RSS_EXPANDED"],[ve.UPC_A,"UPC_A"],[ve.UPC_E,"UPC_E"],[ve.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),id;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(id||(id={}));function Bm(e){return Object.values(ve).includes(e)}var qr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(qr||(qr={}));var Di=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[qr.SCAN_TYPE_CAMERA,qr.SCAN_TYPE_FILE],e}(),D0=function(){function e(n,s){this.format=n,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!nd.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,nd.get(n))},e}(),rd=function(){function e(){}return e.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Oc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Oc||(Oc={}));var R0=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Oc.UNKWOWN_ERROR}},e}(),P0=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Ki(e){return typeof e>"u"||e===null}function Fm(e,n,s){return e>s?s:e<n?n:e}var qo=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),gt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),od=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),k0=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var c=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(f),y=Object.keys(n),S=0,I=y;S<I.length;S++){var w=I[S];if(g.has(w))return s.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},e}(),bc={exports:{}};(function(e,n){(function(s,c){c(n)})(Fo,function(s){function c(E){return E==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,t){E.__proto__=t}||function(E,t){for(var i in t)t.hasOwnProperty(i)&&(E[i]=t[i])};function g(E,t){f(E,t);function i(){this.constructor=E}E.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function y(E,t){var i=Object.setPrototypeOf;i?i(E,t):E.__proto__=t}function S(E,t){t===void 0&&(t=E.constructor);var i=Error.captureStackTrace;i&&i(E,t)}var I=function(E){g(t,E);function t(i){var o=this.constructor,a=E.call(this,i)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),y(a,o.prototype),S(a),a}return t}(Error);class w extends I{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}w.kind="Exception";class D extends w{}D.kind="ArgumentException";class O extends w{}O.kind="IllegalArgumentException";class U{constructor(t){if(this.binarizer=t,t===null)throw new O("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,o,a){const l=this.binarizer.getLuminanceSource().crop(t,i,o,a);return new U(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new U(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new U(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class q extends w{static getChecksumInstance(){return new q}}q.kind="ChecksumException";class te{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class X{static arraycopy(t,i,o,a,l){for(;l--;)o[a++]=t[i++]}static currentTimeMillis(){return Date.now()}}class Se extends w{}Se.kind="IndexOutOfBoundsException";class z extends Se{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}z.kind="ArrayIndexOutOfBoundsException";class R{static fill(t,i){for(let o=0,a=t.length;o<a;o++)t[o]=i}static fillWithin(t,i,o,a){R.rangeCheck(t.length,i,o);for(let l=i;l<o;l++)t[l]=a}static rangeCheck(t,i,o){if(i>o)throw new O("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new z(i);if(o>t)throw new z(o)}static asList(...t){return t}static create(t,i,o){return Array.from({length:t}).map(l=>Array.from({length:i}).fill(o))}static createInt32Array(t,i,o){return Array.from({length:t}).map(l=>Int32Array.from({length:i}).fill(o))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let o=0,a=t.length;o<a;o++)if(t[o]!==i[o])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const o of t)i=31*i+o;return i}static fillUint8Array(t,i){for(let o=0;o!==t.length;o++)t[o]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const o=new Uint8Array(i);return o.set(t),o}return t.slice(0,i)}static copyOfRange(t,i,o){const a=o-i,l=new Int32Array(a);return X.arraycopy(t,i,l,0,a),l}static binarySearch(t,i,o){o===void 0&&(o=R.numberComparator);let a=0,l=t.length-1;for(;a<=l;){const h=l+a>>1,d=o(i,t[h]);if(d>0)a=h+1;else if(d<0)l=h-1;else return h}return-a-1}static numberComparator(t,i){return t-i}}class k{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let o=31;return i=t<<16,i!==0&&(o-=16,t=i),i=t<<8,i!==0&&(o-=8,t=i),i=t<<4,i!==0&&(o-=4,t=i),i=t<<2,i!==0&&(o-=2,t=i),o-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Q.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Q.makeArray(t);X.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const o=this.bits;let a=Math.floor(t/32),l=o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return i;l=o[a]}const d=a*32+k.numberOfTrailingZeros(l);return d>i?i:d}getNextUnset(t){const i=this.size;if(t>=i)return i;const o=this.bits;let a=Math.floor(t/32),l=~o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return i;l=~o[a]}const d=a*32+k.numberOfTrailingZeros(l);return d>i?i:d}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new O;if(i===t)return;i--;const o=Math.floor(t/32),a=Math.floor(i/32),l=this.bits;for(let h=o;h<=a;h++){const d=h>o?0:t&31,x=(2<<(h<a?31:i&31))-(1<<d);l[h]|=x}}clear(){const t=this.bits.length,i=this.bits;for(let o=0;o<t;o++)i[o]=0}isRange(t,i,o){if(i<t||t<0||i>this.size)throw new O;if(i===t)return!0;i--;const a=Math.floor(t/32),l=Math.floor(i/32),h=this.bits;for(let d=a;d<=l;d++){const m=d>a?0:t&31,v=(2<<(d<l?31:i&31))-(1<<m)&4294967295;if((h[d]&v)!==(o?v:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new O("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((t>>o-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(t.get(o))}xor(t){if(this.size!==t.size)throw new O("Sizes don't match");const i=this.bits;for(let o=0,a=i.length;o<a;o++)i[o]^=t.bits[o]}toBytes(t,i,o,a){for(let l=0;l<a;l++){let h=0;for(let d=0;d<8;d++)this.get(t)&&(h|=1<<7-d),t++;i[o+l]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,a=this.bits;for(let l=0;l<o;l++){let h=a[l];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[i-l]=h}if(this.size!==o*32){const l=o*32-this.size;let h=t[0]>>>l;for(let d=1;d<o;d++){const m=t[d];h|=m<<32-l,t[d-1]=h,h=m>>>l}t[o-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Q))return!1;const i=t;return this.size===i.size&&R.equals(this.bits,i.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let t="";for(let i=0,o=this.size;i<o;i++)i&7||(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Q(this.size,this.bits.slice())}}var ge;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ge||(ge={}));var le=ge;class G extends w{static getFormatInstance(){return new G}}G.kind="FormatException";var he;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(he||(he={}));class J{constructor(t,i,o,...a){this.valueIdentifier=t,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,J.VALUE_IDENTIFIER_TO_ECI.set(t,this),J.NAME_TO_ECI.set(o,this);const l=this.values;for(let h=0,d=l.length;h!==d;h++){const m=l[h];J.VALUES_TO_ECI.set(m,this)}for(const h of a)J.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new G("incorect value");const i=J.VALUES_TO_ECI.get(t);if(i===void 0)throw new G("incorect value");return i}static getCharacterSetECIByName(t){const i=J.NAME_TO_ECI.get(t);if(i===void 0)throw new G("incorect value");return i}equals(t){if(!(t instanceof J))return!1;const i=t;return this.getName()===i.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(he.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(he.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(he.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(he.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(he.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(he.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(he.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(he.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(he.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(he.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(he.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(he.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(he.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(he.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(he.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(he.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(he.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(he.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(he.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(he.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(he.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(he.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(he.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(he.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(he.Big5,28,"Big5"),J.GB18030=new J(he.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(he.EUC_KR,30,"EUC_KR","EUC-KR");class Be extends w{}Be.kind="UnsupportedOperationException";class He{static decode(t,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)}static shouldDecodeOnFallback(t){return!He.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof J?t:J.getCharacterSetECIByName(t)}static decodeFallback(t,i){const o=this.encodingCharacterSet(i);if(He.isDecodeFallbackSupported(o)){let a="";for(let l=0,h=t.length;l<h;l++){let d=t[l].toString(16);d.length<2&&(d="0"+d),a+="%"+d}return decodeURIComponent(a)}if(o.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Be(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(J.UTF8)||t.equals(J.ISO8859_1)||t.equals(J.ASCII)}static encodeFallback(t){const o=btoa(unescape(encodeURIComponent(t))).split(""),a=[];for(let l=0;l<o.length;l++)a.push(o[l].charCodeAt(0));return new Uint8Array(a)}}class ye{static castAsNonUtf8Char(t,i=null){const o=i?i.getName():this.ISO88591;return He.decode(new Uint8Array([t]),o)}static guessEncoding(t,i){if(i!=null&&i.get(le.CHARACTER_SET)!==void 0)return i.get(le.CHARACTER_SET).toString();const o=t.length;let a=!0,l=!0,h=!0,d=0,m=0,x=0,v=0,A=0,T=0,b=0,B=0,F=0,H=0,W=0;const ae=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ue=0;ue<o&&(a||l||h);ue++){const ie=t[ue]&255;h&&(d>0?ie&128?d--:h=!1:ie&128&&(ie&64?(d++,ie&32?(d++,ie&16?(d++,ie&8?h=!1:v++):x++):m++):h=!1)),a&&(ie>127&&ie<160?a=!1:ie>159&&(ie<192||ie===215||ie===247)&&W++),l&&(A>0?ie<64||ie===127||ie>252?l=!1:A--:ie===128||ie===160||ie>239?l=!1:ie>160&&ie<224?(T++,B=0,b++,b>F&&(F=b)):ie>127?(A++,b=0,B++,B>H&&(H=B)):(b=0,B=0))}return h&&d>0&&(h=!1),l&&A>0&&(l=!1),h&&(ae||m+x+v>0)?ye.UTF8:l&&(ye.ASSUME_SHIFT_JIS||F>=3||H>=3)?ye.SHIFT_JIS:a&&l?F===2&&T===2||W*10>=o?ye.SHIFT_JIS:ye.ISO88591:a?ye.ISO88591:l?ye.SHIFT_JIS:h?ye.UTF8:ye.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let o=-1;function a(h,d,m,x,v,A){if(h==="%%")return"%";if(i[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let T=v?parseInt(v.substr(1)):void 0,b;switch(A){case"s":b=i[o];break;case"c":b=i[o][0];break;case"f":b=parseFloat(i[o]).toFixed(h);break;case"p":b=parseFloat(i[o]).toPrecision(h);break;case"e":b=parseFloat(i[o]).toExponential(h);break;case"x":b=parseInt(i[o]).toString(T||16);break;case"d":b=parseFloat(parseInt(i[o],T||10).toPrecision(h)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(T);let B=parseInt(m),F=m&&m[0]+""=="0"?"0":" ";for(;b.length<B;)b=d!==void 0?b+F:F+b;return b}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}static getBytes(t,i){return He.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}ye.SHIFT_JIS=J.SJIS.getName(),ye.GB2312="GB2312",ye.ISO88591=J.ISO8859_1.getName(),ye.EUC_JP="EUC_JP",ye.UTF8=J.UTF8.getName(),ye.PLATFORM_DEFAULT_ENCODING=ye.UTF8,ye.ASSUME_SHIFT_JIS=!1;class Ye{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ye.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,o){for(let a=i;i<i+o;a++)this.append(t[a]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class We{constructor(t,i,o,a){if(this.width=t,this.height=i,this.rowSize=o,this.bits=a,i==null&&(i=t),this.height=i,t<1||i<1)throw new O("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,o=t[0].length,a=new We(o,i);for(let l=0;l<i;l++){const h=t[l];for(let d=0;d<o;d++)h[d]&&a.set(d,l)}return a}static parseFromString(t,i,o){if(t===null)throw new O("stringRepresentation cannot be null");const a=new Array(t.length);let l=0,h=0,d=-1,m=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(l>h){if(d===-1)d=l-h;else if(l-h!==d)throw new O("row lengths do not match");h=l,m++}x++}else if(t.substring(x,x+i.length)===i)x+=i.length,a[l]=!0,l++;else if(t.substring(x,x+o.length)===o)x+=o.length,a[l]=!1,l++;else throw new O("illegal character encountered: "+t.substring(x));if(l>h){if(d===-1)d=l-h;else if(l-h!==d)throw new O("row lengths do not match");m++}const v=new We(d,m);for(let A=0;A<l;A++)a[A]&&v.set(Math.floor(A%d),Math.floor(A/d));return v}get(t,i){const o=i*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0}set(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295}unset(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)}flip(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new O("input matrix dimensions do not match");const i=new Q(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let l=0,h=this.height;l<h;l++){const d=l*o,m=t.getRow(l,i).getBitArray();for(let x=0;x<o;x++)a[d+x]^=m[x]}}clear(){const t=this.bits,i=t.length;for(let o=0;o<i;o++)t[o]=0}setRegion(t,i,o,a){if(i<0||t<0)throw new O("Left and top must be nonnegative");if(a<1||o<1)throw new O("Height and width must be at least 1");const l=t+o,h=i+a;if(h>this.height||l>this.width)throw new O("The region must fit inside the matrix");const d=this.rowSize,m=this.bits;for(let x=i;x<h;x++){const v=x*d;for(let A=t;A<l;A++)m[v+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Q(this.width):i.clear();const o=this.rowSize,a=this.bits,l=t*o;for(let h=0;h<o;h++)i.setBulk(h*32,a[l+h]);return i}setRow(t,i){X.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let o=new Q(t),a=new Q(t);for(let l=0,h=Math.floor((i+1)/2);l<h;l++)o=this.getRow(l,o),a=this.getRow(i-1-l,a),o.reverse(),a.reverse(),this.setRow(l,a),this.setRow(i-1-l,o)}getEnclosingRectangle(){const t=this.width,i=this.height,o=this.rowSize,a=this.bits;let l=t,h=i,d=-1,m=-1;for(let x=0;x<i;x++)for(let v=0;v<o;v++){const A=a[x*o+v];if(A!==0){if(x<h&&(h=x),x>m&&(m=x),v*32<l){let T=0;for(;!(A<<31-T&4294967295);)T++;v*32+T<l&&(l=v*32+T)}if(v*32+31>d){let T=31;for(;!(A>>>T);)T--;v*32+T>d&&(d=v*32+T)}}}return d<l||m<h?null:Int32Array.from([l,h,d-l+1,m-h+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const a=o/t;let l=o%t*32;const h=i[o];let d=0;for(;!(h<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,a])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const a=Math.floor(o/t);let l=Math.floor(o%t)*32;const h=i[o];let d=31;for(;!(h>>>d);)d--;return l+=d,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof We))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&R.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+R.hashCode(this.bits),t}toString(t="X ",i="  ",o=`
`){return this.buildToString(t,i,o)}buildToString(t,i,o){let a=new Ye;for(let l=0,h=this.height;l<h;l++){for(let d=0,m=this.width;d<m;d++)a.append(this.get(d,l)?t:i);a.append(o)}return a.toString()}clone(){return new We(this.width,this.height,this.rowSize,this.bits.slice())}}class K extends w{static getNotFoundInstance(){return new K}}K.kind="NotFoundException";class Le extends te{constructor(t){super(t),this.luminances=Le.EMPTY,this.buckets=new Int32Array(Le.LUMINANCE_BUCKETS)}getBlackRow(t,i){const o=this.getLuminanceSource(),a=o.getWidth();i==null||i.getSize()<a?i=new Q(a):i.clear(),this.initArrays(a);const l=o.getRow(t,this.luminances),h=this.buckets;for(let m=0;m<a;m++)h[(l[m]&255)>>Le.LUMINANCE_SHIFT]++;const d=Le.estimateBlackPoint(h);if(a<3)for(let m=0;m<a;m++)(l[m]&255)<d&&i.set(m);else{let m=l[0]&255,x=l[1]&255;for(let v=1;v<a-1;v++){const A=l[v+1]&255;(x*4-m-A)/2<d&&i.set(v),m=x,x=A}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight(),a=new We(i,o);this.initArrays(i);const l=this.buckets;for(let m=1;m<5;m++){const x=Math.floor(o*m/5),v=t.getRow(x,this.luminances),A=Math.floor(i*4/5);for(let T=Math.floor(i/5);T<A;T++){const b=v[T]&255;l[b>>Le.LUMINANCE_SHIFT]++}}const h=Le.estimateBlackPoint(l),d=t.getMatrix();for(let m=0;m<o;m++){const x=m*i;for(let v=0;v<i;v++)(d[x+v]&255)<h&&a.set(v,m)}return a}createBinarizer(t){return new Le(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let o=0;o<Le.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(t){const i=t.length;let o=0,a=0,l=0;for(let v=0;v<i;v++)t[v]>l&&(a=v,l=t[v]),t[v]>o&&(o=t[v]);let h=0,d=0;for(let v=0;v<i;v++){const A=v-a,T=t[v]*A*A;T>d&&(h=v,d=T)}if(a>h){const v=a;a=h,h=v}if(h-a<=i/16)throw new K;let m=h-1,x=-1;for(let v=h-1;v>a;v--){const A=v-a,T=A*A*(h-v)*(o-t[v]);T>x&&(m=v,x=T)}return m<<Le.LUMINANCE_SHIFT}}Le.LUMINANCE_BITS=5,Le.LUMINANCE_SHIFT=8-Le.LUMINANCE_BITS,Le.LUMINANCE_BUCKETS=1<<Le.LUMINANCE_BITS,Le.EMPTY=Uint8ClampedArray.from([0]);class Oe extends Le{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight();if(i>=Oe.MINIMUM_DIMENSION&&o>=Oe.MINIMUM_DIMENSION){const a=t.getMatrix();let l=i>>Oe.BLOCK_SIZE_POWER;i&Oe.BLOCK_SIZE_MASK&&l++;let h=o>>Oe.BLOCK_SIZE_POWER;o&Oe.BLOCK_SIZE_MASK&&h++;const d=Oe.calculateBlackPoints(a,l,h,i,o),m=new We(i,o);Oe.calculateThresholdForBlock(a,l,h,i,o,d,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new Oe(t)}static calculateThresholdForBlock(t,i,o,a,l,h,d){const m=l-Oe.BLOCK_SIZE,x=a-Oe.BLOCK_SIZE;for(let v=0;v<o;v++){let A=v<<Oe.BLOCK_SIZE_POWER;A>m&&(A=m);const T=Oe.cap(v,2,o-3);for(let b=0;b<i;b++){let B=b<<Oe.BLOCK_SIZE_POWER;B>x&&(B=x);const F=Oe.cap(b,2,i-3);let H=0;for(let ae=-2;ae<=2;ae++){const ue=h[T+ae];H+=ue[F-2]+ue[F-1]+ue[F]+ue[F+1]+ue[F+2]}const W=H/25;Oe.thresholdBlock(t,B,A,W,a,d)}}}static cap(t,i,o){return t<i?i:t>o?o:t}static thresholdBlock(t,i,o,a,l,h){for(let d=0,m=o*l+i;d<Oe.BLOCK_SIZE;d++,m+=l)for(let x=0;x<Oe.BLOCK_SIZE;x++)(t[m+x]&255)<=a&&h.set(i+x,o+d)}static calculateBlackPoints(t,i,o,a,l){const h=l-Oe.BLOCK_SIZE,d=a-Oe.BLOCK_SIZE,m=new Array(o);for(let x=0;x<o;x++){m[x]=new Int32Array(i);let v=x<<Oe.BLOCK_SIZE_POWER;v>h&&(v=h);for(let A=0;A<i;A++){let T=A<<Oe.BLOCK_SIZE_POWER;T>d&&(T=d);let b=0,B=255,F=0;for(let W=0,ae=v*a+T;W<Oe.BLOCK_SIZE;W++,ae+=a){for(let ue=0;ue<Oe.BLOCK_SIZE;ue++){const ie=t[ae+ue]&255;b+=ie,ie<B&&(B=ie),ie>F&&(F=ie)}if(F-B>Oe.MIN_DYNAMIC_RANGE)for(W++,ae+=a;W<Oe.BLOCK_SIZE;W++,ae+=a)for(let ue=0;ue<Oe.BLOCK_SIZE;ue++)b+=t[ae+ue]&255}let H=b>>Oe.BLOCK_SIZE_POWER*2;if(F-B<=Oe.MIN_DYNAMIC_RANGE&&(H=B/2,x>0&&A>0)){const W=(m[x-1][A]+2*m[x][A-1]+m[x-1][A-1])/4;B<W&&(H=W)}m[x][A]=H}}return m}}Oe.BLOCK_SIZE_POWER=3,Oe.BLOCK_SIZE=1<<Oe.BLOCK_SIZE_POWER,Oe.BLOCK_SIZE_MASK=Oe.BLOCK_SIZE-1,Oe.MINIMUM_DIMENSION=Oe.BLOCK_SIZE*5,Oe.MIN_DYNAMIC_RANGE=24;class ${constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,o,a){throw new Be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Be("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ye;for(let o=0;o<this.height;o++){const a=this.getRow(o,t);for(let l=0;l<this.width;l++){const h=a[l]&255;let d;h<64?d="#":h<128?d="+":h<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class Ie extends ${constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const o=this.delegate.getRow(t,i),a=this.getWidth();for(let l=0;l<a;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let a=0;a<i;a++)o[a]=255-(t[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,o,a){return new Ie(this.delegate.crop(t,i,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ie(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ie(this.delegate.rotateCounterClockwise45())}}class se extends ${constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=se.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return se.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,o){const a=new Uint8ClampedArray(i*o);for(let l=0,h=0,d=t.length;l<d;l+=4,h++){let m;if(t[l+3]===0)m=255;else{const v=t[l],A=t[l+1],T=t[l+2];m=306*v+601*A+117*T+512>>10}a[h]=m}return a}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth(),a=t*o;return i===null?i=this.buffer.slice(a,a+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(a,a+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,o,a){return super.crop(t,i,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),o=i.getContext("2d"),a=t*se.DEGREE_TO_RADIANS,l=this.canvas.width,h=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*h),m=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*h);return i.width=d,i.height=m,o.translate(d/2,m/2),o.rotate(a),o.drawImage(this.canvas,l/-2,h/-2),this.buffer=se.makeBufferFromCanvasImageData(i),this}invert(){return new Ie(this)}}se.DEGREE_TO_RADIANS=Math.PI/180;class De{constructor(t,i,o){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||Fo||self||window||void 0)&&(globalThis||Fo||self||window||void 0).__awaiter||function(E,t,i,o){function a(l){return l instanceof i?l:new i(function(h){h(l)})}return new(i||(i=Promise))(function(l,h){function d(v){try{x(o.next(v))}catch(A){h(A)}}function m(v){try{x(o.throw(v))}catch(A){h(A)}}function x(v){v.done?l(v.value):a(v.value).then(d,m)}x((o=o.apply(E,t||[])).next())})};class ct{constructor(t,i=500,o){this.reader=t,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of t){const a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;const l=o.deviceId||o.id,h=o.label||`Video device ${i.length+1}`,d=o.groupId,m={deviceId:l,label:h,kind:a,groupId:d};i.push(m)}return i})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new De(i.deviceId,i.label))})}findDeviceById(t){return be(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return be(this,void 0,void 0,function*(){this.reset();let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(t,i){return be(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(t,i){return be(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(t,i,o){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,o)})}decodeFromVideoDevice(t,i,o){return be(this,void 0,void 0,function*(){let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,i,o)})}decodeFromConstraints(t,i,o){return be(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(a,i,o)})}decodeFromStream(t,i,o){return be(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return be(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,t),this.videoElement=o,this.stream=t,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(t){return new Promise((i,o)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const o=document.getElementById(t);if(!o)throw new D(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new D(`element with id '${t}' must be an ${i} element`);return o}decodeFromImage(t,i){if(!t&&!i)throw new D("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,o){if(t===void 0&&i===void 0)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(t,o)}decodeFromImageElement(t){if(!t)throw new D("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(t){if(!t)throw new D("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=t,o}decodeFromVideoUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=t,o}decodeFromVideoUrlContinuously(t,i){if(!t)throw new D("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,i);return o.src=t,a}_decodeOnLoadImage(t){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,o),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,o=!0){this._stopAsyncDecode=!1;const a=(l,h)=>{if(this._stopAsyncDecode){h(new K("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);l(d)}catch(d){const m=i&&d instanceof K,v=(d instanceof q||d instanceof G)&&o;if(m||v)return setTimeout(a,this._timeBetweenDecodingAttempts,l,h);h(d)}};return new Promise((l,h)=>a(l,h))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(t);i(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){i(null,a);const l=a instanceof q||a instanceof G,h=a instanceof K;(l||h)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,o){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),o=new se(i),a=new Oe(o);return new U(a)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),i.style.width=o+"px",i.style.height=a+"px",i.width=o,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Fe{constructor(t,i,o=i==null?0:8*i.length,a,l,h=X.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=o,this.resultPoints=a,this.format=l,this.timestamp=h,this.text=t,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=a,this.format=l,this.resultMetadata=null,h==null?this.timestamp=X.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const o=new Array(i.length+t.length);X.arraycopy(i,0,o,0,i.length),X.arraycopy(t,0,o,i.length,t.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xe;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var re=Xe,Yt;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Yt||(Yt={}));var ht=Yt;class Fi{constructor(t,i,o,a,l=-1,h=-1){this.rawBytes=t,this.text=i,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ci{exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class Wt{constructor(t,i){if(i.length===0)throw new O;this.field=t;const o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),X.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(t===1){o=0;for(let h=0,d=i.length;h!==d;h++){const m=i[h];o=Ci.addOrSubtract(o,m)}return o}o=i[0];const a=i.length,l=this.field;for(let h=1;h<a;h++)o=Ci.addOrSubtract(l.multiply(t,o),i[h]);return o}addOrSubtract(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){const h=i;i=o,o=h}let a=new Int32Array(o.length);const l=o.length-i.length;X.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=Ci.addOrSubtract(i[h-l],o[h]);return new Wt(this.field,a)}multiply(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1),d=this.field;for(let m=0;m<o;m++){const x=i[m];for(let v=0;v<l;v++)h[m+v]=Ci.addOrSubtract(h[m+v],d.multiply(x,a[v]))}return new Wt(d,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,o=this.field,a=new Int32Array(i),l=this.coefficients;for(let h=0;h<i;h++)a[h]=o.multiply(l[h],t);return new Wt(o,a)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return this.field.getZero();const o=this.coefficients,a=o.length,l=new Int32Array(a+t),h=this.field;for(let d=0;d<a;d++)l[d]=h.multiply(o[d],i);return new Wt(h,l)}divide(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new O("Divide by 0");const i=this.field;let o=i.getZero(),a=this;const l=t.getCoefficient(t.getDegree()),h=i.inverse(l);for(;a.getDegree()>=t.getDegree()&&!a.isZero();){const d=a.getDegree()-t.getDegree(),m=i.multiply(a.getCoefficient(a.getDegree()),h),x=t.multiplyByMonomial(d,m),v=i.buildMonomial(d,m);o=o.addOrSubtract(v),a=a.addOrSubtract(x)}return[o,a]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),i===0||o!==1){const a=this.field.log(o);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class si extends w{}si.kind="ArithmeticException";class Ke extends Ci{constructor(t,i,o){super(),this.primitive=t,this.size=i,this.generatorBase=o;const a=new Int32Array(i);let l=1;for(let d=0;d<i;d++)a[d]=l,l*=2,l>=i&&(l^=t,l&=i-1);this.expTable=a;const h=new Int32Array(i);for(let d=0;d<i-1;d++)h[a[d]]=d;this.logTable=h,this.zero=new Wt(this,Int32Array.from([0])),this.one=new Wt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;const o=new Int32Array(t+1);return o[0]=i,new Wt(this,o)}inverse(t){if(t===0)throw new si;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class Ei extends w{}Ei.kind="ReedSolomonException";class Tn extends w{}Tn.kind="IllegalStateException";class zi{constructor(t){this.field=t}decode(t,i){const o=this.field,a=new Wt(o,t),l=new Int32Array(i);let h=!0;for(let b=0;b<i;b++){const B=a.evaluateAt(o.exp(b+o.getGeneratorBase()));l[l.length-1-b]=B,B!==0&&(h=!1)}if(h)return;const d=new Wt(o,l),m=this.runEuclideanAlgorithm(o.buildMonomial(i,1),d,i),x=m[0],v=m[1],A=this.findErrorLocations(x),T=this.findErrorMagnitudes(v,A);for(let b=0;b<A.length;b++){const B=t.length-1-o.log(A[b]);if(B<0)throw new Ei("Bad error location");t[B]=Ke.addOrSubtract(t[B],T[b])}}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){const b=t;t=i,i=b}const a=this.field;let l=t,h=i,d=a.getZero(),m=a.getOne();for(;h.getDegree()>=(o/2|0);){let b=l,B=d;if(l=h,d=m,l.isZero())throw new Ei("r_{i-1} was zero");h=b;let F=a.getZero();const H=l.getCoefficient(l.getDegree()),W=a.inverse(H);for(;h.getDegree()>=l.getDegree()&&!h.isZero();){const ae=h.getDegree()-l.getDegree(),ue=a.multiply(h.getCoefficient(h.getDegree()),W);F=F.addOrSubtract(a.buildMonomial(ae,ue)),h=h.addOrSubtract(l.multiplyByMonomial(ae,ue))}if(m=F.multiply(d).addOrSubtract(B),h.getDegree()>=l.getDegree())throw new Tn("Division algorithm failed to reduce polynomial?")}const x=m.getCoefficient(0);if(x===0)throw new Ei("sigmaTilde(0) was zero");const v=a.inverse(x),A=m.multiplyScalar(v),T=h.multiplyScalar(v);return[A,T]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const o=new Int32Array(i);let a=0;const l=this.field;for(let h=1;h<l.getSize()&&a<i;h++)t.evaluateAt(h)===0&&(o[a]=l.inverse(h),a++);if(a!==i)throw new Ei("Error locator degree does not match number of roots");return o}findErrorMagnitudes(t,i){const o=i.length,a=new Int32Array(o),l=this.field;for(let h=0;h<o;h++){const d=l.inverse(i[h]);let m=1;for(let x=0;x<o;x++)if(h!==x){const v=l.multiply(i[x],d),A=v&1?v&-2:v|1;m=l.multiply(m,A)}a[h]=l.multiply(t.evaluateAt(d),l.inverse(m)),l.getGeneratorBase()!==0&&(a[h]=l.multiply(a[h],d))}return a}}var Rt;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Rt||(Rt={}));class rt{decode(t){this.ddata=t;let i=t.getBits(),o=this.extractBits(i),a=this.correctBits(o),l=rt.convertBoolArrayToByteArray(a),h=rt.getEncodedData(a),d=new Fi(l,h,null,null);return d.setNumBits(a.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,o=Rt.UPPER,a=Rt.UPPER,l="",h=0;for(;h<i;)if(a===Rt.BINARY){if(i-h<5)break;let d=rt.readCode(t,h,5);if(h+=5,d===0){if(i-h<11)break;d=rt.readCode(t,h,11)+31,h+=11}for(let m=0;m<d;m++){if(i-h<8){h=i;break}const x=rt.readCode(t,h,8);l+=ye.castAsNonUtf8Char(x),h+=8}a=o}else{let d=a===Rt.DIGIT?4:5;if(i-h<d)break;let m=rt.readCode(t,h,d);h+=d;let x=rt.getCharacter(a,m);x.startsWith("CTRL_")?(o=a,a=rt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=a)):(l+=x,a=o)}return l}static getTable(t){switch(t){case"L":return Rt.LOWER;case"P":return Rt.PUNCT;case"M":return Rt.MIXED;case"D":return Rt.DIGIT;case"B":return Rt.BINARY;case"U":default:return Rt.UPPER}}static getCharacter(t,i){switch(t){case Rt.UPPER:return rt.UPPER_TABLE[i];case Rt.LOWER:return rt.LOWER_TABLE[i];case Rt.MIXED:return rt.MIXED_TABLE[i];case Rt.PUNCT:return rt.PUNCT_TABLE[i];case Rt.DIGIT:return rt.DIGIT_TABLE[i];default:throw new Tn("Bad table")}}correctBits(t){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=Ke.AZTEC_DATA_10):(o=12,i=Ke.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=t.length/o;if(l<a)throw new G;let h=t.length%o,d=new Int32Array(l);for(let T=0;T<l;T++,h+=o)d[T]=rt.readCode(t,h,o);try{new zi(i).decode(d,l-a)}catch(T){throw new G(T)}let m=(1<<o)-1,x=0;for(let T=0;T<a;T++){let b=d[T];if(b===0||b===m)throw new G;(b===1||b===m-1)&&x++}let v=new Array(a*o-x),A=0;for(let T=0;T<a;T++){let b=d[T];if(b===1||b===m-1)v.fill(b>1,A,A+o-1),A+=o-1;else for(let B=o-1;B>=0;--B)v[A++]=(b&1<<B)!==0}return v}extractBits(t){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),a=(i?11:14)+o*4,l=new Int32Array(a),h=new Array(this.totalBitsInLayer(o,i));if(i)for(let d=0;d<l.length;d++)l[d]=d;else{let d=a+1+2*k.truncDivision(k.truncDivision(a,2)-1,15),m=a/2,x=k.truncDivision(d,2);for(let v=0;v<m;v++){let A=v+k.truncDivision(v,15);l[m-v-1]=x-A-1,l[m+v]=x+A+1}}for(let d=0,m=0;d<o;d++){let x=(o-d)*4+(i?9:12),v=d*2,A=a-1-v;for(let T=0;T<x;T++){let b=T*2;for(let B=0;B<2;B++)h[m+b+B]=t.get(l[v+B],l[v+T]),h[m+2*x+b+B]=t.get(l[v+T],l[A-B]),h[m+4*x+b+B]=t.get(l[A-B],l[A-T]),h[m+6*x+b+B]=t.get(l[A-T],l[v+B])}m+=x*8}return h}static readCode(t,i,o){let a=0;for(let l=i;l<i+o;l++)a<<=1,t[l]&&(a|=1);return a}static readByte(t,i){let o=t.length-i;return o>=8?rt.readCode(t,i,8):rt.readCode(t,i,o)<<8-o}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let o=0;o<i.length;o++)i[o]=rt.readByte(t,8*o);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class qe{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,o,a){const l=t-o,h=i-a;return Math.sqrt(l*l+h*h)}static sum(t){let i=0;for(let o=0,a=t.length;o!==a;o++){const l=t[o];i+=l}return i}}class er{static floatToIntBits(t){return t}}er.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof we){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*er.floatToIntBits(this.x)+er.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);let l,h,d;if(o>=i&&o>=a?(h=t[0],l=t[1],d=t[2]):a>=o&&a>=i?(h=t[1],l=t[0],d=t[2]):(h=t[2],l=t[0],d=t[1]),this.crossProductZ(l,h,d)<0){const m=l;l=d,d=m}t[0]=l,t[1]=h,t[2]=d}static distance(t,i){return qe.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,o){const a=i.x,l=i.y;return(o.x-a)*(t.y-l)-(o.y-l)*(t.x-a)}}class Ui{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class de extends Ui{constructor(t,i,o,a,l){super(t,i),this.compact=o,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Te{constructor(t,i,o,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Te.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);const l=i/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}detect(){let t=this.leftInit,i=this.rightInit,o=this.upInit,a=this.downInit,l=!1,h=!0,d=!1,m=!1,x=!1,v=!1,A=!1;const T=this.width,b=this.height;for(;h;){h=!1;let B=!0;for(;(B||!m)&&i<T;)B=this.containsBlackPoint(o,a,i,!1),B?(i++,h=!0,m=!0):m||i++;if(i>=T){l=!0;break}let F=!0;for(;(F||!x)&&a<b;)F=this.containsBlackPoint(t,i,a,!0),F?(a++,h=!0,x=!0):x||a++;if(a>=b){l=!0;break}let H=!0;for(;(H||!v)&&t>=0;)H=this.containsBlackPoint(o,a,t,!1),H?(t--,h=!0,v=!0):v||t--;if(t<0){l=!0;break}let W=!0;for(;(W||!A)&&o>=0;)W=this.containsBlackPoint(t,i,o,!0),W?(o--,h=!0,A=!0):A||o--;if(o<0){l=!0;break}h&&(d=!0)}if(!l&&d){const B=i-t;let F=null;for(let ue=1;F===null&&ue<B;ue++)F=this.getBlackPointOnSegment(t,a-ue,t+ue,a);if(F==null)throw new K;let H=null;for(let ue=1;H===null&&ue<B;ue++)H=this.getBlackPointOnSegment(t,o+ue,t+ue,o);if(H==null)throw new K;let W=null;for(let ue=1;W===null&&ue<B;ue++)W=this.getBlackPointOnSegment(i,o+ue,i-ue,o);if(W==null)throw new K;let ae=null;for(let ue=1;ae===null&&ue<B;ue++)ae=this.getBlackPointOnSegment(i,a-ue,i-ue,a);if(ae==null)throw new K;return this.centerEdges(ae,F,W,H)}else throw new K}getBlackPointOnSegment(t,i,o,a){const l=qe.round(qe.distance(t,i,o,a)),h=(o-t)/l,d=(a-i)/l,m=this.image;for(let x=0;x<l;x++){const v=qe.round(t+x*h),A=qe.round(i+x*d);if(m.get(v,A))return new we(v,A)}return null}centerEdges(t,i,o,a){const l=t.getX(),h=t.getY(),d=i.getX(),m=i.getY(),x=o.getX(),v=o.getY(),A=a.getX(),T=a.getY(),b=Te.CORR;return l<this.width/2?[new we(A-b,T+b),new we(d+b,m+b),new we(x-b,v-b),new we(l+b,h-b)]:[new we(A+b,T+b),new we(d+b,m-b),new we(x-b,v+b),new we(l-b,h-b)]}containsBlackPoint(t,i,o,a){const l=this.image;if(a){for(let h=t;h<=i;h++)if(l.get(h,o))return!0}else for(let h=t;h<=i;h++)if(l.get(o,h))return!0;return!1}}Te.INIT_SIZE=10,Te.CORR=1;class Pt{static checkAndNudgePoints(t,i){const o=t.getWidth(),a=t.getHeight();let l=!0;for(let h=0;h<i.length&&l;h+=2){const d=Math.floor(i[h]),m=Math.floor(i[h+1]);if(d<-1||d>o||m<-1||m>a)throw new K;l=!1,d===-1?(i[h]=0,l=!0):d===o&&(i[h]=o-1,l=!0),m===-1?(i[h+1]=0,l=!0):m===a&&(i[h+1]=a-1,l=!0)}l=!0;for(let h=i.length-2;h>=0&&l;h-=2){const d=Math.floor(i[h]),m=Math.floor(i[h+1]);if(d<-1||d>o||m<-1||m>a)throw new K;l=!1,d===-1?(i[h]=0,l=!0):d===o&&(i[h]=o-1,l=!0),m===-1?(i[h+1]=0,l=!0):m===a&&(i[h+1]=a-1,l=!0)}}}class yt{constructor(t,i,o,a,l,h,d,m,x){this.a11=t,this.a21=i,this.a31=o,this.a12=a,this.a22=l,this.a32=h,this.a13=d,this.a23=m,this.a33=x}static quadrilateralToQuadrilateral(t,i,o,a,l,h,d,m,x,v,A,T,b,B,F,H){const W=yt.quadrilateralToSquare(t,i,o,a,l,h,d,m);return yt.squareToQuadrilateral(x,v,A,T,b,B,F,H).times(W)}transformPoints(t){const i=t.length,o=this.a11,a=this.a12,l=this.a13,h=this.a21,d=this.a22,m=this.a23,x=this.a31,v=this.a32,A=this.a33;for(let T=0;T<i;T+=2){const b=t[T],B=t[T+1],F=l*b+m*B+A;t[T]=(o*b+h*B+x)/F,t[T+1]=(a*b+d*B+v)/F}}transformPointsWithValues(t,i){const o=this.a11,a=this.a12,l=this.a13,h=this.a21,d=this.a22,m=this.a23,x=this.a31,v=this.a32,A=this.a33,T=t.length;for(let b=0;b<T;b++){const B=t[b],F=i[b],H=l*B+m*F+A;t[b]=(o*B+h*F+x)/H,i[b]=(a*B+d*F+v)/H}}static squareToQuadrilateral(t,i,o,a,l,h,d,m){const x=t-o+l-d,v=i-a+h-m;if(x===0&&v===0)return new yt(o-t,l-o,t,a-i,h-a,i,0,0,1);{const A=o-l,T=d-l,b=a-h,B=m-h,F=A*B-T*b,H=(x*B-T*v)/F,W=(A*v-x*b)/F;return new yt(o-t+H*o,d-t+W*d,t,a-i+H*a,m-i+W*m,i,H,W,1)}}static quadrilateralToSquare(t,i,o,a,l,h,d,m){return yt.squareToQuadrilateral(t,i,o,a,l,h,d,m).buildAdjoint()}buildAdjoint(){return new yt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new yt(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Ut extends Pt{sampleGrid(t,i,o,a,l,h,d,m,x,v,A,T,b,B,F,H,W,ae,ue){const ie=yt.quadrilateralToQuadrilateral(a,l,h,d,m,x,v,A,T,b,B,F,H,W,ae,ue);return this.sampleGridWithTransform(t,i,o,ie)}sampleGridWithTransform(t,i,o,a){if(i<=0||o<=0)throw new K;const l=new We(i,o),h=new Float32Array(2*i);for(let d=0;d<o;d++){const m=h.length,x=d+.5;for(let v=0;v<m;v+=2)h[v]=v/2+.5,h[v+1]=x;a.transformPoints(h),Pt.checkAndNudgePoints(t,h);try{for(let v=0;v<m;v+=2)t.get(Math.floor(h[v]),Math.floor(h[v+1]))&&l.set(v/2,d)}catch{throw new K}}return l}}class Gn{static setGridSampler(t){Gn.gridSampler=t}static getInstance(){return Gn.gridSampler}}Gn.gridSampler=new Ut;class $t{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class to{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(t){let h=o[0];o[0]=o[2],o[2]=h}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new de(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new K;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(o,i);let a=0;for(let h=0;h<4;h++){let d=o[(this.shift+h)%4];this.compact?(a<<=7,a+=d>>1&127):(a<<=10,a+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,i){let o=0;t.forEach((a,l,h)=>{let d=(a>>i-2<<1)+(a&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(k.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new K}getCorrectedParameterData(t,i){let o,a;i?(o=7,a=2):(o=10,a=4);let l=o-a,h=new Int32Array(o);for(let m=o-1;m>=0;--m)h[m]=t&15,t>>=4;try{new zi(Ke.AZTEC_PARAM).decode(h,l)}catch{throw new K}let d=0;for(let m=0;m<a;m++)d=(d<<4)+h[m];return d}getBullsEyeCorners(t){let i=t,o=t,a=t,l=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(i,h,1,-1),T=this.getFirstDifferent(o,h,1,1),b=this.getFirstDifferent(a,h,-1,1),B=this.getFirstDifferent(l,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(B,A)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(A,T,b,B))break}i=A,o=T,a=b,l=B,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;let d=new we(i.getX()+.5,i.getY()-.5),m=new we(o.getX()+.5,o.getY()+.5),x=new we(a.getX()-.5,a.getY()+.5),v=new we(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,m,x,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,o,a;try{let d=new Te(this.image).detect();t=d[0],i=d[1],o=d[2],a=d[3]}catch{let m=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new $t(m+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $t(m+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new $t(m-7,x+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new $t(m-7,x-7),!1,-1,-1).toResultPoint()}let l=qe.round((t.getX()+a.getX()+i.getX()+o.getX())/4),h=qe.round((t.getY()+a.getY()+i.getY()+o.getY())/4);try{let d=new Te(this.image,15,l,h).detect();t=d[0],i=d[1],o=d[2],a=d[3]}catch{t=this.getFirstDifferent(new $t(l+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $t(l+7,h+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new $t(l-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new $t(l-7,h-7),!1,-1,-1).toResultPoint()}return l=qe.round((t.getX()+a.getX()+i.getX()+o.getX())/4),h=qe.round((t.getY()+a.getY()+i.getY()+o.getY())/4),new $t(l,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,o,a,l){let h=Gn.getInstance(),d=this.getDimension(),m=d/2-this.nbCenterLayers,x=d/2+this.nbCenterLayers;return h.sampleGrid(t,d,d,m,m,x,m,x,x,m,x,i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(t,i,o){let a=0,l=this.distanceResultPoint(t,i),h=l/o,d=t.getX(),m=t.getY(),x=h*(i.getX()-t.getX())/l,v=h*(i.getY()-t.getY())/l;for(let A=0;A<o;A++)this.image.get(qe.round(d+A*x),qe.round(m+A*v))&&(a|=1<<o-A-1);return a}isWhiteOrBlackRectangle(t,i,o,a){let l=3;t=new $t(t.getX()-l,t.getY()+l),i=new $t(i.getX()-l,i.getY()-l),o=new $t(o.getX()+l,o.getY()-l),a=new $t(a.getX()+l,a.getY()+l);let h=this.getColor(a,t);if(h===0)return!1;let d=this.getColor(t,i);return d!==h||(d=this.getColor(i,o),d!==h)?!1:(d=this.getColor(o,a),d===h)}getColor(t,i){let o=this.distancePoint(t,i),a=(i.getX()-t.getX())/o,l=(i.getY()-t.getY())/o,h=0,d=t.getX(),m=t.getY(),x=this.image.get(t.getX(),t.getY()),v=Math.ceil(o);for(let T=0;T<v;T++)d+=a,m+=l,this.image.get(qe.round(d),qe.round(m))!==x&&h++;let A=h/o;return A>.1&&A<.9?0:A<=.1===x?1:-1}getFirstDifferent(t,i,o,a){let l=t.getX()+o,h=t.getY()+a;for(;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=o,h+=a;for(l-=o,h-=a;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=o;for(l-=o;this.isValid(l,h)&&this.image.get(l,h)===i;)h+=a;return h-=a,new $t(l,h)}expandSquare(t,i,o){let a=o/(2*i),l=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,m=(t[0].getY()+t[2].getY())/2,x=new we(d+a*l,m+a*h),v=new we(d-a*l,m-a*h);l=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,m=(t[1].getY()+t[3].getY())/2;let A=new we(d+a*l,m+a*h),T=new we(d-a*l,m-a*h);return[x,A,v,T]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=qe.round(t.getX()),o=qe.round(t.getY());return this.isValid(i,o)}distancePoint(t,i){return qe.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return qe.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class tr{decode(t,i=null){let o=null,a=new to(t.getBlackMatrix()),l=null,h=null;try{let v=a.detectMirror(!1);l=v.getPoints(),this.reportFoundResultPoints(i,l),h=new rt().decode(v)}catch(v){o=v}if(h==null)try{let v=a.detectMirror(!0);l=v.getPoints(),this.reportFoundResultPoints(i,l),h=new rt().decode(v)}catch(v){throw o??v}let d=new Fe(h.getText(),h.getRawBytes(),h.getNumBits(),l,re.AZTEC,X.currentTimeMillis()),m=h.getByteSegments();m!=null&&d.putMetadata(ht.BYTE_SEGMENTS,m);let x=h.getECLevel();return x!=null&&d.putMetadata(ht.ERROR_CORRECTION_LEVEL,x),d}reportFoundResultPoints(t,i){if(t!=null){let o=t.get(le.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((a,l,h)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class No extends ct{constructor(t=500){super(new tr,t)}}class mt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(le.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),h=this.doDecode(l,i),d=h.getResultMetadata();let m=270;d!==null&&d.get(ht.ORIENTATION)===!0&&(m=m+d.get(ht.ORIENTATION)%360),h.putMetadata(ht.ORIENTATION,m);const x=h.getResultPoints();if(x!==null){const v=l.getHeight();for(let A=0;A<x.length;A++)x[A]=new we(v-x[A].getY()-1,x[A].getX())}return h}else throw new K}}reset(){}doDecode(t,i){const o=t.getWidth(),a=t.getHeight();let l=new Q(o);const h=i&&i.get(le.TRY_HARDER)===!0,d=Math.max(1,a>>(h?8:5));let m;h?m=a:m=15;const x=Math.trunc(a/2);for(let v=0;v<m;v++){const A=Math.trunc((v+1)/2),T=(v&1)===0,b=x+d*(T?A:-A);if(b<0||b>=a)break;try{l=t.getBlackRow(b,l)}catch{continue}for(let B=0;B<2;B++){if(B===1&&(l.reverse(),i&&i.get(le.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((H,W)=>F.set(W,H)),F.delete(le.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(b,l,i);if(B===1){F.putMetadata(ht.ORIENTATION,180);const H=F.getResultPoints();H!==null&&(H[0]=new we(o-H[0].getX()-1,H[0].getY()),H[1]=new we(o-H[1].getX()-1,H[1].getY()))}return F}catch{}}}throw new K}static recordPattern(t,i,o){const a=o.length;for(let x=0;x<a;x++)o[x]=0;const l=t.getSize();if(i>=l)throw new K;let h=!t.get(i),d=0,m=i;for(;m<l;){if(t.get(m)!==h)o[d]++;else{if(++d===a)break;o[d]=1,h=!h}m++}if(!(d===a||d===a-1&&m===l))throw new K}static recordPatternInReverse(t,i,o){let a=o.length,l=t.get(i);for(;i>0&&a>=0;)t.get(--i)!==l&&(a--,l=!l);if(a>=0)throw new K;mt.recordPattern(t,i+1,o)}static patternMatchVariance(t,i,o){const a=t.length;let l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=i[x];if(l<h)return Number.POSITIVE_INFINITY;const d=l/h;o*=d;let m=0;for(let x=0;x<a;x++){const v=t[x],A=i[x]*d,T=v>A?v-A:A-v;if(T>o)return Number.POSITIVE_INFINITY;m+=T}return m/l}}class fe extends mt{static findStartPattern(t){const i=t.getSize(),o=t.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),h=o,d=!1;const m=6;for(let x=o;x<i;x++)if(t.get(x)!==d)l[a]++;else{if(a===m-1){let v=fe.MAX_AVG_VARIANCE,A=-1;for(let T=fe.CODE_START_A;T<=fe.CODE_START_C;T++){const b=mt.patternMatchVariance(l,fe.CODE_PATTERNS[T],fe.MAX_INDIVIDUAL_VARIANCE);b<v&&(v=b,A=T)}if(A>=0&&t.isRange(Math.max(0,h-(x-h)/2),h,!1))return Int32Array.from([h,x,A]);h+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,d=!d}throw new K}static decodeCode(t,i,o){mt.recordPattern(t,o,i);let a=fe.MAX_AVG_VARIANCE,l=-1;for(let h=0;h<fe.CODE_PATTERNS.length;h++){const d=fe.CODE_PATTERNS[h],m=this.patternMatchVariance(i,d,fe.MAX_INDIVIDUAL_VARIANCE);m<a&&(a=m,l=h)}if(l>=0)return l;throw new K}decodeRow(t,i,o){const a=o&&o.get(le.ASSUME_GS1)===!0,l=fe.findStartPattern(i),h=l[2];let d=0;const m=new Uint8Array(20);m[d++]=h;let x;switch(h){case fe.CODE_START_A:x=fe.CODE_CODE_A;break;case fe.CODE_START_B:x=fe.CODE_CODE_B;break;case fe.CODE_START_C:x=fe.CODE_CODE_C;break;default:throw new G}let v=!1,A=!1,T="",b=l[0],B=l[1];const F=Int32Array.from([0,0,0,0,0,0]);let H=0,W=0,ae=h,ue=0,ie=!0,Ge=!1,Ue=!1;for(;!v;){const gi=A;switch(A=!1,H=W,W=fe.decodeCode(i,F,B),m[d++]=W,W!==fe.CODE_STOP&&(ie=!0),W!==fe.CODE_STOP&&(ue++,ae+=ue*W),b=B,B+=F.reduce((lu,Lr)=>lu+Lr,0),W){case fe.CODE_START_A:case fe.CODE_START_B:case fe.CODE_START_C:throw new G}switch(x){case fe.CODE_CODE_A:if(W<64)Ue===Ge?T+=String.fromCharCode(32+W):T+=String.fromCharCode(32+W+128),Ue=!1;else if(W<96)Ue===Ge?T+=String.fromCharCode(W-64):T+=String.fromCharCode(W+64),Ue=!1;else switch(W!==fe.CODE_STOP&&(ie=!1),W){case fe.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_A:!Ge&&Ue?(Ge=!0,Ue=!1):Ge&&Ue?(Ge=!1,Ue=!1):Ue=!0;break;case fe.CODE_SHIFT:A=!0,x=fe.CODE_CODE_B;break;case fe.CODE_CODE_B:x=fe.CODE_CODE_B;break;case fe.CODE_CODE_C:x=fe.CODE_CODE_C;break;case fe.CODE_STOP:v=!0;break}break;case fe.CODE_CODE_B:if(W<96)Ue===Ge?T+=String.fromCharCode(32+W):T+=String.fromCharCode(32+W+128),Ue=!1;else switch(W!==fe.CODE_STOP&&(ie=!1),W){case fe.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_B:!Ge&&Ue?(Ge=!0,Ue=!1):Ge&&Ue?(Ge=!1,Ue=!1):Ue=!0;break;case fe.CODE_SHIFT:A=!0,x=fe.CODE_CODE_A;break;case fe.CODE_CODE_A:x=fe.CODE_CODE_A;break;case fe.CODE_CODE_C:x=fe.CODE_CODE_C;break;case fe.CODE_STOP:v=!0;break}break;case fe.CODE_CODE_C:if(W<100)W<10&&(T+="0"),T+=W;else switch(W!==fe.CODE_STOP&&(ie=!1),W){case fe.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case fe.CODE_CODE_A:x=fe.CODE_CODE_A;break;case fe.CODE_CODE_B:x=fe.CODE_CODE_B;break;case fe.CODE_STOP:v=!0;break}break}gi&&(x=x===fe.CODE_CODE_A?fe.CODE_CODE_B:fe.CODE_CODE_A)}const Nt=B-b;if(B=i.getNextUnset(B),!i.isRange(B,Math.min(i.getSize(),B+(B-b)/2),!1))throw new K;if(ae-=ue*H,ae%103!==H)throw new q;const wn=T.length;if(wn===0)throw new K;wn>0&&ie&&(x===fe.CODE_CODE_C?T=T.substring(0,wn-2):T=T.substring(0,wn-1));const vn=(l[1]+l[0])/2,at=b+Nt/2,rn=m.length,Cn=new Uint8Array(rn);for(let gi=0;gi<rn;gi++)Cn[gi]=m[gi];const br=[new we(vn,t),new we(at,t)];return new Fe(T,Cn,0,br,re.CODE_128,new Date().getTime())}}fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],fe.MAX_AVG_VARIANCE=.25,fe.MAX_INDIVIDUAL_VARIANCE=.7,fe.CODE_SHIFT=98,fe.CODE_CODE_C=99,fe.CODE_CODE_B=100,fe.CODE_CODE_A=101,fe.CODE_FNC_1=102,fe.CODE_FNC_2=97,fe.CODE_FNC_3=96,fe.CODE_FNC_4_A=101,fe.CODE_FNC_4_B=100,fe.CODE_START_A=103,fe.CODE_START_B=104,fe.CODE_START_C=105,fe.CODE_STOP=106;class Ht extends mt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,o){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=Ht.findAsteriskPattern(i,a),h=i.getNextSet(l[1]),d=i.getSize(),m,x;do{Ht.recordPattern(i,h,a);let F=Ht.toNarrowWidePattern(a);if(F<0)throw new K;m=Ht.patternToChar(F),this.decodeRowResult+=m,x=h;for(let H of a)h+=H;h=i.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let F of a)v+=F;let A=h-x-v;if(h!==d&&A*2<v)throw new K;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,H=0;for(let W=0;W<F;W++)H+=Ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(F)!==Ht.ALPHABET_STRING.charAt(H%43))throw new q;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new K;let T;this.extendedMode?T=Ht.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let b=(l[1]+l[0])/2,B=x+v/2;return new Fe(T,null,0,[new we(b,t),new we(B,t)],re.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let o=t.getSize(),a=t.getNextSet(0),l=0,h=a,d=!1,m=i.length;for(let x=a;x<o;x++)if(t.get(x)!==d)i[l]++;else{if(l===m-1){if(this.toNarrowWidePattern(i)===Ht.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((x-h)/2)),h,!1))return[h,x];h+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,d=!d}throw new K}static toNarrowWidePattern(t){let i=t.length,o=0,a;do{let l=2147483647;for(let m of t)m<l&&m>o&&(l=m);o=l,a=0;let h=0,d=0;for(let m=0;m<i;m++){let x=t[m];x>o&&(d|=1<<i-1-m,a++,h+=x)}if(a===3){for(let m=0;m<i&&a>0;m++){let x=t[m];if(x>o&&(a--,x*2>=h))return-1}return d}}while(a>3);return-1}static patternToChar(t){for(let i=0;i<Ht.CHARACTER_ENCODINGS.length;i++)if(Ht.CHARACTER_ENCODINGS[i]===t)return Ht.ALPHABET_STRING.charAt(i);if(t===Ht.ASTERISK_ENCODING)return"*";throw new K}static decodeExtended(t){let i=t.length,o="";for(let a=0;a<i;a++){let l=t.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let h=t.charAt(a+1),d="\0";switch(l){case"+":if(h>="A"&&h<="Z")d=String.fromCharCode(h.charCodeAt(0)+32);else throw new G;break;case"$":if(h>="A"&&h<="Z")d=String.fromCharCode(h.charCodeAt(0)-64);else throw new G;break;case"%":if(h>="A"&&h<="E")d=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")d=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")d=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")d=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")d="\0";else if(h==="V")d="@";else if(h==="W")d="`";else if(h==="X"||h==="Y"||h==="Z")d="";else throw new G;break;case"/":if(h>="A"&&h<="O")d=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")d=":";else throw new G;break}o+=d,a++}else o+=l}return o}}Ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ht.ASTERISK_ENCODING=148;class ft extends mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,o){let a=this.decodeStart(i),l=this.decodeEnd(i),h=new Ye;ft.decodeMiddle(i,a[1],l[0],h);let d=h.toString(),m=null;o!=null&&(m=o.get(le.ALLOWED_LENGTHS)),m==null&&(m=ft.DEFAULT_ALLOWED_LENGTHS);let x=d.length,v=!1,A=0;for(let B of m){if(x===B){v=!0;break}B>A&&(A=B)}if(!v&&x>A&&(v=!0),!v)throw new G;const T=[new we(a[1],t),new we(l[0],t)];return new Fe(d,null,0,T,re.ITF,new Date().getTime())}static decodeMiddle(t,i,o,a){let l=new Int32Array(10),h=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),h.fill(0),d.fill(0);i<o;){mt.recordPattern(t,i,l);for(let x=0;x<5;x++){let v=2*x;h[x]=l[v],d[x]=l[v+1]}let m=ft.decodeDigit(h);a.append(m.toString()),m=this.decodeDigit(d),a.append(m.toString()),l.forEach(function(x){i+=x})}}decodeStart(t){let i=ft.skipWhiteSpace(t),o=ft.findGuardPattern(t,i,ft.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o}validateQuietZone(t,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let a=i-1;o>0&&a>=0&&!t.get(a);a--)o--;if(o!==0)throw new K}static skipWhiteSpace(t){const i=t.getSize(),o=t.getNextSet(0);if(o===i)throw new K;return o}decodeEnd(t){t.reverse();try{let i=ft.skipWhiteSpace(t),o;try{o=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[0])}catch(l){l instanceof K&&(o=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);let a=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-a,o}finally{t.reverse()}}static findGuardPattern(t,i,o){let a=o.length,l=new Int32Array(a),h=t.getSize(),d=!1,m=0,x=i;l.fill(0);for(let v=i;v<h;v++)if(t.get(v)!==d)l[m]++;else{if(m===a-1){if(mt.patternMatchVariance(l,o,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[x,v];x+=l[0]+l[1],X.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,d=!d}throw new K}static decodeDigit(t){let i=ft.MAX_AVG_VARIANCE,o=-1,a=ft.PATTERNS.length;for(let l=0;l<a;l++){let h=ft.PATTERNS[l],d=mt.patternMatchVariance(t,h,ft.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,o=l):d===i&&(o=-1)}if(o>=0)return o%10;throw new K}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xt extends mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,o,a=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),o=xt.findGuardPattern(t,a,!1,this.START_END_PATTERN,l);let h=o[0];a=o[1];let d=h-(a-h);d>=0&&(i=t.isRange(d,h,!1))}return o}static checkChecksum(t){return xt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return xt.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let a=i-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new G;o+=l}o*=3;for(let a=i-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new G;o+=l}return(1e3-o)%10}static decodeEnd(t,i){return xt.findGuardPattern(t,i,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,o,a){return this.findGuardPattern(t,i,o,a,new Int32Array(a.length))}static findGuardPattern(t,i,o,a,l){let h=t.getSize();i=o?t.getNextUnset(i):t.getNextSet(i);let d=0,m=i,x=a.length,v=o;for(let A=i;A<h;A++)if(t.get(A)!==v)l[d]++;else{if(d===x-1){if(mt.patternMatchVariance(l,a,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return Int32Array.from([m,A]);m+=l[0]+l[1];let T=l.slice(2,l.length-1);for(let b=0;b<d-1;b++)l[b]=T[b];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,v=!v}throw new K}static decodeDigit(t,i,o,a){this.recordPattern(t,o,i);let l=this.MAX_AVG_VARIANCE,h=-1,d=a.length;for(let m=0;m<d;m++){let x=a[m],v=mt.patternMatchVariance(i,x,xt.MAX_INDIVIDUAL_VARIANCE);v<l&&(l=v,h=m)}if(h>=0)return h;throw new K}}xt.MAX_AVG_VARIANCE=.48,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.START_END_PATTERN=Int32Array.from([1,1,1]),xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class no{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,o,a),h=a.toString(),d=no.parseExtensionString(h),m=[new we((o[0]+o[1])/2,t),new we(l,t)],x=new Fe(h,null,0,m,re.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],d=0;for(let x=0;x<5&&h<l;x++){let v=xt.decodeDigit(t,a,h,xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let A of a)h+=A;v>=10&&(d|=1<<4-x),x!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==5)throw new K;let m=this.determineCheckDigit(d);if(no.extensionChecksum(o.toString())!==m)throw new K;return h}static extensionChecksum(t){let i=t.length,o=0;for(let a=i-2;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;o*=3;for(let a=i-1;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new K}static parseExtensionString(t){if(t.length!==5)return null;let i=no.parseExtension5String(t);return i==null?null:new Map([[ht.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(t.substring(1)),a=(o/100).toString(),l=o%100,h=l<10?"0"+l:l.toString();return i+a+"."+h}}class gs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,o,a),h=a.toString(),d=gs.parseExtensionString(h),m=[new we((o[0]+o[1])/2,t),new we(l,t)],x=new Fe(h,null,0,m,re.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],d=0;for(let m=0;m<2&&h<l;m++){let x=xt.decodeDigit(t,a,h,xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+x%10);for(let v of a)h+=v;x>=10&&(d|=1<<1-m),m!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==2)throw new K;if(parseInt(o.toString())%4!==d)throw new K;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[ht.ISSUE_NUMBER,parseInt(t)]])}}class ps{static decodeRow(t,i,o){let a=xt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new no().decodeRow(t,i,a)}catch{return new gs().decodeRow(t,i,a)}}}ps.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nt extends xt{constructor(){super(),this.decodeRowStringBuffer="",nt.L_AND_G_PATTERNS=nt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=nt.L_PATTERNS[t-10],o=new Int32Array(i.length);for(let a=0;a<i.length;a++)o[a]=i[i.length-a-1];nt.L_AND_G_PATTERNS[t]=o}}decodeRow(t,i,o){let a=nt.findStartGuardPattern(i),l=o==null?null:o.get(le.NEED_RESULT_POINT_CALLBACK);if(l!=null){const ie=new we((a[0]+a[1])/2,t);l.foundPossibleResultPoint(ie)}let h=this.decodeMiddle(i,a,this.decodeRowStringBuffer),d=h.rowOffset,m=h.resultString;if(l!=null){const ie=new we(d,t);l.foundPossibleResultPoint(ie)}let x=this.decodeEnd(i,d);if(l!=null){const ie=new we((x[0]+x[1])/2,t);l.foundPossibleResultPoint(ie)}let v=x[1],A=v+(v-x[0]);if(A>=i.getSize()||!i.isRange(v,A,!1))throw new K;let T=m.toString();if(T.length<8)throw new G;if(!nt.checkChecksum(T))throw new q;let b=(a[1]+a[0])/2,B=(x[1]+x[0])/2,F=this.getBarcodeFormat(),H=[new we(b,t),new we(B,t)],W=new Fe(T,null,0,H,F,new Date().getTime()),ae=0;try{let ie=ps.decodeRow(t,i,x[1]);W.putMetadata(ht.UPC_EAN_EXTENSION,ie.getText()),W.putAllMetadata(ie.getResultMetadata()),W.addResultPoints(ie.getResultPoints()),ae=ie.getText().length}catch{}let ue=o==null?null:o.get(le.ALLOWED_EAN_EXTENSIONS);if(ue!=null){let ie=!1;for(let Ge in ue)if(ae.toString()===Ge){ie=!0;break}if(!ie)throw new K}return W}decodeEnd(t,i){return nt.findGuardPattern(t,i,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return nt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return nt.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let a=i-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new G;o+=l}o*=3;for(let a=i-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new G;o+=l}return(1e3-o)%10}}class Hi extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],d=0;for(let x=0;x<6&&h<l;x++){let v=nt.decodeDigit(t,a,h,nt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let A of a)h+=A;v>=10&&(d|=1<<5-x)}o=Hi.determineFirstDigit(o,d),h=nt.findGuardPattern(t,h,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&h<l;x++){let v=nt.decodeDigit(t,a,h,nt.L_PATTERNS);o+=String.fromCharCode(48+v);for(let A of a)h+=A}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return re.EAN_13}static determineFirstDigit(t,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t,t;throw new K}}Hi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ca extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1];for(let m=0;m<4&&h<l;m++){let x=nt.decodeDigit(t,a,h,nt.L_PATTERNS);o+=String.fromCharCode(48+x);for(let v of a)h+=v}h=nt.findGuardPattern(t,h,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&h<l;m++){let x=nt.decodeDigit(t,a,h,nt.L_PATTERNS);o+=String.fromCharCode(48+x);for(let v of a)h+=v}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return re.EAN_8}}class Ea extends nt{constructor(){super(...arguments),this.ean13Reader=new Hi}getBarcodeFormat(){return re.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,o))}decodeMiddle(t,i,o){return this.ean13Reader.decodeMiddle(t,i,o)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let o=new Fe(i.substring(1),null,null,t.getResultPoints(),re.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}else throw new K}reset(){this.ean13Reader.reset()}}class Yn extends nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,o){const a=this.decodeMiddleCounters.map(x=>x);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=t.getSize();let h=i[1],d=0;for(let x=0;x<6&&h<l;x++){const v=Yn.decodeDigit(t,a,h,Yn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let A of a)h+=A;v>=10&&(d|=1<<5-x)}let m=Yn.determineNumSysAndCheckDigit(o,d);return{rowOffset:h,resultString:m}}decodeEnd(t,i){return Yn.findGuardPatternWithoutCounters(t,i,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(t){return nt.checkChecksum(Yn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let l=String.fromCharCode(48+o),h=String.fromCharCode(48+a);return l+t+h}throw K.getNotFoundInstance()}getBarcodeFormat(){return re.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new Ye;o.append(t.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(a),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(a);break}return t.length>=8&&o.append(t.charAt(7)),o.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ms extends mt{constructor(t){super();let i=t==null?null:t.get(le.POSSIBLE_FORMATS),o=[];c(i)?(o.push(new Hi),o.push(new Ea),o.push(new Ca),o.push(new Yn)):(i.indexOf(re.EAN_13)>-1&&o.push(new Hi),i.indexOf(re.UPC_A)>-1&&o.push(new Ea),i.indexOf(re.EAN_8)>-1&&o.push(new Ca),i.indexOf(re.UPC_E)>-1&&o.push(new Yn)),this.readers=o}decodeRow(t,i,o){for(let a of this.readers)try{const l=a.decodeRow(t,i,o),h=l.getBarcodeFormat()===re.EAN_13&&l.getText().charAt(0)==="0",d=o==null?null:o.get(le.POSSIBLE_FORMATS),m=d==null||d.includes(re.UPC_A);if(h&&m){const x=l.getRawBytes(),v=new Fe(l.getText().substring(1),x,x?x.length:null,l.getResultPoints(),re.UPC_A);return v.putAllMetadata(l.getResultMetadata()),v}return l}catch{}throw new K}reset(){for(let t of this.readers)t.reset()}}class an extends mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let o=0;o<i.length;o++)if(mt.patternMatchVariance(t,i[o],an.MAX_INDIVIDUAL_VARIANCE)<an.MAX_AVG_VARIANCE)return o;throw new K}static count(t){return qe.sum(new Int32Array(t))}static increment(t,i){let o=0,a=i[0];for(let l=1;l<t.length;l++)i[l]>a&&(a=i[l],o=l);t[o]++}static decrement(t,i){let o=0,a=i[0];for(let l=1;l<t.length;l++)i[l]<a&&(a=i[l],o=l);t[o]--}static isFinderPattern(t){let i=t[0]+t[1],o=i+t[2]+t[3],a=i/o;if(a>=an.MIN_FINDER_PATTERN_RATIO&&a<=an.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let d of t)d>h&&(h=d),d<l&&(l=d);return h<10*l}return!1}}an.MAX_AVG_VARIANCE=.2,an.MAX_INDIVIDUAL_VARIANCE=.45,an.MIN_FINDER_PATTERN_RATIO=9.5/12,an.MAX_FINDER_PATTERN_RATIO=12.5/14;class Cr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Cr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Er{constructor(t,i,o,a,l){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new we(o,l)),this.resultPoints.push(new we(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Er))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class ai{constructor(){}static getRSSvalue(t,i,o){let a=0;for(let m of t)a+=m;let l=0,h=0,d=t.length;for(let m=0;m<d-1;m++){let x;for(x=1,h|=1<<m;x<t[m];x++,h&=~(1<<m)){let v=ai.combins(a-x-1,d-m-2);if(o&&h===0&&a-x-(d-m-1)>=d-m-1&&(v-=ai.combins(a-x-(d-m),d-m-2)),d-m-1>1){let A=0;for(let T=a-x-(d-m-2);T>i;T--)A+=ai.combins(a-x-T-1,d-m-3);v-=A*(d-1-m)}else a-x>i&&v--;l+=v}a-=x}return l}static combins(t,i){let o,a;t-i>i?(a=i,o=t-i):(a=t-i,o=i);let l=1,h=1;for(let d=t;d>o;d--)l*=d,h<=a&&(l/=h,h++);for(;h<=a;)l/=h,h++;return l}}class $l{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let o=12*i,a=new Q(o),l=0,d=t[0].getRightChar().getValue();for(let m=11;m>=0;--m)d&1<<m&&a.set(l),l++;for(let m=1;m<t.length;++m){let x=t[m],v=x.getLeftChar().getValue();for(let A=11;A>=0;--A)v&1<<A&&a.set(l),l++;if(x.getRightChar()!=null){let A=x.getRightChar().getValue();for(let T=11;T>=0;--T)A&1<<T&&a.set(l),l++}}return a}}class nr{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class xs{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class It extends xs{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===It.FNC1}}It.FNC1="$";class Ee extends xs{constructor(t,i,o){super(t),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Nn extends xs{constructor(t,i,o){if(super(t),i<0||i>10||o<0||o>10)throw new G;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Nn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Nn.FNC1}isAnyFNC1(){return this.firstDigit===Nn.FNC1||this.secondDigit===Nn.FNC1}}Nn.FNC1=10;class xe{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new K;let i=t.substring(0,2);for(let l of xe.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(2,l[2],t):xe.processFixedAI(2,l[1],t);if(t.length<3)throw new K;let o=t.substring(0,3);for(let l of xe.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(3,l[2],t):xe.processFixedAI(3,l[1],t);for(let l of xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,l[2],t):xe.processFixedAI(4,l[1],t);if(t.length<4)throw new K;let a=t.substring(0,4);for(let l of xe.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,l[2],t):xe.processFixedAI(4,l[1],t);throw new K}static processFixedAI(t,i,o){if(o.length<t)throw new K;let a=o.substring(0,t);if(o.length<t+i)throw new K;let l=o.substring(t,t+i),h=o.substring(t+i),d="("+a+")"+l,m=xe.parseFieldsInGeneralPurpose(h);return m==null?d:d+m}static processVariableAI(t,i,o){let a=o.substring(0,t),l;o.length<t+i?l=o.length:l=t+i;let h=o.substring(t,l),d=o.substring(l),m="("+a+")"+h,x=xe.parseFieldsInGeneralPurpose(d);return x==null?m:m+x}}xe.VARIABLE_LENGTH=[],xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xe.VARIABLE_LENGTH,20],["22",xe.VARIABLE_LENGTH,29],["30",xe.VARIABLE_LENGTH,8],["37",xe.VARIABLE_LENGTH,8],["90",xe.VARIABLE_LENGTH,30],["91",xe.VARIABLE_LENGTH,30],["92",xe.VARIABLE_LENGTH,30],["93",xe.VARIABLE_LENGTH,30],["94",xe.VARIABLE_LENGTH,30],["95",xe.VARIABLE_LENGTH,30],["96",xe.VARIABLE_LENGTH,30],["97",xe.VARIABLE_LENGTH,3],["98",xe.VARIABLE_LENGTH,30],["99",xe.VARIABLE_LENGTH,30]],xe.THREE_DIGIT_DATA_LENGTH=[["240",xe.VARIABLE_LENGTH,30],["241",xe.VARIABLE_LENGTH,30],["242",xe.VARIABLE_LENGTH,6],["250",xe.VARIABLE_LENGTH,30],["251",xe.VARIABLE_LENGTH,30],["253",xe.VARIABLE_LENGTH,17],["254",xe.VARIABLE_LENGTH,20],["400",xe.VARIABLE_LENGTH,30],["401",xe.VARIABLE_LENGTH,30],["402",17],["403",xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xe.VARIABLE_LENGTH,20],["421",xe.VARIABLE_LENGTH,15],["422",3],["423",xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xe.VARIABLE_LENGTH,15],["391",xe.VARIABLE_LENGTH,18],["392",xe.VARIABLE_LENGTH,15],["393",xe.VARIABLE_LENGTH,18],["703",xe.VARIABLE_LENGTH,30]],xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xe.VARIABLE_LENGTH,20],["8003",xe.VARIABLE_LENGTH,30],["8004",xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xe.VARIABLE_LENGTH,30],["8008",xe.VARIABLE_LENGTH,12],["8018",18],["8020",xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xe.VARIABLE_LENGTH,70],["8200",xe.VARIABLE_LENGTH,70]];class ir{constructor(t){this.buffer=new Ye,this.information=t}decodeAllCodes(t,i){let o=i,a=null;do{let l=this.decodeGeneralPurposeField(o,a),h=xe.parseFieldsInGeneralPurpose(l.getNewString());if(h!=null&&t.append(h),l.isRemaining()?a=""+l.getRemainingValue():a=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new Nn(this.information.getSize(),Nn.FNC1,Nn.FNC1):new Nn(this.information.getSize(),l-1,Nn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),o=(i-8)/11,a=(i-8)%11;return new Nn(t+7,o,a)}extractNumericValueFromBitArray(t,i){return ir.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,o){let a=0;for(let l=0;l<o;++l)t.get(i+l)&&(a|=1<<o-l-1);return a}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Ee(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Ee(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(o!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new Ee(this.current.getPosition(),this.buffer.toString()):i=new Ee(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new nr(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new Ee(this.current.getPosition(),this.buffer.toString());return new nr(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new nr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Ee(this.current.getPosition(),this.buffer.toString());return new nr(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new nr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Ee(this.current.getPosition(),this.buffer.toString());return new nr(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new nr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new It(t+5,It.FNC1);if(i>=5&&i<15)return new It(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new It(t+7,""+(o+1));if(o>=90&&o<116)return new It(t+7,""+(o+7));let a=this.extractNumericValueFromBitArray(t,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new G}return new It(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new It(t+5,It.FNC1);if(i>=5&&i<15)return new It(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new It(t+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Tn("Decoding invalid alphanumeric value: "+o)}return new It(t+6,a)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class Mo{constructor(t){this.information=t,this.generalDecoder=new ir(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ln extends Mo{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,o)}encodeCompressedGtinWithoutAI(t,i,o){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}ln.appendCheckDigit(t,o)}static appendCheckDigit(t,i){let o=0;for(let a=0;a<13;a++){let l=t.charAt(a+i).charCodeAt(0)-48;o+=a&1?l:3*l}o=10-o%10,o===10&&(o=0),t.append(o)}}ln.GTIN_SIZE=40;class rr extends ln{constructor(t){super(t)}parseInformation(){let t=new Ye;t.append("(01)");let i=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(rr.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,rr.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,rr.HEADER_SIZE+44)}}rr.HEADER_SIZE=4;class Ai extends Mo{constructor(t){super(t)}parseInformation(){let t=new Ye;return this.getGeneralDecoder().decodeAllCodes(t,Ai.HEADER_SIZE)}}Ai.HEADER_SIZE=5;class io extends ln{constructor(t){super(t)}encodeCompressedWeight(t,i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(t,a);let l=this.checkWeight(a),h=1e5;for(let d=0;d<5;++d)l/h===0&&t.append("0"),h/=10;t.append(l)}}class li extends io{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=li.HEADER_SIZE+io.GTIN_SIZE+li.WEIGHT_SIZE)throw new K;let t=new Ye;return this.encodeCompressedGtin(t,li.HEADER_SIZE),this.encodeCompressedWeight(t,li.HEADER_SIZE+io.GTIN_SIZE,li.WEIGHT_SIZE),t.toString()}}li.HEADER_SIZE=5,li.WEIGHT_SIZE=15;class eu extends li{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class tu extends li{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class ui extends ln{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ui.HEADER_SIZE+ln.GTIN_SIZE)throw new K;let t=new Ye;this.encodeCompressedGtin(t,ui.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ui.HEADER_SIZE+ln.GTIN_SIZE,ui.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(ui.HEADER_SIZE+ln.GTIN_SIZE+ui.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()}}ui.HEADER_SIZE=8,ui.LAST_DIGIT_SIZE=2;class un extends ln{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<un.HEADER_SIZE+ln.GTIN_SIZE)throw new K;let t=new Ye;this.encodeCompressedGtin(t,un.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+ln.GTIN_SIZE,un.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+ln.GTIN_SIZE+un.LAST_DIGIT_SIZE,un.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);let a=this.getGeneralDecoder().decodeGeneralPurposeField(un.HEADER_SIZE+ln.GTIN_SIZE+un.LAST_DIGIT_SIZE+un.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()}}un.HEADER_SIZE=8,un.LAST_DIGIT_SIZE=2,un.FIRST_THREE_DIGITS_SIZE=10;class Ct extends io{constructor(t,i,o){super(t),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Ct.HEADER_SIZE+Ct.GTIN_SIZE+Ct.WEIGHT_SIZE+Ct.DATE_SIZE)throw new K;let t=new Ye;return this.encodeCompressedGtin(t,Ct.HEADER_SIZE),this.encodeCompressedWeight(t,Ct.HEADER_SIZE+Ct.GTIN_SIZE,Ct.WEIGHT_SIZE),this.encodeCompressedDate(t,Ct.HEADER_SIZE+Ct.GTIN_SIZE+Ct.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Ct.DATE_SIZE);if(o==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let a=o%32;o/=32;let l=o%12+1;o/=12;let h=o;h/10==0&&t.append("0"),t.append(h),l/10==0&&t.append("0"),t.append(l),a/10==0&&t.append("0"),t.append(a)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ct.HEADER_SIZE=8,Ct.WEIGHT_SIZE=20,Ct.DATE_SIZE=16;function ro(E){try{if(E.get(1))return new rr(E);if(!E.get(2))return new Ai(E);switch(ir.extractNumericValueFromBitArray(E,1,4)){case 4:return new eu(E);case 5:return new tu(E)}switch(ir.extractNumericValueFromBitArray(E,1,5)){case 12:return new ui(E);case 13:return new un(E)}switch(ir.extractNumericValueFromBitArray(E,1,7)){case 56:return new Ct(E,"310","11");case 57:return new Ct(E,"320","11");case 58:return new Ct(E,"310","13");case 59:return new Ct(E,"320","13");case 60:return new Ct(E,"310","15");case 61:return new Ct(E,"320","15");case 62:return new Ct(E,"310","17");case 63:return new Ct(E,"320","17")}}catch(t){throw console.log(t),new Tn("unknown decoder: "+E)}}class ji{constructor(t,i,o,a){this.leftchar=t,this.rightchar=i,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof ji?ji.equalsOrNull(t.leftchar,i.leftchar)&&ji.equalsOrNull(t.rightchar,i.rightchar)&&ji.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:ji.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class _s{constructor(t,i,o){this.pairs=t,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof _s?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let o;return t.forEach((a,l)=>{i.forEach(h=>{a.getLeftChar().getValue()===h.getLeftChar().getValue()&&a.getRightChar().getValue()===h.getRightChar().getValue()&&a.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(o=!0)})}),o}}class ee extends an{constructor(t){super(...arguments),this.pairs=new Array(ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,o){this.pairs.length=0,this.startFromEven=!1;try{return ee.constructResult(this.decodeRow2pairs(t,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,ee.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(l){if(l instanceof K){if(!this.pairs.length)throw new K;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new K}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let o=i;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(a.getPairs()),!ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(a);try{return this.checkRows(l,o+1)}catch(h){this.verbose&&console.log(h)}}throw new K}static isValidSequence(t){for(let i of ee.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let o=!0;for(let a=0;a<t.length;a++)if(t[a].getFinderPattern().getValue()!=i[a]){o=!1;break}if(o)return!0}return!1}storeRow(t,i){let o=0,a=!1,l=!1;for(;o<this.rows.length;){let h=this.rows[o];if(h.getRowNumber()>t){l=h.isEquivalent(this.pairs);break}a=h.isEquivalent(this.pairs),o++}l||a||ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new _s(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let o of i)if(o.getPairs().length!==t.length){for(let a of o.getPairs())for(let l of t)if(ji.equals(a,l))break}}static isPartialRow(t,i){for(let o of i){let a=!0;for(let l of t){let h=!1;for(let d of o.getPairs())if(l.equals(d)){h=!0;break}if(!h){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=$l.buildBitArray(t),a=ro(i).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],h[0],h[1]];return new Fe(a,null,null,d,re.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),o=t.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let m=this.pairs.get(d);a+=m.getLeftChar().getChecksumPortion(),l++;let x=m.getRightChar();x!=null&&(a+=x.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==i.getValue()}static getNextSecondBar(t,i){let o;return t.get(i)?(o=t.getNextUnset(i),o=t.getNextSet(o)):(o=t.getNextSet(i),o=t.getNextUnset(o)),o}retrieveNextPair(t,i,o){let a=i.length%2==0;this.startFromEven&&(a=!a);let l,h=!0,d=-1;do this.findNextPair(t,i,d),l=this.parseFoundFinderPattern(t,o,a),l==null?d=ee.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let m=this.decodeDataCharacter(t,l,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new K;let x;try{x=this.decodeDataCharacter(t,l,a,!1)}catch(v){x=null,this.verbose&&console.log(v)}return new ji(m,x,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h;o>=0?h=o:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let m=!1;for(;h<l&&(m=!t.get(h),!!m);)h++;let x=0,v=h;for(let A=h;A<l;A++)if(t.get(A)!=m)a[x]++;else{if(x==3){if(d&&ee.reverseCounters(a),ee.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=A;return}d&&ee.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,m=!m}throw new K}static reverseCounters(t){let i=t.length;for(let o=0;o<i/2;++o){let a=t[o];t[o]=t[i-o-1],t[i-o-1]=a}}parseFoundFinderPattern(t,i,o){let a,l,h;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,a=this.startEnd[0]-x,l=x,h=this.startEnd[1]}else l=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),a=h-this.startEnd[1];let d=this.getDecodeFinderCounters();X.arraycopy(d,0,d,1,d.length-1),d[0]=a;let m;try{m=this.parseFinderValue(d,ee.FINDER_PATTERNS)}catch{return null}return new Er(m,[l,h],l,h,i)}decodeDataCharacter(t,i,o,a){let l=this.getDataCharacterCounters();for(let at=0;at<l.length;at++)l[at]=0;if(a)ee.recordPatternInReverse(t,i.getStartEnd()[0],l);else{ee.recordPattern(t,i.getStartEnd()[1],l);for(let at=0,rn=l.length-1;at<rn;at++,rn--){let Cn=l[at];l[at]=l[rn],l[rn]=Cn}}let h=17,d=qe.sum(new Int32Array(l))/h,m=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-m)/m>.3)throw new K;let x=this.getOddCounts(),v=this.getEvenCounts(),A=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let at=0;at<l.length;at++){let rn=1*l[at]/d,Cn=rn+.5;if(Cn<1){if(rn<.3)throw new K;Cn=1}else if(Cn>8){if(rn>8.7)throw new K;Cn=8}let br=at/2;at&1?(v[br]=Cn,T[br]=rn-Cn):(x[br]=Cn,A[br]=rn-Cn)}this.adjustOddEvenCounts(h);let b=4*i.getValue()+(o?0:2)+(a?0:1)-1,B=0,F=0;for(let at=x.length-1;at>=0;at--){if(ee.isNotA1left(i,o,a)){let rn=ee.WEIGHTS[b][2*at];F+=x[at]*rn}B+=x[at]}let H=0;for(let at=v.length-1;at>=0;at--)if(ee.isNotA1left(i,o,a)){let rn=ee.WEIGHTS[b][2*at+1];H+=v[at]*rn}let W=F+H;if(B&1||B>13||B<4)throw new K;let ae=(13-B)/2,ue=ee.SYMBOL_WIDEST[ae],ie=9-ue,Ge=ai.getRSSvalue(x,ue,!0),Ue=ai.getRSSvalue(v,ie,!1),Nt=ee.EVEN_TOTAL_SUBSET[ae],wn=ee.GSUM[ae],vn=Ge*Nt+Ue+wn;return new Cr(vn,W)}static isNotA1left(t,i,o){return!(t.getValue()==0&&i&&o)}adjustOddEvenCounts(t){let i=qe.sum(new Int32Array(this.getOddCounts())),o=qe.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);let h=!1,d=!1;o>13?d=!0:o<4&&(h=!0);let m=i+o-t,x=(i&1)==1,v=(o&1)==0;if(m==1)if(x){if(v)throw new K;l=!0}else{if(!v)throw new K;d=!0}else if(m==-1)if(x){if(v)throw new K;a=!0}else{if(!v)throw new K;h=!0}else if(m==0){if(x){if(!v)throw new K;i<o?(a=!0,d=!0):(l=!0,h=!0)}else if(v)throw new K}else throw new K;if(a){if(l)throw new K;ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(d)throw new K;ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ee.SYMBOL_WIDEST=[7,5,4,3,1],ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ee.GSUM=[0,348,1388,2948,3988],ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ee.FINDER_PAT_A=0,ee.FINDER_PAT_B=1,ee.FINDER_PAT_C=2,ee.FINDER_PAT_D=3,ee.FINDER_PAT_E=4,ee.FINDER_PAT_F=5,ee.FINDER_PATTERN_SEQUENCES=[[ee.FINDER_PAT_A,ee.FINDER_PAT_A],[ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B],[ee.FINDER_PAT_A,ee.FINDER_PAT_C,ee.FINDER_PAT_B,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_C],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F]],ee.MAX_PAIRS=11;class nu extends Cr{constructor(t,i,o){super(t,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Lt extends an{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,o){const a=this.decodePair(i,!1,t,o);Lt.addOrTally(this.possibleLeftPairs,a),i.reverse();let l=this.decodePair(i,!0,t,o);Lt.addOrTally(this.possibleRightPairs,l),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&Lt.checkChecksum(h,d))return Lt.constructResult(h,d)}throw new K}static addOrTally(t,i){if(i==null)return;let o=!1;for(let a of t)if(a.getValue()===i.getValue()){a.incrementCount(),o=!0;break}o||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let o=4537077*t.getValue()+i.getValue(),a=new String(o).toString(),l=new Ye;for(let x=13-a.length;x>0;x--)l.append("0");l.append(a);let h=0;for(let x=0;x<13;x++){let v=l.charAt(x).charCodeAt(0)-48;h+=x&1?v:3*v}h=10-h%10,h===10&&(h=0),l.append(h.toString());let d=t.getFinderPattern().getResultPoints(),m=i.getFinderPattern().getResultPoints();return new Fe(l.toString(),null,0,[d[0],d[1],m[0],m[1]],re.RSS_14,new Date().getTime())}static checkChecksum(t,i){let o=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(t,i,o,a){try{let l=this.findFinderPattern(t,i),h=this.parseFoundFinderPattern(t,o,i,l),d=a==null?null:a.get(le.NEED_RESULT_POINT_CALLBACK);if(d!=null){let v=(l[0]+l[1])/2;i&&(v=t.getSize()-1-v),d.foundPossibleResultPoint(new we(v,o))}let m=this.decodeDataCharacter(t,h,!0),x=this.decodeDataCharacter(t,h,!1);return new nu(1597*m.getValue()+x.getValue(),m.getChecksumPortion()+4*x.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,i,o){let a=this.getDataCharacterCounters();for(let H=0;H<a.length;H++)a[H]=0;if(o)mt.recordPatternInReverse(t,i.getStartEnd()[0],a);else{mt.recordPattern(t,i.getStartEnd()[1]+1,a);for(let H=0,W=a.length-1;H<W;H++,W--){let ae=a[H];a[H]=a[W],a[W]=ae}}let l=o?16:15,h=qe.sum(new Int32Array(a))/l,d=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let H=0;H<a.length;H++){let W=a[H]/h,ae=Math.floor(W+.5);ae<1?ae=1:ae>8&&(ae=8);let ue=Math.floor(H/2);H&1?(m[ue]=ae,v[ue]=W-ae):(d[ue]=ae,x[ue]=W-ae)}this.adjustOddEvenCounts(o,l);let A=0,T=0;for(let H=d.length-1;H>=0;H--)T*=9,T+=d[H],A+=d[H];let b=0,B=0;for(let H=m.length-1;H>=0;H--)b*=9,b+=m[H],B+=m[H];let F=T+3*b;if(o){if(A&1||A>12||A<4)throw new K;let H=(12-A)/2,W=Lt.OUTSIDE_ODD_WIDEST[H],ae=9-W,ue=ai.getRSSvalue(d,W,!1),ie=ai.getRSSvalue(m,ae,!0),Ge=Lt.OUTSIDE_EVEN_TOTAL_SUBSET[H],Ue=Lt.OUTSIDE_GSUM[H];return new Cr(ue*Ge+ie+Ue,F)}else{if(B&1||B>10||B<4)throw new K;let H=(10-B)/2,W=Lt.INSIDE_ODD_WIDEST[H],ae=9-W,ue=ai.getRSSvalue(d,W,!0),ie=ai.getRSSvalue(m,ae,!1),Ge=Lt.INSIDE_ODD_TOTAL_SUBSET[H],Ue=Lt.INSIDE_GSUM[H];return new Cr(ie*Ge+ue+Ue,F)}}findFinderPattern(t,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=!1,h=0;for(;h<a&&(l=!t.get(h),i!==l);)h++;let d=0,m=h;for(let x=h;x<a;x++)if(t.get(x)!==l)o[d]++;else{if(d===3){if(an.isFinderPattern(o))return[m,x];m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,l=!l}throw new K}parseFoundFinderPattern(t,i,o,a){let l=t.get(a[0]),h=a[0]-1;for(;h>=0&&l!==t.get(h);)h--;h++;const d=a[0]-h,m=this.getDecodeFinderCounters(),x=new Int32Array(m.length);X.arraycopy(m,0,x,1,m.length-1),x[0]=d;const v=this.parseFinderValue(x,Lt.FINDER_PATTERNS);let A=h,T=a[1];return o&&(A=t.getSize()-1-A,T=t.getSize()-1-T),new Er(v,[h,a[1]],A,T,i)}adjustOddEvenCounts(t,i){let o=qe.sum(new Int32Array(this.getOddCounts())),a=qe.sum(new Int32Array(this.getEvenCounts())),l=!1,h=!1,d=!1,m=!1;t?(o>12?h=!0:o<4&&(l=!0),a>12?m=!0:a<4&&(d=!0)):(o>11?h=!0:o<5&&(l=!0),a>10?m=!0:a<4&&(d=!0));let x=o+a-i,v=(o&1)===(t?1:0),A=(a&1)===1;if(x===1)if(v){if(A)throw new K;h=!0}else{if(!A)throw new K;m=!0}else if(x===-1)if(v){if(A)throw new K;l=!0}else{if(!A)throw new K;d=!0}else if(x===0){if(v){if(!A)throw new K;o<a?(l=!0,m=!0):(h=!0,d=!0)}else if(A)throw new K}else throw new K;if(l){if(h)throw new K;an.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&an.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new K;an.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&an.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Lt.OUTSIDE_GSUM=[0,161,961,2015,2715],Lt.INSIDE_GSUM=[0,336,1036,1516],Lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Lt.INSIDE_ODD_WIDEST=[2,4,6,8],Lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Vi extends mt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const o=t?t.get(le.POSSIBLE_FORMATS):null,a=t&&t.get(le.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(re.EAN_13)||o.includes(re.UPC_A)||o.includes(re.EAN_8)||o.includes(re.UPC_E))&&this.readers.push(new ms(t)),o.includes(re.CODE_39)&&this.readers.push(new Ht(a)),o.includes(re.CODE_128)&&this.readers.push(new fe),o.includes(re.ITF)&&this.readers.push(new ft),o.includes(re.RSS_14)&&this.readers.push(new Lt),o.includes(re.RSS_EXPANDED)&&this.readers.push(new ee(this.verbose))):(this.readers.push(new ms(t)),this.readers.push(new Ht),this.readers.push(new ms(t)),this.readers.push(new fe),this.readers.push(new ft),this.readers.push(new Lt),this.readers.push(new ee(this.verbose)))}decodeRow(t,i,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,i,o)}catch{}throw new K}reset(){this.readers.forEach(t=>t.reset())}}class oo extends ct{constructor(t=500,i){super(new Vi(i),t,i)}}class ot{constructor(t,i,o){this.ecCodewords=t,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ve{constructor(t,i,o,a,l,h){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=h;let d=0;const m=h.getECCodewords(),x=h.getECBlocks();for(let v of x)d+=v.getCount()*(v.getDataCodewords()+m);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if(t&1||i&1)throw new G;for(let o of Ve.VERSIONS)if(o.symbolSizeRows===t&&o.symbolSizeColumns===i)return o;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new Ve(1,10,10,8,8,new ot(5,new it(1,3))),new Ve(2,12,12,10,10,new ot(7,new it(1,5))),new Ve(3,14,14,12,12,new ot(10,new it(1,8))),new Ve(4,16,16,14,14,new ot(12,new it(1,12))),new Ve(5,18,18,16,16,new ot(14,new it(1,18))),new Ve(6,20,20,18,18,new ot(18,new it(1,22))),new Ve(7,22,22,20,20,new ot(20,new it(1,30))),new Ve(8,24,24,22,22,new ot(24,new it(1,36))),new Ve(9,26,26,24,24,new ot(28,new it(1,44))),new Ve(10,32,32,14,14,new ot(36,new it(1,62))),new Ve(11,36,36,16,16,new ot(42,new it(1,86))),new Ve(12,40,40,18,18,new ot(48,new it(1,114))),new Ve(13,44,44,20,20,new ot(56,new it(1,144))),new Ve(14,48,48,22,22,new ot(68,new it(1,174))),new Ve(15,52,52,24,24,new ot(42,new it(2,102))),new Ve(16,64,64,14,14,new ot(56,new it(2,140))),new Ve(17,72,72,16,16,new ot(36,new it(4,92))),new Ve(18,80,80,18,18,new ot(48,new it(4,114))),new Ve(19,88,88,20,20,new ot(56,new it(4,144))),new Ve(20,96,96,22,22,new ot(68,new it(4,174))),new Ve(21,104,104,24,24,new ot(56,new it(6,136))),new Ve(22,120,120,18,18,new ot(68,new it(6,175))),new Ve(23,132,132,20,20,new ot(62,new it(8,163))),new Ve(24,144,144,22,22,new ot(62,new it(8,156),new it(2,155))),new Ve(25,8,18,6,16,new ot(7,new it(1,5))),new Ve(26,8,32,6,14,new ot(11,new it(1,10))),new Ve(27,12,26,10,24,new ot(14,new it(1,16))),new Ve(28,12,36,10,16,new ot(18,new it(1,22))),new Ve(29,16,36,14,16,new ot(24,new it(1,32))),new Ve(30,16,48,14,22,new ot(28,new it(1,49)))]}}Ve.VERSIONS=Ve.buildVersions();class $e{constructor(t){const i=t.getHeight();if(i<8||i>144||i&1)throw new G;this.version=$e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new We(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),o=t.getWidth();return Ve.getVersionForDimensions(i,o)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,a=0;const l=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let d=!1,m=!1,x=!1,v=!1;do if(o===l&&a===0&&!d)t[i++]=this.readCorner1(l,h)&255,o-=2,a+=2,d=!0;else if(o===l-2&&a===0&&h&3&&!m)t[i++]=this.readCorner2(l,h)&255,o-=2,a+=2,m=!0;else if(o===l+4&&a===2&&!(h&7)&&!x)t[i++]=this.readCorner3(l,h)&255,o-=2,a+=2,x=!0;else if(o===l-2&&a===0&&(h&7)===4&&!v)t[i++]=this.readCorner4(l,h)&255,o-=2,a+=2,v=!0;else{do o<l&&a>=0&&!this.readMappingMatrix.get(a,o)&&(t[i++]=this.readUtah(o,a,l,h)&255),o-=2,a+=2;while(o>=0&&a<h);o+=1,a+=3;do o>=0&&a<h&&!this.readMappingMatrix.get(a,o)&&(t[i++]=this.readUtah(o,a,l,h)&255),o+=2,a-=2;while(o<l&&a>=0);o+=3,a+=1}while(o<l||a<h);if(i!==this.version.getTotalCodewords())throw new G;return t}readModule(t,i,o,a){return t<0&&(t+=o,i+=4-(o+4&7)),i<0&&(i+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,o,a){let l=0;return this.readModule(t-2,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t-2,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i,o,a)&&(l|=1),l<<=1,this.readModule(t,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t,i,o,a)&&(l|=1),l}readCorner1(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,1,t,i)&&(o|=1),o<<=1,this.readModule(t-1,2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}readCorner2(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-4,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner3(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-3,t,i)&&(o|=1),o<<=1,this.readModule(1,i-2,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner4(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new O("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),h=i/a|0,d=o/l|0,m=h*a,x=d*l,v=new We(x,m);for(let A=0;A<h;++A){const T=A*a;for(let b=0;b<d;++b){const B=b*l;for(let F=0;F<a;++F){const H=A*(a+2)+1+F,W=T+F;for(let ae=0;ae<l;++ae){const ue=b*(l+2)+1+ae;if(t.get(ue,H)){const ie=B+ae;v.set(ie,W)}}}}}return v}}class wt{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const o=i.getECBlocks();let a=0;const l=o.getECBlocks();for(let F of l)a+=F.getCount();const h=new Array(a);let d=0;for(let F of l)for(let H=0;H<F.getCount();H++){const W=F.getDataCodewords(),ae=o.getECCodewords()+W;h[d++]=new wt(W,new Uint8Array(ae))}const x=h[0].codewords.length-o.getECCodewords(),v=x-1;let A=0;for(let F=0;F<v;F++)for(let H=0;H<d;H++)h[H].codewords[F]=t[A++];const T=i.getVersionNumber()===24,b=T?8:d;for(let F=0;F<b;F++)h[F].codewords[x-1]=t[A++];const B=h[0].codewords.length;for(let F=x;F<B;F++)for(let H=0;H<d;H++){const W=T?(H+8)%d:H,ae=T&&W>7?F-1:F;h[W].codewords[ae]=t[A++]}if(A!==t.length)throw new O;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ar{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new O(""+t);let i=0,o=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(o>0){const h=8-o,d=t<h?t:h,m=h-d,x=255>>8-d<<m;i=(l[a]&x)>>m,t-=d,o+=d,o===8&&(o=0,a++)}if(t>0){for(;t>=8;)i=i<<8|l[a]&255,a++,t-=8;if(t>0){const h=8-t,d=255>>h<<h;i=i<<t|(l[a]&d)>>h,o+=t}}return this.bitOffset=o,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class Mn{static decode(t){const i=new Ar(t),o=new Ye,a=new Ye,l=new Array;let h=Et.ASCII_ENCODE;do if(h===Et.ASCII_ENCODE)h=this.decodeAsciiSegment(i,o,a);else{switch(h){case Et.C40_ENCODE:this.decodeC40Segment(i,o);break;case Et.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(i,o,l);break;default:throw new G}h=Et.ASCII_ENCODE}while(h!==Et.PAD_ENCODE&&i.available()>0);return a.length()>0&&o.append(a.toString()),new Fi(t,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,i,o){let a=!1;do{let l=t.readBits(8);if(l===0)throw new G;if(l<=128)return a&&(l+=128),i.append(String.fromCharCode(l-1)),Et.ASCII_ENCODE;if(l===129)return Et.PAD_ENCODE;if(l<=229){const h=l-130;h<10&&i.append("0"),i.append(""+h)}else switch(l){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new G;break}}while(t.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(t,i){let o=!1;const a=[];let l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let d=0;d<3;d++){const m=a[d];switch(l){case 0:if(m<3)l=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new G;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new G}l=0;break;case 3:o?(i.append(String.fromCharCode(m+224)),o=!1):i.append(String.fromCharCode(m+96)),l=0;break;default:throw new G}}}while(t.available()>0)}static decodeTextSegment(t,i){let o=!1,a=[],l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let d=0;d<3;d++){const m=a[d];switch(l){case 0:if(m<3)l=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new G;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new G}l=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x),l=0}else throw new G;break;default:throw new G}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const o=[];do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),o);for(let l=0;l<3;l++){const h=o[l];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new G;break}}}while(t.available()>0)}static parseTwoBytes(t,i,o){let a=(t<<8)+i-1,l=Math.floor(a/1600);o[0]=l,a-=l*1600,l=Math.floor(a/40),o[1]=l,o[2]=a-l*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let o=0;o<4;o++){let a=t.readBits(6);if(a===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(t.available()>0)}static decodeBase256Segment(t,i,o){let a=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),a++);let h;if(l===0?h=t.available()/8|0:l<250?h=l:h=250*(l-249)+this.unrandomize255State(t.readBits(8),a++),h<0)throw new G;const d=new Uint8Array(h);for(let m=0;m<h;m++){if(t.available()<8)throw new G;d[m]=this.unrandomize255State(t.readBits(8),a++)}o.push(d);try{i.append(He.decode(d,ye.ISO88591))}catch(m){throw new Tn("Platform does not support required encoding: "+m.message)}}static unrandomize255State(t,i){const o=149*i%255+1,a=t-o;return a>=0?a:a+256}}Mn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Mn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Mn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Mn.TEXT_SHIFT2_SET_CHARS=Mn.C40_SHIFT2_SET_CHARS,Mn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ys{constructor(){this.rsDecoder=new zi(Ke.DATA_MATRIX_FIELD_256)}decode(t){const i=new $e(t),o=i.getVersion(),a=i.readCodewords(),l=wt.getDataBlocks(a,o);let h=0;for(let x of l)h+=x.getNumDataCodewords();const d=new Uint8Array(h),m=l.length;for(let x=0;x<m;x++){const v=l[x],A=v.getCodewords(),T=v.getNumDataCodewords();this.correctErrors(A,T);for(let b=0;b<T;b++)d[b*m+x]=A[b]}return Mn.decode(d)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new q}for(let a=0;a<i;a++)t[a]=o[a]}}class Ae{constructor(t){this.image=t,this.rectangleDetector=new Te(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new K;i=this.shiftToModuleCenter(i);const o=i[0],a=i[1],l=i[2],h=i[3];let d=this.transitionsBetween(o,h)+1,m=this.transitionsBetween(l,h)+1;(d&1)===1&&(d+=1),(m&1)===1&&(m+=1),4*d<7*m&&4*m<7*d&&(d=m=Math.max(d,m));let x=Ae.sampleGrid(this.image,o,a,l,h,d,m);return new Ui(x,[o,a,l,h])}static shiftPoint(t,i,o){let a=(i.getX()-t.getX())/(o+1),l=(i.getY()-t.getY())/(o+1);return new we(t.getX()+a,t.getY()+l)}static moveAway(t,i,o){let a=t.getX(),l=t.getY();return a<i?a-=1:a+=1,l<o?l-=1:l+=1,new we(a,l)}detectSolid1(t){let i=t[0],o=t[1],a=t[3],l=t[2],h=this.transitionsBetween(i,o),d=this.transitionsBetween(o,a),m=this.transitionsBetween(a,l),x=this.transitionsBetween(l,i),v=h,A=[l,i,o,a];return v>d&&(v=d,A[0]=i,A[1]=o,A[2]=a,A[3]=l),v>m&&(v=m,A[0]=o,A[1]=a,A[2]=l,A[3]=i),v>x&&(A[0]=a,A[1]=l,A[2]=i,A[3]=o),A}detectSolid2(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l),d=Ae.shiftPoint(o,a,(h+1)*4),m=Ae.shiftPoint(a,o,(h+1)*4),x=this.transitionsBetween(d,i),v=this.transitionsBetween(m,l);return x<v?(t[0]=i,t[1]=o,t[2]=a,t[3]=l):(t[0]=o,t[1]=a,t[2]=l,t[3]=i),t}correctTopRight(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l),d=this.transitionsBetween(o,l),m=Ae.shiftPoint(i,o,(d+1)*4),x=Ae.shiftPoint(a,o,(h+1)*4);h=this.transitionsBetween(m,l),d=this.transitionsBetween(x,l);let v=new we(l.getX()+(a.getX()-o.getX())/(h+1),l.getY()+(a.getY()-o.getY())/(h+1)),A=new we(l.getX()+(i.getX()-o.getX())/(d+1),l.getY()+(i.getY()-o.getY())/(d+1));if(!this.isValid(v))return this.isValid(A)?A:null;if(!this.isValid(A))return v;let T=this.transitionsBetween(m,v)+this.transitionsBetween(x,v),b=this.transitionsBetween(m,A)+this.transitionsBetween(x,A);return T>b?v:A}shiftToModuleCenter(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l)+1,d=this.transitionsBetween(a,l)+1,m=Ae.shiftPoint(i,o,d*4),x=Ae.shiftPoint(a,o,h*4);h=this.transitionsBetween(m,l)+1,d=this.transitionsBetween(x,l)+1,(h&1)===1&&(h+=1),(d&1)===1&&(d+=1);let v=(i.getX()+o.getX()+a.getX()+l.getX())/4,A=(i.getY()+o.getY()+a.getY()+l.getY())/4;i=Ae.moveAway(i,v,A),o=Ae.moveAway(o,v,A),a=Ae.moveAway(a,v,A),l=Ae.moveAway(l,v,A);let T,b;return m=Ae.shiftPoint(i,o,d*4),m=Ae.shiftPoint(m,l,h*4),T=Ae.shiftPoint(o,i,d*4),T=Ae.shiftPoint(T,a,h*4),x=Ae.shiftPoint(a,l,d*4),x=Ae.shiftPoint(x,o,h*4),b=Ae.shiftPoint(l,a,d*4),b=Ae.shiftPoint(b,i,h*4),[m,T,x,b]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,o,a,l,h,d){return Gn.getInstance().sampleGrid(t,h,d,.5,.5,h-.5,.5,h-.5,d-.5,.5,d-.5,i.getX(),i.getY(),l.getX(),l.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(t,i){let o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),l=Math.trunc(i.getX()),h=Math.trunc(i.getY()),d=Math.abs(h-a)>Math.abs(l-o);if(d){let F=o;o=a,a=F,F=l,l=h,h=F}let m=Math.abs(l-o),x=Math.abs(h-a),v=-m/2,A=a<h?1:-1,T=o<l?1:-1,b=0,B=this.image.get(d?a:o,d?o:a);for(let F=o,H=a;F!==l;F+=T){let W=this.image.get(d?H:F,d?F:H);if(W!==B&&(b++,B=W),v+=x,v>0){if(H===h)break;H+=A,v-=m}}return b}}class lt{constructor(){this.decoder=new ys}decode(t,i=null){let o,a;if(i!=null&&i.has(le.PURE_BARCODE)){const x=lt.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(x),a=lt.NO_POINTS}else{const x=new Ae(t.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),a=x.getPoints()}const l=o.getRawBytes(),h=new Fe(o.getText(),l,8*l.length,a,re.DATA_MATRIX,X.currentTimeMillis()),d=o.getByteSegments();d!=null&&h.putMetadata(ht.BYTE_SEGMENTS,d);const m=o.getECLevel();return m!=null&&h.putMetadata(ht.ERROR_CORRECTION_LEVEL,m),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i==null||o==null)throw new K;const a=this.moduleSize(i,t);let l=i[1];const h=o[1];let d=i[0];const x=(o[0]-d+1)/a,v=(h-l+1)/a;if(x<=0||v<=0)throw new K;const A=a/2;l+=A,d+=A;const T=new We(x,v);for(let b=0;b<v;b++){const B=l+b*a;for(let F=0;F<x;F++)t.get(d+F*a,B)&&T.set(F,b)}return T}static moduleSize(t,i){const o=i.getWidth();let a=t[0];const l=t[1];for(;a<o&&i.get(a,l);)a++;if(a===o)throw new K;const h=a-t[0];if(h===0)throw new K;return h}}lt.NO_POINTS=[];class ws extends ct{constructor(t=500){super(new lt,t)}}var Si;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(Si||(Si={}));class Ze{constructor(t,i,o){this.value=t,this.stringValue=i,this.bits=o,Ze.FOR_BITS.set(o,this),Ze.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ze.L;case"M":return Ze.M;case"Q":return Ze.Q;case"H":return Ze.H;default:throw new D(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ze))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=Ze.FOR_BITS.size)throw new O;return Ze.FOR_BITS.get(t)}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.L=new Ze(Si.L,"L",1),Ze.M=new Ze(Si.M,"M",0),Ze.Q=new Ze(Si.Q,"Q",3),Ze.H=new Ze(Si.H,"H",2);class cn{constructor(t){this.errorCorrectionLevel=Ze.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return k.bitCount(t^i)}static decodeFormatInformation(t,i){const o=cn.doDecodeFormatInformation(t,i);return o!==null?o:cn.doDecodeFormatInformation(t^cn.FORMAT_INFO_MASK_QR,i^cn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let o=Number.MAX_SAFE_INTEGER,a=0;for(const l of cn.FORMAT_INFO_DECODE_LOOKUP){const h=l[0];if(h===t||h===i)return new cn(l[1]);let d=cn.numBitsDiffering(t,h);d<o&&(a=l[1],o=d),t!==i&&(d=cn.numBitsDiffering(i,h),d<o&&(a=l[1],o=d))}return o<=3?new cn(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof cn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}cn.FORMAT_INFO_MASK_QR=21522,cn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const o of i)t+=o.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pe{constructor(t,i,...o){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=o;let a=0;const l=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();for(const d of h)a+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new G;try{return this.getVersionForNumber((t-17)/4)}catch{throw new G}}static getVersionForNumber(t){if(t<1||t>40)throw new O;return pe.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<pe.VERSION_DECODE_INFO.length;a++){const l=pe.VERSION_DECODE_INFO[a];if(l===t)return pe.getVersionForNumber(a+7);const h=cn.numBitsDiffering(t,l);h<i&&(o=a+7,i=h)}return i<=3?pe.getVersionForNumber(o):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new We(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){const l=this.alignmentPatternCenters[a]-2;for(let h=0;h<o;h++)a===0&&(h===0||h===o-1)||a===o-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,l,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),pe.VERSIONS=[new pe(1,new Int32Array(0),new j(7,new M(1,19)),new j(10,new M(1,16)),new j(13,new M(1,13)),new j(17,new M(1,9))),new pe(2,Int32Array.from([6,18]),new j(10,new M(1,34)),new j(16,new M(1,28)),new j(22,new M(1,22)),new j(28,new M(1,16))),new pe(3,Int32Array.from([6,22]),new j(15,new M(1,55)),new j(26,new M(1,44)),new j(18,new M(2,17)),new j(22,new M(2,13))),new pe(4,Int32Array.from([6,26]),new j(20,new M(1,80)),new j(18,new M(2,32)),new j(26,new M(2,24)),new j(16,new M(4,9))),new pe(5,Int32Array.from([6,30]),new j(26,new M(1,108)),new j(24,new M(2,43)),new j(18,new M(2,15),new M(2,16)),new j(22,new M(2,11),new M(2,12))),new pe(6,Int32Array.from([6,34]),new j(18,new M(2,68)),new j(16,new M(4,27)),new j(24,new M(4,19)),new j(28,new M(4,15))),new pe(7,Int32Array.from([6,22,38]),new j(20,new M(2,78)),new j(18,new M(4,31)),new j(18,new M(2,14),new M(4,15)),new j(26,new M(4,13),new M(1,14))),new pe(8,Int32Array.from([6,24,42]),new j(24,new M(2,97)),new j(22,new M(2,38),new M(2,39)),new j(22,new M(4,18),new M(2,19)),new j(26,new M(4,14),new M(2,15))),new pe(9,Int32Array.from([6,26,46]),new j(30,new M(2,116)),new j(22,new M(3,36),new M(2,37)),new j(20,new M(4,16),new M(4,17)),new j(24,new M(4,12),new M(4,13))),new pe(10,Int32Array.from([6,28,50]),new j(18,new M(2,68),new M(2,69)),new j(26,new M(4,43),new M(1,44)),new j(24,new M(6,19),new M(2,20)),new j(28,new M(6,15),new M(2,16))),new pe(11,Int32Array.from([6,30,54]),new j(20,new M(4,81)),new j(30,new M(1,50),new M(4,51)),new j(28,new M(4,22),new M(4,23)),new j(24,new M(3,12),new M(8,13))),new pe(12,Int32Array.from([6,32,58]),new j(24,new M(2,92),new M(2,93)),new j(22,new M(6,36),new M(2,37)),new j(26,new M(4,20),new M(6,21)),new j(28,new M(7,14),new M(4,15))),new pe(13,Int32Array.from([6,34,62]),new j(26,new M(4,107)),new j(22,new M(8,37),new M(1,38)),new j(24,new M(8,20),new M(4,21)),new j(22,new M(12,11),new M(4,12))),new pe(14,Int32Array.from([6,26,46,66]),new j(30,new M(3,115),new M(1,116)),new j(24,new M(4,40),new M(5,41)),new j(20,new M(11,16),new M(5,17)),new j(24,new M(11,12),new M(5,13))),new pe(15,Int32Array.from([6,26,48,70]),new j(22,new M(5,87),new M(1,88)),new j(24,new M(5,41),new M(5,42)),new j(30,new M(5,24),new M(7,25)),new j(24,new M(11,12),new M(7,13))),new pe(16,Int32Array.from([6,26,50,74]),new j(24,new M(5,98),new M(1,99)),new j(28,new M(7,45),new M(3,46)),new j(24,new M(15,19),new M(2,20)),new j(30,new M(3,15),new M(13,16))),new pe(17,Int32Array.from([6,30,54,78]),new j(28,new M(1,107),new M(5,108)),new j(28,new M(10,46),new M(1,47)),new j(28,new M(1,22),new M(15,23)),new j(28,new M(2,14),new M(17,15))),new pe(18,Int32Array.from([6,30,56,82]),new j(30,new M(5,120),new M(1,121)),new j(26,new M(9,43),new M(4,44)),new j(28,new M(17,22),new M(1,23)),new j(28,new M(2,14),new M(19,15))),new pe(19,Int32Array.from([6,30,58,86]),new j(28,new M(3,113),new M(4,114)),new j(26,new M(3,44),new M(11,45)),new j(26,new M(17,21),new M(4,22)),new j(26,new M(9,13),new M(16,14))),new pe(20,Int32Array.from([6,34,62,90]),new j(28,new M(3,107),new M(5,108)),new j(26,new M(3,41),new M(13,42)),new j(30,new M(15,24),new M(5,25)),new j(28,new M(15,15),new M(10,16))),new pe(21,Int32Array.from([6,28,50,72,94]),new j(28,new M(4,116),new M(4,117)),new j(26,new M(17,42)),new j(28,new M(17,22),new M(6,23)),new j(30,new M(19,16),new M(6,17))),new pe(22,Int32Array.from([6,26,50,74,98]),new j(28,new M(2,111),new M(7,112)),new j(28,new M(17,46)),new j(30,new M(7,24),new M(16,25)),new j(24,new M(34,13))),new pe(23,Int32Array.from([6,30,54,78,102]),new j(30,new M(4,121),new M(5,122)),new j(28,new M(4,47),new M(14,48)),new j(30,new M(11,24),new M(14,25)),new j(30,new M(16,15),new M(14,16))),new pe(24,Int32Array.from([6,28,54,80,106]),new j(30,new M(6,117),new M(4,118)),new j(28,new M(6,45),new M(14,46)),new j(30,new M(11,24),new M(16,25)),new j(30,new M(30,16),new M(2,17))),new pe(25,Int32Array.from([6,32,58,84,110]),new j(26,new M(8,106),new M(4,107)),new j(28,new M(8,47),new M(13,48)),new j(30,new M(7,24),new M(22,25)),new j(30,new M(22,15),new M(13,16))),new pe(26,Int32Array.from([6,30,58,86,114]),new j(28,new M(10,114),new M(2,115)),new j(28,new M(19,46),new M(4,47)),new j(28,new M(28,22),new M(6,23)),new j(30,new M(33,16),new M(4,17))),new pe(27,Int32Array.from([6,34,62,90,118]),new j(30,new M(8,122),new M(4,123)),new j(28,new M(22,45),new M(3,46)),new j(30,new M(8,23),new M(26,24)),new j(30,new M(12,15),new M(28,16))),new pe(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new M(3,117),new M(10,118)),new j(28,new M(3,45),new M(23,46)),new j(30,new M(4,24),new M(31,25)),new j(30,new M(11,15),new M(31,16))),new pe(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new M(7,116),new M(7,117)),new j(28,new M(21,45),new M(7,46)),new j(30,new M(1,23),new M(37,24)),new j(30,new M(19,15),new M(26,16))),new pe(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new M(5,115),new M(10,116)),new j(28,new M(19,47),new M(10,48)),new j(30,new M(15,24),new M(25,25)),new j(30,new M(23,15),new M(25,16))),new pe(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new M(13,115),new M(3,116)),new j(28,new M(2,46),new M(29,47)),new j(30,new M(42,24),new M(1,25)),new j(30,new M(23,15),new M(28,16))),new pe(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new M(17,115)),new j(28,new M(10,46),new M(23,47)),new j(30,new M(10,24),new M(35,25)),new j(30,new M(19,15),new M(35,16))),new pe(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new M(17,115),new M(1,116)),new j(28,new M(14,46),new M(21,47)),new j(30,new M(29,24),new M(19,25)),new j(30,new M(11,15),new M(46,16))),new pe(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new M(13,115),new M(6,116)),new j(28,new M(14,46),new M(23,47)),new j(30,new M(44,24),new M(7,25)),new j(30,new M(59,16),new M(1,17))),new pe(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new M(12,121),new M(7,122)),new j(28,new M(12,47),new M(26,48)),new j(30,new M(39,24),new M(14,25)),new j(30,new M(22,15),new M(41,16))),new pe(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new M(6,121),new M(14,122)),new j(28,new M(6,47),new M(34,48)),new j(30,new M(46,24),new M(10,25)),new j(30,new M(2,15),new M(64,16))),new pe(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new M(17,122),new M(4,123)),new j(28,new M(29,46),new M(14,47)),new j(30,new M(49,24),new M(10,25)),new j(30,new M(24,15),new M(46,16))),new pe(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new M(4,122),new M(18,123)),new j(28,new M(13,46),new M(32,47)),new j(30,new M(48,24),new M(14,25)),new j(30,new M(42,15),new M(32,16))),new pe(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new M(20,117),new M(4,118)),new j(28,new M(40,47),new M(7,48)),new j(30,new M(43,24),new M(22,25)),new j(30,new M(10,15),new M(67,16))),new pe(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new M(19,118),new M(6,119)),new j(28,new M(18,47),new M(31,48)),new j(30,new M(34,24),new M(34,25)),new j(30,new M(20,15),new M(61,16)))];var At;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(At||(At={}));class hn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let o=0;o<i;o++)for(let a=0;a<i;a++)this.isMasked(o,a)&&t.flip(a,o)}}hn.values=new Map([[At.DATA_MASK_000,new hn(At.DATA_MASK_000,(E,t)=>(E+t&1)===0)],[At.DATA_MASK_001,new hn(At.DATA_MASK_001,(E,t)=>(E&1)===0)],[At.DATA_MASK_010,new hn(At.DATA_MASK_010,(E,t)=>t%3===0)],[At.DATA_MASK_011,new hn(At.DATA_MASK_011,(E,t)=>(E+t)%3===0)],[At.DATA_MASK_100,new hn(At.DATA_MASK_100,(E,t)=>(Math.floor(E/2)+Math.floor(t/3)&1)===0)],[At.DATA_MASK_101,new hn(At.DATA_MASK_101,(E,t)=>E*t%6===0)],[At.DATA_MASK_110,new hn(At.DATA_MASK_110,(E,t)=>E*t%6<3)],[At.DATA_MASK_111,new hn(At.DATA_MASK_111,(E,t)=>(E+t+E*t%3&1)===0)]]);class so{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new G;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const i=this.bitMatrix.getHeight();let o=0;const a=i-7;for(let l=i-1;l>=a;l--)o=this.copyBit(8,l,o);for(let l=i-8;l<i;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=cn.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return pe.getVersionForNumber(i);let o=0;const a=t-11;for(let h=5;h>=0;h--)for(let d=t-9;d>=a;d--)o=this.copyBit(d,h,o);let l=pe.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;o=0;for(let h=5;h>=0;h--)for(let d=t-9;d>=a;d--)o=this.copyBit(h,d,o);if(l=pe.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new G}copyBit(t,i,o){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?o<<1|1:o<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),o=hn.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);const l=i.buildFunctionPattern();let h=!0;const d=new Uint8Array(i.getTotalCodewords());let m=0,x=0,v=0;for(let A=a-1;A>0;A-=2){A===6&&A--;for(let T=0;T<a;T++){const b=h?a-1-T:T;for(let B=0;B<2;B++)l.get(A-B,b)||(v++,x<<=1,this.bitMatrix.get(A-B,b)&&(x|=1),v===8&&(d[m++]=x,v=0,x=0))}h=!h}if(m!==i.getTotalCodewords())throw new G;return d}remask(){if(this.parsedFormatInfo===null)return;const t=hn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,o=t.getWidth();i<o;i++)for(let a=i+1,l=t.getHeight();a<l;a++)t.get(i,a)!==t.get(a,i)&&(t.flip(a,i),t.flip(i,a))}}class ao{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,o){if(t.length!==i.getTotalCodewords())throw new O;const a=i.getECBlocksForLevel(o);let l=0;const h=a.getECBlocks();for(const B of h)l+=B.getCount();const d=new Array(l);let m=0;for(const B of h)for(let F=0;F<B.getCount();F++){const H=B.getDataCodewords(),W=a.getECCodewordsPerBlock()+H;d[m++]=new ao(H,new Uint8Array(W))}const x=d[0].codewords.length;let v=d.length-1;for(;v>=0&&d[v].codewords.length!==x;)v--;v++;const A=x-a.getECCodewordsPerBlock();let T=0;for(let B=0;B<A;B++)for(let F=0;F<m;F++)d[F].codewords[B]=t[T++];for(let B=v;B<m;B++)d[B].codewords[A]=t[T++];const b=d[0].codewords.length;for(let B=A;B<b;B++)for(let F=0;F<m;F++){const H=F<v?B:B+1;d[F].codewords[H]=t[T++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var fn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(fn||(fn={}));class Ne{constructor(t,i,o,a){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=a,Ne.FOR_BITS.set(a,this),Ne.FOR_VALUE.set(t,this)}static forBits(t){const i=Ne.FOR_BITS.get(t);if(i===void 0)throw new O;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ne))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(fn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(fn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(fn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(fn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(fn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(fn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(fn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(fn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(fn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(fn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class vt{static decode(t,i,o,a){const l=new Ar(t);let h=new Ye;const d=new Array;let m=-1,x=-1;try{let v=null,A=!1,T;do{if(l.available()<4)T=Ne.TERMINATOR;else{const b=l.readBits(4);T=Ne.forBits(b)}switch(T){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:A=!0;break;case Ne.STRUCTURED_APPEND:if(l.available()<16)throw new G;m=l.readBits(8),x=l.readBits(8);break;case Ne.ECI:const b=vt.parseECIValue(l);if(v=J.getCharacterSetECIByValue(b),v===null)throw new G;break;case Ne.HANZI:const B=l.readBits(4),F=l.readBits(T.getCharacterCountBits(i));B===vt.GB2312_SUBSET&&vt.decodeHanziSegment(l,h,F);break;default:const H=l.readBits(T.getCharacterCountBits(i));switch(T){case Ne.NUMERIC:vt.decodeNumericSegment(l,h,H);break;case Ne.ALPHANUMERIC:vt.decodeAlphanumericSegment(l,h,H,A);break;case Ne.BYTE:vt.decodeByteSegment(l,h,H,v,d,a);break;case Ne.KANJI:vt.decodeKanjiSegment(l,h,H);break;default:throw new G}break}}while(T!==Ne.TERMINATOR)}catch{throw new G}return new Fi(t,h.toString(),d.length===0?null:d,o===null?null:o.toString(),m,x)}static decodeHanziSegment(t,i,o){if(o*13>t.available())throw new G;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let d=h/96<<8&4294967295|h%96;d<959?d+=41377:d+=42657,a[l]=d>>8&255,a[l+1]=d&255,l+=2,o--}try{i.append(He.decode(a,ye.GB2312))}catch(h){throw new G(h)}}static decodeKanjiSegment(t,i,o){if(o*13>t.available())throw new G;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let d=h/192<<8&4294967295|h%192;d<7936?d+=33088:d+=49472,a[l]=d>>8,a[l+1]=d,l+=2,o--}try{i.append(He.decode(a,ye.SHIFT_JIS))}catch(h){throw new G(h)}}static decodeByteSegment(t,i,o,a,l,h){if(8*o>t.available())throw new G;const d=new Uint8Array(o);for(let x=0;x<o;x++)d[x]=t.readBits(8);let m;a===null?m=ye.guessEncoding(d,h):m=a.getName();try{i.append(He.decode(d,m))}catch(x){throw new G(x)}l.push(d)}static toAlphaNumericChar(t){if(t>=vt.ALPHANUMERIC_CHARS.length)throw new G;return vt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,o,a){const l=i.length();for(;o>1;){if(t.available()<11)throw new G;const h=t.readBits(11);i.append(vt.toAlphaNumericChar(Math.floor(h/45))),i.append(vt.toAlphaNumericChar(h%45)),o-=2}if(o===1){if(t.available()<6)throw new G;i.append(vt.toAlphaNumericChar(t.readBits(6)))}if(a)for(let h=l;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(t,i,o){for(;o>=3;){if(t.available()<10)throw new G;const a=t.readBits(10);if(a>=1e3)throw new G;i.append(vt.toAlphaNumericChar(Math.floor(a/100))),i.append(vt.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(vt.toAlphaNumericChar(a%10)),o-=3}if(o===2){if(t.available()<7)throw new G;const a=t.readBits(7);if(a>=100)throw new G;i.append(vt.toAlphaNumericChar(Math.floor(a/10))),i.append(vt.toAlphaNumericChar(a%10))}else if(o===1){if(t.available()<4)throw new G;const a=t.readBits(4);if(a>=10)throw new G;i.append(vt.toAlphaNumericChar(a))}}static parseECIValue(t){const i=t.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=t.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=t.readBits(16);return(i&31)<<16&4294967295|o}throw new G}}vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",vt.GB2312_SUBSET=1;class lo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class vs{constructor(){this.rsDecoder=new zi(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(We.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const o=new so(t);let a=null;try{return this.decodeBitMatrixParser(o,i)}catch(l){a=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,i);return l.setOther(new lo(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(t,i){const o=t.readVersion(),a=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),h=ao.getDataBlocks(l,o,a);let d=0;for(const v of h)d+=v.getNumDataCodewords();const m=new Uint8Array(d);let x=0;for(const v of h){const A=v.getCodewords(),T=v.getNumDataCodewords();this.correctErrors(A,T);for(let b=0;b<T;b++)m[x++]=A[b]}return vt.decode(m,o,a,i)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new q}for(let a=0;a<i;a++)t[a]=o[a]}}class uo extends we{constructor(t,i,o){super(t,i),this.estimatedModuleSize=o}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const a=(this.getX()+i)/2,l=(this.getY()+t)/2,h=(this.estimatedModuleSize+o)/2;return new uo(a,l,h)}}class or{constructor(t,i,o,a,l,h,d){this.image=t,this.startX=i,this.startY=o,this.width=a,this.height=l,this.moduleSize=h,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,o=this.width,a=t+o,l=this.startY+i/2,h=new Int32Array(3),d=this.image;for(let m=0;m<i;m++){const x=l+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));h[0]=0,h[1]=0,h[2]=0;let v=t;for(;v<a&&!d.get(v,x);)v++;let A=0;for(;v<a;){if(d.get(v,x))if(A===1)h[1]++;else if(A===2){if(this.foundPatternCross(h)){const T=this.handlePossibleCenter(h,x,v);if(T!==null)return T}h[0]=h[2],h[1]=1,h[2]=0,A=1}else h[++A]++;else A===1&&A++,h[A]++;v++}if(this.foundPatternCross(h)){const T=this.handlePossibleCenter(h,x,a);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,o=i/2;for(let a=0;a<3;a++)if(Math.abs(i-t[a])>=o)return!1;return!0}crossCheckVertical(t,i,o,a){const l=this.image,h=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let m=t;for(;m>=0&&l.get(i,m)&&d[1]<=o;)d[1]++,m--;if(m<0||d[1]>o)return NaN;for(;m>=0&&!l.get(i,m)&&d[0]<=o;)d[0]++,m--;if(d[0]>o)return NaN;for(m=t+1;m<h&&l.get(i,m)&&d[1]<=o;)d[1]++,m++;if(m===h||d[1]>o)return NaN;for(;m<h&&!l.get(i,m)&&d[2]<=o;)d[2]++,m++;if(d[2]>o)return NaN;const x=d[0]+d[1]+d[2];return 5*Math.abs(x-a)>=2*a?NaN:this.foundPatternCross(d)?or.centerFromEnd(d,m):NaN}handlePossibleCenter(t,i,o){const a=t[0]+t[1]+t[2],l=or.centerFromEnd(t,o),h=this.crossCheckVertical(i,l,2*t[1],a);if(!isNaN(h)){const d=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(d,h,l))return x.combineEstimate(h,l,d);const m=new uo(l,h,d);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Oo extends we{constructor(t,i,o,a){super(t,i),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const a=this.count+1,l=(this.count*this.getX()+i)/a,h=(this.count*this.getY()+t)/a,d=(this.count*this.estimatedModuleSize+o)/a;return new Oo(l,h,d,a)}}class Cs{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Xt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(le.TRY_HARDER)!==void 0,o=t!=null&&t.get(le.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),h=a.getWidth();let d=Math.floor(3*l/(4*Xt.MAX_MODULES));(d<Xt.MIN_SKIP||i)&&(d=Xt.MIN_SKIP);let m=!1;const x=new Int32Array(5);for(let A=d-1;A<l&&!m;A+=d){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let b=0;b<h;b++)if(a.get(b,A))(T&1)===1&&T++,x[T]++;else if(T&1)x[T]++;else if(T===4)if(Xt.foundPatternCross(x)){if(this.handlePossibleCenter(x,A,b,o)===!0)if(d=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>x[2]&&(A+=F-x[2]-d,b=h-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;Xt.foundPatternCross(x)&&this.handlePossibleCenter(x,A,h,o)===!0&&(d=x[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const v=this.selectBestPatterns();return we.orderBestPatterns(v),new Cs(v)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let l=0;l<5;l++){const h=t[l];if(h===0)return!1;i+=h}if(i<7)return!1;const o=i/7,a=o/2;return Math.abs(o-t[0])<a&&Math.abs(o-t[1])<a&&Math.abs(3*o-t[2])<3*a&&Math.abs(o-t[3])<a&&Math.abs(o-t[4])<a}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,o,a){const l=this.getCrossCheckStateCount();let h=0;const d=this.image;for(;t>=h&&i>=h&&d.get(i-h,t-h);)l[2]++,h++;if(t<h||i<h)return!1;for(;t>=h&&i>=h&&!d.get(i-h,t-h)&&l[1]<=o;)l[1]++,h++;if(t<h||i<h||l[1]>o)return!1;for(;t>=h&&i>=h&&d.get(i-h,t-h)&&l[0]<=o;)l[0]++,h++;if(l[0]>o)return!1;const m=d.getHeight(),x=d.getWidth();for(h=1;t+h<m&&i+h<x&&d.get(i+h,t+h);)l[2]++,h++;if(t+h>=m||i+h>=x)return!1;for(;t+h<m&&i+h<x&&!d.get(i+h,t+h)&&l[3]<o;)l[3]++,h++;if(t+h>=m||i+h>=x||l[3]>=o)return!1;for(;t+h<m&&i+h<x&&d.get(i+h,t+h)&&l[4]<o;)l[4]++,h++;if(l[4]>=o)return!1;const v=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(v-a)<2*a&&Xt.foundPatternCross(l)}crossCheckVertical(t,i,o,a){const l=this.image,h=l.getHeight(),d=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(i,m);)d[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(i,m)&&d[1]<=o;)d[1]++,m--;if(m<0||d[1]>o)return NaN;for(;m>=0&&l.get(i,m)&&d[0]<=o;)d[0]++,m--;if(d[0]>o)return NaN;for(m=t+1;m<h&&l.get(i,m);)d[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(i,m)&&d[3]<o;)d[3]++,m++;if(m===h||d[3]>=o)return NaN;for(;m<h&&l.get(i,m)&&d[4]<o;)d[4]++,m++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=2*a?NaN:Xt.foundPatternCross(d)?Xt.centerFromEnd(d,m):NaN}crossCheckHorizontal(t,i,o,a){const l=this.image,h=l.getWidth(),d=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(m,i);)d[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(m,i)&&d[1]<=o;)d[1]++,m--;if(m<0||d[1]>o)return NaN;for(;m>=0&&l.get(m,i)&&d[0]<=o;)d[0]++,m--;if(d[0]>o)return NaN;for(m=t+1;m<h&&l.get(m,i);)d[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(m,i)&&d[3]<o;)d[3]++,m++;if(m===h||d[3]>=o)return NaN;for(;m<h&&l.get(m,i)&&d[4]<o;)d[4]++,m++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=a?NaN:Xt.foundPatternCross(d)?Xt.centerFromEnd(d,m):NaN}handlePossibleCenter(t,i,o,a){const l=t[0]+t[1]+t[2]+t[3]+t[4];let h=Xt.centerFromEnd(t,o),d=this.crossCheckVertical(i,Math.floor(h),t[2],l);if(!isNaN(d)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(d),t[2],l),!isNaN(h)&&(!a||this.crossCheckDiagonal(Math.floor(d),Math.floor(h),t[2],l)))){const m=l/7;let x=!1;const v=this.possibleCenters;for(let A=0,T=v.length;A<T;A++){const b=v[A];if(b.aboutEquals(m,d,h)){v[A]=b.combineEstimate(d,h,m),x=!0;break}}if(!x){const A=new Oo(h,d,m);v.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Xt.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const o=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Xt.CENTER_QUORUM&&(t++,i+=h.getEstimatedModuleSize());if(t<3)return!1;const a=i/o;let l=0;for(const h of this.possibleCenters)l+=Math.abs(h.getEstimatedModuleSize()-a);return l<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new K;const i=this.possibleCenters;let o;if(t>3){let a=0,l=0;for(const m of this.possibleCenters){const x=m.getEstimatedModuleSize();a+=x,l+=x*x}o=a/t;let h=Math.sqrt(l/t-o*o);i.sort((m,x)=>{const v=Math.abs(x.getEstimatedModuleSize()-o),A=Math.abs(m.getEstimatedModuleSize()-o);return v<A?-1:v>A?1:0});const d=Math.max(.2*o,h);for(let m=0;m<i.length&&i.length>3;m++){const x=i[m];Math.abs(x.getEstimatedModuleSize()-o)>d&&(i.splice(m,1),m--)}}if(i.length>3){let a=0;for(const l of i)a+=l.getEstimatedModuleSize();o=a/i.length,i.sort((l,h)=>{if(h.getCount()===l.getCount()){const d=Math.abs(h.getEstimatedModuleSize()-o),m=Math.abs(l.getEstimatedModuleSize()-o);return d<m?1:d>m?-1:0}else return h.getCount()-l.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Xt.CENTER_QUORUM=2,Xt.MIN_SKIP=3,Xt.MAX_MODULES=57;class ke{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(le.NEED_RESULT_POINT_CALLBACK);const o=new Xt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(o)}processFinderPatternInfo(t){const i=t.getTopLeft(),o=t.getTopRight(),a=t.getBottomLeft(),l=this.calculateModuleSize(i,o,a);if(l<1)throw new K("No pattern found in proccess finder.");const h=ke.computeDimension(i,o,a,l),d=pe.getProvisionalVersionForDimension(h),m=d.getDimensionForVersion()-7;let x=null;if(d.getAlignmentPatternCenters().length>0){const b=o.getX()-i.getX()+a.getX(),B=o.getY()-i.getY()+a.getY(),F=1-3/m,H=Math.floor(i.getX()+F*(b-i.getX())),W=Math.floor(i.getY()+F*(B-i.getY()));for(let ae=4;ae<=16;ae<<=1)try{x=this.findAlignmentInRegion(l,H,W,ae);break}catch(ue){if(!(ue instanceof K))throw ue}}const v=ke.createTransform(i,o,a,x,h),A=ke.sampleGrid(this.image,v,h);let T;return x===null?T=[a,i,o]:T=[a,i,o,x],new Ui(A,T)}static createTransform(t,i,o,a,l){const h=l-3.5;let d,m,x,v;return a!==null?(d=a.getX(),m=a.getY(),x=h-3,v=x):(d=i.getX()-t.getX()+o.getX(),m=i.getY()-t.getY()+o.getY(),x=h,v=h),yt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,x,v,3.5,h,t.getX(),t.getY(),i.getX(),i.getY(),d,m,o.getX(),o.getY())}static sampleGrid(t,i,o){return Gn.getInstance().sampleGridWithTransform(t,o,o,i)}static computeDimension(t,i,o,a){const l=qe.round(we.distance(t,i)/a),h=qe.round(we.distance(t,o)/a);let d=Math.floor((l+h)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new K("Dimensions could be not found.")}return d}calculateModuleSize(t,i,o){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,o))/2}calculateModuleSizeOneWay(t,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,o,a){let l=this.sizeOfBlackWhiteBlackRun(t,i,o,a),h=1,d=t-(o-t);d<0?(h=t/(t-d),d=0):d>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let m=Math.floor(i-(a-i)*h);return h=1,m<0?(h=i/(i-m),m=0):m>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(m-i),m=this.image.getHeight()-1),d=Math.floor(t+(d-t)*h),l+=this.sizeOfBlackWhiteBlackRun(t,i,d,m),l-1}sizeOfBlackWhiteBlackRun(t,i,o,a){const l=Math.abs(a-i)>Math.abs(o-t);if(l){let b=t;t=i,i=b,b=o,o=a,a=b}const h=Math.abs(o-t),d=Math.abs(a-i);let m=-h/2;const x=t<o?1:-1,v=i<a?1:-1;let A=0;const T=o+x;for(let b=t,B=i;b!==T;b+=x){const F=l?B:b,H=l?b:B;if(A===1===this.image.get(F,H)){if(A===2)return qe.distance(b,B,t,i);A++}if(m+=d,m>0){if(B===a)break;B+=v,m-=h}}return A===2?qe.distance(o+x,a,t,i):NaN}findAlignmentInRegion(t,i,o,a){const l=Math.floor(a*t),h=Math.max(0,i-l),d=Math.min(this.image.getWidth()-1,i+l);if(d-h<t*3)throw new K("Alignment top exceeds estimated module size.");const m=Math.max(0,o-l),x=Math.min(this.image.getHeight()-1,o+l);if(x-m<t*3)throw new K("Alignment bottom exceeds estimated module size.");return new or(this.image,h,m,d-h,x-m,t,this.resultPointCallback).find()}}class en{constructor(){this.decoder=new vs}getDecoder(){return this.decoder}decode(t,i){let o,a;if(i!=null&&i.get(le.PURE_BARCODE)!==void 0){const m=en.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(m,i),a=en.NO_POINTS}else{const m=new ke(t.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(m.getBits(),i),a=m.getPoints()}o.getOther()instanceof lo&&o.getOther().applyMirroredCorrection(a);const l=new Fe(o.getText(),o.getRawBytes(),void 0,a,re.QR_CODE,void 0),h=o.getByteSegments();h!==null&&l.putMetadata(ht.BYTE_SEGMENTS,h);const d=o.getECLevel();return d!==null&&l.putMetadata(ht.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(l.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(ht.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i===null||o===null)throw new K;const a=this.moduleSize(i,t);let l=i[1],h=o[1],d=i[0],m=o[0];if(d>=m||l>=h)throw new K;if(h-l!==m-d&&(m=d+(h-l),m>=t.getWidth()))throw new K;const x=Math.round((m-d+1)/a),v=Math.round((h-l+1)/a);if(x<=0||v<=0)throw new K;if(v!==x)throw new K;const A=Math.floor(a/2);l+=A,d+=A;const T=d+Math.floor((x-1)*a)-m;if(T>0){if(T>A)throw new K;d-=T}const b=l+Math.floor((v-1)*a)-h;if(b>0){if(b>A)throw new K;l-=b}const B=new We(x,v);for(let F=0;F<v;F++){const H=l+Math.floor(F*a);for(let W=0;W<x;W++)t.get(d+Math.floor(W*a),H)&&B.set(W,F)}return B}static moduleSize(t,i){const o=i.getHeight(),a=i.getWidth();let l=t[0],h=t[1],d=!0,m=0;for(;l<a&&h<o;){if(d!==i.get(l,h)){if(++m===5)break;d=!d}l++,h++}if(l===a||h===o)throw new K;return(l-t[0])/7}}en.NO_POINTS=new Array;class me{PDF417Common(){}static getBitCountSum(t){return qe.sum(t)}static toIntArray(t){if(t==null||!t.length)return me.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let o=0;for(const a of t)i[o++]=a;return i}static getCodeword(t){const i=R.binarySearch(me.SYMBOL_TABLE,t&262143);return i<0?-1:(me.CODEWORD_TABLE[i]-1)%me.NUMBER_OF_CODEWORDS}}me.NUMBER_OF_CODEWORDS=929,me.MAX_CODEWORDS_IN_BARCODE=me.NUMBER_OF_CODEWORDS-1,me.MIN_ROWS_IN_BARCODE=3,me.MAX_ROWS_IN_BARCODE=90,me.MODULES_IN_CODEWORD=17,me.MODULES_IN_STOP_PATTERN=18,me.BARS_IN_MODULE=8,me.EMPTY_INT_ARRAY=new Int32Array([]),me.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),me.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Aa{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ze{static detectMultiple(t,i,o){let a=t.getBlackMatrix(),l=ze.detect(o,a);return l.length||(a=a.clone(),a.rotate180(),l=ze.detect(o,a)),new Aa(a,l)}static detect(t,i){const o=new Array;let a=0,l=0,h=!1;for(;a<i.getHeight();){const d=ze.findVertices(i,a,l);if(d[0]==null&&d[3]==null){if(!h)break;h=!1,l=0;for(const m of o)m[1]!=null&&(a=Math.trunc(Math.max(a,m[1].getY()))),m[3]!=null&&(a=Math.max(a,Math.trunc(m[3].getY())));a+=ze.ROW_STEP;continue}if(h=!0,o.push(d),!t)break;d[2]!=null?(l=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return o}static findVertices(t,i,o){const a=t.getHeight(),l=t.getWidth(),h=new Array(8);return ze.copyToResult(h,ze.findRowsWithPattern(t,a,l,i,o,ze.START_PATTERN),ze.INDEXES_START_PATTERN),h[4]!=null&&(o=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),ze.copyToResult(h,ze.findRowsWithPattern(t,a,l,i,o,ze.STOP_PATTERN),ze.INDEXES_STOP_PATTERN),h}static copyToResult(t,i,o){for(let a=0;a<o.length;a++)t[o[a]]=i[a]}static findRowsWithPattern(t,i,o,a,l,h){const d=new Array(4);let m=!1;const x=new Int32Array(h.length);for(;a<i;a+=ze.ROW_STEP){let A=ze.findGuardPattern(t,l,a,o,!1,h,x);if(A!=null){for(;a>0;){const T=ze.findGuardPattern(t,l,--a,o,!1,h,x);if(T!=null)A=T;else{a++;break}}d[0]=new we(A[0],a),d[1]=new we(A[1],a),m=!0;break}}let v=a+1;if(m){let A=0,T=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;v<i;v++){const b=ze.findGuardPattern(t,T[0],v,o,!1,h,x);if(b!=null&&Math.abs(T[0]-b[0])<ze.MAX_PATTERN_DRIFT&&Math.abs(T[1]-b[1])<ze.MAX_PATTERN_DRIFT)T=b,A=0;else{if(A>ze.SKIPPED_ROW_COUNT_MAX)break;A++}}v-=A+1,d[2]=new we(T[0],v),d[3]=new we(T[1],v)}return v-a<ze.BARCODE_MIN_HEIGHT&&R.fill(d,null),d}static findGuardPattern(t,i,o,a,l,h,d){R.fillWithin(d,0,d.length,0);let m=i,x=0;for(;t.get(m,o)&&m>0&&x++<ze.MAX_PIXEL_DRIFT;)m--;let v=m,A=0,T=h.length;for(let b=l;v<a;v++)if(t.get(v,o)!==b)d[A]++;else{if(A===T-1){if(ze.patternMatchVariance(d,h,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return new Int32Array([m,v]);m+=d[0]+d[1],X.arraycopy(d,2,d,0,A-1),d[A-1]=0,d[A]=0,A--}else A++;d[A]=1,b=!b}return A===T-1&&ze.patternMatchVariance(d,h,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE?new Int32Array([m,v-1]):null}static patternMatchVariance(t,i,o){let a=t.length,l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=i[x];if(l<h)return 1/0;let d=l/h;o*=d;let m=0;for(let x=0;x<a;x++){let v=t[x],A=i[x]*d,T=v>A?v-A:A-v;if(T>o)return 1/0;m+=T}return m/l}}ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ze.MAX_AVG_VARIANCE=.42,ze.MAX_INDIVIDUAL_VARIANCE=.8,ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ze.MAX_PIXEL_DRIFT=3,ze.MAX_PATTERN_DRIFT=5,ze.SKIPPED_ROW_COUNT_MAX=25,ze.ROW_STEP=5,ze.BARCODE_MIN_HEIGHT=10;class Zt{constructor(t,i){if(i.length===0)throw new O;this.field=t;let o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),X.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let i=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)i=this.field.add(this.field.multiply(t,i),this.coefficients[a]);return i}add(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){let h=i;i=o,o=h}let a=new Int32Array(o.length),l=o.length-i.length;X.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=this.field.add(i[h-l],o[h]);return new Zt(this.field,a)}subtract(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Zt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Zt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1);for(let d=0;d<o;d++){let m=i[d];for(let x=0;x<l;x++)h[d+x]=this.field.add(h[d+x],this.field.multiply(m,a[x]))}return new Zt(this.field,h)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let o=0;o<t;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new Zt(this.field,i)}multiplyScalar(t){if(t===0)return new Zt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],t);return new Zt(this.field,o)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return new Zt(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+t);for(let l=0;l<o;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new Zt(this.field,a)}toString(){let t=new Ye;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(i===0||o!==1)&&t.append(o),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Es{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}inverse(t){if(t===0)throw new si;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ii extends Es{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let o=1;for(let a=0;a<t;a++)this.expTable[a]=o,o=o*i%t;for(let a=0;a<t-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new Zt(this,new Int32Array([0])),this.one=new Zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;let o=new Int32Array(t+1);return o[0]=i,new Zt(this,o)}}Ii.PDF417_GF=new Ii(me.NUMBER_OF_CODEWORDS,3);class bo{constructor(){this.field=Ii.PDF417_GF}decode(t,i,o){let a=new Zt(this.field,t),l=new Int32Array(i),h=!1;for(let B=i;B>0;B--){let F=a.evaluateAt(this.field.exp(B));l[i-B]=F,F!==0&&(h=!0)}if(!h)return 0;let d=this.field.getOne();if(o!=null)for(const B of o){let F=this.field.exp(t.length-1-B),H=new Zt(this.field,new Int32Array([this.field.subtract(0,F),1]));d=d.multiply(H)}let m=new Zt(this.field,l),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),m,i),v=x[0],A=x[1],T=this.findErrorLocations(v),b=this.findErrorMagnitudes(A,v,T);for(let B=0;B<T.length;B++){let F=t.length-1-this.field.log(T[B]);if(F<0)throw q.getChecksumInstance();t[F]=this.field.subtract(t[F],b[B])}return T.length}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){let T=t;t=i,i=T}let a=t,l=i,h=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let T=a,b=h;if(a=l,h=d,a.isZero())throw q.getChecksumInstance();l=T;let B=this.field.getZero(),F=a.getCoefficient(a.getDegree()),H=this.field.inverse(F);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let W=l.getDegree()-a.getDegree(),ae=this.field.multiply(l.getCoefficient(l.getDegree()),H);B=B.add(this.field.buildMonomial(W,ae)),l=l.subtract(a.multiplyByMonomial(W,ae))}d=B.multiply(h).subtract(b).negative()}let m=d.getCoefficient(0);if(m===0)throw q.getChecksumInstance();let x=this.field.inverse(m),v=d.multiply(x),A=l.multiply(x);return[v,A]}findErrorLocations(t){let i=t.getDegree(),o=new Int32Array(i),a=0;for(let l=1;l<this.field.getSize()&&a<i;l++)t.evaluateAt(l)===0&&(o[a]=this.field.inverse(l),a++);if(a!==i)throw q.getChecksumInstance();return o}findErrorMagnitudes(t,i,o){let a=i.getDegree(),l=new Int32Array(a);for(let x=1;x<=a;x++)l[a-x]=this.field.multiply(x,i.getCoefficient(x));let h=new Zt(this.field,l),d=o.length,m=new Int32Array(d);for(let x=0;x<d;x++){let v=this.field.inverse(o[x]),A=this.field.subtract(0,t.evaluateAt(v)),T=this.field.inverse(h.evaluateAt(v));m[x]=this.field.multiply(A,T)}return m}}class Xn{constructor(t,i,o,a,l){t instanceof Xn?this.constructor_2(t):this.constructor_1(t,i,o,a,l)}constructor_1(t,i,o,a,l){const h=i==null||o==null,d=a==null||l==null;if(h&&d)throw new K;h?(i=new we(0,a.getY()),o=new we(0,l.getY())):d&&(a=new we(t.getWidth()-1,i.getY()),l=new we(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=i,this.bottomLeft=o,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Xn(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,o){let a=this.topLeft,l=this.bottomLeft,h=this.topRight,d=this.bottomRight;if(t>0){let m=o?this.topLeft:this.topRight,x=Math.trunc(m.getY()-t);x<0&&(x=0);let v=new we(m.getX(),x);o?a=v:h=v}if(i>0){let m=o?this.bottomLeft:this.bottomRight,x=Math.trunc(m.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let v=new we(m.getX(),x);o?l=v:d=v}return new Xn(this.image,a,l,h,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class tn{constructor(t,i,o,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Qn{constructor(){this.buffer=""}static form(t,i){let o=-1;function a(h,d,m,x,v,A){if(h==="%%")return"%";if(i[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let T=v?parseInt(v.substr(1)):void 0,b;switch(A){case"s":b=i[o];break;case"c":b=i[o][0];break;case"f":b=parseFloat(i[o]).toFixed(h);break;case"p":b=parseFloat(i[o]).toPrecision(h);break;case"e":b=parseFloat(i[o]).toExponential(h);break;case"x":b=parseInt(i[o]).toString(T||16);break;case"d":b=parseFloat(parseInt(i[o],T||10).toPrecision(h)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(T);let B=parseInt(m),F=m&&m[0]+""=="0"?"0":" ";for(;b.length<B;)b=d!==void 0?b+F:F+b;return b}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}format(t,...i){this.buffer+=Qn.form(t,i)}toString(){return this.buffer}}class Sr{constructor(t){this.boundingBox=new Xn(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let o=1;o<Sr.MAX_NEARBY_DISTANCE;o++){let a=this.imageRowToCodewordIndex(t)-o;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(t)+o,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Qn;let i=0;for(const o of this.codewords){if(o==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return t.toString()}}Sr.MAX_NEARBY_DISTANCE=5;class Ir{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[o,a]of this.values.entries()){const l={getKey:()=>o,getValue:()=>a};l.getValue()>t?(t=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===t&&i.push(l.getKey())}return me.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Sa extends Sr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=-1,x=1,v=0;for(let A=h;A<d;A++){if(i[A]==null)continue;let T=i[A],b=T.getRowNumber()-m;if(b===0)v++;else if(b===1)x=Math.max(x,v),v=1,m=T.getRowNumber();else if(b<0||T.getRowNumber()>=t.getRowCount()||b>A)i[A]=null;else{let B;x>2?B=(x-2)*b:B=b;let F=B>=A;for(let H=1;H<=B&&!F;H++)F=i[A-H]!=null;F?i[A]=null:(m=T.getRowNumber(),v=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.getCodewords(),m=-1;for(let x=l;x<h;x++){if(d[x]==null)continue;let v=d[x];v.setRowNumberAsRowIndicatorColumn();let A=v.getRowNumber()-m;A===0||(A===1?m=v.getRowNumber():v.getRowNumber()>=t.getRowCount()?d[x]=null:m=v.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new Ir,o=new Ir,a=new Ir,l=new Ir;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let m=d.getValue()%30,x=d.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(m*3+1);break;case 1:l.setValue(m/3),a.setValue(m%3);break;case 2:i.setValue(m+1);break}}if(i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<me.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>me.MAX_ROWS_IN_BARCODE)return null;let h=new tn(i.getValue()[0],o.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,i){for(let o=0;o<t.length;o++){let a=t[o];if(t[o]==null)continue;let l=a.getValue()%30,h=a.getRowNumber();if(h>i.getRowCount()){t[o]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(t[o]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(t[o]=null);break;case 2:l+1!==i.getColumnCount()&&(t[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Tr{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=me.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,o))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<t.length;o++)if(t[o]!=null&&i[o]!=null&&t[o].getRowNumber()===i[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[o];l!=null&&(l.setRowNumber(t[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),l=0;for(let h=this.barcodeColumnCount+1;h>0&&l<this.ADJUST_ROW_NUMBER_SKIP;h--){let d=this.detectionResultColumns[h].getCodewords()[o];d!=null&&(l=Tr.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),l=0;for(let h=1;h<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;h++){let d=this.detectionResultColumns[h].getCodewords()[o];d!=null&&(l=Tr.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,o){if(!this.detectionResultColumns[t-1])return;let a=o[i],l=this.detectionResultColumns[t-1].getCodewords(),h=l;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=l[i],d[3]=h[i],i>0&&(d[0]=o[i-1],d[4]=l[i-1],d[5]=h[i-1]),i>1&&(d[8]=o[i-2],d[10]=l[i-2],d[11]=h[i-2]),i<o.length-1&&(d[1]=o[i+1],d[6]=l[i+1],d[7]=h[i+1]),i<o.length-2&&(d[9]=o[i+2],d[12]=l[i+2],d[13]=h[i+2]);for(let m of d)if(Tr.adjustRowNumber(a,m))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Qn;for(let o=0;o<t.getCodewords().length;o++){i.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[o];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}class sr{constructor(t,i,o,a){this.rowNumber=sr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==sr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}sr.BARCODE_ROW_UNKNOWN=-1;class yn{static initialize(){for(let t=0;t<me.SYMBOL_TABLE.length;t++){let i=me.SYMBOL_TABLE[t],o=i&1;for(let a=0;a<me.BARS_IN_MODULE;a++){let l=0;for(;(i&1)===o;)l+=1,i>>=1;o=i&1,yn.RATIOS_TABLE[t]||(yn.RATIOS_TABLE[t]=new Array(me.BARS_IN_MODULE)),yn.RATIOS_TABLE[t][me.BARS_IN_MODULE-a-1]=Math.fround(l/me.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=yn.getDecodedCodewordValue(yn.sampleBitCounts(t));return i!==-1?i:yn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=qe.sum(t),o=new Int32Array(me.BARS_IN_MODULE),a=0,l=0;for(let h=0;h<me.MODULES_IN_CODEWORD;h++){let d=i/(2*me.MODULES_IN_CODEWORD)+h*i/me.MODULES_IN_CODEWORD;l+t[a]<=d&&(l+=t[a],a++),o[a]++}return o}static getDecodedCodewordValue(t){let i=yn.getBitValue(t);return me.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let o=0;o<t.length;o++)for(let a=0;a<t[o];a++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=qe.sum(t),o=new Array(me.BARS_IN_MODULE);if(i>1)for(let h=0;h<o.length;h++)o[h]=Math.fround(t[h]/i);let a=er.MAX_VALUE,l=-1;this.bSymbolTableReady||yn.initialize();for(let h=0;h<yn.RATIOS_TABLE.length;h++){let d=0,m=yn.RATIOS_TABLE[h];for(let x=0;x<me.BARS_IN_MODULE;x++){let v=Math.fround(m[x]-o[x]);if(d+=Math.fround(v*v),d>=a)break}d<a&&(a=d,l=me.SYMBOL_TABLE[h])}return l}}yn.bSymbolTableReady=!1,yn.RATIOS_TABLE=new Array(me.SYMBOL_TABLE.length).map(E=>new Array(me.BARS_IN_MODULE));class As{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Je{static parseLong(t,i=void 0){return parseInt(t,i)}}class Ia extends w{}Ia.kind="NullPointerException";class Kn{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,o){if(t==null)throw new Ia;if(i<0||i>t.length||o<0||i+o>t.length||i+o<0)throw new Se;if(o===0)return;for(let a=0;a<o;a++)this.write(t[i+a])}flush(){}close(){}}class co extends w{}class Ta extends Kn{constructor(t=32){if(super(),this.count=0,t<0)throw new O("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let o=this.buf.length<<1;if(o-t<0&&(o=t),o<0){if(t<0)throw new co;o=k.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,o)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,o){if(i<0||i>t.length||o<0||i+o-t.length>0)throw new Se;this.ensureCapacity(this.count+o),X.arraycopy(t,i,this.buf,this.count,o),this.count+=o}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ut;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ut||(ut={}));function Lo(){if(typeof window<"u")return window.BigInt||null;if(typeof Fo<"u")return Fo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Do;function Ti(E){if(typeof Do>"u"&&(Do=Lo()),Do===null)throw new Error("BigInt is not supported!");return Do(E)}function iu(){let E=[];E[0]=Ti(1);let t=Ti(900);E[1]=t;for(let i=2;i<16;i++)E[i]=E[i-1]*t;return E}class Z{static decode(t,i){let o=new Ye(""),a=J.ISO8859_1;o.enableDecoding(a);let l=1,h=t[l++],d=new As;for(;l<t[0];){switch(h){case Z.TEXT_COMPACTION_MODE_LATCH:l=Z.textCompaction(t,l,o);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:l=Z.byteCompaction(h,t,a,l,o);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[l++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:l=Z.numericCompaction(t,l,o);break;case Z.ECI_CHARSET:J.getCharacterSetECIByValue(t[l++]);break;case Z.ECI_GENERAL_PURPOSE:l+=2;break;case Z.ECI_USER_DEFINED:l++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=Z.decodeMacroBlock(t,l,d);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new G;default:l--,l=Z.textCompaction(t,l,o);break}if(l<t.length)h=t[l++];else throw G.getFormatInstance()}if(o.length()===0)throw G.getFormatInstance();let m=new Fi(null,o.toString(),null,i);return m.setOther(d),m}static decodeMacroBlock(t,i,o){if(i+Z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw G.getFormatInstance();let a=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<Z.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)a[d]=t[i];o.setSegmentIndex(k.parseInt(Z.decodeBase900toBase10(a,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ye;i=Z.textCompaction(t,i,l),o.setFileId(l.toString());let h=-1;for(t[i]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<t[0];)switch(t[i]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Ye;i=Z.textCompaction(t,i+1,d),o.setFileName(d.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Ye;i=Z.textCompaction(t,i+1,m),o.setSender(m.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Ye;i=Z.textCompaction(t,i+1,x),o.setAddressee(x.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let v=new Ye;i=Z.numericCompaction(t,i+1,v),o.setSegmentCount(k.parseInt(v.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new Ye;i=Z.numericCompaction(t,i+1,A),o.setTimestamp(Je.parseLong(A.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Ye;i=Z.numericCompaction(t,i+1,T),o.setChecksum(k.parseInt(T.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let b=new Ye;i=Z.numericCompaction(t,i+1,b),o.setFileSize(Je.parseLong(b.toString()));break;default:throw G.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(h!==-1){let d=i-h;o.isLastSegment()&&d--,o.setOptionalData(R.copyOfRange(t,h,h+d))}return i}static textCompaction(t,i,o){let a=new Int32Array((t[0]-i)*2),l=new Int32Array((t[0]-i)*2),h=0,d=!1;for(;i<t[0]&&!d;){let m=t[i++];if(m<Z.TEXT_COMPACTION_MODE_LATCH)a[h]=m/30,a[h+1]=m%30,h+=2;else switch(m){case Z.TEXT_COMPACTION_MODE_LATCH:a[h++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[h]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=t[i++],l[h]=m,h++;break}}return Z.decodeTextCompaction(a,l,h,o),i}static decodeTextCompaction(t,i,o,a){let l=ut.ALPHA,h=ut.ALPHA,d=0;for(;d<o;){let m=t[d],x="";switch(l){case ut.ALPHA:if(m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Z.LL:l=ut.LOWER;break;case Z.ML:l=ut.MIXED;break;case Z.PS:h=l,l=ut.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=ut.ALPHA;break}break;case ut.LOWER:if(m<26)x=String.fromCharCode(97+m);else switch(m){case 26:x=" ";break;case Z.AS:h=l,l=ut.ALPHA_SHIFT;break;case Z.ML:l=ut.MIXED;break;case Z.PS:h=l,l=ut.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=ut.ALPHA;break}break;case ut.MIXED:if(m<Z.PL)x=Z.MIXED_CHARS[m];else switch(m){case Z.PL:l=ut.PUNCT;break;case 26:x=" ";break;case Z.LL:l=ut.LOWER;break;case Z.AL:l=ut.ALPHA;break;case Z.PS:h=l,l=ut.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=ut.ALPHA;break}break;case ut.PUNCT:if(m<Z.PAL)x=Z.PUNCT_CHARS[m];else switch(m){case Z.PAL:l=ut.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=ut.ALPHA;break}break;case ut.ALPHA_SHIFT:if(l=h,m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:l=ut.ALPHA;break}break;case ut.PUNCT_SHIFT:if(l=h,m<Z.PAL)x=Z.PUNCT_CHARS[m];else switch(m){case Z.PAL:l=ut.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=ut.ALPHA;break}break}x!==""&&a.append(x),d++}}static byteCompaction(t,i,o,a,l){let h=new Ta,d=0,m=0,x=!1;switch(t){case Z.BYTE_COMPACTION_MODE_LATCH:let v=new Int32Array(6),A=i[a++];for(;a<i[0]&&!x;)switch(v[d++]=A,m=900*m+A,A=i[a++],A){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:a--,x=!0;break;default:if(d%5===0&&d>0){for(let T=0;T<6;++T)h.write(Number(Ti(m)>>Ti(8*(5-T))));m=0,d=0}break}a===i[0]&&A<Z.TEXT_COMPACTION_MODE_LATCH&&(v[d++]=A);for(let T=0;T<d;T++)h.write(v[T]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!x;){let T=i[a++];if(T<Z.TEXT_COMPACTION_MODE_LATCH)d++,m=900*m+T;else switch(T){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:a--,x=!0;break}if(d%5===0&&d>0){for(let b=0;b<6;++b)h.write(Number(Ti(m)>>Ti(8*(5-b))));m=0,d=0}}break}return l.append(He.decode(h.toByteArray(),o)),a}static numericCompaction(t,i,o){let a=0,l=!1,h=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!l;){let d=t[i++];if(i===t[0]&&(l=!0),d<Z.TEXT_COMPACTION_MODE_LATCH)h[a]=d,a++;else switch(d){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(a%Z.MAX_NUMERIC_CODEWORDS===0||d===Z.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(o.append(Z.decodeBase900toBase10(h,a)),a=0)}return i}static decodeBase900toBase10(t,i){let o=Ti(0);for(let l=0;l<i;l++)o+=Z.EXP900[i-l-1]*Ti(t[l]);let a=o.toString();if(a.charAt(0)!=="1")throw new G;return a.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=Lo()?iu():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class je{constructor(){}static decode(t,i,o,a,l,h,d){let m=new Xn(t,i,o,a,l),x=null,v=null,A;for(let B=!0;;B=!1){if(i!=null&&(x=je.getRowIndicatorColumn(t,m,i,!0,h,d)),a!=null&&(v=je.getRowIndicatorColumn(t,m,a,!1,h,d)),A=je.merge(x,v),A==null)throw K.getNotFoundInstance();let F=A.getBoundingBox();if(B&&F!=null&&(F.getMinY()<m.getMinY()||F.getMaxY()>m.getMaxY()))m=F;else break}A.setBoundingBox(m);let T=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,x),A.setDetectionResultColumn(T,v);let b=x!=null;for(let B=1;B<=T;B++){let F=b?B:T-B;if(A.getDetectionResultColumn(F)!==void 0)continue;let H;F===0||F===T?H=new Sa(m,F===0):H=new Sr(m),A.setDetectionResultColumn(F,H);let W=-1,ae=W;for(let ue=m.getMinY();ue<=m.getMaxY();ue++){if(W=je.getStartColumn(A,F,ue,b),W<0||W>m.getMaxX()){if(ae===-1)continue;W=ae}let ie=je.detectCodeword(t,m.getMinX(),m.getMaxX(),b,W,ue,h,d);ie!=null&&(H.setCodeword(ue,ie),ae=W,h=Math.min(h,ie.getWidth()),d=Math.max(d,ie.getWidth()))}}return je.createDecoderResult(A)}static merge(t,i){if(t==null&&i==null)return null;let o=je.getBarcodeMetadata(t,i);if(o==null)return null;let a=Xn.merge(je.adjustBoundingBox(t),je.adjustBoundingBox(i));return new Tr(o,a)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let o=je.getMax(i),a=0;for(let d of i)if(a+=o-d,d>0)break;let l=t.getCodewords();for(let d=0;a>0&&l[d]==null;d++)a--;let h=0;for(let d=i.length-1;d>=0&&(h+=o-i[d],!(i[d]>0));d--);for(let d=l.length-1;h>0&&l[d]==null;d--)h--;return t.getBoundingBox().addMissingRows(a,h,t.isLeft())}static getMax(t){let i=-1;for(let o of t)i=Math.max(i,o);return i}static getBarcodeMetadata(t,i){let o;if(t==null||(o=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(t,i,o,a,l,h){let d=new Sa(i,a);for(let m=0;m<2;m++){let x=m===0?1:-1,v=Math.trunc(Math.trunc(o.getX()));for(let A=Math.trunc(Math.trunc(o.getY()));A<=i.getMaxY()&&A>=i.getMinY();A+=x){let T=je.detectCodeword(t,0,t.getWidth(),a,v,A,l,h);T!=null&&(d.setCodeword(A,T),a?v=T.getStartX():v=T.getEndX())}}return d}static adjustCodewordCount(t,i){let o=i[0][1],a=o.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-je.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(l<1||l>me.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();o.setValue(l)}else a[0]!==l&&o.setValue(l)}static createDecoderResult(t){let i=je.createBarcodeMatrix(t);je.adjustCodewordCount(t,i);let o=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],h=new Array;for(let m=0;m<t.getBarcodeRowCount();m++)for(let x=0;x<t.getBarcodeColumnCount();x++){let v=i[m][x+1].getValue(),A=m*t.getBarcodeColumnCount()+x;v.length===0?o.push(A):v.length===1?a[A]=v[0]:(h.push(A),l.push(v))}let d=new Array(l.length);for(let m=0;m<d.length;m++)d[m]=l[m];return je.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,me.toIntArray(o),me.toIntArray(h),d)}static createDecoderResultFromAmbiguousValues(t,i,o,a,l){let h=new Int32Array(a.length),d=100;for(;d-- >0;){for(let m=0;m<h.length;m++)i[a[m]]=l[m][h[m]];try{return je.decodeCodewords(i,t,o)}catch(m){if(!(m instanceof q))throw m}if(h.length===0)throw q.getChecksumInstance();for(let m=0;m<h.length;m++)if(h[m]<l[m].length-1){h[m]++;break}else if(h[m]=0,m===h.length-1)throw q.getChecksumInstance()}throw q.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let l=0;l<i[a].length;l++)i[a][l]=new Ir;let o=0;for(let a of t.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let h=l.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][o].setValue(l.getValue())}}}o++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,o,a){let l=a?1:-1,h=null;if(je.isValidBarcodeColumn(t,i-l)&&(h=t.getDetectionResultColumn(i-l).getCodeword(o)),h!=null)return a?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(i).getCodewordNearby(o),h!=null)return a?h.getStartX():h.getEndX();if(je.isValidBarcodeColumn(t,i-l)&&(h=t.getDetectionResultColumn(i-l).getCodewordNearby(o)),h!=null)return a?h.getEndX():h.getStartX();let d=0;for(;je.isValidBarcodeColumn(t,i-l);){i-=l;for(let m of t.getDetectionResultColumn(i).getCodewords())if(m!=null)return(a?m.getEndX():m.getStartX())+l*d*(m.getEndX()-m.getStartX());d++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,o,a,l,h,d,m){l=je.adjustCodewordStartColumn(t,i,o,a,l,h);let x=je.getModuleBitCount(t,i,o,a,l,h);if(x==null)return null;let v,A=qe.sum(x);if(a)v=l+A;else{for(let B=0;B<x.length/2;B++){let F=x[B];x[B]=x[x.length-1-B],x[x.length-1-B]=F}v=l,l=v-A}if(!je.checkCodewordSkew(A,d,m))return null;let T=yn.getDecodedValue(x),b=me.getCodeword(T);return b===-1?null:new sr(l,v,je.getCodewordBucketNumber(T),b)}static getModuleBitCount(t,i,o,a,l,h){let d=l,m=new Int32Array(8),x=0,v=a?1:-1,A=a;for(;(a?d<o:d>=i)&&x<m.length;)t.get(d,h)===A?(m[x]++,d+=v):(x++,A=!A);return x===m.length||d===(a?o:i)&&x===m.length-1?m:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,o,a,l,h){let d=l,m=a?-1:1;for(let x=0;x<2;x++){for(;(a?d>=i:d<o)&&a===t.get(d,h);){if(Math.abs(l-d)>je.CODEWORD_SKEW_SIZE)return l;d+=m}m=-m,a=!a}return d}static checkCodewordSkew(t,i,o){return i-je.CODEWORD_SKEW_SIZE<=t&&t<=o+je.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,o){if(t.length===0)throw G.getFormatInstance();let a=1<<i+1,l=je.correctErrors(t,o,a);je.verifyCodewordCount(t,a);let h=Z.decode(t,""+i);return h.setErrorsCorrected(l),h.setErasures(o.length),h}static correctErrors(t,i,o){if(i!=null&&i.length>o/2+je.MAX_ERRORS||o<0||o>je.MAX_EC_CODEWORDS)throw q.getChecksumInstance();return je.errorCorrection.decode(t,o,i)}static verifyCodewordCount(t,i){if(t.length<4)throw G.getFormatInstance();let o=t[0];if(o>t.length)throw G.getFormatInstance();if(o===0)if(i<t.length)t[0]=t.length-i;else throw G.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),o=0,a=i.length-1;for(;!((t&1)!==o&&(o=t&1,a--,a<0));)i[a]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return je.getCodewordBucketNumber(je.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Qn;for(let o=0;o<t.length;o++){i.format("Row %2d: ",o);for(let a=0;a<t[o].length;a++){let l=t[o][a];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}je.CODEWORD_SKEW_SIZE=2,je.MAX_ERRORS=3,je.MAX_EC_CODEWORDS=512,je.errorCorrection=new bo;class nn{decode(t,i=null){let o=nn.decode(t,i,!1);if(o==null||o.length===0||o[0]==null)throw K.getNotFoundInstance();return o[0]}decodeMultiple(t,i=null){try{return nn.decode(t,i,!0)}catch(o){throw o instanceof G||o instanceof q?K.getNotFoundInstance():o}}static decode(t,i,o){const a=new Array,l=ze.detectMultiple(t,i,o);for(const h of l.getPoints()){const d=je.decode(l.getBits(),h[4],h[5],h[6],h[7],nn.getMinCodewordWidth(h),nn.getMaxCodewordWidth(h)),m=new Fe(d.getText(),d.getRawBytes(),void 0,h,re.PDF_417);m.putMetadata(ht.ERROR_CORRECTION_LEVEL,d.getECLevel());const x=d.getOther();x!=null&&m.putMetadata(ht.PDF417_EXTRA_METADATA,x),a.push(m)}return a.map(h=>h)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?k.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(nn.getMaxWidth(t[0],t[4]),nn.getMaxWidth(t[6],t[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.max(nn.getMaxWidth(t[1],t[5]),nn.getMaxWidth(t[7],t[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(nn.getMinWidth(t[0],t[4]),nn.getMinWidth(t[6],t[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.min(nn.getMinWidth(t[1],t[5]),nn.getMinWidth(t[7],t[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))}reset(){}}class On extends w{}On.kind="ReaderException";class Na{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!c(t)&&t.get(le.TRY_HARDER)===!0,o=c(t)?null:t.get(le.POSSIBLE_FORMATS),a=new Array;if(!c(o)){const l=o.some(h=>h===re.UPC_A||h===re.UPC_E||h===re.EAN_13||h===re.EAN_8||h===re.CODABAR||h===re.CODE_39||h===re.CODE_93||h===re.CODE_128||h===re.ITF||h===re.RSS_14||h===re.RSS_EXPANDED);l&&!i&&a.push(new Vi(t,this.verbose)),o.includes(re.QR_CODE)&&a.push(new en),o.includes(re.DATA_MATRIX)&&a.push(new lt),o.includes(re.AZTEC)&&a.push(new tr),o.includes(re.PDF_417)&&a.push(new nn),l&&i&&a.push(new Vi(t,this.verbose))}a.length===0&&(i||a.push(new Vi(t,this.verbose)),a.push(new en),a.push(new lt),a.push(new tr),a.push(new nn),i&&a.push(new Vi(t,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new On("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(o){if(o instanceof On)continue}throw new K("No MultiFormat Readers were able to detect the code.")}}class Ma extends ct{constructor(t=null,i=500){const o=new Na;o.setHints(t),super(o,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Wi extends ct{constructor(t=500){super(new nn,t)}}class Oa extends ct{constructor(t=500){super(new en,t)}}var Ro;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Ro||(Ro={}));var kt=Ro;class Ss{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Wt(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let o=i[i.length-1];const a=this.field;for(let l=i.length;l<=t;l++){const h=o.multiply(new Wt(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));i.push(h),o=h}}return i[t]}encode(t,i){if(i===0)throw new O("No error correction bytes");const o=t.length-i;if(o<=0)throw new O("No data bytes provided");const a=this.buildGenerator(i),l=new Int32Array(o);X.arraycopy(t,0,l,0,o);let h=new Wt(this.field,l);h=h.multiplyByMonomial(i,1);const m=h.divide(a)[1].getCoefficients(),x=i-m.length;for(let v=0;v<x;v++)t[o+v]=0;X.arraycopy(m,0,t,o+x,m.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(t){return Tt.applyMaskPenaltyRule1Internal(t,!0)+Tt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l-1;h++){const d=o[h];for(let m=0;m<a-1;m++){const x=d[m];x===d[m+1]&&x===o[h+1][m]&&x===o[h+1][m+1]&&i++}}return Tt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++)for(let d=0;d<a;d++){const m=o[h];d+6<a&&m[d]===1&&m[d+1]===0&&m[d+2]===1&&m[d+3]===1&&m[d+4]===1&&m[d+5]===0&&m[d+6]===1&&(Tt.isWhiteHorizontal(m,d-4,d)||Tt.isWhiteHorizontal(m,d+7,d+11))&&i++,h+6<l&&o[h][d]===1&&o[h+1][d]===0&&o[h+2][d]===1&&o[h+3][d]===1&&o[h+4][d]===1&&o[h+5][d]===0&&o[h+6][d]===1&&(Tt.isWhiteVertical(o,d,h-4,h)||Tt.isWhiteVertical(o,d,h+7,h+11))&&i++}return i*Tt.N3}static isWhiteHorizontal(t,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let a=i;a<o;a++)if(t[a]===1)return!1;return!0}static isWhiteVertical(t,i,o,a){o=Math.max(o,0),a=Math.min(a,t.length);for(let l=o;l<a;l++)if(t[l][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let m=0;m<l;m++){const x=o[m];for(let v=0;v<a;v++)x[v]===1&&i++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*Tt.N4}static getDataMaskBit(t,i,o){let a,l;switch(t){case 0:a=o+i&1;break;case 1:a=o&1;break;case 2:a=i%3;break;case 3:a=(o+i)%3;break;case 4:a=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:l=o*i,a=(l&1)+l%3;break;case 6:l=o*i,a=(l&1)+l%3&1;break;case 7:l=o*i,a=l%3+(o+i&1)&1;break;default:throw new O("Invalid mask pattern: "+t)}return a===0}static applyMaskPenaltyRule1Internal(t,i){let o=0;const a=i?t.getHeight():t.getWidth(),l=i?t.getWidth():t.getHeight(),h=t.getArray();for(let d=0;d<a;d++){let m=0,x=-1;for(let v=0;v<l;v++){const A=i?h[d][v]:h[v][d];A===x?m++:(m>=5&&(o+=Tt.N1+(m-5)),m=1,x=A)}m>=5&&(o+=Tt.N1+(m-5))}return o}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class ho{constructor(t,i){this.width=t,this.height=i;const o=new Array(i);for(let a=0;a!==i;a++)o[a]=new Uint8Array(t);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,o){this.bytes[i][t]=o}setBoolean(t,i,o){this.bytes[i][t]=o?1:0}clear(t){for(const i of this.bytes)R.fill(i,t)}equals(t){if(!(t instanceof ho))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,a=this.height;o<a;++o){const l=this.bytes[o],h=i.bytes[o];for(let d=0,m=this.width;d<m;++d)if(l[d]!==h[d])return!1}return!0}toString(){const t=new Ye;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i];for(let l=0,h=this.width;l<h;++l)switch(a[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ar{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ye;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ar.NUM_MASK_PATTERNS}}ar.NUM_MASK_PATTERNS=8;class dt extends w{}dt.kind="WriterException";class Me{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,o,a,l){Me.clearMatrix(l),Me.embedBasicPatterns(o,l),Me.embedTypeInfo(i,a,l),Me.maybeEmbedVersionInfo(o,l),Me.embedDataBits(t,a,l)}static embedBasicPatterns(t,i){Me.embedPositionDetectionPatternsAndSeparators(i),Me.embedDarkDotAtLeftBottomCorner(i),Me.maybeEmbedPositionAdjustmentPatterns(t,i),Me.embedTimingPatterns(i)}static embedTypeInfo(t,i,o){const a=new Q;Me.makeTypeInfoBits(t,i,a);for(let l=0,h=a.getSize();l<h;++l){const d=a.get(a.getSize()-1-l),m=Me.TYPE_INFO_COORDINATES[l],x=m[0],v=m[1];if(o.setBoolean(x,v,d),l<8){const A=o.getWidth()-l-1;o.setBoolean(A,8,d)}else{const T=o.getHeight()-7+(l-8);o.setBoolean(8,T,d)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const o=new Q;Me.makeVersionInfoBits(t,o);let a=6*3-1;for(let l=0;l<6;++l)for(let h=0;h<3;++h){const d=o.get(a);a--,i.setBoolean(l,i.getHeight()-11+h,d),i.setBoolean(i.getHeight()-11+h,l,d)}}static embedDataBits(t,i,o){let a=0,l=-1,h=o.getWidth()-1,d=o.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);d>=0&&d<o.getHeight();){for(let m=0;m<2;++m){const x=h-m;if(!Me.isEmpty(o.get(x,d)))continue;let v;a<t.getSize()?(v=t.get(a),++a):v=!1,i!==255&&Tt.getDataMaskBit(i,x,d)&&(v=!v),o.setBoolean(x,d,v)}d+=l}l=-l,d+=l,h-=2}if(a!==t.getSize())throw new dt("Not all bits consumed: "+a+"/"+t.getSize())}static findMSBSet(t){return 32-k.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new O("0 polynomial");const o=Me.findMSBSet(i);for(t<<=o-1;Me.findMSBSet(t)>=o;)t^=i<<Me.findMSBSet(t)-o;return t}static makeTypeInfoBits(t,i,o){if(!ar.isValidMaskPattern(i))throw new dt("Invalid mask pattern");const a=t.getBits()<<3|i;o.appendBits(a,5);const l=Me.calculateBCHCode(a,Me.TYPE_INFO_POLY);o.appendBits(l,10);const h=new Q;if(h.appendBits(Me.TYPE_INFO_MASK_PATTERN,15),o.xor(h),o.getSize()!==15)throw new dt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const o=Me.calculateBCHCode(t.getVersionNumber(),Me.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new dt("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const o=(i+1)%2;Me.isEmpty(t.get(i,6))&&t.setNumber(i,6,o),Me.isEmpty(t.get(6,i))&&t.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new dt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,o){for(let a=0;a<8;++a){if(!Me.isEmpty(o.get(t+a,i)))throw new dt;o.setNumber(t+a,i,0)}}static embedVerticalSeparationPattern(t,i,o){for(let a=0;a<7;++a){if(!Me.isEmpty(o.get(t,i+a)))throw new dt;o.setNumber(t,i+a,0)}}static embedPositionAdjustmentPattern(t,i,o){for(let a=0;a<5;++a){const l=Me.POSITION_ADJUSTMENT_PATTERN[a];for(let h=0;h<5;++h)o.setNumber(t+h,i+a,l[h])}}static embedPositionDetectionPattern(t,i,o){for(let a=0;a<7;++a){const l=Me.POSITION_DETECTION_PATTERN[a];for(let h=0;h<7;++h)o.setNumber(t+h,i+a,l[h])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Me.POSITION_DETECTION_PATTERN[0].length;Me.embedPositionDetectionPattern(0,0,t),Me.embedPositionDetectionPattern(t.getWidth()-i,0,t),Me.embedPositionDetectionPattern(0,t.getWidth()-i,t);const o=8;Me.embedHorizontalSeparationPattern(0,o-1,t),Me.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),Me.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);const a=7;Me.embedVerticalSeparationPattern(a,0,t),Me.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),Me.embedVerticalSeparationPattern(a,t.getHeight()-a,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const o=t.getVersionNumber()-1,a=Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,h=a.length;l!==h;l++){const d=a[l];if(d>=0)for(let m=0;m!==h;m++){const x=a[m];x>=0&&Me.isEmpty(i.get(x,d))&&Me.embedPositionAdjustmentPattern(x-2,d-2,i)}}}}Me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Me.VERSION_INFO_POLY=7973,Me.TYPE_INFO_POLY=1335,Me.TYPE_INFO_MASK_PATTERN=21522;class ru{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class _t{constructor(){}static calculateMaskPenalty(t){return Tt.applyMaskPenaltyRule1(t)+Tt.applyMaskPenaltyRule2(t)+Tt.applyMaskPenaltyRule3(t)+Tt.applyMaskPenaltyRule4(t)}static encode(t,i,o=null){let a=_t.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(kt.CHARACTER_SET)!==void 0;l&&(a=o.get(kt.CHARACTER_SET).toString());const h=this.chooseMode(t,a),d=new Q;if(h===Ne.BYTE&&(l||_t.DEFAULT_BYTE_MODE_ENCODING!==a)){const ue=J.getCharacterSetECIByName(a);ue!==void 0&&this.appendECI(ue,d)}this.appendModeInfo(h,d);const m=new Q;this.appendBytes(t,h,m,a);let x;if(o!==null&&o.get(kt.QR_VERSION)!==void 0){const ue=Number.parseInt(o.get(kt.QR_VERSION).toString(),10);x=pe.getVersionForNumber(ue);const ie=this.calculateBitsNeeded(h,d,m,x);if(!this.willFit(ie,x,i))throw new dt("Data too big for requested version")}else x=this.recommendVersion(i,h,d,m);const v=new Q;v.appendBitArray(d);const A=h===Ne.BYTE?m.getSizeInBytes():t.length;this.appendLengthInfo(A,x,h,v),v.appendBitArray(m);const T=x.getECBlocksForLevel(i),b=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(b,v);const B=this.interleaveWithECBytes(v,x.getTotalCodewords(),b,T.getNumBlocks()),F=new ar;F.setECLevel(i),F.setMode(h),F.setVersion(x);const H=x.getDimensionForVersion(),W=new ho(H,H),ae=this.chooseMaskPattern(B,i,x,W);return F.setMaskPattern(ae),Me.buildMatrix(B,i,x,ae,W),F.setMatrix(W),F}static recommendVersion(t,i,o,a){const l=this.calculateBitsNeeded(i,o,a,pe.getVersionForNumber(1)),h=this.chooseVersion(l,t),d=this.calculateBitsNeeded(i,o,a,h);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,i,o,a){return i.getSize()+t.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(t){return t<_t.ALPHANUMERIC_TABLE.length?_t.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(J.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Ne.KANJI;let o=!1,a=!1;for(let l=0,h=t.length;l<h;++l){const d=t.charAt(l);if(_t.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)a=!0;else return Ne.BYTE}return a?Ne.ALPHANUMERIC:o?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=He.encode(t,J.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){const l=i[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,i,o,a){let l=Number.MAX_SAFE_INTEGER,h=-1;for(let d=0;d<ar.NUM_MASK_PATTERNS;d++){Me.buildMatrix(t,i,o,d,a);let m=this.calculateMaskPenalty(a);m<l&&(l=m,h=d)}return h}static chooseVersion(t,i){for(let o=1;o<=40;o++){const a=pe.getVersionForNumber(o);if(_t.willFit(t,a,i))return a}throw new dt("Data too big")}static willFit(t,i,o){const a=i.getTotalCodewords(),h=i.getECBlocksForLevel(o).getTotalECCodewords(),d=a-h,m=(t+7)/8;return d>=m}static terminateBits(t,i){const o=t*8;if(i.getSize()>o)throw new dt("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let h=0;h<4&&i.getSize()<o;++h)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let h=a;h<8;h++)i.appendBit(!1);const l=t-i.getSizeInBytes();for(let h=0;h<l;++h)i.appendBits(h&1?17:236,8);if(i.getSize()!==o)throw new dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,o,a,l,h){if(a>=o)throw new dt("Block ID too large");const d=t%o,m=o-d,x=Math.floor(t/o),v=x+1,A=Math.floor(i/o),T=A+1,b=x-A,B=v-T;if(b!==B)throw new dt("EC bytes mismatch");if(o!==m+d)throw new dt("RS blocks mismatch");if(t!==(A+b)*m+(T+B)*d)throw new dt("Total bytes mismatch");a<m?(l[0]=A,h[0]=b):(l[0]=T,h[0]=B)}static interleaveWithECBytes(t,i,o,a){if(t.getSizeInBytes()!==o)throw new dt("Number of bits and data bytes does not match");let l=0,h=0,d=0;const m=new Array;for(let v=0;v<a;++v){const A=new Int32Array(1),T=new Int32Array(1);_t.getNumDataBytesAndNumECBytesForBlockID(i,o,a,v,A,T);const b=A[0],B=new Uint8Array(b);t.toBytes(8*l,B,0,b);const F=_t.generateECBytes(B,T[0]);m.push(new ru(B,F)),h=Math.max(h,b),d=Math.max(d,F.length),l+=A[0]}if(o!==l)throw new dt("Data bytes does not match offset");const x=new Q;for(let v=0;v<h;++v)for(const A of m){const T=A.getDataBytes();v<T.length&&x.appendBits(T[v],8)}for(let v=0;v<d;++v)for(const A of m){const T=A.getErrorCorrectionBytes();v<T.length&&x.appendBits(T[v],8)}if(i!==x.getSizeInBytes())throw new dt("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,i){const o=t.length,a=new Int32Array(o+i);for(let h=0;h<o;h++)a[h]=t[h]&255;new Ss(Ke.QR_CODE_FIELD_256).encode(a,i);const l=new Uint8Array(i);for(let h=0;h<i;h++)l[h]=a[o+h];return l}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,o,a){const l=o.getCharacterCountBits(i);if(t>=1<<l)throw new dt(t+" is bigger than "+((1<<l)-1));a.appendBits(t,l)}static appendBytes(t,i,o,a){switch(i){case Ne.NUMERIC:_t.appendNumericBytes(t,o);break;case Ne.ALPHANUMERIC:_t.appendAlphanumericBytes(t,o);break;case Ne.BYTE:_t.append8BitBytes(t,o,a);break;case Ne.KANJI:_t.appendKanjiBytes(t,o);break;default:throw new dt("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=_t.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const o=t.length;let a=0;for(;a<o;){const l=_t.getDigit(t.charAt(a));if(a+2<o){const h=_t.getDigit(t.charAt(a+1)),d=_t.getDigit(t.charAt(a+2));i.appendBits(l*100+h*10+d,10),a+=3}else if(a+1<o){const h=_t.getDigit(t.charAt(a+1));i.appendBits(l*10+h,7),a+=2}else i.appendBits(l,4),a++}}static appendAlphanumericBytes(t,i){const o=t.length;let a=0;for(;a<o;){const l=_t.getAlphanumericCode(t.charCodeAt(a));if(l===-1)throw new dt;if(a+1<o){const h=_t.getAlphanumericCode(t.charCodeAt(a+1));if(h===-1)throw new dt;i.appendBits(l*45+h,11),a+=2}else i.appendBits(l,6),a++}}static append8BitBytes(t,i,o){let a;try{a=He.encode(t,o)}catch(l){throw new dt(l)}for(let l=0,h=a.length;l!==h;l++){const d=a[l];i.appendBits(d,8)}}static appendKanjiBytes(t,i){let o;try{o=He.encode(t,J.SJIS)}catch(l){throw new dt(l)}const a=o.length;for(let l=0;l<a;l+=2){const h=o[l]&255,d=o[l+1]&255,m=h<<8&4294967295|d;let x=-1;if(m>=33088&&m<=40956?x=m-33088:m>=57408&&m<=60351&&(x=m-49472),x===-1)throw new dt("Invalid byte sequence");const v=(x>>8)*192+(x&255);i.appendBits(v,13)}}static appendECI(t,i){i.appendBits(Ne.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}_t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),_t.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class Zi{write(t,i,o,a=null){if(t.length===0)throw new O("Found empty contents");if(i<0||o<0)throw new O("Requested dimensions are too small: "+i+"x"+o);let l=Ze.L,h=Zi.QUIET_ZONE_SIZE;a!==null&&(a.get(kt.ERROR_CORRECTION)!==void 0&&(l=Ze.fromString(a.get(kt.ERROR_CORRECTION).toString())),a.get(kt.MARGIN)!==void 0&&(h=Number.parseInt(a.get(kt.MARGIN).toString(),10)));const d=_t.encode(t,l,a);return this.renderResult(d,i,o,h)}writeToDom(t,i,o,a,l=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(i,o,a,l);t&&t.appendChild(h)}renderResult(t,i,o,a){const l=t.getMatrix();if(l===null)throw new Tn;const h=l.getWidth(),d=l.getHeight(),m=h+a*2,x=d+a*2,v=Math.max(i,m),A=Math.max(o,x),T=Math.min(Math.floor(v/m),Math.floor(A/x)),b=Math.floor((v-h*T)/2),B=Math.floor((A-d*T)/2),F=this.createSVGElement(v,A);for(let H=0,W=B;H<d;H++,W+=T)for(let ae=0,ue=b;ae<h;ae++,ue+=T)if(l.get(ae,H)===1){const ie=this.createSvgRectElement(ue,W,T,T);F.appendChild(ie)}return F}createSVGElement(t,i){const o=document.createElementNS(Zi.SVG_NS,"svg");return o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(t,i,o,a){const l=document.createElementNS(Zi.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",i.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Zi.QUIET_ZONE_SIZE=4,Zi.SVG_NS="http://www.w3.org/2000/svg";class Ni{encode(t,i,o,a,l){if(t.length===0)throw new O("Found empty contents");if(i!==re.QR_CODE)throw new O("Can only encode QR_CODE, but got "+i);if(o<0||a<0)throw new O(`Requested dimensions are too small: ${o}x${a}`);let h=Ze.L,d=Ni.QUIET_ZONE_SIZE;l!==null&&(l.get(kt.ERROR_CORRECTION)!==void 0&&(h=Ze.fromString(l.get(kt.ERROR_CORRECTION).toString())),l.get(kt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(kt.MARGIN).toString(),10)));const m=_t.encode(t,h,l);return Ni.renderResult(m,o,a,d)}static renderResult(t,i,o,a){const l=t.getMatrix();if(l===null)throw new Tn;const h=l.getWidth(),d=l.getHeight(),m=h+a*2,x=d+a*2,v=Math.max(i,m),A=Math.max(o,x),T=Math.min(Math.floor(v/m),Math.floor(A/x)),b=Math.floor((v-h*T)/2),B=Math.floor((A-d*T)/2),F=new We(v,A);for(let H=0,W=B;H<d;H++,W+=T)for(let ae=0,ue=b;ae<h;ae++,ue+=T)l.get(ae,H)===1&&F.setRegion(ue,W,T,T);return F}}Ni.QUIET_ZONE_SIZE=4;class lr{encode(t,i,o,a,l){let h;switch(i){case re.QR_CODE:h=new Ni;break;default:throw new O("No encoder available for format "+i)}return h.encode(t,i,o,a,l)}}class ci extends ${constructor(t,i,o,a,l,h,d,m){if(super(h,d),this.yuvData=t,this.dataWidth=i,this.dataHeight=o,this.left=a,this.top=l,a+h>i||l+d>o)throw new O("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(h,d)}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return X.arraycopy(this.yuvData,a,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=t*i,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return X.arraycopy(this.yuvData,l,a,0,o),a;for(let h=0;h<i;h++){const d=h*t;X.arraycopy(this.yuvData,l,a,d,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,i,o,a){return new ci(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,o,a,!1)}renderThumbnail(){const t=this.getWidth()/ci.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/ci.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*i),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const d=h*t;for(let m=0;m<t;m++){const x=a[l+m*ci.THUMBNAIL_SCALE_FACTOR]&255;o[d+m]=4278190080|x*65793}l+=this.dataWidth*ci.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/ci.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ci.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const o=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<i;a++,l+=this.dataWidth){const h=l+t/2;for(let d=l,m=l+t-1;d<h;d++,m--){const x=o[d];o[d]=o[m],o[m]=x}}}invert(){return new Ie(this)}}ci.THUMBNAIL_SCALE_FACTOR=2;class ur extends ${constructor(t,i,o,a,l,h,d){if(super(i,o),this.dataWidth=a,this.dataHeight=l,this.left=h,this.top=d,t.BYTES_PER_ELEMENT===4){const m=i*o,x=new Uint8ClampedArray(m);for(let v=0;v<m;v++){const A=t[v],T=A>>16&255,b=A>>7&510,B=A&255;x[v]=(T+b+B)/4&255}this.luminances=x}else this.luminances=t;if(a===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=o),h===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new O("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return X.arraycopy(this.luminances,a,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=t*i,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return X.arraycopy(this.luminances,l,a,0,o),a;for(let h=0;h<i;h++){const d=h*t;X.arraycopy(this.luminances,l,a,d,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,i,o,a){return new ur(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Ie(this)}}class bn extends J{static forName(t){return this.getCharacterSetECIByName(t)}}class Po{}Po.ISO_8859_1=J.ISO8859_1;class Is{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class ba{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Ts{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Gi extends Ts{constructor(t,i,o){super(t),this.value=i,this.bitCount=o}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new Gi(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Gi(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+k.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ns extends Gi{constructor(t,i,o){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(t,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(t,i){return new Ns(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ou(E,t,i){return new Ns(E,t,i)}function Nr(E,t,i){return new Gi(E,t,i)}const su=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Qt=0,Mi=1,Fn=2,hi=3,fi=4,Mr=new Gi(null,0,0),Ms=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function fo(E){for(let t of E)R.fill(t,-1);return E[Qt][fi]=0,E[Mi][fi]=0,E[Mi][Qt]=28,E[hi][fi]=0,E[Fn][fi]=0,E[Fn][Qt]=15,E}const Os=fo(R.createInt32Array(6,6));class Ln{constructor(t,i,o,a){this.token=t,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let o=this.bitCount,a=this.token;if(t!==this.mode){let h=Ms[this.mode][t];a=Nr(a,h&65535,h>>16),o+=h>>16}let l=t===Fn?4:5;return a=Nr(a,i,l),new Ln(a,t,0,o+l)}shiftAndAppend(t,i){let o=this.token,a=this.mode===Fn?4:5;return o=Nr(o,Os[this.mode][t],a),o=Nr(o,i,5),new Ln(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(t){let i=this.token,o=this.mode,a=this.bitCount;if(this.mode===fi||this.mode===Fn){let d=Ms[o][Qt];i=Nr(i,d&65535,d>>16),a+=d>>16,o=Qt}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Ln(i,o,this.binaryShiftByteCount+1,a+l);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=ou(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ln(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Ms[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Ln.calculateBinaryShiftCost(t)-Ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let a=this.endBinaryShift(t.length).token;a!==null;a=a.getPrevious())i.unshift(a);let o=new Q;for(const a of i)a.appendTo(o,t);return o}toString(){return ye.format("%s bits=%d bytes=%d",su[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Ln.INITIAL_STATE=new Ln(Mr,Qt,0,0);function au(E){const t=ye.getCharCode(" "),i=ye.getCharCode("."),o=ye.getCharCode(",");E[Qt][t]=1;const a=ye.getCharCode("Z"),l=ye.getCharCode("A");for(let T=l;T<=a;T++)E[Qt][T]=T-l+2;E[Mi][t]=1;const h=ye.getCharCode("z"),d=ye.getCharCode("a");for(let T=d;T<=h;T++)E[Mi][T]=T-d+2;E[Fn][t]=1;const m=ye.getCharCode("9"),x=ye.getCharCode("0");for(let T=x;T<=m;T++)E[Fn][T]=T-x+2;E[Fn][o]=12,E[Fn][i]=13;const v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<v.length;T++)E[hi][ye.getCharCode(v[T])]=T;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<A.length;T++)ye.getCharCode(A[T])>0&&(E[fi][ye.getCharCode(A[T])]=T);return E}const di=au(R.createInt32Array(5,256));class Yi{constructor(t){this.text=t}encode(){const t=ye.getCharCode(" "),i=ye.getCharCode(`
`);let o=ba.singletonList(Ln.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let h,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ye.getCharCode("\r"):h=d===i?2:0;break;case ye.getCharCode("."):h=d===t?3:0;break;case ye.getCharCode(","):h=d===t?4:0;break;case ye.getCharCode(":"):h=d===t?5:0;break;default:h=0}h>0?(o=Yi.updateStateListForPair(o,l,h),l++):o=this.updateStateListForChar(o,l)}return ba.min(o,(l,h)=>l.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const o=[];for(let a of t)this.updateStateForChar(a,i,o);return Yi.simplifyStates(o)}updateStateForChar(t,i,o){let a=this.text[i]&255,l=di[t.getMode()][a]>0,h=null;for(let d=0;d<=fi;d++){let m=di[d][a];if(m>0){if(h==null&&(h=t.endBinaryShift(i)),!l||d===t.getMode()||d===Fn){const x=h.latchAndAppend(d,m);o.push(x)}if(!l&&Os[t.getMode()][d]>=0){const x=h.shiftAndAppend(d,m);o.push(x)}}}if(t.getBinaryShiftByteCount()>0||di[t.getMode()][a]===0){let d=t.addBinaryShiftChar(i);o.push(d)}}static updateStateListForPair(t,i,o){const a=[];for(let l of t)this.updateStateForPair(l,i,o,a);return this.simplifyStates(a)}static updateStateForPair(t,i,o,a){let l=t.endBinaryShift(i);if(a.push(l.latchAndAppend(fi,o)),t.getMode()!==fi&&a.push(l.shiftAndAppend(fi,o)),o===3||o===4){let h=l.latchAndAppend(Fn,16-o).latchAndAppend(Fn,1);a.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(h)}}static simplifyStates(t){let i=[];for(const o of t){let a=!0;for(const l of i){if(l.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(l)&&(i=i.filter(h=>h!==l))}a&&i.push(o)}return i}}class tt{constructor(){}static encodeBytes(t){return tt.encode(t,tt.DEFAULT_EC_PERCENT,tt.DEFAULT_AZTEC_LAYERS)}static encode(t,i,o){let a=new Yi(t).encode(),l=k.truncDivision(a.getSize()*i,100)+11,h=a.getSize()+l,d,m,x,v,A;if(o!==tt.DEFAULT_AZTEC_LAYERS){if(d=o<0,m=Math.abs(o),m>(d?tt.MAX_NB_BITS_COMPACT:tt.MAX_NB_BITS))throw new O(ye.format("Illegal value %s for layers",o));x=tt.totalBitsInLayer(m,d),v=tt.WORD_SIZE[m];let ie=x-x%v;if(A=tt.stuffBits(a,v),A.getSize()+l>ie)throw new O("Data to large for user specified layer");if(d&&A.getSize()>v*64)throw new O("Data to large for user specified layer")}else{v=0,A=null;for(let ie=0;;ie++){if(ie>tt.MAX_NB_BITS)throw new O("Data too large for an Aztec code");if(d=ie<=3,m=d?ie+1:ie,x=tt.totalBitsInLayer(m,d),h>x)continue;(A==null||v!==tt.WORD_SIZE[m])&&(v=tt.WORD_SIZE[m],A=tt.stuffBits(a,v));let Ge=x-x%v;if(!(d&&A.getSize()>v*64)&&A.getSize()+l<=Ge)break}}let T=tt.generateCheckWords(A,x,v),b=A.getSize()/v,B=tt.generateModeMessage(d,m,b),F=(d?11:14)+m*4,H=new Int32Array(F),W;if(d){W=F;for(let ie=0;ie<H.length;ie++)H[ie]=ie}else{W=F+1+2*k.truncDivision(k.truncDivision(F,2)-1,15);let ie=k.truncDivision(F,2),Ge=k.truncDivision(W,2);for(let Ue=0;Ue<ie;Ue++){let Nt=Ue+k.truncDivision(Ue,15);H[ie-Ue-1]=Ge-Nt-1,H[ie+Ue]=Ge+Nt+1}}let ae=new We(W);for(let ie=0,Ge=0;ie<m;ie++){let Ue=(m-ie)*4+(d?9:12);for(let Nt=0;Nt<Ue;Nt++){let wn=Nt*2;for(let vn=0;vn<2;vn++)T.get(Ge+wn+vn)&&ae.set(H[ie*2+vn],H[ie*2+Nt]),T.get(Ge+Ue*2+wn+vn)&&ae.set(H[ie*2+Nt],H[F-1-ie*2-vn]),T.get(Ge+Ue*4+wn+vn)&&ae.set(H[F-1-ie*2-vn],H[F-1-ie*2-Nt]),T.get(Ge+Ue*6+wn+vn)&&ae.set(H[F-1-ie*2-Nt],H[ie*2+vn])}Ge+=Ue*8}if(tt.drawModeMessage(ae,d,W,B),d)tt.drawBullsEye(ae,k.truncDivision(W,2),5);else{tt.drawBullsEye(ae,k.truncDivision(W,2),7);for(let ie=0,Ge=0;ie<k.truncDivision(F,2)-1;ie+=15,Ge+=16)for(let Ue=k.truncDivision(W,2)&1;Ue<W;Ue+=2)ae.set(k.truncDivision(W,2)-Ge,Ue),ae.set(k.truncDivision(W,2)+Ge,Ue),ae.set(Ue,k.truncDivision(W,2)-Ge),ae.set(Ue,k.truncDivision(W,2)+Ge)}let ue=new Is;return ue.setCompact(d),ue.setSize(W),ue.setLayers(m),ue.setCodeWords(b),ue.setMatrix(ae),ue}static drawBullsEye(t,i,o){for(let a=0;a<o;a+=2)for(let l=i-a;l<=i+a;l++)t.set(l,i-a),t.set(l,i+a),t.set(i-a,l),t.set(i+a,l);t.set(i-o,i-o),t.set(i-o+1,i-o),t.set(i-o,i-o+1),t.set(i+o,i-o),t.set(i+o,i-o+1),t.set(i+o,i+o-1)}static generateModeMessage(t,i,o){let a=new Q;return t?(a.appendBits(i-1,2),a.appendBits(o-1,6),a=tt.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(o-1,11),a=tt.generateCheckWords(a,40,4)),a}static drawModeMessage(t,i,o,a){let l=k.truncDivision(o,2);if(i)for(let h=0;h<7;h++){let d=l-3+h;a.get(h)&&t.set(d,l-5),a.get(h+7)&&t.set(l+5,d),a.get(20-h)&&t.set(d,l+5),a.get(27-h)&&t.set(l-5,d)}else for(let h=0;h<10;h++){let d=l-5+h+k.truncDivision(h,5);a.get(h)&&t.set(d,l-7),a.get(h+10)&&t.set(l+7,d),a.get(29-h)&&t.set(d,l+7),a.get(39-h)&&t.set(l-7,d)}}static generateCheckWords(t,i,o){let a=t.getSize()/o,l=new Ss(tt.getGF(o)),h=k.truncDivision(i,o),d=tt.bitsToWords(t,o,h);l.encode(d,h-a);let m=i%o,x=new Q;x.appendBits(0,m);for(const v of Array.from(d))x.appendBits(v,o);return x}static bitsToWords(t,i,o){let a=new Int32Array(o),l,h;for(l=0,h=t.getSize()/i;l<h;l++){let d=0;for(let m=0;m<i;m++)d|=t.get(l*i+m)?1<<i-m-1:0;a[l]=d}return a}static getGF(t){switch(t){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new O("Unsupported word size "+t)}}static stuffBits(t,i){let o=new Q,a=t.getSize(),l=(1<<i)-2;for(let h=0;h<a;h+=i){let d=0;for(let m=0;m<i;m++)(h+m>=a||t.get(h+m))&&(d|=1<<i-1-m);(d&l)===l?(o.appendBits(d&l,i),h--):d&l?o.appendBits(d,i):(o.appendBits(d|1,i),h--)}return o}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}tt.DEFAULT_EC_PERCENT=33,tt.DEFAULT_AZTEC_LAYERS=0,tt.MAX_NB_BITS=32,tt.MAX_NB_BITS_COMPACT=4,tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Or{encode(t,i,o,a){return this.encodeWithHints(t,i,o,a,null)}encodeWithHints(t,i,o,a,l){let h=Po.ISO_8859_1,d=tt.DEFAULT_EC_PERCENT,m=tt.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(kt.CHARACTER_SET)&&(h=bn.forName(l.get(kt.CHARACTER_SET).toString())),l.has(kt.ERROR_CORRECTION)&&(d=k.parseInt(l.get(kt.ERROR_CORRECTION).toString())),l.has(kt.AZTEC_LAYERS)&&(m=k.parseInt(l.get(kt.AZTEC_LAYERS).toString()))),Or.encodeLayers(t,i,o,a,h,d,m)}static encodeLayers(t,i,o,a,l,h,d){if(i!==re.AZTEC)throw new O("Can only encode AZTEC, but got "+i);let m=tt.encode(ye.getBytes(t,l),h,d);return Or.renderResult(m,o,a)}static renderResult(t,i,o){let a=t.getMatrix();if(a==null)throw new Tn;let l=a.getWidth(),h=a.getHeight(),d=Math.max(i,l),m=Math.max(o,h),x=Math.min(d/l,m/h),v=(d-l*x)/2,A=(m-h*x)/2,T=new We(d,m);for(let b=0,B=A;b<h;b++,B+=x)for(let F=0,H=v;F<l;F++,H+=x)a.get(F,b)&&T.setRegion(H,B,x,x);return T}}s.AbstractExpandedDecoder=Mo,s.ArgumentException=D,s.ArithmeticException=si,s.AztecCode=Is,s.AztecCodeReader=tr,s.AztecCodeWriter=Or,s.AztecDecoder=rt,s.AztecDetector=to,s.AztecDetectorResult=de,s.AztecEncoder=tt,s.AztecHighLevelEncoder=Yi,s.AztecPoint=$t,s.BarcodeFormat=re,s.Binarizer=te,s.BinaryBitmap=U,s.BitArray=Q,s.BitMatrix=We,s.BitSource=Ar,s.BrowserAztecCodeReader=No,s.BrowserBarcodeReader=oo,s.BrowserCodeReader=ct,s.BrowserDatamatrixCodeReader=ws,s.BrowserMultiFormatReader=Ma,s.BrowserPDF417Reader=Wi,s.BrowserQRCodeReader=Oa,s.BrowserQRCodeSvgWriter=Zi,s.CharacterSetECI=J,s.ChecksumException=q,s.Code128Reader=fe,s.Code39Reader=Ht,s.DataMatrixDecodedBitStreamParser=Mn,s.DataMatrixReader=lt,s.DecodeHintType=le,s.DecoderResult=Fi,s.DefaultGridSampler=Ut,s.DetectorResult=Ui,s.EAN13Reader=Hi,s.EncodeHintType=kt,s.Exception=w,s.FormatException=G,s.GenericGF=Ke,s.GenericGFPoly=Wt,s.GlobalHistogramBinarizer=Le,s.GridSampler=Pt,s.GridSamplerInstance=Gn,s.HTMLCanvasElementLuminanceSource=se,s.HybridBinarizer=Oe,s.ITFReader=ft,s.IllegalArgumentException=O,s.IllegalStateException=Tn,s.InvertedLuminanceSource=Ie,s.LuminanceSource=$,s.MathUtils=qe,s.MultiFormatOneDReader=Vi,s.MultiFormatReader=Na,s.MultiFormatWriter=lr,s.NotFoundException=K,s.OneDReader=mt,s.PDF417DecodedBitStreamParser=Z,s.PDF417DecoderErrorCorrection=bo,s.PDF417Reader=nn,s.PDF417ResultMetadata=As,s.PerspectiveTransform=yt,s.PlanarYUVLuminanceSource=ci,s.QRCodeByteMatrix=ho,s.QRCodeDataMask=hn,s.QRCodeDecodedBitStreamParser=vt,s.QRCodeDecoderErrorCorrectionLevel=Ze,s.QRCodeDecoderFormatInformation=cn,s.QRCodeEncoder=_t,s.QRCodeEncoderQRCode=ar,s.QRCodeMaskUtil=Tt,s.QRCodeMatrixUtil=Me,s.QRCodeMode=Ne,s.QRCodeReader=en,s.QRCodeVersion=pe,s.QRCodeWriter=Ni,s.RGBLuminanceSource=ur,s.RSS14Reader=Lt,s.RSSExpandedReader=ee,s.ReaderException=On,s.ReedSolomonDecoder=zi,s.ReedSolomonEncoder=Ss,s.ReedSolomonException=Ei,s.Result=Fe,s.ResultMetadataType=ht,s.ResultPoint=we,s.StringUtils=ye,s.UnsupportedOperationException=Be,s.VideoInputDevice=De,s.WhiteRectangleDetector=Te,s.WriterException=dt,s.ZXingArrays=R,s.ZXingCharset=bn,s.ZXingInteger=k,s.ZXingStandardCharsets=Po,s.ZXingStringBuilder=Ye,s.ZXingStringEncoding=He,s.ZXingSystem=X,s.createAbstractExpandedDecoder=ro,Object.defineProperty(s,"__esModule",{value:!0})})})(bc,bc.exports);var Ot=bc.exports;const zm=Pl(Ot),Um=eg({__proto__:null,default:zm},[Ot]);var sd=function(){function e(n,s,c){if(this.formatMap=new Map([[ve.QR_CODE,Ot.BarcodeFormat.QR_CODE],[ve.AZTEC,Ot.BarcodeFormat.AZTEC],[ve.CODABAR,Ot.BarcodeFormat.CODABAR],[ve.CODE_39,Ot.BarcodeFormat.CODE_39],[ve.CODE_93,Ot.BarcodeFormat.CODE_93],[ve.CODE_128,Ot.BarcodeFormat.CODE_128],[ve.DATA_MATRIX,Ot.BarcodeFormat.DATA_MATRIX],[ve.MAXICODE,Ot.BarcodeFormat.MAXICODE],[ve.ITF,Ot.BarcodeFormat.ITF],[ve.EAN_13,Ot.BarcodeFormat.EAN_13],[ve.EAN_8,Ot.BarcodeFormat.EAN_8],[ve.PDF_417,Ot.BarcodeFormat.PDF_417],[ve.RSS_14,Ot.BarcodeFormat.RSS_14],[ve.RSS_EXPANDED,Ot.BarcodeFormat.RSS_EXPANDED],[ve.UPC_A,Ot.BarcodeFormat.UPC_A],[ve.UPC_E,Ot.BarcodeFormat.UPC_E],[ve.UPC_EAN_EXTENSION,Ot.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Um)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var f=this.createZXingFormats(n),g=new Map;g.set(Ot.DecodeHintType.POSSIBLE_FORMATS,f),g.set(Ot.DecodeHintType.TRY_HARDER,!1),this.hints=g}return e.prototype.decodeAsync=function(n){var s=this;return new Promise(function(c,f){try{c(s.decode(n))}catch(g){f(g)}})},e.prototype.decode=function(n){var s=new Ot.MultiFormatReader(this.verbose,this.hints),c=new Ot.HTMLCanvasElementLuminanceSource(n),f=new Ot.BinaryBitmap(new Ot.HybridBinarizer(c)),g=s.decode(f);return{text:g.text,format:D0.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,f){n.set(s,c)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var s=[],c=0,f=n;c<f.length;c++){var g=f[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Hm=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function S(D){try{w(c.next(D))}catch(O){y(O)}}function I(D){try{w(c.throw(D))}catch(O){y(O)}}function w(D){D.done?g(D.value):f(D.value).then(S,I)}w((c=c.apply(e,n||[])).next())})},jm=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(w){return function(D){return I([w,D])}}function I(w){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(s=0)),s;)try{if(c=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,f=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){s.label=w[1];break}if(w[0]===6&&s.label<g[1]){s.label=g[1],g=w;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(w);break}g[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(e,s)}catch(D){w=[6,D],f=0}finally{c=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ad=function(){function e(n,s,c){if(this.formatMap=new Map([[ve.QR_CODE,"qr_code"],[ve.AZTEC,"aztec"],[ve.CODABAR,"codabar"],[ve.CODE_39,"code_39"],[ve.CODE_93,"code_93"],[ve.CODE_128,"code_128"],[ve.DATA_MATRIX,"data_matrix"],[ve.ITF,"itf"],[ve.EAN_13,"ean_13"],[ve.EAN_8,"ean_8"],[ve.PDF_417,"pdf417"],[ve.UPC_A,"upc_a"],[ve.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var f=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Hm(this,void 0,void 0,function(){var s,c;return jm(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=f.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:D0.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var s=null,c=0,f=0,g=n;f<g.length;f++){var y=g[f],S=y.boundingBox.width*y.boundingBox.height;S>c&&(c=S,s=y)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],c=0,f=n;c<f.length;c++){var g=f[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,f){n.set(s,c)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ld=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function S(D){try{w(c.next(D))}catch(O){y(O)}}function I(D){try{w(c.throw(D))}catch(O){y(O)}}function w(D){D.done?g(D.value):f(D.value).then(S,I)}w((c=c.apply(e,n||[])).next())})},ud=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(w){return function(D){return I([w,D])}}function I(w){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(s=0)),s;)try{if(c=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,f=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){s.label=w[1];break}if(w[0]===6&&s.label<g[1]){s.label=g[1],g=w;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(w);break}g[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(e,s)}catch(D){w=[6,D],f=0}finally{c=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Vm=function(){function e(n,s,c,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&ad.isSupported()?(this.primaryDecoder=new ad(n,c,f),this.secondaryDecoder=new sd(n,c,f)):this.primaryDecoder=new sd(n,c,f)}return e.prototype.decodeAsync=function(n){return ld(this,void 0,void 0,function(){var s;return ud(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return ld(this,void 0,void 0,function(){var s,c;return ud(this,function(f){switch(f.label){case 0:s=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,f.sent()];case 3:if(c=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,c=this.executionResults;s<c.length;s++){var f=c[s];n+=f}var g=n/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Ih=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Dl=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function S(D){try{w(c.next(D))}catch(O){y(O)}}function I(D){try{w(c.throw(D))}catch(O){y(O)}}function w(D){D.done?g(D.value):f(D.value).then(S,I)}w((c=c.apply(e,n||[])).next())})},Rl=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(w){return function(D){return I([w,D])}}function I(w){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(s=0)),s;)try{if(c=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,f=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){s.label=w[1];break}if(w[0]===6&&s.label<g[1]){s.label=g[1],g=w;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(w);break}g[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(e,s)}catch(D){w=[6,D],f=0}finally{c=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},B0=function(){function e(n,s){this.name=n,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var s={};s[this.name]=n;var c={advanced:[s]};return this.track.applyConstraints(c)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},e}(),Wm=function(e){Ih(n,e);function n(s,c){return e.call(this,s,c)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var c={};c[this.name]=s;var f={advanced:[c]};return this.track.applyConstraints(f)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(B0),Zm=function(e){Ih(n,e);function n(s){return e.call(this,"zoom",s)||this}return n}(Wm),Gm=function(e){Ih(n,e);function n(s){return e.call(this,"torch",s)||this}return n}(B0),Ym=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Zm(this.track)},e.prototype.torchFeature=function(){return new Gm(this.track)},e}(),Xm=function(){function e(n,s,c){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=n.surface.clientWidth,f=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(c,f),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,s,c,f){return Dl(this,void 0,void 0,function(){var g,y;return Rl(this,function(S){switch(S.label){case 0:return g=new e(n,s,f),c.aspectRatio?(y={aspectRatio:c.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:S.sent(),S.label=2;case 2:return g.setupSurface(),[2,g]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var s=this,c=function(){setTimeout(n,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Dl(this,void 0,void 0,function(){return Rl(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,c){var f=n.mediaStream.getVideoTracks(),g=f.length,y=0;n.mediaStream.getVideoTracks().forEach(function(S){n.mediaStream.removeTrack(S),S.stop(),++y,y>=g&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},e.prototype.getCapabilities=function(){return new Ym(this.getFirstTrackOrFail())},e}(),Qm=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,s,c){return Dl(this,void 0,void 0,function(){return Rl(this,function(f){return[2,Xm.create(n,this.mediaStream,s,c)]})})},e.create=function(n){return Dl(this,void 0,void 0,function(){var s,c;return Rl(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=f.sent(),[2,new e(c)]}})})},e}(),cd=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function S(D){try{w(c.next(D))}catch(O){y(O)}}function I(D){try{w(c.throw(D))}catch(O){y(O)}}function w(D){D.done?g(D.value):f(D.value).then(S,I)}w((c=c.apply(e,n||[])).next())})},hd=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(w){return function(D){return I([w,D])}}function I(w){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(s=0)),s;)try{if(c=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,f=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){s.label=w[1];break}if(w[0]===6&&s.label<g[1]){s.label=g[1],g=w;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(w);break}g[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(e,s)}catch(D){w=[6,D],f=0}finally{c=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Km=function(){function e(){}return e.failIfNotSupported=function(){return cd(this,void 0,void 0,function(){return hd(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return cd(this,void 0,void 0,function(){return hd(this,function(s){return[2,Qm.create(n)]})})},e}(),qm=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function S(D){try{w(c.next(D))}catch(O){y(O)}}function I(D){try{w(c.throw(D))}catch(O){y(O)}}function w(D){D.done?g(D.value):f(D.value).then(S,I)}w((c=c.apply(e,n||[])).next())})},Jm=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(w){return function(D){return I([w,D])}}function I(w){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(s=0)),s;)try{if(c=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,f=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){s.label=w[1];break}if(w[0]===6&&s.label<g[1]){s.label=g[1],g=w;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(w);break}g[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(e,s)}catch(D){w=[6,D],f=0}finally{c=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},$m=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=qo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=qo.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return qm(this,void 0,void 0,function(){var n,s,c,f,g,y,S;return Jm(this,function(I){switch(I.label){case 0:return n=function(w){for(var D=w.getVideoTracks(),O=0,U=D;O<U.length;O++){var q=U[O];q.enabled=!1,q.stop(),w.removeTrack(q)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=I.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=I.sent(),f=[],g=0,y=c;g<y.length;g++)S=y[g],S.kind==="videoinput"&&f.push({id:S.deviceId,label:S.label});return n(s),[2,f]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var c=function(g){for(var y=[],S=0,I=g;S<I.length;S++){var w=I[S];w.kind==="video"&&y.push({id:w.id,label:w.label})}n(y)},f=MediaStreamTrack;f.getSources(c)})},e}(),jt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(jt||(jt={}));var e2=function(){function e(){this.state=jt.NOT_STARTED,this.onGoingTransactionNewState=jt.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=jt.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=jt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==jt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case jt.UNKNOWN:throw"Transition from unknown is not allowed";case jt.NOT_STARTED:this.failIfNewStateIs(n,[jt.PAUSED]);break;case jt.SCANNING:break;case jt.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,s){for(var c=0,f=s;c<f.length;c++){var g=f[c];if(n===g)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),t2=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===jt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==jt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===jt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===jt.PAUSED},e}(),n2=function(){function e(){}return e.create=function(){return new t2(new e2)},e}(),i2=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),qn=function(e){i2(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Di),r2=function(){function e(n,s){this.logger=s,this.fps=qn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=qn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?k0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ki(this.qrbox)},e.create=function(n,s){return new e(n,s)},e}(),fd=function(){function e(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new P0(this.verbose),this.qrcode=new Vm(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=n2.create()}return e.prototype.start=function(n,s,c,f){var g=this;if(!n)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;f?y=f:y=this.verbose?this.logger.log:function(){};var S=r2.create(s,this.logger);this.clearElement();var I=!1;S.videoConstraints&&(S.isMediaStreamConstraintsValid()?I=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=I,D=document.getElementById(this.elementId);D.clientWidth?D.clientWidth:qn.DEFAULT_WIDTH,D.style.position="relative",this.shouldScan=!0,this.element=D;var O=this,U=this.stateManagerProxy.startTransition(jt.SCANNING);return new Promise(function(q,te){var X=w?S.videoConstraints:O.createVideoConstraints(n);if(!X){U.cancel(),te("videoConstraints should be defined");return}var Se={};(!w||S.aspectRatio)&&(Se.aspectRatio=S.aspectRatio);var z={onRenderSurfaceReady:function(R,k){O.setupUi(R,k,S),O.isScanning=!0,O.foreverScan(S,c,y)}};Km.failIfNotSupported().then(function(R){R.create(X).then(function(k){return k.render(g.element,Se,z).then(function(Q){O.renderedCamera=Q,U.execute(),q(null)}).catch(function(Q){U.cancel(),te(Q)})}).catch(function(k){U.cancel(),te(qo.errorGettingUserMedia(k))})}).catch(function(R){U.cancel(),te(qo.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(jt.PAUSED),this.showPausedState(),(Ki(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(jt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(jt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(n.element){var g=document.getElementById(qn.SHADED_REGION_ELEMENT_ID);g&&n.element.removeChild(g)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),c(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),s.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(c){return c.decodedText})},e.prototype.scanFileV2=function(n,s){var c=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ki(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,g){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(n);var y=new Image;y.onload=function(){var S=y.width,I=y.height,w=document.getElementById(c.elementId),D=w.clientWidth?w.clientWidth:qn.DEFAULT_WIDTH,O=Math.max(w.clientHeight?w.clientHeight:I,qn.FILE_SCAN_MIN_HEIGHT),U=c.computeCanvasDrawConfig(S,I,D,O);if(s){var q=c.createCanvasElement(D,O,"qr-canvas-visible");q.style.display="inline-block",w.appendChild(q);var te=q.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=D,te.canvas.height=O,te.drawImage(y,0,0,S,I,U.x,U.y,U.width,U.height)}var X=qn.FILE_SCAN_HIDDEN_CANVAS_PADDING,Se=Math.max(y.width,U.width),z=Math.max(y.height,U.height),R=Se+2*X,k=z+2*X,Q=c.createCanvasElement(R,k);w.appendChild(Q);var ge=Q.getContext("2d");if(!ge)throw"Unable to get 2d context from canvas";ge.canvas.width=R,ge.canvas.height=k,ge.drawImage(y,0,0,S,I,X,X,Se,z);try{c.qrcode.decodeRobustlyAsync(Q).then(function(le){f(rd.createFromQrcodeResult(le))}).catch(g)}catch(le){g("QR code parse error, error = ".concat(le))}},y.onerror=g,y.onabort=g,y.onstalled=g,y.onsuspend=g,y.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return $m.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!k0.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var s=[ve.QR_CODE,ve.AZTEC,ve.CODABAR,ve.CODE_39,ve.CODE_93,ve.CODE_128,ve.DATA_MATRIX,ve.MAXICODE,ve.ITF,ve.EAN_13,ve.EAN_8,ve.PDF_417,ve.RSS_14,ve.RSS_EXPANDED,ve.UPC_A,ve.UPC_E,ve.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],f=0,g=n.formatsToSupport;f<g.length;f++){var y=g[f];Bm(y)?c.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Ki(n))return!0;if(!Ki(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Ki(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return Ki(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,s,c){var f=this,g=c.qrbox;this.validateQrboxConfig(g);var y=this.toQrdimensions(n,s,g),S=function(w){if(w<qn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qn.MIN_QR_BOX_SIZE,"px.")},I=function(w){return w>n&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=n),w};S(y.width),S(y.height),y.width=I(y.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(n,s)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return c},e.prototype.setupUi=function(n,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,c);var f=Ki(c.qrbox)?{width:n,height:s}:c.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(n,s,f);g.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=c.isShadedBoxEnabled()&&g.height<=s,S={x:0,y:0,width:n,height:s},I=y?this.getShadedRegionBounds(n,s,g):S,w=this.createCanvasElement(I.width,I.height),D={willReadFrequently:!0},O=w.getContext("2d",D);O.canvas.width=I.width,O.canvas.height=I.height,this.element.append(w),y&&this.possiblyInsertShadingElement(this.element,n,s,g),this.createScannerPausedUiElement(this.element),this.qrRegion=I,this.context=O,this.canvasElement=w},e.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=qo.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(n,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return n(f.text,rd.createFromQrcodeResult(f)),c.possiblyUpdateShaders(!0),!0}).catch(function(f){c.possiblyUpdateShaders(!1);var g=qo.codeParseError(f);return s(g,R0.createFrom(g)),!1})},e.prototype.foreverScan=function(n,s,c){var f=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),y=g.videoWidth/g.clientWidth,S=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var I=this.qrRegion.width*y,w=this.qrRegion.height*S,D=this.qrRegion.x*y,O=this.qrRegion.y*S;this.context.drawImage(g,D,O,I,w,0,0,this.qrRegion.width,this.qrRegion.height);var U=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(n,s,c)},f.getTimeoutFps(n.fps))};this.scanContext(s,c).then(function(q){!q&&n.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(s,c).finally(function(){U()})):U()}).catch(function(q){f.logger.logError("Error happend while scanning context",q),U()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",c="deviceId",f={user:!0,environment:!0},g="exact",y=function(te){if(te in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(te,"'")},S=Object.keys(n);if(S.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(S.length," keys");var I=Object.keys(n)[0];if(I!==s&&I!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(I===s){var w=n.facingMode;if(typeof w=="string"){if(y(w))return{facingMode:w}}else if(typeof w=="object")if(g in w){if(y(w["".concat(g)]))return{facingMode:{exact:w["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var D=typeof w;throw"Invalid type of 'facingMode' = ".concat(D)}}else{var O=n.deviceId;if(typeof O=="string")return{deviceId:O};if(typeof O=="object"){if(g in O)return{deviceId:{exact:O["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var U=typeof O;throw"Invalid type of 'deviceId' = ".concat(U)}}}var q=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(q)},e.prototype.computeCanvasDrawConfig=function(n,s,c,f){if(n<=c&&s<=f){var g=(c-n)/2,y=(f-s)/2;return{x:g,y,width:n,height:s}}else{var S=n,I=s;return n>c&&(s=c/n*s,n=c),s>f&&(n=f/s*n,s=f),this.logger.log("Image downsampled from "+"".concat(S,"X").concat(I)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,c,f)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?qn.BORDER_SHADER_MATCH_COLOR:qn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,s,c){var f=n,g=s,y=document.createElement("canvas");return y.style.width="".concat(f,"px"),y.style.height="".concat(g,"px"),y.style.display="none",y.id=Ki(c)?"qr-canvas":c,y},e.prototype.getShadedRegionBounds=function(n,s,c){if(c.width>n||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},e.prototype.possiblyInsertShadingElement=function(n,s,c,f){if(!(s-f.width<1||c-f.height<1)){var g=document.createElement("div");g.style.position="absolute";var y=(s-f.width)/2,S=(c-f.height)/2;if(g.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(qn.SHADED_REGION_ELEMENT_ID),s-f.width<11||c-f.height<11)this.hasBorderShaders=!1;else{var I=5,w=40;this.insertShaderBorders(g,w,I,-I,null,0,!0),this.insertShaderBorders(g,w,I,-I,null,0,!1),this.insertShaderBorders(g,w,I,null,-I,0,!0),this.insertShaderBorders(g,w,I,null,-I,0,!1),this.insertShaderBorders(g,I,w+I,-I,null,-I,!0),this.insertShaderBorders(g,I,w+I,null,-I,-I,!0),this.insertShaderBorders(g,I,w+I,-I,null,-I,!1),this.insertShaderBorders(g,I,w+I,null,-I,-I,!1),this.hasBorderShaders=!0}n.append(g)}},e.prototype.insertShaderBorders=function(n,s,c,f,g,y,S){var I=document.createElement("div");I.style.position="absolute",I.style.backgroundColor=qn.BORDER_SHADER_DEFAULT_COLOR,I.style.width="".concat(s,"px"),I.style.height="".concat(c,"px"),f!==null&&(I.style.top="".concat(f,"px")),g!==null&&(I.style.bottom="".concat(g,"px")),S?I.style.left="".concat(y,"px"):I.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(I),n.appendChild(I)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Th="data:image/svg+xml;base64,",o2=Th+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",s2=Th+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",dd=Th+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",a2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",gd=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),l2=function(){function e(){this.data=gd.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=gd.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),u2=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=od.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var c=document.createElement("br"),f=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(f);var g=document.createElement("a");g.innerText=od.reportIssues(),g.href="https://github.com/mebjas/html5-qrcode/issues",g.target="new",g.style.color="white",this.infoDiv.appendChild(g),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),c2=function(){function e(n,s){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=s,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=dd,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=a2,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=dd,this.infoIcon.style.opacity="0.6")},e}(),h2=function(){function e(){var n=this;this.infoDiv=new u2,this.infoIcon=new c2(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),f2=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function S(D){try{w(c.next(D))}catch(O){y(O)}}function I(D){try{w(c.throw(D))}catch(O){y(O)}}function w(D){D.done?g(D.value):f(D.value).then(S,I)}w((c=c.apply(e,n||[])).next())})},d2=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(w){return function(D){return I([w,D])}}function I(w){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(s=0)),s;)try{if(c=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,f=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){s.label=w[1];break}if(w[0]===6&&s.label<g[1]){s.label=g[1],g=w;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(w);break}g[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(e,s)}catch(D){w=[6,D],f=0}finally{c=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},pd=function(){function e(){}return e.hasPermissions=function(){return f2(this,void 0,void 0,function(){var n,s,c,f;return d2(this,function(g){switch(g.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=g.sent(),s=0,c=n;s<c.length;s++)if(f=c[s],f.kind==="videoinput"&&f.label)return[2,!0];return[2,!1]}})})},e}(),Rr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,s=this.supportedScanTypes;n<s.length;n++){var c=s[n];if(e.isCameraScanType(c))return!0}return!1},e.isCameraScanType=function(n){return n===qr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===qr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return Di.DEFAULT_SUPPORTED_SCAN_TYPE;var s=Di.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var c=0,f=n;c<f.length;c++){var g=f[c];if(!Di.DEFAULT_SUPPORTED_SCAN_TYPE.includes(g))throw"Unsupported scan type ".concat(g)}return n},e}(),ei=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),pr=function(){function e(){}return e.createElement=function(n,s){var c=document.createElement(n);return c.id=s,c.classList.add(ei.ALL_ELEMENT_CLASS),n==="button"&&c.setAttribute("type","button"),c},e}(),F0=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function S(D){try{w(c.next(D))}catch(O){y(O)}}function I(D){try{w(c.throw(D))}catch(O){y(O)}}function w(D){D.done?g(D.value):f(D.value).then(S,I)}w((c=c.apply(e,n||[])).next())})},z0=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(w){return function(D){return I([w,D])}}function I(w){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(s=0)),s;)try{if(c=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,f=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){s.label=w[1];break}if(w[0]===6&&s.label<g[1]){s.label=g[1],g=w;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(w);break}g[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(e,s)}catch(D){w=[6,D],f=0}finally{c=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},md=function(){function e(n,s,c){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=s,this.onTorchActionFailureCallback=c}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return F0(this,void 0,void 0,function(){var n,s;return z0(this,function(c){switch(c.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return s=c.sent(),this.propagateFailure(n,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,s){n===s?(this.buttonController.setText(s?gt.torchOffButton():gt.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},e.prototype.propagateFailure=function(n,s){var c=n?gt.torchOnFailedMessage():gt.torchOffFailedMessage();s&&(c+="; Error = "+s),this.onTorchActionFailureCallback(c)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),g2=function(){function e(n,s){this.onTorchActionFailureCallback=s,this.torchButton=pr.createElement("button",ei.TORCH_BUTTON_ID),this.torchController=new md(n,this,s)}return e.prototype.render=function(n,s){var c=this;this.torchButton.innerText=gt.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var f=this;this.torchButton.addEventListener("click",function(g){return F0(c,void 0,void 0,function(){return z0(this,function(y){switch(y.label){case 0:return[4,f.torchController.flipState()];case 1:return y.sent(),f.torchController.isTorchEnabled()?(f.torchButton.classList.remove(ei.TORCH_BUTTON_CLASS_TORCH_OFF),f.torchButton.classList.add(ei.TORCH_BUTTON_CLASS_TORCH_ON)):(f.torchButton.classList.remove(ei.TORCH_BUTTON_CLASS_TORCH_ON),f.torchButton.classList.add(ei.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new md(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=gt.torchOnButton(),this.torchController.reset()},e.create=function(n,s,c,f){var g=new e(s,f);return g.render(n,c),g},e}(),p2=function(){function e(n,s,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",n.appendChild(this.fileBasedScanRegion);var f=document.createElement("label");f.setAttribute("for",this.getFileScanInputId()),f.style.display="inline-block",this.fileBasedScanRegion.appendChild(f),this.fileSelectionButton=pr.createElement("button",ei.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(S){f.click()}),f.append(this.fileSelectionButton),this.fileScanInput=pr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",f.appendChild(this.fileScanInput);var g=this;this.fileScanInput.addEventListener("change",function(S){if(!(S==null||S.target==null)){var I=S.target;if(!(I.files&&I.files.length===0)){var w=I.files,D=w[0],O=D.name;g.setImageNameToButton(O),c(D)}}});var y=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(y),this.fileBasedScanRegion.addEventListener("dragenter",function(S){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),S.stopPropagation(),S.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(S){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder(),S.stopPropagation(),S.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(S){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),S.stopPropagation(),S.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(S){S.stopPropagation(),S.preventDefault(),g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder();var I=S.dataTransfer;if(I){var w=I.files;if(!w||w.length===0)return;for(var D=!1,O=0;O<w.length;++O){var U=w.item(O);if(U){var q=/image.*/;if(U.type.match(q)){D=!0;var te=U.name;g.setImageNameToButton(te),c(U),y.innerText=gt.dragAndDropMessage();break}}}D||(y.innerText=gt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=gt.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var s=20;if(n.length>s){var c=n.substring(0,8),f=n.length,g=n.substring(f-8,f);n="".concat(c,"....").concat(g)}var y=gt.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=y},e.prototype.setInitialValueToButton=function(){var n=gt.fileSelectionChooseImage()+" - "+gt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,s,c){var f=new e(n,s,c);return f},e}(),m2=function(){function e(n){this.selectElement=pr.createElement("select",ei.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var s=document.createElement("span");s.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)s.style.display="none";else{var f=gt.selectCamera();s.innerText="".concat(f," (").concat(this.cameras.length,")  ")}for(var g=1,y=0,S=this.cameras;y<S.length;y++){var I=S[y],w=I.id,D=I.label==null?w:I.label;(!D||D==="")&&(D=[gt.anonymousCameraPrefix(),g++].join(" "));var O=document.createElement("option");O.value=w,O.innerText=D,this.options.push(O),this.selectElement.appendChild(O)}s.appendChild(this.selectElement),n.appendChild(s)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var s=0,c=this.options;s<c.length;s++){var f=c[s];if(f.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,s){var c=new e(s);return c.render(n),c},e}(),x2=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=pr.createElement("input",ei.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=gt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var f=this;this.rangeInput.addEventListener("input",function(){return f.onValueChange()}),this.rangeInput.addEventListener("change",function(){return f.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=gt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,s,c,f){this.rangeInput.min=n.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=f.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,s){var c=new e;return c.render(n,s),c},e}(),Jn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Jn||(Jn={}));function _2(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function y2(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var w2=function(){function e(n,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new Rr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new P0(this.verbose),this.persistedDataManager=new l2,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(g,y){if(n)n(g,y);else{if(c.lastMatchFound===g)return;c.lastMatchFound=g,c.setHeaderMessage(gt.lastMatch(g),Jn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(g,y){s&&s(g,y)};var f=document.getElementById(this.elementId);if(!f)throw"HTML Element with id=".concat(this.elementId," not found");f.innerHTML="",this.createBasicLayout(f),this.html5Qrcode=new fd(this.getScanRegionId(),y2(this.config,this.verbose))},e.prototype.pause=function(n){(Ki(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,s=function(){var c=document.getElementById(n.elementId);c&&(c.innerHTML="",n.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,f){if(!n.html5Qrcode){c();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(g){if(!n.html5Qrcode){c();return}n.html5Qrcode.clear(),s(),c()}).catch(function(g){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",g),f(g)}):(n.html5Qrcode.clear(),s(),c())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=Di.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!Di.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=Di.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=Di.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:Di.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Di.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Di.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",n.appendChild(s),Rr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var f=document.createElement("div"),g=this.getDashboardId();f.id=g,f.style.width="100%",n.appendChild(f),this.setupInitialDashboard(f)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",n.appendChild(s);var c=new h2;c.renderInto(s);var f=document.createElement("div");f.id=this.getHeaderMessageContainerId(),f.style.display="none",f.style.textAlign="center",f.style.fontSize="14px",f.style.padding="2px 10px",f.style.margin="4px",f.style.borderTop="1px solid #f6f6f6",s.appendChild(f)},e.prototype.createSection=function(n){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",n.appendChild(s)},e.prototype.createCameraListUi=function(n,s,c){var f=this;f.showHideScanTypeSwapLink(!1),f.setHeaderMessage(gt.cameraPermissionRequesting());var g=function(){c||f.createPermissionButton(n,s)};fd.getCameras().then(function(y){f.persistedDataManager.setHasPermission(!0),f.showHideScanTypeSwapLink(!0),f.resetHeaderMessage(),y&&y.length>0?(n.removeChild(s),f.renderCameraSelection(y)):(f.setHeaderMessage(gt.noCameraFound(),Jn.STATUS_WARNING),g())}).catch(function(y){f.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:g(),f.setHeaderMessage(y,Jn.STATUS_WARNING),f.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,s){var c=this,f=pr.createElement("button",this.getCameraPermissionButtonId());f.innerText=gt.cameraPermissionTitle(),f.addEventListener("click",function(){f.disabled=!0,c.createCameraListUi(n,s,f)}),s.appendChild(f)},e.prototype.createPermissionsUi=function(n,s){var c=this;if(Rr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){pd.hasPermissions().then(function(f){f?c.createCameraListUi(n,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s))}).catch(function(f){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s)});return}this.createPermissionButton(n,s)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");n.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=Rr.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var f=document.createElement("div");f.style.textAlign="center",c.appendChild(f),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,f),this.renderFileScanUi(s)},e.prototype.renderFileScanUi=function(n){var s=Rr.isFileScanType(this.currentScanType),c=this,f=function(g){if(!c.html5Qrcode)throw"html5Qrcode not defined";Rr.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(gt.loadingImage()),c.html5Qrcode.scanFileV2(g,!0).then(function(y){c.resetHeaderMessage(),c.qrCodeSuccessCallback(y.decodedText,y)}).catch(function(y){c.setHeaderMessage(y,Jn.STATUS_WARNING),c.qrCodeErrorCallback(y,R0.createFrom(y))}))};this.fileSelectionUi=p2.create(n,s,f)},e.prototype.renderCameraSelection=function(n){var s=this,c=this,f=document.getElementById(this.getDashboardSectionCameraScanRegionId());f.style.textAlign="center";var g=x2.create(f,!1),y=function(X){var Se=X.zoomFeature();if(Se.isSupported()){g.setOnCameraZoomValueChangeCallback(function(R){Se.apply(R)});var z=1;s.config.defaultZoomValueIfSupported&&(z=s.config.defaultZoomValueIfSupported),z=Fm(z,Se.min(),Se.max()),g.setValues(Se.min(),Se.max(),z,Se.step()),g.show()}},S=m2.create(f,n),I=document.createElement("span"),w=pr.createElement("button",ei.CAMERA_START_BUTTON_ID);w.innerText=gt.scanButtonStartScanningText(),I.appendChild(w);var D=pr.createElement("button",ei.CAMERA_STOP_BUTTON_ID);D.innerText=gt.scanButtonStopScanningText(),D.style.display="none",D.disabled=!0,I.appendChild(D);var O,U=function(X){if(!X.torchFeature().isSupported()){O&&O.hide();return}O?O.updateTorchCapability(X.torchFeature()):O=g2.create(I,X.torchFeature(),{display:"none",marginLeft:"5px"},function(Se){c.setHeaderMessage(Se,Jn.STATUS_WARNING)}),O.show()};f.appendChild(I);var q=function(X){X||(w.style.display="none"),w.innerText=gt.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,X&&(w.style.display="inline-block")};if(w.addEventListener("click",function(X){w.innerText=gt.scanButtonScanningStarting(),S.disable(),w.disabled=!0,w.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var Se=S.getValue();c.persistedDataManager.setLastUsedCameraId(Se),c.html5Qrcode.start(Se,_2(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(z){D.disabled=!1,D.style.display="inline-block",q(!1);var R=c.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&U(R),s.config.showZoomSliderIfSupported===!0&&y(R)}).catch(function(z){c.showHideScanTypeSwapLink(!0),S.enable(),q(!0),c.setHeaderMessage(z,Jn.STATUS_WARNING)})}),S.hasSingleItem()&&w.click(),D.addEventListener("click",function(X){if(!c.html5Qrcode)throw"html5Qrcode not defined";D.disabled=!0,c.html5Qrcode.stop().then(function(Se){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),S.enable(),w.disabled=!1,D.style.display="none",w.style.display="inline-block",O&&(O.reset(),O.hide()),g.removeOnCameraZoomValueChangeCallback(),g.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(Se){D.disabled=!1,c.setHeaderMessage(Se,Jn.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var te=c.persistedDataManager.getLastUsedCameraId();S.hasValue(te)?(S.setValue(te),w.click()):c.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,s=gt.textIfCameraScanSelected(),c=gt.textIfFileScanSelected(),f=document.getElementById(this.getDashboardSectionId()),g=document.createElement("div");g.style.textAlign="center";var y=pr.createElement("span",this.getDashboardSectionSwapLinkId());y.style.textDecoration="underline",y.style.cursor="pointer",y.innerText=Rr.isCameraScanType(this.currentScanType)?s:c,y.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,Rr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),y.innerText=c,n.currentScanType=qr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),y.innerText=s,n.currentScanType=qr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),g.appendChild(y),f.appendChild(g)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){pd.hasPermissions().then(function(c){if(c){var f=document.getElementById(s.getCameraPermissionButtonId());if(!f)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";f.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,s){s||(s=Jn.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=n,c.style.display="block",s){case Jn.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case Jn.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case Jn.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=o2,this.cameraScanImage.alt=gt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=s2,this.fileScanImage.alt=gt.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ei.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ei.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const v2="/Mapa-UC/assets/classroomLogo-caNNTX4V.png",C2="/Mapa-UC/assets/science2ndFloor-V0xmBrTj.png",E2="/Mapa-UC/assets/leaveButton--kz3Hal_.png",A2="/Mapa-UC/assets/BRS2ndFloorPlan-z5xEVZ6a.png";function U0({style:e}){const[n,s]=qt.useState(""),[c,f]=qt.useState(""),[g,y]=qt.useState(!1),[S,I]=qt.useState(!1),w=qt.useRef(null),[D,O]=qt.useState(!1),[U,q]=qt.useState(!1),[te,X]=qt.useState(!1),[Se,z]=qt.useState(!1),[R,k]=qt.useState(!1),[Q,ge]=qt.useState(!1),[le,G]=qt.useState(""),[he,J]=qt.useState(!1),Be=()=>{console.log("tangaga"),event.preventDefault();const de=new w2("reader",{qrbox:{width:300,height:300},fps:20}),Te=yt=>{console.log("QR Code Value Detected:",yt),s(yt),J(!1),de.clear()},Pt=yt=>{console.error(yt)};he?(de.clear(),J(!1)):(J(!0),de.render(Te,Pt))},He=de=>{const{value:Te}=de.target;G(Te)},ye=()=>{O(!D),q(!D)},Ye=()=>{X(!te),z(!te)};let We=[],K;const Le=qt.useRef(null);qt.useEffect(()=>{Le.current=Un.map("map",{center:[0,-.09],zoom:13,zoomControl:!1,crs:Un.CRS.EPSG3395}),Le.current.setView([10,10],3);const de=()=>{y(!1),I(!1)};return document.body.addEventListener("click",de),()=>{Le.current.remove(),document.body.removeEventListener("click",de)}},[]);const Oe=de=>{let Te=[{url:de,bounds:[[0,0],[10,10]]}];Le.current.eachLayer(function(Pt){Pt instanceof Un.ImageOverlay&&Le.current.removeLayer(Pt)}),Te.forEach(function(Pt){Un.imageOverlay(Pt.url,Pt.bounds).addTo(Le.current)})};function $(de){de==="science2ndFloor"?Oe(C2):de==="BRS2ndFloor"&&Oe(A2)}const Ie=de=>{se(),De(),ct(de),$(de),ht(We)},se=()=>{Le.current.eachLayer(de=>{de instanceof Un.Marker&&Le.current.removeLayer(de)})},De=()=>{Le.current.eachLayer(de=>{de instanceof Un.Polyline&&Le.current.removeLayer(de)})};let be=[];const ct=de=>{be=Ci(de),Fe(Le.current,be)},Fe=(de,Te)=>{Te.forEach(Pt=>{Xe(Pt,de)})},Xe=(de,Te)=>{if(!Te){console.error("Map not defined. Cannot add marker.");return}function Pt(Ut){switch(Ut){case 1:Ie("science");break;case 2:Ie("science2");break}}if(Object.prototype.hasOwnProperty.call(de,"label")){const Ut=Un.marker([de.lat,de.lon]).addTo(Te);de.label==="leaveButton"&&(Ut.bindPopup(`Node ${de.id}`),Ut.setIcon(Un.icon({iconUrl:E2,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]})),Ut.on("click",()=>{se(),Ie(de.destination)})),de.label==="classroom"&&(Ut.bindPopup(`Node ${de.id}`),Ut.setIcon(Un.icon({iconUrl:v2,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}))),de.label==="elevator"&&(Ut.bindPopup(`Node ${de.id}`),Ut.setIcon(Un.icon({iconUrl:ed,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]})),Ut.on("click",()=>{let No=document.createElement("div");for(let mt=1;mt<=5;mt++){let fe=document.createElement("button");fe.textContent=mt,fe.addEventListener("click",()=>{Pt(mt)}),No.appendChild(fe)}Ut.getPopup().setContent(No),Ut.openPopup()}));let Gn="Your Current Location: ",$t="Your Destination: ",to=We[0],tr=We[We.length-1];de.id===to&&Ut.bindPopup(`<strong>${Gn}</strong> Room: ${de.roomID}`),de.id===tr&&(Ut.bindPopup(`<strong>${$t}</strong> Room: ${de.roomID}`),Ut.openPopup())}if(Object.prototype.hasOwnProperty.call(de,"title")){var yt=Un.latLng(de.lat,de.lon);Un.marker(yt,{icon:Un.divIcon({html:de.title,className:"text-below-marker"})}).addTo(Te)}Yt(We[0])},re=de=>be.find(Te=>Te.id===de),Yt=de=>{const Te=re(de);Te&&Le.current.flyTo([Te.lat,Te.lon],8,{duration:1,easeLinearity:.5})},ht=de=>{for(let Te=0;Te<de.length-1;Te++){const Pt=re(de[Te]),yt=re(de[Te+1]);Pt&&yt&&Fi(Le.current,Pt,yt)}},Fi=(de,Te,Pt)=>{const yt=[[Te.lat,Te.lon],[Pt.lat,Pt.lon]];Un.polyline(yt,{weight:"4",color:"red"}).addTo(de)};function Ci(de){let Te=[];return de=="science2ndFloor"?(Ui("Science Building 2nd Floor, PE Building 2nd Floor"),Te=[{id:0,lat:6.53,lon:.55,building:"science2ndFloor",label:"classroom"},{id:1,lat:6.15,lon:.55,building:"science2ndFloor",label:"classroom"},{id:2,lat:6.8,lon:1.08,building:"science2ndFloor",label:"classroom",roomID:"s213"},{id:2,lat:7.4,lon:.9,building:"science2ndFloor",title:"S213: CpECompLab"},{id:3,lat:6.53,lon:1.08,building:"science2ndFloor"},{id:6,lat:6.53,lon:1.9,building:"science2ndFloor"},{id:5,lat:6.3,lon:1.9,building:"science2ndFloor",label:"classroom"},{id:4,lat:6.8,lon:1.9,building:"science2ndFloor",label:"classroom"},{id:7,lat:6.53,lon:2.35,building:"science2ndFloor"},{id:8,lat:6.53,lon:2.48,building:"science2ndFloor"},{id:9,lat:6.3,lon:2.48,building:"science2ndFloor",label:"classroom"},{id:10,lat:6.53,lon:2.63,building:"science2ndFloor"},{id:14,lat:7.15,lon:2.63,building:"science2ndFloor",label:"classroom"},{id:11,lat:7.65,lon:2.35,building:"science2ndFloor",label:"classroom"},{id:12,lat:7.65,lon:2.63,building:"science2ndFloor"},{id:13,lat:7.49,lon:2.63,building:"science2ndFloor",label:"classroom"},{id:15,lat:6.8,lon:2.88,building:"science2ndFloor",label:"classroom"},{id:16,lat:6.53,lon:2.88,building:"science2ndFloor"},{id:19,lat:6.53,lon:3.4,building:"science2ndFloor"},{id:18,lat:6.8,lon:3.4,building:"science2ndFloor",label:"classroom"},{id:20,lat:6.3,lon:3.4,building:"science2ndFloor",label:"classroom"},{id:22,lat:6.53,lon:4.2,building:"science2ndFloor"},{id:23,lat:6.3,lon:4.2,building:"science2ndFloor",label:"classroom"},{id:21,lat:6.8,lon:4.2,building:"science2ndFloor",label:"classroom"},{id:24,lat:6.53,lon:4.73,building:"science2ndFloor"},{id:25,lat:7.82,lon:4.73,building:"science2ndFloor"},{id:26,lat:7.82,lon:4.825,building:"science2ndFloor",label:"classroom"},{id:27,lat:7.82,lon:4.6,building:"science2ndFloor",label:"classroom"},{id:28,lat:6.53,lon:5.4,building:"science2ndFloor"},{id:29,lat:6.8,lon:5.4,building:"science2ndFloor",label:"classroom"},{id:30,lat:6.3,lon:5.4,building:"science2ndFloor",label:"classroom"},{id:31,lat:6.53,lon:6.02,building:"science2ndFloor"},{id:33,lat:6.53,lon:6.4,building:"science2ndFloor"},{id:34,lat:6.53,lon:6.57,building:"science2ndFloor"},{id:32,lat:6.8,lon:6.4,building:"science2ndFloor",label:"classroom"},{id:35,lat:6.3,lon:6.57,building:"science2ndFloor",label:"classroom"},{id:37,lat:6.53,lon:6.9,building:"science2ndFloor"},{id:36,lat:6.8,lon:6.9,building:"science2ndFloor",label:"classroom"},{id:38,lat:6.53,lon:7.22,building:"science2ndFloor"},{id:39,lat:6.53,lon:7.5,building:"science2ndFloor"},{id:48,lat:5.1,lon:7.22,building:"science2ndFloor",label:"classroom"},{id:47,lat:5.6,lon:7.31,building:"science2ndFloor",label:"classroom"},{id:46,lat:6.05,lon:7.4,building:"science2ndFloor",label:"classroom"},{id:40,lat:6.8,lon:7.5,building:"science2ndFloor",label:"classroom"},{id:41,lat:6.53,lon:7.75,building:"science2ndFloor"},{id:42,lat:6.67,lon:7.75,building:"science2ndFloor",label:"classroom"},{id:45,lat:6.4,lon:7.795,building:"science2ndFloor",label:"classroom"},{id:43,lat:6.67,lon:8.04,building:"science2ndFloor",label:"classroom"},{id:44,lat:6.8,lon:8.04,building:"science2ndFloor",label:"classroom"},{id:49,lat:4.95,lon:6.02,building:"science2ndFloor"},{id:50,lat:4.95,lon:6.09,building:"science2ndFloor",label:"classroom"},{id:51,lat:4.2,lon:6.02,building:"science2ndFloor"},{id:52,lat:4.2,lon:6.09,building:"science2ndFloor",label:"classroom"},{id:53,lat:3.6,lon:6.02,building:"science2ndFloor"},{id:54,lat:3.35,lon:6.02,building:"science2ndFloor",label:"classroom"},{id:55,lat:3.6,lon:6.4,building:"science2ndFloor"},{id:56,lat:3.13,lon:6.4,building:"science2ndFloor",label:"classroom"},{id:57,lat:3.73,lon:6.4,building:"science2ndFloor"},{id:58,lat:3.71,lon:7.2,building:"science2ndFloor"},{id:59,lat:3.42,lon:7.2,building:"science2ndFloor",label:"classroom"},{id:60,lat:3.6,lon:5.65,building:"science2ndFloor",label:"classroom"},{id:61,lat:3.84,lon:5.65,building:"science2ndFloor",label:"classroom"},{id:62,lat:3.35,lon:5.35,building:"science2ndFloor",label:"classroom"},{id:63,lat:3.6,lon:5.65,building:"science2ndFloor"},{id:17,lat:3.6,lon:5.15,building:"science2ndFloor"},{id:64,lat:3.84,lon:5.15,building:"science2ndFloor",label:"classroom"},{id:66,lat:3.35,lon:4.75,building:"science2ndFloor",label:"classroom"},{id:82,lat:3.6,lon:5.35,building:"science2ndFloor"},{id:68,lat:3.84,lon:4.6,building:"science2ndFloor",label:"classroom"},{id:67,lat:3.6,lon:4.6,building:"science2ndFloor"},{id:65,lat:3.6,lon:4.75,building:"science2ndFloor"},{id:71,lat:3.35,lon:4,building:"science2ndFloor",label:"classroom"},{id:69,lat:3.6,lon:4,building:"science2ndFloor"},{id:70,lat:3.84,lon:4,building:"science2ndFloor",label:"classroom"},{id:73,lat:3.27,lon:3.43,building:"science2ndFloor",label:"classroom"},{id:75,lat:3.27,lon:3.145,building:"science2ndFloor",label:"classroom"},{id:74,lat:3.6,lon:3.145,building:"science2ndFloor"},{id:72,lat:3.6,lon:3.43,building:"science2ndFloor"},{id:76,lat:3.6,lon:2.88,building:"science2ndFloor"},{id:77,lat:3.15,lon:2.6,building:"science2ndFloor",label:"leaveButton",destination:"BRS2ndFloor"},{id:78,lat:4.2,lon:2.88,building:"science2ndFloor"},{id:79,lat:4.2,lon:2.94,building:"science2ndFloor",label:"classroom"},{id:80,lat:4.95,lon:2.88,building:"science2ndFloor"},{id:81,lat:4.95,lon:2.94,building:"science2ndFloor",label:"classroom"}]):de=="BRS2ndFloor"&&(Ui("BRS Building 2nd Floor"),Te=[{id:7,lat:1,lon:0,building:"science2"},{id:8,lat:2,lon:0,building:"science2"},{id:9,lat:3,lon:1,building:"science2"},{id:10,lat:4,lon:0,building:"science2",label:"leaveButton",cat:"exit",destination:"science2ndFloor"},{id:11,lat:5,lon:1,building:"science2"}]),Te}const Wt=["S123","S214","S215","S216","S217","S218","S219","S220"],si=de=>{const{value:Te}=de.target;s(Te),y(Te.trim().length>0)},Ke=de=>{const{value:Te}=de.target;f(Te),I(Te.trim().length>0)},Ei=(de,Te)=>{Te?(s(de),y(!1)):(f(de),I(!1))},Tn=de=>{de.preventDefault(),R?(We=td("enterDestination",n,c,D,Se),K=km("enterDestination",n,c,D,Se),Ie(K)):Q&&(We=td("enterFindFacility",n,le,D,Se),Ie("science"))},zi=Wt.filter(de=>de.toLowerCase().indexOf(n.toLowerCase())!==-1),Rt=Wt.filter(de=>de.toLowerCase().indexOf(c.toLowerCase())!==-1),[rt,qe]=qt.useState(""),er=de=>{const{value:Te}=de.target;qe(Te),Te==="Enter Destination"?(k(!0),ge(!1)):(k(!1),ge(!0))},[we,Ui]=qt.useState("");return Re.jsxs("div",{style:e,ref:w,children:[Re.jsx("div",{id:"reader",style:{display:he?"block":"none"}}),Re.jsx("div",{id:"result"}),Re.jsxs("div",{className:"sticky-div",children:[Re.jsx("div",{children:Re.jsxs("select",{value:rt,onChange:er,className:"pickButton",children:[Re.jsx("option",{defaultValue:"",children:"Choose Destination"}),Re.jsx("option",{value:"Enter Destination",children:"Enter Destination"}),Re.jsx("option",{value:"Find Closest Facility",children:"Find Closest Facility"})]})}),Re.jsx("div",{style:{display:R||Q?"block":"none"},children:Re.jsx("form",{children:Re.jsxs("div",{style:{display:"flex",borderBottom:"4px solid #0c380c"},children:[Re.jsxs("span",{style:{flex:"70%",background:"#0c380c"},children:[Re.jsxs("div",{style:{display:"flex"},children:[Re.jsx("div",{style:{flex:"100%"},children:Re.jsx("label",{children:Re.jsx("input",{className:"InputBox",placeholder:"Enter Your Current Location",type:"text",name:"currentPost",value:n,onChange:si})})}),Re.jsx("div",{children:Re.jsx("button",{className:"qrButton",onClick:Be,children:"QR"})})]}),g&&Re.jsx("ul",{className:"Suggestions",children:zi.map((de,Te)=>Re.jsx("li",{onClick:()=>Ei(de,!0),children:de},Te))}),Re.jsx("label",{children:Re.jsx("input",{className:"InputBox",placeholder:"Enter Your Destination",type:"text",name:"destination",value:c,onChange:Ke,style:{display:R?"block":"none"}})}),S&&Re.jsx("ul",{className:"Suggestions",children:Rt.map((de,Te)=>Re.jsx("li",{onClick:()=>Ei(de,!1),children:de},Te))}),Re.jsxs("select",{style:{display:R?"none":"block"},className:"InputBox",id:"selectFac",value:le,onChange:He,children:[Re.jsx("option",{children:"Select Facility"}),Re.jsx("option",{children:"cr"}),Re.jsx("option",{children:"Gymnasium"}),Re.jsx("option",{children:"test"}),Re.jsx("option",{children:"test"})]})]}),Re.jsx("span",{style:{flex:"30%",background:"#0c380c",borderLeft:"2px solid #0c380c",borderRight:"2px solid #0c380c",borderTop:"1px solid #0c380c"},children:Re.jsxs("div",{children:[Re.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[Re.jsxs("div",{className:`CheckboxDiv ${U?"clicked":""}`,onClick:ye,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:D,onChange:()=>{}}),Re.jsx("img",{src:ed,className:"checkbox-image",alt:"Elevator Logo"})]}),Re.jsxs("div",{className:`CheckboxDiv ${Se?"clicked":""}`,onClick:Ye,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"emer",checked:te,onChange:()=>{}}),Re.jsx("img",{src:Dm,className:"checkbox-image",alt:"Elevator Logo"})]})]}),Re.jsx("div",{children:Re.jsx("button",{title:"Locate",className:"Locatebuttons",onClick:Tn,children:" Locate"})})]})})]})})}),Re.jsx("div",{className:"currentPosition",style:{},children:Re.jsxs("h4",{style:{textAlign:"center",margin:"5px",opacity:"0.6",borderRadius:"60px"},children:[" ",we]})})]}),Re.jsx("div",{id:"map",style:{width:"100%",height:"1000px"}})]})}U0.propTypes={style:Lm.object};function S2(){return Re.jsx(Re.Fragment,{children:Re.jsx(U0,{})})}ku.createRoot(document.getElementById("root")).render(Re.jsx(mg.StrictMode,{children:Re.jsx(S2,{})}));
