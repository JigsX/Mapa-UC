function Z3(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},zc={},Mp={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=Symbol.for("react.element"),Y3=Symbol.for("react.portal"),X3=Symbol.for("react.fragment"),Q3=Symbol.for("react.strict_mode"),K3=Symbol.for("react.profiler"),q3=Symbol.for("react.provider"),$3=Symbol.for("react.context"),J3=Symbol.for("react.forward_ref"),eE=Symbol.for("react.suspense"),tE=Symbol.for("react.memo"),nE=Symbol.for("react.lazy"),c0=Symbol.iterator;function iE(t){return t===null||typeof t!="object"?null:(t=c0&&t[c0]||t["@@iterator"],typeof t=="function"?t:null)}var Lp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dp=Object.assign,Op={};function wa(t,e,n){this.props=t,this.context=e,this.refs=Op,this.updater=n||Lp}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pp(){}Pp.prototype=wa.prototype;function _1(t,e,n){this.props=t,this.context=e,this.refs=Op,this.updater=n||Lp}var E1=_1.prototype=new Pp;E1.constructor=_1;Dp(E1,wa.prototype);E1.isPureReactComponent=!0;var u0=Array.isArray,Fp=Object.prototype.hasOwnProperty,y1={current:null},Bp={key:!0,ref:!0,__self:!0,__source:!0};function kp(t,e,n){var o,l={},c=null,m=null;if(e!=null)for(o in e.ref!==void 0&&(m=e.ref),e.key!==void 0&&(c=""+e.key),e)Fp.call(e,o)&&!Bp.hasOwnProperty(o)&&(l[o]=e[o]);var v=arguments.length-2;if(v===1)l.children=n;else if(1<v){for(var C=Array(v),y=0;y<v;y++)C[y]=arguments[y+2];l.children=C}if(t&&t.defaultProps)for(o in v=t.defaultProps,v)l[o]===void 0&&(l[o]=v[o]);return{$$typeof:Kl,type:t,key:c,ref:m,props:l,_owner:y1.current}}function oE(t,e){return{$$typeof:Kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kl}function rE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h0=/\/+/g;function Eu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rE(""+t.key):e.toString(36)}function Bd(t,e,n,o,l){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var m=!1;if(t===null)m=!0;else switch(c){case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case Kl:case Y3:m=!0}}if(m)return m=t,l=l(m),t=o===""?"."+Eu(m,0):o,u0(l)?(n="",t!=null&&(n=t.replace(h0,"$&/")+"/"),Bd(l,e,n,"",function(y){return y})):l!=null&&(x1(l)&&(l=oE(l,n+(!l.key||m&&m.key===l.key?"":(""+l.key).replace(h0,"$&/")+"/")+t)),e.push(l)),1;if(m=0,o=o===""?".":o+":",u0(t))for(var v=0;v<t.length;v++){c=t[v];var C=o+Eu(c,v);m+=Bd(c,e,n,C,l)}else if(C=iE(t),typeof C=="function")for(t=C.call(t),v=0;!(c=t.next()).done;)c=c.value,C=o+Eu(c,v++),m+=Bd(c,e,n,C,l);else if(c==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return m}function Ed(t,e,n){if(t==null)return t;var o=[],l=0;return Bd(t,o,"","",function(c){return e.call(n,c,l++)}),o}function sE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ui={current:null},kd={transition:null},aE={ReactCurrentDispatcher:ui,ReactCurrentBatchConfig:kd,ReactCurrentOwner:y1};vt.Children={map:Ed,forEach:function(t,e,n){Ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ed(t,function(){e++}),e},toArray:function(t){return Ed(t,function(e){return e})||[]},only:function(t){if(!x1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=wa;vt.Fragment=X3;vt.Profiler=K3;vt.PureComponent=_1;vt.StrictMode=Q3;vt.Suspense=eE;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aE;vt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Dp({},t.props),l=t.key,c=t.ref,m=t._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,m=y1.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var v=t.type.defaultProps;for(C in e)Fp.call(e,C)&&!Bp.hasOwnProperty(C)&&(o[C]=e[C]===void 0&&v!==void 0?v[C]:e[C])}var C=arguments.length-2;if(C===1)o.children=n;else if(1<C){v=Array(C);for(var y=0;y<C;y++)v[y]=arguments[y+2];o.children=v}return{$$typeof:Kl,type:t.type,key:l,ref:c,props:o,_owner:m}};vt.createContext=function(t){return t={$$typeof:$3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:q3,_context:t},t.Consumer=t};vt.createElement=kp;vt.createFactory=function(t){var e=kp.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:J3,render:t}};vt.isValidElement=x1;vt.lazy=function(t){return{$$typeof:nE,_payload:{_status:-1,_result:t},_init:sE}};vt.memo=function(t,e){return{$$typeof:tE,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=kd.transition;kd.transition={};try{t()}finally{kd.transition=e}};vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vt.useCallback=function(t,e){return ui.current.useCallback(t,e)};vt.useContext=function(t){return ui.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return ui.current.useDeferredValue(t)};vt.useEffect=function(t,e){return ui.current.useEffect(t,e)};vt.useId=function(){return ui.current.useId()};vt.useImperativeHandle=function(t,e,n){return ui.current.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return ui.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return ui.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return ui.current.useMemo(t,e)};vt.useReducer=function(t,e,n){return ui.current.useReducer(t,e,n)};vt.useRef=function(t){return ui.current.useRef(t)};vt.useState=function(t){return ui.current.useState(t)};vt.useSyncExternalStore=function(t,e,n){return ui.current.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return ui.current.useTransition()};vt.version="18.2.0";Mp.exports=vt;var Gt=Mp.exports;const lE=kc(Gt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE=Gt,cE=Symbol.for("react.element"),uE=Symbol.for("react.fragment"),hE=Object.prototype.hasOwnProperty,fE=dE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gE={key:!0,ref:!0,__self:!0,__source:!0};function zp(t,e,n){var o,l={},c=null,m=null;n!==void 0&&(c=""+n),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(m=e.ref);for(o in e)hE.call(e,o)&&!gE.hasOwnProperty(o)&&(l[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)l[o]===void 0&&(l[o]=e[o]);return{$$typeof:cE,type:t,key:c,ref:m,props:l,_owner:fE.current}}zc.Fragment=uE;zc.jsx=zp;zc.jsxs=zp;Rp.exports=zc;var Re=Rp.exports,th={},Up={exports:{}},Ui={},Hp={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,Fe){var ce=te.length;te.push(Fe);e:for(;0<ce;){var He=ce-1>>>1,Ue=te[He];if(0<l(Ue,Fe))te[He]=Fe,te[ce]=Ue,ce=He;else break e}}function n(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var Fe=te[0],ce=te.pop();if(ce!==Fe){te[0]=ce;e:for(var He=0,Ue=te.length,Pt=Ue>>>1;He<Pt;){var Ze=2*(He+1)-1,ut=te[Ze],ie=Ze+1,ln=te[ie];if(0>l(ut,ce))ie<Ue&&0>l(ln,ut)?(te[He]=ln,te[ie]=ce,He=ie):(te[He]=ut,te[Ze]=ce,He=Ze);else if(ie<Ue&&0>l(ln,ce))te[He]=ln,te[ie]=ce,He=ie;else break e}}return Fe}function l(te,Fe){var ce=te.sortIndex-Fe.sortIndex;return ce!==0?ce:te.id-Fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var m=Date,v=m.now();t.unstable_now=function(){return m.now()-v}}var C=[],y=[],N=1,b=null,D=3,V=!1,X=!1,j=!1,ye=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(te){for(var Fe=n(y);Fe!==null;){if(Fe.callback===null)o(y);else if(Fe.startTime<=te)o(y),Fe.sortIndex=Fe.expirationTime,e(C,Fe);else break;Fe=n(y)}}function J(te){if(j=!1,B(te),!X)if(n(C)!==null)X=!0,ct(Ee);else{var Fe=n(y);Fe!==null&&ze(J,Fe.startTime-te)}}function Ee(te,Fe){X=!1,j&&(j=!1,W(ge),ge=-1),V=!0;var ce=D;try{for(B(Fe),b=n(C);b!==null&&(!(b.expirationTime>Fe)||te&&!$e());){var He=b.callback;if(typeof He=="function"){b.callback=null,D=b.priorityLevel;var Ue=He(b.expirationTime<=Fe);Fe=t.unstable_now(),typeof Ue=="function"?b.callback=Ue:b===n(C)&&o(C),B(Fe)}else o(C);b=n(C)}if(b!==null)var Pt=!0;else{var Ze=n(y);Ze!==null&&ze(J,Ze.startTime-Fe),Pt=!1}return Pt}finally{b=null,D=ce,V=!1}}var de=!1,K=null,ge=-1,ne=5,Pe=-1;function $e(){return!(t.unstable_now()-Pe<ne)}function Ae(){if(K!==null){var te=t.unstable_now();Pe=te;var Fe=!0;try{Fe=K(!0,te)}finally{Fe?ot():(de=!1,K=null)}}else de=!1}var ot;if(typeof F=="function")ot=function(){F(Ae)};else if(typeof MessageChannel<"u"){var At=new MessageChannel,ee=At.port2;At.port1.onmessage=Ae,ot=function(){ee.postMessage(null)}}else ot=function(){ye(Ae,0)};function ct(te){K=te,de||(de=!0,ot())}function ze(te,Fe){ge=ye(function(){te(t.unstable_now())},Fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){X||V||(X=!0,ct(Ee))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return n(C)},t.unstable_next=function(te){switch(D){case 1:case 2:case 3:var Fe=3;break;default:Fe=D}var ce=D;D=Fe;try{return te()}finally{D=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ce=D;D=te;try{return Fe()}finally{D=ce}},t.unstable_scheduleCallback=function(te,Fe,ce){var He=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?He+ce:He):ce=He,te){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ce+Ue,te={id:N++,callback:Fe,priorityLevel:te,startTime:ce,expirationTime:Ue,sortIndex:-1},ce>He?(te.sortIndex=ce,e(y,te),n(C)===null&&te===n(y)&&(j?(W(ge),ge=-1):j=!0,ze(J,ce-He))):(te.sortIndex=Ue,e(C,te),X||V||(X=!0,ct(Ee))),te},t.unstable_shouldYield=$e,t.unstable_wrapCallback=function(te){var Fe=D;return function(){var ce=D;D=Fe;try{return te.apply(this,arguments)}finally{D=ce}}}})(Wp);Hp.exports=Wp;var pE=Hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=Gt,zi=pE;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jp=new Set,Cl={};function Cs(t,e){ua(t,e),ua(t+"Capture",e)}function ua(t,e){for(Cl[t]=e,t=0;t<e.length;t++)jp.add(e[t])}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nh=Object.prototype.hasOwnProperty,mE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f0={},g0={};function _E(t){return nh.call(g0,t)?!0:nh.call(f0,t)?!1:mE.test(t)?g0[t]=!0:(f0[t]=!0,!1)}function EE(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yE(t,e,n,o){if(e===null||typeof e>"u"||EE(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(t,e,n,o,l,c,m){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=c,this.removeEmptyString=m}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function w1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v1,w1);jn[e]=new hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v1,w1);jn[e]=new hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v1,w1);jn[e]=new hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new hi(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function C1(t,e,n,o){var l=jn.hasOwnProperty(e)?jn[e]:null;(l!==null?l.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yE(e,n,l,o)&&(n=null),o||l===null?_E(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):l.mustUseProperty?t[l.propertyName]=n===null?l.type===3?!1:"":n:(e=l.attributeName,o=l.attributeNamespace,n===null?t.removeAttribute(e):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var tr=Vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),S1=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),A1=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),rh=Symbol.for("react.suspense_list"),T1=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),p0=Symbol.iterator;function Ga(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,yu;function sl(t){if(yu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yu=e&&e[1]||""}return`
`+yu+t}var xu=!1;function vu(t,e){if(!t||xu)return"";xu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(y){var o=y}Reflect.construct(t,[],e)}else{try{e.call()}catch(y){o=y}t.call(e.prototype)}else{try{throw Error()}catch(y){o=y}t()}}catch(y){if(y&&o&&typeof y.stack=="string"){for(var l=y.stack.split(`
`),c=o.stack.split(`
`),m=l.length-1,v=c.length-1;1<=m&&0<=v&&l[m]!==c[v];)v--;for(;1<=m&&0<=v;m--,v--)if(l[m]!==c[v]){if(m!==1||v!==1)do if(m--,v--,0>v||l[m]!==c[v]){var C=`
`+l[m].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=m&&0<=v);break}}}finally{xu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sl(t):""}function xE(t){switch(t.tag){case 5:return sl(t.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return t=vu(t.type,!1),t;case 11:return t=vu(t.type.render,!1),t;case 1:return t=vu(t.type,!0),t;default:return""}}function sh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case zs:return"Portal";case ih:return"Profiler";case S1:return"StrictMode";case oh:return"Suspense";case rh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zp:return(t.displayName||"Context")+".Consumer";case Gp:return(t._context.displayName||"Context")+".Provider";case A1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T1:return e=t.displayName||null,e!==null?e:sh(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return sh(t(e))}catch{}}return null}function vE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sh(e);case 8:return e===S1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wE(t){var e=Xp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(m){o=""+m,c.call(this,m)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xd(t){t._valueTracker||(t._valueTracker=wE(t))}function Qp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Xp(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ah(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m0(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kp(t,e){e=e.checked,e!=null&&C1(t,"checked",e,!1)}function lh(t,e){Kp(t,e);var n=Pr(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dh(t,e.type,n):e.hasOwnProperty("defaultValue")&&dh(t,e.type,Pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dh(t,e,n){(e!=="number"||Qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function ea(t,e,n,o){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Pr(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,o&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function ch(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(al(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pr(n)}}function qp(t,e){var n=Pr(e.value),o=Pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function y0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $p(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$p(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,Jp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,l){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,l)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CE=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){CE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function em(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function tm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,l=em(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,l):t[n]=l}}var SE=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hh(t,e){if(e){if(SE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function fh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=null;function I1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ph=null,ta=null,na=null;function x0(t){if(t=Jl(t)){if(typeof ph!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=jc(e),ph(t.stateNode,t.type,e))}}function nm(t){ta?na?na.push(t):na=[t]:ta=t}function im(){if(ta){var t=ta,e=na;if(na=ta=null,x0(t),e)for(t=0;t<e.length;t++)x0(e[t])}}function om(t,e){return t(e)}function rm(){}var wu=!1;function sm(t,e,n){if(wu)return t(e,n);wu=!0;try{return om(t,e,n)}finally{wu=!1,(ta!==null||na!==null)&&(rm(),im())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var o=jc(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var mh=!1;if(Ko)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){mh=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{mh=!1}function AE(t,e,n,o,l,c,m,v,C){var y=Array.prototype.slice.call(arguments,3);try{e.apply(n,y)}catch(N){this.onError(N)}}var ul=!1,Kd=null,qd=!1,_h=null,TE={onError:function(t){ul=!0,Kd=t}};function IE(t,e,n,o,l,c,m,v,C){ul=!1,Kd=null,AE.apply(TE,arguments)}function bE(t,e,n,o,l,c,m,v,C){if(IE.apply(this,arguments),ul){if(ul){var y=Kd;ul=!1,Kd=null}else throw Error(fe(198));qd||(qd=!0,_h=y)}}function Ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function am(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v0(t){if(Ss(t)!==t)throw Error(fe(188))}function NE(t){var e=t.alternate;if(!e){if(e=Ss(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,o=e;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(o=l.return,o!==null){n=o;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return v0(l),t;if(c===o)return v0(l),e;c=c.sibling}throw Error(fe(188))}if(n.return!==o.return)n=l,o=c;else{for(var m=!1,v=l.child;v;){if(v===n){m=!0,n=l,o=c;break}if(v===o){m=!0,o=l,n=c;break}v=v.sibling}if(!m){for(v=c.child;v;){if(v===n){m=!0,n=c,o=l;break}if(v===o){m=!0,o=c,n=l;break}v=v.sibling}if(!m)throw Error(fe(189))}}if(n.alternate!==o)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function lm(t){return t=NE(t),t!==null?dm(t):null}function dm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dm(t);if(e!==null)return e;t=t.sibling}return null}var cm=zi.unstable_scheduleCallback,w0=zi.unstable_cancelCallback,RE=zi.unstable_shouldYield,ME=zi.unstable_requestPaint,En=zi.unstable_now,LE=zi.unstable_getCurrentPriorityLevel,b1=zi.unstable_ImmediatePriority,um=zi.unstable_UserBlockingPriority,$d=zi.unstable_NormalPriority,DE=zi.unstable_LowPriority,hm=zi.unstable_IdlePriority,Uc=null,Ro=null;function OE(t){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var po=Math.clz32?Math.clz32:BE,PE=Math.log,FE=Math.LN2;function BE(t){return t>>>=0,t===0?32:31-(PE(t)/FE|0)|0}var wd=64,Cd=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,l=t.suspendedLanes,c=t.pingedLanes,m=n&268435455;if(m!==0){var v=m&~l;v!==0?o=ll(v):(c&=m,c!==0&&(o=ll(c)))}else m=n&~l,m!==0?o=ll(m):c!==0&&(o=ll(c));if(o===0)return 0;if(e!==0&&e!==o&&!(e&l)&&(l=o&-o,c=e&-e,l>=c||l===16&&(c&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-po(e),l=1<<n,o|=t[n],e&=~l;return o}function kE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zE(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,l=t.expirationTimes,c=t.pendingLanes;0<c;){var m=31-po(c),v=1<<m,C=l[m];C===-1?(!(v&n)||v&o)&&(l[m]=kE(v,e)):C<=e&&(t.expiredLanes|=v),c&=~v}}function Eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fm(){var t=wd;return wd<<=1,!(wd&4194240)&&(wd=64),t}function Cu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-po(e),t[e]=n}function UE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var l=31-po(n),c=1<<l;e[l]=0,o[l]=-1,t[l]=-1,n&=~c}}function N1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-po(n),l=1<<o;l&e|t[o]&e&&(t[o]|=e),n&=~l}}var zt=0;function gm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pm,R1,mm,_m,Em,yh=!1,Sd=[],Sr=null,Ar=null,Tr=null,Tl=new Map,Il=new Map,xr=[],HE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(t,e){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Ya(t,e,n,o,l,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:c,targetContainers:[l]},e!==null&&(e=Jl(e),e!==null&&R1(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function WE(t,e,n,o,l){switch(e){case"focusin":return Sr=Ya(Sr,t,e,n,o,l),!0;case"dragenter":return Ar=Ya(Ar,t,e,n,o,l),!0;case"mouseover":return Tr=Ya(Tr,t,e,n,o,l),!0;case"pointerover":var c=l.pointerId;return Tl.set(c,Ya(Tl.get(c)||null,t,e,n,o,l)),!0;case"gotpointercapture":return c=l.pointerId,Il.set(c,Ya(Il.get(c)||null,t,e,n,o,l)),!0}return!1}function ym(t){var e=ss(t.target);if(e!==null){var n=Ss(e);if(n!==null){if(e=n.tag,e===13){if(e=am(n),e!==null){t.blockedOn=e,Em(t.priority,function(){mm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);gh=o,n.target.dispatchEvent(o),gh=null}else return e=Jl(n),e!==null&&R1(e),t.blockedOn=n,!1;e.shift()}return!0}function S0(t,e,n){zd(t)&&n.delete(e)}function VE(){yh=!1,Sr!==null&&zd(Sr)&&(Sr=null),Ar!==null&&zd(Ar)&&(Ar=null),Tr!==null&&zd(Tr)&&(Tr=null),Tl.forEach(S0),Il.forEach(S0)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,yh||(yh=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,VE)))}function bl(t){function e(l){return Xa(l,t)}if(0<Sd.length){Xa(Sd[0],t);for(var n=1;n<Sd.length;n++){var o=Sd[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Sr!==null&&Xa(Sr,t),Ar!==null&&Xa(Ar,t),Tr!==null&&Xa(Tr,t),Tl.forEach(e),Il.forEach(e),n=0;n<xr.length;n++)o=xr[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<xr.length&&(n=xr[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&xr.shift()}var ia=tr.ReactCurrentBatchConfig,ec=!0;function jE(t,e,n,o){var l=zt,c=ia.transition;ia.transition=null;try{zt=1,M1(t,e,n,o)}finally{zt=l,ia.transition=c}}function GE(t,e,n,o){var l=zt,c=ia.transition;ia.transition=null;try{zt=4,M1(t,e,n,o)}finally{zt=l,ia.transition=c}}function M1(t,e,n,o){if(ec){var l=xh(t,e,n,o);if(l===null)Du(t,e,o,tc,n),C0(t,o);else if(WE(l,t,e,n,o))o.stopPropagation();else if(C0(t,o),e&4&&-1<HE.indexOf(t)){for(;l!==null;){var c=Jl(l);if(c!==null&&pm(c),c=xh(t,e,n,o),c===null&&Du(t,e,o,tc,n),c===l)break;l=c}l!==null&&o.stopPropagation()}else Du(t,e,o,null,n)}}var tc=null;function xh(t,e,n,o){if(tc=null,t=I1(o),t=ss(t),t!==null)if(e=Ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=am(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tc=t,null}function xm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LE()){case b1:return 1;case um:return 4;case $d:case DE:return 16;case hm:return 536870912;default:return 16}default:return 16}}var wr=null,L1=null,Ud=null;function vm(){if(Ud)return Ud;var t,e=L1,n=e.length,o,l="value"in wr?wr.value:wr.textContent,c=l.length;for(t=0;t<n&&e[t]===l[t];t++);var m=n-t;for(o=1;o<=m&&e[n-o]===l[c-o];o++);return Ud=l.slice(t,1<o?1-o:void 0)}function Hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ad(){return!0}function A0(){return!1}function Hi(t){function e(n,o,l,c,m){this._reactName=n,this._targetInst=l,this.type=o,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(n=t[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ad:A0,this.isPropagationStopped=A0,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),e}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D1=Hi(Ca),$l=fn({},Ca,{view:0,detail:0}),ZE=Hi($l),Su,Au,Qa,Hc=fn({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(Su=t.screenX-Qa.screenX,Au=t.screenY-Qa.screenY):Au=Su=0,Qa=t),Su)},movementY:function(t){return"movementY"in t?t.movementY:Au}}),T0=Hi(Hc),YE=fn({},Hc,{dataTransfer:0}),XE=Hi(YE),QE=fn({},$l,{relatedTarget:0}),Tu=Hi(QE),KE=fn({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),qE=Hi(KE),$E=fn({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JE=Hi($E),e4=fn({},Ca,{data:0}),I0=Hi(e4),t4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=i4[t])?!!e[t]:!1}function O1(){return o4}var r4=fn({},$l,{key:function(t){if(t.key){var e=t4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O1,charCode:function(t){return t.type==="keypress"?Hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s4=Hi(r4),a4=fn({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=Hi(a4),l4=fn({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O1}),d4=Hi(l4),c4=fn({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),u4=Hi(c4),h4=fn({},Hc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f4=Hi(h4),g4=[9,13,27,32],P1=Ko&&"CompositionEvent"in window,hl=null;Ko&&"documentMode"in document&&(hl=document.documentMode);var p4=Ko&&"TextEvent"in window&&!hl,wm=Ko&&(!P1||hl&&8<hl&&11>=hl),N0=" ",R0=!1;function Cm(t,e){switch(t){case"keyup":return g4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function m4(t,e){switch(t){case"compositionend":return Sm(e);case"keypress":return e.which!==32?null:(R0=!0,N0);case"textInput":return t=e.data,t===N0&&R0?null:t;default:return null}}function _4(t,e){if(Hs)return t==="compositionend"||!P1&&Cm(t,e)?(t=vm(),Ud=L1=wr=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wm&&e.locale!=="ko"?null:e.data;default:return null}}var E4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E4[t.type]:e==="textarea"}function Am(t,e,n,o){nm(o),e=nc(e,"onChange"),0<e.length&&(n=new D1("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var fl=null,Nl=null;function y4(t){Fm(t,0)}function Wc(t){var e=js(t);if(Qp(e))return t}function x4(t,e){if(t==="change")return e}var Tm=!1;if(Ko){var Iu;if(Ko){var bu="oninput"in document;if(!bu){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),bu=typeof L0.oninput=="function"}Iu=bu}else Iu=!1;Tm=Iu&&(!document.documentMode||9<document.documentMode)}function D0(){fl&&(fl.detachEvent("onpropertychange",Im),Nl=fl=null)}function Im(t){if(t.propertyName==="value"&&Wc(Nl)){var e=[];Am(e,Nl,t,I1(t)),sm(y4,e)}}function v4(t,e,n){t==="focusin"?(D0(),fl=e,Nl=n,fl.attachEvent("onpropertychange",Im)):t==="focusout"&&D0()}function w4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(Nl)}function C4(t,e){if(t==="click")return Wc(e)}function S4(t,e){if(t==="input"||t==="change")return Wc(e)}function A4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Eo=typeof Object.is=="function"?Object.is:A4;function Rl(t,e){if(Eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!nh.call(e,l)||!Eo(t[l],e[l]))return!1}return!0}function O0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P0(t,e){var n=O0(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O0(n)}}function bm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nm(){for(var t=window,e=Qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qd(t.document)}return e}function F1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T4(t){var e=Nm(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bm(n.ownerDocument.documentElement,n)){if(o!==null&&F1(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var l=n.textContent.length,c=Math.min(o.start,l);o=o.end===void 0?c:Math.min(o.end,l),!t.extend&&c>o&&(l=o,o=c,c=l),l=P0(n,c);var m=P0(n,o);l&&m&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(e=e.createRange(),e.setStart(l.node,l.offset),t.removeAllRanges(),c>o?(t.addRange(e),t.extend(m.node,m.offset)):(e.setEnd(m.node,m.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I4=Ko&&"documentMode"in document&&11>=document.documentMode,Ws=null,vh=null,gl=null,wh=!1;function F0(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wh||Ws==null||Ws!==Qd(o)||(o=Ws,"selectionStart"in o&&F1(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),gl&&Rl(gl,o)||(gl=o,o=nc(vh,"onSelect"),0<o.length&&(e=new D1("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=Ws)))}function Td(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Nu={},Rm={};Ko&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Vc(t){if(Nu[t])return Nu[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rm)return Nu[t]=e[n];return t}var Mm=Vc("animationend"),Lm=Vc("animationiteration"),Dm=Vc("animationstart"),Om=Vc("transitionend"),Pm=new Map,B0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){Pm.set(t,e),Cs(e,[t])}for(var Ru=0;Ru<B0.length;Ru++){var Mu=B0[Ru],b4=Mu.toLowerCase(),N4=Mu[0].toUpperCase()+Mu.slice(1);Ur(b4,"on"+N4)}Ur(Mm,"onAnimationEnd");Ur(Lm,"onAnimationIteration");Ur(Dm,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(Om,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function k0(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,bE(o,e,void 0,t),t.currentTarget=null}function Fm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],l=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var m=o.length-1;0<=m;m--){var v=o[m],C=v.instance,y=v.currentTarget;if(v=v.listener,C!==c&&l.isPropagationStopped())break e;k0(l,v,y),c=C}else for(m=0;m<o.length;m++){if(v=o[m],C=v.instance,y=v.currentTarget,v=v.listener,C!==c&&l.isPropagationStopped())break e;k0(l,v,y),c=C}}}if(qd)throw t=_h,qd=!1,_h=null,t}function tn(t,e){var n=e[Ih];n===void 0&&(n=e[Ih]=new Set);var o=t+"__bubble";n.has(o)||(Bm(e,t,2,!1),n.add(o))}function Lu(t,e,n){var o=0;e&&(o|=4),Bm(n,t,o,e)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[Id]){t[Id]=!0,jp.forEach(function(n){n!=="selectionchange"&&(R4.has(n)||Lu(n,!1,t),Lu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Id]||(e[Id]=!0,Lu("selectionchange",!1,e))}}function Bm(t,e,n,o){switch(xm(e)){case 1:var l=jE;break;case 4:l=GE;break;default:l=M1}n=l.bind(null,e,n,t),l=void 0,!mh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),o?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Du(t,e,n,o,l){var c=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var v=o.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(m===4)for(m=o.return;m!==null;){var C=m.tag;if((C===3||C===4)&&(C=m.stateNode.containerInfo,C===l||C.nodeType===8&&C.parentNode===l))return;m=m.return}for(;v!==null;){if(m=ss(v),m===null)return;if(C=m.tag,C===5||C===6){o=c=m;continue e}v=v.parentNode}}o=o.return}sm(function(){var y=c,N=I1(n),b=[];e:{var D=Pm.get(t);if(D!==void 0){var V=D1,X=t;switch(t){case"keypress":if(Hd(n)===0)break e;case"keydown":case"keyup":V=s4;break;case"focusin":X="focus",V=Tu;break;case"focusout":X="blur",V=Tu;break;case"beforeblur":case"afterblur":V=Tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=T0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=XE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=d4;break;case Mm:case Lm:case Dm:V=qE;break;case Om:V=u4;break;case"scroll":V=ZE;break;case"wheel":V=f4;break;case"copy":case"cut":case"paste":V=JE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=b0}var j=(e&4)!==0,ye=!j&&t==="scroll",W=j?D!==null?D+"Capture":null:D;j=[];for(var F=y,B;F!==null;){B=F;var J=B.stateNode;if(B.tag===5&&J!==null&&(B=J,W!==null&&(J=Al(F,W),J!=null&&j.push(Ll(F,J,B)))),ye)break;F=F.return}0<j.length&&(D=new V(D,X,null,n,N),b.push({event:D,listeners:j}))}}if(!(e&7)){e:{if(D=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",D&&n!==gh&&(X=n.relatedTarget||n.fromElement)&&(ss(X)||X[qo]))break e;if((V||D)&&(D=N.window===N?N:(D=N.ownerDocument)?D.defaultView||D.parentWindow:window,V?(X=n.relatedTarget||n.toElement,V=y,X=X?ss(X):null,X!==null&&(ye=Ss(X),X!==ye||X.tag!==5&&X.tag!==6)&&(X=null)):(V=null,X=y),V!==X)){if(j=T0,J="onMouseLeave",W="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(j=b0,J="onPointerLeave",W="onPointerEnter",F="pointer"),ye=V==null?D:js(V),B=X==null?D:js(X),D=new j(J,F+"leave",V,n,N),D.target=ye,D.relatedTarget=B,J=null,ss(N)===y&&(j=new j(W,F+"enter",X,n,N),j.target=B,j.relatedTarget=ye,J=j),ye=J,V&&X)t:{for(j=V,W=X,F=0,B=j;B;B=Fs(B))F++;for(B=0,J=W;J;J=Fs(J))B++;for(;0<F-B;)j=Fs(j),F--;for(;0<B-F;)W=Fs(W),B--;for(;F--;){if(j===W||W!==null&&j===W.alternate)break t;j=Fs(j),W=Fs(W)}j=null}else j=null;V!==null&&z0(b,D,V,j,!1),X!==null&&ye!==null&&z0(b,ye,X,j,!0)}}e:{if(D=y?js(y):window,V=D.nodeName&&D.nodeName.toLowerCase(),V==="select"||V==="input"&&D.type==="file")var Ee=x4;else if(M0(D))if(Tm)Ee=S4;else{Ee=w4;var de=v4}else(V=D.nodeName)&&V.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Ee=C4);if(Ee&&(Ee=Ee(t,y))){Am(b,Ee,n,N);break e}de&&de(t,D,y),t==="focusout"&&(de=D._wrapperState)&&de.controlled&&D.type==="number"&&dh(D,"number",D.value)}switch(de=y?js(y):window,t){case"focusin":(M0(de)||de.contentEditable==="true")&&(Ws=de,vh=y,gl=null);break;case"focusout":gl=vh=Ws=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,F0(b,n,N);break;case"selectionchange":if(I4)break;case"keydown":case"keyup":F0(b,n,N)}var K;if(P1)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Hs?Cm(t,n)&&(ge="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(wm&&n.locale!=="ko"&&(Hs||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Hs&&(K=vm()):(wr=N,L1="value"in wr?wr.value:wr.textContent,Hs=!0)),de=nc(y,ge),0<de.length&&(ge=new I0(ge,t,null,n,N),b.push({event:ge,listeners:de}),K?ge.data=K:(K=Sm(n),K!==null&&(ge.data=K)))),(K=p4?m4(t,n):_4(t,n))&&(y=nc(y,"onBeforeInput"),0<y.length&&(N=new I0("onBeforeInput","beforeinput",null,n,N),b.push({event:N,listeners:y}),N.data=K))}Fm(b,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nc(t,e){for(var n=e+"Capture",o=[];t!==null;){var l=t,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Al(t,n),c!=null&&o.unshift(Ll(t,c,l)),c=Al(t,e),c!=null&&o.push(Ll(t,c,l))),t=t.return}return o}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,o,l){for(var c=e._reactName,m=[];n!==null&&n!==o;){var v=n,C=v.alternate,y=v.stateNode;if(C!==null&&C===o)break;v.tag===5&&y!==null&&(v=y,l?(C=Al(n,c),C!=null&&m.unshift(Ll(n,C,v))):l||(C=Al(n,c),C!=null&&m.push(Ll(n,C,v)))),n=n.return}m.length!==0&&t.push({event:e,listeners:m})}var M4=/\r\n?/g,L4=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(M4,`
`).replace(L4,"")}function bd(t,e,n){if(e=U0(e),U0(t)!==e&&n)throw Error(fe(425))}function ic(){}var Ch=null,Sh=null;function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Th=typeof setTimeout=="function"?setTimeout:void 0,D4=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,O4=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(P4)}:Th;function P4(t){setTimeout(function(){throw t})}function Ou(t,e){var n=e,o=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(o===0){t.removeChild(l),bl(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=l}while(n);bl(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),No="__reactFiber$"+Sa,Dl="__reactProps$"+Sa,qo="__reactContainer$"+Sa,Ih="__reactEvents$"+Sa,F4="__reactListeners$"+Sa,B4="__reactHandles$"+Sa;function ss(t){var e=t[No];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qo]||n[No]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[No])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[No]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function jc(t){return t[Dl]||null}var bh=[],Gs=-1;function Hr(t){return{current:t}}function rn(t){0>Gs||(t.current=bh[Gs],bh[Gs]=null,Gs--)}function qt(t,e){Gs++,bh[Gs]=t.current,t.current=e}var Fr={},ni=Hr(Fr),vi=Hr(!1),fs=Fr;function ha(t,e){var n=t.type.contextTypes;if(!n)return Fr;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=e[c];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function wi(t){return t=t.childContextTypes,t!=null}function oc(){rn(vi),rn(ni)}function V0(t,e,n){if(ni.current!==Fr)throw Error(fe(168));qt(ni,e),qt(vi,n)}function km(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var l in o)if(!(l in e))throw Error(fe(108,vE(t)||"Unknown",l));return fn({},n,o)}function rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,fs=ni.current,qt(ni,t),qt(vi,vi.current),!0}function j0(t,e,n){var o=t.stateNode;if(!o)throw Error(fe(169));n?(t=km(t,e,fs),o.__reactInternalMemoizedMergedChildContext=t,rn(vi),rn(ni),qt(ni,t)):rn(vi),qt(vi,n)}var Vo=null,Gc=!1,Pu=!1;function zm(t){Vo===null?Vo=[t]:Vo.push(t)}function k4(t){Gc=!0,zm(t)}function Wr(){if(!Pu&&Vo!==null){Pu=!0;var t=0,e=zt;try{var n=Vo;for(zt=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}Vo=null,Gc=!1}catch(l){throw Vo!==null&&(Vo=Vo.slice(t+1)),cm(b1,Wr),l}finally{zt=e,Pu=!1}}return null}var Zs=[],Ys=0,sc=null,ac=0,Xi=[],Qi=0,gs=null,jo=1,Go="";function ns(t,e){Zs[Ys++]=ac,Zs[Ys++]=sc,sc=t,ac=e}function Um(t,e,n){Xi[Qi++]=jo,Xi[Qi++]=Go,Xi[Qi++]=gs,gs=t;var o=jo;t=Go;var l=32-po(o)-1;o&=~(1<<l),n+=1;var c=32-po(e)+l;if(30<c){var m=l-l%5;c=(o&(1<<m)-1).toString(32),o>>=m,l-=m,jo=1<<32-po(e)+l|n<<l|o,Go=c+t}else jo=1<<c|n<<l|o,Go=t}function B1(t){t.return!==null&&(ns(t,1),Um(t,1,0))}function k1(t){for(;t===sc;)sc=Zs[--Ys],Zs[Ys]=null,ac=Zs[--Ys],Zs[Ys]=null;for(;t===gs;)gs=Xi[--Qi],Xi[Qi]=null,Go=Xi[--Qi],Xi[Qi]=null,jo=Xi[--Qi],Xi[Qi]=null}var Bi=null,Fi=null,an=!1,uo=null;function Hm(t,e){var n=Ki(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bi=t,Fi=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bi=t,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gs!==null?{id:jo,overflow:Go}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ki(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bi=t,Fi=null,!0):!1;default:return!1}}function Nh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rh(t){if(an){var e=Fi;if(e){var n=e;if(!G0(t,e)){if(Nh(t))throw Error(fe(418));e=Ir(n.nextSibling);var o=Bi;e&&G0(t,e)?Hm(o,n):(t.flags=t.flags&-4097|2,an=!1,Bi=t)}}else{if(Nh(t))throw Error(fe(418));t.flags=t.flags&-4097|2,an=!1,Bi=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bi=t}function Nd(t){if(t!==Bi)return!1;if(!an)return Z0(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ah(t.type,t.memoizedProps)),e&&(e=Fi)){if(Nh(t))throw Wm(),Error(fe(418));for(;e;)Hm(t,e),e=Ir(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fi=Ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fi=null}}else Fi=Bi?Ir(t.stateNode.nextSibling):null;return!0}function Wm(){for(var t=Fi;t;)t=Ir(t.nextSibling)}function fa(){Fi=Bi=null,an=!1}function z1(t){uo===null?uo=[t]:uo.push(t)}var z4=tr.ReactCurrentBatchConfig;function ao(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lc=Hr(null),dc=null,Xs=null,U1=null;function H1(){U1=Xs=dc=null}function W1(t){var e=lc.current;rn(lc),t._currentValue=e}function Mh(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function oa(t,e){dc=t,U1=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ei=!0),t.firstContext=null)}function $i(t){var e=t._currentValue;if(U1!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(dc===null)throw Error(fe(308));Xs=t,dc.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var as=null;function V1(t){as===null?as=[t]:as.push(t)}function Vm(t,e,n,o){var l=e.interleaved;return l===null?(n.next=n,V1(e)):(n.next=l.next,l.next=n),e.interleaved=n,$o(t,o)}function $o(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yr=!1;function j1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,bt&2){var l=o.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),o.pending=e,$o(t,n)}return l=o.interleaved,l===null?(e.next=e,V1(o)):(e.next=l.next,l.next=e),o.interleaved=e,$o(t,n)}function Wd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,N1(t,n)}}function Y0(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=m:c=c.next=m,n=n.next}while(n!==null);c===null?l=c=e:c=c.next=e}else l=c=e;n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cc(t,e,n,o){var l=t.updateQueue;yr=!1;var c=l.firstBaseUpdate,m=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var C=v,y=C.next;C.next=null,m===null?c=y:m.next=y,m=C;var N=t.alternate;N!==null&&(N=N.updateQueue,v=N.lastBaseUpdate,v!==m&&(v===null?N.firstBaseUpdate=y:v.next=y,N.lastBaseUpdate=C))}if(c!==null){var b=l.baseState;m=0,N=y=C=null,v=c;do{var D=v.lane,V=v.eventTime;if((o&D)===D){N!==null&&(N=N.next={eventTime:V,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var X=t,j=v;switch(D=e,V=n,j.tag){case 1:if(X=j.payload,typeof X=="function"){b=X.call(V,b,D);break e}b=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=j.payload,D=typeof X=="function"?X.call(V,b,D):X,D==null)break e;b=fn({},b,D);break e;case 2:yr=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,D=l.effects,D===null?l.effects=[v]:D.push(v))}else V={eventTime:V,lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},N===null?(y=N=V,C=b):N=N.next=V,m|=D;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;D=v,v=D.next,D.next=null,l.lastBaseUpdate=D,l.shared.pending=null}}while(!0);if(N===null&&(C=b),l.baseState=C,l.firstBaseUpdate=y,l.lastBaseUpdate=N,e=l.shared.interleaved,e!==null){l=e;do m|=l.lane,l=l.next;while(l!==e)}else c===null&&(l.shared.lanes=0);ms|=m,t.lanes=m,t.memoizedState=b}}function X0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],l=o.callback;if(l!==null){if(o.callback=null,o=n,typeof l!="function")throw Error(fe(191,l));l.call(o)}}}var Gm=new Vp.Component().refs;function Lh(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zc={isMounted:function(t){return(t=t._reactInternals)?Ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=ci(),l=Rr(t),c=Xo(o,l);c.payload=e,n!=null&&(c.callback=n),e=br(t,c,l),e!==null&&(mo(e,t,l,o),Wd(e,t,l))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=ci(),l=Rr(t),c=Xo(o,l);c.tag=1,c.payload=e,n!=null&&(c.callback=n),e=br(t,c,l),e!==null&&(mo(e,t,l,o),Wd(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ci(),o=Rr(t),l=Xo(n,o);l.tag=2,e!=null&&(l.callback=e),e=br(t,l,o),e!==null&&(mo(e,t,o,n),Wd(e,t,o))}};function Q0(t,e,n,o,l,c,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,c,m):e.prototype&&e.prototype.isPureReactComponent?!Rl(n,o)||!Rl(l,c):!0}function Zm(t,e,n){var o=!1,l=Fr,c=e.contextType;return typeof c=="object"&&c!==null?c=$i(c):(l=wi(e)?fs:ni.current,o=e.contextTypes,c=(o=o!=null)?ha(t,l):Fr),e=new e(n,c),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zc,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=c),e}function K0(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&Zc.enqueueReplaceState(e,e.state,null)}function Dh(t,e,n,o){var l=t.stateNode;l.props=n,l.state=t.memoizedState,l.refs=Gm,j1(t);var c=e.contextType;typeof c=="object"&&c!==null?l.context=$i(c):(c=wi(e)?fs:ni.current,l.context=ha(t,c)),l.state=t.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(Lh(t,e,c,n),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&Zc.enqueueReplaceState(l,l.state,null),cc(t,n,l,o),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var o=n.stateNode}if(!o)throw Error(fe(147,t));var l=o,c=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(m){var v=l.refs;v===Gm&&(v=l.refs={}),m===null?delete v[c]:v[c]=m},e._stringRef=c,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q0(t){var e=t._init;return e(t._payload)}function Ym(t){function e(W,F){if(t){var B=W.deletions;B===null?(W.deletions=[F],W.flags|=16):B.push(F)}}function n(W,F){if(!t)return null;for(;F!==null;)e(W,F),F=F.sibling;return null}function o(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function l(W,F){return W=Mr(W,F),W.index=0,W.sibling=null,W}function c(W,F,B){return W.index=B,t?(B=W.alternate,B!==null?(B=B.index,B<F?(W.flags|=2,F):B):(W.flags|=2,F)):(W.flags|=1048576,F)}function m(W){return t&&W.alternate===null&&(W.flags|=2),W}function v(W,F,B,J){return F===null||F.tag!==6?(F=Wu(B,W.mode,J),F.return=W,F):(F=l(F,B),F.return=W,F)}function C(W,F,B,J){var Ee=B.type;return Ee===Us?N(W,F,B.props.children,J,B.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Er&&q0(Ee)===F.type)?(J=l(F,B.props),J.ref=Ka(W,F,B),J.return=W,J):(J=Xd(B.type,B.key,B.props,null,W.mode,J),J.ref=Ka(W,F,B),J.return=W,J)}function y(W,F,B,J){return F===null||F.tag!==4||F.stateNode.containerInfo!==B.containerInfo||F.stateNode.implementation!==B.implementation?(F=Vu(B,W.mode,J),F.return=W,F):(F=l(F,B.children||[]),F.return=W,F)}function N(W,F,B,J,Ee){return F===null||F.tag!==7?(F=us(B,W.mode,J,Ee),F.return=W,F):(F=l(F,B),F.return=W,F)}function b(W,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Wu(""+F,W.mode,B),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case yd:return B=Xd(F.type,F.key,F.props,null,W.mode,B),B.ref=Ka(W,null,F),B.return=W,B;case zs:return F=Vu(F,W.mode,B),F.return=W,F;case Er:var J=F._init;return b(W,J(F._payload),B)}if(al(F)||Ga(F))return F=us(F,W.mode,B,null),F.return=W,F;Rd(W,F)}return null}function D(W,F,B,J){var Ee=F!==null?F.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ee!==null?null:v(W,F,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case yd:return B.key===Ee?C(W,F,B,J):null;case zs:return B.key===Ee?y(W,F,B,J):null;case Er:return Ee=B._init,D(W,F,Ee(B._payload),J)}if(al(B)||Ga(B))return Ee!==null?null:N(W,F,B,J,null);Rd(W,B)}return null}function V(W,F,B,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number")return W=W.get(B)||null,v(F,W,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case yd:return W=W.get(J.key===null?B:J.key)||null,C(F,W,J,Ee);case zs:return W=W.get(J.key===null?B:J.key)||null,y(F,W,J,Ee);case Er:var de=J._init;return V(W,F,B,de(J._payload),Ee)}if(al(J)||Ga(J))return W=W.get(B)||null,N(F,W,J,Ee,null);Rd(F,J)}return null}function X(W,F,B,J){for(var Ee=null,de=null,K=F,ge=F=0,ne=null;K!==null&&ge<B.length;ge++){K.index>ge?(ne=K,K=null):ne=K.sibling;var Pe=D(W,K,B[ge],J);if(Pe===null){K===null&&(K=ne);break}t&&K&&Pe.alternate===null&&e(W,K),F=c(Pe,F,ge),de===null?Ee=Pe:de.sibling=Pe,de=Pe,K=ne}if(ge===B.length)return n(W,K),an&&ns(W,ge),Ee;if(K===null){for(;ge<B.length;ge++)K=b(W,B[ge],J),K!==null&&(F=c(K,F,ge),de===null?Ee=K:de.sibling=K,de=K);return an&&ns(W,ge),Ee}for(K=o(W,K);ge<B.length;ge++)ne=V(K,W,ge,B[ge],J),ne!==null&&(t&&ne.alternate!==null&&K.delete(ne.key===null?ge:ne.key),F=c(ne,F,ge),de===null?Ee=ne:de.sibling=ne,de=ne);return t&&K.forEach(function($e){return e(W,$e)}),an&&ns(W,ge),Ee}function j(W,F,B,J){var Ee=Ga(B);if(typeof Ee!="function")throw Error(fe(150));if(B=Ee.call(B),B==null)throw Error(fe(151));for(var de=Ee=null,K=F,ge=F=0,ne=null,Pe=B.next();K!==null&&!Pe.done;ge++,Pe=B.next()){K.index>ge?(ne=K,K=null):ne=K.sibling;var $e=D(W,K,Pe.value,J);if($e===null){K===null&&(K=ne);break}t&&K&&$e.alternate===null&&e(W,K),F=c($e,F,ge),de===null?Ee=$e:de.sibling=$e,de=$e,K=ne}if(Pe.done)return n(W,K),an&&ns(W,ge),Ee;if(K===null){for(;!Pe.done;ge++,Pe=B.next())Pe=b(W,Pe.value,J),Pe!==null&&(F=c(Pe,F,ge),de===null?Ee=Pe:de.sibling=Pe,de=Pe);return an&&ns(W,ge),Ee}for(K=o(W,K);!Pe.done;ge++,Pe=B.next())Pe=V(K,W,ge,Pe.value,J),Pe!==null&&(t&&Pe.alternate!==null&&K.delete(Pe.key===null?ge:Pe.key),F=c(Pe,F,ge),de===null?Ee=Pe:de.sibling=Pe,de=Pe);return t&&K.forEach(function(Ae){return e(W,Ae)}),an&&ns(W,ge),Ee}function ye(W,F,B,J){if(typeof B=="object"&&B!==null&&B.type===Us&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case yd:e:{for(var Ee=B.key,de=F;de!==null;){if(de.key===Ee){if(Ee=B.type,Ee===Us){if(de.tag===7){n(W,de.sibling),F=l(de,B.props.children),F.return=W,W=F;break e}}else if(de.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Er&&q0(Ee)===de.type){n(W,de.sibling),F=l(de,B.props),F.ref=Ka(W,de,B),F.return=W,W=F;break e}n(W,de);break}else e(W,de);de=de.sibling}B.type===Us?(F=us(B.props.children,W.mode,J,B.key),F.return=W,W=F):(J=Xd(B.type,B.key,B.props,null,W.mode,J),J.ref=Ka(W,F,B),J.return=W,W=J)}return m(W);case zs:e:{for(de=B.key;F!==null;){if(F.key===de)if(F.tag===4&&F.stateNode.containerInfo===B.containerInfo&&F.stateNode.implementation===B.implementation){n(W,F.sibling),F=l(F,B.children||[]),F.return=W,W=F;break e}else{n(W,F);break}else e(W,F);F=F.sibling}F=Vu(B,W.mode,J),F.return=W,W=F}return m(W);case Er:return de=B._init,ye(W,F,de(B._payload),J)}if(al(B))return X(W,F,B,J);if(Ga(B))return j(W,F,B,J);Rd(W,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,F!==null&&F.tag===6?(n(W,F.sibling),F=l(F,B),F.return=W,W=F):(n(W,F),F=Wu(B,W.mode,J),F.return=W,W=F),m(W)):n(W,F)}return ye}var ga=Ym(!0),Xm=Ym(!1),ed={},Mo=Hr(ed),Ol=Hr(ed),Pl=Hr(ed);function ls(t){if(t===ed)throw Error(fe(174));return t}function G1(t,e){switch(qt(Pl,e),qt(Ol,t),qt(Mo,ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uh(e,t)}rn(Mo),qt(Mo,e)}function pa(){rn(Mo),rn(Ol),rn(Pl)}function Qm(t){ls(Pl.current);var e=ls(Mo.current),n=uh(e,t.type);e!==n&&(qt(Ol,t),qt(Mo,n))}function Z1(t){Ol.current===t&&(rn(Mo),rn(Ol))}var un=Hr(0);function uc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fu=[];function Y1(){for(var t=0;t<Fu.length;t++)Fu[t]._workInProgressVersionPrimary=null;Fu.length=0}var Vd=tr.ReactCurrentDispatcher,Bu=tr.ReactCurrentBatchConfig,ps=0,hn=null,Nn=null,Bn=null,hc=!1,pl=!1,Fl=0,U4=0;function Kn(){throw Error(fe(321))}function X1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Eo(t[n],e[n]))return!1;return!0}function Q1(t,e,n,o,l,c){if(ps=c,hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vd.current=t===null||t.memoizedState===null?j4:G4,t=n(o,l),pl){c=0;do{if(pl=!1,Fl=0,25<=c)throw Error(fe(301));c+=1,Bn=Nn=null,e.updateQueue=null,Vd.current=Z4,t=n(o,l)}while(pl)}if(Vd.current=fc,e=Nn!==null&&Nn.next!==null,ps=0,Bn=Nn=hn=null,hc=!1,e)throw Error(fe(300));return t}function K1(){var t=Fl!==0;return Fl=0,t}function Io(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?hn.memoizedState=Bn=t:Bn=Bn.next=t,Bn}function Ji(){if(Nn===null){var t=hn.alternate;t=t!==null?t.memoizedState:null}else t=Nn.next;var e=Bn===null?hn.memoizedState:Bn.next;if(e!==null)Bn=e,Nn=t;else{if(t===null)throw Error(fe(310));Nn=t,t={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Bn===null?hn.memoizedState=Bn=t:Bn=Bn.next=t}return Bn}function Bl(t,e){return typeof e=="function"?e(t):e}function ku(t){var e=Ji(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var o=Nn,l=o.baseQueue,c=n.pending;if(c!==null){if(l!==null){var m=l.next;l.next=c.next,c.next=m}o.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,o=o.baseState;var v=m=null,C=null,y=c;do{var N=y.lane;if((ps&N)===N)C!==null&&(C=C.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),o=y.hasEagerState?y.eagerState:t(o,y.action);else{var b={lane:N,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};C===null?(v=C=b,m=o):C=C.next=b,hn.lanes|=N,ms|=N}y=y.next}while(y!==null&&y!==c);C===null?m=o:C.next=v,Eo(o,e.memoizedState)||(Ei=!0),e.memoizedState=o,e.baseState=m,e.baseQueue=C,n.lastRenderedState=o}if(t=n.interleaved,t!==null){l=t;do c=l.lane,hn.lanes|=c,ms|=c,l=l.next;while(l!==t)}else l===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zu(t){var e=Ji(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var o=n.dispatch,l=n.pending,c=e.memoizedState;if(l!==null){n.pending=null;var m=l=l.next;do c=t(c,m.action),m=m.next;while(m!==l);Eo(c,e.memoizedState)||(Ei=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),n.lastRenderedState=c}return[c,o]}function Km(){}function qm(t,e){var n=hn,o=Ji(),l=e(),c=!Eo(o.memoizedState,l);if(c&&(o.memoizedState=l,Ei=!0),o=o.queue,q1(e2.bind(null,n,o,t),[t]),o.getSnapshot!==e||c||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,kl(9,Jm.bind(null,n,o,l,e),void 0,null),Un===null)throw Error(fe(349));ps&30||$m(n,e,l)}return l}function $m(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=hn.updateQueue,e===null?(e={lastEffect:null,stores:null},hn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jm(t,e,n,o){e.value=n,e.getSnapshot=o,t2(e)&&n2(t)}function e2(t,e,n){return n(function(){t2(e)&&n2(t)})}function t2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Eo(t,n)}catch{return!0}}function n2(t){var e=$o(t,1);e!==null&&mo(e,t,1,-1)}function $0(t){var e=Io();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=V4.bind(null,hn,t),[e.memoizedState,t]}function kl(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=hn.updateQueue,e===null?(e={lastEffect:null,stores:null},hn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function i2(){return Ji().memoizedState}function jd(t,e,n,o){var l=Io();hn.flags|=t,l.memoizedState=kl(1|e,n,void 0,o===void 0?null:o)}function Yc(t,e,n,o){var l=Ji();o=o===void 0?null:o;var c=void 0;if(Nn!==null){var m=Nn.memoizedState;if(c=m.destroy,o!==null&&X1(o,m.deps)){l.memoizedState=kl(e,n,c,o);return}}hn.flags|=t,l.memoizedState=kl(1|e,n,c,o)}function J0(t,e){return jd(8390656,8,t,e)}function q1(t,e){return Yc(2048,8,t,e)}function o2(t,e){return Yc(4,2,t,e)}function r2(t,e){return Yc(4,4,t,e)}function s2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a2(t,e,n){return n=n!=null?n.concat([t]):null,Yc(4,4,s2.bind(null,e,t),n)}function $1(){}function l2(t,e){var n=Ji();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&X1(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function d2(t,e){var n=Ji();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&X1(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function c2(t,e,n){return ps&21?(Eo(n,e)||(n=fm(),hn.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ei=!0),t.memoizedState=n)}function H4(t,e){var n=zt;zt=n!==0&&4>n?n:4,t(!0);var o=Bu.transition;Bu.transition={};try{t(!1),e()}finally{zt=n,Bu.transition=o}}function u2(){return Ji().memoizedState}function W4(t,e,n){var o=Rr(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},h2(t))f2(e,n);else if(n=Vm(t,e,n,o),n!==null){var l=ci();mo(n,t,o,l),g2(n,e,o)}}function V4(t,e,n){var o=Rr(t),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(h2(t))f2(e,l);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var m=e.lastRenderedState,v=c(m,n);if(l.hasEagerState=!0,l.eagerState=v,Eo(v,m)){var C=e.interleaved;C===null?(l.next=l,V1(e)):(l.next=C.next,C.next=l),e.interleaved=l;return}}catch{}finally{}n=Vm(t,e,l,o),n!==null&&(l=ci(),mo(n,t,o,l),g2(n,e,o))}}function h2(t){var e=t.alternate;return t===hn||e!==null&&e===hn}function f2(t,e){pl=hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function g2(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,N1(t,n)}}var fc={readContext:$i,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},j4={readContext:$i,useCallback:function(t,e){return Io().memoizedState=[t,e===void 0?null:e],t},useContext:$i,useEffect:J0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,s2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=Io();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=Io();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=W4.bind(null,hn,t),[o.memoizedState,t]},useRef:function(t){var e=Io();return t={current:t},e.memoizedState=t},useState:$0,useDebugValue:$1,useDeferredValue:function(t){return Io().memoizedState=t},useTransition:function(){var t=$0(!1),e=t[0];return t=H4.bind(null,t[1]),Io().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=hn,l=Io();if(an){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Un===null)throw Error(fe(349));ps&30||$m(o,e,n)}l.memoizedState=n;var c={value:n,getSnapshot:e};return l.queue=c,J0(e2.bind(null,o,c,t),[t]),o.flags|=2048,kl(9,Jm.bind(null,o,c,n,e),void 0,null),n},useId:function(){var t=Io(),e=Un.identifierPrefix;if(an){var n=Go,o=jo;n=(o&~(1<<32-po(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G4={readContext:$i,useCallback:l2,useContext:$i,useEffect:q1,useImperativeHandle:a2,useInsertionEffect:o2,useLayoutEffect:r2,useMemo:d2,useReducer:ku,useRef:i2,useState:function(){return ku(Bl)},useDebugValue:$1,useDeferredValue:function(t){var e=Ji();return c2(e,Nn.memoizedState,t)},useTransition:function(){var t=ku(Bl)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:Km,useSyncExternalStore:qm,useId:u2,unstable_isNewReconciler:!1},Z4={readContext:$i,useCallback:l2,useContext:$i,useEffect:q1,useImperativeHandle:a2,useInsertionEffect:o2,useLayoutEffect:r2,useMemo:d2,useReducer:zu,useRef:i2,useState:function(){return zu(Bl)},useDebugValue:$1,useDeferredValue:function(t){var e=Ji();return Nn===null?e.memoizedState=t:c2(e,Nn.memoizedState,t)},useTransition:function(){var t=zu(Bl)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:Km,useSyncExternalStore:qm,useId:u2,unstable_isNewReconciler:!1};function ma(t,e){try{var n="",o=e;do n+=xE(o),o=o.return;while(o);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:e,stack:l,digest:null}}function Uu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Oh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y4=typeof WeakMap=="function"?WeakMap:Map;function p2(t,e,n){n=Xo(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){pc||(pc=!0,jh=o),Oh(t,e)},n}function m2(t,e,n){n=Xo(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var l=e.value;n.payload=function(){return o(l)},n.callback=function(){Oh(t,e)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Oh(t,e),typeof o!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var m=e.stack;this.componentDidCatch(e.value,{componentStack:m!==null?m:""})}),n}function eg(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new Y4;var l=new Set;o.set(e,l)}else l=o.get(e),l===void 0&&(l=new Set,o.set(e,l));l.has(n)||(l.add(n),t=ay.bind(null,t,e,n),e.then(t,t))}function tg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ng(t,e,n,o,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xo(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var X4=tr.ReactCurrentOwner,Ei=!1;function di(t,e,n,o){e.child=t===null?Xm(e,null,n,o):ga(e,t.child,n,o)}function ig(t,e,n,o,l){n=n.render;var c=e.ref;return oa(e,l),o=Q1(t,e,n,o,c,l),n=K1(),t!==null&&!Ei?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,Jo(t,e,l)):(an&&n&&B1(e),e.flags|=1,di(t,e,o,l),e.child)}function og(t,e,n,o,l){if(t===null){var c=n.type;return typeof c=="function"&&!af(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=c,_2(t,e,c,o,l)):(t=Xd(n.type,null,o,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!(t.lanes&l)){var m=c.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(m,o)&&t.ref===e.ref)return Jo(t,e,l)}return e.flags|=1,t=Mr(c,o),t.ref=e.ref,t.return=e,e.child=t}function _2(t,e,n,o,l){if(t!==null){var c=t.memoizedProps;if(Rl(c,o)&&t.ref===e.ref)if(Ei=!1,e.pendingProps=o=c,(t.lanes&l)!==0)t.flags&131072&&(Ei=!0);else return e.lanes=t.lanes,Jo(t,e,l)}return Ph(t,e,n,o,l)}function E2(t,e,n){var o=e.pendingProps,l=o.children,c=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Ks,Oi),Oi|=n;else{if(!(n&1073741824))return t=c!==null?c.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(Ks,Oi),Oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:n,qt(Ks,Oi),Oi|=o}else c!==null?(o=c.baseLanes|n,e.memoizedState=null):o=n,qt(Ks,Oi),Oi|=o;return di(t,e,l,n),e.child}function y2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ph(t,e,n,o,l){var c=wi(n)?fs:ni.current;return c=ha(e,c),oa(e,l),n=Q1(t,e,n,o,c,l),o=K1(),t!==null&&!Ei?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,Jo(t,e,l)):(an&&o&&B1(e),e.flags|=1,di(t,e,n,l),e.child)}function rg(t,e,n,o,l){if(wi(n)){var c=!0;rc(e)}else c=!1;if(oa(e,l),e.stateNode===null)Gd(t,e),Zm(e,n,o),Dh(e,n,o,l),o=!0;else if(t===null){var m=e.stateNode,v=e.memoizedProps;m.props=v;var C=m.context,y=n.contextType;typeof y=="object"&&y!==null?y=$i(y):(y=wi(n)?fs:ni.current,y=ha(e,y));var N=n.getDerivedStateFromProps,b=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function";b||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==o||C!==y)&&K0(e,m,o,y),yr=!1;var D=e.memoizedState;m.state=D,cc(e,o,m,l),C=e.memoizedState,v!==o||D!==C||vi.current||yr?(typeof N=="function"&&(Lh(e,n,N,o),C=e.memoizedState),(v=yr||Q0(e,n,v,o,D,C,y))?(b||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(e.flags|=4194308)):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=C),m.props=o,m.state=C,m.context=y,o=v):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{m=e.stateNode,jm(t,e),v=e.memoizedProps,y=e.type===e.elementType?v:ao(e.type,v),m.props=y,b=e.pendingProps,D=m.context,C=n.contextType,typeof C=="object"&&C!==null?C=$i(C):(C=wi(n)?fs:ni.current,C=ha(e,C));var V=n.getDerivedStateFromProps;(N=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==b||D!==C)&&K0(e,m,o,C),yr=!1,D=e.memoizedState,m.state=D,cc(e,o,m,l);var X=e.memoizedState;v!==b||D!==X||vi.current||yr?(typeof V=="function"&&(Lh(e,n,V,o),X=e.memoizedState),(y=yr||Q0(e,n,y,o,D,X,C)||!1)?(N||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,C)),typeof m.componentDidUpdate=="function"&&(e.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=X),m.props=o,m.state=X,m.context=C,o=y):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),o=!1)}return Fh(t,e,n,o,c,l)}function Fh(t,e,n,o,l,c){y2(t,e);var m=(e.flags&128)!==0;if(!o&&!m)return l&&j0(e,n,!1),Jo(t,e,c);o=e.stateNode,X4.current=e;var v=m&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&m?(e.child=ga(e,t.child,null,c),e.child=ga(e,null,v,c)):di(t,e,v,c),e.memoizedState=o.state,l&&j0(e,n,!0),e.child}function x2(t){var e=t.stateNode;e.pendingContext?V0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V0(t,e.context,!1),G1(t,e.containerInfo)}function sg(t,e,n,o,l){return fa(),z1(l),e.flags|=256,di(t,e,n,o),e.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function kh(t){return{baseLanes:t,cachePool:null,transitions:null}}function v2(t,e,n){var o=e.pendingProps,l=un.current,c=!1,m=(e.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(l&2)!==0),v?(c=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),qt(un,l&1),t===null)return Rh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(m=o.children,t=o.fallback,c?(o=e.mode,c=e.child,m={mode:"hidden",children:m},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=m):c=Kc(m,o,0,null),t=us(t,o,n,null),c.return=e,t.return=e,c.sibling=t,e.child=c,e.child.memoizedState=kh(n),e.memoizedState=Bh,t):J1(e,m));if(l=t.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Q4(t,e,m,o,v,l,n);if(c){c=o.fallback,m=e.mode,l=t.child,v=l.sibling;var C={mode:"hidden",children:o.children};return!(m&1)&&e.child!==l?(o=e.child,o.childLanes=0,o.pendingProps=C,e.deletions=null):(o=Mr(l,C),o.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=Mr(v,c):(c=us(c,m,n,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,m=t.child.memoizedState,m=m===null?kh(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},c.memoizedState=m,c.childLanes=t.childLanes&~n,e.memoizedState=Bh,o}return c=t.child,t=c.sibling,o=Mr(c,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function J1(t,e){return e=Kc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Md(t,e,n,o){return o!==null&&z1(o),ga(e,t.child,null,n),t=J1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q4(t,e,n,o,l,c,m){if(n)return e.flags&256?(e.flags&=-257,o=Uu(Error(fe(422))),Md(t,e,m,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(c=o.fallback,l=e.mode,o=Kc({mode:"visible",children:o.children},l,0,null),c=us(c,l,m,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,e.mode&1&&ga(e,t.child,null,m),e.child.memoizedState=kh(m),e.memoizedState=Bh,c);if(!(e.mode&1))return Md(t,e,m,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var v=o.dgst;return o=v,c=Error(fe(419)),o=Uu(c,o,void 0),Md(t,e,m,o)}if(v=(m&t.childLanes)!==0,Ei||v){if(o=Un,o!==null){switch(m&-m){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|m)?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,$o(t,l),mo(o,t,l,-1))}return sf(),o=Uu(Error(fe(421))),Md(t,e,m,o)}return l.data==="$?"?(e.flags|=128,e.child=t.child,e=ly.bind(null,t),l._reactRetry=e,null):(t=c.treeContext,Fi=Ir(l.nextSibling),Bi=e,an=!0,uo=null,t!==null&&(Xi[Qi++]=jo,Xi[Qi++]=Go,Xi[Qi++]=gs,jo=t.id,Go=t.overflow,gs=e),e=J1(e,o.children),e.flags|=4096,e)}function ag(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Mh(t.return,e,n)}function Hu(t,e,n,o,l){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=n,c.tailMode=l)}function w2(t,e,n){var o=e.pendingProps,l=o.revealOrder,c=o.tail;if(di(t,e,o.children,n),o=un.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ag(t,n,e);else if(t.tag===19)ag(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(qt(un,o),!(e.mode&1))e.memoizedState=null;else switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&uc(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Hu(e,!1,l,n,c);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&uc(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Hu(e,!0,n,null,c);break;case"together":Hu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=Mr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K4(t,e,n){switch(e.tag){case 3:x2(e),fa();break;case 5:Qm(e);break;case 1:wi(e.type)&&rc(e);break;case 4:G1(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,l=e.memoizedProps.value;qt(lc,o._currentValue),o._currentValue=l;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(qt(un,un.current&1),e.flags|=128,null):n&e.child.childLanes?v2(t,e,n):(qt(un,un.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);qt(un,un.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return w2(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),qt(un,un.current),o)break;return null;case 22:case 23:return e.lanes=0,E2(t,e,n)}return Jo(t,e,n)}var C2,zh,S2,A2;C2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zh=function(){};S2=function(t,e,n,o){var l=t.memoizedProps;if(l!==o){t=e.stateNode,ls(Mo.current);var c=null;switch(n){case"input":l=ah(t,l),o=ah(t,o),c=[];break;case"select":l=fn({},l,{value:void 0}),o=fn({},o,{value:void 0}),c=[];break;case"textarea":l=ch(t,l),o=ch(t,o),c=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=ic)}hh(n,o);var m;n=null;for(y in l)if(!o.hasOwnProperty(y)&&l.hasOwnProperty(y)&&l[y]!=null)if(y==="style"){var v=l[y];for(m in v)v.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Cl.hasOwnProperty(y)?c||(c=[]):(c=c||[]).push(y,null));for(y in o){var C=o[y];if(v=l!=null?l[y]:void 0,o.hasOwnProperty(y)&&C!==v&&(C!=null||v!=null))if(y==="style")if(v){for(m in v)!v.hasOwnProperty(m)||C&&C.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in C)C.hasOwnProperty(m)&&v[m]!==C[m]&&(n||(n={}),n[m]=C[m])}else n||(c||(c=[]),c.push(y,n)),n=C;else y==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,v=v?v.__html:void 0,C!=null&&v!==C&&(c=c||[]).push(y,C)):y==="children"?typeof C!="string"&&typeof C!="number"||(c=c||[]).push(y,""+C):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(y)?(C!=null&&y==="onScroll"&&tn("scroll",t),c||v===C||(c=[])):(c=c||[]).push(y,C))}n&&(c=c||[]).push("style",n);var y=c;(e.updateQueue=y)&&(e.flags|=4)}};A2=function(t,e,n,o){n!==o&&(e.flags|=4)};function qa(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function q4(t,e,n){var o=e.pendingProps;switch(k1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(e),null;case 1:return wi(e.type)&&oc(),qn(e),null;case 3:return o=e.stateNode,pa(),rn(vi),rn(ni),Y1(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,uo!==null&&(Yh(uo),uo=null))),zh(t,e),qn(e),null;case 5:Z1(e);var l=ls(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)S2(t,e,n,o,l),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(fe(166));return qn(e),null}if(t=ls(Mo.current),Nd(e)){o=e.stateNode,n=e.type;var c=e.memoizedProps;switch(o[No]=e,o[Dl]=c,t=(e.mode&1)!==0,n){case"dialog":tn("cancel",o),tn("close",o);break;case"iframe":case"object":case"embed":tn("load",o);break;case"video":case"audio":for(l=0;l<dl.length;l++)tn(dl[l],o);break;case"source":tn("error",o);break;case"img":case"image":case"link":tn("error",o),tn("load",o);break;case"details":tn("toggle",o);break;case"input":m0(o,c),tn("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},tn("invalid",o);break;case"textarea":E0(o,c),tn("invalid",o)}hh(n,c),l=null;for(var m in c)if(c.hasOwnProperty(m)){var v=c[m];m==="children"?typeof v=="string"?o.textContent!==v&&(c.suppressHydrationWarning!==!0&&bd(o.textContent,v,t),l=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&bd(o.textContent,v,t),l=["children",""+v]):Cl.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&tn("scroll",o)}switch(n){case"input":xd(o),_0(o,c,!0);break;case"textarea":xd(o),y0(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=ic)}o=l,e.updateQueue=o,o!==null&&(e.flags|=4)}else{m=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$p(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=m.createElement(n,{is:o.is}):(t=m.createElement(n),n==="select"&&(m=t,o.multiple?m.multiple=!0:o.size&&(m.size=o.size))):t=m.createElementNS(t,n),t[No]=e,t[Dl]=o,C2(t,e,!1,!1),e.stateNode=t;e:{switch(m=fh(n,o),n){case"dialog":tn("cancel",t),tn("close",t),l=o;break;case"iframe":case"object":case"embed":tn("load",t),l=o;break;case"video":case"audio":for(l=0;l<dl.length;l++)tn(dl[l],t);l=o;break;case"source":tn("error",t),l=o;break;case"img":case"image":case"link":tn("error",t),tn("load",t),l=o;break;case"details":tn("toggle",t),l=o;break;case"input":m0(t,o),l=ah(t,o),tn("invalid",t);break;case"option":l=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},l=fn({},o,{value:void 0}),tn("invalid",t);break;case"textarea":E0(t,o),l=ch(t,o),tn("invalid",t);break;default:l=o}hh(n,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var C=v[c];c==="style"?tm(t,C):c==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Jp(t,C)):c==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&Sl(t,C):typeof C=="number"&&Sl(t,""+C):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cl.hasOwnProperty(c)?C!=null&&c==="onScroll"&&tn("scroll",t):C!=null&&C1(t,c,C,m))}switch(n){case"input":xd(t),_0(t,o,!1);break;case"textarea":xd(t),y0(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Pr(o.value));break;case"select":t.multiple=!!o.multiple,c=o.value,c!=null?ea(t,!!o.multiple,c,!1):o.defaultValue!=null&&ea(t,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=ic)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qn(e),null;case 6:if(t&&e.stateNode!=null)A2(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(fe(166));if(n=ls(Pl.current),ls(Mo.current),Nd(e)){if(o=e.stateNode,n=e.memoizedProps,o[No]=e,(c=o.nodeValue!==n)&&(t=Bi,t!==null))switch(t.tag){case 3:bd(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(o.nodeValue,n,(t.mode&1)!==0)}c&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[No]=e,e.stateNode=o}return qn(e),null;case 13:if(rn(un),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&Fi!==null&&e.mode&1&&!(e.flags&128))Wm(),fa(),e.flags|=98560,c=!1;else if(c=Nd(e),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(fe(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(fe(317));c[No]=e}else fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qn(e),c=!1}else uo!==null&&(Yh(uo),uo=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?Mn===0&&(Mn=3):sf())),e.updateQueue!==null&&(e.flags|=4),qn(e),null);case 4:return pa(),zh(t,e),t===null&&Ml(e.stateNode.containerInfo),qn(e),null;case 10:return W1(e.type._context),qn(e),null;case 17:return wi(e.type)&&oc(),qn(e),null;case 19:if(rn(un),c=e.memoizedState,c===null)return qn(e),null;if(o=(e.flags&128)!==0,m=c.rendering,m===null)if(o)qa(c,!1);else{if(Mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(m=uc(t),m!==null){for(e.flags|=128,qa(c,!1),o=m.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)c=n,t=o,c.flags&=14680066,m=c.alternate,m===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,t=m.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(un,un.current&1|2),e.child}t=t.sibling}c.tail!==null&&En()>_a&&(e.flags|=128,o=!0,qa(c,!1),e.lanes=4194304)}else{if(!o)if(t=uc(m),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!an)return qn(e),null}else 2*En()-c.renderingStartTime>_a&&n!==1073741824&&(e.flags|=128,o=!0,qa(c,!1),e.lanes=4194304);c.isBackwards?(m.sibling=e.child,e.child=m):(n=c.last,n!==null?n.sibling=m:e.child=m,c.last=m)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=En(),e.sibling=null,n=un.current,qt(un,o?n&1|2:n&1),e):(qn(e),null);case 22:case 23:return rf(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Oi&1073741824&&(qn(e),e.subtreeFlags&6&&(e.flags|=8192)):qn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function $4(t,e){switch(k1(e),e.tag){case 1:return wi(e.type)&&oc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pa(),rn(vi),rn(ni),Y1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Z1(e),null;case 13:if(rn(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rn(un),null;case 4:return pa(),null;case 10:return W1(e.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var Ld=!1,Jn=!1,J4=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){pn(t,e,o)}else n.current=null}function Uh(t,e,n){try{n()}catch(o){pn(t,e,o)}}var lg=!1;function ey(t,e){if(Ch=ec,t=Nm(),F1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var m=0,v=-1,C=-1,y=0,N=0,b=t,D=null;t:for(;;){for(var V;b!==n||l!==0&&b.nodeType!==3||(v=m+l),b!==c||o!==0&&b.nodeType!==3||(C=m+o),b.nodeType===3&&(m+=b.nodeValue.length),(V=b.firstChild)!==null;)D=b,b=V;for(;;){if(b===t)break t;if(D===n&&++y===l&&(v=m),D===c&&++N===o&&(C=m),(V=b.nextSibling)!==null)break;b=D,D=b.parentNode}b=V}n=v===-1||C===-1?null:{start:v,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sh={focusedElem:t,selectionRange:n},ec=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var X=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var j=X.memoizedProps,ye=X.memoizedState,W=e.stateNode,F=W.getSnapshotBeforeUpdate(e.elementType===e.type?j:ao(e.type,j),ye);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(J){pn(e,e.return,J)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return X=lg,lg=!1,X}function ml(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&t)===t){var c=l.destroy;l.destroy=void 0,c!==void 0&&Uh(e,n,c)}l=l.next}while(l!==o)}}function Xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T2(t){var e=t.alternate;e!==null&&(t.alternate=null,T2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[No],delete e[Dl],delete e[Ih],delete e[F4],delete e[B4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function I2(t){return t.tag===5||t.tag===3||t.tag===4}function dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ic));else if(o!==4&&(t=t.child,t!==null))for(Wh(t,e,n),t=t.sibling;t!==null;)Wh(t,e,n),t=t.sibling}function Vh(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}var Wn=null,lo=!1;function mr(t,e,n){for(n=n.child;n!==null;)b2(t,e,n),n=n.sibling}function b2(t,e,n){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:Jn||Qs(n,e);case 6:var o=Wn,l=lo;Wn=null,mr(t,e,n),Wn=o,lo=l,Wn!==null&&(lo?(t=Wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wn.removeChild(n.stateNode));break;case 18:Wn!==null&&(lo?(t=Wn,n=n.stateNode,t.nodeType===8?Ou(t.parentNode,n):t.nodeType===1&&Ou(t,n),bl(t)):Ou(Wn,n.stateNode));break;case 4:o=Wn,l=lo,Wn=n.stateNode.containerInfo,lo=!0,mr(t,e,n),Wn=o,lo=l;break;case 0:case 11:case 14:case 15:if(!Jn&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var c=l,m=c.destroy;c=c.tag,m!==void 0&&(c&2||c&4)&&Uh(n,e,m),l=l.next}while(l!==o)}mr(t,e,n);break;case 1:if(!Jn&&(Qs(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){pn(n,e,v)}mr(t,e,n);break;case 21:mr(t,e,n);break;case 22:n.mode&1?(Jn=(o=Jn)||n.memoizedState!==null,mr(t,e,n),Jn=o):mr(t,e,n);break;default:mr(t,e,n)}}function cg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J4),e.forEach(function(o){var l=dy.bind(null,t,o);n.has(o)||(n.add(o),o.then(l,l))})}}function so(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];try{var c=t,m=e,v=m;e:for(;v!==null;){switch(v.tag){case 5:Wn=v.stateNode,lo=!1;break e;case 3:Wn=v.stateNode.containerInfo,lo=!0;break e;case 4:Wn=v.stateNode.containerInfo,lo=!0;break e}v=v.return}if(Wn===null)throw Error(fe(160));b2(c,m,l),Wn=null,lo=!1;var C=l.alternate;C!==null&&(C.return=null),l.return=null}catch(y){pn(l,e,y)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N2(e,t),e=e.sibling}function N2(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(so(e,t),To(t),o&4){try{ml(3,t,t.return),Xc(3,t)}catch(j){pn(t,t.return,j)}try{ml(5,t,t.return)}catch(j){pn(t,t.return,j)}}break;case 1:so(e,t),To(t),o&512&&n!==null&&Qs(n,n.return);break;case 5:if(so(e,t),To(t),o&512&&n!==null&&Qs(n,n.return),t.flags&32){var l=t.stateNode;try{Sl(l,"")}catch(j){pn(t,t.return,j)}}if(o&4&&(l=t.stateNode,l!=null)){var c=t.memoizedProps,m=n!==null?n.memoizedProps:c,v=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&Kp(l,c),fh(v,m);var y=fh(v,c);for(m=0;m<C.length;m+=2){var N=C[m],b=C[m+1];N==="style"?tm(l,b):N==="dangerouslySetInnerHTML"?Jp(l,b):N==="children"?Sl(l,b):C1(l,N,b,y)}switch(v){case"input":lh(l,c);break;case"textarea":qp(l,c);break;case"select":var D=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var V=c.value;V!=null?ea(l,!!c.multiple,V,!1):D!==!!c.multiple&&(c.defaultValue!=null?ea(l,!!c.multiple,c.defaultValue,!0):ea(l,!!c.multiple,c.multiple?[]:"",!1))}l[Dl]=c}catch(j){pn(t,t.return,j)}}break;case 6:if(so(e,t),To(t),o&4){if(t.stateNode===null)throw Error(fe(162));l=t.stateNode,c=t.memoizedProps;try{l.nodeValue=c}catch(j){pn(t,t.return,j)}}break;case 3:if(so(e,t),To(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(e.containerInfo)}catch(j){pn(t,t.return,j)}break;case 4:so(e,t),To(t);break;case 13:so(e,t),To(t),l=t.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(nf=En())),o&4&&cg(t);break;case 22:if(N=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(y=Jn)||N,so(e,t),Jn=y):so(e,t),To(t),o&8192){if(y=t.memoizedState!==null,(t.stateNode.isHidden=y)&&!N&&t.mode&1)for(Ne=t,N=t.child;N!==null;){for(b=Ne=N;Ne!==null;){switch(D=Ne,V=D.child,D.tag){case 0:case 11:case 14:case 15:ml(4,D,D.return);break;case 1:Qs(D,D.return);var X=D.stateNode;if(typeof X.componentWillUnmount=="function"){o=D,n=D.return;try{e=o,X.props=e.memoizedProps,X.state=e.memoizedState,X.componentWillUnmount()}catch(j){pn(o,n,j)}}break;case 5:Qs(D,D.return);break;case 22:if(D.memoizedState!==null){hg(b);continue}}V!==null?(V.return=D,Ne=V):hg(b)}N=N.sibling}e:for(N=null,b=t;;){if(b.tag===5){if(N===null){N=b;try{l=b.stateNode,y?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=b.stateNode,C=b.memoizedProps.style,m=C!=null&&C.hasOwnProperty("display")?C.display:null,v.style.display=em("display",m))}catch(j){pn(t,t.return,j)}}}else if(b.tag===6){if(N===null)try{b.stateNode.nodeValue=y?"":b.memoizedProps}catch(j){pn(t,t.return,j)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===t)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;N===b&&(N=null),b=b.return}N===b&&(N=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:so(e,t),To(t),o&4&&cg(t);break;case 21:break;default:so(e,t),To(t)}}function To(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(I2(n)){var o=n;break e}n=n.return}throw Error(fe(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(Sl(l,""),o.flags&=-33);var c=dg(t);Vh(t,c,l);break;case 3:case 4:var m=o.stateNode.containerInfo,v=dg(t);Wh(t,v,m);break;default:throw Error(fe(161))}}catch(C){pn(t,t.return,C)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ty(t,e,n){Ne=t,R2(t)}function R2(t,e,n){for(var o=(t.mode&1)!==0;Ne!==null;){var l=Ne,c=l.child;if(l.tag===22&&o){var m=l.memoizedState!==null||Ld;if(!m){var v=l.alternate,C=v!==null&&v.memoizedState!==null||Jn;v=Ld;var y=Jn;if(Ld=m,(Jn=C)&&!y)for(Ne=l;Ne!==null;)m=Ne,C=m.child,m.tag===22&&m.memoizedState!==null?fg(l):C!==null?(C.return=m,Ne=C):fg(l);for(;c!==null;)Ne=c,R2(c),c=c.sibling;Ne=l,Ld=v,Jn=y}ug(t)}else l.subtreeFlags&8772&&c!==null?(c.return=l,Ne=c):ug(t)}}function ug(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||Xc(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Jn)if(n===null)o.componentDidMount();else{var l=e.elementType===e.type?n.memoizedProps:ao(e.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&X0(e,c,o);break;case 3:var m=e.updateQueue;if(m!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X0(e,m,n)}break;case 5:var v=e.stateNode;if(n===null&&e.flags&4){n=v;var C=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var y=e.alternate;if(y!==null){var N=y.memoizedState;if(N!==null){var b=N.dehydrated;b!==null&&bl(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Jn||e.flags&512&&Hh(e)}catch(D){pn(e,e.return,D)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function hg(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function fg(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xc(4,e)}catch(C){pn(e,n,C)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var l=e.return;try{o.componentDidMount()}catch(C){pn(e,l,C)}}var c=e.return;try{Hh(e)}catch(C){pn(e,c,C)}break;case 5:var m=e.return;try{Hh(e)}catch(C){pn(e,m,C)}}}catch(C){pn(e,e.return,C)}if(e===t){Ne=null;break}var v=e.sibling;if(v!==null){v.return=e.return,Ne=v;break}Ne=e.return}}var ny=Math.ceil,gc=tr.ReactCurrentDispatcher,ef=tr.ReactCurrentOwner,qi=tr.ReactCurrentBatchConfig,bt=0,Un=null,wn=null,Vn=0,Oi=0,Ks=Hr(0),Mn=0,zl=null,ms=0,Qc=0,tf=0,_l=null,_i=null,nf=0,_a=1/0,Wo=null,pc=!1,jh=null,Nr=null,Dd=!1,Cr=null,mc=0,El=0,Gh=null,Zd=-1,Yd=0;function ci(){return bt&6?En():Zd!==-1?Zd:Zd=En()}function Rr(t){return t.mode&1?bt&2&&Vn!==0?Vn&-Vn:z4.transition!==null?(Yd===0&&(Yd=fm()),Yd):(t=zt,t!==0||(t=window.event,t=t===void 0?16:xm(t.type)),t):1}function mo(t,e,n,o){if(50<El)throw El=0,Gh=null,Error(fe(185));ql(t,n,o),(!(bt&2)||t!==Un)&&(t===Un&&(!(bt&2)&&(Qc|=n),Mn===4&&vr(t,Vn)),Ci(t,o),n===1&&bt===0&&!(e.mode&1)&&(_a=En()+500,Gc&&Wr()))}function Ci(t,e){var n=t.callbackNode;zE(t,e);var o=Jd(t,t===Un?Vn:0);if(o===0)n!==null&&w0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&w0(n),e===1)t.tag===0?k4(gg.bind(null,t)):zm(gg.bind(null,t)),O4(function(){!(bt&6)&&Wr()}),n=null;else{switch(gm(o)){case 1:n=b1;break;case 4:n=um;break;case 16:n=$d;break;case 536870912:n=hm;break;default:n=$d}n=k2(n,M2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M2(t,e){if(Zd=-1,Yd=0,bt&6)throw Error(fe(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var o=Jd(t,t===Un?Vn:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=_c(t,o);else{e=o;var l=bt;bt|=2;var c=D2();(Un!==t||Vn!==e)&&(Wo=null,_a=En()+500,cs(t,e));do try{ry();break}catch(v){L2(t,v)}while(!0);H1(),gc.current=c,bt=l,wn!==null?e=0:(Un=null,Vn=0,e=Mn)}if(e!==0){if(e===2&&(l=Eh(t),l!==0&&(o=l,e=Zh(t,l))),e===1)throw n=zl,cs(t,0),vr(t,o),Ci(t,En()),n;if(e===6)vr(t,o);else{if(l=t.current.alternate,!(o&30)&&!iy(l)&&(e=_c(t,o),e===2&&(c=Eh(t),c!==0&&(o=c,e=Zh(t,c))),e===1))throw n=zl,cs(t,0),vr(t,o),Ci(t,En()),n;switch(t.finishedWork=l,t.finishedLanes=o,e){case 0:case 1:throw Error(fe(345));case 2:is(t,_i,Wo);break;case 3:if(vr(t,o),(o&130023424)===o&&(e=nf+500-En(),10<e)){if(Jd(t,0)!==0)break;if(l=t.suspendedLanes,(l&o)!==o){ci(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=Th(is.bind(null,t,_i,Wo),e);break}is(t,_i,Wo);break;case 4:if(vr(t,o),(o&4194240)===o)break;for(e=t.eventTimes,l=-1;0<o;){var m=31-po(o);c=1<<m,m=e[m],m>l&&(l=m),o&=~c}if(o=l,o=En()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ny(o/1960))-o,10<o){t.timeoutHandle=Th(is.bind(null,t,_i,Wo),o);break}is(t,_i,Wo);break;case 5:is(t,_i,Wo);break;default:throw Error(fe(329))}}}return Ci(t,En()),t.callbackNode===n?M2.bind(null,t):null}function Zh(t,e){var n=_l;return t.current.memoizedState.isDehydrated&&(cs(t,e).flags|=256),t=_c(t,e),t!==2&&(e=_i,_i=n,e!==null&&Yh(e)),t}function Yh(t){_i===null?_i=t:_i.push.apply(_i,t)}function iy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var l=n[o],c=l.getSnapshot;l=l.value;try{if(!Eo(c(),l))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vr(t,e){for(e&=~tf,e&=~Qc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-po(e),o=1<<n;t[n]=-1,e&=~o}}function gg(t){if(bt&6)throw Error(fe(327));ra();var e=Jd(t,0);if(!(e&1))return Ci(t,En()),null;var n=_c(t,e);if(t.tag!==0&&n===2){var o=Eh(t);o!==0&&(e=o,n=Zh(t,o))}if(n===1)throw n=zl,cs(t,0),vr(t,e),Ci(t,En()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,_i,Wo),Ci(t,En()),null}function of(t,e){var n=bt;bt|=1;try{return t(e)}finally{bt=n,bt===0&&(_a=En()+500,Gc&&Wr())}}function _s(t){Cr!==null&&Cr.tag===0&&!(bt&6)&&ra();var e=bt;bt|=1;var n=qi.transition,o=zt;try{if(qi.transition=null,zt=1,t)return t()}finally{zt=o,qi.transition=n,bt=e,!(bt&6)&&Wr()}}function rf(){Oi=Ks.current,rn(Ks)}function cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D4(n)),wn!==null)for(n=wn.return;n!==null;){var o=n;switch(k1(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&oc();break;case 3:pa(),rn(vi),rn(ni),Y1();break;case 5:Z1(o);break;case 4:pa();break;case 13:rn(un);break;case 19:rn(un);break;case 10:W1(o.type._context);break;case 22:case 23:rf()}n=n.return}if(Un=t,wn=t=Mr(t.current,null),Vn=Oi=e,Mn=0,zl=null,tf=Qc=ms=0,_i=_l=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],o=n.interleaved,o!==null){n.interleaved=null;var l=o.next,c=n.pending;if(c!==null){var m=c.next;c.next=l,o.next=m}n.pending=o}as=null}return t}function L2(t,e){do{var n=wn;try{if(H1(),Vd.current=fc,hc){for(var o=hn.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}hc=!1}if(ps=0,Bn=Nn=hn=null,pl=!1,Fl=0,ef.current=null,n===null||n.return===null){Mn=1,zl=e,wn=null;break}e:{var c=t,m=n.return,v=n,C=e;if(e=Vn,v.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var y=C,N=v,b=N.tag;if(!(N.mode&1)&&(b===0||b===11||b===15)){var D=N.alternate;D?(N.updateQueue=D.updateQueue,N.memoizedState=D.memoizedState,N.lanes=D.lanes):(N.updateQueue=null,N.memoizedState=null)}var V=tg(m);if(V!==null){V.flags&=-257,ng(V,m,v,c,e),V.mode&1&&eg(c,y,e),e=V,C=y;var X=e.updateQueue;if(X===null){var j=new Set;j.add(C),e.updateQueue=j}else X.add(C);break e}else{if(!(e&1)){eg(c,y,e),sf();break e}C=Error(fe(426))}}else if(an&&v.mode&1){var ye=tg(m);if(ye!==null){!(ye.flags&65536)&&(ye.flags|=256),ng(ye,m,v,c,e),z1(ma(C,v));break e}}c=C=ma(C,v),Mn!==4&&(Mn=2),_l===null?_l=[c]:_l.push(c),c=m;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var W=p2(c,C,e);Y0(c,W);break e;case 1:v=C;var F=c.type,B=c.stateNode;if(!(c.flags&128)&&(typeof F.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Nr===null||!Nr.has(B)))){c.flags|=65536,e&=-e,c.lanes|=e;var J=m2(c,v,e);Y0(c,J);break e}}c=c.return}while(c!==null)}P2(n)}catch(Ee){e=Ee,wn===n&&n!==null&&(wn=n=n.return);continue}break}while(!0)}function D2(){var t=gc.current;return gc.current=fc,t===null?fc:t}function sf(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Un===null||!(ms&268435455)&&!(Qc&268435455)||vr(Un,Vn)}function _c(t,e){var n=bt;bt|=2;var o=D2();(Un!==t||Vn!==e)&&(Wo=null,cs(t,e));do try{oy();break}catch(l){L2(t,l)}while(!0);if(H1(),bt=n,gc.current=o,wn!==null)throw Error(fe(261));return Un=null,Vn=0,Mn}function oy(){for(;wn!==null;)O2(wn)}function ry(){for(;wn!==null&&!RE();)O2(wn)}function O2(t){var e=B2(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,e===null?P2(t):wn=e,ef.current=null}function P2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$4(n,e),n!==null){n.flags&=32767,wn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mn=6,wn=null;return}}else if(n=q4(n,e,Oi),n!==null){wn=n;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=t}while(e!==null);Mn===0&&(Mn=5)}function is(t,e,n){var o=zt,l=qi.transition;try{qi.transition=null,zt=1,sy(t,e,n,o)}finally{qi.transition=l,zt=o}return null}function sy(t,e,n,o){do ra();while(Cr!==null);if(bt&6)throw Error(fe(327));n=t.finishedWork;var l=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var c=n.lanes|n.childLanes;if(UE(t,c),t===Un&&(wn=Un=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dd||(Dd=!0,k2($d,function(){return ra(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=qi.transition,qi.transition=null;var m=zt;zt=1;var v=bt;bt|=4,ef.current=null,ey(t,n),N2(n,t),T4(Sh),ec=!!Ch,Sh=Ch=null,t.current=n,ty(n),ME(),bt=v,zt=m,qi.transition=c}else t.current=n;if(Dd&&(Dd=!1,Cr=t,mc=l),c=t.pendingLanes,c===0&&(Nr=null),OE(n.stateNode),Ci(t,En()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)l=e[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(pc)throw pc=!1,t=jh,jh=null,t;return mc&1&&t.tag!==0&&ra(),c=t.pendingLanes,c&1?t===Gh?El++:(El=0,Gh=t):El=0,Wr(),null}function ra(){if(Cr!==null){var t=gm(mc),e=qi.transition,n=zt;try{if(qi.transition=null,zt=16>t?16:t,Cr===null)var o=!1;else{if(t=Cr,Cr=null,mc=0,bt&6)throw Error(fe(331));var l=bt;for(bt|=4,Ne=t.current;Ne!==null;){var c=Ne,m=c.child;if(Ne.flags&16){var v=c.deletions;if(v!==null){for(var C=0;C<v.length;C++){var y=v[C];for(Ne=y;Ne!==null;){var N=Ne;switch(N.tag){case 0:case 11:case 15:ml(8,N,c)}var b=N.child;if(b!==null)b.return=N,Ne=b;else for(;Ne!==null;){N=Ne;var D=N.sibling,V=N.return;if(T2(N),N===y){Ne=null;break}if(D!==null){D.return=V,Ne=D;break}Ne=V}}}var X=c.alternate;if(X!==null){var j=X.child;if(j!==null){X.child=null;do{var ye=j.sibling;j.sibling=null,j=ye}while(j!==null)}}Ne=c}}if(c.subtreeFlags&2064&&m!==null)m.return=c,Ne=m;else e:for(;Ne!==null;){if(c=Ne,c.flags&2048)switch(c.tag){case 0:case 11:case 15:ml(9,c,c.return)}var W=c.sibling;if(W!==null){W.return=c.return,Ne=W;break e}Ne=c.return}}var F=t.current;for(Ne=F;Ne!==null;){m=Ne;var B=m.child;if(m.subtreeFlags&2064&&B!==null)B.return=m,Ne=B;else e:for(m=F;Ne!==null;){if(v=Ne,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:Xc(9,v)}}catch(Ee){pn(v,v.return,Ee)}if(v===m){Ne=null;break e}var J=v.sibling;if(J!==null){J.return=v.return,Ne=J;break e}Ne=v.return}}if(bt=l,Wr(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(Uc,t)}catch{}o=!0}return o}finally{zt=n,qi.transition=e}}return!1}function pg(t,e,n){e=ma(n,e),e=p2(t,e,1),t=br(t,e,1),e=ci(),t!==null&&(ql(t,1,e),Ci(t,e))}function pn(t,e,n){if(t.tag===3)pg(t,t,n);else for(;e!==null;){if(e.tag===3){pg(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Nr===null||!Nr.has(o))){t=ma(n,t),t=m2(e,t,1),e=br(e,t,1),t=ci(),e!==null&&(ql(e,1,t),Ci(e,t));break}}e=e.return}}function ay(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=ci(),t.pingedLanes|=t.suspendedLanes&n,Un===t&&(Vn&n)===n&&(Mn===4||Mn===3&&(Vn&130023424)===Vn&&500>En()-nf?cs(t,0):tf|=n),Ci(t,e)}function F2(t,e){e===0&&(t.mode&1?(e=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):e=1);var n=ci();t=$o(t,e),t!==null&&(ql(t,e,n),Ci(t,n))}function ly(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F2(t,n)}function dy(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(fe(314))}o!==null&&o.delete(e),F2(t,n)}var B2;B2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vi.current)Ei=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ei=!1,K4(t,e,n);Ei=!!(t.flags&131072)}else Ei=!1,an&&e.flags&1048576&&Um(e,ac,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Gd(t,e),t=e.pendingProps;var l=ha(e,ni.current);oa(e,n),l=Q1(null,e,o,t,l,n);var c=K1();return e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wi(o)?(c=!0,rc(e)):c=!1,e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,j1(e),l.updater=Zc,e.stateNode=l,l._reactInternals=e,Dh(e,o,t,n),e=Fh(null,e,o,!0,c,n)):(e.tag=0,an&&c&&B1(e),di(null,e,l,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Gd(t,e),t=e.pendingProps,l=o._init,o=l(o._payload),e.type=o,l=e.tag=uy(o),t=ao(o,t),l){case 0:e=Ph(null,e,o,t,n);break e;case 1:e=rg(null,e,o,t,n);break e;case 11:e=ig(null,e,o,t,n);break e;case 14:e=og(null,e,o,ao(o.type,t),n);break e}throw Error(fe(306,o,""))}return e;case 0:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:ao(o,l),Ph(t,e,o,l,n);case 1:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:ao(o,l),rg(t,e,o,l,n);case 3:e:{if(x2(e),t===null)throw Error(fe(387));o=e.pendingProps,c=e.memoizedState,l=c.element,jm(t,e),cc(e,o,null,n);var m=e.memoizedState;if(o=m.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){l=ma(Error(fe(423)),e),e=sg(t,e,o,n,l);break e}else if(o!==l){l=ma(Error(fe(424)),e),e=sg(t,e,o,n,l);break e}else for(Fi=Ir(e.stateNode.containerInfo.firstChild),Bi=e,an=!0,uo=null,n=Xm(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),o===l){e=Jo(t,e,n);break e}di(t,e,o,n)}e=e.child}return e;case 5:return Qm(e),t===null&&Rh(e),o=e.type,l=e.pendingProps,c=t!==null?t.memoizedProps:null,m=l.children,Ah(o,l)?m=null:c!==null&&Ah(o,c)&&(e.flags|=32),y2(t,e),di(t,e,m,n),e.child;case 6:return t===null&&Rh(e),null;case 13:return v2(t,e,n);case 4:return G1(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=ga(e,null,o,n):di(t,e,o,n),e.child;case 11:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:ao(o,l),ig(t,e,o,l,n);case 7:return di(t,e,e.pendingProps,n),e.child;case 8:return di(t,e,e.pendingProps.children,n),e.child;case 12:return di(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,l=e.pendingProps,c=e.memoizedProps,m=l.value,qt(lc,o._currentValue),o._currentValue=m,c!==null)if(Eo(c.value,m)){if(c.children===l.children&&!vi.current){e=Jo(t,e,n);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var v=c.dependencies;if(v!==null){m=c.child;for(var C=v.firstContext;C!==null;){if(C.context===o){if(c.tag===1){C=Xo(-1,n&-n),C.tag=2;var y=c.updateQueue;if(y!==null){y=y.shared;var N=y.pending;N===null?C.next=C:(C.next=N.next,N.next=C),y.pending=C}}c.lanes|=n,C=c.alternate,C!==null&&(C.lanes|=n),Mh(c.return,n,e),v.lanes|=n;break}C=C.next}}else if(c.tag===10)m=c.type===e.type?null:c.child;else if(c.tag===18){if(m=c.return,m===null)throw Error(fe(341));m.lanes|=n,v=m.alternate,v!==null&&(v.lanes|=n),Mh(m,n,e),m=c.sibling}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}di(t,e,l.children,n),e=e.child}return e;case 9:return l=e.type,o=e.pendingProps.children,oa(e,n),l=$i(l),o=o(l),e.flags|=1,di(t,e,o,n),e.child;case 14:return o=e.type,l=ao(o,e.pendingProps),l=ao(o.type,l),og(t,e,o,l,n);case 15:return _2(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:ao(o,l),Gd(t,e),e.tag=1,wi(o)?(t=!0,rc(e)):t=!1,oa(e,n),Zm(e,o,l),Dh(e,o,l,n),Fh(null,e,o,!0,t,n);case 19:return w2(t,e,n);case 22:return E2(t,e,n)}throw Error(fe(156,e.tag))};function k2(t,e){return cm(t,e)}function cy(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(t,e,n,o){return new cy(t,e,n,o)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uy(t){if(typeof t=="function")return af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A1)return 11;if(t===T1)return 14}return 2}function Mr(t,e){var n=t.alternate;return n===null?(n=Ki(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xd(t,e,n,o,l,c){var m=2;if(o=t,typeof t=="function")af(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case Us:return us(n.children,l,c,e);case S1:m=8,l|=8;break;case ih:return t=Ki(12,n,e,l|2),t.elementType=ih,t.lanes=c,t;case oh:return t=Ki(13,n,e,l),t.elementType=oh,t.lanes=c,t;case rh:return t=Ki(19,n,e,l),t.elementType=rh,t.lanes=c,t;case Yp:return Kc(n,l,c,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gp:m=10;break e;case Zp:m=9;break e;case A1:m=11;break e;case T1:m=14;break e;case Er:m=16,o=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Ki(m,n,e,l),e.elementType=t,e.type=o,e.lanes=c,e}function us(t,e,n,o){return t=Ki(7,t,o,e),t.lanes=n,t}function Kc(t,e,n,o){return t=Ki(22,t,o,e),t.elementType=Yp,t.lanes=n,t.stateNode={isHidden:!1},t}function Wu(t,e,n){return t=Ki(6,t,null,e),t.lanes=n,t}function Vu(t,e,n){return e=Ki(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hy(t,e,n,o,l){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function lf(t,e,n,o,l,c,m,v,C){return t=new hy(t,e,n,v,C),e===1?(e=1,c===!0&&(e|=8)):e=0,c=Ki(3,null,null,e),t.current=c,c.stateNode=t,c.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j1(c),t}function fy(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function z2(t){if(!t)return Fr;t=t._reactInternals;e:{if(Ss(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(wi(n))return km(t,n,e)}return e}function U2(t,e,n,o,l,c,m,v,C){return t=lf(n,o,!0,t,l,c,m,v,C),t.context=z2(null),n=t.current,o=ci(),l=Rr(n),c=Xo(o,l),c.callback=e??null,br(n,c,l),t.current.lanes=l,ql(t,l,o),Ci(t,o),t}function qc(t,e,n,o){var l=e.current,c=ci(),m=Rr(l);return n=z2(n),e.context===null?e.context=n:e.pendingContext=n,e=Xo(c,m),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=br(l,e,m),t!==null&&(mo(t,l,m,c),Wd(t,l,m)),m}function Ec(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function df(t,e){mg(t,e),(t=t.alternate)&&mg(t,e)}function gy(){return null}var H2=typeof reportError=="function"?reportError:function(t){console.error(t)};function cf(t){this._internalRoot=t}$c.prototype.render=cf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));qc(t,e,null,null)};$c.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_s(function(){qc(null,t,null,null)}),e[qo]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=_m();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xr.length&&e!==0&&e<xr[n].priority;n++);xr.splice(n,0,t),n===0&&ym(t)}};function uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _g(){}function py(t,e,n,o,l){if(l){if(typeof o=="function"){var c=o;o=function(){var y=Ec(m);c.call(y)}}var m=U2(e,o,t,0,null,!1,!1,"",_g);return t._reactRootContainer=m,t[qo]=m.current,Ml(t.nodeType===8?t.parentNode:t),_s(),m}for(;l=t.lastChild;)t.removeChild(l);if(typeof o=="function"){var v=o;o=function(){var y=Ec(C);v.call(y)}}var C=lf(t,0,!1,null,null,!1,!1,"",_g);return t._reactRootContainer=C,t[qo]=C.current,Ml(t.nodeType===8?t.parentNode:t),_s(function(){qc(e,C,n,o)}),C}function eu(t,e,n,o,l){var c=n._reactRootContainer;if(c){var m=c;if(typeof l=="function"){var v=l;l=function(){var C=Ec(m);v.call(C)}}qc(e,m,t,l)}else m=py(n,e,t,l,o);return Ec(m)}pm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(N1(e,n|1),Ci(e,En()),!(bt&6)&&(_a=En()+500,Wr()))}break;case 13:_s(function(){var o=$o(t,1);if(o!==null){var l=ci();mo(o,t,1,l)}}),df(t,1)}};R1=function(t){if(t.tag===13){var e=$o(t,134217728);if(e!==null){var n=ci();mo(e,t,134217728,n)}df(t,134217728)}};mm=function(t){if(t.tag===13){var e=Rr(t),n=$o(t,e);if(n!==null){var o=ci();mo(n,t,e,o)}df(t,e)}};_m=function(){return zt};Em=function(t,e){var n=zt;try{return zt=t,e()}finally{zt=n}};ph=function(t,e,n){switch(e){case"input":if(lh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var l=jc(o);if(!l)throw Error(fe(90));Qp(o),lh(o,l)}}}break;case"textarea":qp(t,n);break;case"select":e=n.value,e!=null&&ea(t,!!n.multiple,e,!1)}};om=of;rm=_s;var my={usingClientEntryPoint:!1,Events:[Jl,js,jc,nm,im,of]},$a={findFiberByHostInstance:ss,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_y={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lm(t),t===null?null:t.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Uc=Od.inject(_y),Ro=Od}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;Ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(e))throw Error(fe(200));return fy(t,e,null,n)};Ui.createRoot=function(t,e){if(!uf(t))throw Error(fe(299));var n=!1,o="",l=H2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=lf(t,1,!1,null,null,n,!1,o,l),t[qo]=e.current,Ml(t.nodeType===8?t.parentNode:t),new cf(e)};Ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=lm(e),t=t===null?null:t.stateNode,t};Ui.flushSync=function(t){return _s(t)};Ui.hydrate=function(t,e,n){if(!Jc(e))throw Error(fe(200));return eu(null,t,e,!0,n)};Ui.hydrateRoot=function(t,e,n){if(!uf(t))throw Error(fe(405));var o=n!=null&&n.hydratedSources||null,l=!1,c="",m=H2;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),e=U2(e,null,t,1,n??null,l,!1,c,m),t[qo]=e.current,Ml(t),o)for(t=0;t<o.length;t++)n=o[t],l=n._getVersion,l=l(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,l]:e.mutableSourceEagerHydrationData.push(n,l);return new $c(e)};Ui.render=function(t,e,n){if(!Jc(e))throw Error(fe(200));return eu(null,t,e,!1,n)};Ui.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(fe(40));return t._reactRootContainer?(_s(function(){eu(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};Ui.unstable_batchedUpdates=of;Ui.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!Jc(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return eu(t,e,n,!1,o)};Ui.version="18.2.0-next-9e3b772b8-20220608";function W2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W2)}catch(t){console.error(t)}}W2(),Up.exports=Ui;var Ey=Up.exports,Eg=Ey;th.createRoot=Eg.createRoot,th.hydrateRoot=Eg.hydrateRoot;var V2={exports:{}},yy="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xy=yy,vy=xy;function j2(){}function G2(){}G2.resetWarningCache=j2;var wy=function(){function t(o,l,c,m,v,C){if(C!==vy){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G2,resetWarningCache:j2};return n.PropTypes=n,n};V2.exports=wy();var Cy=V2.exports;const Sy=kc(Cy),yg="/Mapa-UC/assets/elevatorLogo-30_jZ6Gw.png",Ay="/Mapa-UC/assets/emergencyExit-bK8ZRk4K.png";var Xh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,o){o(e)})(ks,function(n){var o="1.9.4";function l(s){var f,_,w,A;for(_=1,w=arguments.length;_<w;_++){A=arguments[_];for(f in A)s[f]=A[f]}return s}var c=Object.create||function(){function s(){}return function(f){return s.prototype=f,new s}}();function m(s,f){var _=Array.prototype.slice;if(s.bind)return s.bind.apply(s,_.call(arguments,1));var w=_.call(arguments,2);return function(){return s.apply(f,w.length?w.concat(_.call(arguments)):arguments)}}var v=0;function C(s){return"_leaflet_id"in s||(s._leaflet_id=++v),s._leaflet_id}function y(s,f,_){var w,A,M,z;return z=function(){w=!1,A&&(M.apply(_,A),A=!1)},M=function(){w?A=arguments:(s.apply(_,arguments),setTimeout(z,f),w=!0)},M}function N(s,f,_){var w=f[1],A=f[0],M=w-A;return s===w&&_?s:((s-A)%M+M)%M+A}function b(){return!1}function D(s,f){if(f===!1)return s;var _=Math.pow(10,f===void 0?6:f);return Math.round(s*_)/_}function V(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function X(s){return V(s).split(/\s+/)}function j(s,f){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?c(s.options):{});for(var _ in f)s.options[_]=f[_];return s.options}function ye(s,f,_){var w=[];for(var A in s)w.push(encodeURIComponent(_?A.toUpperCase():A)+"="+encodeURIComponent(s[A]));return(!f||f.indexOf("?")===-1?"?":"&")+w.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function F(s,f){return s.replace(W,function(_,w){var A=f[w];if(A===void 0)throw new Error("No value provided for variable "+_);return typeof A=="function"&&(A=A(f)),A})}var B=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function J(s,f){for(var _=0;_<s.length;_++)if(s[_]===f)return _;return-1}var Ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function de(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var K=0;function ge(s){var f=+new Date,_=Math.max(0,16-(f-K));return K=f+_,window.setTimeout(s,_)}var ne=window.requestAnimationFrame||de("RequestAnimationFrame")||ge,Pe=window.cancelAnimationFrame||de("CancelAnimationFrame")||de("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function $e(s,f,_){if(_&&ne===ge)s.call(f);else return ne.call(window,m(s,f))}function Ae(s){s&&Pe.call(window,s)}var ot={__proto__:null,extend:l,create:c,bind:m,get lastId(){return v},stamp:C,throttle:y,wrapNum:N,falseFn:b,formatNum:D,trim:V,splitWords:X,setOptions:j,getParamString:ye,template:F,isArray:B,indexOf:J,emptyImageUrl:Ee,requestFn:ne,cancelFn:Pe,requestAnimFrame:$e,cancelAnimFrame:Ae};function At(){}At.extend=function(s){var f=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=f.__super__=this.prototype,w=c(_);w.constructor=f,f.prototype=w;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(f[A]=this[A]);return s.statics&&l(f,s.statics),s.includes&&(ee(s.includes),l.apply(null,[w].concat(s.includes))),l(w,s),delete w.statics,delete w.includes,w.options&&(w.options=_.options?c(_.options):{},l(w.options,s.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,z=w._initHooks.length;M<z;M++)w._initHooks[M].call(this)}},f},At.include=function(s){var f=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=f,this.mergeOptions(s.options)),this},At.mergeOptions=function(s){return l(this.prototype.options,s),this},At.addInitHook=function(s){var f=Array.prototype.slice.call(arguments,1),_=typeof s=="function"?s:function(){this[s].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function ee(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=B(s)?s:[s];for(var f=0;f<s.length;f++)s[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ct={on:function(s,f,_){if(typeof s=="object")for(var w in s)this._on(w,s[w],f);else{s=X(s);for(var A=0,M=s.length;A<M;A++)this._on(s[A],f,_)}return this},off:function(s,f,_){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var w in s)this._off(w,s[w],f);else{s=X(s);for(var A=arguments.length===1,M=0,z=s.length;M<z;M++)A?this._off(s[M]):this._off(s[M],f,_)}return this},_on:function(s,f,_,w){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(s,f,_)===!1){_===this&&(_=void 0);var A={fn:f,ctx:_};w&&(A.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(A)}},_off:function(s,f,_){var w,A,M;if(this._events&&(w=this._events[s],!!w)){if(arguments.length===1){if(this._firingCount)for(A=0,M=w.length;A<M;A++)w[A].fn=b;delete this._events[s];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var z=this._listens(s,f,_);if(z!==!1){var Y=w[z];this._firingCount&&(Y.fn=b,this._events[s]=w=w.slice()),w.splice(z,1)}}},fire:function(s,f,_){if(!this.listens(s,_))return this;var w=l({},f,{type:s,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var A=this._events[s];if(A){this._firingCount=this._firingCount+1||1;for(var M=0,z=A.length;M<z;M++){var Y=A[M],$=Y.fn;Y.once&&this.off(s,$,Y.ctx),$.call(Y.ctx||this,w)}this._firingCount--}}return _&&this._propagateEvent(w),this},listens:function(s,f,_,w){typeof s!="string"&&console.warn('"string" type argument expected');var A=f;typeof f!="function"&&(w=!!f,A=void 0,_=void 0);var M=this._events&&this._events[s];if(M&&M.length&&this._listens(s,A,_)!==!1)return!0;if(w){for(var z in this._eventParents)if(this._eventParents[z].listens(s,f,_,w))return!0}return!1},_listens:function(s,f,_){if(!this._events)return!1;var w=this._events[s]||[];if(!f)return!!w.length;_===this&&(_=void 0);for(var A=0,M=w.length;A<M;A++)if(w[A].fn===f&&w[A].ctx===_)return A;return!1},once:function(s,f,_){if(typeof s=="object")for(var w in s)this._on(w,s[w],f,!0);else{s=X(s);for(var A=0,M=s.length;A<M;A++)this._on(s[A],f,_,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[C(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[C(s)],this},_propagateEvent:function(s){for(var f in this._eventParents)this._eventParents[f].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};ct.addEventListener=ct.on,ct.removeEventListener=ct.clearAllEventListeners=ct.off,ct.addOneTimeEventListener=ct.once,ct.fireEvent=ct.fire,ct.hasEventListeners=ct.listens;var ze=At.extend(ct);function te(s,f,_){this.x=_?Math.round(s):s,this.y=_?Math.round(f):f}var Fe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(s){return this.clone()._add(ce(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ce(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new te(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new te(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Fe(this.x),this.y=Fe(this.y),this},distanceTo:function(s){s=ce(s);var f=s.x-this.x,_=s.y-this.y;return Math.sqrt(f*f+_*_)},equals:function(s){return s=ce(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ce(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function ce(s,f,_){return s instanceof te?s:B(s)?new te(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new te(s.x,s.y):new te(s,f,_)}function He(s,f){if(s)for(var _=f?[s,f]:s,w=0,A=_.length;w<A;w++)this.extend(_[w])}He.prototype={extend:function(s){var f,_;if(!s)return this;if(s instanceof te||typeof s[0]=="number"||"x"in s)f=_=ce(s);else if(s=Ue(s),f=s.min,_=s.max,!f||!_)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=_.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(s){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var f,_;return typeof s[0]=="number"||s instanceof te?s=ce(s):s=Ue(s),s instanceof He?(f=s.min,_=s.max):f=_=s,f.x>=this.min.x&&_.x<=this.max.x&&f.y>=this.min.y&&_.y<=this.max.y},intersects:function(s){s=Ue(s);var f=this.min,_=this.max,w=s.min,A=s.max,M=A.x>=f.x&&w.x<=_.x,z=A.y>=f.y&&w.y<=_.y;return M&&z},overlaps:function(s){s=Ue(s);var f=this.min,_=this.max,w=s.min,A=s.max,M=A.x>f.x&&w.x<_.x,z=A.y>f.y&&w.y<_.y;return M&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var f=this.min,_=this.max,w=Math.abs(f.x-_.x)*s,A=Math.abs(f.y-_.y)*s;return Ue(ce(f.x-w,f.y-A),ce(_.x+w,_.y+A))},equals:function(s){return s?(s=Ue(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Ue(s,f){return!s||s instanceof He?s:new He(s,f)}function Pt(s,f){if(s)for(var _=f?[s,f]:s,w=0,A=_.length;w<A;w++)this.extend(_[w])}Pt.prototype={extend:function(s){var f=this._southWest,_=this._northEast,w,A;if(s instanceof ut)w=s,A=s;else if(s instanceof Pt){if(w=s._southWest,A=s._northEast,!w||!A)return this}else return s?this.extend(ie(s)||Ze(s)):this;return!f&&!_?(this._southWest=new ut(w.lat,w.lng),this._northEast=new ut(A.lat,A.lng)):(f.lat=Math.min(w.lat,f.lat),f.lng=Math.min(w.lng,f.lng),_.lat=Math.max(A.lat,_.lat),_.lng=Math.max(A.lng,_.lng)),this},pad:function(s){var f=this._southWest,_=this._northEast,w=Math.abs(f.lat-_.lat)*s,A=Math.abs(f.lng-_.lng)*s;return new Pt(new ut(f.lat-w,f.lng-A),new ut(_.lat+w,_.lng+A))},getCenter:function(){return new ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ut||"lat"in s?s=ie(s):s=Ze(s);var f=this._southWest,_=this._northEast,w,A;return s instanceof Pt?(w=s.getSouthWest(),A=s.getNorthEast()):w=A=s,w.lat>=f.lat&&A.lat<=_.lat&&w.lng>=f.lng&&A.lng<=_.lng},intersects:function(s){s=Ze(s);var f=this._southWest,_=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),M=A.lat>=f.lat&&w.lat<=_.lat,z=A.lng>=f.lng&&w.lng<=_.lng;return M&&z},overlaps:function(s){s=Ze(s);var f=this._southWest,_=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),M=A.lat>f.lat&&w.lat<_.lat,z=A.lng>f.lng&&w.lng<_.lng;return M&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,f){return s?(s=Ze(s),this._southWest.equals(s.getSouthWest(),f)&&this._northEast.equals(s.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ze(s,f){return s instanceof Pt?s:new Pt(s,f)}function ut(s,f,_){if(isNaN(s)||isNaN(f))throw new Error("Invalid LatLng object: ("+s+", "+f+")");this.lat=+s,this.lng=+f,_!==void 0&&(this.alt=+_)}ut.prototype={equals:function(s,f){if(!s)return!1;s=ie(s);var _=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return _<=(f===void 0?1e-9:f)},toString:function(s){return"LatLng("+D(this.lat,s)+", "+D(this.lng,s)+")"},distanceTo:function(s){return tt.distance(this,ie(s))},wrap:function(){return tt.wrapLatLng(this)},toBounds:function(s){var f=180*s/40075017,_=f/Math.cos(Math.PI/180*this.lat);return Ze([this.lat-f,this.lng-_],[this.lat+f,this.lng+_])},clone:function(){return new ut(this.lat,this.lng,this.alt)}};function ie(s,f,_){return s instanceof ut?s:B(s)&&typeof s[0]!="object"?s.length===3?new ut(s[0],s[1],s[2]):s.length===2?new ut(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ut(s.lat,"lng"in s?s.lng:s.lon,s.alt):f===void 0?null:new ut(s,f,_)}var ln={latLngToPoint:function(s,f){var _=this.projection.project(s),w=this.scale(f);return this.transformation._transform(_,w)},pointToLatLng:function(s,f){var _=this.scale(f),w=this.transformation.untransform(s,_);return this.projection.unproject(w)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var f=this.projection.bounds,_=this.scale(s),w=this.transformation.transform(f.min,_),A=this.transformation.transform(f.max,_);return new He(w,A)},infinite:!1,wrapLatLng:function(s){var f=this.wrapLng?N(s.lng,this.wrapLng,!0):s.lng,_=this.wrapLat?N(s.lat,this.wrapLat,!0):s.lat,w=s.alt;return new ut(_,f,w)},wrapLatLngBounds:function(s){var f=s.getCenter(),_=this.wrapLatLng(f),w=f.lat-_.lat,A=f.lng-_.lng;if(w===0&&A===0)return s;var M=s.getSouthWest(),z=s.getNorthEast(),Y=new ut(M.lat-w,M.lng-A),$=new ut(z.lat-w,z.lng-A);return new Pt(Y,$)}},tt=l({},ln,{wrapLng:[-180,180],R:6371e3,distance:function(s,f){var _=Math.PI/180,w=s.lat*_,A=f.lat*_,M=Math.sin((f.lat-s.lat)*_/2),z=Math.sin((f.lng-s.lng)*_/2),Y=M*M+Math.cos(w)*Math.cos(A)*z*z,$=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*$}}),rt=6378137,eo={R:rt,MAX_LATITUDE:85.0511287798,project:function(s){var f=Math.PI/180,_=this.MAX_LATITUDE,w=Math.max(Math.min(_,s.lat),-_),A=Math.sin(w*f);return new te(this.R*s.lng*f,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(s){var f=180/Math.PI;return new ut((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*f,s.x*f/this.R)},bounds:function(){var s=rt*Math.PI;return new He([-s,-s],[s,s])}()};function nt(s,f,_,w){if(B(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=f,this._c=_,this._d=w}nt.prototype={transform:function(s,f){return this._transform(s.clone(),f)},_transform:function(s,f){return f=f||1,s.x=f*(this._a*s.x+this._b),s.y=f*(this._c*s.y+this._d),s},untransform:function(s,f){return f=f||1,new te((s.x/f-this._b)/this._a,(s.y/f-this._d)/this._c)}};function Ai(s,f,_,w){return new nt(s,f,_,w)}var gt=l({},tt,{code:"EPSG:3857",projection:eo,transformation:function(){var s=.5/(Math.PI*eo.R);return Ai(s,.5,-s,.5)}()}),fi=l({},gt,{code:"EPSG:900913"});function ii(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function yo(s,f){var _="",w,A,M,z,Y,$;for(w=0,M=s.length;w<M;w++){for(Y=s[w],A=0,z=Y.length;A<z;A++)$=Y[A],_+=(A?"L":"M")+$.x+" "+$.y;_+=f?le.svg?"z":"x":""}return _||"M0 0"}var dn=document.documentElement.style,Tt="ActiveXObject"in window,st=Tt&&!document.addEventListener,Lo="msLaunchUri"in navigator&&!("documentMode"in document),Te=De("webkit"),Do=De("android"),Vr=De("android 2")||De("android 3"),Ti=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),or=Do&&De("Google")&&Ti<537&&!("AudioNode"in window),Hn=!!window.opera,jr=!Lo&&De("chrome"),Ii=De("gecko")&&!Te&&!Hn&&!Tt,Cn=!jr&&De("safari"),Gr=De("phantom"),Oo="OTransition"in dn,ba=navigator.platform.indexOf("Win")===0,Be=Tt&&"transition"in dn,pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vr,$t="MozPerspective"in dn,Rt=!window.L_DISABLE_3D&&(Be||pe||$t)&&!Oo&&!Gr,Ft=typeof orientation<"u"||De("mobile"),Po=Ft&&Te,Zr=Ft&&pe,rr=!window.PointerEvent&&window.MSPointerEvent,yt=!!(window.PointerEvent||rr),bi="ontouchstart"in window||!!window.TouchEvent,Is=!window.L_NO_TOUCH&&(bi||yt),bs=Ft&&Hn,Gn=Ft&&Ii,sr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,k=function(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",b,f),window.removeEventListener("testPassiveEventSupport",b,f)}catch{}return s}(),re=function(){return!!document.createElement("canvas").getContext}(),we=!!(document.createElementNS&&ii("svg").createSVGRect),be=!!we&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ge=!we&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var f=s.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),wt=navigator.platform.indexOf("Mac")===0,Je=navigator.platform.indexOf("Linux")===0;function De(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var le={ie:Tt,ielt9:st,edge:Lo,webkit:Te,android:Do,android23:Vr,androidStock:or,opera:Hn,chrome:jr,gecko:Ii,safari:Cn,phantom:Gr,opera12:Oo,win:ba,ie3d:Be,webkit3d:pe,gecko3d:$t,any3d:Rt,mobile:Ft,mobileWebkit:Po,mobileWebkit3d:Zr,msPointer:rr,pointer:yt,touch:Is,touchNative:bi,mobileOpera:bs,mobileGecko:Gn,retina:sr,passiveEvents:k,canvas:re,svg:we,vml:Ge,inlineSvg:be,mac:wt,linux:Je},Wt=le.msPointer?"MSPointerDown":"pointerdown",_e=le.msPointer?"MSPointerMove":"pointermove",at=le.msPointer?"MSPointerUp":"pointerup",Me=le.msPointer?"MSPointerCancel":"pointercancel",Se={touchstart:Wt,touchmove:_e,touchend:at,touchcancel:Me},Ye={touchstart:xo,touchmove:Yr,touchend:Yr,touchcancel:Yr},Xe={},Sn=!1;function Qe(s,f,_){return f==="touchstart"&&Ut(),Ye[f]?(_=Ye[f].bind(this,_),s.addEventListener(Se[f],_,!1),_):(console.warn("wrong event specified:",f),b)}function pt(s,f,_){if(!Se[f]){console.warn("wrong event specified:",f);return}s.removeEventListener(Se[f],_,!1)}function Na(s){Xe[s.pointerId]=s}function gi(s){Xe[s.pointerId]&&(Xe[s.pointerId]=s)}function Lt(s){delete Xe[s.pointerId]}function Ut(){Sn||(document.addEventListener(Wt,Na,!0),document.addEventListener(_e,gi,!0),document.addEventListener(at,Lt,!0),document.addEventListener(Me,Lt,!0),Sn=!0)}function Yr(s,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var _ in Xe)f.touches.push(Xe[_]);f.changedTouches=[f],s(f)}}function xo(s,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Tn(f),Yr(s,f)}function Ra(s){var f={},_,w;for(w in s)_=s[w],f[w]=_&&_.bind?_.bind(s):_;return s=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var oe=200;function cu(s,f){s.addEventListener("dblclick",f);var _=0,w;function A(M){if(M.detail!==1){w=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var z=lr(M);if(!(z.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!z.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var Y=Date.now();Y-_<=oe?(w++,w===2&&f(Ra(M))):w=1,_=Y}}}return s.addEventListener("click",A),{dblclick:f,simDblclick:A}}function sn(s,f){s.removeEventListener("dblclick",f.dblclick),s.removeEventListener("click",f.simDblclick)}var vo=Z(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xr=Z(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),It=Xr==="webkitTransition"||Xr==="OTransition"?Xr+"End":"transitionend";function St(s){return typeof s=="string"?document.getElementById(s):s}function it(s,f){var _=s.style[f]||s.currentStyle&&s.currentStyle[f];if((!_||_==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(s,null);_=w?w[f]:null}return _==="auto"?null:_}function xt(s,f,_){var w=document.createElement(s);return w.className=f||"",_&&_.appendChild(w),w}function Vt(s){var f=s.parentNode;f&&f.removeChild(s)}function ar(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Yt(s){var f=s.parentNode;f&&f.lastChild!==s&&f.appendChild(s)}function oi(s){var f=s.parentNode;f&&f.firstChild!==s&&f.insertBefore(s,f.firstChild)}function Ma(s,f){if(s.classList!==void 0)return s.classList.contains(f);var _=to(s);return _.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(_)}function Le(s,f){if(s.classList!==void 0)for(var _=X(f),w=0,A=_.length;w<A;w++)s.classList.add(_[w]);else if(!Ma(s,f)){var M=to(s);La(s,(M?M+" ":"")+f)}}function Dt(s,f){s.classList!==void 0?s.classList.remove(f):La(s,V((" "+to(s)+" ").replace(" "+f+" "," ")))}function La(s,f){s.className.baseVal===void 0?s.className=f:s.className.baseVal=f}function to(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function lt(s,f){"opacity"in s.style?s.style.opacity=f:"filter"in s.style&&Ln(s,f)}function Ln(s,f){var _=!1,w="DXImageTransform.Microsoft.Alpha";try{_=s.filters.item(w)}catch{if(f===1)return}f=Math.round(f*100),_?(_.Enabled=f!==100,_.Opacity=f):s.style.filter+=" progid:"+w+"(opacity="+f+")"}function Z(s){for(var f=document.documentElement.style,_=0;_<s.length;_++)if(s[_]in f)return s[_];return!1}function O(s,f,_){var w=f||new te(0,0);s.style[vo]=(le.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(_?" scale("+_+")":"")}function xe(s,f){s._leaflet_pos=f,le.any3d?O(s,f):(s.style.left=f.x+"px",s.style.top=f.y+"px")}function Xt(s){return s._leaflet_pos||new te(0,0)}var Dn,Qr,Kr;if("onselectstart"in document)Dn=function(){Ve(window,"selectstart",Tn)},Qr=function(){ve(window,"selectstart",Tn)};else{var On=Z(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dn=function(){if(On){var s=document.documentElement.style;Kr=s[On],s[On]="none"}},Qr=function(){On&&(document.documentElement.style[On]=Kr,Kr=void 0)}}function Oe(){Ve(window,"dragstart",Tn)}function jt(){ve(window,"dragstart",Tn)}var qr,Da;function $r(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Fo(),qr=s,Da=s.style.outlineStyle,s.style.outlineStyle="none",Ve(window,"keydown",Fo))}function Fo(){qr&&(qr.style.outlineStyle=Da,qr=void 0,Da=void 0,ve(window,"keydown",Fo))}function Ns(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Oa(s){var f=s.getBoundingClientRect();return{x:f.width/s.offsetWidth||1,y:f.height/s.offsetHeight||1,boundingClientRect:f}}var yn={__proto__:null,TRANSFORM:vo,TRANSITION:Xr,TRANSITION_END:It,get:St,getStyle:it,create:xt,remove:Vt,empty:ar,toFront:Yt,toBack:oi,hasClass:Ma,addClass:Le,removeClass:Dt,setClass:La,getClass:to,setOpacity:lt,testProp:Z,setTransform:O,setPosition:xe,getPosition:Xt,get disableTextSelection(){return Dn},get enableTextSelection(){return Qr},disableImageDrag:Oe,enableImageDrag:jt,preventOutline:$r,restoreOutline:Fo,getSizedParentNode:Ns,getScale:Oa};function Ve(s,f,_,w){if(f&&typeof f=="object")for(var A in f)_n(s,A,f[A],_);else{f=X(f);for(var M=0,z=f.length;M<z;M++)_n(s,f[M],_,w)}return this}var An="_leaflet_events";function ve(s,f,_,w){if(arguments.length===1)ld(s),delete s[An];else if(f&&typeof f=="object")for(var A in f)Pa(s,A,f[A],_);else if(f=X(f),arguments.length===2)ld(s,function(Y){return J(f,Y)!==-1});else for(var M=0,z=f.length;M<z;M++)Pa(s,f[M],_,w);return this}function ld(s,f){for(var _ in s[An]){var w=_.split(/\d/)[0];(!f||f(w))&&Pa(s,w,null,null,_)}}var Ke={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _n(s,f,_,w){var A=f+C(_)+(w?"_"+C(w):"");if(s[An]&&s[An][A])return this;var M=function(Y){return _.call(w||s,Y||window.event)},z=M;!le.touchNative&&le.pointer&&f.indexOf("touch")===0?M=Qe(s,f,M):le.touch&&f==="dblclick"?M=cu(s,M):"addEventListener"in s?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?s.addEventListener(Ke[f]||f,M,le.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(M=function(Y){Y=Y||window.event,Bo(s,Y)&&z(Y)},s.addEventListener(Ke[f],M,!1)):s.addEventListener(f,z,!1):s.attachEvent("on"+f,M),s[An]=s[An]||{},s[An][A]=M}function Pa(s,f,_,w,A){A=A||f+C(_)+(w?"_"+C(w):"");var M=s[An]&&s[An][A];if(!M)return this;!le.touchNative&&le.pointer&&f.indexOf("touch")===0?pt(s,f,M):le.touch&&f==="dblclick"?sn(s,M):"removeEventListener"in s?s.removeEventListener(Ke[f]||f,M,!1):s.detachEvent("on"+f,M),s[An][A]=null}function no(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Rs(s){return _n(s,"wheel",no),this}function Ni(s){return Ve(s,"mousedown touchstart dblclick contextmenu",no),s._leaflet_disable_click=!0,this}function Tn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ri(s){return Tn(s),no(s),this}function lr(s){if(s.composedPath)return s.composedPath();for(var f=[],_=s.target;_;)f.push(_),_=_.parentNode;return f}function dr(s,f){if(!f)return new te(s.clientX,s.clientY);var _=Oa(f),w=_.boundingClientRect;return new te((s.clientX-w.left)/_.x-f.clientLeft,(s.clientY-w.top)/_.y-f.clientTop)}var dd=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cr(s){return le.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/dd:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Bo(s,f){var _=f.relatedTarget;if(!_)return!0;try{for(;_&&_!==s;)_=_.parentNode}catch{return!1}return _!==s}var Zn={__proto__:null,on:Ve,off:ve,stopPropagation:no,disableScrollPropagation:Rs,disableClickPropagation:Ni,preventDefault:Tn,stop:Ri,getPropagationPath:lr,getMousePosition:dr,getWheelDelta:cr,isExternalTarget:Bo,addListener:Ve,removeListener:ve},Fa=ze.extend({run:function(s,f,_,w){this.stop(),this._el=s,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Xt(s),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$e(this._animate,this),this._step()},_step:function(s){var f=+new Date-this._startTime,_=this._duration*1e3;f<_?this._runFrame(this._easeOut(f/_),s):(this._runFrame(1),this._complete())},_runFrame:function(s,f){var _=this._startPos.add(this._offset.multiplyBy(s));f&&_._round(),xe(this._el,_),this.fire("step")},_complete:function(){Ae(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),mt=ze.extend({options:{crs:gt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,f){f=j(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(ie(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xr&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ve(this._proxy,It,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,f,_){if(f=f===void 0?this._zoom:this._limitZoom(f),s=this._limitCenter(ie(s),f,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=l({animate:_.animate},_.zoom),_.pan=l({animate:_.animate,duration:_.duration},_.pan));var w=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,f,_.zoom):this._tryAnimatedPan(s,_.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(s,f,_.pan&&_.pan.noMoveStart),this},setZoom:function(s,f){return this._loaded?this.setView(this.getCenter(),s,{zoom:f}):(this._zoom=s,this)},zoomIn:function(s,f){return s=s||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,f)},zoomOut:function(s,f){return s=s||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,f)},setZoomAround:function(s,f,_){var w=this.getZoomScale(f),A=this.getSize().divideBy(2),M=s instanceof te?s:this.latLngToContainerPoint(s),z=M.subtract(A).multiplyBy(1-1/w),Y=this.containerPointToLatLng(A.add(z));return this.setView(Y,f,{zoom:_})},_getBoundsCenterZoom:function(s,f){f=f||{},s=s.getBounds?s.getBounds():Ze(s);var _=ce(f.paddingTopLeft||f.padding||[0,0]),w=ce(f.paddingBottomRight||f.padding||[0,0]),A=this.getBoundsZoom(s,!1,_.add(w));if(A=typeof f.maxZoom=="number"?Math.min(f.maxZoom,A):A,A===1/0)return{center:s.getCenter(),zoom:A};var M=w.subtract(_).divideBy(2),z=this.project(s.getSouthWest(),A),Y=this.project(s.getNorthEast(),A),$=this.unproject(z.add(Y).divideBy(2).add(M),A);return{center:$,zoom:A}},fitBounds:function(s,f){if(s=Ze(s),!s.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(s,f);return this.setView(_.center,_.zoom,f)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,f){return this.setView(s,this._zoom,{pan:f})},panBy:function(s,f){if(s=ce(s).round(),f=f||{},!s.x&&!s.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,_,f.duration||.25,f.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,f,_){if(_=_||{},_.animate===!1||!le.any3d)return this.setView(s,f,_);this._stop();var w=this.project(this.getCenter()),A=this.project(s),M=this.getSize(),z=this._zoom;s=ie(s),f=f===void 0?z:f;var Y=Math.max(M.x,M.y),$=Y*this.getZoomScale(z,f),se=A.distanceTo(w)||1,Ce=1.42,We=Ce*Ce;function ht(vn){var _d=vn?-1:1,W3=vn?$:Y,V3=$*$-Y*Y+_d*We*We*se*se,j3=2*W3*We*se,_u=V3/j3,d0=Math.sqrt(_u*_u+1)-_u,G3=d0<1e-9?-18:Math.log(d0);return G3}function li(vn){return(Math.exp(vn)-Math.exp(-vn))/2}function Pn(vn){return(Math.exp(vn)+Math.exp(-vn))/2}function Yi(vn){return li(vn)/Pn(vn)}var mi=ht(0);function Ps(vn){return Y*(Pn(mi)/Pn(mi+Ce*vn))}function k3(vn){return Y*(Pn(mi)*Yi(mi+Ce*vn)-li(mi))/We}function z3(vn){return 1-Math.pow(1-vn,1.5)}var U3=Date.now(),a0=(ht(1)-mi)/Ce,H3=_.duration?1e3*_.duration:1e3*a0*.8;function l0(){var vn=(Date.now()-U3)/H3,_d=z3(vn)*a0;vn<=1?(this._flyToFrame=$e(l0,this),this._move(this.unproject(w.add(A.subtract(w).multiplyBy(k3(_d)/se)),z),this.getScaleZoom(Y/Ps(_d),z),{flyTo:!0})):this._move(s,f)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),l0.call(this),this},flyToBounds:function(s,f){var _=this._getBoundsCenterZoom(s,f);return this.flyTo(_.center,_.zoom,f)},setMaxBounds:function(s){return s=Ze(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var f=this.options.minZoom;return this.options.minZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var f=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,f){this._enforcingBounds=!0;var _=this.getCenter(),w=this._limitCenter(_,this._zoom,Ze(s));return _.equals(w)||this.panTo(w,f),this._enforcingBounds=!1,this},panInside:function(s,f){f=f||{};var _=ce(f.paddingTopLeft||f.padding||[0,0]),w=ce(f.paddingBottomRight||f.padding||[0,0]),A=this.project(this.getCenter()),M=this.project(s),z=this.getPixelBounds(),Y=Ue([z.min.add(_),z.max.subtract(w)]),$=Y.getSize();if(!Y.contains(M)){this._enforcingBounds=!0;var se=M.subtract(Y.getCenter()),Ce=Y.extend(M).getSize().subtract($);A.x+=se.x<0?-Ce.x:Ce.x,A.y+=se.y<0?-Ce.y:Ce.y,this.panTo(this.unproject(A),f),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),w=f.divideBy(2).round(),A=_.divideBy(2).round(),M=w.subtract(A);return!M.x&&!M.y?this:(s.animate&&s.pan?this.panBy(M):(s.pan&&this._rawPanBy(M),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=m(this._handleGeolocationResponse,this),_=m(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,_,s):navigator.geolocation.getCurrentPosition(f,_,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var f=s.code,_=s.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=s.coords.latitude,_=s.coords.longitude,w=new ut(f,_),A=w.toBounds(s.coords.accuracy*2),M=this._locateOptions;if(M.setView){var z=this.getBoundsZoom(A);this.setView(w,M.maxZoom?Math.min(z,M.maxZoom):z)}var Y={latlng:w,bounds:A,timestamp:s.timestamp};for(var $ in s.coords)typeof s.coords[$]=="number"&&(Y[$]=s.coords[$]);this.fire("locationfound",Y)}},addHandler:function(s,f){if(!f)return this;var _=this[s]=new f(this);return this._handlers.push(_),this.options[s]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ae(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Vt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,f){var _="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),w=xt("div",_,f||this._mapPane);return s&&(this._panes[s]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),f=this.unproject(s.getBottomLeft()),_=this.unproject(s.getTopRight());return new Pt(f,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,f,_){s=Ze(s),_=ce(_||[0,0]);var w=this.getZoom()||0,A=this.getMinZoom(),M=this.getMaxZoom(),z=s.getNorthWest(),Y=s.getSouthEast(),$=this.getSize().subtract(_),se=Ue(this.project(Y,w),this.project(z,w)).getSize(),Ce=le.any3d?this.options.zoomSnap:1,We=$.x/se.x,ht=$.y/se.y,li=f?Math.max(We,ht):Math.min(We,ht);return w=this.getScaleZoom(li,w),Ce&&(w=Math.round(w/(Ce/100))*(Ce/100),w=f?Math.ceil(w/Ce)*Ce:Math.floor(w/Ce)*Ce),Math.max(A,Math.min(M,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,f){var _=this._getTopLeftPoint(s,f);return new He(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,f){var _=this.options.crs;return f=f===void 0?this._zoom:f,_.scale(s)/_.scale(f)},getScaleZoom:function(s,f){var _=this.options.crs;f=f===void 0?this._zoom:f;var w=_.zoom(s*_.scale(f));return isNaN(w)?1/0:w},project:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(ie(s),f)},unproject:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(ce(s),f)},layerPointToLatLng:function(s){var f=ce(s).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(s){var f=this.project(ie(s))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ie(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ze(s))},distance:function(s,f){return this.options.crs.distance(ie(s),ie(f))},containerPointToLayerPoint:function(s){return ce(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ce(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var f=this.containerPointToLayerPoint(ce(s));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(s)))},mouseEventToContainerPoint:function(s){return dr(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var f=this._container=St(s);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ve(f,"scroll",this._onScroll,this),this._containerId=C(f)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,Le(s,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=it(s,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xe(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(s.markerPane,"leaflet-zoom-hide"),Le(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,f,_){xe(this._mapPane,new te(0,0));var w=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var A=this._zoom!==f;this._moveStart(A,_)._move(s,f)._moveEnd(A),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(s,f){return s&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(s,f,_,w){f===void 0&&(f=this._zoom);var A=this._zoom!==f;return this._zoom=f,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),w?_&&_.pinch&&this.fire("zoom",_):((A||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ae(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){xe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[C(this._container)]=this;var f=s?ve:Ve;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ae(this._resizeRequest),this._resizeRequest=$e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,f){for(var _=[],w,A=f==="mouseout"||f==="mouseover",M=s.target||s.srcElement,z=!1;M;){if(w=this._targets[C(M)],w&&(f==="click"||f==="preclick")&&this._draggableMoved(w)){z=!0;break}if(w&&w.listens(f,!0)&&(A&&!Bo(M,s)||(_.push(w),A))||M===this._container)break;M=M.parentNode}return!_.length&&!z&&!A&&this.listens(f,!0)&&(_=[this]),_},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var f=s.target||s.srcElement;if(!(!this._loaded||f._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(f))){var _=s.type;_==="mousedown"&&$r(f),this._fireDOMEvent(s,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,f,_){if(s.type==="click"){var w=l({},s);w.type="preclick",this._fireDOMEvent(w,w.type,_)}var A=this._findEventTargets(s,f);if(_){for(var M=[],z=0;z<_.length;z++)_[z].listens(f,!0)&&M.push(_[z]);A=M.concat(A)}if(A.length){f==="contextmenu"&&Tn(s);var Y=A[0],$={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var se=Y.getLatLng&&(!Y._radius||Y._radius<=10);$.containerPoint=se?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(s),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=se?Y.getLatLng():this.layerPointToLatLng($.layerPoint)}for(z=0;z<A.length;z++)if(A[z].fire(f,$,!0),$.originalEvent._stopped||A[z].options.bubblingMouseEvents===!1&&J(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,f=this._handlers.length;s<f;s++)this._handlers[s].disable()},whenReady:function(s,f){return this._loaded?s.call(f||this,{target:this}):this.on("load",s,f),this},_getMapPanePos:function(){return Xt(this._mapPane)||new te(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,f){var _=s&&f!==void 0?this._getNewPixelOrigin(s,f):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,f){var _=this.getSize()._divideBy(2);return this.project(s,f)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,f,_){var w=this._getNewPixelOrigin(_,f);return this.project(s,f)._subtract(w)},_latLngBoundsToNewLayerBounds:function(s,f,_){var w=this._getNewPixelOrigin(_,f);return Ue([this.project(s.getSouthWest(),f)._subtract(w),this.project(s.getNorthWest(),f)._subtract(w),this.project(s.getSouthEast(),f)._subtract(w),this.project(s.getNorthEast(),f)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,f,_){if(!_)return s;var w=this.project(s,f),A=this.getSize().divideBy(2),M=new He(w.subtract(A),w.add(A)),z=this._getBoundsOffset(M,_,f);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?s:this.unproject(w.add(z),f)},_limitOffset:function(s,f){if(!f)return s;var _=this.getPixelBounds(),w=new He(_.min.add(s),_.max.add(s));return s.add(this._getBoundsOffset(w,f))},_getBoundsOffset:function(s,f,_){var w=Ue(this.project(f.getNorthEast(),_),this.project(f.getSouthWest(),_)),A=w.min.subtract(s.min),M=w.max.subtract(s.max),z=this._rebound(A.x,-M.x),Y=this._rebound(A.y,-M.y);return new te(z,Y)},_rebound:function(s,f){return s+f>0?Math.round(s-f)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(f))},_limitZoom:function(s){var f=this.getMinZoom(),_=this.getMaxZoom(),w=le.any3d?this.options.zoomSnap:1;return w&&(s=Math.round(s/w)*w),Math.max(f,Math.min(_,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,f){var _=this._getCenterOffset(s)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,f),!0)},_createAnimProxy:function(){var s=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(f){var _=vo,w=this._proxy.style[_];O(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),w===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),f=this.getZoom();O(this._proxy,this.project(s,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,f,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(f),A=this._getCenterOffset(s)._divideBy(1-1/w);return _.animate!==!0&&!this.getSize().contains(A)?!1:($e(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(s,f,!0)},this),!0)},_animateZoom:function(s,f,_,w){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=f,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:f,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function cd(s,f){return new mt(s,f)}var Mi=At.extend({options:{position:"topright"},initialize:function(s){j(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var f=this._map;return f&&f.removeControl(this),this.options.position=s,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var f=this._container=this.onAdd(s),_=this.getPosition(),w=s._controlCorners[_];return Le(f,"leaflet-control"),_.indexOf("bottom")!==-1?w.insertBefore(f,w.firstChild):w.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Jr=function(s){return new Mi(s)};mt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},f="leaflet-",_=this._controlContainer=xt("div",f+"control-container",this._container);function w(A,M){var z=f+A+" "+f+M;s[A+M]=xt("div",z,_)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Vt(this._controlCorners[s]);Vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ud=Mi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,f,_,w){return _<w?-1:w<_?1:0}},initialize:function(s,f,_){j(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in s)this._addLayer(s[w],w);for(w in f)this._addLayer(f[w],w,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Mi.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,f){return this._addLayer(s,f),this._map?this._update():this},addOverlay:function(s,f){return this._addLayer(s,f,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var f=this._getLayer(C(s));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",f=this._container=xt("div",s),_=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Ni(f),Rs(f);var w=this._section=xt("section",s+"-list");_&&(this._map.on("click",this.collapse,this),Ve(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=xt("a",s+"-toggle",f);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ve(A,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Tn(M),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=xt("div",s+"-base",w),this._separator=xt("div",s+"-separator",w),this._overlaysList=xt("div",s+"-overlays",w),f.appendChild(w)},_getLayer:function(s){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&C(this._layers[f].layer)===s)return this._layers[f]},_addLayer:function(s,f,_){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:f,overlay:_}),this.options.sortLayers&&this._layers.sort(m(function(w,A){return this.options.sortFunction(w.layer,A.layer,w.name,A.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ar(this._baseLayersList),ar(this._overlaysList),this._layerControlInputs=[];var s,f,_,w,A=0;for(_=0;_<this._layers.length;_++)w=this._layers[_],this._addItem(w),f=f||w.overlay,s=s||!w.overlay,A+=w.overlay?0:1;return this.options.hideSingleBase&&(s=s&&A>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=f&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var f=this._getLayer(C(s.target)),_=f.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;_&&this._map.fire(_,f)},_createRadioElement:function(s,f){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(f?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=_,w.firstChild},_addItem:function(s){var f=document.createElement("label"),_=this._map.hasLayer(s.layer),w;s.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=_):w=this._createRadioElement("leaflet-base-layers_"+C(this),_),this._layerControlInputs.push(w),w.layerId=C(s.layer),Ve(w,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+s.name;var M=document.createElement("span");f.appendChild(M),M.appendChild(w),M.appendChild(A);var z=s.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,f,_,w=[],A=[];this._handlingClick=!0;for(var M=s.length-1;M>=0;M--)f=s[M],_=this._getLayer(f.layerId).layer,f.checked?w.push(_):f.checked||A.push(_);for(M=0;M<A.length;M++)this._map.hasLayer(A[M])&&this._map.removeLayer(A[M]);for(M=0;M<w.length;M++)this._map.hasLayer(w[M])||this._map.addLayer(w[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,f,_,w=this._map.getZoom(),A=s.length-1;A>=0;A--)f=s[A],_=this._getLayer(f.layerId).layer,f.disabled=_.options.minZoom!==void 0&&w<_.options.minZoom||_.options.maxZoom!==void 0&&w>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ve(s,"click",Tn),this.expand();var f=this;setTimeout(function(){ve(s,"click",Tn),f._preventClick=!1})}}),Ot=function(s,f,_){return new ud(s,f,_)},Ms=Mi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var f="leaflet-control-zoom",_=xt("div",f+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,f+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,f+"-out",_,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,f,_,w,A){var M=xt("a",_,w);return M.innerHTML=s,M.href="#",M.title=f,M.setAttribute("role","button"),M.setAttribute("aria-label",f),Ni(M),Ve(M,"click",Ri),Ve(M,"click",A,this),Ve(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var s=this._map,f="leaflet-disabled";Dt(this._zoomInButton,f),Dt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Le(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Le(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});mt.mergeOptions({zoomControl:!0}),mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ms,this.addControl(this.zoomControl))});var Ls=function(s){return new Ms(s)},io=Mi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var f="leaflet-control-scale",_=xt("div",f),w=this.options;return this._addScales(w,f+"-line",_),s.on(w.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),_},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,f,_){s.metric&&(this._mScale=xt("div",f,_)),s.imperial&&(this._iScale=xt("div",f,_))},_update:function(){var s=this._map,f=s.getSize().y/2,_=s.distance(s.containerPointToLatLng([0,f]),s.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(_)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var f=this._getRoundNum(s),_=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,_,f/s)},_updateImperial:function(s){var f=s*3.2808399,_,w,A;f>5280?(_=f/5280,w=this._getRoundNum(_),this._updateScale(this._iScale,w+" mi",w/_)):(A=this._getRoundNum(f),this._updateScale(this._iScale,A+" ft",A/f))},_updateScale:function(s,f,_){s.style.width=Math.round(this.options.maxWidth*_)+"px",s.innerHTML=f},_getRoundNum:function(s){var f=Math.pow(10,(Math.floor(s)+"").length-1),_=s/f;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,f*_}}),uu=function(s){return new io(s)},q='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',et=Mi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?q+" ":"")+"Leaflet</a>"},initialize:function(s){j(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),Ni(this._container);for(var f in s._layers)s._layers[f].getAttribution&&this.addAttribution(s._layers[f].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var f in this._attributions)this._attributions[f]&&s.push(f);var _=[];this.options.prefix&&_.push(this.options.prefix),s.length&&_.push(s.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});mt.mergeOptions({attributionControl:!0}),mt.addInitHook(function(){this.options.attributionControl&&new et().addTo(this)});var In=function(s){return new et(s)};Mi.Layers=ud,Mi.Zoom=Ms,Mi.Scale=io,Mi.Attribution=et,Jr.layers=Ot,Jr.zoom=Ls,Jr.scale=uu,Jr.attribution=In;var ri=At.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ri.addTo=function(s,f){return s.addHandler(f,this),this};var hd={Events:ct},fd=le.touch?"touchstart mousedown":"mousedown",wo=ze.extend({options:{clickTolerance:3},initialize:function(s,f,_,w){j(this,w),this._element=s,this._dragStartTarget=f||s,this._preventOutline=_},enable:function(){this._enabled||(Ve(this._dragStartTarget,fd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wo._dragging===this&&this.finishDrag(!0),ve(this._dragStartTarget,fd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ma(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){wo._dragging===this&&this.finishDrag();return}if(!(wo._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(wo._dragging=this,this._preventOutline&&$r(this._element),Oe(),Dn(),!this._moving)){this.fire("down");var f=s.touches?s.touches[0]:s,_=Ns(this._element);this._startPoint=new te(f.clientX,f.clientY),this._startPos=Xt(this._element),this._parentScale=Oa(_);var w=s.type==="mousedown";Ve(document,w?"mousemove":"touchmove",this._onMove,this),Ve(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var f=s.touches&&s.touches.length===1?s.touches[0]:s,_=new te(f.clientX,f.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Tn(s),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),xe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Dt(document.body,"leaflet-dragging"),this._lastTarget&&(Dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ve(document,"mousemove touchmove",this._onMove,this),ve(document,"mouseup touchend touchcancel",this._onUp,this),jt(),Qr();var f=this._moved&&this._moving;this._moving=!1,wo._dragging=!1,f&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function gd(s,f,_){var w,A=[1,4,2,8],M,z,Y,$,se,Ce,We,ht;for(M=0,Ce=s.length;M<Ce;M++)s[M]._code=zo(s[M],f);for(Y=0;Y<4;Y++){for(We=A[Y],w=[],M=0,Ce=s.length,z=Ce-1;M<Ce;z=M++)$=s[M],se=s[z],$._code&We?se._code&We||(ht=oo(se,$,We,f,_),ht._code=zo(ht,f),w.push(ht)):(se._code&We&&(ht=oo(se,$,We,f,_),ht._code=zo(ht,f),w.push(ht)),w.push($));s=w}return s}function Ds(s,f){var _,w,A,M,z,Y,$,se,Ce;if(!s||s.length===0)throw new Error("latlngs not passed");si(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var We=ie([0,0]),ht=Ze(s),li=ht.getNorthWest().distanceTo(ht.getSouthWest())*ht.getNorthEast().distanceTo(ht.getNorthWest());li<1700&&(We=cn(s));var Pn=s.length,Yi=[];for(_=0;_<Pn;_++){var mi=ie(s[_]);Yi.push(f.project(ie([mi.lat-We.lat,mi.lng-We.lng])))}for(Y=$=se=0,_=0,w=Pn-1;_<Pn;w=_++)A=Yi[_],M=Yi[w],z=A.y*M.x-M.y*A.x,$+=(A.x+M.x)*z,se+=(A.y+M.y)*z,Y+=z*3;Y===0?Ce=Yi[0]:Ce=[$/Y,se/Y];var Ps=f.unproject(ce(Ce));return ie([Ps.lat+We.lat,Ps.lng+We.lng])}function cn(s){for(var f=0,_=0,w=0,A=0;A<s.length;A++){var M=ie(s[A]);f+=M.lat,_+=M.lng,w++}return ie([f/w,_/w])}var Ba={__proto__:null,clipPolygon:gd,polygonCenter:Ds,centroid:cn};function Jt(s,f){if(!f||!s.length)return s.slice();var _=f*f;return s=hu(s,_),s=Bt(s,_),s}function es(s,f,_){return Math.sqrt(Uo(s,f,_,!0))}function ko(s,f,_){return Uo(s,f,_)}function Bt(s,f){var _=s.length,w=typeof Uint8Array<"u"?Uint8Array:Array,A=new w(_);A[0]=A[_-1]=1,ke(s,A,f,0,_-1);var M,z=[];for(M=0;M<_;M++)A[M]&&z.push(s[M]);return z}function ke(s,f,_,w,A){var M=0,z,Y,$;for(Y=w+1;Y<=A-1;Y++)$=Uo(s[Y],s[w],s[A],!0),$>M&&(z=Y,M=$);M>_&&(f[z]=1,ke(s,f,_,w,z),ke(s,f,_,z,A))}function hu(s,f){for(var _=[s[0]],w=1,A=0,M=s.length;w<M;w++)Wi(s[w],s[A])>f&&(_.push(s[w]),A=w);return A<M-1&&_.push(s[M-1]),_}var Ht;function Co(s,f,_,w,A){var M=w?Ht:zo(s,_),z=zo(f,_),Y,$,se;for(Ht=z;;){if(!(M|z))return[s,f];if(M&z)return!1;Y=M||z,$=oo(s,f,Y,_,A),se=zo($,_),Y===M?(s=$,M=se):(f=$,z=se)}}function oo(s,f,_,w,A){var M=f.x-s.x,z=f.y-s.y,Y=w.min,$=w.max,se,Ce;return _&8?(se=s.x+M*($.y-s.y)/z,Ce=$.y):_&4?(se=s.x+M*(Y.y-s.y)/z,Ce=Y.y):_&2?(se=$.x,Ce=s.y+z*($.x-s.x)/M):_&1&&(se=Y.x,Ce=s.y+z*(Y.x-s.x)/M),new te(se,Ce,A)}function zo(s,f){var _=0;return s.x<f.min.x?_|=1:s.x>f.max.x&&(_|=2),s.y<f.min.y?_|=4:s.y>f.max.y&&(_|=8),_}function Wi(s,f){var _=f.x-s.x,w=f.y-s.y;return _*_+w*w}function Uo(s,f,_,w){var A=f.x,M=f.y,z=_.x-A,Y=_.y-M,$=z*z+Y*Y,se;return $>0&&(se=((s.x-A)*z+(s.y-M)*Y)/$,se>1?(A=_.x,M=_.y):se>0&&(A+=z*se,M+=Y*se)),z=s.x-A,Y=s.y-M,w?z*z+Y*Y:new te(A,M)}function si(s){return!B(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Os(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),si(s)}function ka(s,f){var _,w,A,M,z,Y,$,se;if(!s||s.length===0)throw new Error("latlngs not passed");si(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ce=ie([0,0]),We=Ze(s),ht=We.getNorthWest().distanceTo(We.getSouthWest())*We.getNorthEast().distanceTo(We.getNorthWest());ht<1700&&(Ce=cn(s));var li=s.length,Pn=[];for(_=0;_<li;_++){var Yi=ie(s[_]);Pn.push(f.project(ie([Yi.lat-Ce.lat,Yi.lng-Ce.lng])))}for(_=0,w=0;_<li-1;_++)w+=Pn[_].distanceTo(Pn[_+1])/2;if(w===0)se=Pn[0];else for(_=0,M=0;_<li-1;_++)if(z=Pn[_],Y=Pn[_+1],A=z.distanceTo(Y),M+=A,M>w){$=(M-w)/A,se=[Y.x-$*(Y.x-z.x),Y.y-$*(Y.y-z.y)];break}var mi=f.unproject(ce(se));return ie([mi.lat+Ce.lat,mi.lng+Ce.lng])}var pd={__proto__:null,simplify:Jt,pointToSegmentDistance:es,closestPointOnSegment:ko,clipSegment:Co,_getEdgeIntersection:oo,_getBitCode:zo,_sqClosestPointOnSegment:Uo,isFlat:si,_flat:Os,polylineCenter:ka},za={project:function(s){return new te(s.lng,s.lat)},unproject:function(s){return new ut(s.y,s.x)},bounds:new He([-180,-90],[180,90])},So={R:6378137,R_MINOR:6356752314245179e-9,bounds:new He([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var f=Math.PI/180,_=this.R,w=s.lat*f,A=this.R_MINOR/_,M=Math.sqrt(1-A*A),z=M*Math.sin(w),Y=Math.tan(Math.PI/4-w/2)/Math.pow((1-z)/(1+z),M/2);return w=-_*Math.log(Math.max(Y,1e-10)),new te(s.lng*f*_,w)},unproject:function(s){for(var f=180/Math.PI,_=this.R,w=this.R_MINOR/_,A=Math.sqrt(1-w*w),M=Math.exp(-s.y/_),z=Math.PI/2-2*Math.atan(M),Y=0,$=.1,se;Y<15&&Math.abs($)>1e-7;Y++)se=A*Math.sin(z),se=Math.pow((1-se)/(1+se),A/2),$=Math.PI/2-2*Math.atan(M*se)-z,z+=$;return new ut(z*f,s.x*f/_)}},Ua={__proto__:null,LonLat:za,Mercator:So,SphericalMercator:eo},fu=l({},tt,{code:"EPSG:3395",projection:So,transformation:function(){var s=.5/(Math.PI*So.R);return Ai(s,.5,-s,.5)}()}),ur=l({},tt,{code:"EPSG:4326",projection:za,transformation:Ai(1/180,1,-1/180,.5)}),gu=l({},ln,{projection:za,transformation:Ai(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,f){var _=f.lng-s.lng,w=f.lat-s.lat;return Math.sqrt(_*_+w*w)},infinite:!0});ln.Earth=tt,ln.EPSG3395=fu,ln.EPSG3857=gt,ln.EPSG900913=fi,ln.EPSG4326=ur,ln.Simple=gu;var xn=ze.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[C(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[C(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var f=s.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var _=this.getEvents();f.on(_,this),this.once("remove",function(){f.off(_,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});mt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var f=C(s);return this._layers[f]?this:(this._layers[f]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var f=C(s);return this._layers[f]?(this._loaded&&s.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return C(s)in this._layers},eachLayer:function(s,f){for(var _ in this._layers)s.call(f,this._layers[_]);return this},_addLayers:function(s){s=s?B(s)?s:[s]:[];for(var f=0,_=s.length;f<_;f++)this.addLayer(s[f])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[C(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var f=C(s);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,f=-1/0,_=this._getZoomSpan();for(var w in this._zoomBoundLayers){var A=this._zoomBoundLayers[w].options;s=A.minZoom===void 0?s:Math.min(s,A.minZoom),f=A.maxZoom===void 0?f:Math.max(f,A.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=s===1/0?void 0:s,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ro=xn.extend({initialize:function(s,f){j(this,f),this._layers={};var _,w;if(s)for(_=0,w=s.length;_<w;_++)this.addLayer(s[_])},addLayer:function(s){var f=this.getLayerId(s);return this._layers[f]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var f=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(s){var f=typeof s=="number"?s:this.getLayerId(s);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var f=Array.prototype.slice.call(arguments,1),_,w;for(_ in this._layers)w=this._layers[_],w[s]&&w[s].apply(w,f);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,f){for(var _ in this._layers)s.call(f,this._layers[_]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return C(s)}}),pi=function(s,f){return new ro(s,f)},Vi=ro.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ro.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ro.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Pt;for(var f in this._layers){var _=this._layers[f];s.extend(_.getBounds?_.getBounds():_.getLatLng())}return s}}),ji=function(s,f){return new Vi(s,f)},hr=At.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){j(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,f){var _=this._getIconUrl(s);if(!_){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(_,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(w,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(s,f){var _=this.options,w=_[f+"Size"];typeof w=="number"&&(w=[w,w]);var A=ce(w),M=ce(f==="shadow"&&_.shadowAnchor||_.iconAnchor||A&&A.divideBy(2,!0));s.className="leaflet-marker-"+f+" "+(_.className||""),M&&(s.style.marginLeft=-M.x+"px",s.style.marginTop=-M.y+"px"),A&&(s.style.width=A.x+"px",s.style.height=A.y+"px")},_createImg:function(s,f){return f=f||document.createElement("img"),f.src=s,f},_getIconUrl:function(s){return le.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Ha(s){return new hr(s)}var ts=hr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ts.imagePath!="string"&&(ts.imagePath=this._detectIconPath()),(this.options.imagePath||ts.imagePath)+hr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var f=function(_,w,A){var M=w.exec(_);return M&&M[A]};return s=f(s,/^url\((['"])?(.+)\1\)$/,2),s&&f(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=xt("div","leaflet-default-icon-path",document.body),f=it(s,"background-image")||it(s,"backgroundImage");if(document.body.removeChild(s),f=this._stripUrl(f),f)return f;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Wa=ri.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new wo(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var f=this._marker,_=f._map,w=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,M=Xt(f._icon),z=_.getPixelBounds(),Y=_.getPixelOrigin(),$=Ue(z.min._subtract(Y).add(A),z.max._subtract(Y).subtract(A));if(!$.contains(M)){var se=ce((Math.max($.max.x,M.x)-$.max.x)/(z.max.x-$.max.x)-(Math.min($.min.x,M.x)-$.min.x)/(z.min.x-$.min.x),(Math.max($.max.y,M.y)-$.max.y)/(z.max.y-$.max.y)-(Math.min($.min.y,M.y)-$.min.y)/(z.min.y-$.min.y)).multiplyBy(w);_.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),xe(f._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=$e(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Ae(this._panRequest),this._panRequest=$e(this._adjustPan.bind(this,s)))},_onDrag:function(s){var f=this._marker,_=f._shadow,w=Xt(f._icon),A=f._map.layerPointToLatLng(w);_&&xe(_,w),f._latlng=A,s.latlng=A,s.oldLatLng=this._oldLatLng,f.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Ae(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ai=xn.extend({options:{icon:new ts,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,f){j(this,f),this._latlng=ie(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var f=this._latlng;return this._latlng=ie(s),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=s.icon.createIcon(this._icon),w=!1;_!==this._icon&&(this._icon&&this._removeIcon(),w=!0,s.title&&(_.title=s.title),_.tagName==="IMG"&&(_.alt=s.alt||"")),Le(_,f),s.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(_,"focus",this._panOnFocus,this);var A=s.icon.createShadow(this._shadow),M=!1;A!==this._shadow&&(this._removeShadow(),M=!0),A&&(Le(A,f),A.alt=""),this._shadow=A,s.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&M&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(this._icon,"focus",this._panOnFocus,this),Vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&xe(this._icon,s),this._shadow&&xe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wa)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wa(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&lt(this._icon,s),this._shadow&&lt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var f=this.options.icon.options,_=f.iconSize?ce(f.iconSize):ce(0,0),w=f.iconAnchor?ce(f.iconAnchor):ce(0,0);s.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:_.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pu(s,f){return new ai(s,f)}var Gi=xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return j(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ao=Gi.extend({options:{fill:!0,radius:10},initialize:function(s,f){j(this,f),this._latlng=ie(s),this._radius=this.options.radius},setLatLng:function(s){var f=this._latlng;return this._latlng=ie(s),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var f=s&&s.radius||this._radius;return Gi.prototype.setStyle.call(this,s),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,f=this._radiusY||s,_=this._clickTolerance(),w=[s+_,f+_];this._pxBounds=new He(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ct(s,f){return new Ao(s,f)}var fr=Ao.extend({initialize:function(s,f,_){if(typeof f=="number"&&(f=l({},_,{radius:f})),j(this,f),this._latlng=ie(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Pt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Gi.prototype.setStyle,_project:function(){var s=this._latlng.lng,f=this._latlng.lat,_=this._map,w=_.options.crs;if(w.distance===tt.distance){var A=Math.PI/180,M=this._mRadius/tt.R/A,z=_.project([f+M,s]),Y=_.project([f-M,s]),$=z.add(Y).divideBy(2),se=_.unproject($).lat,Ce=Math.acos((Math.cos(M*A)-Math.sin(f*A)*Math.sin(se*A))/(Math.cos(f*A)*Math.cos(se*A)))/A;(isNaN(Ce)||Ce===0)&&(Ce=M/Math.cos(Math.PI/180*f)),this._point=$.subtract(_.getPixelOrigin()),this._radius=isNaN(Ce)?0:$.x-_.project([se,s-Ce]).x,this._radiusY=$.y-z.y}else{var We=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(We).x}this._updateBounds()}});function T(s,f,_){return new fr(s,f,_)}var i=Gi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,f){j(this,f),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var f=1/0,_=null,w=Uo,A,M,z=0,Y=this._parts.length;z<Y;z++)for(var $=this._parts[z],se=1,Ce=$.length;se<Ce;se++){A=$[se-1],M=$[se];var We=w(s,A,M,!0);We<f&&(f=We,_=w(s,A,M))}return _&&(_.distance=Math.sqrt(f)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ka(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,f){return f=f||this._defaultShape(),s=ie(s),f.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Pt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return si(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var f=[],_=si(s),w=0,A=s.length;w<A;w++)_?(f[w]=ie(s[w]),this._bounds.extend(f[w])):f[w]=this._convertLatLngs(s[w]);return f},_project:function(){var s=new He;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),f=new te(s,s);this._rawPxBounds&&(this._pxBounds=new He([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(s,f,_){var w=s[0]instanceof ut,A=s.length,M,z;if(w){for(z=[],M=0;M<A;M++)z[M]=this._map.latLngToLayerPoint(s[M]),_.extend(z[M]);f.push(z)}else for(M=0;M<A;M++)this._projectLatlngs(s[M],f,_)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,_,w,A,M,z,Y,$;for(_=0,A=0,M=this._rings.length;_<M;_++)for($=this._rings[_],w=0,z=$.length;w<z-1;w++)Y=Co($[w],$[w+1],s,w,!0),Y&&(f[A]=f[A]||[],f[A].push(Y[0]),(Y[1]!==$[w+1]||w===z-2)&&(f[A].push(Y[1]),A++))}},_simplifyPoints:function(){for(var s=this._parts,f=this.options.smoothFactor,_=0,w=s.length;_<w;_++)s[_]=Jt(s[_],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,f){var _,w,A,M,z,Y,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,M=this._parts.length;_<M;_++)for(Y=this._parts[_],w=0,z=Y.length,A=z-1;w<z;A=w++)if(!(!f&&w===0)&&es(s,Y[A],Y[w])<=$)return!0;return!1}});function r(s,f){return new i(s,f)}i._flat=Os;var a=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ds(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var f=i.prototype._convertLatLngs.call(this,s),_=f.length;return _>=2&&f[0]instanceof ut&&f[0].equals(f[_-1])&&f.pop(),f},_setLatLngs:function(s){i.prototype._setLatLngs.call(this,s),si(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return si(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,f=this.options.weight,_=new te(f,f);if(s=new He(s.min.subtract(_),s.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,A=this._rings.length,M;w<A;w++)M=gd(this._rings[w],s,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var f=!1,_,w,A,M,z,Y,$,se;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(M=0,$=this._parts.length;M<$;M++)for(_=this._parts[M],z=0,se=_.length,Y=se-1;z<se;Y=z++)w=_[z],A=_[Y],w.y>s.y!=A.y>s.y&&s.x<(A.x-w.x)*(s.y-w.y)/(A.y-w.y)+w.x&&(f=!f);return f||i.prototype._containsPoint.call(this,s,!0)}});function d(s,f){return new a(s,f)}var h=Vi.extend({initialize:function(s,f){j(this,f),this._layers={},s&&this.addData(s)},addData:function(s){var f=B(s)?s:s.features,_,w,A;if(f){for(_=0,w=f.length;_<w;_++)A=f[_],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var M=this.options;if(M.filter&&!M.filter(s))return this;var z=g(s,M);return z?(z.feature=P(s),z.defaultOptions=z.options,this.resetStyle(z),M.onEachFeature&&M.onEachFeature(s,z),this.addLayer(z)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(f){this._setLayerStyle(f,s)},this)},_setLayerStyle:function(s,f){s.setStyle&&(typeof f=="function"&&(f=f(s.feature)),s.setStyle(f))}});function g(s,f){var _=s.type==="Feature"?s.geometry:s,w=_?_.coordinates:null,A=[],M=f&&f.pointToLayer,z=f&&f.coordsToLatLng||E,Y,$,se,Ce;if(!w&&!_)return null;switch(_.type){case"Point":return Y=z(w),p(M,s,Y,f);case"MultiPoint":for(se=0,Ce=w.length;se<Ce;se++)Y=z(w[se]),A.push(p(M,s,Y,f));return new Vi(A);case"LineString":case"MultiLineString":return $=x(w,_.type==="LineString"?0:1,z),new i($,f);case"Polygon":case"MultiPolygon":return $=x(w,_.type==="Polygon"?1:2,z),new a($,f);case"GeometryCollection":for(se=0,Ce=_.geometries.length;se<Ce;se++){var We=g({geometry:_.geometries[se],type:"Feature",properties:s.properties},f);We&&A.push(We)}return new Vi(A);case"FeatureCollection":for(se=0,Ce=_.features.length;se<Ce;se++){var ht=g(_.features[se],f);ht&&A.push(ht)}return new Vi(A);default:throw new Error("Invalid GeoJSON object.")}}function p(s,f,_,w){return s?s(f,_):new ai(_,w&&w.markersInheritOptions&&w)}function E(s){return new ut(s[1],s[0],s[2])}function x(s,f,_){for(var w=[],A=0,M=s.length,z;A<M;A++)z=f?x(s[A],f-1,_):(_||E)(s[A]),w.push(z);return w}function S(s,f){return s=ie(s),s.alt!==void 0?[D(s.lng,f),D(s.lat,f),D(s.alt,f)]:[D(s.lng,f),D(s.lat,f)]}function I(s,f,_,w){for(var A=[],M=0,z=s.length;M<z;M++)A.push(f?I(s[M],si(s[M])?0:f-1,_,w):S(s[M],w));return!f&&_&&A.length>0&&A.push(A[0].slice()),A}function R(s,f){return s.feature?l({},s.feature,{geometry:f}):P(f)}function P(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var U={toGeoJSON:function(s){return R(this,{type:"Point",coordinates:S(this.getLatLng(),s)})}};ai.include(U),fr.include(U),Ao.include(U),i.include({toGeoJSON:function(s){var f=!si(this._latlngs),_=I(this._latlngs,f?1:0,!1,s);return R(this,{type:(f?"Multi":"")+"LineString",coordinates:_})}}),a.include({toGeoJSON:function(s){var f=!si(this._latlngs),_=f&&!si(this._latlngs[0]),w=I(this._latlngs,_?2:f?1:0,!0,s);return f||(w=[w]),R(this,{type:(_?"Multi":"")+"Polygon",coordinates:w})}}),ro.include({toMultiPoint:function(s){var f=[];return this.eachLayer(function(_){f.push(_.toGeoJSON(s).geometry.coordinates)}),R(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(s){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(s);var _=f==="GeometryCollection",w=[];return this.eachLayer(function(A){if(A.toGeoJSON){var M=A.toGeoJSON(s);if(_)w.push(M.geometry);else{var z=P(M);z.type==="FeatureCollection"?w.push.apply(w,z.features):w.push(z)}}}),_?R(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function H(s,f){return new h(s,f)}var G=H,Q=xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,f,_){this._url=s,this._bounds=Ze(f),j(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Yt(this._image),this},bringToBack:function(){return this._map&&oi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ze(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",f=this._image=s?this._url:xt("img");if(Le(f,"leaflet-image-layer"),this._zoomAnimated&&Le(f,"leaflet-zoom-animated"),this.options.className&&Le(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onload=m(this.fire,this,"load"),f.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(s){var f=this._map.getZoomScale(s.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;O(this._image,_,f)},_reset:function(){var s=this._image,f=new He(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=f.getSize();xe(s,f.min),s.style.width=_.x+"px",s.style.height=_.y+"px"},_updateOpacity:function(){lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ue=function(s,f,_){return new Q(s,f,_)},he=Q.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",f=this._image=s?this._url:xt("video");if(Le(f,"leaflet-image-layer"),this._zoomAnimated&&Le(f,"leaflet-zoom-animated"),this.options.className&&Le(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onloadeddata=m(this.fire,this,"load"),s){for(var _=f.getElementsByTagName("source"),w=[],A=0;A<_.length;A++)w.push(_[A].src);this._url=_.length>0?w:[f.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var z=xt("source");z.src=this._url[M],f.appendChild(z)}}});function ae(s,f,_){return new he(s,f,_)}var dt=Q.extend({_initImage:function(){var s=this._image=this._url;Le(s,"leaflet-image-layer"),this._zoomAnimated&&Le(s,"leaflet-zoom-animated"),this.options.className&&Le(s,this.options.className),s.onselectstart=b,s.onmousemove=b}});function qe(s,f,_){return new dt(s,f,_)}var en=xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,f){s&&(s instanceof ut||B(s))?(this._latlng=ie(s),j(this,f)):(j(this,s),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&lt(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(lt(this._container,0),this._removeTimeout=setTimeout(m(Vt,void 0,this._container),200)):Vt(this._container),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ie(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yt(this._container),this},bringToBack:function(){return this._map&&oi(this._container),this},_prepareOpen:function(s){var f=this._source;if(!f._map)return!1;if(f instanceof Vi){f=null;var _=this._source._layers;for(var w in _)if(_[w]._map){f=_[w];break}if(!f)return!1;this._source=f}if(!s)if(f.getCenter)s=f.getCenter();else if(f.getLatLng)s=f.getLatLng();else if(f.getBounds)s=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")s.innerHTML=f;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),f=ce(this.options.offset),_=this._getAnchor();this._zoomAnimated?xe(this._container,s.add(_)):f=f.add(s).add(_);var w=this._containerBottom=-f.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=w+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});mt.include({_initOverlay:function(s,f,_,w){var A=f;return A instanceof s||(A=new s(w).setContent(f)),_&&A.setLatLng(_),A}}),xn.include({_initOverlay:function(s,f,_,w){var A=_;return A instanceof s?(j(A,w),A._source=this):(A=f&&!w?f:new s(w,this),A.setContent(_)),A}});var Yn=en.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,en.prototype.openOn.call(this,s)},onAdd:function(s){en.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gi||this._source.on("preclick",no))},onRemove:function(s){en.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gi||this._source.off("preclick",no))},getEvents:function(){var s=en.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",f=this._container=xt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=xt("div",s+"-content-wrapper",f);if(this._contentNode=xt("div",s+"-content",_),Ni(f),Rs(this._contentNode),Ve(f,"contextmenu",no),this._tipContainer=xt("div",s+"-tip-container",f),this._tip=xt("div",s+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=xt("a",s+"-close-button",f);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Ve(w,"click",function(A){Tn(A),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,f=s.style;f.width="",f.whiteSpace="nowrap";var _=s.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),f.width=_+1+"px",f.whiteSpace="",f.height="";var w=s.offsetHeight,A=this.options.maxHeight,M="leaflet-popup-scrolled";A&&w>A?(f.height=A+"px",Le(s,M)):Dt(s,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),_=this._getAnchor();xe(this._container,f.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,f=parseInt(it(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+f,w=this._containerWidth,A=new te(this._containerLeft,-_-this._containerBottom);A._add(Xt(this._container));var M=s.layerPointToContainerPoint(A),z=ce(this.options.autoPanPadding),Y=ce(this.options.autoPanPaddingTopLeft||z),$=ce(this.options.autoPanPaddingBottomRight||z),se=s.getSize(),Ce=0,We=0;M.x+w+$.x>se.x&&(Ce=M.x+w-se.x+$.x),M.x-Ce-Y.x<0&&(Ce=M.x-Y.x),M.y+_+$.y>se.y&&(We=M.y+_-se.y+$.y),M.y-We-Y.y<0&&(We=M.y-Y.y),(Ce||We)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ce,We]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xn=function(s,f){return new Yn(s,f)};mt.mergeOptions({closePopupOnClick:!0}),mt.include({openPopup:function(s,f,_){return this._initOverlay(Yn,s,f,_).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),xn.include({bindPopup:function(s,f){return this._popup=this._initOverlay(Yn,this._popup,s,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Vi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ri(s);var f=s.layer||s.target;if(this._popup._source===f&&!(f instanceof Gi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=f,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Nt=en.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){en.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){en.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=en.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",f=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+C(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var f,_,w=this._map,A=this._container,M=w.latLngToContainerPoint(w.getCenter()),z=w.layerPointToContainerPoint(s),Y=this.options.direction,$=A.offsetWidth,se=A.offsetHeight,Ce=ce(this.options.offset),We=this._getAnchor();Y==="top"?(f=$/2,_=se):Y==="bottom"?(f=$/2,_=0):Y==="center"?(f=$/2,_=se/2):Y==="right"?(f=0,_=se/2):Y==="left"?(f=$,_=se/2):z.x<M.x?(Y="right",f=0,_=se/2):(Y="left",f=$+(Ce.x+We.x)*2,_=se/2),s=s.subtract(ce(f,_,!0)).add(Ce).add(We),Dt(A,"leaflet-tooltip-right"),Dt(A,"leaflet-tooltip-left"),Dt(A,"leaflet-tooltip-top"),Dt(A,"leaflet-tooltip-bottom"),Le(A,"leaflet-tooltip-"+Y),xe(A,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&lt(this._container,s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(f)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bn=function(s,f){return new Nt(s,f)};mt.include({openTooltip:function(s,f,_){return this._initOverlay(Nt,s,f,_).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),xn.include({bindTooltip:function(s,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Nt,this._tooltip,s,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var f=s?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[f](_),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Vi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&(Ve(f,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ve(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var f=s.latlng,_,w;this._tooltip.options.sticky&&s.originalEvent&&(_=this._map.mouseEventToContainerPoint(s.originalEvent),w=this._map.containerPointToLayerPoint(_),f=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(f)}});var Qn=hr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var f=s&&s.tagName==="DIV"?s:document.createElement("div"),_=this.options;if(_.html instanceof Element?(ar(f),f.appendChild(_.html)):f.innerHTML=_.html!==!1?_.html:"",_.bgPos){var w=ce(_.bgPos);f.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function gr(s){return new Qn(s)}hr.Default=ts;var Zi=xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){j(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Vt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(oi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof te?s:new te(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var f=this.getPane().children,_=-s(-1/0,1/0),w=0,A=f.length,M;w<A;w++)M=f[w].style.zIndex,f[w]!==this._container&&M&&(_=s(_,+M));isFinite(_)&&(this.options.zIndex=_+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){lt(this._container,this.options.opacity);var s=+new Date,f=!1,_=!1;for(var w in this._tiles){var A=this._tiles[w];if(!(!A.current||!A.loaded)){var M=Math.min(1,(s-A.loaded)/200);lt(A.el,M),M<1?f=!0:(A.active?_=!0:this._onOpaqueTile(A),A.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),f&&(Ae(this._fadeFrame),this._fadeFrame=$e(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,f=this.options.maxZoom;if(s!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===s?(this._levels[_].el.style.zIndex=f-Math.abs(s-_),this._onUpdateLevel(_)):(Vt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var w=this._levels[s],A=this._map;return w||(w=this._levels[s]={},w.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=f,w.origin=A.project(A.unproject(A.getPixelOrigin()),s).round(),w.zoom=s,this._setZoomTransform(w,A.getCenter(),A.getZoom()),b(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var s,f,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)f=this._tiles[s],f.retain=f.current;for(s in this._tiles)if(f=this._tiles[s],f.current&&!f.active){var w=f.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var f in this._tiles)this._tiles[f].coords.z===s&&this._removeTile(f)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Vt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,f,_,w){var A=Math.floor(s/2),M=Math.floor(f/2),z=_-1,Y=new te(+A,+M);Y.z=+z;var $=this._tileCoordsToKey(Y),se=this._tiles[$];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),z>w?this._retainParent(A,M,z,w):!1)},_retainChildren:function(s,f,_,w){for(var A=2*s;A<2*s+2;A++)for(var M=2*f;M<2*f+2;M++){var z=new te(A,M);z.z=_+1;var Y=this._tileCoordsToKey(z),$=this._tiles[Y];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);_+1<w&&this._retainChildren(A,M,_+1,w)}},_resetView:function(s){var f=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var f=this.options;return f.minNativeZoom!==void 0&&s<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<s?f.maxNativeZoom:s},_setView:function(s,f,_,w){var A=Math.round(f);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var M=this.options.updateWhenZooming&&A!==this._tileZoom;(!w||M)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(s),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(s,f)},_setZoomTransforms:function(s,f){for(var _ in this._levels)this._setZoomTransform(this._levels[_],s,f)},_setZoomTransform:function(s,f,_){var w=this._map.getZoomScale(_,s.zoom),A=s.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(f,_)).round();le.any3d?O(s.el,A,w):xe(s.el,A)},_resetGrid:function(){var s=this._map,f=s.options.crs,_=this._tileSize=this.getTileSize(),w=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,f.wrapLng[0]],w).x/_.x),Math.ceil(s.project([0,f.wrapLng[1]],w).x/_.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([f.wrapLat[0],0],w).y/_.x),Math.ceil(s.project([f.wrapLat[1],0],w).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var f=this._map,_=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),w=f.getZoomScale(_,this._tileZoom),A=f.project(s,this._tileZoom).floor(),M=f.getSize().divideBy(w*2);return new He(A.subtract(M),A.add(M))},_update:function(s){var f=this._map;if(f){var _=this._clampZoom(f.getZoom());if(s===void 0&&(s=f.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(s),A=this._pxBoundsToTileRange(w),M=A.getCenter(),z=[],Y=this.options.keepBuffer,$=new He(A.getBottomLeft().subtract([Y,-Y]),A.getTopRight().add([Y,-Y]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var Ce=this._tiles[se].coords;(Ce.z!==this._tileZoom||!$.contains(new te(Ce.x,Ce.y)))&&(this._tiles[se].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(s,_);return}for(var We=A.min.y;We<=A.max.y;We++)for(var ht=A.min.x;ht<=A.max.x;ht++){var li=new te(ht,We);if(li.z=this._tileZoom,!!this._isValidTile(li)){var Pn=this._tiles[this._tileCoordsToKey(li)];Pn?Pn.current=!0:z.push(li)}}if(z.sort(function(mi,Ps){return mi.distanceTo(M)-Ps.distanceTo(M)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yi=document.createDocumentFragment();for(ht=0;ht<z.length;ht++)this._addTile(z[ht],Yi);this._level.el.appendChild(Yi)}}}},_isValidTile:function(s){var f=this._map.options.crs;if(!f.infinite){var _=this._globalTileRange;if(!f.wrapLng&&(s.x<_.min.x||s.x>_.max.x)||!f.wrapLat&&(s.y<_.min.y||s.y>_.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(s);return Ze(this.options.bounds).overlaps(w)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var f=this._map,_=this.getTileSize(),w=s.scaleBy(_),A=w.add(_),M=f.unproject(w,s.z),z=f.unproject(A,s.z);return[M,z]},_tileCoordsToBounds:function(s){var f=this._tileCoordsToNwSe(s),_=new Pt(f[0],f[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var f=s.split(":"),_=new te(+f[0],+f[1]);return _.z=+f[2],_},_removeTile:function(s){var f=this._tiles[s];f&&(Vt(f.el),delete this._tiles[s],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Le(s,"leaflet-tile");var f=this.getTileSize();s.style.width=f.x+"px",s.style.height=f.y+"px",s.onselectstart=b,s.onmousemove=b,le.ielt9&&this.options.opacity<1&&lt(s,this.options.opacity)},_addTile:function(s,f){var _=this._getTilePos(s),w=this._tileCoordsToKey(s),A=this.createTile(this._wrapCoords(s),m(this._tileReady,this,s));this._initTile(A),this.createTile.length<2&&$e(m(this._tileReady,this,s,null,A)),xe(A,_),this._tiles[w]={el:A,coords:s,current:!0},f.appendChild(A),this.fire("tileloadstart",{tile:A,coords:s})},_tileReady:function(s,f,_){f&&this.fire("tileerror",{error:f,tile:_,coords:s});var w=this._tileCoordsToKey(s);_=this._tiles[w],_&&(_.loaded=+new Date,this._map._fadeAnimated?(lt(_.el,0),Ae(this._fadeFrame),this._fadeFrame=$e(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),f||(Le(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?$e(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var f=new te(this._wrapX?N(s.x,this._wrapX):s.x,this._wrapY?N(s.y,this._wrapY):s.y);return f.z=s.z,f},_pxBoundsToTileRange:function(s){var f=this.getTileSize();return new He(s.min.unscaleBy(f).floor(),s.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function mu(s){return new Zi(s)}var pr=Zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,f){this._url=s,f=j(this,f),f.detectRetina&&le.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,f){return this._url===s&&f===void 0&&(f=!0),this._url=s,f||this.redraw(),this},createTile:function(s,f){var _=document.createElement("img");return Ve(_,"load",m(this._tileOnLoad,this,f,_)),Ve(_,"error",m(this._tileOnError,this,f,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(s),_},getTileUrl:function(s){var f={r:le.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-s.y;this.options.tms&&(f.y=_),f["-y"]=_}return F(this._url,l(f,this.options))},_tileOnLoad:function(s,f){le.ielt9?setTimeout(m(s,this,null,f),0):s(null,f)},_tileOnError:function(s,f,_){var w=this.options.errorTileUrl;w&&f.getAttribute("src")!==w&&(f.src=w),s(_,f)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,f=this.options.maxZoom,_=this.options.zoomReverse,w=this.options.zoomOffset;return _&&(s=f-s),s+w},_getSubdomain:function(s){var f=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var s,f;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(f=this._tiles[s].el,f.onload=b,f.onerror=b,!f.complete)){f.src=Ee;var _=this._tiles[s].coords;Vt(f),delete this._tiles[s],this.fire("tileabort",{tile:f,coords:_})}},_removeTile:function(s){var f=this._tiles[s];if(f)return f.el.setAttribute("src",Ee),Zi.prototype._removeTile.call(this,s)},_tileReady:function(s,f,_){if(!(!this._map||_&&_.getAttribute("src")===Ee))return Zi.prototype._tileReady.call(this,s,f,_)}});function Xf(s,f){return new pr(s,f)}var Qf=pr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,f){this._url=s;var _=l({},this.defaultWmsParams);for(var w in f)w in this.options||(_[w]=f[w]);f=j(this,f);var A=f.detectRetina&&le.retina?2:1,M=this.getTileSize();_.width=M.x*A,_.height=M.y*A,this.wmsParams=_},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,pr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var f=this._tileCoordsToNwSe(s),_=this._crs,w=Ue(_.project(f[0]),_.project(f[1])),A=w.min,M=w.max,z=(this._wmsVersion>=1.3&&this._crs===ur?[A.y,A.x,M.y,M.x]:[A.x,A.y,M.x,M.y]).join(","),Y=pr.prototype.getTileUrl.call(this,s);return Y+ye(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(s,f){return l(this.wmsParams,s),f||this.redraw(),this}});function D3(s,f){return new Qf(s,f)}pr.WMS=Qf,Xf.wms=D3;var Ho=xn.extend({options:{padding:.1},initialize:function(s){j(this,s),C(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,f){var _=this._map.getZoomScale(f,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,f),M=w.multiplyBy(-_).add(A).subtract(this._map._getNewPixelOrigin(s,f));le.any3d?O(this._container,M,_):xe(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,f=this._map.getSize(),_=this._map.containerPointToLayerPoint(f.multiplyBy(-s)).round();this._bounds=new He(_,_.add(f.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kf=Ho.extend({options:{tolerance:0},getEvents:function(){var s=Ho.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ho.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ve(s,"mousemove",this._onMouseMove,this),Ve(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ve(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Ae(this._redrawRequest),delete this._ctx,Vt(this._container),ve(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var f in this._layers)s=this._layers[f],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ho.prototype._update.call(this);var s=this._bounds,f=this._container,_=s.getSize(),w=le.retina?2:1;xe(f,s.min),f.width=w*_.x,f.height=w*_.y,f.style.width=_.x+"px",f.style.height=_.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ho.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[C(s)]=s;var f=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var f=s._order,_=f.next,w=f.prev;_?_.prev=w:this._drawLast=w,w?w.next=_:this._drawFirst=_,delete s._order,delete this._layers[C(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var f=s.options.dashArray.split(/[, ]+/),_=[],w,A;for(A=0;A<f.length;A++){if(w=Number(f[A]),isNaN(w))return;_.push(w)}s.options._dashArray=_}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||$e(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var f=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new He,this._redrawBounds.extend(s._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(s._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var f=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,f=this._redrawBounds;if(this._ctx.save(),f){var _=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)s=w.layer,(!f||s._pxBounds&&s._pxBounds.intersects(f))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,f){if(this._drawing){var _,w,A,M,z=s._parts,Y=z.length,$=this._ctx;if(Y){for($.beginPath(),_=0;_<Y;_++){for(w=0,A=z[_].length;w<A;w++)M=z[_][w],$[w?"lineTo":"moveTo"](M.x,M.y);f&&$.closePath()}this._fillStroke($,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var f=s._point,_=this._ctx,w=Math.max(Math.round(s._radius),1),A=(Math.max(Math.round(s._radiusY),1)||w)/w;A!==1&&(_.save(),_.scale(1,A)),_.beginPath(),_.arc(f.x,f.y/A,w,0,Math.PI*2,!1),A!==1&&_.restore(),this._fillStroke(_,s)}},_fillStroke:function(s,f){var _=f.options;_.fill&&(s.globalAlpha=_.fillOpacity,s.fillStyle=_.fillColor||_.color,s.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(s.setLineDash&&s.setLineDash(f.options&&f.options._dashArray||[]),s.globalAlpha=_.opacity,s.lineWidth=_.weight,s.strokeStyle=_.color,s.lineCap=_.lineCap,s.lineJoin=_.lineJoin,s.stroke())},_onClick:function(s){for(var f=this._map.mouseEventToLayerPoint(s),_,w,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(f)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(_))&&(w=_);this._fireEvent(w?[w]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,f)}},_handleMouseOut:function(s){var f=this._hoveredLayer;f&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,f){if(!this._mouseHoverThrottled){for(var _,w,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(f)&&(w=_);w!==this._hoveredLayer&&(this._handleMouseOut(s),w&&(Le(this._container,"leaflet-interactive"),this._fireEvent([w],s,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,f,_){this._map._fireDOMEvent(f,_||f.type,s)},_bringToFront:function(s){var f=s._order;if(f){var _=f.next,w=f.prev;if(_)_.prev=w;else return;w?w.next=_:_&&(this._drawFirst=_),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(s)}},_bringToBack:function(s){var f=s._order;if(f){var _=f.next,w=f.prev;if(w)w.next=_;else return;_?_.prev=w:w&&(this._drawLast=w),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(s)}}});function qf(s){return le.canvas?new Kf(s):null}var Va=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),O3={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ho.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var f=s._container=Va("shape");Le(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",s._path=Va("path"),f.appendChild(s._path),this._updateStyle(s),this._layers[C(s)]=s},_addPath:function(s){var f=s._container;this._container.appendChild(f),s.options.interactive&&s.addInteractiveTarget(f)},_removePath:function(s){var f=s._container;Vt(f),s.removeInteractiveTarget(f),delete this._layers[C(s)]},_updateStyle:function(s){var f=s._stroke,_=s._fill,w=s.options,A=s._container;A.stroked=!!w.stroke,A.filled=!!w.fill,w.stroke?(f||(f=s._stroke=Va("stroke")),A.appendChild(f),f.weight=w.weight+"px",f.color=w.color,f.opacity=w.opacity,w.dashArray?f.dashStyle=B(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=w.lineCap.replace("butt","flat"),f.joinstyle=w.lineJoin):f&&(A.removeChild(f),s._stroke=null),w.fill?(_||(_=s._fill=Va("fill")),A.appendChild(_),_.color=w.fillColor||w.color,_.opacity=w.fillOpacity):_&&(A.removeChild(_),s._fill=null)},_updateCircle:function(s){var f=s._point.round(),_=Math.round(s._radius),w=Math.round(s._radiusY||_);this._setPath(s,s._empty()?"M0 0":"AL "+f.x+","+f.y+" "+_+","+w+" 0,"+65535*360)},_setPath:function(s,f){s._path.v=f},_bringToFront:function(s){Yt(s._container)},_bringToBack:function(s){oi(s._container)}},md=le.vml?Va:ii,ja=Ho.extend({_initContainer:function(){this._container=md("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=md("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vt(this._container),ve(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ho.prototype._update.call(this);var s=this._bounds,f=s.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,_.setAttribute("width",f.x),_.setAttribute("height",f.y)),xe(_,s.min),_.setAttribute("viewBox",[s.min.x,s.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(s){var f=s._path=md("path");s.options.className&&Le(f,s.options.className),s.options.interactive&&Le(f,"leaflet-interactive"),this._updateStyle(s),this._layers[C(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Vt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[C(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var f=s._path,_=s.options;f&&(_.stroke?(f.setAttribute("stroke",_.color),f.setAttribute("stroke-opacity",_.opacity),f.setAttribute("stroke-width",_.weight),f.setAttribute("stroke-linecap",_.lineCap),f.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?f.setAttribute("stroke-dasharray",_.dashArray):f.removeAttribute("stroke-dasharray"),_.dashOffset?f.setAttribute("stroke-dashoffset",_.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),_.fill?(f.setAttribute("fill",_.fillColor||_.color),f.setAttribute("fill-opacity",_.fillOpacity),f.setAttribute("fill-rule",_.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(s,f){this._setPath(s,yo(s._parts,f))},_updateCircle:function(s){var f=s._point,_=Math.max(Math.round(s._radius),1),w=Math.max(Math.round(s._radiusY),1)||_,A="a"+_+","+w+" 0 1,0 ",M=s._empty()?"M0 0":"M"+(f.x-_)+","+f.y+A+_*2+",0 "+A+-_*2+",0 ";this._setPath(s,M)},_setPath:function(s,f){s._path.setAttribute("d",f)},_bringToFront:function(s){Yt(s._path)},_bringToBack:function(s){oi(s._path)}});le.vml&&ja.include(O3);function $f(s){return le.svg||le.vml?new ja(s):null}mt.include({getRenderer:function(s){var f=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var f=this._paneRenderers[s];return f===void 0&&(f=this._createRenderer({pane:s}),this._paneRenderers[s]=f),f},_createRenderer:function(s){return this.options.preferCanvas&&qf(s)||$f(s)}});var Jf=a.extend({initialize:function(s,f){a.prototype.initialize.call(this,this._boundsToLatLngs(s),f)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Ze(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function P3(s,f){return new Jf(s,f)}ja.create=md,ja.pointsToPath=yo,h.geometryToLayer=g,h.coordsToLatLng=E,h.coordsToLatLngs=x,h.latLngToCoords=S,h.latLngsToCoords=I,h.getFeature=R,h.asFeature=P,mt.mergeOptions({boxZoom:!0});var e0=ri.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dn(),Oe(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ve(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var f=new He(this._point,this._startPoint),_=f.getSize();xe(this._box,f.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Vt(this._box),Dt(this._container,"leaflet-crosshair")),Qr(),jt(),ve(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var f=new Pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mt.addInitHook("addHandler","boxZoom",e0),mt.mergeOptions({doubleClickZoom:!0});var t0=ri.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var f=this._map,_=f.getZoom(),w=f.options.zoomDelta,A=s.originalEvent.shiftKey?_-w:_+w;f.options.doubleClickZoom==="center"?f.setZoom(A):f.setZoomAround(s.containerPoint,A)}});mt.addInitHook("addHandler","doubleClickZoom",t0),mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var n0=ri.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new wo(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dt(this._map._container,"leaflet-grab"),Dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Ze(this._map.options.maxBounds);this._offsetLimit=Ue(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var f=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(f),this._prunePositions(f)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,f){return s-(s-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;s.x<f.min.x&&(s.x=this._viscousLimit(s.x,f.min.x)),s.y<f.min.y&&(s.y=this._viscousLimit(s.y,f.min.y)),s.x>f.max.x&&(s.x=this._viscousLimit(s.x,f.max.x)),s.y>f.max.y&&(s.y=this._viscousLimit(s.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,f=Math.round(s/2),_=this._initialWorldOffset,w=this._draggable._newPos.x,A=(w-f+_)%s+f-_,M=(w+f+_)%s-f-_,z=Math.abs(A+_)<Math.abs(M+_)?A:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(s){var f=this._map,_=f.options,w=!_.inertia||s.noInertia||this._times.length<2;if(f.fire("dragend",s),w)f.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,z=_.easeLinearity,Y=A.multiplyBy(z/M),$=Y.distanceTo([0,0]),se=Math.min(_.inertiaMaxSpeed,$),Ce=Y.multiplyBy(se/$),We=se/(_.inertiaDeceleration*z),ht=Ce.multiplyBy(-We/2).round();!ht.x&&!ht.y?f.fire("moveend"):(ht=f._limitOffset(ht,f.options.maxBounds),$e(function(){f.panBy(ht,{duration:We,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});mt.addInitHook("addHandler","dragging",n0),mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var i0=ri.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ve(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ve(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,f=document.documentElement,_=s.scrollTop||f.scrollTop,w=s.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(w,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f=this._panKeys={},_=this.keyCodes,w,A;for(w=0,A=_.left.length;w<A;w++)f[_.left[w]]=[-1*s,0];for(w=0,A=_.right.length;w<A;w++)f[_.right[w]]=[s,0];for(w=0,A=_.down.length;w<A;w++)f[_.down[w]]=[0,s];for(w=0,A=_.up.length;w<A;w++)f[_.up[w]]=[0,-1*s]},_setZoomDelta:function(s){var f=this._zoomKeys={},_=this.keyCodes,w,A;for(w=0,A=_.zoomIn.length;w<A;w++)f[_.zoomIn[w]]=s;for(w=0,A=_.zoomOut.length;w<A;w++)f[_.zoomOut[w]]=-s},_addHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f=s.keyCode,_=this._map,w;if(f in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(w=this._panKeys[f],s.shiftKey&&(w=ce(w).multiplyBy(3)),_.options.maxBounds&&(w=_._limitOffset(ce(w),_.options.maxBounds)),_.options.worldCopyJump){var A=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(w)));_.panTo(A)}else _.panBy(w)}else if(f in this._zoomKeys)_.setZoom(_.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;Ri(s)}}});mt.addInitHook("addHandler","keyboard",i0),mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var o0=ri.extend({addHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var f=cr(s),_=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var w=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),w),Ri(s)},_performZoom:function(){var s=this._map,f=s.getZoom(),_=this._map.options.zoomSnap||0;s._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,M=_?Math.ceil(A/_)*_:A,z=s._limitZoom(f+(this._delta>0?M:-M))-f;this._delta=0,this._startTime=null,z&&(s.options.scrollWheelZoom==="center"?s.setZoom(f+z):s.setZoomAround(this._lastMousePos,f+z))}});mt.addInitHook("addHandler","scrollWheelZoom",o0);var F3=600;mt.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var r0=ri.extend({addHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var f=s.touches[0];this._startPos=this._newPos=new te(f.clientX,f.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Ve(document,"touchend",Tn),Ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),F3),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ve(document,"touchend",Tn),ve(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)},_onMove:function(s){var f=s.touches[0];this._newPos=new te(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,f){var _=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});_._simulated=!0,f.target.dispatchEvent(_)}});mt.addInitHook("addHandler","tapHold",r0),mt.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var s0=ri.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var f=this._map;if(!(!s.touches||s.touches.length!==2||f._animatingZoom||this._zooming)){var _=f.mouseEventToContainerPoint(s.touches[0]),w=f.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(_.add(w)._divideBy(2))),this._startDist=_.distanceTo(w),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),Tn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var f=this._map,_=f.mouseEventToContainerPoint(s.touches[0]),w=f.mouseEventToContainerPoint(s.touches[1]),A=_.distanceTo(w)/this._startDist;if(this._zoom=f.getScaleZoom(A,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&A<1||this._zoom>f.getMaxZoom()&&A>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var M=_._add(w)._divideBy(2)._subtract(this._centerPoint);if(A===1&&M.x===0&&M.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),Ae(this._animRequest);var z=m(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$e(z,this,!0),Tn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ae(this._animRequest),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mt.addInitHook("addHandler","touchZoom",s0),mt.BoxZoom=e0,mt.DoubleClickZoom=t0,mt.Drag=n0,mt.Keyboard=i0,mt.ScrollWheelZoom=o0,mt.TapHold=r0,mt.TouchZoom=s0,n.Bounds=He,n.Browser=le,n.CRS=ln,n.Canvas=Kf,n.Circle=fr,n.CircleMarker=Ao,n.Class=At,n.Control=Mi,n.DivIcon=Qn,n.DivOverlay=en,n.DomEvent=Zn,n.DomUtil=yn,n.Draggable=wo,n.Evented=ze,n.FeatureGroup=Vi,n.GeoJSON=h,n.GridLayer=Zi,n.Handler=ri,n.Icon=hr,n.ImageOverlay=Q,n.LatLng=ut,n.LatLngBounds=Pt,n.Layer=xn,n.LayerGroup=ro,n.LineUtil=pd,n.Map=mt,n.Marker=ai,n.Mixin=hd,n.Path=Gi,n.Point=te,n.PolyUtil=Ba,n.Polygon=a,n.Polyline=i,n.Popup=Yn,n.PosAnimation=Fa,n.Projection=Ua,n.Rectangle=Jf,n.Renderer=Ho,n.SVG=ja,n.SVGOverlay=dt,n.TileLayer=pr,n.Tooltip=Nt,n.Transformation=nt,n.Util=ot,n.VideoOverlay=he,n.bind=m,n.bounds=Ue,n.canvas=qf,n.circle=T,n.circleMarker=Ct,n.control=Jr,n.divIcon=gr,n.extend=l,n.featureGroup=ji,n.geoJSON=H,n.geoJson=G,n.gridLayer=mu,n.icon=Ha,n.imageOverlay=ue,n.latLng=ie,n.latLngBounds=Ze,n.layerGroup=pi,n.map=cd,n.marker=pu,n.point=ce,n.polygon=d,n.polyline=r,n.popup=Xn,n.rectangle=P3,n.setOptions=j,n.stamp=C,n.svg=$f,n.svgOverlay=qe,n.tileLayer=Xf,n.tooltip=bn,n.transformation=Ai,n.version=o,n.videoOverlay=ae;var B3=window.L;n.noConflict=function(){return window.L=B3,this},window.L=n})})(Xh,Xh.exports);var Ty=Xh.exports;const $n=kc(Ty);class Iy{constructor(e){this.V=e,this.adj=new Array(e).fill().map(()=>[]),this.parent=new Array(e).fill(-1),this.nodeCategories=new Array(e).fill("default"),this.nodeBuilding=new Array(e).fill(""),this.arrayPath=[]}addEdge(e,n,o){this.adj[e].push([n,o]),this.adj[n].push([e,o])}setNodeCategory(e,n){this.nodeCategories[e]=n}setNodeBuilding(e,n){this.nodeBuilding[e]=n}findClosestCategory(e,n,o,l,c){const m=new Array(this.V).fill(Number.POSITIVE_INFINITY),v=new Set;for(v.add([0,e]),m[e]=0;v.size>0;){const N=[...v].reduce((D,V)=>D[0]<V[0]?D:V);v.delete(N);const b=N[1];for(const[D,V]of this.adj[b])!o&&this.nodeCategories[D]==="elevator"||!l&&this.nodeCategories[D]==="emergencyExit"||(c==="Main"||c==="Science"?(u.setNodeCategory(706,"Exit"),u.setNodeCategory(98,"Exit"),u.setNodeCategory(3001,"Exit"),u.setNodeCategory(1700,"Exit")):c==="BRS"?u.setNodeCategory(208,"Exit"):(c==="EDS"||c==="CHTM")&&u.setNodeCategory(1100,"Exit"),m[D]>m[b]+V&&(m[D]!==Number.POSITIVE_INFINITY&&v.delete([m[D],D]),m[D]=m[b]+V,v.add([m[D],D]),this.parent[D]=b))}let C=-1,y=Number.POSITIVE_INFINITY;for(let N=0;N<this.V;N++)m[N]<y&&this.nodeCategories[N]===n&&(y=m[N],C=N);return y!==Number.POSITIVE_INFINITY?(console.log(`Closest Node of Category ${n} from Room ${e} is Room ${C} at a distance of ${y}.`),console.log("Path: "),this.printPath(C),console.log("Array Path:",this.arrayPath)):console.log(`No node of Category ${n} found from Room ${e}`),[y,C]}printPath(e){if(this.arrayPath=[],console.log(`Current Node: ${e}`),e===-1){console.log("Terminating recursion");return}this.printPath(this.parent[e]),console.log(`${e} -> `),this.arrayPath.push(Number(e))}shortestPath(e,n,o,l){const c=new Array(this.V).fill(Number.POSITIVE_INFINITY),m=new Set;for(m.add([0,e]),c[e]=0;m.size>0;){const v=[...m].reduce((y,N)=>y[0]<N[0]?y:N);m.delete(v);const C=v[1];for(const[y,N]of this.adj[C])!l&&this.nodeCategories[y]==="emergencyExit"||!o&&this.nodeCategories[y]==="elevator"||c[y]>c[C]+N&&(c[y]!==Number.POSITIVE_INFINITY&&m.delete([c[y],y]),c[y]=c[C]+N,m.add([c[y],y]),this.parent[y]=C)}c[n]===Number.POSITIVE_INFINITY?console.log(`No node found at Room ${n} from Room ${e}`):(console.log(`Room ${n} from Room ${e} is ${c[n]} units away.`),console.log("Path: "),this.printPath(n))}}function xg(t,e,n,o,l,c){if(console.log("Wlaa: ",e,n),u.parent=new Array(hf).fill(-1),u.arrayPath=[],t==="enterDestination")return u.shortestPath(e,n,o,l),u.arrayPath;if(t==="enterFindFacility")return u.findClosestCategory(e,n,o,l,c),u.arrayPath}function vg(t,e,n,o,l,c){if(u.parent=new Array(hf).fill(-1),u.arrayPath=[],t==="enterDestination")return u.shortestPath(e,n,o,l),u.nodeBuilding[u.arrayPath[0]];if(t==="enterFindFacility")return u.findClosestCategory(e,n,o,l,c),u.nodeBuilding[u.arrayPath[0]]}const hf=1e4,u=new Iy(hf);u.setNodeCategory(378,"CR(MEN)");u.setNodeCategory(379,"CR(WOMEN)");u.setNodeCategory(381,"Logistic Management Office");u.setNodeCategory(400,"Student Lounge");u.setNodeCategory(5,"CTE Faculty Office");u.setNodeCategory(4,"CTE Dean Office");u.setNodeCategory(46,"CR(MEN)");u.setNodeCategory(47,"CR(WOMEN)");u.setNodeCategory(15,"Student Dev&Welfare Office");u.setNodeCategory(56,"CR(WOMEN)");u.setNodeCategory(1,"CEA Faculty Office");u.setNodeCategory(530,"CR(WOMEN)");u.setNodeCategory(531,"CR(MEN)");u.setNodeCategory(515,"ITSS/MIS");u.setNodeCategory(507,"Research Service Office");u.setNodeCategory(483,"ETEEAP");u.setNodeCategory(543,"Creative Production Office");u.setNodeCategory(547,"LMO Storage Room");u.setNodeCategory(551,"Female Shower/Dressing Room");u.setNodeCategory(555,"Male Shower/Dressing Room");u.setNodeCategory(557,"CR(MEN)");u.setNodeCategory(504,"Firing Range");u.setNodeCategory(498,"Crime Scene Lab");u.setNodeCategory(496,"Phychological Testing Unit");u.setNodeCategory(494,"The Alternatives");u.setNodeCategory(492,"University Student Council");u.setNodeCategory(559,"Wellness Center");u.setNodeCategory(487,"Gymnasium");u.setNodeCategory(619,"Office of Quality Assurance");u.setNodeCategory(617,"Office of Student Affairs & Services");u.setNodeCategory(648,"CR(WOMEN)");u.setNodeCategory(676,"CR(WOMEN)");u.setNodeCategory(678,"CR(MEN)");u.setNodeCategory(665,"CR(WOMEN)");u.setNodeCategory(664,"CR(MEN)");u.setNodeCategory(657,"Architecture & Fine Arts Extension Office");u.setNodeCategory(921,"CR(WOMEN)");u.setNodeCategory(923,"CR(MEN)");u.setNodeCategory(911,"Office of Student Walfare Service");u.setNodeCategory(967,"Academic Director Office & Faculty Office");u.setNodeCategory(822,"CR(WOMEN)");u.setNodeCategory(821,"CR(MEN)");u.setNodeCategory(830,"Dental Clinic");u.setNodeCategory(808,"COA Consultation");u.setNodeCategory(804,"COA Faculty Office");u.setNodeCategory(806,"COA Faculty Extension Office");u.setNodeCategory(862,"Building & Maintenance Office");u.setNodeCategory(825,"Simulation Room");u.setNodeCategory(758,"CITCS Faculty Office");u.setNodeCategory(754,"Multi-Media Room");u.setNodeCategory(771,"CR(WOMEN)");u.setNodeCategory(769,"CR(MEN)");u.setNodeCategory(728,"CR(WOMEN)");u.setNodeCategory(729,"CR(MEN)");u.setNodeCategory(725,"Disbursing Office");u.setNodeCategory(720,"Accounting Office");u.setNodeCategory(716,"Vice-President for Administration Office");u.setNodeCategory(705,"BOT-HQ");u.setNodeCategory(714,"Registrar");u.setNodeCategory(722,"EVP Office");u.setNodeCategory(724,"President Office");u.setNodeCategory(1007,"Main Library");u.setNodeCategory(1014,"Marketing Communications & Enrollment");u.setNodeCategory(1015,"Human Resources dev. Office");u.setNodeCategory(1018,"Legal Office");u.setNodeCategory(1084,"Theater");u.setNodeCategory(1236,"CR(WOMEN)");u.setNodeCategory(1241,"CR(MEN)");u.setNodeCategory(1231,"CYPRESS");u.setNodeCategory(1230,"CITCS Open Lab");u.setNodeCategory(1118,"CR(WOMEN)");u.setNodeCategory(1127,"CR(MEN)");u.setNodeCategory(1109,"CAS Faculty Office");u.setNodeCategory(1112,"CAS Dean Office");u.setNodeCategory(1114,"Cashier");u.setNodeCategory(1103,"Regiatrar Extension");u.setNodeCategory(1132,"Alumni Office");u.setNodeCategory(1134,"Medical Clinic");u.setNodeCategory(1140,"Occupational Safety & Health Office");u.setNodeCategory(1148,"TRIBU");u.setNodeCategory(1144,"CR(MEN)");u.setNodeCategory(1146,"Vice-President for Academic & Research");u.setNodeCategory(1162,"CR(WOMEN)");u.setNodeCategory(1183,"CR(MEN)");u.setNodeCategory(1200,"CR(WOMEN)");u.setNodeCategory(1170,"CON Faculty Office");u.setNodeCategory(1172,"Graduate Program Library/Theses and Dissertations");u.setNodeCategory(1278,"CR(WOMEN)");u.setNodeCategory(1283,"CR(MEN)");u.setNodeCategory(1291,"Web & Graphics");u.setNodeCategory(1292,"Public Affairs Office");u.setNodeCategory(1348,"CR(WOMEN)");u.setNodeCategory(1355,"CR(MEN)");u.setNodeCategory(1349,"KAPATIRAN");u.setNodeCategory(1350,"CON Cosultation Room");u.setNodeCategory(1373,"CR(WOMEN)");u.setNodeCategory(1421,"CR(WOMEN)");u.setNodeCategory(1432,"CR(MEN)");u.setNodeCategory(1415,"Health Center");u.setNodeCategory(1445,"CHTM Faculty Office");u.setNodeCategory(1448,"CBA Admin Staff/Faculty Office");u.setNodeCategory(1451,"CBA Consultation Room");u.setNodeCategory(1449,"CBA Dean Office");u.setNodeCategory(1456,"CR(WOMEN)");u.setNodeCategory(1509,"CR(WOMEN)");u.setNodeCategory(1508,"CR(MEN)");u.setNodeCategory(1504,"Sanctuary");u.setNodeCategory(8250,"Auditorium");u.setNodeCategory(8360,"Canao Hall");u.setNodeCategory(135,"MassCom E-Laboratory");u.setNodeCategory(141,"CR(WOMEN)");u.setNodeCategory(111,"CR(MEN)");u.setNodeCategory(164,"CR(WOMEN)");u.setNodeCategory(160,"CITCS Multi-Media Room");u.setNodeCategory(191,"CR(MEN)");u.setNodeCategory(226,"CR(WOMEN)");u.setNodeCategory(220,"General Collection Library");u.setNodeCategory(241,"CR(MEN)");u.setNodeCategory(245,"COL Faculty Office");u.setNodeCategory(242,"COL Library");u.setNodeCategory(268,"CR(WOMEN)");u.setNodeCategory(293,"CR(MEN)");u.setNodeCategory(318,"CR(WOMEN)");u.setNodeCategory(1061,"CR(MEN)");u.addEdge(393,466,1);u.addEdge(420,347,1);u.addEdge(420,421,1);u.addEdge(4e3,421,1);u.addEdge(4e3,3e3,1);u.addEdge(422,421,1);u.addEdge(422,425,1);u.addEdge(424,425,1);u.addEdge(426,425,1);u.addEdge(426,427,1);u.addEdge(426,428,1);u.addEdge(429,428,1);u.addEdge(430,428,1);u.addEdge(430,431,1);u.addEdge(430,432,1);u.addEdge(430,433,1);u.addEdge(434,433,1);u.addEdge(435,433,1);u.addEdge(436,433,1);u.addEdge(436,437,1);u.addEdge(436,438,1);u.addEdge(439,438,1);u.addEdge(440,438,1);u.addEdge(440,441,1);u.addEdge(440,442,1);u.addEdge(443,442,1);u.addEdge(442,444,1);u.addEdge(445,444,1);u.addEdge(446,444,1);u.addEdge(446,447,1);u.addEdge(446,448,1);u.addEdge(446,449,1);u.addEdge(450,449,1);u.addEdge(451,449,1);u.addEdge(452,449,1);u.addEdge(452,453,1);u.addEdge(452,454,1);u.addEdge(452,455,1);u.addEdge(456,455,1);u.addEdge(456,457,1);u.addEdge(458,457,1);u.addEdge(459,457,1);u.addEdge(459,460,1);u.addEdge(459,461,1);u.addEdge(462,461,1);u.addEdge(463,461,1);u.addEdge(463,464,1);u.addEdge(465,464,1);u.addEdge(466,464,1);u.addEdge(340,14,1);u.addEdge(340,341,1);u.addEdge(342,341,1);u.addEdge(342,343,1);u.addEdge(344,343,1);u.addEdge(344,345,1);u.addEdge(344,346,1);u.addEdge(347,346,1);u.addEdge(3008,3e3,1);u.addEdge(3001,3e3,1);u.addEdge(3001,3002,1);u.addEdge(3003,3002,1);u.addEdge(3003,3007,2e3);u.addEdge(3006,3007,2e3);u.addEdge(3006,3005,1);u.addEdge(3004,3005,1);u.addEdge(348,346,1);u.addEdge(348,349,1);u.addEdge(348,350,1);u.addEdge(351,350,1);u.addEdge(352,350,1);u.addEdge(353,350,1);u.addEdge(353,354,1);u.addEdge(353,355,1);u.addEdge(356,355,1);u.addEdge(357,355,1);u.addEdge(357,358,1);u.addEdge(357,359,1);u.addEdge(360,359,1);u.addEdge(361,359,1);u.addEdge(361,362,1);u.addEdge(363,362,1);u.addEdge(364,362,1);u.addEdge(364,365,1);u.addEdge(364,366,1);u.addEdge(367,366,1);u.addEdge(368,366,1);u.addEdge(368,369,1);u.addEdge(368,370,1);u.addEdge(371,370,1);u.addEdge(372,370,1);u.addEdge(372,373,1);u.addEdge(372,374,1);u.addEdge(375,374,1);u.addEdge(376,374,1);u.addEdge(376,377,1);u.addEdge(378,377,1);u.addEdge(379,377,1);u.addEdge(376,405,1);u.addEdge(406,405,1);u.addEdge(380,405,1);u.addEdge(380,407,1);u.addEdge(381,407,1);u.addEdge(382,407,1);u.addEdge(382,383,1);u.addEdge(382,384,1);u.addEdge(380,385,1);u.addEdge(386,385,1);u.addEdge(386,387,1);u.addEdge(383,402,1);u.addEdge(390,402,1);u.addEdge(390,391,1);u.addEdge(392,391,1);u.addEdge(392,393,1);u.addEdge(394,361,5);u.addEdge(394,395,1);u.addEdge(394,396,1);u.addEdge(397,396,1);u.addEdge(398,396,1);u.addEdge(398,399,1);u.addEdge(398,400,1);u.addEdge(401,400,5);u.addEdge(414,400,1);u.addEdge(414,415,1);u.addEdge(414,410,1);u.addEdge(403,410,1);u.addEdge(411,410,1);u.addEdge(411,412,1);u.addEdge(413,412,1);u.addEdge(413,73,1);u.addEdge(403,404,1);u.addEdge(130,404,1);u.addEdge(0,85,1);u.addEdge(0,87,1);u.addEdge(88,87,1);u.addEdge(1,85,1);u.addEdge(86,85,1);u.addEdge(0,3,1);u.addEdge(3,2,1);u.addEdge(3,6,1);u.addEdge(4,6,1);u.addEdge(5,6,1);u.addEdge(7,6,1);u.addEdge(7,11,1);u.addEdge(12,11,1);u.addEdge(12,13,1);u.addEdge(7,8,1);u.addEdge(9,8,1);u.addEdge(10,8,1);u.addEdge(10,14,1);u.addEdge(10,16,1);u.addEdge(15,16,1);u.addEdge(19,16,1);u.addEdge(19,18,1);u.addEdge(19,20,1);u.addEdge(19,22,1);u.addEdge(21,22,1);u.addEdge(23,22,1);u.addEdge(24,22,1);u.addEdge(24,25,1);u.addEdge(26,25,1);u.addEdge(27,25,1);u.addEdge(24,28,1);u.addEdge(29,28,1);u.addEdge(30,28,1);u.addEdge(31,28,1);u.addEdge(31,33,1);u.addEdge(32,33,1);u.addEdge(34,33,1);u.addEdge(34,35,1);u.addEdge(34,37,1);u.addEdge(36,37,1);u.addEdge(38,37,1);u.addEdge(38,46,1);u.addEdge(38,47,1);u.addEdge(38,48,1);u.addEdge(38,39,1);u.addEdge(40,39,1);u.addEdge(41,39,1);u.addEdge(41,45,1);u.addEdge(95,45,1);u.addEdge(41,42,1);u.addEdge(43,42,1);u.addEdge(44,43,1);u.addEdge(31,49,1);u.addEdge(50,49,1);u.addEdge(51,49,1);u.addEdge(51,52,1);u.addEdge(51,53,1);u.addEdge(54,53,1);u.addEdge(55,53,1);u.addEdge(55,56,1);u.addEdge(55,57,1);u.addEdge(58,57,1);u.addEdge(58,59,1);u.addEdge(60,53,1);u.addEdge(60,61,1);u.addEdge(60,82,1);u.addEdge(63,82,1);u.addEdge(62,82,1);u.addEdge(63,65,.5);u.addEdge(66,65,1);u.addEdge(64,63,1);u.addEdge(67,65,.5);u.addEdge(67,68,1);u.addEdge(67,69,.5);u.addEdge(70,69,1);u.addEdge(71,69,1);u.addEdge(72,69,.5);u.addEdge(72,73,1);u.addEdge(72,74,.5);u.addEdge(75,74,1);u.addEdge(75,17,1);u.addEdge(99,17,1);u.addEdge(99,84,1);u.addEdge(76,74,.5);u.addEdge(77,76,1);u.addEdge(78,76,1);u.addEdge(78,79,1);u.addEdge(78,80,1);u.addEdge(81,80,1);u.addEdge(16,80,1);u.addEdge(59,94,1);u.addEdge(59,93,1);u.addEdge(401,94,1);u.addEdge(98,89,1);u.addEdge(387,89,1);u.addEdge(98,90,1);u.addEdge(98,91,1);u.addEdge(92,91,1);u.addEdge(83,90,1);u.addEdge(83,43,1);u.addEdge(38,2e3,1);u.addEdge(486,13,1);u.addEdge(480,481,1);u.addEdge(482,481,1);u.addEdge(482,483,1);u.addEdge(482,484,1);u.addEdge(505,484,1);u.addEdge(485,484,1);u.addEdge(485,486,1);u.addEdge(485,487,1);u.addEdge(488,487,1);u.addEdge(488,489,1);u.addEdge(488,490,1);u.addEdge(491,490,1);u.addEdge(491,492,1);u.addEdge(491,493,1);u.addEdge(494,493,1);u.addEdge(495,493,1);u.addEdge(495,496,1);u.addEdge(495,497,1);u.addEdge(498,497,1);u.addEdge(499,497,1);u.addEdge(499,500,1);u.addEdge(499,501,1);u.addEdge(502,501,1);u.addEdge(503,501,1);u.addEdge(503,504,1);u.addEdge(506,484,1);u.addEdge(506,507,1);u.addEdge(506,508,1);u.addEdge(506,509,1);u.addEdge(510,509,1);u.addEdge(511,509,1);u.addEdge(511,512,1);u.addEdge(513,512,1);u.addEdge(514,512,1);u.addEdge(514,515,1);u.addEdge(514,516,1);u.addEdge(514,517,1);u.addEdge(518,517,1);u.addEdge(518,519,7);u.addEdge(520,519,1);u.addEdge(521,519,1);u.addEdge(521,522,1);u.addEdge(521,523,1);u.addEdge(524,523,1);u.addEdge(525,523,1);u.addEdge(525,526,1);u.addEdge(674,526,1);u.addEdge(524,527,4);u.addEdge(528,527,1);u.addEdge(528,529,1);u.addEdge(528,485,5);u.addEdge(530,529,1);u.addEdge(531,529,1);u.addEdge(532,527,1);u.addEdge(533,527,1);u.addEdge(533,534,1);u.addEdge(534,535,1);u.addEdge(533,536,1);u.addEdge(537,536,1);u.addEdge(537,538,1);u.addEdge(539,538,1);u.addEdge(540,536,1);u.addEdge(540,541,1);u.addEdge(540,542,1);u.addEdge(543,542,1);u.addEdge(544,542,1);u.addEdge(544,545,1);u.addEdge(544,546,1);u.addEdge(547,546,1);u.addEdge(548,546,1);u.addEdge(548,549,1);u.addEdge(548,550,1);u.addEdge(551,550,1);u.addEdge(552,550,1);u.addEdge(552,553,1);u.addEdge(552,554,1);u.addEdge(555,554,1);u.addEdge(556,554,1);u.addEdge(556,557,1);u.addEdge(556,558,1);u.addEdge(559,558,1);u.addEdge(560,558,1);u.addEdge(560,561,1);u.addEdge(562,561,1);u.addEdge(562,563,1);u.addEdge(560,564,1);u.addEdge(565,564,1);u.addEdge(567,564,3);u.addEdge(567,568,1);u.addEdge(567,569,2);u.addEdge(570,569,1);u.addEdge(570,571,1);u.addEdge(570,572,3);u.addEdge(572,574,1);u.addEdge(575,574,1);u.addEdge(575,576,1);u.addEdge(572,577,1);u.addEdge(573,577,1);u.addEdge(578,577,1);u.addEdge(579,577,1);u.addEdge(579,580,1);u.addEdge(581,580,1);u.addEdge(582,580,1);u.addEdge(579,583,1);u.addEdge(584,583,1);u.addEdge(585,583,1);u.addEdge(585,586,1);u.addEdge(578,95,1);u.addEdge(541,84,1);u.addEdge(565,93,1);u.addEdge(532,155,1);u.addEdge(9e3,574,.1);u.addEdge(9e3,9001,.1);u.addEdge(9002,9001,.1);u.addEdge(9002,9003,.1);u.addEdge(9012,9003,.1);u.setNodeCategory(9003,"emergencyExit");u.addEdge(615,480,1);u.addEdge(610,611,1);u.addEdge(612,611,1);u.addEdge(612,682,1);u.addEdge(612,613,1);u.addEdge(614,613,1);u.addEdge(614,615,1);u.addEdge(614,620,5);u.addEdge(616,613,1);u.addEdge(616,617,1);u.addEdge(616,618,1);u.addEdge(619,618,1);u.addEdge(621,672,3);u.addEdge(620,672,1);u.addEdge(673,672,1);u.addEdge(673,674,1);u.addEdge(621,622,1);u.addEdge(621,623,8);u.addEdge(624,623,1);u.addEdge(625,623,.1);u.addEdge(625,626,.1);u.addEdge(625,627,.1);u.addEdge(628,627,.1);u.addEdge(675,627,.1);u.addEdge(675,676,.1);u.addEdge(675,677,.1);u.addEdge(678,677,.1);u.addEdge(629,677,.1);u.addEdge(629,737,1);u.addEdge(629,631,1);u.addEdge(632,631,1);u.addEdge(633,620,1);u.addEdge(633,634,1);u.addEdge(633,635,1);u.addEdge(636,635,1);u.addEdge(636,637,1);u.addEdge(638,637,1);u.addEdge(639,635,1);u.addEdge(639,640,1);u.addEdge(639,641,1);u.addEdge(642,641,1);u.addEdge(643,641,1);u.addEdge(643,644,1);u.addEdge(643,645,1);u.addEdge(646,645,1);u.addEdge(647,645,1);u.addEdge(647,648,1);u.addEdge(647,649,1);u.addEdge(650,649,1);u.addEdge(650,651,1);u.addEdge(652,651,1);u.addEdge(653,649,1);u.addEdge(653,654,1);u.addEdge(655,656,1);u.addEdge(657,656,1);u.addEdge(658,656,1);u.addEdge(658,659,1);u.addEdge(663,659,1);u.addEdge(663,664,1);u.addEdge(663,665,1);u.addEdge(658,660,1);u.addEdge(661,660,1);u.addEdge(661,662,1);u.addEdge(656,666,1);u.addEdge(667,666,1);u.addEdge(668,666,1);u.addEdge(668,669,1);u.addEdge(668,670,1);u.addEdge(671,670,1);u.addEdge(655,576,1);u.addEdge(654,563,1);u.addEdge(640,539,1);u.addEdge(634,180,1);u.addEdge(624,206,.1);u.addEdge(9010,660,.1);u.addEdge(9010,9011,.1);u.addEdge(9012,9011,.1);u.addEdge(9010,9013,.1);u.addEdge(9014,9013,.1);u.addEdge(9014,9015,.1);u.addEdge(9022,9015,.1);u.setNodeCategory(9002,"emergencyExit");u.setNodeCategory(9015,"emergencyExit");u.addEdge(638,906,1);u.addEdge(927,964,1);u.addEdge(662,890,1);u.addEdge(891,890,1);u.addEdge(891,892,1);u.addEdge(893,892,1);u.addEdge(894,892,1);u.addEdge(894,895,1);u.addEdge(894,896,1);u.addEdge(897,896,1);u.addEdge(891,898,1);u.addEdge(899,898,1);u.addEdge(900,898,1);u.addEdge(903,904,1);u.addEdge(903,8449,1);u.addEdge(905,904,1);u.addEdge(905,906,1);u.addEdge(905,907,1);u.addEdge(907,908,1);u.addEdge(905,910,1);u.addEdge(911,910,1);u.addEdge(912,910,1);u.addEdge(912,913,1);u.addEdge(912,914,1);u.addEdge(915,914,1);u.addEdge(915,916,1);u.addEdge(917,916,1);u.addEdge(918,916,1);u.addEdge(918,919,1);u.addEdge(918,920,1);u.addEdge(921,920,1);u.addEdge(922,920,1);u.addEdge(922,923,1);u.addEdge(922,924,1);u.addEdge(925,924,1);u.addEdge(925,926,1);u.addEdge(927,926,1);u.addEdge(928,924,1);u.addEdge(928,929,1);u.addEdge(900,9090,1);u.addEdge(9091,9090,1);u.addEdge(9020,900,.1);u.addEdge(9020,9021,.1);u.addEdge(9022,9021,.1);u.addEdge(9020,9023,.1);u.addEdge(9024,9023,.1);u.addEdge(9024,9025,.1);u.addEdge(9032,9025,.1);u.setNodeCategory(9002,"emergencyExit");u.setNodeCategory(9015,"emergencyExit");u.addEdge(950,9091,1);u.addEdge(950,951,1);u.addEdge(952,951,1);u.addEdge(952,953,1);u.addEdge(952,954,1);u.addEdge(955,954,1);u.addEdge(956,955,1);u.addEdge(957,955,1);u.addEdge(957,958,1);u.addEdge(959,954,1);u.addEdge(959,960,1);u.addEdge(959,961,1);u.addEdge(962,961,1);u.addEdge(963,961,1);u.addEdge(965,966,1);u.addEdge(967,966,1);u.addEdge(964,927,1);u.addEdge(965,908,1);u.addEdge(9030,951,.1);u.addEdge(9030,9031,.1);u.addEdge(9032,9031,.1);u.setNodeCategory(9032,"emergencyExit");u.addEdge(1002,610,1);u.addEdge(1002,1003,1);u.addEdge(1008,1003,1);u.addEdge(1008,1007,10);u.addEdge(1006,1007,10);u.addEdge(1006,1005,1);u.addEdge(1004,1003,10);u.addEdge(1004,1005,5);u.addEdge(1009,1005,1);u.addEdge(1009,1010,1);u.addEdge(710,1010,1);u.addEdge(1009,1011,1);u.addEdge(1012,1011,1);u.addEdge(1013,1011,1);u.addEdge(1013,1014,1);u.addEdge(1013,1015,1);u.addEdge(1013,1016,1);u.addEdge(1017,1016,1);u.addEdge(1017,1018,1);u.addEdge(1017,1019,1);u.addEdge(1020,1016,1);u.addEdge(1020,1021,1);u.addEdge(1022,1021,1);u.addEdge(1022,1023,1);u.addEdge(1024,1023,1);u.addEdge(1020,8510,.1);u.addEdge(8511,8510,.1);u.addEdge(8511,8512,.1);u.addEdge(8513,8510,.1);u.addEdge(8513,8514,.1);u.addEdge(8515,8514,.1);u.addEdge(8515,8516,.1);u.addEdge(8521,8516,.1);u.setNodeCategory(8512,"emergencyExit");u.setNodeCategory(8516,"emergencyExit");u.addEdge(1080,1019,1);u.addEdge(1080,1081,1);u.addEdge(1082,1081,1);u.addEdge(1082,1083,1);u.addEdge(1084,1083,1);u.addEdge(8520,1083,.1);u.addEdge(8521,8520,.1);u.setNodeCategory(8521,"emergencyExit");u.addEdge(700,207,1);u.addEdge(700,701,1);u.addEdge(702,701,1);u.addEdge(703,701,1);u.addEdge(703,704,1);u.addEdge(705,704,1);u.addEdge(706,704,1);u.addEdge(703,707,1);u.addEdge(708,707,1);u.addEdge(708,709,1);u.addEdge(710,709,1);u.addEdge(707,711,1);u.addEdge(712,711,1);u.addEdge(713,711,1);u.addEdge(713,714,1);u.addEdge(713,715,1);u.addEdge(716,715,1);u.addEdge(719,715,1);u.addEdge(719,720,1);u.addEdge(719,721,1);u.addEdge(722,721,1);u.addEdge(723,721,1);u.addEdge(723,724,1);u.addEdge(723,725,1);u.addEdge(723,726,1);u.addEdge(727,726,1);u.addEdge(727,728,1);u.addEdge(727,729,1);u.addEdge(730,726,1);u.addEdge(730,735,1);u.addEdge(731,735,1);u.addEdge(736,735,1);u.addEdge(736,737,10);u.addEdge(730,732,1);u.addEdge(733,732,1);u.addEdge(733,734,1);u.addEdge(706,8504,.1);u.addEdge(8500,8504,.1);u.addEdge(8500,8501,.1);u.addEdge(8502,8501,.1);u.addEdge(8502,8503,.1);u.addEdge(8503,8512,.1);u.setNodeCategory(8503,"emergencyExit");u.setNodeCategory(8500,"emergencyExit");u.addEdge(750,712,1);u.addEdge(750,751,1);u.addEdge(752,751,1);u.addEdge(752,753,1);u.addEdge(754,753,1);u.addEdge(755,753,1);u.addEdge(755,756,1);u.addEdge(757,753,1);u.addEdge(757,758,1);u.addEdge(757,759,1);u.addEdge(755,759,1);u.addEdge(760,759,1);u.addEdge(761,759,1);u.addEdge(761,762,1);u.addEdge(761,763,1);u.addEdge(764,763,1);u.addEdge(765,763,1);u.addEdge(765,766,1);u.addEdge(765,767,1);u.addEdge(768,767,1);u.addEdge(768,769,1);u.addEdge(768,770,1);u.addEdge(771,770,1);u.addEdge(772,770,1);u.addEdge(773,767,1);u.addEdge(774,773,1);u.addEdge(773,775,1);u.addEdge(776,775,1);u.addEdge(776,833,1);u.addEdge(777,775,1);u.addEdge(777,778,1);u.addEdge(779,778,1);u.addEdge(779,731,1);u.addEdge(772,513,1);u.setNodeCategory(864,"elevator");u.addEdge(827,88,1);u.addEdge(756,800,1);u.addEdge(801,800,1);u.addEdge(801,802,1);u.addEdge(803,802,1);u.addEdge(803,804,1);u.addEdge(803,805,1);u.addEdge(806,805,1);u.addEdge(807,805,1);u.addEdge(807,808,1);u.addEdge(807,809,1);u.addEdge(810,809,1);u.addEdge(811,809,1);u.addEdge(811,812,1);u.addEdge(811,813,1);u.addEdge(814,813,1);u.addEdge(815,813,1);u.addEdge(815,816,1);u.addEdge(815,817,1);u.addEdge(818,817,1);u.addEdge(819,817,1);u.addEdge(819,820,1);u.addEdge(821,820,1);u.addEdge(822,820,1);u.addEdge(819,823,1);u.addEdge(824,823,1);u.addEdge(825,823,1);u.addEdge(826,823,1);u.addEdge(826,827,1);u.addEdge(826,828,1);u.addEdge(829,828,1);u.addEdge(829,830,1);u.addEdge(831,828,1);u.addEdge(831,832,1);u.addEdge(833,832,1);u.addEdge(805,865,1);u.addEdge(866,865,1);u.addEdge(834,865,1);u.addEdge(834,835,1);u.addEdge(834,836,1);u.addEdge(834,837,1);u.addEdge(838,837,1);u.addEdge(839,837,1);u.addEdge(839,840,1);u.addEdge(839,841,1);u.addEdge(864,841,1);u.addEdge(842,841,1);u.addEdge(842,843,1);u.addEdge(842,844,1);u.addEdge(845,844,1);u.addEdge(845,846,5);u.addEdge(847,844,1);u.addEdge(847,848,1);u.addEdge(847,849,1);u.addEdge(850,849,1);u.addEdge(851,849,1);u.addEdge(851,855,1);u.addEdge(851,852,1);u.addEdge(853,852,1);u.addEdge(853,854,1);u.addEdge(856,855,1);u.addEdge(857,855,1);u.addEdge(857,846,5);u.addEdge(8100,855,1);u.addEdge(858,859,1);u.addEdge(858,861,1);u.addEdge(862,861,1);u.addEdge(860,8100,1);u.addEdge(858,8100,1);u.addEdge(860,8003,1);u.setNodeCategory(860,"emergencyExit");u.setNodeCategory(8003,"emergencyExit");u.addEdge(1142,1198,1);u.addEdge(1290,1198,1);u.addEdge(1290,1370,1);u.addEdge(1446,1370,1);u.addEdge(1446,1521,1);u.addEdge(1604,1521,1);u.addEdge(864,1234,1);u.addEdge(1116,1234,1);u.addEdge(1116,1165,1);u.addEdge(1276,1165,1);u.addEdge(1276,1346,1);u.addEdge(1419,1346,1);u.addEdge(1419,1506,1);u.addEdge(143,113,1);u.addEdge(166,113,1);u.addEdge(166,195,1);u.addEdge(224,195,1);u.addEdge(224,239,1);u.addEdge(264,239,1);u.addEdge(289,264,1);u.addEdge(289,314,1);u.addEdge(1046,314,1);u.setNodeCategory(143,"elevator");u.addEdge(115,149,1);u.addEdge(130,131,1);u.addEdge(132,131,1);u.addEdge(132,133,1);u.addEdge(132,134,1);u.addEdge(135,134,1);u.addEdge(136,134,1);u.addEdge(136,137,1);u.addEdge(136,138,1);u.addEdge(139,138,1);u.addEdge(140,138,1);u.addEdge(140,141,1);u.addEdge(140,142,1);u.addEdge(143,142,1);u.addEdge(144,142,1);u.addEdge(144,145,1);u.addEdge(144,146,1);u.addEdge(147,146,1);u.addEdge(147,148,1);u.addEdge(149,148,1);u.addEdge(143,113,1);u.addEdge(8400,131,.1);u.addEdge(8400,8401,.1);u.addEdge(8402,8401,.1);u.addEdge(8402,8412,.1);u.setNodeCategory(8402,"emergencyExit");u.setNodeCategory(113,"elevator");u.addEdge(77,100,1);u.addEdge(101,100,1);u.addEdge(101,102,1);u.addEdge(103,102,1);u.addEdge(104,102,1);u.addEdge(104,105,1);u.addEdge(104,106,1);u.addEdge(107,106,1);u.addEdge(108,106,1);u.addEdge(108,109,1);u.addEdge(108,110,1);u.addEdge(111,110,1);u.addEdge(112,110,1);u.addEdge(112,113,1);u.addEdge(112,114,1);u.addEdge(115,114,1);u.addEdge(116,114,1);u.addEdge(116,117,1);u.addEdge(116,118,1);u.addEdge(119,118,1);u.addEdge(119,120,1);u.addEdge(121,120,1);u.addEdge(8410,101,.1);u.addEdge(8410,8411,.1);u.addEdge(8412,8411,.1);u.addEdge(8410,8413,.1);u.addEdge(8414,8413,.1);u.addEdge(8414,8415,.1);u.addEdge(8416,8415,.1);u.addEdge(8416,8422,.1);u.setNodeCategory(8412,"emergencyExit");u.setNodeCategory(8416,"emergencyExit");u.setNodeCategory(166,"elevator");u.addEdge(168,121,1);u.addEdge(155,156,1);u.addEdge(157,156,1);u.addEdge(157,158,1);u.addEdge(157,159,1);u.addEdge(160,159,1);u.addEdge(161,159,1);u.addEdge(161,162,1);u.addEdge(161,163,1);u.addEdge(164,163,1);u.addEdge(165,163,1);u.addEdge(165,166,1);u.addEdge(165,167,1);u.addEdge(168,167,1);u.addEdge(167,169,1);u.addEdge(170,169,1);u.addEdge(171,169,1);u.addEdge(171,172,1);u.addEdge(173,172,1);u.addEdge(173,174,1);u.addEdge(8420,156,.1);u.addEdge(8420,8421,.1);u.addEdge(8422,8421,.1);u.addEdge(8423,8420,.1);u.addEdge(8423,8424,.1);u.addEdge(8425,8424,.1);u.addEdge(8425,8426,.1);u.addEdge(8432,8426,.1);u.setNodeCategory(8422,"emergencyExit");u.setNodeCategory(8426,"emergencyExit");u.setNodeCategory(195,"elevator");u.addEdge(197,174,1);u.addEdge(202,201,1);u.addEdge(200,201,1);u.addEdge(200,199,1);u.addEdge(200,199,1);u.addEdge(198,199,.5);u.addEdge(198,203,1);u.addEdge(204,203,.5);u.addEdge(208,203,1);u.addEdge(204,199,.5);u.addEdge(204,205,1);u.addEdge(206,205,1);u.addEdge(207,205,1);u.addEdge(198,196,.5);u.addEdge(197,196,1);u.addEdge(194,196,1);u.addEdge(194,195,1);u.addEdge(194,192,.5);u.addEdge(193,192,1);u.addEdge(190,192,.5);u.addEdge(190,191,1);u.addEdge(190,188,1);u.addEdge(189,188,1);u.addEdge(186,188,.5);u.addEdge(186,187,1);u.addEdge(186,184,1);u.addEdge(185,184,1);u.addEdge(182,184,.5);u.addEdge(182,183,1);u.addEdge(182,181,1);u.addEdge(181,180,1);u.addEdge(8430,181,.1);u.addEdge(8430,8431,.1);u.addEdge(8432,8431,.1);u.addEdge(8433,8430,.1);u.addEdge(8433,8434,.1);u.addEdge(8435,8434,.1);u.addEdge(8435,8436,.1);u.addEdge(8442,8436,.1);u.setNodeCategory(8447,"emergencyExit");u.setNodeCategory(8442,"emergencyExit");u.setNodeCategory(8446,"emergencyExit");u.setNodeCategory(224,"elevator");u.addEdge(202,222,1);u.addEdge(215,216,1);u.addEdge(217,216,1);u.addEdge(217,218,1);u.addEdge(219,218,1);u.addEdge(219,220,1);u.addEdge(219,221,1);u.addEdge(222,221,1);u.addEdge(223,221,1);u.addEdge(223,224,1);u.addEdge(223,225,1);u.addEdge(226,225,1);u.addEdge(220,3390,.1);u.addEdge(8448,3390,.1);u.addEdge(8448,8447,.1);u.addEdge(8449,8447,.1);u.addEdge(8440,8447,.1);u.addEdge(8440,8441,.1);u.addEdge(8442,8441,.1);u.addEdge(8443,8440,.1);u.addEdge(8443,8444,.1);u.addEdge(8445,8444,.1);u.addEdge(8445,8446,.1);u.addEdge(8452,8446,.1);u.setNodeCategory(8432,"emergencyExit");u.setNodeCategory(8436,"emergencyExit");u.setNodeCategory(239,"elevator");u.addEdge(215,237,1);u.addEdge(230,231,1);u.addEdge(232,231,1);u.addEdge(232,233,1);u.addEdge(234,233,1);u.addEdge(234,235,1);u.addEdge(234,236,1);u.addEdge(237,236,1);u.addEdge(238,236,1);u.addEdge(238,239,1);u.addEdge(238,240,1);u.addEdge(241,240,1);u.addEdge(242,240,1);u.addEdge(243,240,1);u.addEdge(243,244,1);u.addEdge(243,245,1);u.addEdge(243,246,1);u.addEdge(247,246,1);u.addEdge(8450,246,.1);u.addEdge(8450,8451,.1);u.addEdge(8452,8451,.1);u.addEdge(8453,8450,.1);u.addEdge(8453,8454,.1);u.addEdge(8455,8454,.1);u.addEdge(8455,8456,.1);u.addEdge(8462,8456,.1);u.setNodeCategory(8452,"emergencyExit");u.setNodeCategory(8456,"emergencyExit");u.setNodeCategory(264,"elevator");u.addEdge(262,230,1);u.addEdge(255,256,1);u.addEdge(257,256,1);u.addEdge(257,258,1);u.addEdge(259,258,1);u.addEdge(259,260,1);u.addEdge(259,261,1);u.addEdge(262,261,1);u.addEdge(263,261,1);u.addEdge(263,264,1);u.addEdge(263,265,1);u.addEdge(266,265,1);u.addEdge(267,265,1);u.addEdge(267,268,1);u.addEdge(267,269,1);u.addEdge(270,269,1);u.addEdge(271,269,1);u.addEdge(272,269,1);u.addEdge(272,273,1);u.addEdge(272,274,1);u.addEdge(275,274,1);u.addEdge(274,8467,.1);u.addEdge(8460,8467,.1);u.addEdge(8460,8461,.1);u.addEdge(8462,8461,.1);u.addEdge(8463,8460,.1);u.addEdge(8463,8464,.1);u.addEdge(8465,8464,.1);u.addEdge(8465,8466,.1);u.addEdge(8472,8466,.1);u.setNodeCategory(8462,"emergencyExit");u.setNodeCategory(8466,"emergencyExit");u.setNodeCategory(289,"elevator");u.addEdge(287,255,1);u.addEdge(280,281,1);u.addEdge(282,281,1);u.addEdge(282,283,1);u.addEdge(284,283,1);u.addEdge(284,285,1);u.addEdge(284,286,1);u.addEdge(287,286,1);u.addEdge(288,286,1);u.addEdge(288,289,1);u.addEdge(288,290,1);u.addEdge(290,291,1);u.addEdge(290,292,1);u.addEdge(293,292,1);u.addEdge(294,292,1);u.addEdge(294,295,1);u.addEdge(294,296,1);u.addEdge(294,297,1);u.addEdge(298,297,1);u.addEdge(299,297,1);u.addEdge(299,300,1);u.addEdge(299,8477,.1);u.addEdge(8470,8477,.1);u.addEdge(8470,8471,.1);u.addEdge(8472,8471,.1);u.addEdge(8473,8470,.1);u.addEdge(8473,8474,.1);u.addEdge(8475,8474,.1);u.addEdge(8475,8476,.1);u.addEdge(8482,8476,.1);u.setNodeCategory(8472,"emergencyExit");u.setNodeCategory(8476,"emergencyExit");u.setNodeCategory(314,"elevator");u.addEdge(312,280,1);u.addEdge(306,305,1);u.addEdge(306,307,1);u.addEdge(308,307,1);u.addEdge(308,309,1);u.addEdge(310,309,1);u.addEdge(311,309,1);u.addEdge(311,312,1);u.addEdge(311,313,1);u.addEdge(314,313,1);u.addEdge(315,313,1);u.addEdge(315,316,1);u.addEdge(315,317,1);u.addEdge(318,317,1);u.addEdge(319,317,1);u.addEdge(319,320,1);u.addEdge(319,321,1);u.addEdge(322,321,1);u.addEdge(323,321,1);u.addEdge(323,324,1);u.addEdge(323,325,1);u.addEdge(326,325,1);u.addEdge(327,325,1);u.addEdge(327,328,1);u.addEdge(327,8487,.1);u.addEdge(8480,8487,.1);u.addEdge(8480,8481,.1);u.addEdge(8482,8481,.1);u.addEdge(8483,8480,.1);u.addEdge(8483,8484,.1);u.addEdge(8485,8484,.1);u.addEdge(8485,8486,.1);u.addEdge(8492,8486,.1);u.setNodeCategory(8482,"emergencyExit");u.setNodeCategory(8486,"emergencyExit");u.setNodeCategory(1070,"elevator");u.addEdge(305,1040,1);u.addEdge(1041,1040,1);u.addEdge(1041,1042,1);u.addEdge(1043,1042,1);u.addEdge(1044,1042,1);u.addEdge(1044,1061,1);u.addEdge(1044,1045,1);u.addEdge(1046,1045,1);u.addEdge(1047,1045,1);u.addEdge(1047,1049,1);u.addEdge(1050,1049,1);u.addEdge(1051,1049,1);u.addEdge(1051,1052,1);u.addEdge(1051,1053,1);u.addEdge(1054,1053,1);u.addEdge(1054,1055,1);u.addEdge(1054,1056,1);u.addEdge(1057,1056,1);u.addEdge(1059,1056,1);u.addEdge(1059,1060,1);u.addEdge(1057,8493,.1);u.addEdge(8490,8493,.1);u.addEdge(8490,8491,.1);u.addEdge(8492,8491,.1);u.setNodeCategory(8492,"emergencyExit");u.setNodeCategory(1290,"elevator");u.setNodeCategory(1276,"elevator");u.addEdge(1260,1261,1);u.addEdge(1262,1261,1);u.addEdge(1262,1263,1);u.addEdge(1264,1263,1);u.addEdge(1264,1265,1);u.addEdge(1264,1266,1);u.addEdge(1267,1266,1);u.addEdge(1267,1178,1);u.addEdge(1268,1266,1);u.addEdge(1268,1269,1);u.addEdge(1270,1269,1);u.addEdge(1271,1269,1);u.addEdge(1272,1269,1);u.addEdge(1268,1273,1);u.addEdge(1274,1273,1);u.addEdge(1275,1273,1);u.addEdge(1275,1276,1);u.addEdge(1275,1277,1);u.addEdge(1278,1277,1);u.addEdge(1291,1277,1);u.addEdge(1292,1277,1);u.addEdge(1279,1263,1);u.addEdge(1279,1280,1);u.addEdge(1279,1281,1);u.addEdge(1279,1282,1);u.addEdge(1283,1282,1);u.addEdge(1284,1285,1);u.addEdge(1286,1285,1);u.addEdge(1286,1287,1);u.addEdge(1288,1287,1);u.addEdge(1288,1289,1);u.addEdge(1194,1289,1);u.addEdge(8220,1282,1);u.addEdge(8220,1279,1);u.addEdge(8220,8221,.1);u.addEdge(8222,8221,.1);u.addEdge(8222,8223,.1);u.addEdge(8224,8221,.1);u.addEdge(8224,8225,.1);u.addEdge(8225,8226,.1);u.addEdge(8233,8226,.1);u.addEdge(8216,8223,.1);u.addEdge(8320,8321,.1);u.addEdge(8322,8321,.1);u.addEdge(8322,8323,.1);u.addEdge(8324,8323,.1);u.addEdge(8324,8325,.1);u.addEdge(8333,8325,.1);u.setNodeCategory(8320,"emergencyExit");u.setNodeCategory(8325,"emergencyExit");u.setNodeCategory(8223,"emergencyExit");u.setNodeCategory(8226,"emergencyExit");u.setNodeCategory(1198,"elevator");u.setNodeCategory(1165,"elevator");u.addEdge(1160,1024,1);u.addEdge(1160,1161,1);u.addEdge(1162,1161,1);u.addEdge(1163,1161,1);u.addEdge(1164,1161,1);u.addEdge(1164,1165,1);u.addEdge(1164,1166,1);u.addEdge(1167,1166,1);u.addEdge(1167,1168,1);u.addEdge(1167,1169,1);u.addEdge(1167,1170,1);u.addEdge(1171,1166,1);u.addEdge(1171,1172,1);u.addEdge(1171,1173,1);u.addEdge(1174,1173,1);u.addEdge(1175,1173,1);u.addEdge(1175,1176,1);u.addEdge(1177,1176,1);u.addEdge(1177,1178,1);u.addEdge(1175,1179,1);u.addEdge(1180,1179,1);u.addEdge(1181,1179,1);u.addEdge(1182,1179,1);u.addEdge(1182,1183,1);u.addEdge(1182,1184,1);u.addEdge(1185,1184,1);u.addEdge(1185,1186,1);u.addEdge(1187,1186,1);u.addEdge(1188,1186,1);u.addEdge(1189,1186,1);u.addEdge(1189,1190,1);u.addEdge(1189,1191,1);u.addEdge(1192,1191,1);u.addEdge(1192,1193,1);u.addEdge(1194,1193,1);u.addEdge(1195,1191,1);u.addEdge(1195,1196,1);u.addEdge(1195,1197,1);u.addEdge(1198,1197,1);u.addEdge(1199,1197,1);u.addEdge(1199,1200,1);u.addEdge(1199,1201,1);u.addEdge(1199,1202,1);u.addEdge(1203,1202,1);u.addEdge(1204,1202,1);u.addEdge(1179,8210,1);u.addEdge(1182,8210,1);u.addEdge(8211,8210,.1);u.addEdge(8211,8212,.1);u.addEdge(8213,8212,.1);u.addEdge(8211,8214,.1);u.addEdge(8215,8214,.1);u.addEdge(8215,8216,.1);u.addEdge(8213,8206,.1);u.addEdge(1202,8310,.1);u.addEdge(8311,8310,.1);u.addEdge(8311,8312,.1);u.addEdge(8313,8312,.1);u.addEdge(8311,8314,.1);u.addEdge(8315,8314,.1);u.addEdge(8315,8316,.1);u.addEdge(8320,8316,.1);u.setNodeCategory(8313,"emergencyExit");u.setNodeCategory(8316,"emergencyExit");u.setNodeCategory(8213,"emergencyExit");u.setNodeCategory(8216,"emergencyExit");u.setNodeCategory(1142,"elevator");u.setNodeCategory(1116,"elevator");u.addEdge(1100,1102,1);u.addEdge(1103,1102,1);u.addEdge(1104,1102,1);u.addEdge(1104,1105,1);u.addEdge(1106,1105,1);u.addEdge(1107,1105,1);u.addEdge(1107,1108,1);u.addEdge(1109,1108,1);u.addEdge(1110,1108,1);u.addEdge(1110,1111,1);u.addEdge(1110,1112,1);u.addEdge(1107,1113,1);u.addEdge(1114,1113,1);u.addEdge(1115,1113,1);u.addEdge(1115,1116,1);u.addEdge(1115,1117,1);u.addEdge(1118,1117,1);u.addEdge(1104,1119,1);u.addEdge(1120,1119,1);u.addEdge(1120,1121,1);u.addEdge(1122,1121,1);u.addEdge(1123,1119,1);u.addEdge(1123,1124,1);u.addEdge(1123,1125,1);u.addEdge(1123,1126,1);u.addEdge(1127,1126,1);u.addEdge(1128,1126,1);u.addEdge(1128,1129,1);u.addEdge(1130,1129,1);u.addEdge(1130,1131,1);u.addEdge(1130,1132,1);u.addEdge(1130,1133,1);u.addEdge(1134,1133,1);u.addEdge(1135,1133,1);u.addEdge(1135,1136,1);u.addEdge(1137,1136,1);u.addEdge(1137,1149,1);u.addEdge(1190,1149,1);u.addEdge(1135,1138,1);u.addEdge(1139,1138,1);u.addEdge(1139,1140,1);u.addEdge(1138,1141,1);u.addEdge(1142,1141,1);u.addEdge(1143,1141,1);u.addEdge(1143,1144,1);u.addEdge(1143,1145,1);u.addEdge(1146,1145,1);u.addEdge(1147,1145,1);u.addEdge(1147,1148,1);u.addEdge(1122,1174,1);u.addEdge(8200,1126,1);u.addEdge(8200,1123,1);u.addEdge(8200,8201,.1);u.addEdge(8202,8201,.1);u.addEdge(8202,8203,.1);u.addEdge(8204,8201,.1);u.addEdge(8204,8205,.1);u.addEdge(8206,8205,.1);u.addEdge(1147,8300,.1);u.addEdge(8301,8300,.1);u.addEdge(8301,8302,.1);u.addEdge(8303,8302,.1);u.addEdge(8303,8313,.1);u.setNodeCategory(8303,"emergencyExit");u.setNodeCategory(8203,"emergencyExit");u.setNodeCategory(8206,"emergencyExit");u.setNodeCategory(1370,"elevator");u.setNodeCategory(1346,"elevator");u.addEdge(1330,1331,1);u.addEdge(1332,1331,1);u.addEdge(1332,1333,1);u.addEdge(1334,1333,1);u.addEdge(1334,1335,1);u.addEdge(1334,1336,1);u.addEdge(1337,1336,1);u.addEdge(1338,1336,1);u.addEdge(1338,1339,1);u.addEdge(1340,1339,1);u.addEdge(1341,1339,1);u.addEdge(1341,1339,1);u.addEdge(1338,1343,1);u.addEdge(1344,1343,1);u.addEdge(1343,1345,1);u.addEdge(1346,1345,1);u.addEdge(1347,1345,1);u.addEdge(1347,1348,1);u.addEdge(1347,1349,1);u.addEdge(1347,1350,1);u.addEdge(1333,1351,1);u.addEdge(1352,1351,1);u.addEdge(1353,1351,1);u.addEdge(1354,1351,1);u.addEdge(1354,1355,1);u.addEdge(1356,1354,1);u.addEdge(1356,1357,1);u.addEdge(1358,1357,1);u.addEdge(1358,1359,1);u.addEdge(1358,1360,1);u.addEdge(1358,1361,1);u.addEdge(1362,1361,1);u.addEdge(1363,1361,1);u.addEdge(1363,1364,1);u.addEdge(1365,1364,1);u.addEdge(1365,1366,1);u.addEdge(1363,1367,1);u.addEdge(1368,1367,1);u.addEdge(1369,1367,1);u.addEdge(1369,1370,1);u.addEdge(1369,1371,1);u.addEdge(1372,1371,1);u.addEdge(1373,1371,1);u.addEdge(1374,1371,1);u.addEdge(1374,1375,1);u.addEdge(1374,1376,1);u.addEdge(1337,1260,1);u.addEdge(1362,1284,1);u.addEdge(8230,1354,.1);u.addEdge(8230,1351,.1);u.addEdge(8230,8231,.1);u.addEdge(8232,8231,.1);u.addEdge(8232,8233,.1);u.addEdge(8234,8231,.1);u.addEdge(8234,8235,.1);u.addEdge(8236,8235,.1);u.addEdge(8236,8243,.1);u.addEdge(8330,1374,.1);u.addEdge(8330,8331,.1);u.addEdge(8332,8331,.1);u.addEdge(8332,8333,.1);u.addEdge(8334,8331,.1);u.addEdge(8334,8335,.1);u.addEdge(8336,8335,.1);u.addEdge(8336,8343,.1);u.setNodeCategory(8333,"emergencyExit");u.setNodeCategory(8336,"emergencyExit");u.setNodeCategory(8233,"emergencyExit");u.setNodeCategory(8236,"emergencyExit");u.setNodeCategory(1446,"elevator");u.setNodeCategory(1419,"elevator");u.addEdge(1366,1453,1);u.addEdge(1330,1410,1);u.addEdge(1452,1410,1);u.addEdge(1452,1411,1);u.addEdge(1412,1411,1);u.addEdge(1412,1413,1);u.addEdge(1412,1414,1);u.addEdge(1412,1415,1);u.addEdge(1416,1411,1);u.addEdge(1416,1417,1);u.addEdge(1416,1418,1);u.addEdge(1419,1418,1);u.addEdge(1420,1418,1);u.addEdge(1420,1421,1);u.addEdge(1420,1422,1);u.addEdge(1423,1422,1);u.addEdge(1423,1424,1);u.addEdge(1425,1424,1);u.addEdge(1452,1426,1);u.addEdge(1427,1426,1);u.addEdge(1428,1426,1);u.addEdge(1428,1429,1);u.addEdge(1428,1430,1);u.addEdge(1428,1431,1);u.addEdge(1432,1431,1);u.addEdge(1433,1431,1);u.addEdge(1433,1434,1);u.addEdge(1435,1434,1);u.addEdge(1435,1436,1);u.addEdge(1435,1437,1);u.addEdge(1435,1438,1);u.addEdge(1453,1438,1);u.addEdge(1439,1438,1);u.addEdge(1439,1440,1);u.addEdge(1441,1440,1);u.addEdge(1442,1441,1);u.addEdge(1439,1443,1);u.addEdge(1444,1443,1);u.addEdge(1444,1445,1);u.addEdge(1444,1454,1);u.addEdge(1446,1454,1);u.addEdge(1455,1454,1);u.addEdge(1455,1456,1);u.addEdge(1455,1447,1);u.addEdge(1448,1447,1);u.addEdge(1449,1447,1);u.addEdge(1450,1447,1);u.addEdge(1451,1450,1);u.addEdge(8240,1431,.1);u.addEdge(8240,1428,.1);u.addEdge(8240,8241,.1);u.addEdge(8242,8241,.1);u.addEdge(8242,8243,.1);u.addEdge(8241,8244,.1);u.addEdge(8245,8244,.1);u.addEdge(8245,8246,.1);u.addEdge(8257,8246,.1);u.addEdge(8340,1450,.1);u.addEdge(8340,8341,.1);u.addEdge(8342,8341,.1);u.addEdge(8342,8343,.1);u.addEdge(8344,8341,.1);u.addEdge(8344,8345,.1);u.addEdge(8346,8345,.1);u.addEdge(8346,8353,.1);u.setNodeCategory(8246,"emergencyExit");u.setNodeCategory(8243,"emergencyExit");u.setNodeCategory(1506,"elevator");u.setNodeCategory(1521,"elevator");u.addEdge(1425,1500,1);u.addEdge(1442,1515,1);u.addEdge(1501,1500,1);u.addEdge(1501,1502,1);u.addEdge(1503,1502,1);u.addEdge(1504,1502,1);u.addEdge(1501,1505,1);u.addEdge(1506,1505,1);u.addEdge(1507,1505,1);u.addEdge(1507,1508,1);u.addEdge(1507,1509,1);u.addEdge(1510,1511,1);u.addEdge(1512,1511,1);u.addEdge(1512,1513,1);u.addEdge(1514,1513,1);u.addEdge(1516,1513,1);u.addEdge(1514,1515,1);u.addEdge(1517,1516,1);u.addEdge(1517,1514,1);u.addEdge(1517,1518,1);u.addEdge(1519,1516,1);u.addEdge(1519,1520,1);u.addEdge(1519,1521,1);u.addEdge(1519,1522,1);u.addEdge(1523,1522,1);u.addEdge(1524,1522,1);u.addEdge(1524,1525,1);u.addEdge(8257,8256,.1);u.addEdge(8255,8256,.1);u.addEdge(8255,8254,.1);u.addEdge(8253,8254,.1);u.addEdge(8253,8252,.1);u.addEdge(8251,8252,.1);u.addEdge(8261,8251,.1);u.addEdge(8261,8250,.1);u.addEdge(1503,8260,.1);u.addEdge(8250,8260,.1);u.addEdge(8350,1524,.1);u.addEdge(8350,8351,.1);u.addEdge(8352,8351,.1);u.addEdge(8352,8353,.1);u.addEdge(8354,8351,.1);u.addEdge(8354,8355,.1);u.addEdge(8356,8355,.1);u.addEdge(8356,8363,.1);u.setNodeCategory(8353,"emergencyExit");u.setNodeCategory(8356,"emergencyExit");u.setNodeCategory(8257,"emergencyExit");u.setNodeCategory(1234,"elevator");u.addEdge(1220,1106,1);u.addEdge(1220,1221,1);u.addEdge(1222,1221,1);u.addEdge(1222,1223,1);u.addEdge(1224,1223,1);u.addEdge(1224,1225,1);u.addEdge(1224,1226,1);u.addEdge(1227,1226,1);u.addEdge(1227,1228,1);u.addEdge(1227,1229,1);u.addEdge(1230,1229,1);u.addEdge(1231,1229,1);u.addEdge(1232,1226,1);u.addEdge(1233,1226,1);u.addEdge(1233,1234,1);u.addEdge(1233,1235,1);u.addEdge(1236,1235,1);u.addEdge(1237,1223,1);u.addEdge(1237,1239,1);u.addEdge(1237,1238,1);u.addEdge(1237,1240,1);u.addEdge(1241,1240,1);u.addEdge(1242,1240,1);u.addEdge(1242,1243,1);u.addEdge(854,1225,1);u.addEdge(1237,8e3,1);u.addEdge(1240,8e3,1);u.addEdge(8001,8e3,.1);u.addEdge(8001,8002,.1);u.addEdge(8003,8002,.1);u.addEdge(8001,8004,.1);u.addEdge(8005,8004,.1);u.addEdge(8005,8006,.1);u.addEdge(8203,8006,.1);u.setNodeCategory(8003,"emergencyExit");u.setNodeCategory(8006,"emergencyExit");u.setNodeCategory(1604,"elevator");u.addEdge(1600,1510,1);u.addEdge(1600,1601,1);u.addEdge(1602,1601,1);u.addEdge(1602,1603,1);u.addEdge(1604,1603,1);u.addEdge(8360,1603,.1);u.addEdge(8360,8361,.1);u.addEdge(8362,8361,.1);u.addEdge(8362,8363,.1);u.setNodeCategory(8363,"emergencyExit");u.addEdge(1700,1701,1);u.addEdge(1702,1701,1);u.addEdge(1702,86,1);u.addEdge(1700,1703,1);u.addEdge(1704,1703,1);u.addEdge(1704,3004,1);for(let t=0;t<=99;t++)u.setNodeBuilding(t,"science2ndFloor");for(let t=340;t<=419;t++)u.setNodeBuilding(t,"science1stFloor");for(let t=3e3;t<=3999;t++)u.setNodeBuilding(t,"science1stFloor");for(let t=480;t<=600;t++)u.setNodeBuilding(t,"science3rdFloor");for(let t=610;t<=690;t++)u.setNodeBuilding(t,"science4thFloor");for(let t=700;t<=740;t++)u.setNodeBuilding(t,"main4thFloor");for(let t=750;t<=790;t++)u.setNodeBuilding(t,"main3rdFloor");for(let t=800;t<=880;t++)u.setNodeBuilding(t,"main2ndFloor");for(let t=890;t<=940;t++)u.setNodeBuilding(t,"science5thFloor");for(let t=950;t<=980;t++)u.setNodeBuilding(t,"science6thFloor");for(let t=1e3;t<=1030;t++)u.setNodeBuilding(t,"main5thFloor");for(let t=1080;t<=1090;t++)u.setNodeBuilding(t,"main6thFloor");for(let t=1160;t<=1210;t++)u.setNodeBuilding(t,"CHTMEDS5thFloor");for(let t=1100;t<=1159;t++)u.setNodeBuilding(t,"CHTMEDS4thFloor");for(let t=1260;t<=1320;t++)u.setNodeBuilding(t,"CHTMEDS6thFloor");for(let t=1330;t<=1400;t++)u.setNodeBuilding(t,"CHTMEDS7thFloor");for(let t=1410;t<=1480;t++)u.setNodeBuilding(t,"CHTMEDS8thFloor");u.setNodeBuilding(8360,"CHTM10thFloor");u.setNodeBuilding(8250,"CHTMEDS9thFloor");for(let t=1500;t<=1550;t++)u.setNodeBuilding(t,"CHTMEDS9thFloor");for(let t=1220;t<=1250;t++)u.setNodeBuilding(t,"EDS3rdFloor");for(let t=1600;t<=1650;t++)u.setNodeBuilding(t,"EDS10thFloor");for(let t=420;t<=480;t++)u.setNodeBuilding(t,"scienceGroundFloor");for(let t=126;t<=150;t++)u.setNodeBuilding(t,"BRS1stFloor");for(let t=100;t<=125;t++)u.setNodeBuilding(t,"BRS2ndFloor");for(let t=155;t<=175;t++)u.setNodeBuilding(t,"BRS3rdFloor");for(let t=175;t<=210;t++)u.setNodeBuilding(t,"BRS4thFloor");for(let t=215;t<=229;t++)u.setNodeBuilding(t,"BRS5thFloor");for(let t=230;t<=250;t++)u.setNodeBuilding(t,"BRS6thFloor");for(let t=255;t<=279;t++)u.setNodeBuilding(t,"BRS7thFloor");for(let t=280;t<=300;t++)u.setNodeBuilding(t,"BRS8thFloor");for(let t=305;t<=330;t++)u.setNodeBuilding(t,"BRS9thFloor");for(let t=1040;t<=1060;t++)u.setNodeBuilding(t,"BRS10thFloor");for(let t=1600;t<=1670;t++)u.setNodeBuilding(t,"CHTM10thFloor");for(let t=1700;t<=1710;t++)u.setNodeBuilding(t,"mainGroundFloor");var Ie;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var wg=new Map([[Ie.QR_CODE,"QR_CODE"],[Ie.AZTEC,"AZTEC"],[Ie.CODABAR,"CODABAR"],[Ie.CODE_39,"CODE_39"],[Ie.CODE_93,"CODE_93"],[Ie.CODE_128,"CODE_128"],[Ie.DATA_MATRIX,"DATA_MATRIX"],[Ie.MAXICODE,"MAXICODE"],[Ie.ITF,"ITF"],[Ie.EAN_13,"EAN_13"],[Ie.EAN_8,"EAN_8"],[Ie.PDF_417,"PDF_417"],[Ie.RSS_14,"RSS_14"],[Ie.RSS_EXPANDED,"RSS_EXPANDED"],[Ie.UPC_A,"UPC_A"],[Ie.UPC_E,"UPC_E"],[Ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Cg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Cg||(Cg={}));function by(t){return Object.values(Ie).includes(t)}var Br;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Br||(Br={}));var co=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Br.SCAN_TYPE_CAMERA,Br.SCAN_TYPE_FILE],t}(),Z2=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!wg.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,wg.get(e))},t}(),Sg=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Qh;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Qh||(Qh={}));var Y2=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Qh.UNKWOWN_ERROR}},t}(),X2=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function bo(t){return typeof t>"u"||t===null}function Ny(t,e,n){return t>n?n:t<e?e:t}var qs=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),kt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Ag=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),Q2=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var o=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),m=Object.keys(e),v=0,C=m;v<C.length;v++){var y=C[v];if(c.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},t}(),Kh={exports:{}};(function(t,e){(function(n,o){o(e)})(ks,function(n){function o(T){return T==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,i){T.__proto__=i}||function(T,i){for(var r in i)i.hasOwnProperty(r)&&(T[r]=i[r])};function c(T,i){l(T,i);function r(){this.constructor=T}T.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}function m(T,i){var r=Object.setPrototypeOf;r?r(T,i):T.__proto__=i}function v(T,i){i===void 0&&(i=T.constructor);var r=Error.captureStackTrace;r&&r(T,i)}var C=function(T){c(i,T);function i(r){var a=this.constructor,d=T.call(this,r)||this;return Object.defineProperty(d,"name",{value:a.name,enumerable:!1}),m(d,a.prototype),v(d),d}return i}(Error);class y extends C{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}y.kind="Exception";class N extends y{}N.kind="ArgumentException";class b extends y{}b.kind="IllegalArgumentException";class D{constructor(i){if(this.binarizer=i,i===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,r){return this.binarizer.getBlackRow(i,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,r,a,d){const h=this.binarizer.getLuminanceSource().crop(i,r,a,d);return new D(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class V extends y{static getChecksumInstance(){return new V}}V.kind="ChecksumException";class X{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(i,r,a,d,h){for(;h--;)a[d++]=i[r++]}static currentTimeMillis(){return Date.now()}}class ye extends y{}ye.kind="IndexOutOfBoundsException";class W extends ye{constructor(i=void 0,r=void 0){super(r),this.index=i,this.message=r}}W.kind="ArrayIndexOutOfBoundsException";class F{static fill(i,r){for(let a=0,d=i.length;a<d;a++)i[a]=r}static fillWithin(i,r,a,d){F.rangeCheck(i.length,r,a);for(let h=r;h<a;h++)i[h]=d}static rangeCheck(i,r,a){if(r>a)throw new b("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new W(r);if(a>i)throw new W(a)}static asList(...i){return i}static create(i,r,a){return Array.from({length:i}).map(h=>Array.from({length:r}).fill(a))}static createInt32Array(i,r,a){return Array.from({length:i}).map(h=>Int32Array.from({length:r}).fill(a))}static equals(i,r){if(!i||!r||!i.length||!r.length||i.length!==r.length)return!1;for(let a=0,d=i.length;a<d;a++)if(i[a]!==r[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let r=1;for(const a of i)r=31*r+a;return r}static fillUint8Array(i,r){for(let a=0;a!==i.length;a++)i[a]=r}static copyOf(i,r){return i.slice(0,r)}static copyOfUint8Array(i,r){if(i.length<=r){const a=new Uint8Array(r);return a.set(i),a}return i.slice(0,r)}static copyOfRange(i,r,a){const d=a-r,h=new Int32Array(d);return j.arraycopy(i,r,h,0,d),h}static binarySearch(i,r,a){a===void 0&&(a=F.numberComparator);let d=0,h=i.length-1;for(;d<=h;){const g=h+d>>1,p=a(r,i[g]);if(p>0)d=g+1;else if(p<0)h=g-1;else return g}return-d-1}static numberComparator(i,r){return i-r}}class B{static numberOfTrailingZeros(i){let r;if(i===0)return 32;let a=31;return r=i<<16,r!==0&&(a-=16,i=r),r=i<<8,r!==0&&(a-=8,i=r),r=i<<4,r!==0&&(a-=4,i=r),r=i<<2,r!==0&&(a-=2,i=r),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let r=1;return i>>>16||(r+=16,i<<=16),i>>>24||(r+=8,i<<=8),i>>>28||(r+=4,i<<=4),i>>>30||(r+=2,i<<=2),r-=i>>>31,r}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,r){return Math.trunc(i/r)}static parseInt(i,r=void 0){return parseInt(i,r)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(i,r){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,r==null?this.bits=J.makeArray(i):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const r=J.makeArray(i);j.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const r=this.size;if(i>=r)return r;const a=this.bits;let d=Math.floor(i/32),h=a[d];h&=~((1<<(i&31))-1);const g=a.length;for(;h===0;){if(++d===g)return r;h=a[d]}const p=d*32+B.numberOfTrailingZeros(h);return p>r?r:p}getNextUnset(i){const r=this.size;if(i>=r)return r;const a=this.bits;let d=Math.floor(i/32),h=~a[d];h&=~((1<<(i&31))-1);const g=a.length;for(;h===0;){if(++d===g)return r;h=~a[d]}const p=d*32+B.numberOfTrailingZeros(h);return p>r?r:p}setBulk(i,r){this.bits[Math.floor(i/32)]=r}setRange(i,r){if(r<i||i<0||r>this.size)throw new b;if(r===i)return;r--;const a=Math.floor(i/32),d=Math.floor(r/32),h=this.bits;for(let g=a;g<=d;g++){const p=g>a?0:i&31,x=(2<<(g<d?31:r&31))-(1<<p);h[g]|=x}}clear(){const i=this.bits.length,r=this.bits;for(let a=0;a<i;a++)r[a]=0}isRange(i,r,a){if(r<i||i<0||r>this.size)throw new b;if(r===i)return!0;r--;const d=Math.floor(i/32),h=Math.floor(r/32),g=this.bits;for(let p=d;p<=h;p++){const E=p>d?0:i&31,S=(2<<(p<h?31:r&31))-(1<<E)&4294967295;if((g[p]&S)!==(a?S:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,r){if(r<0||r>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const r=i.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new b("Sizes don't match");const r=this.bits;for(let a=0,d=r.length;a<d;a++)r[a]^=i.bits[a]}toBytes(i,r,a,d){for(let h=0;h<d;h++){let g=0;for(let p=0;p<8;p++)this.get(i)&&(g|=1<<7-p),i++;r[a+h]=g}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,d=this.bits;for(let h=0;h<a;h++){let g=d[h];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,i[r-h]=g}if(this.size!==a*32){const h=a*32-this.size;let g=i[0]>>>h;for(let p=1;p<a;p++){const E=i[p];g|=E<<32-h,i[p-1]=g,g=E>>>h}i[a-1]=g}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof J))return!1;const r=i;return this.size===r.size&&F.equals(this.bits,r.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let i="";for(let r=0,a=this.size;r<a;r++)r&7||(i+=" "),i+=this.get(r)?"X":".";return i}clone(){return new J(this.size,this.bits.slice())}}var Ee;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ee||(Ee={}));var de=Ee;class K extends y{static getFormatInstance(){return new K}}K.kind="FormatException";var ge;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(ge||(ge={}));class ne{constructor(i,r,a,...d){this.valueIdentifier=i,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=d,ne.VALUE_IDENTIFIER_TO_ECI.set(i,this),ne.NAME_TO_ECI.set(a,this);const h=this.values;for(let g=0,p=h.length;g!==p;g++){const E=h[g];ne.VALUES_TO_ECI.set(E,this)}for(const g of d)ne.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new K("incorect value");const r=ne.VALUES_TO_ECI.get(i);if(r===void 0)throw new K("incorect value");return r}static getCharacterSetECIByName(i){const r=ne.NAME_TO_ECI.get(i);if(r===void 0)throw new K("incorect value");return r}equals(i){if(!(i instanceof ne))return!1;const r=i;return this.getName()===r.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(ge.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(ge.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(ge.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(ge.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(ge.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(ge.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(ge.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(ge.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(ge.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(ge.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(ge.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(ge.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(ge.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(ge.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(ge.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(ge.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(ge.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(ge.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(ge.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(ge.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(ge.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(ge.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(ge.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(ge.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(ge.Big5,28,"Big5"),ne.GB18030=new ne(ge.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(ge.EUC_KR,30,"EUC_KR","EUC-KR");class Pe extends y{}Pe.kind="UnsupportedOperationException";class $e{static decode(i,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!$e.isBrowser()&&i==="ISO-8859-1"}static encode(i,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof ne?i:ne.getCharacterSetECIByName(i)}static decodeFallback(i,r){const a=this.encodingCharacterSet(r);if($e.isDecodeFallbackSupported(a)){let d="";for(let h=0,g=i.length;h<g;h++){let p=i[h].toString(16);p.length<2&&(p="0"+p),d+="%"+p}return decodeURIComponent(d)}if(a.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Pe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(ne.UTF8)||i.equals(ne.ISO8859_1)||i.equals(ne.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),d=[];for(let h=0;h<a.length;h++)d.push(a[h].charCodeAt(0));return new Uint8Array(d)}}class Ae{static castAsNonUtf8Char(i,r=null){const a=r?r.getName():this.ISO88591;return $e.decode(new Uint8Array([i]),a)}static guessEncoding(i,r){if(r!=null&&r.get(de.CHARACTER_SET)!==void 0)return r.get(de.CHARACTER_SET).toString();const a=i.length;let d=!0,h=!0,g=!0,p=0,E=0,x=0,S=0,I=0,R=0,P=0,U=0,H=0,G=0,Q=0;const ue=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let he=0;he<a&&(d||h||g);he++){const ae=i[he]&255;g&&(p>0?ae&128?p--:g=!1:ae&128&&(ae&64?(p++,ae&32?(p++,ae&16?(p++,ae&8?g=!1:S++):x++):E++):g=!1)),d&&(ae>127&&ae<160?d=!1:ae>159&&(ae<192||ae===215||ae===247)&&Q++),h&&(I>0?ae<64||ae===127||ae>252?h=!1:I--:ae===128||ae===160||ae>239?h=!1:ae>160&&ae<224?(R++,U=0,P++,P>H&&(H=P)):ae>127?(I++,P=0,U++,U>G&&(G=U)):(P=0,U=0))}return g&&p>0&&(g=!1),h&&I>0&&(h=!1),g&&(ue||E+x+S>0)?Ae.UTF8:h&&(Ae.ASSUME_SHIFT_JIS||H>=3||G>=3)?Ae.SHIFT_JIS:d&&h?H===2&&R===2||Q*10>=a?Ae.SHIFT_JIS:Ae.ISO88591:d?Ae.ISO88591:h?Ae.SHIFT_JIS:g?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(i,...r){let a=-1;function d(g,p,E,x,S,I){if(g==="%%")return"%";if(r[++a]===void 0)return;g=x?parseInt(x.substr(1)):void 0;let R=S?parseInt(S.substr(1)):void 0,P;switch(I){case"s":P=r[a];break;case"c":P=r[a][0];break;case"f":P=parseFloat(r[a]).toFixed(g);break;case"p":P=parseFloat(r[a]).toPrecision(g);break;case"e":P=parseFloat(r[a]).toExponential(g);break;case"x":P=parseInt(r[a]).toString(R||16);break;case"d":P=parseFloat(parseInt(r[a],R||10).toPrecision(g)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(R);let U=parseInt(E),H=E&&E[0]+""=="0"?"0":" ";for(;P.length<U;)P=p!==void 0?P+H:H+P;return P}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,d)}static getBytes(i,r){return $e.encode(i,r)}static getCharCode(i,r=0){return i.charCodeAt(r)}static getCharAt(i){return String.fromCharCode(i)}}Ae.SHIFT_JIS=ne.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=ne.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=ne.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class ot{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,r,a){for(let d=r;r<r+a;d++)this.append(i[d]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,r){this.value=this.value.substr(0,i)+r+this.value.substr(i+1)}substring(i,r){return this.value.substring(i,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,r){this.value=this.value.substr(0,i)+r+this.value.substr(i+r.length)}}class At{constructor(i,r,a,d){if(this.width=i,this.height=r,this.rowSize=a,this.bits=d,r==null&&(r=i),this.height=r,i<1||r<1)throw new b("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const r=i.length,a=i[0].length,d=new At(a,r);for(let h=0;h<r;h++){const g=i[h];for(let p=0;p<a;p++)g[p]&&d.set(p,h)}return d}static parseFromString(i,r,a){if(i===null)throw new b("stringRepresentation cannot be null");const d=new Array(i.length);let h=0,g=0,p=-1,E=0,x=0;for(;x<i.length;)if(i.charAt(x)===`
`||i.charAt(x)==="\r"){if(h>g){if(p===-1)p=h-g;else if(h-g!==p)throw new b("row lengths do not match");g=h,E++}x++}else if(i.substring(x,x+r.length)===r)x+=r.length,d[h]=!0,h++;else if(i.substring(x,x+a.length)===a)x+=a.length,d[h]=!1,h++;else throw new b("illegal character encountered: "+i.substring(x));if(h>g){if(p===-1)p=h-g;else if(h-g!==p)throw new b("row lengths do not match");E++}const S=new At(p,E);for(let I=0;I<h;I++)d[I]&&S.set(Math.floor(I%p),Math.floor(I/p));return S}get(i,r){const a=r*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new b("input matrix dimensions do not match");const r=new J(Math.floor(this.width/32)+1),a=this.rowSize,d=this.bits;for(let h=0,g=this.height;h<g;h++){const p=h*a,E=i.getRow(h,r).getBitArray();for(let x=0;x<a;x++)d[p+x]^=E[x]}}clear(){const i=this.bits,r=i.length;for(let a=0;a<r;a++)i[a]=0}setRegion(i,r,a,d){if(r<0||i<0)throw new b("Left and top must be nonnegative");if(d<1||a<1)throw new b("Height and width must be at least 1");const h=i+a,g=r+d;if(g>this.height||h>this.width)throw new b("The region must fit inside the matrix");const p=this.rowSize,E=this.bits;for(let x=r;x<g;x++){const S=x*p;for(let I=i;I<h;I++)E[S+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(i,r){r==null||r.getSize()<this.width?r=new J(this.width):r.clear();const a=this.rowSize,d=this.bits,h=i*a;for(let g=0;g<a;g++)r.setBulk(g*32,d[h+g]);return r}setRow(i,r){j.arraycopy(r.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),r=this.getHeight();let a=new J(i),d=new J(i);for(let h=0,g=Math.floor((r+1)/2);h<g;h++)a=this.getRow(h,a),d=this.getRow(r-1-h,d),a.reverse(),d.reverse(),this.setRow(h,d),this.setRow(r-1-h,a)}getEnclosingRectangle(){const i=this.width,r=this.height,a=this.rowSize,d=this.bits;let h=i,g=r,p=-1,E=-1;for(let x=0;x<r;x++)for(let S=0;S<a;S++){const I=d[x*a+S];if(I!==0){if(x<g&&(g=x),x>E&&(E=x),S*32<h){let R=0;for(;!(I<<31-R&4294967295);)R++;S*32+R<h&&(h=S*32+R)}if(S*32+31>p){let R=31;for(;!(I>>>R);)R--;S*32+R>p&&(p=S*32+R)}}}return p<h||E<g?null:Int32Array.from([h,g,p-h+1,E-g+1])}getTopLeftOnBit(){const i=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const d=a/i;let h=a%i*32;const g=r[a];let p=0;for(;!(g<<31-p&4294967295);)p++;return h+=p,Int32Array.from([h,d])}getBottomRightOnBit(){const i=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const d=Math.floor(a/i);let h=Math.floor(a%i)*32;const g=r[a];let p=31;for(;!(g>>>p);)p--;return h+=p,Int32Array.from([h,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof At))return!1;const r=i;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&F.equals(this.bits,r.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+F.hashCode(this.bits),i}toString(i="X ",r="  ",a=`
`){return this.buildToString(i,r,a)}buildToString(i,r,a){let d=new ot;for(let h=0,g=this.height;h<g;h++){for(let p=0,E=this.width;p<E;p++)d.append(this.get(p,h)?i:r);d.append(a)}return d.toString()}clone(){return new At(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends y{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class ct extends X{constructor(i){super(i),this.luminances=ct.EMPTY,this.buckets=new Int32Array(ct.LUMINANCE_BUCKETS)}getBlackRow(i,r){const a=this.getLuminanceSource(),d=a.getWidth();r==null||r.getSize()<d?r=new J(d):r.clear(),this.initArrays(d);const h=a.getRow(i,this.luminances),g=this.buckets;for(let E=0;E<d;E++)g[(h[E]&255)>>ct.LUMINANCE_SHIFT]++;const p=ct.estimateBlackPoint(g);if(d<3)for(let E=0;E<d;E++)(h[E]&255)<p&&r.set(E);else{let E=h[0]&255,x=h[1]&255;for(let S=1;S<d-1;S++){const I=h[S+1]&255;(x*4-E-I)/2<p&&r.set(S),E=x,x=I}}return r}getBlackMatrix(){const i=this.getLuminanceSource(),r=i.getWidth(),a=i.getHeight(),d=new At(r,a);this.initArrays(r);const h=this.buckets;for(let E=1;E<5;E++){const x=Math.floor(a*E/5),S=i.getRow(x,this.luminances),I=Math.floor(r*4/5);for(let R=Math.floor(r/5);R<I;R++){const P=S[R]&255;h[P>>ct.LUMINANCE_SHIFT]++}}const g=ct.estimateBlackPoint(h),p=i.getMatrix();for(let E=0;E<a;E++){const x=E*r;for(let S=0;S<r;S++)(p[x+S]&255)<g&&d.set(S,E)}return d}createBinarizer(i){return new ct(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const r=this.buckets;for(let a=0;a<ct.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(i){const r=i.length;let a=0,d=0,h=0;for(let S=0;S<r;S++)i[S]>h&&(d=S,h=i[S]),i[S]>a&&(a=i[S]);let g=0,p=0;for(let S=0;S<r;S++){const I=S-d,R=i[S]*I*I;R>p&&(g=S,p=R)}if(d>g){const S=d;d=g,g=S}if(g-d<=r/16)throw new ee;let E=g-1,x=-1;for(let S=g-1;S>d;S--){const I=S-d,R=I*I*(g-S)*(a-i[S]);R>x&&(E=S,x=R)}return E<<ct.LUMINANCE_SHIFT}}ct.LUMINANCE_BITS=5,ct.LUMINANCE_SHIFT=8-ct.LUMINANCE_BITS,ct.LUMINANCE_BUCKETS=1<<ct.LUMINANCE_BITS,ct.EMPTY=Uint8ClampedArray.from([0]);class ze extends ct{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),r=i.getWidth(),a=i.getHeight();if(r>=ze.MINIMUM_DIMENSION&&a>=ze.MINIMUM_DIMENSION){const d=i.getMatrix();let h=r>>ze.BLOCK_SIZE_POWER;r&ze.BLOCK_SIZE_MASK&&h++;let g=a>>ze.BLOCK_SIZE_POWER;a&ze.BLOCK_SIZE_MASK&&g++;const p=ze.calculateBlackPoints(d,h,g,r,a),E=new At(r,a);ze.calculateThresholdForBlock(d,h,g,r,a,p,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ze(i)}static calculateThresholdForBlock(i,r,a,d,h,g,p){const E=h-ze.BLOCK_SIZE,x=d-ze.BLOCK_SIZE;for(let S=0;S<a;S++){let I=S<<ze.BLOCK_SIZE_POWER;I>E&&(I=E);const R=ze.cap(S,2,a-3);for(let P=0;P<r;P++){let U=P<<ze.BLOCK_SIZE_POWER;U>x&&(U=x);const H=ze.cap(P,2,r-3);let G=0;for(let ue=-2;ue<=2;ue++){const he=g[R+ue];G+=he[H-2]+he[H-1]+he[H]+he[H+1]+he[H+2]}const Q=G/25;ze.thresholdBlock(i,U,I,Q,d,p)}}}static cap(i,r,a){return i<r?r:i>a?a:i}static thresholdBlock(i,r,a,d,h,g){for(let p=0,E=a*h+r;p<ze.BLOCK_SIZE;p++,E+=h)for(let x=0;x<ze.BLOCK_SIZE;x++)(i[E+x]&255)<=d&&g.set(r+x,a+p)}static calculateBlackPoints(i,r,a,d,h){const g=h-ze.BLOCK_SIZE,p=d-ze.BLOCK_SIZE,E=new Array(a);for(let x=0;x<a;x++){E[x]=new Int32Array(r);let S=x<<ze.BLOCK_SIZE_POWER;S>g&&(S=g);for(let I=0;I<r;I++){let R=I<<ze.BLOCK_SIZE_POWER;R>p&&(R=p);let P=0,U=255,H=0;for(let Q=0,ue=S*d+R;Q<ze.BLOCK_SIZE;Q++,ue+=d){for(let he=0;he<ze.BLOCK_SIZE;he++){const ae=i[ue+he]&255;P+=ae,ae<U&&(U=ae),ae>H&&(H=ae)}if(H-U>ze.MIN_DYNAMIC_RANGE)for(Q++,ue+=d;Q<ze.BLOCK_SIZE;Q++,ue+=d)for(let he=0;he<ze.BLOCK_SIZE;he++)P+=i[ue+he]&255}let G=P>>ze.BLOCK_SIZE_POWER*2;if(H-U<=ze.MIN_DYNAMIC_RANGE&&(G=U/2,x>0&&I>0)){const Q=(E[x-1][I]+2*E[x][I-1]+E[x-1][I-1])/4;U<Q&&(G=Q)}E[x][I]=G}}return E}}ze.BLOCK_SIZE_POWER=3,ze.BLOCK_SIZE=1<<ze.BLOCK_SIZE_POWER,ze.BLOCK_SIZE_MASK=ze.BLOCK_SIZE-1,ze.MINIMUM_DIMENSION=ze.BLOCK_SIZE*5,ze.MIN_DYNAMIC_RANGE=24;class te{constructor(i,r){this.width=i,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,r,a,d){throw new Pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Pe("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let r=new ot;for(let a=0;a<this.height;a++){const d=this.getRow(a,i);for(let h=0;h<this.width;h++){const g=d[h]&255;let p;g<64?p="#":g<128?p="+":g<192?p=".":p=" ",r.append(p)}r.append(`
`)}return r.toString()}}class Fe extends te{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,r){const a=this.delegate.getRow(i,r),d=this.getWidth();for(let h=0;h<d;h++)a[h]=255-(a[h]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let d=0;d<r;d++)a[d]=255-(i[d]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,r,a,d){return new Fe(this.delegate.crop(i,r,a,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Fe(this.delegate.rotateCounterClockwise45())}}class ce extends te{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=ce.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const r=i.getContext("2d").getImageData(0,0,i.width,i.height);return ce.toGrayscaleBuffer(r.data,i.width,i.height)}static toGrayscaleBuffer(i,r,a){const d=new Uint8ClampedArray(r*a);for(let h=0,g=0,p=i.length;h<p;h+=4,g++){let E;if(i[h+3]===0)E=255;else{const S=i[h],I=i[h+1],R=i[h+2];E=306*S+601*I+117*R+512>>10}d[g]=E}return d}getRow(i,r){if(i<0||i>=this.getHeight())throw new b("Requested row is outside the image: "+i);const a=this.getWidth(),d=i*a;return r===null?r=this.buffer.slice(d,d+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(d,d+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,r,a,d){return super.crop(i,r,a,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const r=this.getTempCanvasElement(),a=r.getContext("2d"),d=i*ce.DEGREE_TO_RADIANS,h=this.canvas.width,g=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(d))*h+Math.abs(Math.sin(d))*g),E=Math.ceil(Math.abs(Math.sin(d))*h+Math.abs(Math.cos(d))*g);return r.width=p,r.height=E,a.translate(p/2,E/2),a.rotate(d),a.drawImage(this.canvas,h/-2,g/-2),this.buffer=ce.makeBufferFromCanvasImageData(r),this}invert(){return new Fe(this)}}ce.DEGREE_TO_RADIANS=Math.PI/180;class He{constructor(i,r,a){this.deviceId=i,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ue=(globalThis||ks||self||window||void 0)&&(globalThis||ks||self||window||void 0).__awaiter||function(T,i,r,a){function d(h){return h instanceof r?h:new r(function(g){g(h)})}return new(r||(r=Promise))(function(h,g){function p(S){try{x(a.next(S))}catch(I){g(I)}}function E(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?h(S.value):d(S.value).then(p,E)}x((a=a.apply(T,i||[])).next())})};class Pt{constructor(i,r=500,a){this.reader=i,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of i){const d=a.kind==="video"?"videoinput":a.kind;if(d!=="videoinput")continue;const h=a.deviceId||a.id,g=a.label||`Video device ${r.length+1}`,p=a.groupId,E={deviceId:h,label:g,kind:d,groupId:p};r.push(E)}return r})}getVideoInputDevices(){return Ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new He(r.deviceId,r.label))})}findDeviceById(i){return Ue(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,r){return Ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,r)})}decodeOnceFromVideoDevice(i,r){return Ue(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const d={video:a};return yield this.decodeOnceFromConstraints(d,r)})}decodeOnceFromConstraints(i,r){return Ue(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(i,r){return Ue(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,r,a){return Ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,r,a)})}decodeFromVideoDevice(i,r,a){return Ue(this,void 0,void 0,function*(){let d;i?d={deviceId:{exact:i}}:d={facingMode:"environment"};const h={video:d};return yield this.decodeFromConstraints(h,r,a)})}decodeFromConstraints(i,r,a){return Ue(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(d,r,a)})}decodeFromStream(i,r,a){return Ue(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(i,r);return yield this.decodeContinuously(d,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,r){return Ue(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((r,a)=>this.playVideoOnLoad(i,()=>r()))}playVideoOnLoad(i,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",r),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,r){const a=document.getElementById(i);if(!a)throw new N(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new N(`element with id '${i}' must be an ${r} element`);return a}decodeFromImage(i,r){if(!i&&!r)throw new N("either imageElement with a src set or an url must be provided");return r&&!i?this.decodeFromImageUrl(r):this.decodeFromImageElement(i)}decodeFromVideo(i,r){if(!i&&!r)throw new N("Either an element with a src set or an URL must be provided");return r&&!i?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,r,a){if(i===void 0&&r===void 0)throw new N("Either an element with a src set or an URL must be provided");return r&&!i?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new N("An image element must be provided.");this.reset();const r=this.prepareImageElement(i);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(i){const r=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(i,r){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(i){if(!i)throw new N("A video element must be provided.");this.reset();const r=this.prepareVideoElement(i);return this.videoElement=r,r}decodeFromImageUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=i,a}decodeFromVideoUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=i,a}decodeFromVideoUrlContinuously(i,r){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(a,r);return a.src=i,d}_decodeOnLoadImage(i){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(r,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,r){return Ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,r)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let r;return typeof i>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof i=="string"&&(r=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(r=i),r}prepareVideoElement(i){let r;return!i&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof i=="string"&&(r=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(r=i),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(i,r=!0,a=!0){this._stopAsyncDecode=!1;const d=(h,g)=>{if(this._stopAsyncDecode){g(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(i);h(p)}catch(p){const E=r&&p instanceof ee,S=(p instanceof V||p instanceof K)&&a;if(E||S)return setTimeout(d,this._timeBetweenDecodingAttempts,h,g);g(p)}};return new Promise((h,g)=>d(h,g))}decodeContinuously(i,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(i);r(d,null),setTimeout(a,this.timeBetweenScansMillis)}catch(d){r(null,d);const h=d instanceof V||d instanceof K,g=d instanceof ee;(h||g)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const r=this.createBinaryBitmap(i);return this.decodeBitmap(r)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,r,a){r||(r={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(i,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const r=this.getCaptureCanvas(i),a=new ce(r),d=new ze(a);return new D(d)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const r=this.createCaptureCanvas(i);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,d;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,d=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,d=i.naturalHeight||i.height)),r.style.width=a+"px",r.style.height=d+"px",r.width=a,r.height=d,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,r){try{i.srcObject=r}catch{i.src=URL.createObjectURL(r)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Ze{constructor(i,r,a=r==null?0:8*r.length,d,h,g=j.currentTimeMillis()){this.text=i,this.rawBytes=r,this.numBits=a,this.resultPoints=d,this.format=h,this.timestamp=g,this.text=i,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=d,this.format=h,this.resultMetadata=null,g==null?this.timestamp=j.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,r)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const r=this.resultPoints;if(r===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(r.length+i.length);j.arraycopy(r,0,a,0,r.length),j.arraycopy(i,0,a,r.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ut;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ut||(ut={}));var ie=ut,ln;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ln||(ln={}));var tt=ln;class rt{constructor(i,r,a,d,h=-1,g=-1){this.rawBytes=i,this.text=r,this.byteSegments=a,this.ecLevel=d,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=g,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class eo{exp(i){return this.expTable[i]}log(i){if(i===0)throw new b;return this.logTable[i]}static addOrSubtract(i,r){return i^r}}class nt{constructor(i,r){if(r.length===0)throw new b;this.field=i;const a=r.length;if(a>1&&r[0]===0){let d=1;for(;d<a&&r[d]===0;)d++;d===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-d),j.arraycopy(r,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(i===1){a=0;for(let g=0,p=r.length;g!==p;g++){const E=r[g];a=eo.addOrSubtract(a,E)}return a}a=r[0];const d=r.length,h=this.field;for(let g=1;g<d;g++)a=eo.addOrSubtract(h.multiply(i,a),r[g]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let r=this.coefficients,a=i.coefficients;if(r.length>a.length){const g=r;r=a,a=g}let d=new Int32Array(a.length);const h=a.length-r.length;j.arraycopy(a,0,d,0,h);for(let g=h;g<a.length;g++)d[g]=eo.addOrSubtract(r[g-h],a[g]);return new nt(this.field,d)}multiply(i){if(!this.field.equals(i.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,d=i.coefficients,h=d.length,g=new Int32Array(a+h-1),p=this.field;for(let E=0;E<a;E++){const x=r[E];for(let S=0;S<h;S++)g[E+S]=eo.addOrSubtract(g[E+S],p.multiply(x,d[S]))}return new nt(p,g)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const r=this.coefficients.length,a=this.field,d=new Int32Array(r),h=this.coefficients;for(let g=0;g<r;g++)d[g]=a.multiply(h[g],i);return new nt(a,d)}multiplyByMonomial(i,r){if(i<0)throw new b;if(r===0)return this.field.getZero();const a=this.coefficients,d=a.length,h=new Int32Array(d+i),g=this.field;for(let p=0;p<d;p++)h[p]=g.multiply(a[p],r);return new nt(g,h)}divide(i){if(!this.field.equals(i.field))throw new b("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new b("Divide by 0");const r=this.field;let a=r.getZero(),d=this;const h=i.getCoefficient(i.getDegree()),g=r.inverse(h);for(;d.getDegree()>=i.getDegree()&&!d.isZero();){const p=d.getDegree()-i.getDegree(),E=r.multiply(d.getCoefficient(d.getDegree()),g),x=i.multiplyByMonomial(p,E),S=r.buildMonomial(p,E);a=a.addOrSubtract(S),d=d.addOrSubtract(x)}return[a,d]}toString(){let i="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),r===0||a!==1){const d=this.field.log(a);d===0?i+="1":d===1?i+="a":(i+="a^",i+=d)}r!==0&&(r===1?i+="x":(i+="x^",i+=r))}}return i}}class Ai extends y{}Ai.kind="ArithmeticException";class gt extends eo{constructor(i,r,a){super(),this.primitive=i,this.size=r,this.generatorBase=a;const d=new Int32Array(r);let h=1;for(let p=0;p<r;p++)d[p]=h,h*=2,h>=r&&(h^=i,h&=r-1);this.expTable=d;const g=new Int32Array(r);for(let p=0;p<r-1;p++)g[d[p]]=p;this.logTable=g,this.zero=new nt(this,Int32Array.from([0])),this.one=new nt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,r){if(i<0)throw new b;if(r===0)return this.zero;const a=new Int32Array(i+1);return a[0]=r,new nt(this,a)}inverse(i){if(i===0)throw new Ai;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,r){return i===0||r===0?0:this.expTable[(this.logTable[i]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class fi extends y{}fi.kind="ReedSolomonException";class ii extends y{}ii.kind="IllegalStateException";class yo{constructor(i){this.field=i}decode(i,r){const a=this.field,d=new nt(a,i),h=new Int32Array(r);let g=!0;for(let P=0;P<r;P++){const U=d.evaluateAt(a.exp(P+a.getGeneratorBase()));h[h.length-1-P]=U,U!==0&&(g=!1)}if(g)return;const p=new nt(a,h),E=this.runEuclideanAlgorithm(a.buildMonomial(r,1),p,r),x=E[0],S=E[1],I=this.findErrorLocations(x),R=this.findErrorMagnitudes(S,I);for(let P=0;P<I.length;P++){const U=i.length-1-a.log(I[P]);if(U<0)throw new fi("Bad error location");i[U]=gt.addOrSubtract(i[U],R[P])}}runEuclideanAlgorithm(i,r,a){if(i.getDegree()<r.getDegree()){const P=i;i=r,r=P}const d=this.field;let h=i,g=r,p=d.getZero(),E=d.getOne();for(;g.getDegree()>=(a/2|0);){let P=h,U=p;if(h=g,p=E,h.isZero())throw new fi("r_{i-1} was zero");g=P;let H=d.getZero();const G=h.getCoefficient(h.getDegree()),Q=d.inverse(G);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){const ue=g.getDegree()-h.getDegree(),he=d.multiply(g.getCoefficient(g.getDegree()),Q);H=H.addOrSubtract(d.buildMonomial(ue,he)),g=g.addOrSubtract(h.multiplyByMonomial(ue,he))}if(E=H.multiply(p).addOrSubtract(U),g.getDegree()>=h.getDegree())throw new ii("Division algorithm failed to reduce polynomial?")}const x=E.getCoefficient(0);if(x===0)throw new fi("sigmaTilde(0) was zero");const S=d.inverse(x),I=E.multiplyScalar(S),R=g.multiplyScalar(S);return[I,R]}findErrorLocations(i){const r=i.getDegree();if(r===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(r);let d=0;const h=this.field;for(let g=1;g<h.getSize()&&d<r;g++)i.evaluateAt(g)===0&&(a[d]=h.inverse(g),d++);if(d!==r)throw new fi("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,r){const a=r.length,d=new Int32Array(a),h=this.field;for(let g=0;g<a;g++){const p=h.inverse(r[g]);let E=1;for(let x=0;x<a;x++)if(g!==x){const S=h.multiply(r[x],p),I=S&1?S&-2:S|1;E=h.multiply(E,I)}d[g]=h.multiply(i.evaluateAt(p),h.inverse(E)),h.getGeneratorBase()!==0&&(d[g]=h.multiply(d[g],p))}return d}}var dn;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(dn||(dn={}));class Tt{decode(i){this.ddata=i;let r=i.getBits(),a=this.extractBits(r),d=this.correctBits(a),h=Tt.convertBoolArrayToByteArray(d),g=Tt.getEncodedData(d),p=new rt(h,g,null,null);return p.setNumBits(d.length),p}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let r=i.length,a=dn.UPPER,d=dn.UPPER,h="",g=0;for(;g<r;)if(d===dn.BINARY){if(r-g<5)break;let p=Tt.readCode(i,g,5);if(g+=5,p===0){if(r-g<11)break;p=Tt.readCode(i,g,11)+31,g+=11}for(let E=0;E<p;E++){if(r-g<8){g=r;break}const x=Tt.readCode(i,g,8);h+=Ae.castAsNonUtf8Char(x),g+=8}d=a}else{let p=d===dn.DIGIT?4:5;if(r-g<p)break;let E=Tt.readCode(i,g,p);g+=p;let x=Tt.getCharacter(d,E);x.startsWith("CTRL_")?(a=d,d=Tt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(a=d)):(h+=x,d=a)}return h}static getTable(i){switch(i){case"L":return dn.LOWER;case"P":return dn.PUNCT;case"M":return dn.MIXED;case"D":return dn.DIGIT;case"B":return dn.BINARY;case"U":default:return dn.UPPER}}static getCharacter(i,r){switch(i){case dn.UPPER:return Tt.UPPER_TABLE[r];case dn.LOWER:return Tt.LOWER_TABLE[r];case dn.MIXED:return Tt.MIXED_TABLE[r];case dn.PUNCT:return Tt.PUNCT_TABLE[r];case dn.DIGIT:return Tt.DIGIT_TABLE[r];default:throw new ii("Bad table")}}correctBits(i){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=gt.AZTEC_DATA_10):(a=12,r=gt.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),h=i.length/a;if(h<d)throw new K;let g=i.length%a,p=new Int32Array(h);for(let R=0;R<h;R++,g+=a)p[R]=Tt.readCode(i,g,a);try{new yo(r).decode(p,h-d)}catch(R){throw new K(R)}let E=(1<<a)-1,x=0;for(let R=0;R<d;R++){let P=p[R];if(P===0||P===E)throw new K;(P===1||P===E-1)&&x++}let S=new Array(d*a-x),I=0;for(let R=0;R<d;R++){let P=p[R];if(P===1||P===E-1)S.fill(P>1,I,I+a-1),I+=a-1;else for(let U=a-1;U>=0;--U)S[I++]=(P&1<<U)!==0}return S}extractBits(i){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),d=(r?11:14)+a*4,h=new Int32Array(d),g=new Array(this.totalBitsInLayer(a,r));if(r)for(let p=0;p<h.length;p++)h[p]=p;else{let p=d+1+2*B.truncDivision(B.truncDivision(d,2)-1,15),E=d/2,x=B.truncDivision(p,2);for(let S=0;S<E;S++){let I=S+B.truncDivision(S,15);h[E-S-1]=x-I-1,h[E+S]=x+I+1}}for(let p=0,E=0;p<a;p++){let x=(a-p)*4+(r?9:12),S=p*2,I=d-1-S;for(let R=0;R<x;R++){let P=R*2;for(let U=0;U<2;U++)g[E+P+U]=i.get(h[S+U],h[S+R]),g[E+2*x+P+U]=i.get(h[S+R],h[I-U]),g[E+4*x+P+U]=i.get(h[I-U],h[I-R]),g[E+6*x+P+U]=i.get(h[I-R],h[S+U])}E+=x*8}return g}static readCode(i,r,a){let d=0;for(let h=r;h<r+a;h++)d<<=1,i[h]&&(d|=1);return d}static readByte(i,r){let a=i.length-r;return a>=8?Tt.readCode(i,r,8):Tt.readCode(i,r,a)<<8-a}static convertBoolArrayToByteArray(i){let r=new Uint8Array((i.length+7)/8);for(let a=0;a<r.length;a++)r[a]=Tt.readByte(i,8*a);return r}totalBitsInLayer(i,r){return((r?88:112)+16*i)*i}}Tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,r,a,d){const h=i-a,g=r-d;return Math.sqrt(h*h+g*g)}static sum(i){let r=0;for(let a=0,d=i.length;a!==d;a++){const h=i[a];r+=h}return r}}class Lo{static floatToIntBits(i){return i}}Lo.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Te{constructor(i,r){this.x=i,this.y=r}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Te){const r=i;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Lo.floatToIntBits(this.x)+Lo.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const r=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),d=this.distance(i[0],i[2]);let h,g,p;if(a>=r&&a>=d?(g=i[0],h=i[1],p=i[2]):d>=a&&d>=r?(g=i[1],h=i[0],p=i[2]):(g=i[2],h=i[0],p=i[1]),this.crossProductZ(h,g,p)<0){const E=h;h=p,p=E}i[0]=h,i[1]=g,i[2]=p}static distance(i,r){return st.distance(i.x,i.y,r.x,r.y)}static crossProductZ(i,r,a){const d=r.x,h=r.y;return(a.x-d)*(i.y-h)-(a.y-h)*(i.x-d)}}class Do{constructor(i,r){this.bits=i,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Vr extends Do{constructor(i,r,a,d,h){super(i,r),this.compact=a,this.nbDatablocks=d,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ti{constructor(i,r,a,d){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),r==null&&(r=Ti.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),d==null&&(d=i.getHeight()/2|0);const h=r/2|0;if(this.leftInit=a-h,this.rightInit=a+h,this.upInit=d-h,this.downInit=d+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let i=this.leftInit,r=this.rightInit,a=this.upInit,d=this.downInit,h=!1,g=!0,p=!1,E=!1,x=!1,S=!1,I=!1;const R=this.width,P=this.height;for(;g;){g=!1;let U=!0;for(;(U||!E)&&r<R;)U=this.containsBlackPoint(a,d,r,!1),U?(r++,g=!0,E=!0):E||r++;if(r>=R){h=!0;break}let H=!0;for(;(H||!x)&&d<P;)H=this.containsBlackPoint(i,r,d,!0),H?(d++,g=!0,x=!0):x||d++;if(d>=P){h=!0;break}let G=!0;for(;(G||!S)&&i>=0;)G=this.containsBlackPoint(a,d,i,!1),G?(i--,g=!0,S=!0):S||i--;if(i<0){h=!0;break}let Q=!0;for(;(Q||!I)&&a>=0;)Q=this.containsBlackPoint(i,r,a,!0),Q?(a--,g=!0,I=!0):I||a--;if(a<0){h=!0;break}g&&(p=!0)}if(!h&&p){const U=r-i;let H=null;for(let he=1;H===null&&he<U;he++)H=this.getBlackPointOnSegment(i,d-he,i+he,d);if(H==null)throw new ee;let G=null;for(let he=1;G===null&&he<U;he++)G=this.getBlackPointOnSegment(i,a+he,i+he,a);if(G==null)throw new ee;let Q=null;for(let he=1;Q===null&&he<U;he++)Q=this.getBlackPointOnSegment(r,a+he,r-he,a);if(Q==null)throw new ee;let ue=null;for(let he=1;ue===null&&he<U;he++)ue=this.getBlackPointOnSegment(r,d-he,r-he,d);if(ue==null)throw new ee;return this.centerEdges(ue,H,Q,G)}else throw new ee}getBlackPointOnSegment(i,r,a,d){const h=st.round(st.distance(i,r,a,d)),g=(a-i)/h,p=(d-r)/h,E=this.image;for(let x=0;x<h;x++){const S=st.round(i+x*g),I=st.round(r+x*p);if(E.get(S,I))return new Te(S,I)}return null}centerEdges(i,r,a,d){const h=i.getX(),g=i.getY(),p=r.getX(),E=r.getY(),x=a.getX(),S=a.getY(),I=d.getX(),R=d.getY(),P=Ti.CORR;return h<this.width/2?[new Te(I-P,R+P),new Te(p+P,E+P),new Te(x-P,S-P),new Te(h+P,g-P)]:[new Te(I+P,R+P),new Te(p+P,E-P),new Te(x-P,S+P),new Te(h-P,g-P)]}containsBlackPoint(i,r,a,d){const h=this.image;if(d){for(let g=i;g<=r;g++)if(h.get(g,a))return!0}else for(let g=i;g<=r;g++)if(h.get(a,g))return!0;return!1}}Ti.INIT_SIZE=10,Ti.CORR=1;class or{static checkAndNudgePoints(i,r){const a=i.getWidth(),d=i.getHeight();let h=!0;for(let g=0;g<r.length&&h;g+=2){const p=Math.floor(r[g]),E=Math.floor(r[g+1]);if(p<-1||p>a||E<-1||E>d)throw new ee;h=!1,p===-1?(r[g]=0,h=!0):p===a&&(r[g]=a-1,h=!0),E===-1?(r[g+1]=0,h=!0):E===d&&(r[g+1]=d-1,h=!0)}h=!0;for(let g=r.length-2;g>=0&&h;g-=2){const p=Math.floor(r[g]),E=Math.floor(r[g+1]);if(p<-1||p>a||E<-1||E>d)throw new ee;h=!1,p===-1?(r[g]=0,h=!0):p===a&&(r[g]=a-1,h=!0),E===-1?(r[g+1]=0,h=!0):E===d&&(r[g+1]=d-1,h=!0)}}}class Hn{constructor(i,r,a,d,h,g,p,E,x){this.a11=i,this.a21=r,this.a31=a,this.a12=d,this.a22=h,this.a32=g,this.a13=p,this.a23=E,this.a33=x}static quadrilateralToQuadrilateral(i,r,a,d,h,g,p,E,x,S,I,R,P,U,H,G){const Q=Hn.quadrilateralToSquare(i,r,a,d,h,g,p,E);return Hn.squareToQuadrilateral(x,S,I,R,P,U,H,G).times(Q)}transformPoints(i){const r=i.length,a=this.a11,d=this.a12,h=this.a13,g=this.a21,p=this.a22,E=this.a23,x=this.a31,S=this.a32,I=this.a33;for(let R=0;R<r;R+=2){const P=i[R],U=i[R+1],H=h*P+E*U+I;i[R]=(a*P+g*U+x)/H,i[R+1]=(d*P+p*U+S)/H}}transformPointsWithValues(i,r){const a=this.a11,d=this.a12,h=this.a13,g=this.a21,p=this.a22,E=this.a23,x=this.a31,S=this.a32,I=this.a33,R=i.length;for(let P=0;P<R;P++){const U=i[P],H=r[P],G=h*U+E*H+I;i[P]=(a*U+g*H+x)/G,r[P]=(d*U+p*H+S)/G}}static squareToQuadrilateral(i,r,a,d,h,g,p,E){const x=i-a+h-p,S=r-d+g-E;if(x===0&&S===0)return new Hn(a-i,h-a,i,d-r,g-d,r,0,0,1);{const I=a-h,R=p-h,P=d-g,U=E-g,H=I*U-R*P,G=(x*U-R*S)/H,Q=(I*S-x*P)/H;return new Hn(a-i+G*a,p-i+Q*p,i,d-r+G*d,E-r+Q*E,r,G,Q,1)}}static quadrilateralToSquare(i,r,a,d,h,g,p,E){return Hn.squareToQuadrilateral(i,r,a,d,h,g,p,E).buildAdjoint()}buildAdjoint(){return new Hn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Hn(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class jr extends or{sampleGrid(i,r,a,d,h,g,p,E,x,S,I,R,P,U,H,G,Q,ue,he){const ae=Hn.quadrilateralToQuadrilateral(d,h,g,p,E,x,S,I,R,P,U,H,G,Q,ue,he);return this.sampleGridWithTransform(i,r,a,ae)}sampleGridWithTransform(i,r,a,d){if(r<=0||a<=0)throw new ee;const h=new At(r,a),g=new Float32Array(2*r);for(let p=0;p<a;p++){const E=g.length,x=p+.5;for(let S=0;S<E;S+=2)g[S]=S/2+.5,g[S+1]=x;d.transformPoints(g),or.checkAndNudgePoints(i,g);try{for(let S=0;S<E;S+=2)i.get(Math.floor(g[S]),Math.floor(g[S+1]))&&h.set(S/2,p)}catch{throw new ee}}return h}}class Ii{static setGridSampler(i){Ii.gridSampler=i}static getInstance(){return Ii.gridSampler}}Ii.gridSampler=new jr;class Cn{constructor(i,r){this.x=i,this.y=r}toResultPoint(){return new Te(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Gr{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(i){let g=a[0];a[0]=a[2],a[2]=g}this.extractParameters(a);let d=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),h=this.getMatrixCornerPoints(a);return new Vr(d,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ee;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],r),this.sampleLine(i[1],i[2],r),this.sampleLine(i[2],i[3],r),this.sampleLine(i[3],i[0],r)]);this.shift=this.getRotation(a,r);let d=0;for(let g=0;g<4;g++){let p=a[(this.shift+g)%4];this.compact?(d<<=7,d+=p>>1&127):(d<<=10,d+=(p>>2&992)+(p>>1&31))}let h=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,r){let a=0;i.forEach((d,h,g)=>{let p=(d>>r-2<<1)+(d&1);a=(a<<3)+p}),a=((a&1)<<11)+(a>>1);for(let d=0;d<4;d++)if(B.bitCount(a^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new ee}getCorrectedParameterData(i,r){let a,d;r?(a=7,d=2):(a=10,d=4);let h=a-d,g=new Int32Array(a);for(let E=a-1;E>=0;--E)g[E]=i&15,i>>=4;try{new yo(gt.AZTEC_PARAM).decode(g,h)}catch{throw new ee}let p=0;for(let E=0;E<d;E++)p=(p<<4)+g[E];return p}getBullsEyeCorners(i){let r=i,a=i,d=i,h=i,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(r,g,1,-1),R=this.getFirstDifferent(a,g,1,1),P=this.getFirstDifferent(d,g,-1,1),U=this.getFirstDifferent(h,g,-1,-1);if(this.nbCenterLayers>2){let H=this.distancePoint(U,I)*this.nbCenterLayers/(this.distancePoint(h,r)*(this.nbCenterLayers+2));if(H<.75||H>1.25||!this.isWhiteOrBlackRectangle(I,R,P,U))break}r=I,a=R,d=P,h=U,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let p=new Te(r.getX()+.5,r.getY()-.5),E=new Te(a.getX()+.5,a.getY()+.5),x=new Te(d.getX()-.5,d.getY()+.5),S=new Te(h.getX()-.5,h.getY()-.5);return this.expandSquare([p,E,x,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,r,a,d;try{let p=new Ti(this.image).detect();i=p[0],r=p[1],a=p[2],d=p[3]}catch{let E=this.image.getWidth()/2,x=this.image.getHeight()/2;i=this.getFirstDifferent(new Cn(E+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Cn(E+7,x+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Cn(E-7,x+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Cn(E-7,x-7),!1,-1,-1).toResultPoint()}let h=st.round((i.getX()+d.getX()+r.getX()+a.getX())/4),g=st.round((i.getY()+d.getY()+r.getY()+a.getY())/4);try{let p=new Ti(this.image,15,h,g).detect();i=p[0],r=p[1],a=p[2],d=p[3]}catch{i=this.getFirstDifferent(new Cn(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Cn(h+7,g+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Cn(h-7,g+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Cn(h-7,g-7),!1,-1,-1).toResultPoint()}return h=st.round((i.getX()+d.getX()+r.getX()+a.getX())/4),g=st.round((i.getY()+d.getY()+r.getY()+a.getY())/4),new Cn(h,g)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,r,a,d,h){let g=Ii.getInstance(),p=this.getDimension(),E=p/2-this.nbCenterLayers,x=p/2+this.nbCenterLayers;return g.sampleGrid(i,p,p,E,E,x,E,x,x,E,x,r.getX(),r.getY(),a.getX(),a.getY(),d.getX(),d.getY(),h.getX(),h.getY())}sampleLine(i,r,a){let d=0,h=this.distanceResultPoint(i,r),g=h/a,p=i.getX(),E=i.getY(),x=g*(r.getX()-i.getX())/h,S=g*(r.getY()-i.getY())/h;for(let I=0;I<a;I++)this.image.get(st.round(p+I*x),st.round(E+I*S))&&(d|=1<<a-I-1);return d}isWhiteOrBlackRectangle(i,r,a,d){let h=3;i=new Cn(i.getX()-h,i.getY()+h),r=new Cn(r.getX()-h,r.getY()-h),a=new Cn(a.getX()+h,a.getY()-h),d=new Cn(d.getX()+h,d.getY()+h);let g=this.getColor(d,i);if(g===0)return!1;let p=this.getColor(i,r);return p!==g||(p=this.getColor(r,a),p!==g)?!1:(p=this.getColor(a,d),p===g)}getColor(i,r){let a=this.distancePoint(i,r),d=(r.getX()-i.getX())/a,h=(r.getY()-i.getY())/a,g=0,p=i.getX(),E=i.getY(),x=this.image.get(i.getX(),i.getY()),S=Math.ceil(a);for(let R=0;R<S;R++)p+=d,E+=h,this.image.get(st.round(p),st.round(E))!==x&&g++;let I=g/a;return I>.1&&I<.9?0:I<=.1===x?1:-1}getFirstDifferent(i,r,a,d){let h=i.getX()+a,g=i.getY()+d;for(;this.isValid(h,g)&&this.image.get(h,g)===r;)h+=a,g+=d;for(h-=a,g-=d;this.isValid(h,g)&&this.image.get(h,g)===r;)h+=a;for(h-=a;this.isValid(h,g)&&this.image.get(h,g)===r;)g+=d;return g-=d,new Cn(h,g)}expandSquare(i,r,a){let d=a/(2*r),h=i[0].getX()-i[2].getX(),g=i[0].getY()-i[2].getY(),p=(i[0].getX()+i[2].getX())/2,E=(i[0].getY()+i[2].getY())/2,x=new Te(p+d*h,E+d*g),S=new Te(p-d*h,E-d*g);h=i[1].getX()-i[3].getX(),g=i[1].getY()-i[3].getY(),p=(i[1].getX()+i[3].getX())/2,E=(i[1].getY()+i[3].getY())/2;let I=new Te(p+d*h,E+d*g),R=new Te(p-d*h,E-d*g);return[x,I,S,R]}isValid(i,r){return i>=0&&i<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(i){let r=st.round(i.getX()),a=st.round(i.getY());return this.isValid(r,a)}distancePoint(i,r){return st.distance(i.getX(),i.getY(),r.getX(),r.getY())}distanceResultPoint(i,r){return st.distance(i.getX(),i.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Oo{decode(i,r=null){let a=null,d=new Gr(i.getBlackMatrix()),h=null,g=null;try{let S=d.detectMirror(!1);h=S.getPoints(),this.reportFoundResultPoints(r,h),g=new Tt().decode(S)}catch(S){a=S}if(g==null)try{let S=d.detectMirror(!0);h=S.getPoints(),this.reportFoundResultPoints(r,h),g=new Tt().decode(S)}catch(S){throw a??S}let p=new Ze(g.getText(),g.getRawBytes(),g.getNumBits(),h,ie.AZTEC,j.currentTimeMillis()),E=g.getByteSegments();E!=null&&p.putMetadata(tt.BYTE_SEGMENTS,E);let x=g.getECLevel();return x!=null&&p.putMetadata(tt.ERROR_CORRECTION_LEVEL,x),p}reportFoundResultPoints(i,r){if(i!=null){let a=i.get(de.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((d,h,g)=>{a.foundPossibleResultPoint(d)})}}reset(){}}class ba extends Pt{constructor(i=500){super(new Oo,i)}}class Be{decode(i,r){try{return this.doDecode(i,r)}catch{if(r&&r.get(de.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),g=this.doDecode(h,r),p=g.getResultMetadata();let E=270;p!==null&&p.get(tt.ORIENTATION)===!0&&(E=E+p.get(tt.ORIENTATION)%360),g.putMetadata(tt.ORIENTATION,E);const x=g.getResultPoints();if(x!==null){const S=h.getHeight();for(let I=0;I<x.length;I++)x[I]=new Te(S-x[I].getY()-1,x[I].getX())}return g}else throw new ee}}reset(){}doDecode(i,r){const a=i.getWidth(),d=i.getHeight();let h=new J(a);const g=r&&r.get(de.TRY_HARDER)===!0,p=Math.max(1,d>>(g?8:5));let E;g?E=d:E=15;const x=Math.trunc(d/2);for(let S=0;S<E;S++){const I=Math.trunc((S+1)/2),R=(S&1)===0,P=x+p*(R?I:-I);if(P<0||P>=d)break;try{h=i.getBlackRow(P,h)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(h.reverse(),r&&r.get(de.NEED_RESULT_POINT_CALLBACK)===!0)){const H=new Map;r.forEach((G,Q)=>H.set(Q,G)),H.delete(de.NEED_RESULT_POINT_CALLBACK),r=H}try{const H=this.decodeRow(P,h,r);if(U===1){H.putMetadata(tt.ORIENTATION,180);const G=H.getResultPoints();G!==null&&(G[0]=new Te(a-G[0].getX()-1,G[0].getY()),G[1]=new Te(a-G[1].getX()-1,G[1].getY()))}return H}catch{}}}throw new ee}static recordPattern(i,r,a){const d=a.length;for(let x=0;x<d;x++)a[x]=0;const h=i.getSize();if(r>=h)throw new ee;let g=!i.get(r),p=0,E=r;for(;E<h;){if(i.get(E)!==g)a[p]++;else{if(++p===d)break;a[p]=1,g=!g}E++}if(!(p===d||p===d-1&&E===h))throw new ee}static recordPatternInReverse(i,r,a){let d=a.length,h=i.get(r);for(;r>0&&d>=0;)i.get(--r)!==h&&(d--,h=!h);if(d>=0)throw new ee;Be.recordPattern(i,r+1,a)}static patternMatchVariance(i,r,a){const d=i.length;let h=0,g=0;for(let x=0;x<d;x++)h+=i[x],g+=r[x];if(h<g)return Number.POSITIVE_INFINITY;const p=h/g;a*=p;let E=0;for(let x=0;x<d;x++){const S=i[x],I=r[x]*p,R=S>I?S-I:I-S;if(R>a)return Number.POSITIVE_INFINITY;E+=R}return E/h}}class pe extends Be{static findStartPattern(i){const r=i.getSize(),a=i.getNextSet(0);let d=0,h=Int32Array.from([0,0,0,0,0,0]),g=a,p=!1;const E=6;for(let x=a;x<r;x++)if(i.get(x)!==p)h[d]++;else{if(d===E-1){let S=pe.MAX_AVG_VARIANCE,I=-1;for(let R=pe.CODE_START_A;R<=pe.CODE_START_C;R++){const P=Be.patternMatchVariance(h,pe.CODE_PATTERNS[R],pe.MAX_INDIVIDUAL_VARIANCE);P<S&&(S=P,I=R)}if(I>=0&&i.isRange(Math.max(0,g-(x-g)/2),g,!1))return Int32Array.from([g,x,I]);g+=h[0]+h[1],h=h.slice(2,h.length-1),h[d-1]=0,h[d]=0,d--}else d++;h[d]=1,p=!p}throw new ee}static decodeCode(i,r,a){Be.recordPattern(i,a,r);let d=pe.MAX_AVG_VARIANCE,h=-1;for(let g=0;g<pe.CODE_PATTERNS.length;g++){const p=pe.CODE_PATTERNS[g],E=this.patternMatchVariance(r,p,pe.MAX_INDIVIDUAL_VARIANCE);E<d&&(d=E,h=g)}if(h>=0)return h;throw new ee}decodeRow(i,r,a){const d=a&&a.get(de.ASSUME_GS1)===!0,h=pe.findStartPattern(r),g=h[2];let p=0;const E=new Uint8Array(20);E[p++]=g;let x;switch(g){case pe.CODE_START_A:x=pe.CODE_CODE_A;break;case pe.CODE_START_B:x=pe.CODE_CODE_B;break;case pe.CODE_START_C:x=pe.CODE_CODE_C;break;default:throw new K}let S=!1,I=!1,R="",P=h[0],U=h[1];const H=Int32Array.from([0,0,0,0,0,0]);let G=0,Q=0,ue=g,he=0,ae=!0,dt=!1,qe=!1;for(;!S;){const Zi=I;switch(I=!1,G=Q,Q=pe.decodeCode(r,H,U),E[p++]=Q,Q!==pe.CODE_STOP&&(ae=!0),Q!==pe.CODE_STOP&&(he++,ue+=he*Q),P=U,U+=H.reduce((mu,pr)=>mu+pr,0),Q){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new K}switch(x){case pe.CODE_CODE_A:if(Q<64)qe===dt?R+=String.fromCharCode(32+Q):R+=String.fromCharCode(32+Q+128),qe=!1;else if(Q<96)qe===dt?R+=String.fromCharCode(Q-64):R+=String.fromCharCode(Q+64),qe=!1;else switch(Q!==pe.CODE_STOP&&(ae=!1),Q){case pe.CODE_FNC_1:d&&(R.length===0?R+="]C1":R+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!dt&&qe?(dt=!0,qe=!1):dt&&qe?(dt=!1,qe=!1):qe=!0;break;case pe.CODE_SHIFT:I=!0,x=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:x=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:x=pe.CODE_CODE_C;break;case pe.CODE_STOP:S=!0;break}break;case pe.CODE_CODE_B:if(Q<96)qe===dt?R+=String.fromCharCode(32+Q):R+=String.fromCharCode(32+Q+128),qe=!1;else switch(Q!==pe.CODE_STOP&&(ae=!1),Q){case pe.CODE_FNC_1:d&&(R.length===0?R+="]C1":R+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!dt&&qe?(dt=!0,qe=!1):dt&&qe?(dt=!1,qe=!1):qe=!0;break;case pe.CODE_SHIFT:I=!0,x=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:x=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:x=pe.CODE_CODE_C;break;case pe.CODE_STOP:S=!0;break}break;case pe.CODE_CODE_C:if(Q<100)Q<10&&(R+="0"),R+=Q;else switch(Q!==pe.CODE_STOP&&(ae=!1),Q){case pe.CODE_FNC_1:d&&(R.length===0?R+="]C1":R+="");break;case pe.CODE_CODE_A:x=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:x=pe.CODE_CODE_B;break;case pe.CODE_STOP:S=!0;break}break}Zi&&(x=x===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const en=U-P;if(U=r.getNextUnset(U),!r.isRange(U,Math.min(r.getSize(),U+(U-P)/2),!1))throw new ee;if(ue-=he*G,ue%103!==G)throw new V;const Yn=R.length;if(Yn===0)throw new ee;Yn>0&&ae&&(x===pe.CODE_CODE_C?R=R.substring(0,Yn-2):R=R.substring(0,Yn-1));const Xn=(h[1]+h[0])/2,Nt=P+en/2,bn=E.length,Qn=new Uint8Array(bn);for(let Zi=0;Zi<bn;Zi++)Qn[Zi]=E[Zi];const gr=[new Te(Xn,i),new Te(Nt,i)];return new Ze(R,Qn,0,gr,ie.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class $t extends Be{constructor(i=!1,r=!1){super(),this.usingCheckDigit=i,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,r,a){let d=this.counters;d.fill(0),this.decodeRowResult="";let h=$t.findAsteriskPattern(r,d),g=r.getNextSet(h[1]),p=r.getSize(),E,x;do{$t.recordPattern(r,g,d);let H=$t.toNarrowWidePattern(d);if(H<0)throw new ee;E=$t.patternToChar(H),this.decodeRowResult+=E,x=g;for(let G of d)g+=G;g=r.getNextSet(g)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let H of d)S+=H;let I=g-x-S;if(g!==p&&I*2<S)throw new ee;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,G=0;for(let Q=0;Q<H;Q++)G+=$t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(H)!==$t.ALPHABET_STRING.charAt(G%43))throw new V;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(this.decodeRowResult.length===0)throw new ee;let R;this.extendedMode?R=$t.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let P=(h[1]+h[0])/2,U=x+S/2;return new Ze(R,null,0,[new Te(P,i),new Te(U,i)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(i,r){let a=i.getSize(),d=i.getNextSet(0),h=0,g=d,p=!1,E=r.length;for(let x=d;x<a;x++)if(i.get(x)!==p)r[h]++;else{if(h===E-1){if(this.toNarrowWidePattern(r)===$t.ASTERISK_ENCODING&&i.isRange(Math.max(0,g-Math.floor((x-g)/2)),g,!1))return[g,x];g+=r[0]+r[1],r.copyWithin(0,2,2+h-1),r[h-1]=0,r[h]=0,h--}else h++;r[h]=1,p=!p}throw new ee}static toNarrowWidePattern(i){let r=i.length,a=0,d;do{let h=2147483647;for(let E of i)E<h&&E>a&&(h=E);a=h,d=0;let g=0,p=0;for(let E=0;E<r;E++){let x=i[E];x>a&&(p|=1<<r-1-E,d++,g+=x)}if(d===3){for(let E=0;E<r&&d>0;E++){let x=i[E];if(x>a&&(d--,x*2>=g))return-1}return p}}while(d>3);return-1}static patternToChar(i){for(let r=0;r<$t.CHARACTER_ENCODINGS.length;r++)if($t.CHARACTER_ENCODINGS[r]===i)return $t.ALPHABET_STRING.charAt(r);if(i===$t.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(i){let r=i.length,a="";for(let d=0;d<r;d++){let h=i.charAt(d);if(h==="+"||h==="$"||h==="%"||h==="/"){let g=i.charAt(d+1),p="\0";switch(h){case"+":if(g>="A"&&g<="Z")p=String.fromCharCode(g.charCodeAt(0)+32);else throw new K;break;case"$":if(g>="A"&&g<="Z")p=String.fromCharCode(g.charCodeAt(0)-64);else throw new K;break;case"%":if(g>="A"&&g<="E")p=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")p=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")p=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")p=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")p="\0";else if(g==="V")p="@";else if(g==="W")p="`";else if(g==="X"||g==="Y"||g==="Z")p="";else throw new K;break;case"/":if(g>="A"&&g<="O")p=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")p=":";else throw new K;break}a+=p,d++}else a+=h}return a}}$t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",$t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],$t.ASTERISK_ENCODING=148;class Rt extends Be{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,r,a){let d=this.decodeStart(r),h=this.decodeEnd(r),g=new ot;Rt.decodeMiddle(r,d[1],h[0],g);let p=g.toString(),E=null;a!=null&&(E=a.get(de.ALLOWED_LENGTHS)),E==null&&(E=Rt.DEFAULT_ALLOWED_LENGTHS);let x=p.length,S=!1,I=0;for(let U of E){if(x===U){S=!0;break}U>I&&(I=U)}if(!S&&x>I&&(S=!0),!S)throw new K;const R=[new Te(d[1],i),new Te(h[0],i)];return new Ze(p,null,0,R,ie.ITF,new Date().getTime())}static decodeMiddle(i,r,a,d){let h=new Int32Array(10),g=new Int32Array(5),p=new Int32Array(5);for(h.fill(0),g.fill(0),p.fill(0);r<a;){Be.recordPattern(i,r,h);for(let x=0;x<5;x++){let S=2*x;g[x]=h[S],p[x]=h[S+1]}let E=Rt.decodeDigit(g);d.append(E.toString()),E=this.decodeDigit(p),d.append(E.toString()),h.forEach(function(x){r+=x})}}decodeStart(i){let r=Rt.skipWhiteSpace(i),a=Rt.findGuardPattern(i,r,Rt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let d=r-1;a>0&&d>=0&&!i.get(d);d--)a--;if(a!==0)throw new ee}static skipWhiteSpace(i){const r=i.getSize(),a=i.getNextSet(0);if(a===r)throw new ee;return a}decodeEnd(i){i.reverse();try{let r=Rt.skipWhiteSpace(i),a;try{a=Rt.findGuardPattern(i,r,Rt.END_PATTERN_REVERSED[0])}catch(h){h instanceof ee&&(a=Rt.findGuardPattern(i,r,Rt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let d=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-d,a}finally{i.reverse()}}static findGuardPattern(i,r,a){let d=a.length,h=new Int32Array(d),g=i.getSize(),p=!1,E=0,x=r;h.fill(0);for(let S=r;S<g;S++)if(i.get(S)!==p)h[E]++;else{if(E===d-1){if(Be.patternMatchVariance(h,a,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return[x,S];x+=h[0]+h[1],j.arraycopy(h,2,h,0,E-1),h[E-1]=0,h[E]=0,E--}else E++;h[E]=1,p=!p}throw new ee}static decodeDigit(i){let r=Rt.MAX_AVG_VARIANCE,a=-1,d=Rt.PATTERNS.length;for(let h=0;h<d;h++){let g=Rt.PATTERNS[h],p=Be.patternMatchVariance(i,g,Rt.MAX_INDIVIDUAL_VARIANCE);p<r?(r=p,a=h):p===r&&(a=-1)}if(a>=0)return a%10;throw new ee}}Rt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Rt.MAX_AVG_VARIANCE=.38,Rt.MAX_INDIVIDUAL_VARIANCE=.5,Rt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Rt.START_PATTERN=Int32Array.from([1,1,1,1]),Rt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Be{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let r=!1,a,d=0,h=Int32Array.from([0,0,0]);for(;!r;){h=Int32Array.from([0,0,0]),a=Ft.findGuardPattern(i,d,!1,this.START_END_PATTERN,h);let g=a[0];d=a[1];let p=g-(d-g);p>=0&&(r=i.isRange(p,g,!1))}return a}static checkChecksum(i){return Ft.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let r=i.length;if(r===0)return!1;let a=parseInt(i.charAt(r-1),10);return Ft.getStandardUPCEANChecksum(i.substring(0,r-1))===a}static getStandardUPCEANChecksum(i){let r=i.length,a=0;for(let d=r-1;d>=0;d-=2){let h=i.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}a*=3;for(let d=r-2;d>=0;d-=2){let h=i.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}return(1e3-a)%10}static decodeEnd(i,r){return Ft.findGuardPattern(i,r,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,r,a,d){return this.findGuardPattern(i,r,a,d,new Int32Array(d.length))}static findGuardPattern(i,r,a,d,h){let g=i.getSize();r=a?i.getNextUnset(r):i.getNextSet(r);let p=0,E=r,x=d.length,S=a;for(let I=r;I<g;I++)if(i.get(I)!==S)h[p]++;else{if(p===x-1){if(Be.patternMatchVariance(h,d,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([E,I]);E+=h[0]+h[1];let R=h.slice(2,h.length-1);for(let P=0;P<p-1;P++)h[P]=R[P];h[p-1]=0,h[p]=0,p--}else p++;h[p]=1,S=!S}throw new ee}static decodeDigit(i,r,a,d){this.recordPattern(i,a,r);let h=this.MAX_AVG_VARIANCE,g=-1,p=d.length;for(let E=0;E<p;E++){let x=d[E],S=Be.patternMatchVariance(r,x,Ft.MAX_INDIVIDUAL_VARIANCE);S<h&&(h=S,g=E)}if(g>=0)return g;throw new ee}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Po{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,r,a){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(r,a,d),g=d.toString(),p=Po.parseExtensionString(g),E=[new Te((a[0]+a[1])/2,i),new Te(h,i)],x=new Ze(g,null,0,E,ie.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(i,r,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=i.getSize(),g=r[1],p=0;for(let x=0;x<5&&g<h;x++){let S=Ft.decodeDigit(i,d,g,Ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let I of d)g+=I;S>=10&&(p|=1<<4-x),x!==4&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(a.length!==5)throw new ee;let E=this.determineCheckDigit(p);if(Po.extensionChecksum(a.toString())!==E)throw new ee;return g}static extensionChecksum(i){let r=i.length,a=0;for(let d=r-2;d>=0;d-=2)a+=i.charAt(d).charCodeAt(0)-48;a*=3;for(let d=r-1;d>=0;d-=2)a+=i.charAt(d).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let r=0;r<10;r++)if(i===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ee}static parseExtensionString(i){if(i.length!==5)return null;let r=Po.parseExtension5String(i);return r==null?null:new Map([[tt.SUGGESTED_PRICE,r]])}static parseExtension5String(i){let r;switch(i.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(i.substring(1)),d=(a/100).toString(),h=a%100,g=h<10?"0"+h:h.toString();return r+d+"."+g}}class Zr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,r,a){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(r,a,d),g=d.toString(),p=Zr.parseExtensionString(g),E=[new Te((a[0]+a[1])/2,i),new Te(h,i)],x=new Ze(g,null,0,E,ie.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(i,r,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=i.getSize(),g=r[1],p=0;for(let E=0;E<2&&g<h;E++){let x=Ft.decodeDigit(i,d,g,Ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let S of d)g+=S;x>=10&&(p|=1<<1-E),E!==1&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(a.length!==2)throw new ee;if(parseInt(a.toString())%4!==p)throw new ee;return g}static parseExtensionString(i){return i.length!==2?null:new Map([[tt.ISSUE_NUMBER,parseInt(i)]])}}class rr{static decodeRow(i,r,a){let d=Ft.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Po().decodeRow(i,r,d)}catch{return new Zr().decodeRow(i,r,d)}}}rr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class yt extends Ft{constructor(){super(),this.decodeRowStringBuffer="",yt.L_AND_G_PATTERNS=yt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let r=yt.L_PATTERNS[i-10],a=new Int32Array(r.length);for(let d=0;d<r.length;d++)a[d]=r[r.length-d-1];yt.L_AND_G_PATTERNS[i]=a}}decodeRow(i,r,a){let d=yt.findStartGuardPattern(r),h=a==null?null:a.get(de.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ae=new Te((d[0]+d[1])/2,i);h.foundPossibleResultPoint(ae)}let g=this.decodeMiddle(r,d,this.decodeRowStringBuffer),p=g.rowOffset,E=g.resultString;if(h!=null){const ae=new Te(p,i);h.foundPossibleResultPoint(ae)}let x=this.decodeEnd(r,p);if(h!=null){const ae=new Te((x[0]+x[1])/2,i);h.foundPossibleResultPoint(ae)}let S=x[1],I=S+(S-x[0]);if(I>=r.getSize()||!r.isRange(S,I,!1))throw new ee;let R=E.toString();if(R.length<8)throw new K;if(!yt.checkChecksum(R))throw new V;let P=(d[1]+d[0])/2,U=(x[1]+x[0])/2,H=this.getBarcodeFormat(),G=[new Te(P,i),new Te(U,i)],Q=new Ze(R,null,0,G,H,new Date().getTime()),ue=0;try{let ae=rr.decodeRow(i,r,x[1]);Q.putMetadata(tt.UPC_EAN_EXTENSION,ae.getText()),Q.putAllMetadata(ae.getResultMetadata()),Q.addResultPoints(ae.getResultPoints()),ue=ae.getText().length}catch{}let he=a==null?null:a.get(de.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ae=!1;for(let dt in he)if(ue.toString()===dt){ae=!0;break}if(!ae)throw new ee}return Q}decodeEnd(i,r){return yt.findGuardPattern(i,r,!1,yt.START_END_PATTERN,new Int32Array(yt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return yt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let r=i.length;if(r===0)return!1;let a=parseInt(i.charAt(r-1),10);return yt.getStandardUPCEANChecksum(i.substring(0,r-1))===a}static getStandardUPCEANChecksum(i){let r=i.length,a=0;for(let d=r-1;d>=0;d-=2){let h=i.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}a*=3;for(let d=r-2;d>=0;d-=2){let h=i.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}return(1e3-a)%10}}class bi extends yt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,r,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=i.getSize(),g=r[1],p=0;for(let x=0;x<6&&g<h;x++){let S=yt.decodeDigit(i,d,g,yt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let I of d)g+=I;S>=10&&(p|=1<<5-x)}a=bi.determineFirstDigit(a,p),g=yt.findGuardPattern(i,g,!0,yt.MIDDLE_PATTERN,new Int32Array(yt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&g<h;x++){let S=yt.decodeDigit(i,d,g,yt.L_PATTERNS);a+=String.fromCharCode(48+S);for(let I of d)g+=I}return{rowOffset:g,resultString:a}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(i,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new ee}}bi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Is extends yt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,r,a){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=i.getSize(),g=r[1];for(let E=0;E<4&&g<h;E++){let x=yt.decodeDigit(i,d,g,yt.L_PATTERNS);a+=String.fromCharCode(48+x);for(let S of d)g+=S}g=yt.findGuardPattern(i,g,!0,yt.MIDDLE_PATTERN,new Int32Array(yt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&g<h;E++){let x=yt.decodeDigit(i,d,g,yt.L_PATTERNS);a+=String.fromCharCode(48+x);for(let S of d)g+=S}return{rowOffset:g,resultString:a}}getBarcodeFormat(){return ie.EAN_8}}class bs extends yt{constructor(){super(...arguments),this.ean13Reader=new bi}getBarcodeFormat(){return ie.UPC_A}decode(i,r){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,r,a))}decodeMiddle(i,r,a){return this.ean13Reader.decodeMiddle(i,r,a)}maybeReturnResult(i){let r=i.getText();if(r.charAt(0)==="0"){let a=new Ze(r.substring(1),null,null,i.getResultPoints(),ie.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new ee}reset(){this.ean13Reader.reset()}}class Gn extends yt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,r,a){const d=this.decodeMiddleCounters.map(x=>x);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const h=i.getSize();let g=r[1],p=0;for(let x=0;x<6&&g<h;x++){const S=Gn.decodeDigit(i,d,g,Gn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let I of d)g+=I;S>=10&&(p|=1<<5-x)}let E=Gn.determineNumSysAndCheckDigit(a,p);return{rowOffset:g,resultString:E}}decodeEnd(i,r){return Gn.findGuardPatternWithoutCounters(i,r,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(i){return yt.checkChecksum(Gn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,r){for(let a=0;a<=1;a++)for(let d=0;d<10;d++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][d]){let h=String.fromCharCode(48+a),g=String.fromCharCode(48+d);return h+i+g}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(i){const r=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),a=new ot;a.append(i.charAt(0));let d=r[5];switch(d){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(d),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(d);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class sr extends Be{constructor(i){super();let r=i==null?null:i.get(de.POSSIBLE_FORMATS),a=[];o(r)?(a.push(new bi),a.push(new bs),a.push(new Is),a.push(new Gn)):(r.indexOf(ie.EAN_13)>-1&&a.push(new bi),r.indexOf(ie.UPC_A)>-1&&a.push(new bs),r.indexOf(ie.EAN_8)>-1&&a.push(new Is),r.indexOf(ie.UPC_E)>-1&&a.push(new Gn)),this.readers=a}decodeRow(i,r,a){for(let d of this.readers)try{const h=d.decodeRow(i,r,a),g=h.getBarcodeFormat()===ie.EAN_13&&h.getText().charAt(0)==="0",p=a==null?null:a.get(de.POSSIBLE_FORMATS),E=p==null||p.includes(ie.UPC_A);if(g&&E){const x=h.getRawBytes(),S=new Ze(h.getText().substring(1),x,x?x.length:null,h.getResultPoints(),ie.UPC_A);return S.putAllMetadata(h.getResultMetadata()),S}return h}catch{}throw new ee}reset(){for(let i of this.readers)i.reset()}}class k extends Be{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,r){for(let a=0;a<r.length;a++)if(Be.patternMatchVariance(i,r[a],k.MAX_INDIVIDUAL_VARIANCE)<k.MAX_AVG_VARIANCE)return a;throw new ee}static count(i){return st.sum(new Int32Array(i))}static increment(i,r){let a=0,d=r[0];for(let h=1;h<i.length;h++)r[h]>d&&(d=r[h],a=h);i[a]++}static decrement(i,r){let a=0,d=r[0];for(let h=1;h<i.length;h++)r[h]<d&&(d=r[h],a=h);i[a]--}static isFinderPattern(i){let r=i[0]+i[1],a=r+i[2]+i[3],d=r/a;if(d>=k.MIN_FINDER_PATTERN_RATIO&&d<=k.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let p of i)p>g&&(g=p),p<h&&(h=p);return g<10*h}return!1}}k.MAX_AVG_VARIANCE=.2,k.MAX_INDIVIDUAL_VARIANCE=.45,k.MIN_FINDER_PATTERN_RATIO=9.5/12,k.MAX_FINDER_PATTERN_RATIO=12.5/14;class re{constructor(i,r){this.value=i,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof re))return!1;const r=i;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class we{constructor(i,r,a,d,h){this.value=i,this.startEnd=r,this.value=i,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Te(a,h)),this.resultPoints.push(new Te(d,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof we))return!1;const r=i;return this.value===r.value}hashCode(){return this.value}}class be{constructor(){}static getRSSvalue(i,r,a){let d=0;for(let E of i)d+=E;let h=0,g=0,p=i.length;for(let E=0;E<p-1;E++){let x;for(x=1,g|=1<<E;x<i[E];x++,g&=~(1<<E)){let S=be.combins(d-x-1,p-E-2);if(a&&g===0&&d-x-(p-E-1)>=p-E-1&&(S-=be.combins(d-x-(p-E),p-E-2)),p-E-1>1){let I=0;for(let R=d-x-(p-E-2);R>r;R--)I+=be.combins(d-x-R-1,p-E-3);S-=I*(p-1-E)}else d-x>r&&S--;h+=S}d-=x}return h}static combins(i,r){let a,d;i-r>r?(d=r,a=i-r):(d=i-r,a=r);let h=1,g=1;for(let p=i;p>a;p--)h*=p,g<=d&&(h/=g,g++);for(;g<=d;)h/=g,g++;return h}}class Ge{static buildBitArray(i){let r=i.length*2-1;i[i.length-1].getRightChar()==null&&(r-=1);let a=12*r,d=new J(a),h=0,p=i[0].getRightChar().getValue();for(let E=11;E>=0;--E)p&1<<E&&d.set(h),h++;for(let E=1;E<i.length;++E){let x=i[E],S=x.getLeftChar().getValue();for(let I=11;I>=0;--I)S&1<<I&&d.set(h),h++;if(x.getRightChar()!=null){let I=x.getRightChar().getValue();for(let R=11;R>=0;--R)I&1<<R&&d.set(h),h++}}return d}}class wt{constructor(i,r){r?this.decodedInformation=null:(this.finished=i,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Je{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class De extends Je{constructor(i,r){super(i),this.value=r}getValue(){return this.value}isFNC1(){return this.value===De.FNC1}}De.FNC1="$";class le extends Je{constructor(i,r,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Wt extends Je{constructor(i,r,a){if(super(i),r<0||r>10||a<0||a>10)throw new K;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Wt.FNC1}isSecondDigitFNC1(){return this.secondDigit===Wt.FNC1}isAnyFNC1(){return this.firstDigit===Wt.FNC1||this.secondDigit===Wt.FNC1}}Wt.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ee;let r=i.substring(0,2);for(let h of _e.TWO_DIGIT_DATA_LENGTH)if(h[0]===r)return h[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,h[2],i):_e.processFixedAI(2,h[1],i);if(i.length<3)throw new ee;let a=i.substring(0,3);for(let h of _e.THREE_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,h[2],i):_e.processFixedAI(3,h[1],i);for(let h of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,h[2],i):_e.processFixedAI(4,h[1],i);if(i.length<4)throw new ee;let d=i.substring(0,4);for(let h of _e.FOUR_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,h[2],i):_e.processFixedAI(4,h[1],i);throw new ee}static processFixedAI(i,r,a){if(a.length<i)throw new ee;let d=a.substring(0,i);if(a.length<i+r)throw new ee;let h=a.substring(i,i+r),g=a.substring(i+r),p="("+d+")"+h,E=_e.parseFieldsInGeneralPurpose(g);return E==null?p:p+E}static processVariableAI(i,r,a){let d=a.substring(0,i),h;a.length<i+r?h=a.length:h=i+r;let g=a.substring(i,h),p=a.substring(h),E="("+d+")"+g,x=_e.parseFieldsInGeneralPurpose(p);return x==null?E:E+x}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class at{constructor(i){this.buffer=new ot,this.information=i}decodeAllCodes(i,r){let a=r,d=null;do{let h=this.decodeGeneralPurposeField(a,d),g=_e.parseFieldsInGeneralPurpose(h.getNewString());if(g!=null&&i.append(g),h.isRemaining()?d=""+h.getRemainingValue():d=null,a===h.getNewPosition())break;a=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let r=i;r<i+3;++r)if(this.information.get(r))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new Wt(this.information.getSize(),Wt.FNC1,Wt.FNC1):new Wt(this.information.getSize(),h-1,Wt.FNC1)}let r=this.extractNumericValueFromBitArray(i,7),a=(r-8)/11,d=(r-8)%11;return new Wt(i+7,a,d)}extractNumericValueFromBitArray(i,r){return at.extractNumericValueFromBitArray(this.information,i,r)}static extractNumericValueFromBitArray(i,r,a){let d=0;for(let h=0;h<a;++h)i.get(r+h)&&(d|=1<<a-h-1);return d}decodeGeneralPurposeField(i,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new le(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new le(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),i=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),i=r.isFinished()):(r=this.parseNumericBlock(),i=r.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let r;return i.isSecondDigitFNC1()?r=new le(this.current.getPosition(),this.buffer.toString()):r=new le(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new wt(!0,r)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let r=new le(this.current.getPosition(),this.buffer.toString());return new wt(!0,r)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new wt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let r=new le(this.current.getPosition(),this.buffer.toString());return new wt(!0,r)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new wt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let r=new le(this.current.getPosition(),this.buffer.toString());return new wt(!0,r)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new wt(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(i,5);if(r>=5&&r<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(i,8);return d>=232&&d<253}decodeIsoIec646(i){let r=this.extractNumericValueFromBitArray(i,5);if(r===15)return new De(i+5,De.FNC1);if(r>=5&&r<15)return new De(i+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new De(i+7,""+(a+1));if(a>=90&&a<116)return new De(i+7,""+(a+7));let d=this.extractNumericValueFromBitArray(i,8),h;switch(d){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new K}return new De(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(i,5);if(r>=5&&r<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let r=this.extractNumericValueFromBitArray(i,5);if(r===15)return new De(i+5,De.FNC1);if(r>=5&&r<15)return new De(i+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new De(i+6,""+(a+33));let d;switch(a){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new ii("Decoding invalid alphanumeric value: "+a)}return new De(i+6,d)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let r=0;r<5&&r+i<this.information.getSize();++r)if(r===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+r))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let r=i;r<i+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let r=0;r<4&&r+i<this.information.getSize();++r)if(this.information.get(i+r))return!1;return!0}}class Me{constructor(i){this.information=i,this.generalDecoder=new at(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Se extends Me{constructor(i){super(i)}encodeCompressedGtin(i,r){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,r,a)}encodeCompressedGtinWithoutAI(i,r,a){for(let d=0;d<4;++d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*d,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}Se.appendCheckDigit(i,a)}static appendCheckDigit(i,r){let a=0;for(let d=0;d<13;d++){let h=i.charAt(d+r).charCodeAt(0)-48;a+=d&1?h:3*h}a=10-a%10,a===10&&(a=0),i.append(a)}}Se.GTIN_SIZE=40;class Ye extends Se{constructor(i){super(i)}parseInformation(){let i=new ot;i.append("(01)");let r=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ye.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,Ye.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(i,Ye.HEADER_SIZE+44)}}Ye.HEADER_SIZE=4;class Xe extends Me{constructor(i){super(i)}parseInformation(){let i=new ot;return this.getGeneralDecoder().decodeAllCodes(i,Xe.HEADER_SIZE)}}Xe.HEADER_SIZE=5;class Sn extends Se{constructor(i){super(i)}encodeCompressedWeight(i,r,a){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(i,d);let h=this.checkWeight(d),g=1e5;for(let p=0;p<5;++p)h/g===0&&i.append("0"),g/=10;i.append(h)}}class Qe extends Sn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+Sn.GTIN_SIZE+Qe.WEIGHT_SIZE)throw new ee;let i=new ot;return this.encodeCompressedGtin(i,Qe.HEADER_SIZE),this.encodeCompressedWeight(i,Qe.HEADER_SIZE+Sn.GTIN_SIZE,Qe.WEIGHT_SIZE),i.toString()}}Qe.HEADER_SIZE=5,Qe.WEIGHT_SIZE=15;class pt extends Qe{constructor(i){super(i)}addWeightCode(i,r){i.append("(3103)")}checkWeight(i){return i}}class Na extends Qe{constructor(i){super(i)}addWeightCode(i,r){r<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class gi extends Se{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<gi.HEADER_SIZE+Se.GTIN_SIZE)throw new ee;let i=new ot;this.encodeCompressedGtin(i,gi.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE+Se.GTIN_SIZE,gi.LAST_DIGIT_SIZE);i.append("(392"),i.append(r),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(gi.HEADER_SIZE+Se.GTIN_SIZE+gi.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}gi.HEADER_SIZE=8,gi.LAST_DIGIT_SIZE=2;class Lt extends Se{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Lt.HEADER_SIZE+Se.GTIN_SIZE)throw new ee;let i=new ot;this.encodeCompressedGtin(i,Lt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+Se.GTIN_SIZE,Lt.LAST_DIGIT_SIZE);i.append("(393"),i.append(r),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+Se.GTIN_SIZE+Lt.LAST_DIGIT_SIZE,Lt.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let d=this.getGeneralDecoder().decodeGeneralPurposeField(Lt.HEADER_SIZE+Se.GTIN_SIZE+Lt.LAST_DIGIT_SIZE+Lt.FIRST_THREE_DIGITS_SIZE,null);return i.append(d.getNewString()),i.toString()}}Lt.HEADER_SIZE=8,Lt.LAST_DIGIT_SIZE=2,Lt.FIRST_THREE_DIGITS_SIZE=10;class Ut extends Sn{constructor(i,r,a){super(i),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE+Ut.DATE_SIZE)throw new ee;let i=new ot;return this.encodeCompressedGtin(i,Ut.HEADER_SIZE),this.encodeCompressedWeight(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE,Ut.WEIGHT_SIZE),this.encodeCompressedDate(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ut.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let d=a%32;a/=32;let h=a%12+1;a/=12;let g=a;g/10==0&&i.append("0"),i.append(g),h/10==0&&i.append("0"),i.append(h),d/10==0&&i.append("0"),i.append(d)}addWeightCode(i,r){i.append("("),i.append(this.firstAIdigits),i.append(r/1e5),i.append(")")}checkWeight(i){return i%1e5}}Ut.HEADER_SIZE=8,Ut.WEIGHT_SIZE=20,Ut.DATE_SIZE=16;function Yr(T){try{if(T.get(1))return new Ye(T);if(!T.get(2))return new Xe(T);switch(at.extractNumericValueFromBitArray(T,1,4)){case 4:return new pt(T);case 5:return new Na(T)}switch(at.extractNumericValueFromBitArray(T,1,5)){case 12:return new gi(T);case 13:return new Lt(T)}switch(at.extractNumericValueFromBitArray(T,1,7)){case 56:return new Ut(T,"310","11");case 57:return new Ut(T,"320","11");case 58:return new Ut(T,"310","13");case 59:return new Ut(T,"320","13");case 60:return new Ut(T,"310","15");case 61:return new Ut(T,"320","15");case 62:return new Ut(T,"310","17");case 63:return new Ut(T,"320","17")}}catch(i){throw console.log(i),new ii("unknown decoder: "+T)}}class xo{constructor(i,r,a,d){this.leftchar=i,this.rightchar=r,this.finderpattern=a,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,r){return i instanceof xo?xo.equalsOrNull(i.leftchar,r.leftchar)&&xo.equalsOrNull(i.rightchar,r.rightchar)&&xo.equalsOrNull(i.finderpattern,r.finderpattern):!1}static equalsOrNull(i,r){return i===null?r===null:xo.equals(i,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ra{constructor(i,r,a){this.pairs=i,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,r){return i instanceof Ra?this.checkEqualitity(i,r)&&i.wasReversed===r.wasReversed:!1}checkEqualitity(i,r){if(!i||!r)return;let a;return i.forEach((d,h)=>{r.forEach(g=>{d.getLeftChar().getValue()===g.getLeftChar().getValue()&&d.getRightChar().getValue()===g.getRightChar().getValue()&&d.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(a=!0)})}),a}}class oe extends k{constructor(i){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,r,a){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(i,r))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(i,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,i))}catch(h){if(h instanceof ee){if(!this.pairs.length)throw new ee;a=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(i,!1),d){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ee}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),r}checkRows(i,r){for(let a=r;a<this.rows.length;a++){let d=this.rows[a];this.pairs.length=0;for(let g of i)this.pairs.push(g.getPairs());if(this.pairs.push(d.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(d);try{return this.checkRows(h,a+1)}catch(g){this.verbose&&console.log(g)}}throw new ee}static isValidSequence(i){for(let r of oe.FINDER_PATTERN_SEQUENCES){if(i.length>r.length)continue;let a=!0;for(let d=0;d<i.length;d++)if(i[d].getFinderPattern().getValue()!=r[d]){a=!1;break}if(a)return!0}return!1}storeRow(i,r){let a=0,d=!1,h=!1;for(;a<this.rows.length;){let g=this.rows[a];if(g.getRowNumber()>i){h=g.isEquivalent(this.pairs);break}d=g.isEquivalent(this.pairs),a++}h||d||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Ra(this.pairs,i,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,r){for(let a of r)if(a.getPairs().length!==i.length){for(let d of a.getPairs())for(let h of i)if(xo.equals(d,h))break}}static isPartialRow(i,r){for(let a of r){let d=!0;for(let h of i){let g=!1;for(let p of a.getPairs())if(h.equals(p)){g=!0;break}if(!g){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(i){let r=Ge.buildBitArray(i),d=Yr(r).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),g=i[i.length-1].getFinderPattern().getResultPoints(),p=[h[0],h[1],g[0],g[1]];return new Ze(d,null,null,p,ie.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),r=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let d=a.getChecksumPortion(),h=2;for(let p=1;p<this.pairs.size();++p){let E=this.pairs.get(p);d+=E.getLeftChar().getChecksumPortion(),h++;let x=E.getRightChar();x!=null&&(d+=x.getChecksumPortion(),h++)}return d%=211,211*(h-4)+d==r.getValue()}static getNextSecondBar(i,r){let a;return i.get(r)?(a=i.getNextUnset(r),a=i.getNextSet(a)):(a=i.getNextSet(r),a=i.getNextUnset(a)),a}retrieveNextPair(i,r,a){let d=r.length%2==0;this.startFromEven&&(d=!d);let h,g=!0,p=-1;do this.findNextPair(i,r,p),h=this.parseFoundFinderPattern(i,a,d),h==null?p=oe.getNextSecondBar(i,this.startEnd[0]):g=!1;while(g);let E=this.decodeDataCharacter(i,h,d,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ee;let x;try{x=this.decodeDataCharacter(i,h,d,!1)}catch(S){x=null,this.verbose&&console.log(S)}return new xo(E,x,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,r,a){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=i.getSize(),g;a>=0?g=a:this.isEmptyPair(r)?g=0:g=r[r.length-1].getFinderPattern().getStartEnd()[1];let p=r.length%2!=0;this.startFromEven&&(p=!p);let E=!1;for(;g<h&&(E=!i.get(g),!!E);)g++;let x=0,S=g;for(let I=g;I<h;I++)if(i.get(I)!=E)d[x]++;else{if(x==3){if(p&&oe.reverseCounters(d),oe.isFinderPattern(d)){this.startEnd[0]=S,this.startEnd[1]=I;return}p&&oe.reverseCounters(d),S+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,x--}else x++;d[x]=1,E=!E}throw new ee}static reverseCounters(i){let r=i.length;for(let a=0;a<r/2;++a){let d=i[a];i[a]=i[r-a-1],i[r-a-1]=d}}parseFoundFinderPattern(i,r,a){let d,h,g;if(a){let x=this.startEnd[0]-1;for(;x>=0&&!i.get(x);)x--;x++,d=this.startEnd[0]-x,h=x,g=this.startEnd[1]}else h=this.startEnd[0],g=i.getNextUnset(this.startEnd[1]+1),d=g-this.startEnd[1];let p=this.getDecodeFinderCounters();j.arraycopy(p,0,p,1,p.length-1),p[0]=d;let E;try{E=this.parseFinderValue(p,oe.FINDER_PATTERNS)}catch{return null}return new we(E,[h,g],h,g,r)}decodeDataCharacter(i,r,a,d){let h=this.getDataCharacterCounters();for(let Nt=0;Nt<h.length;Nt++)h[Nt]=0;if(d)oe.recordPatternInReverse(i,r.getStartEnd()[0],h);else{oe.recordPattern(i,r.getStartEnd()[1],h);for(let Nt=0,bn=h.length-1;Nt<bn;Nt++,bn--){let Qn=h[Nt];h[Nt]=h[bn],h[bn]=Qn}}let g=17,p=st.sum(new Int32Array(h))/g,E=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(p-E)/E>.3)throw new ee;let x=this.getOddCounts(),S=this.getEvenCounts(),I=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let Nt=0;Nt<h.length;Nt++){let bn=1*h[Nt]/p,Qn=bn+.5;if(Qn<1){if(bn<.3)throw new ee;Qn=1}else if(Qn>8){if(bn>8.7)throw new ee;Qn=8}let gr=Nt/2;Nt&1?(S[gr]=Qn,R[gr]=bn-Qn):(x[gr]=Qn,I[gr]=bn-Qn)}this.adjustOddEvenCounts(g);let P=4*r.getValue()+(a?0:2)+(d?0:1)-1,U=0,H=0;for(let Nt=x.length-1;Nt>=0;Nt--){if(oe.isNotA1left(r,a,d)){let bn=oe.WEIGHTS[P][2*Nt];H+=x[Nt]*bn}U+=x[Nt]}let G=0;for(let Nt=S.length-1;Nt>=0;Nt--)if(oe.isNotA1left(r,a,d)){let bn=oe.WEIGHTS[P][2*Nt+1];G+=S[Nt]*bn}let Q=H+G;if(U&1||U>13||U<4)throw new ee;let ue=(13-U)/2,he=oe.SYMBOL_WIDEST[ue],ae=9-he,dt=be.getRSSvalue(x,he,!0),qe=be.getRSSvalue(S,ae,!1),en=oe.EVEN_TOTAL_SUBSET[ue],Yn=oe.GSUM[ue],Xn=dt*en+qe+Yn;return new re(Xn,Q)}static isNotA1left(i,r,a){return!(i.getValue()==0&&r&&a)}adjustOddEvenCounts(i){let r=st.sum(new Int32Array(this.getOddCounts())),a=st.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1;r>13?h=!0:r<4&&(d=!0);let g=!1,p=!1;a>13?p=!0:a<4&&(g=!0);let E=r+a-i,x=(r&1)==1,S=(a&1)==0;if(E==1)if(x){if(S)throw new ee;h=!0}else{if(!S)throw new ee;p=!0}else if(E==-1)if(x){if(S)throw new ee;d=!0}else{if(!S)throw new ee;g=!0}else if(E==0){if(x){if(!S)throw new ee;r<a?(d=!0,p=!0):(h=!0,g=!0)}else if(S)throw new ee}else throw new ee;if(d){if(h)throw new ee;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(p)throw new ee;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class cu extends re{constructor(i,r,a){super(i,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class sn extends k{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,r,a){const d=this.decodePair(r,!1,i,a);sn.addOrTally(this.possibleLeftPairs,d),r.reverse();let h=this.decodePair(r,!0,i,a);sn.addOrTally(this.possibleRightPairs,h),r.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&sn.checkChecksum(g,p))return sn.constructResult(g,p)}throw new ee}static addOrTally(i,r){if(r==null)return;let a=!1;for(let d of i)if(d.getValue()===r.getValue()){d.incrementCount(),a=!0;break}a||i.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,r){let a=4537077*i.getValue()+r.getValue(),d=new String(a).toString(),h=new ot;for(let x=13-d.length;x>0;x--)h.append("0");h.append(d);let g=0;for(let x=0;x<13;x++){let S=h.charAt(x).charCodeAt(0)-48;g+=x&1?S:3*S}g=10-g%10,g===10&&(g=0),h.append(g.toString());let p=i.getFinderPattern().getResultPoints(),E=r.getFinderPattern().getResultPoints();return new Ze(h.toString(),null,0,[p[0],p[1],E[0],E[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(i,r){let a=(i.getChecksumPortion()+16*r.getChecksumPortion())%79,d=9*i.getFinderPattern().getValue()+r.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,a===d}decodePair(i,r,a,d){try{let h=this.findFinderPattern(i,r),g=this.parseFoundFinderPattern(i,a,r,h),p=d==null?null:d.get(de.NEED_RESULT_POINT_CALLBACK);if(p!=null){let S=(h[0]+h[1])/2;r&&(S=i.getSize()-1-S),p.foundPossibleResultPoint(new Te(S,a))}let E=this.decodeDataCharacter(i,g,!0),x=this.decodeDataCharacter(i,g,!1);return new cu(1597*E.getValue()+x.getValue(),E.getChecksumPortion()+4*x.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(i,r,a){let d=this.getDataCharacterCounters();for(let G=0;G<d.length;G++)d[G]=0;if(a)Be.recordPatternInReverse(i,r.getStartEnd()[0],d);else{Be.recordPattern(i,r.getStartEnd()[1]+1,d);for(let G=0,Q=d.length-1;G<Q;G++,Q--){let ue=d[G];d[G]=d[Q],d[Q]=ue}}let h=a?16:15,g=st.sum(new Int32Array(d))/h,p=this.getOddCounts(),E=this.getEvenCounts(),x=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let G=0;G<d.length;G++){let Q=d[G]/g,ue=Math.floor(Q+.5);ue<1?ue=1:ue>8&&(ue=8);let he=Math.floor(G/2);G&1?(E[he]=ue,S[he]=Q-ue):(p[he]=ue,x[he]=Q-ue)}this.adjustOddEvenCounts(a,h);let I=0,R=0;for(let G=p.length-1;G>=0;G--)R*=9,R+=p[G],I+=p[G];let P=0,U=0;for(let G=E.length-1;G>=0;G--)P*=9,P+=E[G],U+=E[G];let H=R+3*P;if(a){if(I&1||I>12||I<4)throw new ee;let G=(12-I)/2,Q=sn.OUTSIDE_ODD_WIDEST[G],ue=9-Q,he=be.getRSSvalue(p,Q,!1),ae=be.getRSSvalue(E,ue,!0),dt=sn.OUTSIDE_EVEN_TOTAL_SUBSET[G],qe=sn.OUTSIDE_GSUM[G];return new re(he*dt+ae+qe,H)}else{if(U&1||U>10||U<4)throw new ee;let G=(10-U)/2,Q=sn.INSIDE_ODD_WIDEST[G],ue=9-Q,he=be.getRSSvalue(p,Q,!0),ae=be.getRSSvalue(E,ue,!1),dt=sn.INSIDE_ODD_TOTAL_SUBSET[G],qe=sn.INSIDE_GSUM[G];return new re(ae*dt+he+qe,H)}}findFinderPattern(i,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let d=i.getSize(),h=!1,g=0;for(;g<d&&(h=!i.get(g),r!==h);)g++;let p=0,E=g;for(let x=g;x<d;x++)if(i.get(x)!==h)a[p]++;else{if(p===3){if(k.isFinderPattern(a))return[E,x];E+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new ee}parseFoundFinderPattern(i,r,a,d){let h=i.get(d[0]),g=d[0]-1;for(;g>=0&&h!==i.get(g);)g--;g++;const p=d[0]-g,E=this.getDecodeFinderCounters(),x=new Int32Array(E.length);j.arraycopy(E,0,x,1,E.length-1),x[0]=p;const S=this.parseFinderValue(x,sn.FINDER_PATTERNS);let I=g,R=d[1];return a&&(I=i.getSize()-1-I,R=i.getSize()-1-R),new we(S,[g,d[1]],I,R,r)}adjustOddEvenCounts(i,r){let a=st.sum(new Int32Array(this.getOddCounts())),d=st.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1,p=!1,E=!1;i?(a>12?g=!0:a<4&&(h=!0),d>12?E=!0:d<4&&(p=!0)):(a>11?g=!0:a<5&&(h=!0),d>10?E=!0:d<4&&(p=!0));let x=a+d-r,S=(a&1)===(i?1:0),I=(d&1)===1;if(x===1)if(S){if(I)throw new ee;g=!0}else{if(!I)throw new ee;E=!0}else if(x===-1)if(S){if(I)throw new ee;h=!0}else{if(!I)throw new ee;p=!0}else if(x===0){if(S){if(!I)throw new ee;a<d?(h=!0,E=!0):(g=!0,p=!0)}else if(I)throw new ee}else throw new ee;if(h){if(g)throw new ee;k.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&k.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(E)throw new ee;k.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&k.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}sn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],sn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],sn.OUTSIDE_GSUM=[0,161,961,2015,2715],sn.INSIDE_GSUM=[0,336,1036,1516],sn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],sn.INSIDE_ODD_WIDEST=[2,4,6,8],sn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vo extends Be{constructor(i,r){super(),this.readers=[],this.verbose=r===!0;const a=i?i.get(de.POSSIBLE_FORMATS):null,d=i&&i.get(de.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ie.EAN_13)||a.includes(ie.UPC_A)||a.includes(ie.EAN_8)||a.includes(ie.UPC_E))&&this.readers.push(new sr(i)),a.includes(ie.CODE_39)&&this.readers.push(new $t(d)),a.includes(ie.CODE_128)&&this.readers.push(new pe),a.includes(ie.ITF)&&this.readers.push(new Rt),a.includes(ie.RSS_14)&&this.readers.push(new sn),a.includes(ie.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new sr(i)),this.readers.push(new $t),this.readers.push(new sr(i)),this.readers.push(new pe),this.readers.push(new Rt),this.readers.push(new sn),this.readers.push(new oe(this.verbose)))}decodeRow(i,r,a){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(i,r,a)}catch{}throw new ee}reset(){this.readers.forEach(i=>i.reset())}}class Xr extends Pt{constructor(i=500,r){super(new vo(r),i,r)}}class It{constructor(i,r,a){this.ecCodewords=i,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class St{constructor(i,r){this.count=i,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class it{constructor(i,r,a,d,h,g){this.versionNumber=i,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=h,this.ecBlocks=g;let p=0;const E=g.getECCodewords(),x=g.getECBlocks();for(let S of x)p+=S.getCount()*(S.getDataCodewords()+E);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,r){if(i&1||r&1)throw new K;for(let a of it.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===r)return a;throw new K}toString(){return""+this.versionNumber}static buildVersions(){return[new it(1,10,10,8,8,new It(5,new St(1,3))),new it(2,12,12,10,10,new It(7,new St(1,5))),new it(3,14,14,12,12,new It(10,new St(1,8))),new it(4,16,16,14,14,new It(12,new St(1,12))),new it(5,18,18,16,16,new It(14,new St(1,18))),new it(6,20,20,18,18,new It(18,new St(1,22))),new it(7,22,22,20,20,new It(20,new St(1,30))),new it(8,24,24,22,22,new It(24,new St(1,36))),new it(9,26,26,24,24,new It(28,new St(1,44))),new it(10,32,32,14,14,new It(36,new St(1,62))),new it(11,36,36,16,16,new It(42,new St(1,86))),new it(12,40,40,18,18,new It(48,new St(1,114))),new it(13,44,44,20,20,new It(56,new St(1,144))),new it(14,48,48,22,22,new It(68,new St(1,174))),new it(15,52,52,24,24,new It(42,new St(2,102))),new it(16,64,64,14,14,new It(56,new St(2,140))),new it(17,72,72,16,16,new It(36,new St(4,92))),new it(18,80,80,18,18,new It(48,new St(4,114))),new it(19,88,88,20,20,new It(56,new St(4,144))),new it(20,96,96,22,22,new It(68,new St(4,174))),new it(21,104,104,24,24,new It(56,new St(6,136))),new it(22,120,120,18,18,new It(68,new St(6,175))),new it(23,132,132,20,20,new It(62,new St(8,163))),new it(24,144,144,22,22,new It(62,new St(8,156),new St(2,155))),new it(25,8,18,6,16,new It(7,new St(1,5))),new it(26,8,32,6,14,new It(11,new St(1,10))),new it(27,12,26,10,24,new It(14,new St(1,16))),new it(28,12,36,10,16,new It(18,new St(1,22))),new it(29,16,36,14,16,new It(24,new St(1,32))),new it(30,16,48,14,22,new It(28,new St(1,49)))]}}it.VERSIONS=it.buildVersions();class xt{constructor(i){const r=i.getHeight();if(r<8||r>144||r&1)throw new K;this.version=xt.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new At(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const r=i.getHeight(),a=i.getWidth();return it.getVersionForDimensions(r,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,d=0;const h=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let p=!1,E=!1,x=!1,S=!1;do if(a===h&&d===0&&!p)i[r++]=this.readCorner1(h,g)&255,a-=2,d+=2,p=!0;else if(a===h-2&&d===0&&g&3&&!E)i[r++]=this.readCorner2(h,g)&255,a-=2,d+=2,E=!0;else if(a===h+4&&d===2&&!(g&7)&&!x)i[r++]=this.readCorner3(h,g)&255,a-=2,d+=2,x=!0;else if(a===h-2&&d===0&&(g&7)===4&&!S)i[r++]=this.readCorner4(h,g)&255,a-=2,d+=2,S=!0;else{do a<h&&d>=0&&!this.readMappingMatrix.get(d,a)&&(i[r++]=this.readUtah(a,d,h,g)&255),a-=2,d+=2;while(a>=0&&d<g);a+=1,d+=3;do a>=0&&d<g&&!this.readMappingMatrix.get(d,a)&&(i[r++]=this.readUtah(a,d,h,g)&255),a+=2,d-=2;while(a<h&&d>=0);a+=3,d+=1}while(a<h||d<g);if(r!==this.version.getTotalCodewords())throw new K;return i}readModule(i,r,a,d){return i<0&&(i+=a,r+=4-(a+4&7)),r<0&&(r+=d,i+=4-(d+4&7)),this.readMappingMatrix.set(r,i),this.mappingBitMatrix.get(r,i)}readUtah(i,r,a,d){let h=0;return this.readModule(i-2,r-2,a,d)&&(h|=1),h<<=1,this.readModule(i-2,r-1,a,d)&&(h|=1),h<<=1,this.readModule(i-1,r-2,a,d)&&(h|=1),h<<=1,this.readModule(i-1,r-1,a,d)&&(h|=1),h<<=1,this.readModule(i-1,r,a,d)&&(h|=1),h<<=1,this.readModule(i,r-2,a,d)&&(h|=1),h<<=1,this.readModule(i,r-1,a,d)&&(h|=1),h<<=1,this.readModule(i,r,a,d)&&(h|=1),h}readCorner1(i,r){let a=0;return this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,1,i,r)&&(a|=1),a<<=1,this.readModule(i-1,2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(2,r-1,i,r)&&(a|=1),a<<=1,this.readModule(3,r-1,i,r)&&(a|=1),a}readCorner2(i,r){let a=0;return this.readModule(i-3,0,i,r)&&(a|=1),a<<=1,this.readModule(i-2,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(0,r-4,i,r)&&(a|=1),a<<=1,this.readModule(0,r-3,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a}readCorner3(i,r){let a=0;return this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(0,r-3,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-3,i,r)&&(a|=1),a<<=1,this.readModule(1,r-2,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a}readCorner4(i,r){let a=0;return this.readModule(i-3,0,i,r)&&(a|=1),a<<=1,this.readModule(i-2,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(2,r-1,i,r)&&(a|=1),a<<=1,this.readModule(3,r-1,i,r)&&(a|=1),a}extractDataRegion(i){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==r)throw new b("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),g=r/d|0,p=a/h|0,E=g*d,x=p*h,S=new At(x,E);for(let I=0;I<g;++I){const R=I*d;for(let P=0;P<p;++P){const U=P*h;for(let H=0;H<d;++H){const G=I*(d+2)+1+H,Q=R+H;for(let ue=0;ue<h;++ue){const he=P*(h+2)+1+ue;if(i.get(he,G)){const ae=U+ue;S.set(ae,Q)}}}}}return S}}class Vt{constructor(i,r){this.numDataCodewords=i,this.codewords=r}static getDataBlocks(i,r){const a=r.getECBlocks();let d=0;const h=a.getECBlocks();for(let H of h)d+=H.getCount();const g=new Array(d);let p=0;for(let H of h)for(let G=0;G<H.getCount();G++){const Q=H.getDataCodewords(),ue=a.getECCodewords()+Q;g[p++]=new Vt(Q,new Uint8Array(ue))}const x=g[0].codewords.length-a.getECCodewords(),S=x-1;let I=0;for(let H=0;H<S;H++)for(let G=0;G<p;G++)g[G].codewords[H]=i[I++];const R=r.getVersionNumber()===24,P=R?8:p;for(let H=0;H<P;H++)g[H].codewords[x-1]=i[I++];const U=g[0].codewords.length;for(let H=x;H<U;H++)for(let G=0;G<p;G++){const Q=R?(G+8)%p:G,ue=R&&Q>7?H-1:H;g[Q].codewords[ue]=i[I++]}if(I!==i.length)throw new b;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ar{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new b(""+i);let r=0,a=this.bitOffset,d=this.byteOffset;const h=this.bytes;if(a>0){const g=8-a,p=i<g?i:g,E=g-p,x=255>>8-p<<E;r=(h[d]&x)>>E,i-=p,a+=p,a===8&&(a=0,d++)}if(i>0){for(;i>=8;)r=r<<8|h[d]&255,d++,i-=8;if(i>0){const g=8-i,p=255>>g<<g;r=r<<i|(h[d]&p)>>g,a+=i}}return this.bitOffset=a,this.byteOffset=d,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Yt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(Yt||(Yt={}));class oi{static decode(i){const r=new ar(i),a=new ot,d=new ot,h=new Array;let g=Yt.ASCII_ENCODE;do if(g===Yt.ASCII_ENCODE)g=this.decodeAsciiSegment(r,a,d);else{switch(g){case Yt.C40_ENCODE:this.decodeC40Segment(r,a);break;case Yt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Yt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Yt.BASE256_ENCODE:this.decodeBase256Segment(r,a,h);break;default:throw new K}g=Yt.ASCII_ENCODE}while(g!==Yt.PAD_ENCODE&&r.available()>0);return d.length()>0&&a.append(d.toString()),new rt(i,a.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,r,a){let d=!1;do{let h=i.readBits(8);if(h===0)throw new K;if(h<=128)return d&&(h+=128),r.append(String.fromCharCode(h-1)),Yt.ASCII_ENCODE;if(h===129)return Yt.PAD_ENCODE;if(h<=229){const g=h-130;g<10&&r.append("0"),r.append(""+g)}else switch(h){case 230:return Yt.C40_ENCODE;case 231:return Yt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return Yt.ANSIX12_ENCODE;case 239:return Yt.TEXT_ENCODE;case 240:return Yt.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new K;break}}while(i.available()>0);return Yt.ASCII_ENCODE}static decodeC40Segment(i,r){let a=!1;const d=[];let h=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let p=0;p<3;p++){const E=d[p];switch(h){case 0:if(E<3)h=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else throw new K;break;case 1:a?(r.append(String.fromCharCode(E+128)),a=!1):r.append(String.fromCharCode(E)),h=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else switch(E){case 27:r.append("");break;case 30:a=!0;break;default:throw new K}h=0;break;case 3:a?(r.append(String.fromCharCode(E+224)),a=!1):r.append(String.fromCharCode(E+96)),h=0;break;default:throw new K}}}while(i.available()>0)}static decodeTextSegment(i,r){let a=!1,d=[],h=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let p=0;p<3;p++){const E=d[p];switch(h){case 0:if(E<3)h=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else throw new K;break;case 1:a?(r.append(String.fromCharCode(E+128)),a=!1):r.append(String.fromCharCode(E)),h=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else switch(E){case 27:r.append("");break;case 30:a=!0;break;default:throw new K}h=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x),h=0}else throw new K;break;default:throw new K}}}while(i.available()>0)}static decodeAnsiX12Segment(i,r){const a=[];do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),a);for(let h=0;h<3;h++){const g=a[h];switch(g){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(g<14)r.append(String.fromCharCode(g+44));else if(g<40)r.append(String.fromCharCode(g+51));else throw new K;break}}}while(i.available()>0)}static parseTwoBytes(i,r,a){let d=(i<<8)+r-1,h=Math.floor(d/1600);a[0]=h,d-=h*1600,h=Math.floor(d/40),a[1]=h,a[2]=d-h*40}static decodeEdifactSegment(i,r){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let d=i.readBits(6);if(d===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}d&32||(d|=64),r.append(String.fromCharCode(d))}}while(i.available()>0)}static decodeBase256Segment(i,r,a){let d=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),d++);let g;if(h===0?g=i.available()/8|0:h<250?g=h:g=250*(h-249)+this.unrandomize255State(i.readBits(8),d++),g<0)throw new K;const p=new Uint8Array(g);for(let E=0;E<g;E++){if(i.available()<8)throw new K;p[E]=this.unrandomize255State(i.readBits(8),d++)}a.push(p);try{r.append($e.decode(p,Ae.ISO88591))}catch(E){throw new ii("Platform does not support required encoding: "+E.message)}}static unrandomize255State(i,r){const a=149*r%255+1,d=i-a;return d>=0?d:d+256}}oi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],oi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],oi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],oi.TEXT_SHIFT2_SET_CHARS=oi.C40_SHIFT2_SET_CHARS,oi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ma{constructor(){this.rsDecoder=new yo(gt.DATA_MATRIX_FIELD_256)}decode(i){const r=new xt(i),a=r.getVersion(),d=r.readCodewords(),h=Vt.getDataBlocks(d,a);let g=0;for(let x of h)g+=x.getNumDataCodewords();const p=new Uint8Array(g),E=h.length;for(let x=0;x<E;x++){const S=h[x],I=S.getCodewords(),R=S.getNumDataCodewords();this.correctErrors(I,R);for(let P=0;P<R;P++)p[P*E+x]=I[P]}return oi.decode(p)}correctErrors(i,r){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-r)}catch{throw new V}for(let d=0;d<r;d++)i[d]=a[d]}}class Le{constructor(i){this.image=i,this.rectangleDetector=new Ti(this.image)}detect(){const i=this.rectangleDetector.detect();let r=this.detectSolid1(i);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ee;r=this.shiftToModuleCenter(r);const a=r[0],d=r[1],h=r[2],g=r[3];let p=this.transitionsBetween(a,g)+1,E=this.transitionsBetween(h,g)+1;(p&1)===1&&(p+=1),(E&1)===1&&(E+=1),4*p<7*E&&4*E<7*p&&(p=E=Math.max(p,E));let x=Le.sampleGrid(this.image,a,d,h,g,p,E);return new Do(x,[a,d,h,g])}static shiftPoint(i,r,a){let d=(r.getX()-i.getX())/(a+1),h=(r.getY()-i.getY())/(a+1);return new Te(i.getX()+d,i.getY()+h)}static moveAway(i,r,a){let d=i.getX(),h=i.getY();return d<r?d-=1:d+=1,h<a?h-=1:h+=1,new Te(d,h)}detectSolid1(i){let r=i[0],a=i[1],d=i[3],h=i[2],g=this.transitionsBetween(r,a),p=this.transitionsBetween(a,d),E=this.transitionsBetween(d,h),x=this.transitionsBetween(h,r),S=g,I=[h,r,a,d];return S>p&&(S=p,I[0]=r,I[1]=a,I[2]=d,I[3]=h),S>E&&(S=E,I[0]=a,I[1]=d,I[2]=h,I[3]=r),S>x&&(I[0]=d,I[1]=h,I[2]=r,I[3]=a),I}detectSolid2(i){let r=i[0],a=i[1],d=i[2],h=i[3],g=this.transitionsBetween(r,h),p=Le.shiftPoint(a,d,(g+1)*4),E=Le.shiftPoint(d,a,(g+1)*4),x=this.transitionsBetween(p,r),S=this.transitionsBetween(E,h);return x<S?(i[0]=r,i[1]=a,i[2]=d,i[3]=h):(i[0]=a,i[1]=d,i[2]=h,i[3]=r),i}correctTopRight(i){let r=i[0],a=i[1],d=i[2],h=i[3],g=this.transitionsBetween(r,h),p=this.transitionsBetween(a,h),E=Le.shiftPoint(r,a,(p+1)*4),x=Le.shiftPoint(d,a,(g+1)*4);g=this.transitionsBetween(E,h),p=this.transitionsBetween(x,h);let S=new Te(h.getX()+(d.getX()-a.getX())/(g+1),h.getY()+(d.getY()-a.getY())/(g+1)),I=new Te(h.getX()+(r.getX()-a.getX())/(p+1),h.getY()+(r.getY()-a.getY())/(p+1));if(!this.isValid(S))return this.isValid(I)?I:null;if(!this.isValid(I))return S;let R=this.transitionsBetween(E,S)+this.transitionsBetween(x,S),P=this.transitionsBetween(E,I)+this.transitionsBetween(x,I);return R>P?S:I}shiftToModuleCenter(i){let r=i[0],a=i[1],d=i[2],h=i[3],g=this.transitionsBetween(r,h)+1,p=this.transitionsBetween(d,h)+1,E=Le.shiftPoint(r,a,p*4),x=Le.shiftPoint(d,a,g*4);g=this.transitionsBetween(E,h)+1,p=this.transitionsBetween(x,h)+1,(g&1)===1&&(g+=1),(p&1)===1&&(p+=1);let S=(r.getX()+a.getX()+d.getX()+h.getX())/4,I=(r.getY()+a.getY()+d.getY()+h.getY())/4;r=Le.moveAway(r,S,I),a=Le.moveAway(a,S,I),d=Le.moveAway(d,S,I),h=Le.moveAway(h,S,I);let R,P;return E=Le.shiftPoint(r,a,p*4),E=Le.shiftPoint(E,h,g*4),R=Le.shiftPoint(a,r,p*4),R=Le.shiftPoint(R,d,g*4),x=Le.shiftPoint(d,h,p*4),x=Le.shiftPoint(x,a,g*4),P=Le.shiftPoint(h,d,p*4),P=Le.shiftPoint(P,r,g*4),[E,R,x,P]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,r,a,d,h,g,p){return Ii.getInstance().sampleGrid(i,g,p,.5,.5,g-.5,.5,g-.5,p-.5,.5,p-.5,r.getX(),r.getY(),h.getX(),h.getY(),d.getX(),d.getY(),a.getX(),a.getY())}transitionsBetween(i,r){let a=Math.trunc(i.getX()),d=Math.trunc(i.getY()),h=Math.trunc(r.getX()),g=Math.trunc(r.getY()),p=Math.abs(g-d)>Math.abs(h-a);if(p){let H=a;a=d,d=H,H=h,h=g,g=H}let E=Math.abs(h-a),x=Math.abs(g-d),S=-E/2,I=d<g?1:-1,R=a<h?1:-1,P=0,U=this.image.get(p?d:a,p?a:d);for(let H=a,G=d;H!==h;H+=R){let Q=this.image.get(p?G:H,p?H:G);if(Q!==U&&(P++,U=Q),S+=x,S>0){if(G===g)break;G+=I,S-=E}}return P}}class Dt{constructor(){this.decoder=new Ma}decode(i,r=null){let a,d;if(r!=null&&r.has(de.PURE_BARCODE)){const x=Dt.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(x),d=Dt.NO_POINTS}else{const x=new Le(i.getBlackMatrix()).detect();a=this.decoder.decode(x.getBits()),d=x.getPoints()}const h=a.getRawBytes(),g=new Ze(a.getText(),h,8*h.length,d,ie.DATA_MATRIX,j.currentTimeMillis()),p=a.getByteSegments();p!=null&&g.putMetadata(tt.BYTE_SEGMENTS,p);const E=a.getECLevel();return E!=null&&g.putMetadata(tt.ERROR_CORRECTION_LEVEL,E),g}reset(){}static extractPureBits(i){const r=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(r==null||a==null)throw new ee;const d=this.moduleSize(r,i);let h=r[1];const g=a[1];let p=r[0];const x=(a[0]-p+1)/d,S=(g-h+1)/d;if(x<=0||S<=0)throw new ee;const I=d/2;h+=I,p+=I;const R=new At(x,S);for(let P=0;P<S;P++){const U=h+P*d;for(let H=0;H<x;H++)i.get(p+H*d,U)&&R.set(H,P)}return R}static moduleSize(i,r){const a=r.getWidth();let d=i[0];const h=i[1];for(;d<a&&r.get(d,h);)d++;if(d===a)throw new ee;const g=d-i[0];if(g===0)throw new ee;return g}}Dt.NO_POINTS=[];class La extends Pt{constructor(i=500){super(new Dt,i)}}var to;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(to||(to={}));class lt{constructor(i,r,a){this.value=i,this.stringValue=r,this.bits=a,lt.FOR_BITS.set(a,this),lt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return lt.L;case"M":return lt.M;case"Q":return lt.Q;case"H":return lt.H;default:throw new N(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof lt))return!1;const r=i;return this.value===r.value}static forBits(i){if(i<0||i>=lt.FOR_BITS.size)throw new b;return lt.FOR_BITS.get(i)}}lt.FOR_BITS=new Map,lt.FOR_VALUE=new Map,lt.L=new lt(to.L,"L",1),lt.M=new lt(to.M,"M",0),lt.Q=new lt(to.Q,"Q",3),lt.H=new lt(to.H,"H",2);class Ln{constructor(i){this.errorCorrectionLevel=lt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,r){return B.bitCount(i^r)}static decodeFormatInformation(i,r){const a=Ln.doDecodeFormatInformation(i,r);return a!==null?a:Ln.doDecodeFormatInformation(i^Ln.FORMAT_INFO_MASK_QR,r^Ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,r){let a=Number.MAX_SAFE_INTEGER,d=0;for(const h of Ln.FORMAT_INFO_DECODE_LOOKUP){const g=h[0];if(g===i||g===r)return new Ln(h[1]);let p=Ln.numBitsDiffering(i,g);p<a&&(d=h[1],a=p),i!==r&&(p=Ln.numBitsDiffering(r,g),p<a&&(d=h[1],a=p))}return a<=3?new Ln(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Ln))return!1;const r=i;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Ln.FORMAT_INFO_MASK_QR=21522,Ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(i,...r){this.ecCodewordsPerBlock=i,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const r=this.ecBlocks;for(const a of r)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(i,r){this.count=i,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(i,r,...a){this.versionNumber=i,this.alignmentPatternCenters=r,this.ecBlocks=a;let d=0;const h=a[0].getECCodewordsPerBlock(),g=a[0].getECBlocks();for(const p of g)d+=p.getCount()*(p.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new K;try{return this.getVersionForNumber((i-17)/4)}catch{throw new K}}static getVersionForNumber(i){if(i<1||i>40)throw new b;return xe.VERSIONS[i-1]}static decodeVersionInformation(i){let r=Number.MAX_SAFE_INTEGER,a=0;for(let d=0;d<xe.VERSION_DECODE_INFO.length;d++){const h=xe.VERSION_DECODE_INFO[d];if(h===i)return xe.getVersionForNumber(d+7);const g=Ln.numBitsDiffering(i,h);g<r&&(a=d+7,r=g)}return r<=3?xe.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),r=new At(i);r.setRegion(0,0,9,9),r.setRegion(i-8,0,8,9),r.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let d=0;d<a;d++){const h=this.alignmentPatternCenters[d]-2;for(let g=0;g<a;g++)d===0&&(g===0||g===a-1)||d===a-1&&g===0||r.setRegion(this.alignmentPatternCenters[g]-2,h,5,5)}return r.setRegion(6,9,1,i-17),r.setRegion(9,6,i-17,1),this.versionNumber>6&&(r.setRegion(i-11,0,3,6),r.setRegion(0,i-11,6,3)),r}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new Z(7,new O(1,19)),new Z(10,new O(1,16)),new Z(13,new O(1,13)),new Z(17,new O(1,9))),new xe(2,Int32Array.from([6,18]),new Z(10,new O(1,34)),new Z(16,new O(1,28)),new Z(22,new O(1,22)),new Z(28,new O(1,16))),new xe(3,Int32Array.from([6,22]),new Z(15,new O(1,55)),new Z(26,new O(1,44)),new Z(18,new O(2,17)),new Z(22,new O(2,13))),new xe(4,Int32Array.from([6,26]),new Z(20,new O(1,80)),new Z(18,new O(2,32)),new Z(26,new O(2,24)),new Z(16,new O(4,9))),new xe(5,Int32Array.from([6,30]),new Z(26,new O(1,108)),new Z(24,new O(2,43)),new Z(18,new O(2,15),new O(2,16)),new Z(22,new O(2,11),new O(2,12))),new xe(6,Int32Array.from([6,34]),new Z(18,new O(2,68)),new Z(16,new O(4,27)),new Z(24,new O(4,19)),new Z(28,new O(4,15))),new xe(7,Int32Array.from([6,22,38]),new Z(20,new O(2,78)),new Z(18,new O(4,31)),new Z(18,new O(2,14),new O(4,15)),new Z(26,new O(4,13),new O(1,14))),new xe(8,Int32Array.from([6,24,42]),new Z(24,new O(2,97)),new Z(22,new O(2,38),new O(2,39)),new Z(22,new O(4,18),new O(2,19)),new Z(26,new O(4,14),new O(2,15))),new xe(9,Int32Array.from([6,26,46]),new Z(30,new O(2,116)),new Z(22,new O(3,36),new O(2,37)),new Z(20,new O(4,16),new O(4,17)),new Z(24,new O(4,12),new O(4,13))),new xe(10,Int32Array.from([6,28,50]),new Z(18,new O(2,68),new O(2,69)),new Z(26,new O(4,43),new O(1,44)),new Z(24,new O(6,19),new O(2,20)),new Z(28,new O(6,15),new O(2,16))),new xe(11,Int32Array.from([6,30,54]),new Z(20,new O(4,81)),new Z(30,new O(1,50),new O(4,51)),new Z(28,new O(4,22),new O(4,23)),new Z(24,new O(3,12),new O(8,13))),new xe(12,Int32Array.from([6,32,58]),new Z(24,new O(2,92),new O(2,93)),new Z(22,new O(6,36),new O(2,37)),new Z(26,new O(4,20),new O(6,21)),new Z(28,new O(7,14),new O(4,15))),new xe(13,Int32Array.from([6,34,62]),new Z(26,new O(4,107)),new Z(22,new O(8,37),new O(1,38)),new Z(24,new O(8,20),new O(4,21)),new Z(22,new O(12,11),new O(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new Z(30,new O(3,115),new O(1,116)),new Z(24,new O(4,40),new O(5,41)),new Z(20,new O(11,16),new O(5,17)),new Z(24,new O(11,12),new O(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new Z(22,new O(5,87),new O(1,88)),new Z(24,new O(5,41),new O(5,42)),new Z(30,new O(5,24),new O(7,25)),new Z(24,new O(11,12),new O(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new Z(24,new O(5,98),new O(1,99)),new Z(28,new O(7,45),new O(3,46)),new Z(24,new O(15,19),new O(2,20)),new Z(30,new O(3,15),new O(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new Z(28,new O(1,107),new O(5,108)),new Z(28,new O(10,46),new O(1,47)),new Z(28,new O(1,22),new O(15,23)),new Z(28,new O(2,14),new O(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new Z(30,new O(5,120),new O(1,121)),new Z(26,new O(9,43),new O(4,44)),new Z(28,new O(17,22),new O(1,23)),new Z(28,new O(2,14),new O(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new Z(28,new O(3,113),new O(4,114)),new Z(26,new O(3,44),new O(11,45)),new Z(26,new O(17,21),new O(4,22)),new Z(26,new O(9,13),new O(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new Z(28,new O(3,107),new O(5,108)),new Z(26,new O(3,41),new O(13,42)),new Z(30,new O(15,24),new O(5,25)),new Z(28,new O(15,15),new O(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new Z(28,new O(4,116),new O(4,117)),new Z(26,new O(17,42)),new Z(28,new O(17,22),new O(6,23)),new Z(30,new O(19,16),new O(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new Z(28,new O(2,111),new O(7,112)),new Z(28,new O(17,46)),new Z(30,new O(7,24),new O(16,25)),new Z(24,new O(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new Z(30,new O(4,121),new O(5,122)),new Z(28,new O(4,47),new O(14,48)),new Z(30,new O(11,24),new O(14,25)),new Z(30,new O(16,15),new O(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new Z(30,new O(6,117),new O(4,118)),new Z(28,new O(6,45),new O(14,46)),new Z(30,new O(11,24),new O(16,25)),new Z(30,new O(30,16),new O(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new Z(26,new O(8,106),new O(4,107)),new Z(28,new O(8,47),new O(13,48)),new Z(30,new O(7,24),new O(22,25)),new Z(30,new O(22,15),new O(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new Z(28,new O(10,114),new O(2,115)),new Z(28,new O(19,46),new O(4,47)),new Z(28,new O(28,22),new O(6,23)),new Z(30,new O(33,16),new O(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new Z(30,new O(8,122),new O(4,123)),new Z(28,new O(22,45),new O(3,46)),new Z(30,new O(8,23),new O(26,24)),new Z(30,new O(12,15),new O(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new O(3,117),new O(10,118)),new Z(28,new O(3,45),new O(23,46)),new Z(30,new O(4,24),new O(31,25)),new Z(30,new O(11,15),new O(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new O(7,116),new O(7,117)),new Z(28,new O(21,45),new O(7,46)),new Z(30,new O(1,23),new O(37,24)),new Z(30,new O(19,15),new O(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new O(5,115),new O(10,116)),new Z(28,new O(19,47),new O(10,48)),new Z(30,new O(15,24),new O(25,25)),new Z(30,new O(23,15),new O(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new O(13,115),new O(3,116)),new Z(28,new O(2,46),new O(29,47)),new Z(30,new O(42,24),new O(1,25)),new Z(30,new O(23,15),new O(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new O(17,115)),new Z(28,new O(10,46),new O(23,47)),new Z(30,new O(10,24),new O(35,25)),new Z(30,new O(19,15),new O(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new O(17,115),new O(1,116)),new Z(28,new O(14,46),new O(21,47)),new Z(30,new O(29,24),new O(19,25)),new Z(30,new O(11,15),new O(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new O(13,115),new O(6,116)),new Z(28,new O(14,46),new O(23,47)),new Z(30,new O(44,24),new O(7,25)),new Z(30,new O(59,16),new O(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new O(12,121),new O(7,122)),new Z(28,new O(12,47),new O(26,48)),new Z(30,new O(39,24),new O(14,25)),new Z(30,new O(22,15),new O(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new O(6,121),new O(14,122)),new Z(28,new O(6,47),new O(34,48)),new Z(30,new O(46,24),new O(10,25)),new Z(30,new O(2,15),new O(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new O(17,122),new O(4,123)),new Z(28,new O(29,46),new O(14,47)),new Z(30,new O(49,24),new O(10,25)),new Z(30,new O(24,15),new O(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new O(4,122),new O(18,123)),new Z(28,new O(13,46),new O(32,47)),new Z(30,new O(48,24),new O(14,25)),new Z(30,new O(42,15),new O(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new O(20,117),new O(4,118)),new Z(28,new O(40,47),new O(7,48)),new Z(30,new O(43,24),new O(22,25)),new Z(30,new O(10,15),new O(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new O(19,118),new O(6,119)),new Z(28,new O(18,47),new O(31,48)),new Z(30,new O(34,24),new O(34,25)),new Z(30,new O(20,15),new O(61,16)))];var Xt;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(Xt||(Xt={}));class Dn{constructor(i,r){this.value=i,this.isMasked=r}unmaskBitMatrix(i,r){for(let a=0;a<r;a++)for(let d=0;d<r;d++)this.isMasked(a,d)&&i.flip(d,a)}}Dn.values=new Map([[Xt.DATA_MASK_000,new Dn(Xt.DATA_MASK_000,(T,i)=>(T+i&1)===0)],[Xt.DATA_MASK_001,new Dn(Xt.DATA_MASK_001,(T,i)=>(T&1)===0)],[Xt.DATA_MASK_010,new Dn(Xt.DATA_MASK_010,(T,i)=>i%3===0)],[Xt.DATA_MASK_011,new Dn(Xt.DATA_MASK_011,(T,i)=>(T+i)%3===0)],[Xt.DATA_MASK_100,new Dn(Xt.DATA_MASK_100,(T,i)=>(Math.floor(T/2)+Math.floor(i/3)&1)===0)],[Xt.DATA_MASK_101,new Dn(Xt.DATA_MASK_101,(T,i)=>T*i%6===0)],[Xt.DATA_MASK_110,new Dn(Xt.DATA_MASK_110,(T,i)=>T*i%6<3)],[Xt.DATA_MASK_111,new Dn(Xt.DATA_MASK_111,(T,i)=>(T+i+T*i%3&1)===0)]]);class Qr{constructor(i){const r=i.getHeight();if(r<21||(r&3)!==1)throw new K;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const r=this.bitMatrix.getHeight();let a=0;const d=r-7;for(let h=r-1;h>=d;h--)a=this.copyBit(8,h,a);for(let h=r-8;h<r;h++)a=this.copyBit(h,8,a);if(this.parsedFormatInfo=Ln.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new K}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),r=Math.floor((i-17)/4);if(r<=6)return xe.getVersionForNumber(r);let a=0;const d=i-11;for(let g=5;g>=0;g--)for(let p=i-9;p>=d;p--)a=this.copyBit(p,g,a);let h=xe.decodeVersionInformation(a);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;a=0;for(let g=5;g>=0;g--)for(let p=i-9;p>=d;p--)a=this.copyBit(g,p,a);if(h=xe.decodeVersionInformation(a),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new K}copyBit(i,r,a){return(this.isMirror?this.bitMatrix.get(r,i):this.bitMatrix.get(i,r))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),r=this.readVersion(),a=Dn.values.get(i.getDataMask()),d=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,d);const h=r.buildFunctionPattern();let g=!0;const p=new Uint8Array(r.getTotalCodewords());let E=0,x=0,S=0;for(let I=d-1;I>0;I-=2){I===6&&I--;for(let R=0;R<d;R++){const P=g?d-1-R:R;for(let U=0;U<2;U++)h.get(I-U,P)||(S++,x<<=1,this.bitMatrix.get(I-U,P)&&(x|=1),S===8&&(p[E++]=x,S=0,x=0))}g=!g}if(E!==r.getTotalCodewords())throw new K;return p}remask(){if(this.parsedFormatInfo===null)return;const i=Dn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,r)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let r=0,a=i.getWidth();r<a;r++)for(let d=r+1,h=i.getHeight();d<h;d++)i.get(r,d)!==i.get(d,r)&&(i.flip(d,r),i.flip(r,d))}}class Kr{constructor(i,r){this.numDataCodewords=i,this.codewords=r}static getDataBlocks(i,r,a){if(i.length!==r.getTotalCodewords())throw new b;const d=r.getECBlocksForLevel(a);let h=0;const g=d.getECBlocks();for(const U of g)h+=U.getCount();const p=new Array(h);let E=0;for(const U of g)for(let H=0;H<U.getCount();H++){const G=U.getDataCodewords(),Q=d.getECCodewordsPerBlock()+G;p[E++]=new Kr(G,new Uint8Array(Q))}const x=p[0].codewords.length;let S=p.length-1;for(;S>=0&&p[S].codewords.length!==x;)S--;S++;const I=x-d.getECCodewordsPerBlock();let R=0;for(let U=0;U<I;U++)for(let H=0;H<E;H++)p[H].codewords[U]=i[R++];for(let U=S;U<E;U++)p[U].codewords[I]=i[R++];const P=p[0].codewords.length;for(let U=I;U<P;U++)for(let H=0;H<E;H++){const G=H<S?U:U+1;p[H].codewords[G]=i[R++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var On;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(On||(On={}));class Oe{constructor(i,r,a,d){this.value=i,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=d,Oe.FOR_BITS.set(d,this),Oe.FOR_VALUE.set(i,this)}static forBits(i){const r=Oe.FOR_BITS.get(i);if(r===void 0)throw new b;return r}getCharacterCountBits(i){const r=i.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Oe))return!1;const r=i;return this.value===r.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(On.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(On.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(On.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(On.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(On.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(On.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(On.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(On.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(On.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(On.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class jt{static decode(i,r,a,d){const h=new ar(i);let g=new ot;const p=new Array;let E=-1,x=-1;try{let S=null,I=!1,R;do{if(h.available()<4)R=Oe.TERMINATOR;else{const P=h.readBits(4);R=Oe.forBits(P)}switch(R){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:I=!0;break;case Oe.STRUCTURED_APPEND:if(h.available()<16)throw new K;E=h.readBits(8),x=h.readBits(8);break;case Oe.ECI:const P=jt.parseECIValue(h);if(S=ne.getCharacterSetECIByValue(P),S===null)throw new K;break;case Oe.HANZI:const U=h.readBits(4),H=h.readBits(R.getCharacterCountBits(r));U===jt.GB2312_SUBSET&&jt.decodeHanziSegment(h,g,H);break;default:const G=h.readBits(R.getCharacterCountBits(r));switch(R){case Oe.NUMERIC:jt.decodeNumericSegment(h,g,G);break;case Oe.ALPHANUMERIC:jt.decodeAlphanumericSegment(h,g,G,I);break;case Oe.BYTE:jt.decodeByteSegment(h,g,G,S,p,d);break;case Oe.KANJI:jt.decodeKanjiSegment(h,g,G);break;default:throw new K}break}}while(R!==Oe.TERMINATOR)}catch{throw new K}return new rt(i,g.toString(),p.length===0?null:p,a===null?null:a.toString(),E,x)}static decodeHanziSegment(i,r,a){if(a*13>i.available())throw new K;const d=new Uint8Array(2*a);let h=0;for(;a>0;){const g=i.readBits(13);let p=g/96<<8&4294967295|g%96;p<959?p+=41377:p+=42657,d[h]=p>>8&255,d[h+1]=p&255,h+=2,a--}try{r.append($e.decode(d,Ae.GB2312))}catch(g){throw new K(g)}}static decodeKanjiSegment(i,r,a){if(a*13>i.available())throw new K;const d=new Uint8Array(2*a);let h=0;for(;a>0;){const g=i.readBits(13);let p=g/192<<8&4294967295|g%192;p<7936?p+=33088:p+=49472,d[h]=p>>8,d[h+1]=p,h+=2,a--}try{r.append($e.decode(d,Ae.SHIFT_JIS))}catch(g){throw new K(g)}}static decodeByteSegment(i,r,a,d,h,g){if(8*a>i.available())throw new K;const p=new Uint8Array(a);for(let x=0;x<a;x++)p[x]=i.readBits(8);let E;d===null?E=Ae.guessEncoding(p,g):E=d.getName();try{r.append($e.decode(p,E))}catch(x){throw new K(x)}h.push(p)}static toAlphaNumericChar(i){if(i>=jt.ALPHANUMERIC_CHARS.length)throw new K;return jt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,r,a,d){const h=r.length();for(;a>1;){if(i.available()<11)throw new K;const g=i.readBits(11);r.append(jt.toAlphaNumericChar(Math.floor(g/45))),r.append(jt.toAlphaNumericChar(g%45)),a-=2}if(a===1){if(i.available()<6)throw new K;r.append(jt.toAlphaNumericChar(i.readBits(6)))}if(d)for(let g=h;g<r.length();g++)r.charAt(g)==="%"&&(g<r.length()-1&&r.charAt(g+1)==="%"?r.deleteCharAt(g+1):r.setCharAt(g,""))}static decodeNumericSegment(i,r,a){for(;a>=3;){if(i.available()<10)throw new K;const d=i.readBits(10);if(d>=1e3)throw new K;r.append(jt.toAlphaNumericChar(Math.floor(d/100))),r.append(jt.toAlphaNumericChar(Math.floor(d/10)%10)),r.append(jt.toAlphaNumericChar(d%10)),a-=3}if(a===2){if(i.available()<7)throw new K;const d=i.readBits(7);if(d>=100)throw new K;r.append(jt.toAlphaNumericChar(Math.floor(d/10))),r.append(jt.toAlphaNumericChar(d%10))}else if(a===1){if(i.available()<4)throw new K;const d=i.readBits(4);if(d>=10)throw new K;r.append(jt.toAlphaNumericChar(d))}}static parseECIValue(i){const r=i.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const a=i.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=i.readBits(16);return(r&31)<<16&4294967295|a}throw new K}}jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",jt.GB2312_SUBSET=1;class qr{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const r=i[0];i[0]=i[2],i[2]=r}}class Da{constructor(){this.rsDecoder=new yo(gt.QR_CODE_FIELD_256)}decodeBooleanArray(i,r){return this.decodeBitMatrix(At.parseFromBooleanArray(i),r)}decodeBitMatrix(i,r){const a=new Qr(i);let d=null;try{return this.decodeBitMatrixParser(a,r)}catch(h){d=h}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const h=this.decodeBitMatrixParser(a,r);return h.setOther(new qr(!0)),h}catch(h){throw d!==null?d:h}}decodeBitMatrixParser(i,r){const a=i.readVersion(),d=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),g=Kr.getDataBlocks(h,a,d);let p=0;for(const S of g)p+=S.getNumDataCodewords();const E=new Uint8Array(p);let x=0;for(const S of g){const I=S.getCodewords(),R=S.getNumDataCodewords();this.correctErrors(I,R);for(let P=0;P<R;P++)E[x++]=I[P]}return jt.decode(E,a,d,r)}correctErrors(i,r){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-r)}catch{throw new V}for(let d=0;d<r;d++)i[d]=a[d]}}class $r extends Te{constructor(i,r,a){super(i,r),this.estimatedModuleSize=a}aboutEquals(i,r,a){if(Math.abs(r-this.getY())<=i&&Math.abs(a-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,r,a){const d=(this.getX()+r)/2,h=(this.getY()+i)/2,g=(this.estimatedModuleSize+a)/2;return new $r(d,h,g)}}class Fo{constructor(i,r,a,d,h,g,p){this.image=i,this.startX=r,this.startY=a,this.width=d,this.height=h,this.moduleSize=g,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,r=this.height,a=this.width,d=i+a,h=this.startY+r/2,g=new Int32Array(3),p=this.image;for(let E=0;E<r;E++){const x=h+(E&1?-Math.floor((E+1)/2):Math.floor((E+1)/2));g[0]=0,g[1]=0,g[2]=0;let S=i;for(;S<d&&!p.get(S,x);)S++;let I=0;for(;S<d;){if(p.get(S,x))if(I===1)g[1]++;else if(I===2){if(this.foundPatternCross(g)){const R=this.handlePossibleCenter(g,x,S);if(R!==null)return R}g[0]=g[2],g[1]=1,g[2]=0,I=1}else g[++I]++;else I===1&&I++,g[I]++;S++}if(this.foundPatternCross(g)){const R=this.handlePossibleCenter(g,x,d);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(i,r){return r-i[2]-i[1]/2}foundPatternCross(i){const r=this.moduleSize,a=r/2;for(let d=0;d<3;d++)if(Math.abs(r-i[d])>=a)return!1;return!0}crossCheckVertical(i,r,a,d){const h=this.image,g=h.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let E=i;for(;E>=0&&h.get(r,E)&&p[1]<=a;)p[1]++,E--;if(E<0||p[1]>a)return NaN;for(;E>=0&&!h.get(r,E)&&p[0]<=a;)p[0]++,E--;if(p[0]>a)return NaN;for(E=i+1;E<g&&h.get(r,E)&&p[1]<=a;)p[1]++,E++;if(E===g||p[1]>a)return NaN;for(;E<g&&!h.get(r,E)&&p[2]<=a;)p[2]++,E++;if(p[2]>a)return NaN;const x=p[0]+p[1]+p[2];return 5*Math.abs(x-d)>=2*d?NaN:this.foundPatternCross(p)?Fo.centerFromEnd(p,E):NaN}handlePossibleCenter(i,r,a){const d=i[0]+i[1]+i[2],h=Fo.centerFromEnd(i,a),g=this.crossCheckVertical(r,h,2*i[1],d);if(!isNaN(g)){const p=(i[0]+i[1]+i[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(p,g,h))return x.combineEstimate(g,h,p);const E=new $r(h,g,p);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class Ns extends Te{constructor(i,r,a,d){super(i,r),this.estimatedModuleSize=a,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,r,a){if(Math.abs(r-this.getY())<=i&&Math.abs(a-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,r,a){const d=this.count+1,h=(this.count*this.getX()+r)/d,g=(this.count*this.getY()+i)/d,p=(this.count*this.estimatedModuleSize+a)/d;return new Ns(h,g,p,d)}}class Oa{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yn{constructor(i,r){this.image=i,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const r=i!=null&&i.get(de.TRY_HARDER)!==void 0,a=i!=null&&i.get(de.PURE_BARCODE)!==void 0,d=this.image,h=d.getHeight(),g=d.getWidth();let p=Math.floor(3*h/(4*yn.MAX_MODULES));(p<yn.MIN_SKIP||r)&&(p=yn.MIN_SKIP);let E=!1;const x=new Int32Array(5);for(let I=p-1;I<h&&!E;I+=p){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let R=0;for(let P=0;P<g;P++)if(d.get(P,I))(R&1)===1&&R++,x[R]++;else if(R&1)x[R]++;else if(R===4)if(yn.foundPatternCross(x)){if(this.handlePossibleCenter(x,I,P,a)===!0)if(p=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>x[2]&&(I+=H-x[2]-p,P=g-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;continue}R=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;else x[++R]++;yn.foundPatternCross(x)&&this.handlePossibleCenter(x,I,g,a)===!0&&(p=x[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return Te.orderBestPatterns(S),new Oa(S)}static centerFromEnd(i,r){return r-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let r=0;for(let h=0;h<5;h++){const g=i[h];if(g===0)return!1;r+=g}if(r<7)return!1;const a=r/7,d=a/2;return Math.abs(a-i[0])<d&&Math.abs(a-i[1])<d&&Math.abs(3*a-i[2])<3*d&&Math.abs(a-i[3])<d&&Math.abs(a-i[4])<d}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,r,a,d){const h=this.getCrossCheckStateCount();let g=0;const p=this.image;for(;i>=g&&r>=g&&p.get(r-g,i-g);)h[2]++,g++;if(i<g||r<g)return!1;for(;i>=g&&r>=g&&!p.get(r-g,i-g)&&h[1]<=a;)h[1]++,g++;if(i<g||r<g||h[1]>a)return!1;for(;i>=g&&r>=g&&p.get(r-g,i-g)&&h[0]<=a;)h[0]++,g++;if(h[0]>a)return!1;const E=p.getHeight(),x=p.getWidth();for(g=1;i+g<E&&r+g<x&&p.get(r+g,i+g);)h[2]++,g++;if(i+g>=E||r+g>=x)return!1;for(;i+g<E&&r+g<x&&!p.get(r+g,i+g)&&h[3]<a;)h[3]++,g++;if(i+g>=E||r+g>=x||h[3]>=a)return!1;for(;i+g<E&&r+g<x&&p.get(r+g,i+g)&&h[4]<a;)h[4]++,g++;if(h[4]>=a)return!1;const S=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(S-d)<2*d&&yn.foundPatternCross(h)}crossCheckVertical(i,r,a,d){const h=this.image,g=h.getHeight(),p=this.getCrossCheckStateCount();let E=i;for(;E>=0&&h.get(r,E);)p[2]++,E--;if(E<0)return NaN;for(;E>=0&&!h.get(r,E)&&p[1]<=a;)p[1]++,E--;if(E<0||p[1]>a)return NaN;for(;E>=0&&h.get(r,E)&&p[0]<=a;)p[0]++,E--;if(p[0]>a)return NaN;for(E=i+1;E<g&&h.get(r,E);)p[2]++,E++;if(E===g)return NaN;for(;E<g&&!h.get(r,E)&&p[3]<a;)p[3]++,E++;if(E===g||p[3]>=a)return NaN;for(;E<g&&h.get(r,E)&&p[4]<a;)p[4]++,E++;if(p[4]>=a)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-d)>=2*d?NaN:yn.foundPatternCross(p)?yn.centerFromEnd(p,E):NaN}crossCheckHorizontal(i,r,a,d){const h=this.image,g=h.getWidth(),p=this.getCrossCheckStateCount();let E=i;for(;E>=0&&h.get(E,r);)p[2]++,E--;if(E<0)return NaN;for(;E>=0&&!h.get(E,r)&&p[1]<=a;)p[1]++,E--;if(E<0||p[1]>a)return NaN;for(;E>=0&&h.get(E,r)&&p[0]<=a;)p[0]++,E--;if(p[0]>a)return NaN;for(E=i+1;E<g&&h.get(E,r);)p[2]++,E++;if(E===g)return NaN;for(;E<g&&!h.get(E,r)&&p[3]<a;)p[3]++,E++;if(E===g||p[3]>=a)return NaN;for(;E<g&&h.get(E,r)&&p[4]<a;)p[4]++,E++;if(p[4]>=a)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-d)>=d?NaN:yn.foundPatternCross(p)?yn.centerFromEnd(p,E):NaN}handlePossibleCenter(i,r,a,d){const h=i[0]+i[1]+i[2]+i[3]+i[4];let g=yn.centerFromEnd(i,a),p=this.crossCheckVertical(r,Math.floor(g),i[2],h);if(!isNaN(p)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(p),i[2],h),!isNaN(g)&&(!d||this.crossCheckDiagonal(Math.floor(p),Math.floor(g),i[2],h)))){const E=h/7;let x=!1;const S=this.possibleCenters;for(let I=0,R=S.length;I<R;I++){const P=S[I];if(P.aboutEquals(E,p,g)){S[I]=P.combineEstimate(p,g,E),x=!0;break}}if(!x){const I=new Ns(g,p,E);S.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=yn.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,r=0;const a=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=yn.CENTER_QUORUM&&(i++,r+=g.getEstimatedModuleSize());if(i<3)return!1;const d=r/a;let h=0;for(const g of this.possibleCenters)h+=Math.abs(g.getEstimatedModuleSize()-d);return h<=.05*r}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ee;const r=this.possibleCenters;let a;if(i>3){let d=0,h=0;for(const E of this.possibleCenters){const x=E.getEstimatedModuleSize();d+=x,h+=x*x}a=d/i;let g=Math.sqrt(h/i-a*a);r.sort((E,x)=>{const S=Math.abs(x.getEstimatedModuleSize()-a),I=Math.abs(E.getEstimatedModuleSize()-a);return S<I?-1:S>I?1:0});const p=Math.max(.2*a,g);for(let E=0;E<r.length&&r.length>3;E++){const x=r[E];Math.abs(x.getEstimatedModuleSize()-a)>p&&(r.splice(E,1),E--)}}if(r.length>3){let d=0;for(const h of r)d+=h.getEstimatedModuleSize();a=d/r.length,r.sort((h,g)=>{if(g.getCount()===h.getCount()){const p=Math.abs(g.getEstimatedModuleSize()-a),E=Math.abs(h.getEstimatedModuleSize()-a);return p<E?1:p>E?-1:0}else return g.getCount()-h.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}yn.CENTER_QUORUM=2,yn.MIN_SKIP=3,yn.MAX_MODULES=57;class Ve{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(de.NEED_RESULT_POINT_CALLBACK);const a=new yn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const r=i.getTopLeft(),a=i.getTopRight(),d=i.getBottomLeft(),h=this.calculateModuleSize(r,a,d);if(h<1)throw new ee("No pattern found in proccess finder.");const g=Ve.computeDimension(r,a,d,h),p=xe.getProvisionalVersionForDimension(g),E=p.getDimensionForVersion()-7;let x=null;if(p.getAlignmentPatternCenters().length>0){const P=a.getX()-r.getX()+d.getX(),U=a.getY()-r.getY()+d.getY(),H=1-3/E,G=Math.floor(r.getX()+H*(P-r.getX())),Q=Math.floor(r.getY()+H*(U-r.getY()));for(let ue=4;ue<=16;ue<<=1)try{x=this.findAlignmentInRegion(h,G,Q,ue);break}catch(he){if(!(he instanceof ee))throw he}}const S=Ve.createTransform(r,a,d,x,g),I=Ve.sampleGrid(this.image,S,g);let R;return x===null?R=[d,r,a]:R=[d,r,a,x],new Do(I,R)}static createTransform(i,r,a,d,h){const g=h-3.5;let p,E,x,S;return d!==null?(p=d.getX(),E=d.getY(),x=g-3,S=x):(p=r.getX()-i.getX()+a.getX(),E=r.getY()-i.getY()+a.getY(),x=g,S=g),Hn.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,x,S,3.5,g,i.getX(),i.getY(),r.getX(),r.getY(),p,E,a.getX(),a.getY())}static sampleGrid(i,r,a){return Ii.getInstance().sampleGridWithTransform(i,a,a,r)}static computeDimension(i,r,a,d){const h=st.round(Te.distance(i,r)/d),g=st.round(Te.distance(i,a)/d);let p=Math.floor((h+g)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new ee("Dimensions could be not found.")}return p}calculateModuleSize(i,r,a){return(this.calculateModuleSizeOneWay(i,r)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?d/7:isNaN(d)?a/7:(a+d)/14}sizeOfBlackWhiteBlackRunBothWays(i,r,a,d){let h=this.sizeOfBlackWhiteBlackRun(i,r,a,d),g=1,p=i-(a-i);p<0?(g=i/(i-p),p=0):p>=this.image.getWidth()&&(g=(this.image.getWidth()-1-i)/(p-i),p=this.image.getWidth()-1);let E=Math.floor(r-(d-r)*g);return g=1,E<0?(g=r/(r-E),E=0):E>=this.image.getHeight()&&(g=(this.image.getHeight()-1-r)/(E-r),E=this.image.getHeight()-1),p=Math.floor(i+(p-i)*g),h+=this.sizeOfBlackWhiteBlackRun(i,r,p,E),h-1}sizeOfBlackWhiteBlackRun(i,r,a,d){const h=Math.abs(d-r)>Math.abs(a-i);if(h){let P=i;i=r,r=P,P=a,a=d,d=P}const g=Math.abs(a-i),p=Math.abs(d-r);let E=-g/2;const x=i<a?1:-1,S=r<d?1:-1;let I=0;const R=a+x;for(let P=i,U=r;P!==R;P+=x){const H=h?U:P,G=h?P:U;if(I===1===this.image.get(H,G)){if(I===2)return st.distance(P,U,i,r);I++}if(E+=p,E>0){if(U===d)break;U+=S,E-=g}}return I===2?st.distance(a+x,d,i,r):NaN}findAlignmentInRegion(i,r,a,d){const h=Math.floor(d*i),g=Math.max(0,r-h),p=Math.min(this.image.getWidth()-1,r+h);if(p-g<i*3)throw new ee("Alignment top exceeds estimated module size.");const E=Math.max(0,a-h),x=Math.min(this.image.getHeight()-1,a+h);if(x-E<i*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Fo(this.image,g,E,p-g,x-E,i,this.resultPointCallback).find()}}class An{constructor(){this.decoder=new Da}getDecoder(){return this.decoder}decode(i,r){let a,d;if(r!=null&&r.get(de.PURE_BARCODE)!==void 0){const E=An.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(E,r),d=An.NO_POINTS}else{const E=new Ve(i.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(E.getBits(),r),d=E.getPoints()}a.getOther()instanceof qr&&a.getOther().applyMirroredCorrection(d);const h=new Ze(a.getText(),a.getRawBytes(),void 0,d,ie.QR_CODE,void 0),g=a.getByteSegments();g!==null&&h.putMetadata(tt.BYTE_SEGMENTS,g);const p=a.getECLevel();return p!==null&&h.putMetadata(tt.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(h.putMetadata(tt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),h.putMetadata(tt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const r=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(r===null||a===null)throw new ee;const d=this.moduleSize(r,i);let h=r[1],g=a[1],p=r[0],E=a[0];if(p>=E||h>=g)throw new ee;if(g-h!==E-p&&(E=p+(g-h),E>=i.getWidth()))throw new ee;const x=Math.round((E-p+1)/d),S=Math.round((g-h+1)/d);if(x<=0||S<=0)throw new ee;if(S!==x)throw new ee;const I=Math.floor(d/2);h+=I,p+=I;const R=p+Math.floor((x-1)*d)-E;if(R>0){if(R>I)throw new ee;p-=R}const P=h+Math.floor((S-1)*d)-g;if(P>0){if(P>I)throw new ee;h-=P}const U=new At(x,S);for(let H=0;H<S;H++){const G=h+Math.floor(H*d);for(let Q=0;Q<x;Q++)i.get(p+Math.floor(Q*d),G)&&U.set(Q,H)}return U}static moduleSize(i,r){const a=r.getHeight(),d=r.getWidth();let h=i[0],g=i[1],p=!0,E=0;for(;h<d&&g<a;){if(p!==r.get(h,g)){if(++E===5)break;p=!p}h++,g++}if(h===d||g===a)throw new ee;return(h-i[0])/7}}An.NO_POINTS=new Array;class ve{PDF417Common(){}static getBitCountSum(i){return st.sum(i)}static toIntArray(i){if(i==null||!i.length)return ve.EMPTY_INT_ARRAY;const r=new Int32Array(i.length);let a=0;for(const d of i)r[a++]=d;return r}static getCodeword(i){const r=F.binarySearch(ve.SYMBOL_TABLE,i&262143);return r<0?-1:(ve.CODEWORD_TABLE[r]-1)%ve.NUMBER_OF_CODEWORDS}}ve.NUMBER_OF_CODEWORDS=929,ve.MAX_CODEWORDS_IN_BARCODE=ve.NUMBER_OF_CODEWORDS-1,ve.MIN_ROWS_IN_BARCODE=3,ve.MAX_ROWS_IN_BARCODE=90,ve.MODULES_IN_CODEWORD=17,ve.MODULES_IN_STOP_PATTERN=18,ve.BARS_IN_MODULE=8,ve.EMPTY_INT_ARRAY=new Int32Array([]),ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ld{constructor(i,r){this.bits=i,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(i,r,a){let d=i.getBlackMatrix(),h=Ke.detect(a,d);return h.length||(d=d.clone(),d.rotate180(),h=Ke.detect(a,d)),new ld(d,h)}static detect(i,r){const a=new Array;let d=0,h=0,g=!1;for(;d<r.getHeight();){const p=Ke.findVertices(r,d,h);if(p[0]==null&&p[3]==null){if(!g)break;g=!1,h=0;for(const E of a)E[1]!=null&&(d=Math.trunc(Math.max(d,E[1].getY()))),E[3]!=null&&(d=Math.max(d,Math.trunc(E[3].getY())));d+=Ke.ROW_STEP;continue}if(g=!0,a.push(p),!i)break;p[2]!=null?(h=Math.trunc(p[2].getX()),d=Math.trunc(p[2].getY())):(h=Math.trunc(p[4].getX()),d=Math.trunc(p[4].getY()))}return a}static findVertices(i,r,a){const d=i.getHeight(),h=i.getWidth(),g=new Array(8);return Ke.copyToResult(g,Ke.findRowsWithPattern(i,d,h,r,a,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),g[4]!=null&&(a=Math.trunc(g[4].getX()),r=Math.trunc(g[4].getY())),Ke.copyToResult(g,Ke.findRowsWithPattern(i,d,h,r,a,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),g}static copyToResult(i,r,a){for(let d=0;d<a.length;d++)i[a[d]]=r[d]}static findRowsWithPattern(i,r,a,d,h,g){const p=new Array(4);let E=!1;const x=new Int32Array(g.length);for(;d<r;d+=Ke.ROW_STEP){let I=Ke.findGuardPattern(i,h,d,a,!1,g,x);if(I!=null){for(;d>0;){const R=Ke.findGuardPattern(i,h,--d,a,!1,g,x);if(R!=null)I=R;else{d++;break}}p[0]=new Te(I[0],d),p[1]=new Te(I[1],d),E=!0;break}}let S=d+1;if(E){let I=0,R=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;S<r;S++){const P=Ke.findGuardPattern(i,R[0],S,a,!1,g,x);if(P!=null&&Math.abs(R[0]-P[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(R[1]-P[1])<Ke.MAX_PATTERN_DRIFT)R=P,I=0;else{if(I>Ke.SKIPPED_ROW_COUNT_MAX)break;I++}}S-=I+1,p[2]=new Te(R[0],S),p[3]=new Te(R[1],S)}return S-d<Ke.BARCODE_MIN_HEIGHT&&F.fill(p,null),p}static findGuardPattern(i,r,a,d,h,g,p){F.fillWithin(p,0,p.length,0);let E=r,x=0;for(;i.get(E,a)&&E>0&&x++<Ke.MAX_PIXEL_DRIFT;)E--;let S=E,I=0,R=g.length;for(let P=h;S<d;S++)if(i.get(S,a)!==P)p[I]++;else{if(I===R-1){if(Ke.patternMatchVariance(p,g,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([E,S]);E+=p[0]+p[1],j.arraycopy(p,2,p,0,I-1),p[I-1]=0,p[I]=0,I--}else I++;p[I]=1,P=!P}return I===R-1&&Ke.patternMatchVariance(p,g,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([E,S-1]):null}static patternMatchVariance(i,r,a){let d=i.length,h=0,g=0;for(let x=0;x<d;x++)h+=i[x],g+=r[x];if(h<g)return 1/0;let p=h/g;a*=p;let E=0;for(let x=0;x<d;x++){let S=i[x],I=r[x]*p,R=S>I?S-I:I-S;if(R>a)return 1/0;E+=R}return E/h}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class _n{constructor(i,r){if(r.length===0)throw new b;this.field=i;let a=r.length;if(a>1&&r[0]===0){let d=1;for(;d<a&&r[d]===0;)d++;d===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-d),j.arraycopy(r,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let d=0;for(let h of this.coefficients)d=this.field.add(d,h);return d}let r=this.coefficients[0],a=this.coefficients.length;for(let d=1;d<a;d++)r=this.field.add(this.field.multiply(i,r),this.coefficients[d]);return r}add(i){if(!this.field.equals(i.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let r=this.coefficients,a=i.coefficients;if(r.length>a.length){let g=r;r=a,a=g}let d=new Int32Array(a.length),h=a.length-r.length;j.arraycopy(a,0,d,0,h);for(let g=h;g<a.length;g++)d[g]=this.field.add(r[g-h],a[g]);return new _n(this.field,d)}subtract(i){if(!this.field.equals(i.field))throw new b("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof _n?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new _n(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,d=i.coefficients,h=d.length,g=new Int32Array(a+h-1);for(let p=0;p<a;p++){let E=r[p];for(let x=0;x<h;x++)g[p+x]=this.field.add(g[p+x],this.field.multiply(E,d[x]))}return new _n(this.field,g)}negative(){let i=this.coefficients.length,r=new Int32Array(i);for(let a=0;a<i;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new _n(this.field,r)}multiplyScalar(i){if(i===0)return new _n(this.field,new Int32Array([0]));if(i===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let d=0;d<r;d++)a[d]=this.field.multiply(this.coefficients[d],i);return new _n(this.field,a)}multiplyByMonomial(i,r){if(i<0)throw new b;if(r===0)return new _n(this.field,new Int32Array([0]));let a=this.coefficients.length,d=new Int32Array(a+i);for(let h=0;h<a;h++)d[h]=this.field.multiply(this.coefficients[h],r);return new _n(this.field,d)}toString(){let i=new ot;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(r===0||a!==1)&&i.append(a),r!==0&&(r===1?i.append("x"):(i.append("x^"),i.append(r))))}return i.toString()}}class Pa{add(i,r){return(i+r)%this.modulus}subtract(i,r){return(this.modulus+i-r)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new b;return this.logTable[i]}inverse(i){if(i===0)throw new Ai;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,r){return i===0||r===0?0:this.expTable[(this.logTable[i]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class no extends Pa{constructor(i,r){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let d=0;d<i;d++)this.expTable[d]=a,a=a*r%i;for(let d=0;d<i-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new _n(this,new Int32Array([0])),this.one=new _n(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,r){if(i<0)throw new b;if(r===0)return this.zero;let a=new Int32Array(i+1);return a[0]=r,new _n(this,a)}}no.PDF417_GF=new no(ve.NUMBER_OF_CODEWORDS,3);class Rs{constructor(){this.field=no.PDF417_GF}decode(i,r,a){let d=new _n(this.field,i),h=new Int32Array(r),g=!1;for(let U=r;U>0;U--){let H=d.evaluateAt(this.field.exp(U));h[r-U]=H,H!==0&&(g=!0)}if(!g)return 0;let p=this.field.getOne();if(a!=null)for(const U of a){let H=this.field.exp(i.length-1-U),G=new _n(this.field,new Int32Array([this.field.subtract(0,H),1]));p=p.multiply(G)}let E=new _n(this.field,h),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),E,r),S=x[0],I=x[1],R=this.findErrorLocations(S),P=this.findErrorMagnitudes(I,S,R);for(let U=0;U<R.length;U++){let H=i.length-1-this.field.log(R[U]);if(H<0)throw V.getChecksumInstance();i[H]=this.field.subtract(i[H],P[U])}return R.length}runEuclideanAlgorithm(i,r,a){if(i.getDegree()<r.getDegree()){let R=i;i=r,r=R}let d=i,h=r,g=this.field.getZero(),p=this.field.getOne();for(;h.getDegree()>=Math.round(a/2);){let R=d,P=g;if(d=h,g=p,d.isZero())throw V.getChecksumInstance();h=R;let U=this.field.getZero(),H=d.getCoefficient(d.getDegree()),G=this.field.inverse(H);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){let Q=h.getDegree()-d.getDegree(),ue=this.field.multiply(h.getCoefficient(h.getDegree()),G);U=U.add(this.field.buildMonomial(Q,ue)),h=h.subtract(d.multiplyByMonomial(Q,ue))}p=U.multiply(g).subtract(P).negative()}let E=p.getCoefficient(0);if(E===0)throw V.getChecksumInstance();let x=this.field.inverse(E),S=p.multiply(x),I=h.multiply(x);return[S,I]}findErrorLocations(i){let r=i.getDegree(),a=new Int32Array(r),d=0;for(let h=1;h<this.field.getSize()&&d<r;h++)i.evaluateAt(h)===0&&(a[d]=this.field.inverse(h),d++);if(d!==r)throw V.getChecksumInstance();return a}findErrorMagnitudes(i,r,a){let d=r.getDegree(),h=new Int32Array(d);for(let x=1;x<=d;x++)h[d-x]=this.field.multiply(x,r.getCoefficient(x));let g=new _n(this.field,h),p=a.length,E=new Int32Array(p);for(let x=0;x<p;x++){let S=this.field.inverse(a[x]),I=this.field.subtract(0,i.evaluateAt(S)),R=this.field.inverse(g.evaluateAt(S));E[x]=this.field.multiply(I,R)}return E}}class Ni{constructor(i,r,a,d,h){i instanceof Ni?this.constructor_2(i):this.constructor_1(i,r,a,d,h)}constructor_1(i,r,a,d,h){const g=r==null||a==null,p=d==null||h==null;if(g&&p)throw new ee;g?(r=new Te(0,d.getY()),a=new Te(0,h.getY())):p&&(d=new Te(i.getWidth()-1,r.getY()),h=new Te(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=r,this.bottomLeft=a,this.topRight=d,this.bottomRight=h,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(d.getX(),h.getX())),this.minY=Math.trunc(Math.min(r.getY(),d.getY())),this.maxY=Math.trunc(Math.max(a.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,r){return i==null?r:r==null?i:new Ni(i.image,i.topLeft,i.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(i,r,a){let d=this.topLeft,h=this.bottomLeft,g=this.topRight,p=this.bottomRight;if(i>0){let E=a?this.topLeft:this.topRight,x=Math.trunc(E.getY()-i);x<0&&(x=0);let S=new Te(E.getX(),x);a?d=S:g=S}if(r>0){let E=a?this.bottomLeft:this.bottomRight,x=Math.trunc(E.getY()+r);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let S=new Te(E.getX(),x);a?h=S:p=S}return new Ni(this.image,d,h,g,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Tn{constructor(i,r,a,d){this.columnCount=i,this.errorCorrectionLevel=d,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ri{constructor(){this.buffer=""}static form(i,r){let a=-1;function d(g,p,E,x,S,I){if(g==="%%")return"%";if(r[++a]===void 0)return;g=x?parseInt(x.substr(1)):void 0;let R=S?parseInt(S.substr(1)):void 0,P;switch(I){case"s":P=r[a];break;case"c":P=r[a][0];break;case"f":P=parseFloat(r[a]).toFixed(g);break;case"p":P=parseFloat(r[a]).toPrecision(g);break;case"e":P=parseFloat(r[a]).toExponential(g);break;case"x":P=parseInt(r[a]).toString(R||16);break;case"d":P=parseFloat(parseInt(r[a],R||10).toPrecision(g)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(R);let U=parseInt(E),H=E&&E[0]+""=="0"?"0":" ";for(;P.length<U;)P=p!==void 0?P+H:H+P;return P}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,d)}format(i,...r){this.buffer+=Ri.form(i,r)}toString(){return this.buffer}}class lr{constructor(i){this.boundingBox=new Ni(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let r=this.getCodeword(i);if(r!=null)return r;for(let a=1;a<lr.MAX_NEARBY_DISTANCE;a++){let d=this.imageRowToCodewordIndex(i)-a;if(d>=0&&(r=this.codewords[d],r!=null)||(d=this.imageRowToCodewordIndex(i)+a,d<this.codewords.length&&(r=this.codewords[d],r!=null)))return r}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,r){this.codewords[this.imageRowToCodewordIndex(i)]=r}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Ri;let r=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",r++);continue}i.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return i.toString()}}lr.MAX_NEARBY_DISTANCE=5;class dr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let r=this.values.get(i);r==null&&(r=0),r++,this.values.set(i,r)}getValue(){let i=-1,r=new Array;for(const[a,d]of this.values.entries()){const h={getKey:()=>a,getValue:()=>d};h.getValue()>i?(i=h.getValue(),r=[],r.push(h.getKey())):h.getValue()===i&&r.push(h.getKey())}return ve.toIntArray(r)}getConfidence(i){return this.values.get(i)}}class dd extends lr{constructor(i,r){super(i),this._isLeft=r}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,i);let a=this.getBoundingBox(),d=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),p=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=-1,x=1,S=0;for(let I=g;I<p;I++){if(r[I]==null)continue;let R=r[I],P=R.getRowNumber()-E;if(P===0)S++;else if(P===1)x=Math.max(x,S),S=1,E=R.getRowNumber();else if(P<0||R.getRowNumber()>=i.getRowCount()||P>I)r[I]=null;else{let U;x>2?U=(x-2)*P:U=P;let H=U>=I;for(let G=1;G<=U&&!H;G++)H=r[I-G]!=null;H?r[I]=null:(E=R.getRowNumber(),S=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let r=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let d=a.getRowNumber();if(d>=r.length)continue;r[d]++}return r}adjustIncompleteIndicatorColumnRowNumbers(i){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),d=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),p=this.getCodewords(),E=-1;for(let x=h;x<g;x++){if(p[x]==null)continue;let S=p[x];S.setRowNumberAsRowIndicatorColumn();let I=S.getRowNumber()-E;I===0||(I===1?E=S.getRowNumber():S.getRowNumber()>=i.getRowCount()?p[x]=null:E=S.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),r=new dr,a=new dr,d=new dr,h=new dr;for(let p of i){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let E=p.getValue()%30,x=p.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:a.setValue(E*3+1);break;case 1:h.setValue(E/3),d.setValue(E%3);break;case 2:r.setValue(E+1);break}}if(r.getValue().length===0||a.getValue().length===0||d.getValue().length===0||h.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+d.getValue()[0]<ve.MIN_ROWS_IN_BARCODE||a.getValue()[0]+d.getValue()[0]>ve.MAX_ROWS_IN_BARCODE)return null;let g=new Tn(r.getValue()[0],a.getValue()[0],d.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,g),g}removeIncorrectCodewords(i,r){for(let a=0;a<i.length;a++){let d=i[a];if(i[a]==null)continue;let h=d.getValue()%30,g=d.getRowNumber();if(g>r.getRowCount()){i[a]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:h*3+1!==r.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(h/3)!==r.getErrorCorrectionLevel()||h%3!==r.getRowCountLowerPart())&&(i[a]=null);break;case 2:h+1!==r.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class cr{constructor(i,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=ve.MAX_CODEWORDS_IN_BARCODE,r;do r=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let d=0;d<a.length;d++)a[d]!=null&&(a[d].hasValidRowNumber()||this.adjustRowNumbers(r,d,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&r[a]!=null&&i[a].getRowNumber()===r[a].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(h.setRowNumber(i[a].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let d=r[a].getRowNumber(),h=0;for(let g=this.barcodeColumnCount+1;g>0&&h<this.ADJUST_ROW_NUMBER_SKIP;g--){let p=this.detectionResultColumns[g].getCodewords()[a];p!=null&&(h=cr.adjustRowNumberIfValid(d,h,p),p.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let d=r[a].getRowNumber(),h=0;for(let g=1;g<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;g++){let p=this.detectionResultColumns[g].getCodewords()[a];p!=null&&(h=cr.adjustRowNumberIfValid(d,h,p),p.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),r=0):++r),r}adjustRowNumbers(i,r,a){if(!this.detectionResultColumns[i-1])return;let d=a[r],h=this.detectionResultColumns[i-1].getCodewords(),g=h;this.detectionResultColumns[i+1]!=null&&(g=this.detectionResultColumns[i+1].getCodewords());let p=new Array(14);p[2]=h[r],p[3]=g[r],r>0&&(p[0]=a[r-1],p[4]=h[r-1],p[5]=g[r-1]),r>1&&(p[8]=a[r-2],p[10]=h[r-2],p[11]=g[r-2]),r<a.length-1&&(p[1]=a[r+1],p[6]=h[r+1],p[7]=g[r+1]),r<a.length-2&&(p[9]=a[r+2],p[12]=h[r+2],p[13]=g[r+2]);for(let E of p)if(cr.adjustRowNumber(d,E))return}static adjustRowNumber(i,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===i.getBucket()?(i.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,r){this.detectionResultColumns[i]=r}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ri;for(let a=0;a<i.getCodewords().length;a++){r.format("CW %3d:",a);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){r.format("    |   ");continue}let h=this.detectionResultColumns[d].getCodewords()[a];if(h==null){r.format("    |   ");continue}r.format(" %3d|%3d",h.getRowNumber(),h.getValue())}r.format("%n")}return r.toString()}}class Bo{constructor(i,r,a,d){this.rowNumber=Bo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Bo.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Bo.BARCODE_ROW_UNKNOWN=-1;class Zn{static initialize(){for(let i=0;i<ve.SYMBOL_TABLE.length;i++){let r=ve.SYMBOL_TABLE[i],a=r&1;for(let d=0;d<ve.BARS_IN_MODULE;d++){let h=0;for(;(r&1)===a;)h+=1,r>>=1;a=r&1,Zn.RATIOS_TABLE[i]||(Zn.RATIOS_TABLE[i]=new Array(ve.BARS_IN_MODULE)),Zn.RATIOS_TABLE[i][ve.BARS_IN_MODULE-d-1]=Math.fround(h/ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let r=Zn.getDecodedCodewordValue(Zn.sampleBitCounts(i));return r!==-1?r:Zn.getClosestDecodedValue(i)}static sampleBitCounts(i){let r=st.sum(i),a=new Int32Array(ve.BARS_IN_MODULE),d=0,h=0;for(let g=0;g<ve.MODULES_IN_CODEWORD;g++){let p=r/(2*ve.MODULES_IN_CODEWORD)+g*r/ve.MODULES_IN_CODEWORD;h+i[d]<=p&&(h+=i[d],d++),a[d]++}return a}static getDecodedCodewordValue(i){let r=Zn.getBitValue(i);return ve.getCodeword(r)===-1?-1:r}static getBitValue(i){let r=0;for(let a=0;a<i.length;a++)for(let d=0;d<i[a];d++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(i){let r=st.sum(i),a=new Array(ve.BARS_IN_MODULE);if(r>1)for(let g=0;g<a.length;g++)a[g]=Math.fround(i[g]/r);let d=Lo.MAX_VALUE,h=-1;this.bSymbolTableReady||Zn.initialize();for(let g=0;g<Zn.RATIOS_TABLE.length;g++){let p=0,E=Zn.RATIOS_TABLE[g];for(let x=0;x<ve.BARS_IN_MODULE;x++){let S=Math.fround(E[x]-a[x]);if(p+=Math.fround(S*S),p>=d)break}p<d&&(d=p,h=ve.SYMBOL_TABLE[g])}return h}}Zn.bSymbolTableReady=!1,Zn.RATIOS_TABLE=new Array(ve.SYMBOL_TABLE.length).map(T=>new Array(ve.BARS_IN_MODULE));class Fa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class mt{static parseLong(i,r=void 0){return parseInt(i,r)}}class cd extends y{}cd.kind="NullPointerException";class Mi{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,r,a){if(i==null)throw new cd;if(r<0||r>i.length||a<0||r+a>i.length||r+a<0)throw new ye;if(a===0)return;for(let d=0;d<a;d++)this.write(i[r+d])}flush(){}close(){}}class Jr extends y{}class ud extends Mi{constructor(i=32){if(super(),this.count=0,i<0)throw new b("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Jr;a=B.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,r,a){if(r<0||r>i.length||a<0||r+a-i.length>0)throw new ye;this.ensureCapacity(this.count+a),j.arraycopy(i,r,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ot;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ot||(Ot={}));function Ms(){if(typeof window<"u")return window.BigInt||null;if(typeof ks<"u")return ks.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ls;function io(T){if(typeof Ls>"u"&&(Ls=Ms()),Ls===null)throw new Error("BigInt is not supported!");return Ls(T)}function uu(){let T=[];T[0]=io(1);let i=io(900);T[1]=i;for(let r=2;r<16;r++)T[r]=T[r-1]*i;return T}class q{static decode(i,r){let a=new ot(""),d=ne.ISO8859_1;a.enableDecoding(d);let h=1,g=i[h++],p=new Fa;for(;h<i[0];){switch(g){case q.TEXT_COMPACTION_MODE_LATCH:h=q.textCompaction(i,h,a);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:h=q.byteCompaction(g,i,d,h,a);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[h++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:h=q.numericCompaction(i,h,a);break;case q.ECI_CHARSET:ne.getCharacterSetECIByValue(i[h++]);break;case q.ECI_GENERAL_PURPOSE:h+=2;break;case q.ECI_USER_DEFINED:h++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=q.decodeMacroBlock(i,h,p);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new K;default:h--,h=q.textCompaction(i,h,a);break}if(h<i.length)g=i[h++];else throw K.getFormatInstance()}if(a.length()===0)throw K.getFormatInstance();let E=new rt(null,a.toString(),null,r);return E.setOther(p),E}static decodeMacroBlock(i,r,a){if(r+q.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw K.getFormatInstance();let d=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<q.NUMBER_OF_SEQUENCE_CODEWORDS;p++,r++)d[p]=i[r];a.setSegmentIndex(B.parseInt(q.decodeBase900toBase10(d,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ot;r=q.textCompaction(i,r,h),a.setFileId(h.toString());let g=-1;for(i[r]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=r+1);r<i[0];)switch(i[r]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,i[r]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new ot;r=q.textCompaction(i,r+1,p),a.setFileName(p.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new ot;r=q.textCompaction(i,r+1,E),a.setSender(E.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new ot;r=q.textCompaction(i,r+1,x),a.setAddressee(x.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new ot;r=q.numericCompaction(i,r+1,S),a.setSegmentCount(B.parseInt(S.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new ot;r=q.numericCompaction(i,r+1,I),a.setTimestamp(mt.parseLong(I.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new ot;r=q.numericCompaction(i,r+1,R),a.setChecksum(B.parseInt(R.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new ot;r=q.numericCompaction(i,r+1,P),a.setFileSize(mt.parseLong(P.toString()));break;default:throw K.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw K.getFormatInstance()}if(g!==-1){let p=r-g;a.isLastSegment()&&p--,a.setOptionalData(F.copyOfRange(i,g,g+p))}return r}static textCompaction(i,r,a){let d=new Int32Array((i[0]-r)*2),h=new Int32Array((i[0]-r)*2),g=0,p=!1;for(;r<i[0]&&!p;){let E=i[r++];if(E<q.TEXT_COMPACTION_MODE_LATCH)d[g]=E/30,d[g+1]=E%30,g+=2;else switch(E){case q.TEXT_COMPACTION_MODE_LATCH:d[g++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:r--,p=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[g]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=i[r++],h[g]=E,g++;break}}return q.decodeTextCompaction(d,h,g,a),r}static decodeTextCompaction(i,r,a,d){let h=Ot.ALPHA,g=Ot.ALPHA,p=0;for(;p<a;){let E=i[p],x="";switch(h){case Ot.ALPHA:if(E<26)x=String.fromCharCode(65+E);else switch(E){case 26:x=" ";break;case q.LL:h=Ot.LOWER;break;case q.ML:h=Ot.MIXED;break;case q.PS:g=h,h=Ot.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.LOWER:if(E<26)x=String.fromCharCode(97+E);else switch(E){case 26:x=" ";break;case q.AS:g=h,h=Ot.ALPHA_SHIFT;break;case q.ML:h=Ot.MIXED;break;case q.PS:g=h,h=Ot.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.MIXED:if(E<q.PL)x=q.MIXED_CHARS[E];else switch(E){case q.PL:h=Ot.PUNCT;break;case 26:x=" ";break;case q.LL:h=Ot.LOWER;break;case q.AL:h=Ot.ALPHA;break;case q.PS:g=h,h=Ot.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.PUNCT:if(E<q.PAL)x=q.PUNCT_CHARS[E];else switch(E){case q.PAL:h=Ot.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.ALPHA_SHIFT:if(h=g,E<26)x=String.fromCharCode(65+E);else switch(E){case 26:x=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.PUNCT_SHIFT:if(h=g,E<q.PAL)x=q.PUNCT_CHARS[E];else switch(E){case q.PAL:h=Ot.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break}x!==""&&d.append(x),p++}}static byteCompaction(i,r,a,d,h){let g=new ud,p=0,E=0,x=!1;switch(i){case q.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),I=r[d++];for(;d<r[0]&&!x;)switch(S[p++]=I,E=900*E+I,I=r[d++],I){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:d--,x=!0;break;default:if(p%5===0&&p>0){for(let R=0;R<6;++R)g.write(Number(io(E)>>io(8*(5-R))));E=0,p=0}break}d===r[0]&&I<q.TEXT_COMPACTION_MODE_LATCH&&(S[p++]=I);for(let R=0;R<p;R++)g.write(S[R]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;d<r[0]&&!x;){let R=r[d++];if(R<q.TEXT_COMPACTION_MODE_LATCH)p++,E=900*E+R;else switch(R){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:d--,x=!0;break}if(p%5===0&&p>0){for(let P=0;P<6;++P)g.write(Number(io(E)>>io(8*(5-P))));E=0,p=0}}break}return h.append($e.decode(g.toByteArray(),a)),d}static numericCompaction(i,r,a){let d=0,h=!1,g=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;r<i[0]&&!h;){let p=i[r++];if(r===i[0]&&(h=!0),p<q.TEXT_COMPACTION_MODE_LATCH)g[d]=p,d++;else switch(p){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:r--,h=!0;break}(d%q.MAX_NUMERIC_CODEWORDS===0||p===q.NUMERIC_COMPACTION_MODE_LATCH||h)&&d>0&&(a.append(q.decodeBase900toBase10(g,d)),d=0)}return r}static decodeBase900toBase10(i,r){let a=io(0);for(let h=0;h<r;h++)a+=q.EXP900[r-h-1]*io(i[h]);let d=a.toString();if(d.charAt(0)!=="1")throw new K;return d.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Ms()?uu():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(i,r,a,d,h,g,p){let E=new Ni(i,r,a,d,h),x=null,S=null,I;for(let U=!0;;U=!1){if(r!=null&&(x=et.getRowIndicatorColumn(i,E,r,!0,g,p)),d!=null&&(S=et.getRowIndicatorColumn(i,E,d,!1,g,p)),I=et.merge(x,S),I==null)throw ee.getNotFoundInstance();let H=I.getBoundingBox();if(U&&H!=null&&(H.getMinY()<E.getMinY()||H.getMaxY()>E.getMaxY()))E=H;else break}I.setBoundingBox(E);let R=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,x),I.setDetectionResultColumn(R,S);let P=x!=null;for(let U=1;U<=R;U++){let H=P?U:R-U;if(I.getDetectionResultColumn(H)!==void 0)continue;let G;H===0||H===R?G=new dd(E,H===0):G=new lr(E),I.setDetectionResultColumn(H,G);let Q=-1,ue=Q;for(let he=E.getMinY();he<=E.getMaxY();he++){if(Q=et.getStartColumn(I,H,he,P),Q<0||Q>E.getMaxX()){if(ue===-1)continue;Q=ue}let ae=et.detectCodeword(i,E.getMinX(),E.getMaxX(),P,Q,he,g,p);ae!=null&&(G.setCodeword(he,ae),ue=Q,g=Math.min(g,ae.getWidth()),p=Math.max(p,ae.getWidth()))}}return et.createDecoderResult(I)}static merge(i,r){if(i==null&&r==null)return null;let a=et.getBarcodeMetadata(i,r);if(a==null)return null;let d=Ni.merge(et.adjustBoundingBox(i),et.adjustBoundingBox(r));return new cr(a,d)}static adjustBoundingBox(i){if(i==null)return null;let r=i.getRowHeights();if(r==null)return null;let a=et.getMax(r),d=0;for(let p of r)if(d+=a-p,p>0)break;let h=i.getCodewords();for(let p=0;d>0&&h[p]==null;p++)d--;let g=0;for(let p=r.length-1;p>=0&&(g+=a-r[p],!(r[p]>0));p--);for(let p=h.length-1;g>0&&h[p]==null;p--)g--;return i.getBoundingBox().addMissingRows(d,g,i.isLeft())}static getMax(i){let r=-1;for(let a of i)r=Math.max(r,a);return r}static getBarcodeMetadata(i,r){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let d;return r==null||(d=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==d.getColumnCount()&&a.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&a.getRowCount()!==d.getRowCount()?null:a}static getRowIndicatorColumn(i,r,a,d,h,g){let p=new dd(r,d);for(let E=0;E<2;E++){let x=E===0?1:-1,S=Math.trunc(Math.trunc(a.getX()));for(let I=Math.trunc(Math.trunc(a.getY()));I<=r.getMaxY()&&I>=r.getMinY();I+=x){let R=et.detectCodeword(i,0,i.getWidth(),d,S,I,h,g);R!=null&&(p.setCodeword(I,R),d?S=R.getStartX():S=R.getEndX())}}return p}static adjustCodewordCount(i,r){let a=r[0][1],d=a.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-et.getNumberOfECCodeWords(i.getBarcodeECLevel());if(d.length===0){if(h<1||h>ve.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();a.setValue(h)}else d[0]!==h&&a.setValue(h)}static createDecoderResult(i){let r=et.createBarcodeMatrix(i);et.adjustCodewordCount(i,r);let a=new Array,d=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],g=new Array;for(let E=0;E<i.getBarcodeRowCount();E++)for(let x=0;x<i.getBarcodeColumnCount();x++){let S=r[E][x+1].getValue(),I=E*i.getBarcodeColumnCount()+x;S.length===0?a.push(I):S.length===1?d[I]=S[0]:(g.push(I),h.push(S))}let p=new Array(h.length);for(let E=0;E<p.length;E++)p[E]=h[E];return et.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),d,ve.toIntArray(a),ve.toIntArray(g),p)}static createDecoderResultFromAmbiguousValues(i,r,a,d,h){let g=new Int32Array(d.length),p=100;for(;p-- >0;){for(let E=0;E<g.length;E++)r[d[E]]=h[E][g[E]];try{return et.decodeCodewords(r,i,a)}catch(E){if(!(E instanceof V))throw E}if(g.length===0)throw V.getChecksumInstance();for(let E=0;E<g.length;E++)if(g[E]<h[E].length-1){g[E]++;break}else if(g[E]=0,E===g.length-1)throw V.getChecksumInstance()}throw V.getChecksumInstance()}static createBarcodeMatrix(i){let r=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let d=0;d<r.length;d++)for(let h=0;h<r[d].length;h++)r[d][h]=new dr;let a=0;for(let d of i.getDetectionResultColumns()){if(d!=null){for(let h of d.getCodewords())if(h!=null){let g=h.getRowNumber();if(g>=0){if(g>=r.length)continue;r[g][a].setValue(h.getValue())}}}a++}return r}static isValidBarcodeColumn(i,r){return r>=0&&r<=i.getBarcodeColumnCount()+1}static getStartColumn(i,r,a,d){let h=d?1:-1,g=null;if(et.isValidBarcodeColumn(i,r-h)&&(g=i.getDetectionResultColumn(r-h).getCodeword(a)),g!=null)return d?g.getEndX():g.getStartX();if(g=i.getDetectionResultColumn(r).getCodewordNearby(a),g!=null)return d?g.getStartX():g.getEndX();if(et.isValidBarcodeColumn(i,r-h)&&(g=i.getDetectionResultColumn(r-h).getCodewordNearby(a)),g!=null)return d?g.getEndX():g.getStartX();let p=0;for(;et.isValidBarcodeColumn(i,r-h);){r-=h;for(let E of i.getDetectionResultColumn(r).getCodewords())if(E!=null)return(d?E.getEndX():E.getStartX())+h*p*(E.getEndX()-E.getStartX());p++}return d?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,r,a,d,h,g,p,E){h=et.adjustCodewordStartColumn(i,r,a,d,h,g);let x=et.getModuleBitCount(i,r,a,d,h,g);if(x==null)return null;let S,I=st.sum(x);if(d)S=h+I;else{for(let U=0;U<x.length/2;U++){let H=x[U];x[U]=x[x.length-1-U],x[x.length-1-U]=H}S=h,h=S-I}if(!et.checkCodewordSkew(I,p,E))return null;let R=Zn.getDecodedValue(x),P=ve.getCodeword(R);return P===-1?null:new Bo(h,S,et.getCodewordBucketNumber(R),P)}static getModuleBitCount(i,r,a,d,h,g){let p=h,E=new Int32Array(8),x=0,S=d?1:-1,I=d;for(;(d?p<a:p>=r)&&x<E.length;)i.get(p,g)===I?(E[x]++,p+=S):(x++,I=!I);return x===E.length||p===(d?a:r)&&x===E.length-1?E:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,r,a,d,h,g){let p=h,E=d?-1:1;for(let x=0;x<2;x++){for(;(d?p>=r:p<a)&&d===i.get(p,g);){if(Math.abs(h-p)>et.CODEWORD_SKEW_SIZE)return h;p+=E}E=-E,d=!d}return p}static checkCodewordSkew(i,r,a){return r-et.CODEWORD_SKEW_SIZE<=i&&i<=a+et.CODEWORD_SKEW_SIZE}static decodeCodewords(i,r,a){if(i.length===0)throw K.getFormatInstance();let d=1<<r+1,h=et.correctErrors(i,a,d);et.verifyCodewordCount(i,d);let g=q.decode(i,""+r);return g.setErrorsCorrected(h),g.setErasures(a.length),g}static correctErrors(i,r,a){if(r!=null&&r.length>a/2+et.MAX_ERRORS||a<0||a>et.MAX_EC_CODEWORDS)throw V.getChecksumInstance();return et.errorCorrection.decode(i,a,r)}static verifyCodewordCount(i,r){if(i.length<4)throw K.getFormatInstance();let a=i[0];if(a>i.length)throw K.getFormatInstance();if(a===0)if(r<i.length)i[0]=i.length-r;else throw K.getFormatInstance()}static getBitCountForCodeword(i){let r=new Int32Array(8),a=0,d=r.length-1;for(;!((i&1)!==a&&(a=i&1,d--,d<0));)r[d]++,i>>=1;return r}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return et.getCodewordBucketNumber(et.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let r=new Ri;for(let a=0;a<i.length;a++){r.format("Row %2d: ",a);for(let d=0;d<i[a].length;d++){let h=i[a][d];h.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}r.format("%n")}return r.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new Rs;class In{decode(i,r=null){let a=In.decode(i,r,!1);if(a==null||a.length===0||a[0]==null)throw ee.getNotFoundInstance();return a[0]}decodeMultiple(i,r=null){try{return In.decode(i,r,!0)}catch(a){throw a instanceof K||a instanceof V?ee.getNotFoundInstance():a}}static decode(i,r,a){const d=new Array,h=Ke.detectMultiple(i,r,a);for(const g of h.getPoints()){const p=et.decode(h.getBits(),g[4],g[5],g[6],g[7],In.getMinCodewordWidth(g),In.getMaxCodewordWidth(g)),E=new Ze(p.getText(),p.getRawBytes(),void 0,g,ie.PDF_417);E.putMetadata(tt.ERROR_CORRECTION_LEVEL,p.getECLevel());const x=p.getOther();x!=null&&E.putMetadata(tt.PDF417_EXTRA_METADATA,x),d.push(E)}return d.map(g=>g)}static getMaxWidth(i,r){return i==null||r==null?0:Math.trunc(Math.abs(i.getX()-r.getX()))}static getMinWidth(i,r){return i==null||r==null?B.MAX_VALUE:Math.trunc(Math.abs(i.getX()-r.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(In.getMaxWidth(i[0],i[4]),In.getMaxWidth(i[6],i[2])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN),Math.max(In.getMaxWidth(i[1],i[5]),In.getMaxWidth(i[7],i[3])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(In.getMinWidth(i[0],i[4]),In.getMinWidth(i[6],i[2])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN),Math.min(In.getMinWidth(i[1],i[5]),In.getMinWidth(i[7],i[3])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class ri extends y{}ri.kind="ReaderException";class hd{constructor(i,r){this.verbose=i===!0,r&&this.setHints(r)}decode(i,r){return r&&this.setHints(r),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const r=!o(i)&&i.get(de.TRY_HARDER)===!0,a=o(i)?null:i.get(de.POSSIBLE_FORMATS),d=new Array;if(!o(a)){const h=a.some(g=>g===ie.UPC_A||g===ie.UPC_E||g===ie.EAN_13||g===ie.EAN_8||g===ie.CODABAR||g===ie.CODE_39||g===ie.CODE_93||g===ie.CODE_128||g===ie.ITF||g===ie.RSS_14||g===ie.RSS_EXPANDED);h&&!r&&d.push(new vo(i,this.verbose)),a.includes(ie.QR_CODE)&&d.push(new An),a.includes(ie.DATA_MATRIX)&&d.push(new Dt),a.includes(ie.AZTEC)&&d.push(new Oo),a.includes(ie.PDF_417)&&d.push(new In),h&&r&&d.push(new vo(i,this.verbose))}d.length===0&&(r||d.push(new vo(i,this.verbose)),d.push(new An),d.push(new Dt),d.push(new Oo),d.push(new In),r&&d.push(new vo(i,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new ri("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(i,this.hints)}catch(a){if(a instanceof ri)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class fd extends Pt{constructor(i=null,r=500){const a=new hd;a.setHints(i),super(a,r)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class wo extends Pt{constructor(i=500){super(new In,i)}}class gd extends Pt{constructor(i=500){super(new An,i)}}var Ds;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(Ds||(Ds={}));var cn=Ds;class Ba{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new nt(i,Int32Array.from([1])))}buildGenerator(i){const r=this.cachedGenerators;if(i>=r.length){let a=r[r.length-1];const d=this.field;for(let h=r.length;h<=i;h++){const g=a.multiply(new nt(d,Int32Array.from([1,d.exp(h-1+d.getGeneratorBase())])));r.push(g),a=g}}return r[i]}encode(i,r){if(r===0)throw new b("No error correction bytes");const a=i.length-r;if(a<=0)throw new b("No data bytes provided");const d=this.buildGenerator(r),h=new Int32Array(a);j.arraycopy(i,0,h,0,a);let g=new nt(this.field,h);g=g.multiplyByMonomial(r,1);const E=g.divide(d)[1].getCoefficients(),x=r-E.length;for(let S=0;S<x;S++)i[a+S]=0;j.arraycopy(E,0,i,a+x,E.length)}}class Jt{constructor(){}static applyMaskPenaltyRule1(i){return Jt.applyMaskPenaltyRule1Internal(i,!0)+Jt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let r=0;const a=i.getArray(),d=i.getWidth(),h=i.getHeight();for(let g=0;g<h-1;g++){const p=a[g];for(let E=0;E<d-1;E++){const x=p[E];x===p[E+1]&&x===a[g+1][E]&&x===a[g+1][E+1]&&r++}}return Jt.N2*r}static applyMaskPenaltyRule3(i){let r=0;const a=i.getArray(),d=i.getWidth(),h=i.getHeight();for(let g=0;g<h;g++)for(let p=0;p<d;p++){const E=a[g];p+6<d&&E[p]===1&&E[p+1]===0&&E[p+2]===1&&E[p+3]===1&&E[p+4]===1&&E[p+5]===0&&E[p+6]===1&&(Jt.isWhiteHorizontal(E,p-4,p)||Jt.isWhiteHorizontal(E,p+7,p+11))&&r++,g+6<h&&a[g][p]===1&&a[g+1][p]===0&&a[g+2][p]===1&&a[g+3][p]===1&&a[g+4][p]===1&&a[g+5][p]===0&&a[g+6][p]===1&&(Jt.isWhiteVertical(a,p,g-4,g)||Jt.isWhiteVertical(a,p,g+7,g+11))&&r++}return r*Jt.N3}static isWhiteHorizontal(i,r,a){r=Math.max(r,0),a=Math.min(a,i.length);for(let d=r;d<a;d++)if(i[d]===1)return!1;return!0}static isWhiteVertical(i,r,a,d){a=Math.max(a,0),d=Math.min(d,i.length);for(let h=a;h<d;h++)if(i[h][r]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let r=0;const a=i.getArray(),d=i.getWidth(),h=i.getHeight();for(let E=0;E<h;E++){const x=a[E];for(let S=0;S<d;S++)x[S]===1&&r++}const g=i.getHeight()*i.getWidth();return Math.floor(Math.abs(r*2-g)*10/g)*Jt.N4}static getDataMaskBit(i,r,a){let d,h;switch(i){case 0:d=a+r&1;break;case 1:d=a&1;break;case 2:d=r%3;break;case 3:d=(a+r)%3;break;case 4:d=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:h=a*r,d=(h&1)+h%3;break;case 6:h=a*r,d=(h&1)+h%3&1;break;case 7:h=a*r,d=h%3+(a+r&1)&1;break;default:throw new b("Invalid mask pattern: "+i)}return d===0}static applyMaskPenaltyRule1Internal(i,r){let a=0;const d=r?i.getHeight():i.getWidth(),h=r?i.getWidth():i.getHeight(),g=i.getArray();for(let p=0;p<d;p++){let E=0,x=-1;for(let S=0;S<h;S++){const I=r?g[p][S]:g[S][p];I===x?E++:(E>=5&&(a+=Jt.N1+(E-5)),E=1,x=I)}E>=5&&(a+=Jt.N1+(E-5))}return a}}Jt.N1=3,Jt.N2=3,Jt.N3=40,Jt.N4=10;class es{constructor(i,r){this.width=i,this.height=r;const a=new Array(r);for(let d=0;d!==r;d++)a[d]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,r){return this.bytes[r][i]}getArray(){return this.bytes}setNumber(i,r,a){this.bytes[r][i]=a}setBoolean(i,r,a){this.bytes[r][i]=a?1:0}clear(i){for(const r of this.bytes)F.fill(r,i)}equals(i){if(!(i instanceof es))return!1;const r=i;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,d=this.height;a<d;++a){const h=this.bytes[a],g=r.bytes[a];for(let p=0,E=this.width;p<E;++p)if(h[p]!==g[p])return!1}return!0}toString(){const i=new ot;for(let r=0,a=this.height;r<a;++r){const d=this.bytes[r];for(let h=0,g=this.width;h<g;++h)switch(d[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class ko{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ot;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<ko.NUM_MASK_PATTERNS}}ko.NUM_MASK_PATTERNS=8;class Bt extends y{}Bt.kind="WriterException";class ke{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,r,a,d,h){ke.clearMatrix(h),ke.embedBasicPatterns(a,h),ke.embedTypeInfo(r,d,h),ke.maybeEmbedVersionInfo(a,h),ke.embedDataBits(i,d,h)}static embedBasicPatterns(i,r){ke.embedPositionDetectionPatternsAndSeparators(r),ke.embedDarkDotAtLeftBottomCorner(r),ke.maybeEmbedPositionAdjustmentPatterns(i,r),ke.embedTimingPatterns(r)}static embedTypeInfo(i,r,a){const d=new J;ke.makeTypeInfoBits(i,r,d);for(let h=0,g=d.getSize();h<g;++h){const p=d.get(d.getSize()-1-h),E=ke.TYPE_INFO_COORDINATES[h],x=E[0],S=E[1];if(a.setBoolean(x,S,p),h<8){const I=a.getWidth()-h-1;a.setBoolean(I,8,p)}else{const R=a.getHeight()-7+(h-8);a.setBoolean(8,R,p)}}}static maybeEmbedVersionInfo(i,r){if(i.getVersionNumber()<7)return;const a=new J;ke.makeVersionInfoBits(i,a);let d=6*3-1;for(let h=0;h<6;++h)for(let g=0;g<3;++g){const p=a.get(d);d--,r.setBoolean(h,r.getHeight()-11+g,p),r.setBoolean(r.getHeight()-11+g,h,p)}}static embedDataBits(i,r,a){let d=0,h=-1,g=a.getWidth()-1,p=a.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);p>=0&&p<a.getHeight();){for(let E=0;E<2;++E){const x=g-E;if(!ke.isEmpty(a.get(x,p)))continue;let S;d<i.getSize()?(S=i.get(d),++d):S=!1,r!==255&&Jt.getDataMaskBit(r,x,p)&&(S=!S),a.setBoolean(x,p,S)}p+=h}h=-h,p+=h,g-=2}if(d!==i.getSize())throw new Bt("Not all bits consumed: "+d+"/"+i.getSize())}static findMSBSet(i){return 32-B.numberOfLeadingZeros(i)}static calculateBCHCode(i,r){if(r===0)throw new b("0 polynomial");const a=ke.findMSBSet(r);for(i<<=a-1;ke.findMSBSet(i)>=a;)i^=r<<ke.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,r,a){if(!ko.isValidMaskPattern(r))throw new Bt("Invalid mask pattern");const d=i.getBits()<<3|r;a.appendBits(d,5);const h=ke.calculateBCHCode(d,ke.TYPE_INFO_POLY);a.appendBits(h,10);const g=new J;if(g.appendBits(ke.TYPE_INFO_MASK_PATTERN,15),a.xor(g),a.getSize()!==15)throw new Bt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,r){r.appendBits(i.getVersionNumber(),6);const a=ke.calculateBCHCode(i.getVersionNumber(),ke.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new Bt("should not happen but we got: "+r.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let r=8;r<i.getWidth()-8;++r){const a=(r+1)%2;ke.isEmpty(i.get(r,6))&&i.setNumber(r,6,a),ke.isEmpty(i.get(6,r))&&i.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Bt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,r,a){for(let d=0;d<8;++d){if(!ke.isEmpty(a.get(i+d,r)))throw new Bt;a.setNumber(i+d,r,0)}}static embedVerticalSeparationPattern(i,r,a){for(let d=0;d<7;++d){if(!ke.isEmpty(a.get(i,r+d)))throw new Bt;a.setNumber(i,r+d,0)}}static embedPositionAdjustmentPattern(i,r,a){for(let d=0;d<5;++d){const h=ke.POSITION_ADJUSTMENT_PATTERN[d];for(let g=0;g<5;++g)a.setNumber(i+g,r+d,h[g])}}static embedPositionDetectionPattern(i,r,a){for(let d=0;d<7;++d){const h=ke.POSITION_DETECTION_PATTERN[d];for(let g=0;g<7;++g)a.setNumber(i+g,r+d,h[g])}}static embedPositionDetectionPatternsAndSeparators(i){const r=ke.POSITION_DETECTION_PATTERN[0].length;ke.embedPositionDetectionPattern(0,0,i),ke.embedPositionDetectionPattern(i.getWidth()-r,0,i),ke.embedPositionDetectionPattern(0,i.getWidth()-r,i);const a=8;ke.embedHorizontalSeparationPattern(0,a-1,i),ke.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),ke.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const d=7;ke.embedVerticalSeparationPattern(d,0,i),ke.embedVerticalSeparationPattern(i.getHeight()-d-1,0,i),ke.embedVerticalSeparationPattern(d,i.getHeight()-d,i)}static maybeEmbedPositionAdjustmentPatterns(i,r){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,d=ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let h=0,g=d.length;h!==g;h++){const p=d[h];if(p>=0)for(let E=0;E!==g;E++){const x=d[E];x>=0&&ke.isEmpty(r.get(x,p))&&ke.embedPositionAdjustmentPattern(x-2,p-2,r)}}}}ke.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ke.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ke.VERSION_INFO_POLY=7973,ke.TYPE_INFO_POLY=1335,ke.TYPE_INFO_MASK_PATTERN=21522;class hu{constructor(i,r){this.dataBytes=i,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ht{constructor(){}static calculateMaskPenalty(i){return Jt.applyMaskPenaltyRule1(i)+Jt.applyMaskPenaltyRule2(i)+Jt.applyMaskPenaltyRule3(i)+Jt.applyMaskPenaltyRule4(i)}static encode(i,r,a=null){let d=Ht.DEFAULT_BYTE_MODE_ENCODING;const h=a!==null&&a.get(cn.CHARACTER_SET)!==void 0;h&&(d=a.get(cn.CHARACTER_SET).toString());const g=this.chooseMode(i,d),p=new J;if(g===Oe.BYTE&&(h||Ht.DEFAULT_BYTE_MODE_ENCODING!==d)){const he=ne.getCharacterSetECIByName(d);he!==void 0&&this.appendECI(he,p)}this.appendModeInfo(g,p);const E=new J;this.appendBytes(i,g,E,d);let x;if(a!==null&&a.get(cn.QR_VERSION)!==void 0){const he=Number.parseInt(a.get(cn.QR_VERSION).toString(),10);x=xe.getVersionForNumber(he);const ae=this.calculateBitsNeeded(g,p,E,x);if(!this.willFit(ae,x,r))throw new Bt("Data too big for requested version")}else x=this.recommendVersion(r,g,p,E);const S=new J;S.appendBitArray(p);const I=g===Oe.BYTE?E.getSizeInBytes():i.length;this.appendLengthInfo(I,x,g,S),S.appendBitArray(E);const R=x.getECBlocksForLevel(r),P=x.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(P,S);const U=this.interleaveWithECBytes(S,x.getTotalCodewords(),P,R.getNumBlocks()),H=new ko;H.setECLevel(r),H.setMode(g),H.setVersion(x);const G=x.getDimensionForVersion(),Q=new es(G,G),ue=this.chooseMaskPattern(U,r,x,Q);return H.setMaskPattern(ue),ke.buildMatrix(U,r,x,ue,Q),H.setMatrix(Q),H}static recommendVersion(i,r,a,d){const h=this.calculateBitsNeeded(r,a,d,xe.getVersionForNumber(1)),g=this.chooseVersion(h,i),p=this.calculateBitsNeeded(r,a,d,g);return this.chooseVersion(p,i)}static calculateBitsNeeded(i,r,a,d){return r.getSize()+i.getCharacterCountBits(d)+a.getSize()}static getAlphanumericCode(i){return i<Ht.ALPHANUMERIC_TABLE.length?Ht.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,r=null){if(ne.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(i))return Oe.KANJI;let a=!1,d=!1;for(let h=0,g=i.length;h<g;++h){const p=i.charAt(h);if(Ht.isDigit(p))a=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)d=!0;else return Oe.BYTE}return d?Oe.ALPHANUMERIC:a?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(i){let r;try{r=$e.encode(i,ne.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let d=0;d<a;d+=2){const h=r[d]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,r,a,d){let h=Number.MAX_SAFE_INTEGER,g=-1;for(let p=0;p<ko.NUM_MASK_PATTERNS;p++){ke.buildMatrix(i,r,a,p,d);let E=this.calculateMaskPenalty(d);E<h&&(h=E,g=p)}return g}static chooseVersion(i,r){for(let a=1;a<=40;a++){const d=xe.getVersionForNumber(a);if(Ht.willFit(i,d,r))return d}throw new Bt("Data too big")}static willFit(i,r,a){const d=r.getTotalCodewords(),g=r.getECBlocksForLevel(a).getTotalECCodewords(),p=d-g,E=(i+7)/8;return p>=E}static terminateBits(i,r){const a=i*8;if(r.getSize()>a)throw new Bt("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let g=0;g<4&&r.getSize()<a;++g)r.appendBit(!1);const d=r.getSize()&7;if(d>0)for(let g=d;g<8;g++)r.appendBit(!1);const h=i-r.getSizeInBytes();for(let g=0;g<h;++g)r.appendBits(g&1?17:236,8);if(r.getSize()!==a)throw new Bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,r,a,d,h,g){if(d>=a)throw new Bt("Block ID too large");const p=i%a,E=a-p,x=Math.floor(i/a),S=x+1,I=Math.floor(r/a),R=I+1,P=x-I,U=S-R;if(P!==U)throw new Bt("EC bytes mismatch");if(a!==E+p)throw new Bt("RS blocks mismatch");if(i!==(I+P)*E+(R+U)*p)throw new Bt("Total bytes mismatch");d<E?(h[0]=I,g[0]=P):(h[0]=R,g[0]=U)}static interleaveWithECBytes(i,r,a,d){if(i.getSizeInBytes()!==a)throw new Bt("Number of bits and data bytes does not match");let h=0,g=0,p=0;const E=new Array;for(let S=0;S<d;++S){const I=new Int32Array(1),R=new Int32Array(1);Ht.getNumDataBytesAndNumECBytesForBlockID(r,a,d,S,I,R);const P=I[0],U=new Uint8Array(P);i.toBytes(8*h,U,0,P);const H=Ht.generateECBytes(U,R[0]);E.push(new hu(U,H)),g=Math.max(g,P),p=Math.max(p,H.length),h+=I[0]}if(a!==h)throw new Bt("Data bytes does not match offset");const x=new J;for(let S=0;S<g;++S)for(const I of E){const R=I.getDataBytes();S<R.length&&x.appendBits(R[S],8)}for(let S=0;S<p;++S)for(const I of E){const R=I.getErrorCorrectionBytes();S<R.length&&x.appendBits(R[S],8)}if(r!==x.getSizeInBytes())throw new Bt("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(i,r){const a=i.length,d=new Int32Array(a+r);for(let g=0;g<a;g++)d[g]=i[g]&255;new Ba(gt.QR_CODE_FIELD_256).encode(d,r);const h=new Uint8Array(r);for(let g=0;g<r;g++)h[g]=d[a+g];return h}static appendModeInfo(i,r){r.appendBits(i.getBits(),4)}static appendLengthInfo(i,r,a,d){const h=a.getCharacterCountBits(r);if(i>=1<<h)throw new Bt(i+" is bigger than "+((1<<h)-1));d.appendBits(i,h)}static appendBytes(i,r,a,d){switch(r){case Oe.NUMERIC:Ht.appendNumericBytes(i,a);break;case Oe.ALPHANUMERIC:Ht.appendAlphanumericBytes(i,a);break;case Oe.BYTE:Ht.append8BitBytes(i,a,d);break;case Oe.KANJI:Ht.appendKanjiBytes(i,a);break;default:throw new Bt("Invalid mode: "+r)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const r=Ht.getDigit(i);return r>=0&&r<=9}static appendNumericBytes(i,r){const a=i.length;let d=0;for(;d<a;){const h=Ht.getDigit(i.charAt(d));if(d+2<a){const g=Ht.getDigit(i.charAt(d+1)),p=Ht.getDigit(i.charAt(d+2));r.appendBits(h*100+g*10+p,10),d+=3}else if(d+1<a){const g=Ht.getDigit(i.charAt(d+1));r.appendBits(h*10+g,7),d+=2}else r.appendBits(h,4),d++}}static appendAlphanumericBytes(i,r){const a=i.length;let d=0;for(;d<a;){const h=Ht.getAlphanumericCode(i.charCodeAt(d));if(h===-1)throw new Bt;if(d+1<a){const g=Ht.getAlphanumericCode(i.charCodeAt(d+1));if(g===-1)throw new Bt;r.appendBits(h*45+g,11),d+=2}else r.appendBits(h,6),d++}}static append8BitBytes(i,r,a){let d;try{d=$e.encode(i,a)}catch(h){throw new Bt(h)}for(let h=0,g=d.length;h!==g;h++){const p=d[h];r.appendBits(p,8)}}static appendKanjiBytes(i,r){let a;try{a=$e.encode(i,ne.SJIS)}catch(h){throw new Bt(h)}const d=a.length;for(let h=0;h<d;h+=2){const g=a[h]&255,p=a[h+1]&255,E=g<<8&4294967295|p;let x=-1;if(E>=33088&&E<=40956?x=E-33088:E>=57408&&E<=60351&&(x=E-49472),x===-1)throw new Bt("Invalid byte sequence");const S=(x>>8)*192+(x&255);r.appendBits(S,13)}}static appendECI(i,r){r.appendBits(Oe.ECI.getBits(),4),r.appendBits(i.getValue(),8)}}Ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ht.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class Co{write(i,r,a,d=null){if(i.length===0)throw new b("Found empty contents");if(r<0||a<0)throw new b("Requested dimensions are too small: "+r+"x"+a);let h=lt.L,g=Co.QUIET_ZONE_SIZE;d!==null&&(d.get(cn.ERROR_CORRECTION)!==void 0&&(h=lt.fromString(d.get(cn.ERROR_CORRECTION).toString())),d.get(cn.MARGIN)!==void 0&&(g=Number.parseInt(d.get(cn.MARGIN).toString(),10)));const p=Ht.encode(i,h,d);return this.renderResult(p,r,a,g)}writeToDom(i,r,a,d,h=null){typeof i=="string"&&(i=document.querySelector(i));const g=this.write(r,a,d,h);i&&i.appendChild(g)}renderResult(i,r,a,d){const h=i.getMatrix();if(h===null)throw new ii;const g=h.getWidth(),p=h.getHeight(),E=g+d*2,x=p+d*2,S=Math.max(r,E),I=Math.max(a,x),R=Math.min(Math.floor(S/E),Math.floor(I/x)),P=Math.floor((S-g*R)/2),U=Math.floor((I-p*R)/2),H=this.createSVGElement(S,I);for(let G=0,Q=U;G<p;G++,Q+=R)for(let ue=0,he=P;ue<g;ue++,he+=R)if(h.get(ue,G)===1){const ae=this.createSvgRectElement(he,Q,R,R);H.appendChild(ae)}return H}createSVGElement(i,r){const a=document.createElementNS(Co.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(i,r,a,d){const h=document.createElementNS(Co.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",r.toString()),h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",d.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Co.QUIET_ZONE_SIZE=4,Co.SVG_NS="http://www.w3.org/2000/svg";class oo{encode(i,r,a,d,h){if(i.length===0)throw new b("Found empty contents");if(r!==ie.QR_CODE)throw new b("Can only encode QR_CODE, but got "+r);if(a<0||d<0)throw new b(`Requested dimensions are too small: ${a}x${d}`);let g=lt.L,p=oo.QUIET_ZONE_SIZE;h!==null&&(h.get(cn.ERROR_CORRECTION)!==void 0&&(g=lt.fromString(h.get(cn.ERROR_CORRECTION).toString())),h.get(cn.MARGIN)!==void 0&&(p=Number.parseInt(h.get(cn.MARGIN).toString(),10)));const E=Ht.encode(i,g,h);return oo.renderResult(E,a,d,p)}static renderResult(i,r,a,d){const h=i.getMatrix();if(h===null)throw new ii;const g=h.getWidth(),p=h.getHeight(),E=g+d*2,x=p+d*2,S=Math.max(r,E),I=Math.max(a,x),R=Math.min(Math.floor(S/E),Math.floor(I/x)),P=Math.floor((S-g*R)/2),U=Math.floor((I-p*R)/2),H=new At(S,I);for(let G=0,Q=U;G<p;G++,Q+=R)for(let ue=0,he=P;ue<g;ue++,he+=R)h.get(ue,G)===1&&H.setRegion(he,Q,R,R);return H}}oo.QUIET_ZONE_SIZE=4;class zo{encode(i,r,a,d,h){let g;switch(r){case ie.QR_CODE:g=new oo;break;default:throw new b("No encoder available for format "+r)}return g.encode(i,r,a,d,h)}}class Wi extends te{constructor(i,r,a,d,h,g,p,E){if(super(g,p),this.yuvData=i,this.dataWidth=r,this.dataHeight=a,this.left=d,this.top=h,d+g>r||h+p>a)throw new b("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(g,p)}getRow(i,r){if(i<0||i>=this.getHeight())throw new b("Requested row is outside the image: "+i);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const d=(i+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,d,r,0,a),r}getMatrix(){const i=this.getWidth(),r=this.getHeight();if(i===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=i*r,d=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return j.arraycopy(this.yuvData,h,d,0,a),d;for(let g=0;g<r;g++){const p=g*i;j.arraycopy(this.yuvData,h,d,p,i),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,r,a,d){return new Wi(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+r,a,d,!1)}renderThumbnail(){const i=this.getWidth()/Wi.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Wi.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*r),d=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let g=0;g<r;g++){const p=g*i;for(let E=0;E<i;E++){const x=d[h+E*Wi.THUMBNAIL_SCALE_FACTOR]&255;a[p+E]=4278190080|x*65793}h+=this.dataWidth*Wi.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Wi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,r){const a=this.yuvData;for(let d=0,h=this.top*this.dataWidth+this.left;d<r;d++,h+=this.dataWidth){const g=h+i/2;for(let p=h,E=h+i-1;p<g;p++,E--){const x=a[p];a[p]=a[E],a[E]=x}}}invert(){return new Fe(this)}}Wi.THUMBNAIL_SCALE_FACTOR=2;class Uo extends te{constructor(i,r,a,d,h,g,p){if(super(r,a),this.dataWidth=d,this.dataHeight=h,this.left=g,this.top=p,i.BYTES_PER_ELEMENT===4){const E=r*a,x=new Uint8ClampedArray(E);for(let S=0;S<E;S++){const I=i[S],R=I>>16&255,P=I>>7&510,U=I&255;x[S]=(R+P+U)/4&255}this.luminances=x}else this.luminances=i;if(d===void 0&&(this.dataWidth=r),h===void 0&&(this.dataHeight=a),g===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(i,r){if(i<0||i>=this.getHeight())throw new b("Requested row is outside the image: "+i);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const d=(i+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,d,r,0,a),r}getMatrix(){const i=this.getWidth(),r=this.getHeight();if(i===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=i*r,d=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return j.arraycopy(this.luminances,h,d,0,a),d;for(let g=0;g<r;g++){const p=g*i;j.arraycopy(this.luminances,h,d,p,i),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,r,a,d){return new Uo(this.luminances,a,d,this.dataWidth,this.dataHeight,this.left+i,this.top+r)}invert(){return new Fe(this)}}class si extends ne{static forName(i){return this.getCharacterSetECIByName(i)}}class Os{}Os.ISO_8859_1=ne.ISO8859_1;class ka{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class pd{static singletonList(i){return[i]}static min(i,r){return i.sort(r)[0]}}class za{constructor(i){this.previous=i}getPrevious(){return this.previous}}class So extends za{constructor(i,r,a){super(i),this.value=r,this.bitCount=a}appendTo(i,r){i.appendBits(this.value,this.bitCount)}add(i,r){return new So(this,i,r)}addBinaryShift(i,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new So(this,i,r)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+B.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Ua extends So{constructor(i,r,a){super(i,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(i,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(i,r){return new Ua(this,i,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fu(T,i,r){return new Ua(T,i,r)}function ur(T,i,r){return new So(T,i,r)}const gu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xn=0,ro=1,pi=2,Vi=3,ji=4,hr=new So(null,0,0),Ha=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ts(T){for(let i of T)F.fill(i,-1);return T[xn][ji]=0,T[ro][ji]=0,T[ro][xn]=28,T[Vi][ji]=0,T[pi][ji]=0,T[pi][xn]=15,T}const Wa=ts(F.createInt32Array(6,6));class ai{constructor(i,r,a,d){this.token=i,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,r){let a=this.bitCount,d=this.token;if(i!==this.mode){let g=Ha[this.mode][i];d=ur(d,g&65535,g>>16),a+=g>>16}let h=i===pi?4:5;return d=ur(d,r,h),new ai(d,i,0,a+h)}shiftAndAppend(i,r){let a=this.token,d=this.mode===pi?4:5;return a=ur(a,Wa[this.mode][i],d),a=ur(a,r,5),new ai(a,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(i){let r=this.token,a=this.mode,d=this.bitCount;if(this.mode===ji||this.mode===pi){let p=Ha[a][xn];r=ur(r,p&65535,p>>16),d+=p>>16,a=xn}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new ai(r,a,this.binaryShiftByteCount+1,d+h);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(i+1)),g}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=fu(r,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ai(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let r=this.bitCount+(Ha[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?r+=ai.calculateBinaryShiftCost(i)-ai.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(r+=10),r<=i.bitCount}toBitArray(i){let r=[];for(let d=this.endBinaryShift(i.length).token;d!==null;d=d.getPrevious())r.unshift(d);let a=new J;for(const d of r)d.appendTo(a,i);return a}toString(){return Ae.format("%s bits=%d bytes=%d",gu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ai.INITIAL_STATE=new ai(hr,xn,0,0);function pu(T){const i=Ae.getCharCode(" "),r=Ae.getCharCode("."),a=Ae.getCharCode(",");T[xn][i]=1;const d=Ae.getCharCode("Z"),h=Ae.getCharCode("A");for(let R=h;R<=d;R++)T[xn][R]=R-h+2;T[ro][i]=1;const g=Ae.getCharCode("z"),p=Ae.getCharCode("a");for(let R=p;R<=g;R++)T[ro][R]=R-p+2;T[pi][i]=1;const E=Ae.getCharCode("9"),x=Ae.getCharCode("0");for(let R=x;R<=E;R++)T[pi][R]=R-x+2;T[pi][a]=12,T[pi][r]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<S.length;R++)T[Vi][Ae.getCharCode(S[R])]=R;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<I.length;R++)Ae.getCharCode(I[R])>0&&(T[ji][Ae.getCharCode(I[R])]=R);return T}const Gi=pu(F.createInt32Array(5,256));class Ao{constructor(i){this.text=i}encode(){const i=Ae.getCharCode(" "),r=Ae.getCharCode(`
`);let a=pd.singletonList(ai.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let g,p=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case Ae.getCharCode("\r"):g=p===r?2:0;break;case Ae.getCharCode("."):g=p===i?3:0;break;case Ae.getCharCode(","):g=p===i?4:0;break;case Ae.getCharCode(":"):g=p===i?5:0;break;default:g=0}g>0?(a=Ao.updateStateListForPair(a,h,g),h++):a=this.updateStateListForChar(a,h)}return pd.min(a,(h,g)=>h.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,r){const a=[];for(let d of i)this.updateStateForChar(d,r,a);return Ao.simplifyStates(a)}updateStateForChar(i,r,a){let d=this.text[r]&255,h=Gi[i.getMode()][d]>0,g=null;for(let p=0;p<=ji;p++){let E=Gi[p][d];if(E>0){if(g==null&&(g=i.endBinaryShift(r)),!h||p===i.getMode()||p===pi){const x=g.latchAndAppend(p,E);a.push(x)}if(!h&&Wa[i.getMode()][p]>=0){const x=g.shiftAndAppend(p,E);a.push(x)}}}if(i.getBinaryShiftByteCount()>0||Gi[i.getMode()][d]===0){let p=i.addBinaryShiftChar(r);a.push(p)}}static updateStateListForPair(i,r,a){const d=[];for(let h of i)this.updateStateForPair(h,r,a,d);return this.simplifyStates(d)}static updateStateForPair(i,r,a,d){let h=i.endBinaryShift(r);if(d.push(h.latchAndAppend(ji,a)),i.getMode()!==ji&&d.push(h.shiftAndAppend(ji,a)),a===3||a===4){let g=h.latchAndAppend(pi,16-a).latchAndAppend(pi,1);d.push(g)}if(i.getBinaryShiftByteCount()>0){let g=i.addBinaryShiftChar(r).addBinaryShiftChar(r+1);d.push(g)}}static simplifyStates(i){let r=[];for(const a of i){let d=!0;for(const h of r){if(h.isBetterThanOrEqualTo(a)){d=!1;break}a.isBetterThanOrEqualTo(h)&&(r=r.filter(g=>g!==h))}d&&r.push(a)}return r}}class Ct{constructor(){}static encodeBytes(i){return Ct.encode(i,Ct.DEFAULT_EC_PERCENT,Ct.DEFAULT_AZTEC_LAYERS)}static encode(i,r,a){let d=new Ao(i).encode(),h=B.truncDivision(d.getSize()*r,100)+11,g=d.getSize()+h,p,E,x,S,I;if(a!==Ct.DEFAULT_AZTEC_LAYERS){if(p=a<0,E=Math.abs(a),E>(p?Ct.MAX_NB_BITS_COMPACT:Ct.MAX_NB_BITS))throw new b(Ae.format("Illegal value %s for layers",a));x=Ct.totalBitsInLayer(E,p),S=Ct.WORD_SIZE[E];let ae=x-x%S;if(I=Ct.stuffBits(d,S),I.getSize()+h>ae)throw new b("Data to large for user specified layer");if(p&&I.getSize()>S*64)throw new b("Data to large for user specified layer")}else{S=0,I=null;for(let ae=0;;ae++){if(ae>Ct.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(p=ae<=3,E=p?ae+1:ae,x=Ct.totalBitsInLayer(E,p),g>x)continue;(I==null||S!==Ct.WORD_SIZE[E])&&(S=Ct.WORD_SIZE[E],I=Ct.stuffBits(d,S));let dt=x-x%S;if(!(p&&I.getSize()>S*64)&&I.getSize()+h<=dt)break}}let R=Ct.generateCheckWords(I,x,S),P=I.getSize()/S,U=Ct.generateModeMessage(p,E,P),H=(p?11:14)+E*4,G=new Int32Array(H),Q;if(p){Q=H;for(let ae=0;ae<G.length;ae++)G[ae]=ae}else{Q=H+1+2*B.truncDivision(B.truncDivision(H,2)-1,15);let ae=B.truncDivision(H,2),dt=B.truncDivision(Q,2);for(let qe=0;qe<ae;qe++){let en=qe+B.truncDivision(qe,15);G[ae-qe-1]=dt-en-1,G[ae+qe]=dt+en+1}}let ue=new At(Q);for(let ae=0,dt=0;ae<E;ae++){let qe=(E-ae)*4+(p?9:12);for(let en=0;en<qe;en++){let Yn=en*2;for(let Xn=0;Xn<2;Xn++)R.get(dt+Yn+Xn)&&ue.set(G[ae*2+Xn],G[ae*2+en]),R.get(dt+qe*2+Yn+Xn)&&ue.set(G[ae*2+en],G[H-1-ae*2-Xn]),R.get(dt+qe*4+Yn+Xn)&&ue.set(G[H-1-ae*2-Xn],G[H-1-ae*2-en]),R.get(dt+qe*6+Yn+Xn)&&ue.set(G[H-1-ae*2-en],G[ae*2+Xn])}dt+=qe*8}if(Ct.drawModeMessage(ue,p,Q,U),p)Ct.drawBullsEye(ue,B.truncDivision(Q,2),5);else{Ct.drawBullsEye(ue,B.truncDivision(Q,2),7);for(let ae=0,dt=0;ae<B.truncDivision(H,2)-1;ae+=15,dt+=16)for(let qe=B.truncDivision(Q,2)&1;qe<Q;qe+=2)ue.set(B.truncDivision(Q,2)-dt,qe),ue.set(B.truncDivision(Q,2)+dt,qe),ue.set(qe,B.truncDivision(Q,2)-dt),ue.set(qe,B.truncDivision(Q,2)+dt)}let he=new ka;return he.setCompact(p),he.setSize(Q),he.setLayers(E),he.setCodeWords(P),he.setMatrix(ue),he}static drawBullsEye(i,r,a){for(let d=0;d<a;d+=2)for(let h=r-d;h<=r+d;h++)i.set(h,r-d),i.set(h,r+d),i.set(r-d,h),i.set(r+d,h);i.set(r-a,r-a),i.set(r-a+1,r-a),i.set(r-a,r-a+1),i.set(r+a,r-a),i.set(r+a,r-a+1),i.set(r+a,r+a-1)}static generateModeMessage(i,r,a){let d=new J;return i?(d.appendBits(r-1,2),d.appendBits(a-1,6),d=Ct.generateCheckWords(d,28,4)):(d.appendBits(r-1,5),d.appendBits(a-1,11),d=Ct.generateCheckWords(d,40,4)),d}static drawModeMessage(i,r,a,d){let h=B.truncDivision(a,2);if(r)for(let g=0;g<7;g++){let p=h-3+g;d.get(g)&&i.set(p,h-5),d.get(g+7)&&i.set(h+5,p),d.get(20-g)&&i.set(p,h+5),d.get(27-g)&&i.set(h-5,p)}else for(let g=0;g<10;g++){let p=h-5+g+B.truncDivision(g,5);d.get(g)&&i.set(p,h-7),d.get(g+10)&&i.set(h+7,p),d.get(29-g)&&i.set(p,h+7),d.get(39-g)&&i.set(h-7,p)}}static generateCheckWords(i,r,a){let d=i.getSize()/a,h=new Ba(Ct.getGF(a)),g=B.truncDivision(r,a),p=Ct.bitsToWords(i,a,g);h.encode(p,g-d);let E=r%a,x=new J;x.appendBits(0,E);for(const S of Array.from(p))x.appendBits(S,a);return x}static bitsToWords(i,r,a){let d=new Int32Array(a),h,g;for(h=0,g=i.getSize()/r;h<g;h++){let p=0;for(let E=0;E<r;E++)p|=i.get(h*r+E)?1<<r-E-1:0;d[h]=p}return d}static getGF(i){switch(i){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new b("Unsupported word size "+i)}}static stuffBits(i,r){let a=new J,d=i.getSize(),h=(1<<r)-2;for(let g=0;g<d;g+=r){let p=0;for(let E=0;E<r;E++)(g+E>=d||i.get(g+E))&&(p|=1<<r-1-E);(p&h)===h?(a.appendBits(p&h,r),g--):p&h?a.appendBits(p,r):(a.appendBits(p|1,r),g--)}return a}static totalBitsInLayer(i,r){return((r?88:112)+16*i)*i}}Ct.DEFAULT_EC_PERCENT=33,Ct.DEFAULT_AZTEC_LAYERS=0,Ct.MAX_NB_BITS=32,Ct.MAX_NB_BITS_COMPACT=4,Ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class fr{encode(i,r,a,d){return this.encodeWithHints(i,r,a,d,null)}encodeWithHints(i,r,a,d,h){let g=Os.ISO_8859_1,p=Ct.DEFAULT_EC_PERCENT,E=Ct.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(cn.CHARACTER_SET)&&(g=si.forName(h.get(cn.CHARACTER_SET).toString())),h.has(cn.ERROR_CORRECTION)&&(p=B.parseInt(h.get(cn.ERROR_CORRECTION).toString())),h.has(cn.AZTEC_LAYERS)&&(E=B.parseInt(h.get(cn.AZTEC_LAYERS).toString()))),fr.encodeLayers(i,r,a,d,g,p,E)}static encodeLayers(i,r,a,d,h,g,p){if(r!==ie.AZTEC)throw new b("Can only encode AZTEC, but got "+r);let E=Ct.encode(Ae.getBytes(i,h),g,p);return fr.renderResult(E,a,d)}static renderResult(i,r,a){let d=i.getMatrix();if(d==null)throw new ii;let h=d.getWidth(),g=d.getHeight(),p=Math.max(r,h),E=Math.max(a,g),x=Math.min(p/h,E/g),S=(p-h*x)/2,I=(E-g*x)/2,R=new At(p,E);for(let P=0,U=I;P<g;P++,U+=x)for(let H=0,G=S;H<h;H++,G+=x)d.get(H,P)&&R.setRegion(G,U,x,x);return R}}n.AbstractExpandedDecoder=Me,n.ArgumentException=N,n.ArithmeticException=Ai,n.AztecCode=ka,n.AztecCodeReader=Oo,n.AztecCodeWriter=fr,n.AztecDecoder=Tt,n.AztecDetector=Gr,n.AztecDetectorResult=Vr,n.AztecEncoder=Ct,n.AztecHighLevelEncoder=Ao,n.AztecPoint=Cn,n.BarcodeFormat=ie,n.Binarizer=X,n.BinaryBitmap=D,n.BitArray=J,n.BitMatrix=At,n.BitSource=ar,n.BrowserAztecCodeReader=ba,n.BrowserBarcodeReader=Xr,n.BrowserCodeReader=Pt,n.BrowserDatamatrixCodeReader=La,n.BrowserMultiFormatReader=fd,n.BrowserPDF417Reader=wo,n.BrowserQRCodeReader=gd,n.BrowserQRCodeSvgWriter=Co,n.CharacterSetECI=ne,n.ChecksumException=V,n.Code128Reader=pe,n.Code39Reader=$t,n.DataMatrixDecodedBitStreamParser=oi,n.DataMatrixReader=Dt,n.DecodeHintType=de,n.DecoderResult=rt,n.DefaultGridSampler=jr,n.DetectorResult=Do,n.EAN13Reader=bi,n.EncodeHintType=cn,n.Exception=y,n.FormatException=K,n.GenericGF=gt,n.GenericGFPoly=nt,n.GlobalHistogramBinarizer=ct,n.GridSampler=or,n.GridSamplerInstance=Ii,n.HTMLCanvasElementLuminanceSource=ce,n.HybridBinarizer=ze,n.ITFReader=Rt,n.IllegalArgumentException=b,n.IllegalStateException=ii,n.InvertedLuminanceSource=Fe,n.LuminanceSource=te,n.MathUtils=st,n.MultiFormatOneDReader=vo,n.MultiFormatReader=hd,n.MultiFormatWriter=zo,n.NotFoundException=ee,n.OneDReader=Be,n.PDF417DecodedBitStreamParser=q,n.PDF417DecoderErrorCorrection=Rs,n.PDF417Reader=In,n.PDF417ResultMetadata=Fa,n.PerspectiveTransform=Hn,n.PlanarYUVLuminanceSource=Wi,n.QRCodeByteMatrix=es,n.QRCodeDataMask=Dn,n.QRCodeDecodedBitStreamParser=jt,n.QRCodeDecoderErrorCorrectionLevel=lt,n.QRCodeDecoderFormatInformation=Ln,n.QRCodeEncoder=Ht,n.QRCodeEncoderQRCode=ko,n.QRCodeMaskUtil=Jt,n.QRCodeMatrixUtil=ke,n.QRCodeMode=Oe,n.QRCodeReader=An,n.QRCodeVersion=xe,n.QRCodeWriter=oo,n.RGBLuminanceSource=Uo,n.RSS14Reader=sn,n.RSSExpandedReader=oe,n.ReaderException=ri,n.ReedSolomonDecoder=yo,n.ReedSolomonEncoder=Ba,n.ReedSolomonException=fi,n.Result=Ze,n.ResultMetadataType=tt,n.ResultPoint=Te,n.StringUtils=Ae,n.UnsupportedOperationException=Pe,n.VideoInputDevice=He,n.WhiteRectangleDetector=Ti,n.WriterException=Bt,n.ZXingArrays=F,n.ZXingCharset=si,n.ZXingInteger=B,n.ZXingStandardCharsets=Os,n.ZXingStringBuilder=ot,n.ZXingStringEncoding=$e,n.ZXingSystem=j,n.createAbstractExpandedDecoder=Yr,Object.defineProperty(n,"__esModule",{value:!0})})})(Kh,Kh.exports);var nn=Kh.exports;const Ry=kc(nn),My=Z3({__proto__:null,default:Ry},[nn]);var Tg=function(){function t(e,n,o){if(this.formatMap=new Map([[Ie.QR_CODE,nn.BarcodeFormat.QR_CODE],[Ie.AZTEC,nn.BarcodeFormat.AZTEC],[Ie.CODABAR,nn.BarcodeFormat.CODABAR],[Ie.CODE_39,nn.BarcodeFormat.CODE_39],[Ie.CODE_93,nn.BarcodeFormat.CODE_93],[Ie.CODE_128,nn.BarcodeFormat.CODE_128],[Ie.DATA_MATRIX,nn.BarcodeFormat.DATA_MATRIX],[Ie.MAXICODE,nn.BarcodeFormat.MAXICODE],[Ie.ITF,nn.BarcodeFormat.ITF],[Ie.EAN_13,nn.BarcodeFormat.EAN_13],[Ie.EAN_8,nn.BarcodeFormat.EAN_8],[Ie.PDF_417,nn.BarcodeFormat.PDF_417],[Ie.RSS_14,nn.BarcodeFormat.RSS_14],[Ie.RSS_EXPANDED,nn.BarcodeFormat.RSS_EXPANDED],[Ie.UPC_A,nn.BarcodeFormat.UPC_A],[Ie.UPC_E,nn.BarcodeFormat.UPC_E],[Ie.UPC_EAN_EXTENSION,nn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!My)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=o;var l=this.createZXingFormats(e),c=new Map;c.set(nn.DecodeHintType.POSSIBLE_FORMATS,l),c.set(nn.DecodeHintType.TRY_HARDER,!1),this.hints=c}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(o,l){try{o(n.decode(e))}catch(c){l(c)}})},t.prototype.decode=function(e){var n=new nn.MultiFormatReader(this.verbose,this.hints),o=new nn.HTMLCanvasElementLuminanceSource(e),l=new nn.BinaryBitmap(new nn.HybridBinarizer(o)),c=n.decode(l);return{text:c.text,format:Z2.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,o,l){e.set(n,o)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],o=0,l=e;o<l.length;o++){var c=l[o];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),Ly=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(b){m(b)}}function C(N){try{y(o.throw(N))}catch(b){m(b)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},Dy=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Ig=function(){function t(e,n,o){if(this.formatMap=new Map([[Ie.QR_CODE,"qr_code"],[Ie.AZTEC,"aztec"],[Ie.CODABAR,"codabar"],[Ie.CODE_39,"code_39"],[Ie.CODE_93,"code_93"],[Ie.CODE_128,"code_128"],[Ie.DATA_MATRIX,"data_matrix"],[Ie.ITF,"itf"],[Ie.EAN_13,"ean_13"],[Ie.EAN_8,"ean_8"],[Ie.PDF_417,"pdf417"],[Ie.UPC_A,"upc_a"],[Ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=o;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return Ly(this,void 0,void 0,function(){var n,o;return Dy(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(n),[2,{text:o.rawValue,format:Z2.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,o=0,l=0,c=e;l<c.length;l++){var m=c[l],v=m.boundingBox.width*m.boundingBox.height;v>o&&(o=v,n=m)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],o=0,l=e;o<l.length;o++){var c=l[o];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,o,l){e.set(n,o)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),bg=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(b){m(b)}}function C(N){try{y(o.throw(N))}catch(b){m(b)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},Ng=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Oy=function(){function t(e,n,o,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,n&&Ig.isSupported()?(this.primaryDecoder=new Ig(e,o,l),this.secondaryDecoder=new Tg(e,o,l)):this.primaryDecoder=new Tg(e,o,l)}return t.prototype.decodeAsync=function(e){return bg(this,void 0,void 0,function(){var n;return Ng(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return bg(this,void 0,void 0,function(){var n,o;return Ng(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(o=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw o;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,o=this.executionResults;n<o.length;n++){var l=o[n];e+=l}var c=e/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),ff=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),yc=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(b){m(b)}}function C(N){try{y(o.throw(N))}catch(b){m(b)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},xc=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},K2=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var o={advanced:[n]};return this.track.applyConstraints(o)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),Py=function(t){ff(e,t);function e(n,o){return t.call(this,n,o)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var o={};o[this.name]=n;var l={advanced:[o]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),o=n[this.name];return{min:o.min,max:o.max,step:o.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(K2),Fy=function(t){ff(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(Py),By=function(t){ff(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(K2),ky=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Fy(this.track)},t.prototype.torchFeature=function(){return new By(this.track)},t}(),zy=function(){function t(e,n,o){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var o=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(o,l),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,o,l){return yc(this,void 0,void 0,function(){var c,m;return xc(this,function(v){switch(v.label){case 0:return c=new t(e,n,l),o.aspectRatio?(m={aspectRatio:o.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:v.sent(),v.label=2;case 2:return c.setupSurface(),[2,c]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,o=function(){setTimeout(e,200),n.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return yc(this,void 0,void 0,function(){return xc(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,o){var l=e.mediaStream.getVideoTracks(),c=l.length,m=0;e.mediaStream.getVideoTracks().forEach(function(v){e.mediaStream.removeTrack(v),v.stop(),++m,m>=c&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new ky(this.getFirstTrackOrFail())},t}(),Uy=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,o){return yc(this,void 0,void 0,function(){return xc(this,function(l){return[2,zy.create(e,this.mediaStream,n,o)]})})},t.create=function(e){return yc(this,void 0,void 0,function(){var n,o;return xc(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return o=l.sent(),[2,new t(o)]}})})},t}(),Rg=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(b){m(b)}}function C(N){try{y(o.throw(N))}catch(b){m(b)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},Mg=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Hy=function(){function t(){}return t.failIfNotSupported=function(){return Rg(this,void 0,void 0,function(){return Mg(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Rg(this,void 0,void 0,function(){return Mg(this,function(n){return[2,Uy.create(e)]})})},t}(),Wy=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(b){m(b)}}function C(N){try{y(o.throw(N))}catch(b){m(b)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},Vy=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},jy=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=qs.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=qs.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Wy(this,void 0,void 0,function(){var e,n,o,l,c,m,v;return Vy(this,function(C){switch(C.label){case 0:return e=function(y){for(var N=y.getVideoTracks(),b=0,D=N;b<D.length;b++){var V=D[b];V.enabled=!1,V.stop(),y.removeTrack(V)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=C.sent(),l=[],c=0,m=o;c<m.length;c++)v=m[c],v.kind==="videoinput"&&l.push({id:v.deviceId,label:v.label});return e(n),[2,l]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var o=function(c){for(var m=[],v=0,C=c;v<C.length;v++){var y=C[v];y.kind==="video"&&m.push({id:y.id,label:y.label})}e(m)},l=MediaStreamTrack;l.getSources(o)})},t}(),gn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(gn||(gn={}));var Gy=function(){function t(){this.state=gn.NOT_STARTED,this.onGoingTransactionNewState=gn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===gn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=gn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===gn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=gn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==gn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case gn.UNKNOWN:throw"Transition from unknown is not allowed";case gn.NOT_STARTED:this.failIfNewStateIs(e,[gn.PAUSED]);break;case gn.SCANNING:break;case gn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var o=0,l=n;o<l.length;o++){var c=l[o];if(e===c)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),Zy=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===gn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==gn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===gn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===gn.PAUSED},t}(),Yy=function(){function t(){}return t.create=function(){return new Zy(new Gy)},t}(),Xy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Li=function(t){Xy(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(co),Qy=function(){function t(e,n){this.logger=n,this.fps=Li.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Li.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Q2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!bo(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),Lg=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var o;typeof n=="boolean"?this.verbose=n===!0:n&&(o=n,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new X2(this.verbose),this.qrcode=new Oy(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Yy.create()}return t.prototype.start=function(e,n,o,l){var c=this;if(!e)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;l?m=l:m=this.verbose?this.logger.log:function(){};var v=Qy.create(n,this.logger);this.clearElement();var C=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=C,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:Li.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var b=this,D=this.stateManagerProxy.startTransition(gn.SCANNING);return new Promise(function(V,X){var j=y?v.videoConstraints:b.createVideoConstraints(e);if(!j){D.cancel(),X("videoConstraints should be defined");return}var ye={};(!y||v.aspectRatio)&&(ye.aspectRatio=v.aspectRatio);var W={onRenderSurfaceReady:function(F,B){b.setupUi(F,B,v),b.isScanning=!0,b.foreverScan(v,o,m)}};Hy.failIfNotSupported().then(function(F){F.create(j).then(function(B){return B.render(c.element,ye,W).then(function(J){b.renderedCamera=J,D.execute(),V(null)}).catch(function(J){D.cancel(),X(J)})}).catch(function(B){D.cancel(),X(qs.errorGettingUserMedia(B))})}).catch(function(F){D.cancel(),X(qs.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(gn.PAUSED),this.showPausedState(),(bo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(gn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(gn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(e.element){var c=document.getElementById(Li.SHADED_REGION_ELEMENT_ID);c&&e.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),o(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(o){return o.decodedText})},t.prototype.scanFileV2=function(e,n){var o=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(e);var m=new Image;m.onload=function(){var v=m.width,C=m.height,y=document.getElementById(o.elementId),N=y.clientWidth?y.clientWidth:Li.DEFAULT_WIDTH,b=Math.max(y.clientHeight?y.clientHeight:C,Li.FILE_SCAN_MIN_HEIGHT),D=o.computeCanvasDrawConfig(v,C,N,b);if(n){var V=o.createCanvasElement(N,b,"qr-canvas-visible");V.style.display="inline-block",y.appendChild(V);var X=V.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=N,X.canvas.height=b,X.drawImage(m,0,0,v,C,D.x,D.y,D.width,D.height)}var j=Li.FILE_SCAN_HIDDEN_CANVAS_PADDING,ye=Math.max(m.width,D.width),W=Math.max(m.height,D.height),F=ye+2*j,B=W+2*j,J=o.createCanvasElement(F,B);y.appendChild(J);var Ee=J.getContext("2d");if(!Ee)throw"Unable to get 2d context from canvas";Ee.canvas.width=F,Ee.canvas.height=B,Ee.drawImage(m,0,0,v,C,j,j,ye,W);try{o.qrcode.decodeRobustlyAsync(J).then(function(de){l(Sg.createFromQrcodeResult(de))}).catch(c)}catch(de){c("QR code parse error, error = ".concat(de))}},m.onerror=c,m.onabort=c,m.onstalled=c,m.onsuspend=c,m.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return jy.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!Q2.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Ie.QR_CODE,Ie.AZTEC,Ie.CODABAR,Ie.CODE_39,Ie.CODE_93,Ie.CODE_128,Ie.DATA_MATRIX,Ie.MAXICODE,Ie.ITF,Ie.EAN_13,Ie.EAN_8,Ie.PDF_417,Ie.RSS_14,Ie.RSS_EXPANDED,Ie.UPC_A,Ie.UPC_E,Ie.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],l=0,c=e.formatsToSupport;l<c.length;l++){var m=c[l];by(m)?o.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(bo(e))return!0;if(!bo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(bo(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return bo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,o){var l=this,c=o.qrbox;this.validateQrboxConfig(c);var m=this.toQrdimensions(e,n,c),v=function(y){if(y<Li.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Li.MIN_QR_BOX_SIZE,"px.")},C=function(y){return y>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};v(m.width),v(m.height),m.width=C(m.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(e,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return o},t.prototype.setupUi=function(e,n,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,o);var l=bo(o.qrbox)?{width:e,height:n}:o.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(e,n,l);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=o.isShadedBoxEnabled()&&c.height<=n,v={x:0,y:0,width:e,height:n},C=m?this.getShadedRegionBounds(e,n,c):v,y=this.createCanvasElement(C.width,C.height),N={willReadFrequently:!0},b=y.getContext("2d",N);b.canvas.width=C.width,b.canvas.height=C.height,this.element.append(y),m&&this.possiblyInsertShadingElement(this.element,e,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=b,this.canvasElement=y},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=qs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,Sg.createFromQrcodeResult(l)),o.possiblyUpdateShaders(!0),!0}).catch(function(l){o.possiblyUpdateShaders(!1);var c=qs.codeParseError(l);return n(c,Y2.createFrom(c)),!1})},t.prototype.foreverScan=function(e,n,o){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),m=c.videoWidth/c.clientWidth,v=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*m,y=this.qrRegion.height*v,N=this.qrRegion.x*m,b=this.qrRegion.y*v;this.context.drawImage(c,N,b,C,y,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,n,o)},l.getTimeoutFps(e.fps))};this.scanContext(n,o).then(function(V){!V&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,o).finally(function(){D()})):D()}).catch(function(V){l.logger.logError("Error happend while scanning context",V),D()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",o="deviceId",l={user:!0,environment:!0},c="exact",m=function(X){if(X in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(X,"'")},v=Object.keys(e);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var C=Object.keys(e)[0];if(C!==n&&C!==o)throw"Only '".concat(n,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(C===n){var y=e.facingMode;if(typeof y=="string"){if(m(y))return{facingMode:y}}else if(typeof y=="object")if(c in y){if(m(y["".concat(c)]))return{facingMode:{exact:y["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var N=typeof y;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var b=e.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(c in b)return{deviceId:{exact:b["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var D=typeof b;throw"Invalid type of 'deviceId' = ".concat(D)}}}var V=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(V)},t.prototype.computeCanvasDrawConfig=function(e,n,o,l){if(e<=o&&n<=l){var c=(o-e)/2,m=(l-n)/2;return{x:c,y:m,width:e,height:n}}else{var v=e,C=n;return e>o&&(n=o/e*n,e=o),n>l&&(e=l/n*e,n=l),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(C)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,o,l)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Li.BORDER_SHADER_MATCH_COLOR:Li.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,o){var l=e,c=n,m=document.createElement("canvas");return m.style.width="".concat(l,"px"),m.style.height="".concat(c,"px"),m.style.display="none",m.id=bo(o)?"qr-canvas":o,m},t.prototype.getShadedRegionBounds=function(e,n,o){if(o.width>e||o.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-o.width)/2,y:(n-o.height)/2,width:o.width,height:o.height}},t.prototype.possiblyInsertShadingElement=function(e,n,o,l){if(!(n-l.width<1||o-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var m=(n-l.width)/2,v=(o-l.height)/2;if(c.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Li.SHADED_REGION_ELEMENT_ID),n-l.width<11||o-l.height<11)this.hasBorderShaders=!1;else{var C=5,y=40;this.insertShaderBorders(c,y,C,-C,null,0,!0),this.insertShaderBorders(c,y,C,-C,null,0,!1),this.insertShaderBorders(c,y,C,null,-C,0,!0),this.insertShaderBorders(c,y,C,null,-C,0,!1),this.insertShaderBorders(c,C,y+C,-C,null,-C,!0),this.insertShaderBorders(c,C,y+C,null,-C,-C,!0),this.insertShaderBorders(c,C,y+C,-C,null,-C,!1),this.insertShaderBorders(c,C,y+C,null,-C,-C,!1),this.hasBorderShaders=!0}e.append(c)}},t.prototype.insertShaderBorders=function(e,n,o,l,c,m,v){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=Li.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(n,"px"),C.style.height="".concat(o,"px"),l!==null&&(C.style.top="".concat(l,"px")),c!==null&&(C.style.bottom="".concat(c,"px")),v?C.style.left="".concat(m,"px"):C.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),e.appendChild(C)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),gf="data:image/svg+xml;base64,",Ky=gf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",qy=gf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Dg=gf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",$y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Og=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),Jy=function(){function t(){this.data=Og.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Og.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),e5=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ag.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var o=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=Ag.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),t5=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Dg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return n.onHoverIn()},this.infoIcon.onmouseout=function(o){return n.onHoverOut()},this.infoIcon.onclick=function(o){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=$y,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Dg,this.infoIcon.style.opacity="0.6")},t}(),n5=function(){function t(){var e=this;this.infoDiv=new e5,this.infoIcon=new t5(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),i5=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(b){m(b)}}function C(N){try{y(o.throw(N))}catch(b){m(b)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},o5=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Pg=function(){function t(){}return t.hasPermissions=function(){return i5(this,void 0,void 0,function(){var e,n,o,l;return o5(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=c.sent(),n=0,o=e;n<o.length;n++)if(l=o[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},t}(),_r=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var o=n[e];if(t.isCameraScanType(o))return!0}return!1},t.isCameraScanType=function(e){return e===Br.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Br.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return co.DEFAULT_SUPPORTED_SCAN_TYPE;var n=co.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var o=0,l=e;o<l.length;o++){var c=l[o];if(!co.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return e},t}(),Pi=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Zo=function(){function t(){}return t.createElement=function(e,n){var o=document.createElement(e);return o.id=n,o.classList.add(Pi.ALL_ELEMENT_CLASS),e==="button"&&o.setAttribute("type","button"),o},t}(),q2=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(b){m(b)}}function C(N){try{y(o.throw(N))}catch(b){m(b)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},$2=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Fg=function(){function t(e,n,o){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=o}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return q2(this,void 0,void 0,function(){var e,n;return $2(this,function(o){switch(o.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=o.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?kt.torchOffButton():kt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var o=e?kt.torchOnFailedMessage():kt.torchOffFailedMessage();n&&(o+="; Error = "+n),this.onTorchActionFailureCallback(o)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),r5=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Zo.createElement("button",Pi.TORCH_BUTTON_ID),this.torchController=new Fg(e,this,n)}return t.prototype.render=function(e,n){var o=this;this.torchButton.innerText=kt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return q2(o,void 0,void 0,function(){return $2(this,function(m){switch(m.label){case 0:return[4,l.torchController.flipState()];case 1:return m.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(Pi.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(Pi.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(Pi.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(Pi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Fg(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=kt.torchOnButton(),this.torchController.reset()},t.create=function(e,n,o,l){var c=new t(n,l);return c.render(e,o),c},t}(),s5=function(){function t(e,n,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Zo.createElement("button",Pi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(v){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Zo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(v){if(!(v==null||v.target==null)){var C=v.target;if(!(C.files&&C.files.length===0)){var y=C.files,N=y[0],b=N.name;c.setImageNameToButton(b),o(N)}}});var m=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(m),this.fileBasedScanRegion.addEventListener("dragenter",function(v){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(v){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(v){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(v){v.stopPropagation(),v.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var C=v.dataTransfer;if(C){var y=C.files;if(!y||y.length===0)return;for(var N=!1,b=0;b<y.length;++b){var D=y.item(b);if(D){var V=/image.*/;if(D.type.match(V)){N=!0;var X=D.name;c.setImageNameToButton(X),o(D),m.innerText=kt.dragAndDropMessage();break}}}N||(m.innerText=kt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=kt.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var o=e.substring(0,8),l=e.length,c=e.substring(l-8,l);e="".concat(o,"....").concat(c)}var m=kt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=m},t.prototype.setInitialValueToButton=function(){var e=kt.fileSelectionChooseImage()+" - "+kt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,o){var l=new t(e,n,o);return l},t}(),a5=function(){function t(e){this.selectElement=Zo.createElement("select",Pi.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)n.style.display="none";else{var l=kt.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,m=0,v=this.cameras;m<v.length;m++){var C=v[m],y=C.id,N=C.label==null?y:C.label;(!N||N==="")&&(N=[kt.anonymousCameraPrefix(),c++].join(" "));var b=document.createElement("option");b.value=y,b.innerText=N,this.options.push(b),this.selectElement.appendChild(b)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,o=this.options;n<o.length;n++){var l=o[n];if(l.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var o=new t(n);return o.render(e),o},t}(),l5=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Zo.createElement("input",Pi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,o,l){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var o=new t;return o.render(e,n),o},t}(),Di;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Di||(Di={}));function d5(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function c5(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var u5=function(){function t(e,n,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=o===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new _r(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new X2(this.verbose),this.persistedDataManager=new Jy,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,m){if(e)e(c,m);else{if(o.lastMatchFound===c)return;o.lastMatchFound=c,o.setHeaderMessage(kt.lastMatch(c),Di.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,m){n&&n(c,m)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Lg(this.getScanRegionId(),c5(this.config,this.verbose))},t.prototype.pause=function(e){(bo(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var o=document.getElementById(e.elementId);o&&(o.innerHTML="",e.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,l){if(!e.html5Qrcode){o();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(c){if(!e.html5Qrcode){o();return}e.html5Qrcode.clear(),n(),o()}).catch(function(c){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(e.html5Qrcode.clear(),n(),o())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=co.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!co.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=co.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=co.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:co.SCAN_DEFAULT_FPS,rememberLastUsedCamera:co.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:co.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),o=this.getScanRegionId();n.id=o,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),_r.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",e.appendChild(l),this.setupInitialDashboard(l)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var o=new n5;o.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,o){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(kt.cameraPermissionRequesting());var c=function(){o||l.createPermissionButton(e,n)};Lg.getCameras().then(function(m){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),m&&m.length>0?(e.removeChild(n),l.renderCameraSelection(m)):(l.setHeaderMessage(kt.noCameraFound(),Di.STATUS_WARNING),c())}).catch(function(m){l.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:c(),l.setHeaderMessage(m,Di.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var o=this,l=Zo.createElement("button",this.getCameraPermissionButtonId());l.innerText=kt.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,o.createCameraListUi(e,n,l)}),n.appendChild(l)},t.prototype.createPermissionsUi=function(e,n){var o=this;if(_r.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Pg.hasPermissions().then(function(l){l?o.createCameraListUi(e,n):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,n))}).catch(function(l){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=_r.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(o);var l=document.createElement("div");l.style.textAlign="center",o.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,l),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=_r.isFileScanType(this.currentScanType),o=this,l=function(c){if(!o.html5Qrcode)throw"html5Qrcode not defined";_r.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(kt.loadingImage()),o.html5Qrcode.scanFileV2(c,!0).then(function(m){o.resetHeaderMessage(),o.qrCodeSuccessCallback(m.decodedText,m)}).catch(function(m){o.setHeaderMessage(m,Di.STATUS_WARNING),o.qrCodeErrorCallback(m,Y2.createFrom(m))}))};this.fileSelectionUi=s5.create(e,n,l)},t.prototype.renderCameraSelection=function(e){var n=this,o=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=l5.create(l,!1),m=function(j){var ye=j.zoomFeature();if(ye.isSupported()){c.setOnCameraZoomValueChangeCallback(function(F){ye.apply(F)});var W=1;n.config.defaultZoomValueIfSupported&&(W=n.config.defaultZoomValueIfSupported),W=Ny(W,ye.min(),ye.max()),c.setValues(ye.min(),ye.max(),W,ye.step()),c.show()}},v=a5.create(l,e),C=document.createElement("span"),y=Zo.createElement("button",Pi.CAMERA_START_BUTTON_ID);y.innerText=kt.scanButtonStartScanningText(),C.appendChild(y);var N=Zo.createElement("button",Pi.CAMERA_STOP_BUTTON_ID);N.innerText=kt.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,C.appendChild(N);var b,D=function(j){if(!j.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability(j.torchFeature()):b=r5.create(C,j.torchFeature(),{display:"none",marginLeft:"5px"},function(ye){o.setHeaderMessage(ye,Di.STATUS_WARNING)}),b.show()};l.appendChild(C);var V=function(j){j||(y.style.display="none"),y.innerText=kt.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,j&&(y.style.display="inline-block")};if(y.addEventListener("click",function(j){y.innerText=kt.scanButtonScanningStarting(),v.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var ye=v.getValue();o.persistedDataManager.setLastUsedCameraId(ye),o.html5Qrcode.start(ye,d5(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(W){N.disabled=!1,N.style.display="inline-block",V(!1);var F=o.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&D(F),n.config.showZoomSliderIfSupported===!0&&m(F)}).catch(function(W){o.showHideScanTypeSwapLink(!0),v.enable(),V(!0),o.setHeaderMessage(W,Di.STATUS_WARNING)})}),v.hasSingleItem()&&y.click(),N.addEventListener("click",function(j){if(!o.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,o.html5Qrcode.stop().then(function(ye){n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),v.enable(),y.disabled=!1,N.style.display="none",y.style.display="inline-block",b&&(b.reset(),b.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(ye){N.disabled=!1,o.setHeaderMessage(ye,Di.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var X=o.persistedDataManager.getLastUsedCameraId();v.hasValue(X)?(v.setValue(X),y.click()):o.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=kt.textIfCameraScanSelected(),o=kt.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var m=Zo.createElement("span",this.getDashboardSectionSwapLinkId());m.style.textDecoration="underline",m.style.cursor="pointer",m.innerText=_r.isCameraScanType(this.currentScanType)?n:o,m.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,_r.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),m.innerText=o,e.currentScanType=Br.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),m.innerText=n,e.currentScanType=Br.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),c.appendChild(m),l.appendChild(c)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Pg.hasPermissions().then(function(o){if(o){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(o){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Di.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=e,o.style.display="block",n){case Di.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case Di.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case Di.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Ky,this.cameraScanImage.alt=kt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=qy,this.fileScanImage.alt=kt.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Pi.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Pi.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const h5="/Mapa-UC/assets/classroomLogo-caNNTX4V.png",f5="/Mapa-UC/assets/ScienceGroundFloorPlan-u3Hq3kSs.png",g5="/Mapa-UC/assets/Science1stFloorPlan-cZuwY7Va.png",p5="/Mapa-UC/assets/Science2ndFloorPlan-72T-1DP_.png",m5="/Mapa-UC/assets/Science3rdFloorPlan-ltQG_BLK.png",_5="/Mapa-UC/assets/Science4thFloorPlan-ouxsDBoA.png",E5="/Mapa-UC/assets/Science5thFloorPlan-ZcVbmUmd.png",y5="/Mapa-UC/assets/Science6thFloorPlan-YJ9oYy6p.png",x5="/Mapa-UC/assets/CHTMEDS4thFloorPlan-SXuS3p5e.png",v5="/Mapa-UC/assets/CHTMEDS5thFloorPlan-2lXaBFnh.png",w5="/Mapa-UC/assets/CHTMEDS6thFloorPlan-wKiQZ-kU.png",C5="/Mapa-UC/assets/CHTMEDS7thFloorPlan-U3g_VClC.png",S5="/Mapa-UC/assets/CHTMEDS8thFloorPlan-LUttnYwy.png",A5="/Mapa-UC/assets/CHTMEDS9thFloorPlan-n0rqRRQ3.png",T5="/Mapa-UC/assets/EDS3rdFloorPlan-z-ADDSXX.png",I5="/Mapa-UC/assets/CHTM10thFloorPlan-AjHahvk9.png",b5="/Mapa-UC/assets/Main4thFloorPlan-2KY9dXrV.png",N5="/Mapa-UC/assets/Main5thFloorPlan-roZVSH2c.png",R5="/Mapa-UC/assets/Main6thFloorPlan-7EZY2cJo.png",M5="/Mapa-UC/assets/Main3rdFloorPlan-2zKKnUvj.png",L5="/Mapa-UC/assets/Main2ndFloorPlan-VeO3cnro.png",D5="/Mapa-UC/assets/MainGroundFloorPlan-OTrTd-qZ.png",O5="/Mapa-UC/assets/leaveButton--kz3Hal_.png",P5="/Mapa-UC/assets/BRS1stFloorPlan-HFWeZoi-.png",F5="/Mapa-UC/assets/BRS2ndFloorPlan-P15QRV88.png",B5="/Mapa-UC/assets/BRS3rdFloorPlan-0XqkoP_w.png",k5="/Mapa-UC/assets/BRS4thFloorPlan-ZHpzsnA-.png",z5="/Mapa-UC/assets/BRS5thFloorPlan-Em2tRAoJ.png",U5="/Mapa-UC/assets/BRS6thFloorPlan-tiw_cL5j.png",H5="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",W5="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",V5="/Mapa-UC/assets/BRS9thFloorPlan-JtTiX9QW.png",j5="/Mapa-UC/assets/BRS10thFloorPlan-jSdTOOTR.png",G5="/Mapa-UC/assets/defaultR-eLvNAyb4.png";function Z5(t){let e=[];return t=="science2ndFloor"&&(e=[{id:0,lat:6.51,lon:.47},{id:1,lat:6.24,lon:.47},{lat:5.2,lon:.8,title:"office",building:"Science",floor:"2nd Floor",node:1,label:"classroomLogo"},{id:2,lat:6.75,lon:1},{lat:7.4,lon:.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:2,label:"classroomLogo"},{id:3,lat:6.51,lon:1},{id:6,lat:6.51,lon:1.8},{id:5,lat:6.24,lon:1.8},{lat:5.2,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:5,label:"classroomLogo"},{id:4,lat:6.75,lon:1.8},{lat:7.4,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:4,label:"classroomLogo"},{id:7,lat:6.51,lon:2.25},{id:8,lat:6.51,lon:2.38},{id:9,lat:6.24,lon:2.38},{lat:5.2,lon:2.26,title:"classRoom",building:"Science",floor:"2nd Floor",node:9,label:"classroomLogo"},{id:10,lat:6.51,lon:2.55},{id:14,lat:7.15,lon:2.55,label:"leaveButton",destination:"science1stFloor",desti:340,direction:"down"},{id:11,lat:7.5,lon:2.25},{id:12,lat:7.5,lon:2.55},{id:13,lat:7.41,lon:2.55,label:"leaveButton",destination:"science3rdFloor",desti:486,direction:"up"},{id:15,lat:6.75,lon:2.78},{lat:8.1,lon:2.8,title:"office",building:"Science",floor:"2nd Floor",node:15,label:"classroomLogo"},{id:16,lat:6.51,lon:2.78},{id:19,lat:6.51,lon:3.3},{id:18,lat:6.75,lon:3.3},{lat:7.25,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:18,label:"classroomLogo"},{id:20,lat:6.24,lon:3.3},{lat:5.9,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:20,label:"classroomLogo"},{id:22,lat:6.51,lon:4.1},{id:23,lat:6.24,lon:4.1},{lat:5.9,lon:4.16,title:"classRoom",building:"Science",floor:"2nd Floor",node:23,label:"classroomLogo"},{id:21,lat:6.75,lon:4.1},{lat:7.25,lon:4,title:"classRoom",building:"Science",floor:"2nd Floor",node:21,label:"classroomLogo"},{id:24,lat:6.51,lon:4.63},{id:25,lat:7.79,lon:4.63},{id:26,lat:7.79,lon:4.725},{lat:8.1,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:26,label:"classroomLogo"},{id:27,lat:7.79,lon:4.5},{lat:8.1,lon:3.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:27,label:"classroomLogo"},{id:28,lat:6.51,lon:5.3},{id:29,lat:6.75,lon:5.3},{lat:7.25,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:29,label:"classroomLogo"},{id:30,lat:6.24,lon:5.3},{lat:5.9,lon:5.25,title:"classRoom",building:"Science",floor:"2nd Floor",node:30,label:"classroomLogo"},{id:31,lat:6.51,lon:5.92},{id:33,lat:6.51,lon:6.3},{id:34,lat:6.51,lon:6.47},{id:32,lat:6.75,lon:6.3},{lat:7.5,lon:6.2,title:"",building:"Science",floor:"2nd Floor",node:32,label:"classroomLogo"},{id:35,lat:6.24,lon:6.47},{lat:5.9,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:35,label:"classroomLogo"},{id:37,lat:6.51,lon:6.8},{id:36,lat:6.75,lon:6.8},{lat:7.7,lon:6.75,title:"",building:"Science",floor:"2nd Floor",node:36,label:"classroomLogo"},{id:38,lat:6.51,lon:7.12},{id:39,lat:6.51,lon:7.4},{id:48,lat:5.05,lon:7.12},{lat:4.8,lon:7.12,title:"facility",building:"Science",floor:"2nd Floor",node:48,label:"classroomLogo"},{id:47,lat:5.6,lon:7.21},{lat:5.5,lon:7.5,title:"facility",building:"Science",floor:"2nd Floor",node:47,label:"classroomLogo"},{id:46,lat:6,lon:7.3},{lat:6.05,lon:7.7,title:"facility",building:"Science",floor:"2nd Floor",node:46,label:"classroomLogo"},{id:40,lat:6.75,lon:7.4},{lat:7.7,lon:7.3,title:"",building:"Science",floor:"2nd Floor",node:40,label:"classroomLogo"},{id:41,lat:6.51,lon:7.65},{id:42,lat:6.63,lon:7.65},{id:45,lat:6.35,lon:7.65},{id:43,lat:6.63,lon:7.96},{id:44,lat:6.75,lon:7.96},{lat:7.25,lon:8.17,title:"classRoom",building:"Science",floor:"2nd Floor",node:44,label:"classroomLogo"},{id:49,lat:4.95,lon:5.92},{id:50,lat:4.95,lon:5.99},{lat:4.95,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:50,label:"classroomLogo"},{id:51,lat:4.2,lon:5.92},{id:52,lat:4.2,lon:5.99},{lat:4.25,lon:6.5,title:"classRoom",building:"Science",floor:"2nd Floor",node:52,label:"classroomLogo"},{id:53,lat:3.6,lon:5.92},{id:54,lat:3.31,lon:5.92},{lat:3,lon:5.75,title:"",building:"PE",floor:"2nd Floor",node:54,label:"classroomLogo"},{id:55,lat:3.6,lon:6.3},{id:56,lat:3.1,lon:6.3},{lat:2.75,lon:6.3,title:"",building:"PE",floor:"2nd Floor",node:56,label:"classroomLogo"},{id:57,lat:3.73,lon:6.3},{id:58,lat:3.73,lon:7.1},{id:59,lat:3.42,lon:7.1},{id:60,lat:3.6,lon:5.55},{id:61,lat:3.83,lon:5.55},{lat:4.4,lon:5.42,title:"classRoom",building:"Science",floor:"2nd Floor",node:61,label:"classroomLogo"},{id:62,lat:3.31,lon:5.25},{lat:3,lon:5.15,title:"",building:"PE",floor:"2nd Floor",node:62,label:"classroomLogo"},{id:63,lat:3.6,lon:5.05},{id:64,lat:3.83,lon:5.05},{lat:4.4,lon:4.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:64,label:"classroomLogo"},{id:66,lat:3.31,lon:4.65},{lat:3,lon:4.5,title:"",building:"PE",floor:"2nd Floor",node:66,label:"classroomLogo"},{id:82,lat:3.6,lon:5.25},{id:68,lat:3.83,lon:4.5},{lat:4.4,lon:4.38,title:"classRoom",building:"Science",floor:"2nd Floor",node:68,label:"classroomLogo"},{id:67,lat:3.6,lon:4.5},{id:65,lat:3.6,lon:4.65},{id:71,lat:3.31,lon:3.9},{lat:3,lon:3.8,title:"",building:"PE",floor:"2nd Floor",node:71,label:"classroomLogo"},{id:69,lat:3.6,lon:3.9},{id:70,lat:3.83,lon:3.9},{lat:4.4,lon:3.84,title:"classRoom",building:"Science",floor:"2nd Floor",node:70,label:"classroomLogo"},{id:73,lat:3.24,lon:3.33,label:"leaveButton",destination:"science1stFloor",desti:413,direction:"down"},{id:75,lat:3.24,lon:3.045},{id:74,lat:3.6,lon:3.045},{id:72,lat:3.6,lon:3.33},{id:76,lat:3.6,lon:2.78},{id:77,lat:3.15,lon:2.5,label:"leaveButton",destination:"BRS2ndFloor",desti:100},{id:78,lat:4.2,lon:2.78},{id:79,lat:4.2,lon:2.86},{lat:4.3,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:79,label:"classroomLogo"},{id:80,lat:4.95,lon:2.78},{id:81,lat:4.95,lon:2.86},{lat:5,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:81,label:"classroomLogo"},{id:90,lat:6.63,lon:8.51},{id:98,lat:6.63,lon:8.6},{lat:6.63,lon:8.75,title:"classRoom",building:"Science",floor:"2nd Floor",node:98},{id:91,lat:7.9,lon:9.05},{id:92,lat:7.9,lon:8.99},{lat:8,lon:8.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:92,label:"classroomLogo"},{id:95,lat:6.35,lon:8.2,label:"leaveButton",destination:"science3rdFloor",desti:578,direction:"up"},{id:17,lat:2.45,lon:3.045},{id:99,lat:2.45,lon:3.33},{id:84,lat:2.68,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:541,direction:"up"},{id:93,lat:3.21,lon:7.1,label:"leaveButton",destination:"science3rdFloor",desti:565,direction:"up"},{id:94,lat:3.42,lon:7,label:"leaveButton",destination:"science1stFloor",desti:401,direction:"down"},{id:87,lat:6.65,lon:.47},{id:88,lat:6.65,lon:.25,label:"leaveButton",destination:"main2ndFloor",desti:827,direction:"up"},{id:87,lat:6.38,lon:.47},{id:89,lat:6.35,lon:8.5,label:"leaveButton",destination:"science1stFloor",desti:387,direction:"down"},{id:86,lat:6.38,lon:.23,label:"leaveButton",destination:"mainGroundFloor",desti:1702,direction:"down"},{id:85,lat:6.38,lon:.47}]),t=="science1stFloor"&&(e=[{id:340,lat:7.63,lon:2.8,label:"leaveButton",destination:"science2ndFloor",desti:14,direction:"up"},{id:341,lat:7.73,lon:2.8},{id:3e3,lat:7.92,lon:2.8,label:"leaveButton",destination:"scienceGroundFloor",desti:4e3,direction:"down"},{id:3001,lat:8,lon:2.8},{lat:8.2,lon:2.7,title:"classRoom",building:"Science",floor:"1st Floor",node:3001},{id:3002,lat:8,lon:1.9},{id:3003,lat:7.92,lon:1.9},{lat:6.5,lon:1.3,title:"classRoom",building:"Science",floor:"1st Floor",node:3007,label:"classroomLogo"},{id:3004,lat:8,lon:.55,label:"leaveButton",destination:"mainGroundFloor",desti:1704},{id:3005,lat:8,lon:1.9},{id:3006,lat:7.92,lon:1.9},{id:342,lat:7.73,lon:2.5},{id:343,lat:6.6,lon:2.5},{id:344,lat:6.6,lon:2.65},{id:345,lat:6.3,lon:2.65},{lat:5.5,lon:2.55,title:"classRoom",building:"Science",floor:"1st Floor",node:345,label:"classroomLogo"},{id:346,lat:6.6,lon:2.8},{id:347,lat:7.28,lon:2.8,label:"leaveButton",destination:"scienceGroundFloor",desti:420,direction:"down"},{id:348,lat:6.6,lon:3.05},{id:349,lat:6.3,lon:3.05},{lat:5.5,lon:3.15,title:"classRoom",building:"Science",floor:"1st Floor",node:349,label:"classroomLogo"},{id:350,lat:6.6,lon:3.5},{id:351,lat:6.9,lon:3.5},{lat:7.9,lon:3.25,title:"classRoom",building:"Science",floor:"1st Floor",node:351,label:"classroomLogo"},{id:352,lat:6.3,lon:3.5},{lat:6.15,lon:3.3,title:"classRoom",building:"Science",floor:"1st Floor",node:352,label:"classroomLogo"},{id:353,lat:6.6,lon:3.96},{id:354,lat:6.3,lon:3.96},{lat:5.5,lon:3.69,title:"classRoom",building:"Science",floor:"1st Floor",node:354,label:"classroomLogo"},{id:355,lat:6.6,lon:4.05},{id:356,lat:6.9,lon:4.05},{lat:7.9,lon:4,title:"classRoom",building:"Science",floor:"1st Floor",node:356,label:"classroomLogo"},{id:357,lat:6.6,lon:4.4},{id:358,lat:6.3,lon:4.4},{lat:5.8,lon:4.3,title:"classRoom",building:"Science",floor:"1st Floor",node:358,label:"classroomLogo"},{id:359,lat:6.6,lon:4.75},{id:360,lat:6.9,lon:4.75},{lat:7.9,lon:4.5,title:"classRoom",building:"Science",floor:"1st Floor",node:360,label:"classroomLogo"},{id:361,lat:6.6,lon:5},{id:362,lat:6.6,lon:5.5},{id:363,lat:6.3,lon:5.5},{lat:5.8,lon:5.4,title:"classRoom",building:"Science",floor:"1st Floor",node:363,label:"classroomLogo"},{id:364,lat:6.6,lon:5.75},{id:365,lat:6.9,lon:5.75},{lat:7.9,lon:5.5,title:"classRoom",building:"Science",floor:"1st Floor",node:365,label:"classroomLogo"},{id:366,lat:6.6,lon:6.1},{id:367,lat:6.3,lon:6.1},{lat:5.8,lon:5.95,title:"classRoom",building:"Science",floor:"1st Floor",node:367,label:"classroomLogo"},{id:368,lat:6.6,lon:6.45},{id:369,lat:6.9,lon:6.45},{lat:7.9,lon:6.34,title:"classRoom",building:"Science",floor:"1st Floor",node:369,label:"classroomLogo"},{id:370,lat:6.6,lon:6.7},{id:371,lat:6.3,lon:6.7},{lat:5.8,lon:6.55,title:"classRoom",building:"Science",floor:"1st Floor",node:371,label:"classroomLogo"},{id:372,lat:6.6,lon:7.15},{id:373,lat:6.9,lon:7.15},{lat:7.9,lon:7,title:"classRoom",building:"Science",floor:"1st Floor",node:373,label:"classroomLogo"},{id:374,lat:6.6,lon:7.3},{id:375,lat:6.3,lon:7.3},{lat:5.8,lon:7.2,title:"classRoom",building:"Science",floor:"1st Floor",node:375,label:"classroomLogo"},{id:376,lat:6.6,lon:7.83},{id:377,lat:6.08,lon:7.83},{id:378,lat:6.08,lon:8},{lat:5.93,lon:8.4,title:"classRoom",building:"Science",floor:"1st Floor",node:378,label:"classroomLogo"},{id:379,lat:5.88,lon:7.83},{lat:5.2,lon:8,title:"classRoom",building:"Science",floor:"1st Floor",node:379,label:"classroomLogo"},{id:405,lat:6.6,lon:8.05},{id:406,lat:6.9,lon:8.05},{lat:7.9,lon:7.95,title:"classRoom",building:"Science",floor:"1st Floor",node:406,label:"classroomLogo"},{id:380,lat:6.6,lon:8.59},{id:407,lat:6.75,lon:8.59},{id:381,lat:6.9,lon:8.59},{lat:8.35,lon:8.65,title:"classRoom",building:"Science",floor:"1st Floor",node:381,label:"classroomLogo"},{id:382,lat:6.75,lon:8.82},{id:383,lat:6.75,lon:8.88},{id:384,lat:7.15,lon:8.82},{lat:7.7,lon:9,title:"classRoom",building:"Science",floor:"1st Floor",node:384,label:"classroomLogo"},{id:385,lat:6.6,lon:8.82},{id:386,lat:6.45,lon:8.82},{id:387,lat:6.45,lon:9.1,label:"leaveButton",destination:"science2ndFloor",desti:89,direction:"up"},{id:390,lat:6.75,lon:9.35},{id:391,lat:6.75,lon:9.45},{id:392,lat:6.45,lon:9.35},{id:393,lat:6.45,lon:9.3,label:"leaveButton",destination:"scienceGroundFloor",desti:466,direction:"down"},{id:394,lat:4.5,lon:5},{id:395,lat:4.5,lon:4.85},{lat:4.6,lon:4.4,title:"classRoom",building:"Science",floor:"1st Floor",node:395,label:"classroomLogo"},{id:396,lat:4.25,lon:5},{id:397,lat:4.25,lon:5.17},{lat:4.3,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:397,label:"classroomLogo"},{id:398,lat:3.9,lon:5},{id:399,lat:3.9,lon:5.17},{lat:3.9,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:399,label:"classroomLogo"},{id:400,lat:3.45,lon:5},{lat:2.6,lon:5,title:"classRoom",building:"PE",floor:"1st Floor",node:400,label:"classroomLogo"},{id:401,lat:3.45,lon:7.4,label:"leaveButton",destination:"science2ndFloor",desti:94,direction:"up"},{id:403,lat:3.45,lon:2.96},{id:404,lat:3.05,lon:2.75,label:"leaveButton",destination:"BRS1stFloor",desti:130},{id:410,lat:3.45,lon:3.35},{id:411,lat:2.4,lon:3.35},{id:412,lat:2.4,lon:3.67},{id:413,lat:2.55,lon:3.67,label:"leaveButton",destination:"science2ndFloor",desti:73,direction:"up"},{id:414,lat:3.45,lon:3.67},{id:415,lat:3.17,lon:3.67},{lat:2.8,lon:3.67,title:"classRoom",building:"PE",floor:"1st Floor",node:415,label:"classroomLogo"}]),t=="scienceGroundFloor"?e=[{id:420,lat:6.645,lon:1.35,label:"leaveButton",destination:"science1stFloor",desti:347,direction:"up"},{id:421,lat:6.76,lon:1.35},{lat:7,lon:1.28,title:"classRoom",building:"Science",floor:"Ground Floor",node:421},{id:4e3,lat:6.85,lon:1.35,label:"leaveButton",destination:"science1stFloor",desti:3e3,direction:"up"},{id:422,lat:6.76,lon:.99},{id:425,lat:5.5,lon:.99},{id:424,lat:5.5,lon:.85},{lat:5.5,lon:.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:424,label:"classroomLogo"},{id:426,lat:5.5,lon:1.1},{id:427,lat:5.19,lon:1.1},{lat:4.6,lon:1,title:"classRoom",building:"Science",floor:"Ground Floor",node:427,label:"classroomLogo"},{id:428,lat:5.5,lon:1.36},{id:429,lat:5.82,lon:1.36},{id:430,lat:5.5,lon:1.85},{id:431,lat:5.82,lon:1.85},{lat:7,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:431,label:"classroomLogo"},{id:432,lat:5.19,lon:1.85},{lat:4.6,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:432,label:"classroomLogo"},{id:433,lat:5.5,lon:2.5},{id:434,lat:5.82,lon:2.5},{lat:7,lon:2.4,title:"classRoom",building:"Science",floor:"Ground Floor",node:434,label:"classroomLogo"},{id:435,lat:5.19,lon:2.5},{lat:4.6,lon:2.36,title:"classRoom",building:"Science",floor:"Ground Floor",node:435,label:"classroomLogo"},{id:436,lat:5.5,lon:3.2},{id:437,lat:5.82,lon:3.2},{lat:7,lon:3.1,title:"classRoom",building:"Science",floor:"Ground Floor",node:437,label:"classroomLogo"},{id:438,lat:5.5,lon:3.4},{id:439,lat:5.19,lon:3.4},{lat:4.6,lon:3.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:439,label:"classroomLogo"},{id:440,lat:5.5,lon:3.9},{id:441,lat:5.82,lon:3.9},{lat:7,lon:3.8,title:"classRoom",building:"Science",floor:"Ground Floor",node:441,label:"classroomLogo"},{id:442,lat:5.5,lon:4.45},{id:443,lat:5.19,lon:4.45},{lat:4.6,lon:4.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:443,label:"classroomLogo"},{id:444,lat:5.5,lon:4.6},{id:445,lat:5.82,lon:4.6},{lat:7,lon:4.5,title:"classRoom",building:"Science",floor:"Ground Floor",node:445,label:"classroomLogo"},{id:446,lat:5.5,lon:5.32},{id:447,lat:5.82,lon:5.32},{lat:7,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:447,label:"classroomLogo"},{id:448,lat:5.19,lon:5.32},{lat:4.6,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:448,label:"classroomLogo"},{id:449,lat:5.5,lon:6},{id:450,lat:5.82,lon:6},{lat:7,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:450,label:"classroomLogo"},{id:451,lat:5.19,lon:6},{lat:4.6,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:451,label:"classroomLogo"},{id:452,lat:5.5,lon:6.7},{id:453,lat:5.82,lon:6.7},{lat:7,lon:6.65,title:"classRoom",building:"Science",floor:"Ground Floor",node:453,label:"classroomLogo"},{id:454,lat:5.19,lon:6.7},{lat:4.68,lon:6.63,title:"classRoom",building:"Science",floor:"Ground Floor",node:454,label:"classroomLogo"},{id:455,lat:5.5,lon:6.9},{id:456,lat:5.34,lon:6.9},{id:457,lat:5.34,lon:7.2},{id:458,lat:5.19,lon:7.2},{lat:3.9,lon:7.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:458,label:"classroomLogo"},{id:459,lat:5.34,lon:7.4},{id:460,lat:5.45,lon:7.4},{lat:7,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:460,label:"classroomLogo"},{id:461,lat:5.34,lon:7.6},{id:462,lat:5.19,lon:7.6},{lat:4.68,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:462,label:"classroomLogo"},{id:463,lat:5.34,lon:8.6},{id:464,lat:5.65,lon:8.7},{id:465,lat:5.82,lon:8.7},{lat:7,lon:8.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:465,label:"classroomLogo"},{id:466,lat:5.65,lon:8.53,label:"leaveButton",destination:"science1stFloor",desti:393,direction:"up"}]:t=="science3rdFloor"?e=[{id:480,lat:7.35,lon:3.44,label:"leaveButton",destination:"science4thFloor",desti:615,direction:"up"},{id:481,lat:7.48,lon:3.44},{id:482,lat:7.48,lon:3.15},{id:483,lat:7.58,lon:3.15},{lat:7.9,lon:3.2,title:"classRoom",building:"Science",floor:"3rd Floor",node:483,label:"classroomLogo"},{id:484,lat:6.47,lon:3.15},{id:485,lat:6.47,lon:3.44},{id:486,lat:7.05,lon:3.44,label:"leaveButton",destination:"science2ndFloor",desti:13,direction:"down"},{id:487,lat:6.47,lon:3.65},{lat:6,lon:5.75,title:"classRoom",building:"PE",floor:"3rd Floor",node:487,label:"classroomLogo"},{id:488,lat:8,lon:3.65},{id:489,lat:8,lon:3.73},{lat:8,lon:3.85,title:"classRoom",building:"PE",floor:"3rd Floor",node:489,label:"classroomLogo"},{id:490,lat:8.4,lon:3.65},{id:491,lat:8.4,lon:4.15},{id:492,lat:8.3,lon:4.15},{lat:8,lon:4.09,title:"classRoom",building:"PE",floor:"3rd Floor",node:492,label:"classroomLogo"},{id:493,lat:8.4,lon:4.4},{id:494,lat:8.3,lon:4.4},{lat:8,lon:4.33,title:"classRoom",building:"PE",floor:"3rd Floor",node:494,label:"classroomLogo"},{id:495,lat:8.4,lon:4.75},{id:496,lat:8.3,lon:4.75},{lat:8,lon:4.65,title:"classRoom",building:"PE",floor:"3rd Floor",node:496,label:"classroomLogo"},{id:497,lat:8.4,lon:5.3},{id:498,lat:8.3,lon:5.3},{lat:8,lon:5.26,title:"classRoom",building:"PE",floor:"3rd Floor",node:498,label:"classroomLogo"},{id:499,lat:8.4,lon:5.7},{id:500,lat:8.3,lon:5.7},{lat:8,lon:5.68,title:"classRoom",building:"PE",floor:"3rd Floor",node:500,label:"classroomLogo"},{id:501,lat:8.4,lon:6},{id:502,lat:8.3,lon:6},{lat:8,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:502,label:"classroomLogo"},{id:503,lat:8.4,lon:6.6},{id:504,lat:8.3,lon:6.6},{lat:8,lon:6.9,title:"classRoom",building:"PE",floor:"3rd Floor",node:504,label:"classroomLogo"},{id:505,lat:6.18,lon:3.15},{lat:5.7,lon:3,title:"classRoom",building:"Science",floor:"3rd Floor",node:505,label:"classroomLogo"},{id:506,lat:6.47,lon:2.65},{id:507,lat:6.7,lon:2.65},{lat:7.3,lon:2.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:507,label:"classroomLogo"},{id:508,lat:6.18,lon:2.65},{lat:5.7,lon:2.47,title:"classRoom",building:"Science",floor:"3rd Floor",node:508,label:"classroomLogo"},{id:509,lat:6.47,lon:1.4},{id:510,lat:6.7,lon:1.4},{lat:7.3,lon:1.4,title:"classRoom",building:"Science",floor:"3rd Floor",node:510,label:"classroomLogo"},{id:511,lat:6.47,lon:1},{id:512,lat:5.85,lon:.9},{id:513,lat:5.85,lon:.4,label:"leaveButton",destination:"main3rdFloor",desti:772},{id:514,lat:4.85,lon:.85},{id:515,lat:4.85,lon:1},{lat:5.4,lon:1.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:515,label:"classroomLogo"},{id:516,lat:4.7,lon:.85},{lat:4.35,lon:.95,title:"classRoom",building:"Science",floor:"3rd Floor",node:516,label:"classroomLogo"},{id:517,lat:4.85,lon:.69},{id:518,lat:3.65,lon:.51},{id:519,lat:3.65,lon:1.59},{id:520,lat:3.76,lon:1.59},{id:521,lat:3.65,lon:2.1},{id:522,lat:3.76,lon:2.1},{lat:4.35,lon:2.05,title:"classRoom",building:"Science",floor:"3rd Floor",node:522,label:"classroomLogo"},{id:523,lat:3.65,lon:2.5},{id:524,lat:3.55,lon:2.5},{id:525,lat:3.7,lon:2.5},{id:526,lat:3.7,lon:2.6,label:"leaveButton",destination:"science4thFloor",desti:674,direction:"up"},{id:527,lat:3.55,lon:3.44},{id:528,lat:4.5,lon:3.44},{id:529,lat:4.5,lon:3.12},{id:530,lat:4.4,lon:3.12},{lat:4.13,lon:2.9,title:"classRoom",building:"Science",floor:"3rd Floor",node:530,label:"classroomLogo"},{id:531,lat:4.5,lon:3},{lat:4.6,lon:2.5,title:"classRoom",building:"Science",floor:"3rd Floor",node:531,label:"classroomLogo"},{id:532,lat:3,lon:3.44,label:"leaveButton",destination:"BRS3rdFloor",desti:155},{id:533,lat:3.45,lon:3.68},{id:534,lat:4.3,lon:3.68},{id:535,lat:4.3,lon:3.73},{lat:4.25,lon:4.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:535,label:"classroomLogo"},{id:536,lat:3.45,lon:4},{id:537,lat:2.35,lon:4},{id:538,lat:2.35,lon:4.3},{id:539,lat:2.55,lon:4.3,label:"leaveButton",destination:"science4thFloor",desti:640,direction:"up"},{id:540,lat:3.45,lon:4.3},{id:541,lat:3.1,lon:4.3,label:"leaveButton",destination:"science2ndFloor",desti:84,direction:"down"},{id:542,lat:3.45,lon:4.65},{id:543,lat:3.16,lon:4.65},{lat:2.8,lon:4.55,title:"classRoom",building:"PE",floor:"3rd Floor",node:543,label:"classroomLogo"},{id:544,lat:3.45,lon:5.05},{id:545,lat:3.16,lon:5.05},{lat:2.8,lon:5,title:"classRoom",building:"PE",floor:"3rd Floor",node:545,label:"classroomLogo"},{id:546,lat:3.45,lon:5.2},{id:547,lat:3.77,lon:5.2},{lat:4.25,lon:5.1,title:"classRoom",building:"PE",floor:"3rd Floor",node:547,label:"classroomLogo"},{id:548,lat:3.45,lon:5.7},{id:549,lat:3.16,lon:5.7},{lat:2.7,lon:5.6,title:"classRoom",building:"PE",floor:"3rd Floor",node:549,label:"classroomLogo"},{id:550,lat:3.45,lon:6.16},{id:551,lat:3.77,lon:6.16},{lat:4.25,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:551,label:"classroomLogo"},{id:552,lat:3.45,lon:6.5},{id:553,lat:3.16,lon:6.5},{lat:2.7,lon:6.5,title:"classRoom",building:"PE",floor:"3rd Floor",node:553,label:"classroomLogo"},{id:554,lat:3.45,lon:6.85},{id:555,lat:3.77,lon:6.85},{lat:4.25,lon:6.63,title:"classRoom",building:"PE",floor:"3rd Floor",node:555,label:"classroomLogo"},{id:556,lat:3.45,lon:6.97},{id:557,lat:3,lon:6.97},{lat:2.7,lon:7.16,title:"classRoom",building:"PE",floor:"3rd Floor",node:557,label:"classroomLogo"},{id:558,lat:3.45,lon:7.45},{id:559,lat:3.77,lon:7.45},{lat:4.25,lon:7.4,title:"classRoom",building:"PE",floor:"3rd Floor",node:559,label:"classroomLogo"},{id:560,lat:3.45,lon:7.52},{id:561,lat:2.55,lon:7.52},{id:562,lat:2.55,lon:7.68},{id:563,lat:2.63,lon:7.68,label:"leaveButton",destination:"science4thFloor",desti:654,direction:"up"},{id:564,lat:3.45,lon:7.68},{id:565,lat:3.16,lon:7.68,label:"leaveButton",destination:"science2ndFloor",desti:93,direction:"down"},{id:567,lat:4.7,lon:8.1},{id:568,lat:4.7,lon:7.9},{id:569,lat:5,lon:8.6},{id:570,lat:5.4,lon:8.6},{id:571,lat:5.4,lon:8.53},{lat:5.4,lon:8.15,title:"classRoom",building:"Science",floor:"3rd Floor",node:571,label:"classroomLogo"},{id:572,lat:6.3,lon:8.6},{id:573,lat:6.57,lon:8.53},{lat:6.3,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:573,label:"classroomLogo"},{id:574,lat:6.3,lon:9.15},{id:9e3,lat:6.25,lon:9.3},{id:9001,lat:6.55,lon:9.4},{id:9002,lat:6.5,lon:9.52},{id:9003,lat:6.43,lon:9.517,label:"leaveButton",destination:"science4thFloor",desti:9013,direction:"up"},{id:575,lat:6.57,lon:9.18},{id:576,lat:6.57,lon:9.07,label:"leaveButton",destination:"science4thFloor",desti:655,direction:"up"},{id:577,lat:6.57,lon:8.6},{id:578,lat:6.57,lon:8.8,label:"leaveButton",destination:"science2ndFloor",desti:95,direction:"down"},{id:579,lat:6.9,lon:8.6},{id:580,lat:6.9,lon:8.2},{id:581,lat:7.02,lon:8.2},{lat:7.6,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:581,label:"classroomLogo"},{id:582,lat:6.9,lon:7.9},{id:583,lat:6.9,lon:8.75},{id:584,lat:7.02,lon:8.75},{lat:7.6,lon:8.65,title:"classRoom",building:"Science",floor:"3rd Floor",node:584,label:"classroomLogo"},{id:585,lat:6.9,lon:9.12},{id:586,lat:7.3,lon:9.12},{lat:7.8,lon:9.25,title:"classRoom",building:"Science",floor:"3rd Floor",node:586,label:"classroomLogo"}]:t=="science4thFloor"?e=[{id:610,lat:7.38,lon:3.33,label:"leaveButton",destination:"main5thFloor",desti:1002,direction:"up"},{id:611,lat:7.54,lon:3.33},{id:612,lat:7.54,lon:3.05},{id:682,lat:7.61,lon:3.05},{id:613,lat:6.5,lon:3.05},{id:614,lat:6.5,lon:3.33},{id:615,lat:7.12,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:480,direction:"down"},{id:616,lat:6.5,lon:2.75},{id:617,lat:6.18,lon:2.75},{lat:5.8,lon:2.65,title:"classRoom",building:"Science",floor:"4th Floor",node:617,label:"classroomLogo"},{id:618,lat:6.5,lon:2.6},{id:619,lat:6.75,lon:2.6},{lat:7.4,lon:2.45,title:"classRoom",building:"Science",floor:"4th Floor",node:619,label:"classroomLogo"},{id:620,lat:3.6,lon:3.33},{id:621,lat:3.6,lon:1.75},{id:622,lat:3.75,lon:1.75},{lat:4.3,lon:1.55,title:"classRoom",building:"Science",floor:"4th Floor",node:622,label:"classroomLogo"},{id:623,lat:3.6,lon:.3},{id:624,lat:3.2,lon:.25,label:"leaveButton",destination:"BRS4thFloor",desti:206},{id:625,lat:4,lon:.4},{id:626,lat:4,lon:.53},{lat:4.3,lon:.85,title:"classRoom",building:"Science",floor:"4th Floor",node:626,label:"classroomLogo"},{id:627,lat:5.5,lon:.7},{id:675,lat:6.4,lon:.9},{id:676,lat:6.4,lon:1.075},{lat:6.4,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:676,label:"classroomLogo"},{id:677,lat:6.65,lon:.95},{id:678,lat:6.65,lon:1.075},{lat:6.7,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:678,label:"classroomLogo"},{id:628,lat:5.5,lon:1.05},{lat:5.8,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:628,label:"classroomLogo"},{id:629,lat:7.85,lon:1.15,label:"leaveButton",destination:"main4thFloor",desti:737},{id:631,lat:7.85,lon:1.4},{id:632,lat:7.7,lon:1.4},{lat:7.4,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:632,label:"classroomLogo"},{id:633,lat:3.45,lon:3.45},{id:634,lat:2.95,lon:3.33,label:"leaveButton",destination:"BRS4thFloor",desti:180},{id:635,lat:3.45,lon:3.9},{id:636,lat:2.3,lon:3.9},{id:637,lat:2.3,lon:4.21},{id:638,lat:2.5,lon:4.21,label:"leaveButton",destination:"science5thFloor",desti:906,direction:"up"},{id:639,lat:3.45,lon:4.21},{id:640,lat:3.08,lon:4.21,label:"leaveButton",destination:"science3rdFloor",desti:539,direction:"down"},{id:641,lat:3.45,lon:4.75},{id:642,lat:3.15,lon:4.75},{lat:2.75,lon:4.7,title:"classRoom",building:"PE",floor:"4th Floor",node:642,label:"classroomLogo"},{id:643,lat:3.45,lon:5.6},{id:644,lat:3.15,lon:5.6},{lat:2.7,lon:5.55,title:"classRoom",building:"PE",floor:"4th Floor",node:644,label:"classroomLogo"},{id:645,lat:3.45,lon:6.45},{id:646,lat:3.15,lon:6.45},{lat:2.7,lon:6.45,title:"classRoom",building:"PE",floor:"4th Floor",node:646,label:"classroomLogo"},{id:647,lat:3.45,lon:6.94},{id:648,lat:2.95,lon:6.94},{lat:2.7,lon:7.1,title:"classRoom",building:"PE",floor:"4th Floor",node:648,label:"classroomLogo"},{id:649,lat:3.45,lon:7.47},{id:650,lat:2.5,lon:7.47},{id:651,lat:2.5,lon:7.66},{id:652,lat:2.6,lon:7.66,label:"leaveButton",destination:"science5thFloor",desti:929,direction:"up"},{id:653,lat:3.45,lon:7.66},{id:654,lat:3.13,lon:7.66,label:"leaveButton",destination:"science3rdFloor",desti:563,direction:"down"},{id:655,lat:6.6,lon:8.78,label:"leaveButton",destination:"science3rdFloor",desti:576,direction:"down"},{id:656,lat:6.6,lon:8.6},{id:657,lat:6.6,lon:8.51},{lat:6.65,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:657,label:"classroomLogo"},{id:658,lat:6.3,lon:8.6},{id:659,lat:6.3,lon:8.55},{id:660,lat:6.3,lon:9.1},{id:9010,lat:6.27,lon:9.29},{id:9011,lat:6.22,lon:9.39},{id:9012,lat:6.27,lon:9.44,label:"leaveButton",destination:"science3rdFloor",desti:9003,direction:"down"},{id:9013,lat:6.55,lon:9.4},{id:9014,lat:6.5,lon:9.52},{id:9015,lat:6.45,lon:9.51,label:"leaveButton",destination:"science5thFloor",desti:9022,direction:"up"},{id:661,lat:6.6,lon:9.15},{id:662,lat:6.6,lon:9.05,label:"leaveButton",destination:"science5thFloor",desti:890,direction:"up"},{id:663,lat:6.05,lon:8.55},{id:664,lat:6.05,lon:8.65},{lat:5.85,lon:8.64,title:"classRoom",building:"Science",floor:"4th Floor",node:664,label:"classroomLogo"},{id:665,lat:6.05,lon:8.4},{lat:5.85,lon:8.03,title:"classRoom",building:"Science",floor:"4th Floor",node:665,label:"classroomLogo"},{id:666,lat:6.91,lon:8.6},{id:667,lat:6.91,lon:8.51},{lat:7.5,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:667,label:"classroomLogo"},{id:668,lat:6.91,lon:8.9},{id:669,lat:7.05,lon:8.9},{lat:7.8,lon:8.6,title:"classRoom",building:"Science",floor:"4th Floor",node:669,label:"classroomLogo"},{id:670,lat:6.91,lon:9.1},{lat:7.2,lon:9.32,title:"classRoom",building:"Science",floor:"4th Floor",node:670,label:"classroomLogo"},{id:671,lat:7.3,lon:9.1},{lat:7.8,lon:9.26,title:"classRoom",building:"Science",floor:"4th Floor",node:671,label:"classroomLogo"},{id:672,lat:3.6,lon:2.7},{id:673,lat:3.68,lon:2.7},{id:674,lat:3.68,lon:2.57,label:"leaveButton",destination:"science3rdFloor",desti:526,direction:"down"}]:t=="science5thFloor"?e=[{id:890,lat:7.2,lon:8.1,label:"leaveButton",destination:"science4thFloor",desti:662,direction:"down"},{id:891,lat:7.2,lon:7.4},{id:892,lat:7.7,lon:7.4},{lat:8.7,lon:7.2,title:"classRoom",building:"Science",floor:"5th Floor",node:893,label:"classroomLogo"},{id:893,lat:7.85,lon:7.4},{id:894,lat:7.7,lon:8.3},{id:895,lat:8.25,lon:8.3},{lat:8.95,lon:8.1,title:"classRoom",building:"Science",floor:"5th Floor",node:895,label:"classroomLogo"},{id:896,lat:7.7,lon:8.85},{id:897,lat:8.25,lon:8.85},{lat:8.95,lon:8.9,title:"classRoom",building:"Science",floor:"5th Floor",node:897,label:"classroomLogo"},{id:898,lat:6.8,lon:7.4},{id:899,lat:6.65,lon:7.4},{lat:6.1,lon:7.5,title:"classRoom",building:"Science",floor:"5th Floor",node:899,label:"classroomLogo"},{id:900,lat:6.8,lon:8.55},{id:9090,lat:7.2,lon:8.65},{id:9091,lat:7.2,lon:8.47,label:"leaveButton",destination:"science6thFloor",desti:950,direction:"up"},{id:9020,lat:6.75,lon:8.8},{id:9021,lat:6.7,lon:8.95},{id:9022,lat:6.78,lon:9.02,label:"leaveButton",destination:"science4thFloor",desti:9015,direction:"down"},{id:9023,lat:7.2,lon:8.93},{id:9024,lat:7.1,lon:9.1},{id:9025,lat:7,lon:9.1,label:"leaveButton",destination:"science6thFloor",desti:9032,direction:"up"},{id:903,lat:2.15,lon:.5,label:"leaveButton",destination:"BRS5thFloor",desti:8449},{id:904,lat:2.64,lon:.7},{id:905,lat:2.64,lon:1.7},{id:906,lat:2.3,lon:1.7,label:"leaveButton",destination:"science4thFloor",desti:638,direction:"down"},{id:907,lat:3.05,lon:1.7},{id:908,lat:3.05,lon:2.25,label:"leaveButton",destination:"science6thFloor",desti:965,direction:"up"},{id:910,lat:2.64,lon:2.5},{id:911,lat:2.38,lon:2.5},{lat:2,lon:2.4,title:"classRoom",building:"PE",floor:"5th Floor",node:911,label:"classroomLogo"},{id:912,lat:2.64,lon:3.5},{id:913,lat:2.38,lon:3.5},{lat:2,lon:3.35,title:"classRoom",building:"PE",floor:"5th Floor",node:913,label:"classroomLogo"},{id:914,lat:2.64,lon:3.7},{id:915,lat:3.05,lon:3.7},{id:916,lat:3.05,lon:4.3},{id:917,lat:2.88,lon:4.3},{lat:2.2,lon:4.2,title:"classRoom",building:"PE",floor:"5th Floor",node:917,label:"classroomLogo"},{id:918,lat:3.05,lon:5.15},{id:919,lat:2.88,lon:5.15},{lat:2.2,lon:5.05,title:"classRoom",building:"PE",floor:"5th Floor",node:919,label:"classroomLogo"},{id:920,lat:3.05,lon:5.7},{id:921,lat:2.88,lon:5.7},{lat:2.2,lon:5.7,title:"classRoom",building:"PE",floor:"5th Floor",node:921,label:"classroomLogo"},{id:922,lat:3.05,lon:5.98},{id:923,lat:2.88,lon:5.98},{lat:2.2,lon:5.98,title:"classRoom",building:"PE",floor:"5th Floor",node:923,label:"classroomLogo"},{id:924,lat:3.05,lon:6.28},{id:925,lat:1.5,lon:6.28},{id:926,lat:1.5,lon:6.51},{id:927,lat:1.65,lon:6.51,label:"leaveButton",destination:"science6thFloor",desti:964,direction:"up"},{id:928,lat:3.05,lon:6.51},{id:929,lat:2.35,lon:6.51,label:"leaveButton",destination:"science4thFloor",desti:652,direction:"down"}]:t=="science6thFloor"?e=[{id:950,lat:6.83,lon:8.06,label:"leaveButton",destination:"science5thFloor",desti:900,direction:"down"},{id:951,lat:6.83,lon:8.2},{id:9030,lat:6.77,lon:8.6},{id:9031,lat:6.7,lon:8.74},{id:9032,lat:6.78,lon:8.82,label:"leaveButton",destination:"science5thFloor",desti:9025,direction:"down"},{id:952,lat:7.2,lon:8.27},{id:953,lat:7.3,lon:8.4},{lat:8.05,lon:8.4,title:"classRoom",building:"Science",floor:"6th Floor",node:953,label:"classroomLogo"},{id:954,lat:7.3,lon:8},{id:955,lat:7.3,lon:7.35},{id:956,lat:7.1,lon:7.35},{lat:6.2,lon:7.35,title:"classRoom",building:"Science",floor:"6th Floor",node:956,label:"classroomLogo"},{id:957,lat:7.3,lon:6.83},{id:958,lat:5.63,lon:6.83},{lat:5.2,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:958,label:"classroomLogo"},{id:959,lat:8,lon:8},{id:960,lat:8,lon:7.88},{lat:8.05,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:960,label:"classroomLogo"},{id:961,lat:9,lon:8},{id:962,lat:9,lon:8.12},{lat:9.1,lon:8.5,title:"classRoom",building:"Science",floor:"6th Floor",node:962,label:"classroomLogo"},{id:963,lat:9,lon:7.88},{lat:9.1,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:963,label:"classroomLogo"},{id:964,lat:2.35,lon:6.05,label:"leaveButton",destination:"science5thFloor",desti:927,direction:"down"},{id:965,lat:3.05,lon:2,label:"leaveButton",destination:"science5thFloor",desti:908,direction:"down"},{id:966,lat:3.05,lon:3},{id:967,lat:2.88,lon:3},{lat:2,lon:4,title:"classRoom",building:"PE",floor:"6th Floor",node:967,label:"classroomLogo"}]:t=="main4thFloor"?e=[{id:8500,lat:6.15,lon:9.7},{id:8501,lat:6.93,lon:9.75},{id:8502,lat:6.93,lon:9.4},{id:8503,lat:6.75,lon:9.4,label:"leaveButton",destination:"main5thFloor",desti:8512,direction:"up"},{id:700,lat:7.1,lon:7.45,label:"leaveButton",destination:"BRS4thFloor",desti:207},{id:701,lat:5.83,lon:7.45},{id:702,lat:5.83,lon:7.6},{lat:6.5,lon:8.25,title:"classRoom",building:"Main",floor:"4th Floor",node:702,label:"classroomLogo"},{id:703,lat:5.1,lon:7.45},{id:704,lat:5.1,lon:7.6},{id:705,lat:4.74,lon:7.6},{lat:4,lon:7.9,title:"classRoom",building:"Main",floor:"4th Floor",node:705,label:"classroomLogo"},{id:706,lat:5.1,lon:9},{lat:5.1,lon:9.1,title:"classRoom",building:"Main",floor:"4th Floor",node:706},{id:707,lat:5.1,lon:6.98},{id:708,lat:6.9,lon:6.98},{id:709,lat:6.9,lon:6.5},{id:710,lat:6.75,lon:6.5,label:"leaveButton",destination:"main5thFloor",desti:1010,direction:"up"},{id:711,lat:5.1,lon:6.5},{id:712,lat:6.05,lon:6.5,label:"leaveButton",destination:"main3rdFloor",desti:750,direction:"down"},{id:713,lat:5.1,lon:6.2},{id:714,lat:4.74,lon:6.2},{lat:4,lon:6.2,title:"classRoom",building:"Main",floor:"4th Floor",node:714,label:"classroomLogo"},{id:715,lat:5.1,lon:5.7},{id:716,lat:5.45,lon:5.7},{lat:6.5,lon:5.6,title:"classRoom",building:"Main",floor:"4th Floor",node:716,label:"classroomLogo"},{id:719,lat:5.1,lon:4.2},{id:720,lat:5.45,lon:4.2},{lat:6.5,lon:4.1,title:"classRoom",building:"Main",floor:"4th Floor",node:720,label:"classroomLogo"},{id:721,lat:5.1,lon:3.7},{id:722,lat:4.74,lon:3.7},{lat:4,lon:3.65,title:"classRoom",building:"Main",floor:"4th Floor",node:722,label:"classroomLogo"},{id:723,lat:5.1,lon:2.75},{id:724,lat:4.74,lon:2.75},{lat:4,lon:2.1,title:"classRoom",building:"Main",floor:"4th Floor",node:724,label:"classroomLogo"},{id:725,lat:5.45,lon:2.75},{lat:6.5,lon:2.63,title:"classRoom",building:"Main",floor:"4th Floor",node:725,label:"classroomLogo"},{id:726,lat:5.1,lon:2.15},{id:727,lat:6.15,lon:2.15},{id:728,lat:6.33,lon:2.15},{lat:6.8,lon:1.8,title:"classRoom",building:"Main",floor:"4th Floor",node:728,label:"classroomLogo"},{id:729,lat:6.15,lon:2.05},{lat:6,lon:1.75,title:"classRoom",building:"Main",floor:"4th Floor",node:729,label:"classroomLogo"},{id:730,lat:5.1,lon:1.3},{id:731,lat:6.1,lon:.85,label:"leaveButton",destination:"main3rdFloor",desti:779,direction:"down"},{id:732,lat:6.9,lon:1.3},{id:733,lat:6.9,lon:.64},{id:734,lat:6.7,lon:.64},{id:735,lat:5.35,lon:1},{id:736,lat:5.35,lon:.68},{id:737,lat:7.1,lon:.16,label:"leaveButton",destination:"science4thFloor",desti:629}]:t=="main5thFloor"?e=[{id:1002,lat:8.5,lon:.6,label:"leaveButton",destination:"science4thFloor",desti:610,direction:"down"},{id:1003,lat:9,lon:1.5},{id:1004,lat:2.7,lon:3.7},{lat:4,lon:3.7,title:"classRoom",building:"Main",floor:"5th Floor",node:1007,label:"classroomLogo"},{id:1005,lat:2.7,lon:6.5},{id:1009,lat:2.7,lon:7},{id:1010,lat:3.48,lon:7,label:"leaveButton",destination:"main4thFloor",desti:710,direction:"down"},{id:1011,lat:2.7,lon:7.4},{id:1012,lat:4.08,lon:7.4},{lat:4.3,lon:7,title:"classRoom",building:"Main",floor:"5th Floor",node:1012,label:"classroomLogo"},{id:1013,lat:2.7,lon:7.8},{id:1014,lat:2.91,lon:7.8},{lat:3.7,lon:7.68,title:"classRoom",building:"Main",floor:"5th Floor",node:1014,label:"classroomLogo"},{id:1015,lat:2.23,lon:7.8},{lat:1.7,lon:8.1,title:"classRoom",building:"Main",floor:"5th Floor",node:1015,label:"classroomLogo"},{id:1016,lat:2.7,lon:8.8},{id:1017,lat:3.4,lon:8.9},{id:1018,lat:3.4,lon:8.69},{lat:3.7,lon:8.4,title:"classRoom",building:"Main",floor:"5th Floor",node:1018,label:"classroomLogo"},{id:1019,lat:4.15,lon:9,label:"leaveButton",destination:"main6thFloor",desti:1080,direction:"up"},{id:1020,lat:2.7,lon:9.3},{id:8510,lat:3.4,lon:9.5},{id:8511,lat:3.4,lon:9.35},{id:8512,lat:3.65,lon:9.35,label:"leaveButton",destination:"main4thFloor",desti:8503,direction:"down"},{id:8513,lat:3.4,lon:9.65},{id:8514,lat:4.2,lon:9.7},{id:8515,lat:4.2,lon:9.37},{id:8516,lat:4,lon:9.37,label:"leaveButton",destination:"main6thFloor",desti:8521,direction:"up"},{id:1021,lat:.65,lon:9},{id:1022,lat:.25,lon:8.7},{id:1023,lat:.25,lon:7.25},{id:1024,lat:0,lon:7.25,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1160}]:t=="main6thFloor"?e=[{id:1080,lat:6.89,lon:8.9,label:"leaveButton",destination:"main5thFloor",desti:1019,direction:"down"},{id:1081,lat:7.1,lon:8.9},{id:1082,lat:7.1,lon:8.3},{id:1083,lat:5.2,lon:8.3},{id:8520,lat:5.2,lon:9.1},{id:8521,lat:6.34,lon:9.35,label:"leaveButton",destination:"main5thFloor",desti:8516,direction:"down"},{id:1084,lat:5.2,lon:8},{lat:5.2,lon:4.3,title:"classRoom",building:"Main",floor:"6th Floor",node:1084,label:"classroomLogo"}]:t=="main3rdFloor"?e=[{id:750,lat:7.05,lon:7,label:"leaveButton",destination:"main4thFloor",desti:712,direction:"up"},{id:751,lat:7.25,lon:7},{id:752,lat:7.25,lon:7.5},{id:753,lat:5.8,lon:7.5},{id:754,lat:5.8,lon:7.75},{lat:6.6,lon:8.8,title:"classRoom",building:"Main",floor:"3rd Floor",node:754,label:"classroomLogo"},{id:755,lat:5.8,lon:7},{id:756,lat:6.28,lon:7,label:"leaveButton",destination:"main2ndFloor",desti:800,direction:"down"},{id:757,lat:5.1,lon:7.5},{id:758,lat:5.1,lon:7.75},{lat:4.8,lon:8.5,title:"classRoom",building:"Main",floor:"3rd Floor",node:758,label:"classroomLogo"},{id:759,lat:5.1,lon:7},{id:760,lat:4.7,lon:7},{lat:3.7,lon:6.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:760,label:"classroomLogo"},{id:761,lat:5.1,lon:5.8},{id:762,lat:5.55,lon:5.8},{lat:6.6,lon:5.7,title:"classRoom",building:"Main",floor:"3rd Floor",node:762,label:"classroomLogo"},{id:763,lat:5.1,lon:4.8},{id:764,lat:4.7,lon:4.8},{lat:3.7,lon:4.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:764,label:"classroomLogo"},{id:765,lat:5.1,lon:4.1},{id:766,lat:5.55,lon:4.1},{lat:6.6,lon:3.75,title:"classRoom",building:"Main",floor:"3rd Floor",node:766,label:"classroomLogo"},{id:767,lat:5.1,lon:2.93},{id:768,lat:6.1,lon:2.93},{id:769,lat:6.1,lon:2.68},{lat:6.1,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:769,label:"classroomLogo"},{id:770,lat:7,lon:2.93},{id:771,lat:7,lon:2.68},{lat:7,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:771,label:"classroomLogo"},{id:772,lat:7.45,lon:2.93,label:"leaveButton",destination:"science3rdFloor",desti:513},{id:773,lat:5.1,lon:2.6},{id:774,lat:4.7,lon:2.6},{lat:3.7,lon:2.4,title:"classRoom",building:"Main",floor:"3rd Floor",node:774,label:"classroomLogo"},{id:775,lat:5.1,lon:1.2},{id:776,lat:6.25,lon:.65,label:"leaveButton",destination:"main2ndFloor",desti:833,direction:"down"},{id:777,lat:7.3,lon:1.2},{id:778,lat:7.3,lon:.4},{id:779,lat:7.09,lon:.4,label:"leaveButton",destination:"main4thFloor",desti:731,direction:"up"}]:t=="main2ndFloor"?e=[{id:800,lat:9.72,lon:6.24,label:"leaveButton",destination:"main3rdFloor",desti:756,direction:"up"},{id:801,lat:9.85,lon:6.24},{id:802,lat:9.85,lon:6.6},{id:803,lat:8.8,lon:6.6},{id:804,lat:8.8,lon:6.75},{lat:9.5,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:804,label:"classroomLogo"},{id:805,lat:8.25,lon:6.6},{id:806,lat:8.25,lon:6.75},{lat:8.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:806,label:"classroomLogo"},{id:807,lat:8.25,lon:6.11},{id:808,lat:8.57,lon:6.11},{lat:9.3,lon:6.15,title:"classRoom",building:"Main",floor:"2nd Floor",node:808,label:"classroomLogo"},{id:809,lat:8.25,lon:5.7},{id:810,lat:7.97,lon:5.7},{lat:7.3,lon:5.6,title:"classRoom",building:"Main",floor:"2nd Floor",node:810,label:"classroomLogo"},{id:811,lat:8.25,lon:5.45},{id:812,lat:8.57,lon:5.45},{lat:9.3,lon:5.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:812,label:"classroomLogo"},{id:813,lat:8.25,lon:4.65},{id:814,lat:7.97,lon:4.65},{lat:7.3,lon:4.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:814,label:"classroomLogo"},{id:815,lat:8.25,lon:4.29},{id:816,lat:8.57,lon:4.29},{lat:9.3,lon:4.2,title:"classRoom",building:"Main",floor:"2nd Floor",node:816,label:"classroomLogo"},{id:817,lat:8.25,lon:3.65},{id:818,lat:7.97,lon:3.65},{lat:7.3,lon:3.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:818,label:"classroomLogo"},{id:819,lat:8.25,lon:3},{id:820,lat:9.25,lon:3},{id:821,lat:9.25,lon:3.1},{lat:9.1,lon:3.33,title:"classRoom",building:"Main",floor:"2nd Floor",node:821,label:"classroomLogo"},{id:822,lat:9.35,lon:3},{lat:9.75,lon:3.25,title:"classRoom",building:"Main",floor:"2nd Floor",node:822,label:"classroomLogo"},{id:823,lat:8.25,lon:2.75},{id:824,lat:7.97,lon:2.75},{lat:7.3,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:824,label:"classroomLogo"},{id:825,lat:9.02,lon:2.75},{lat:9.55,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:825,label:"classroomLogo"},{id:826,lat:8.25,lon:2.34},{id:827,lat:8.62,lon:2.34,label:"leaveButton",destination:"science2ndFloor",desti:88,direction:"down"},{id:828,lat:8.25,lon:1.92},{id:829,lat:8.25,lon:1.7},{id:830,lat:8.57,lon:1.6},{lat:9.3,lon:1.43,title:"classRoom",building:"Main",floor:"2nd Floor",node:830,label:"classroomLogo"},{id:831,lat:9.85,lon:1.92},{id:832,lat:9.85,lon:1.5},{id:833,lat:9.6,lon:1.4,label:"leaveButton",destination:"main3rdFloor",desti:776,direction:"up"},{id:834,lat:6.15,lon:6.6},{id:835,lat:6.15,lon:6.75},{lat:6.25,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:835,label:"classroomLogo"},{id:836,lat:6.15,lon:6.23},{id:837,lat:5.6,lon:6.6},{id:838,lat:5.6,lon:6.75},{lat:5.7,lon:7.05,title:"classRoom",building:"Main",floor:"2nd Floor",node:838,label:"classroomLogo"},{id:839,lat:5.25,lon:6.6},{id:840,lat:5.25,lon:6.75},{id:841,lat:4.6,lon:6.6},{id:864,lat:4.6,lon:6.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.7,lon:5.75,title:"classRoom",building:"EDS",floor:"2nd Floor",node:864},{id:842,lat:4.25,lon:6.6},{id:843,lat:4.25,lon:6.75},{lat:4.4,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:843,label:"classroomLogo"},{id:844,lat:3.95,lon:6.6},{id:845,lat:3.95,lon:6.23},{lat:4.5,lon:4.23,title:"classRoom",building:"EDS",floor:"2nd Floor",node:846,label:"classroomLogo"},{id:847,lat:3.3,lon:6.6},{id:848,lat:3.3,lon:6.2},{id:849,lat:2.95,lon:6.6},{id:850,lat:2.95,lon:6.75},{lat:3.3,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:850,label:"classroomLogo"},{id:851,lat:2.7,lon:6.6},{id:852,lat:2.7,lon:5.45},{id:853,lat:3.3,lon:5.45},{id:854,lat:3.3,lon:5.7,label:"leaveButton",destination:"EDS3rdFloor",desti:1225,direction:"up"},{id:855,lat:1.65,lon:6.6},{id:856,lat:1.65,lon:6.75},{lat:1.8,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:856,label:"classroomLogo"},{id:857,lat:1.65,lon:6.23},{id:858,lat:.7,lon:6.6},{id:8100,lat:.84,lon:6.6},{id:860,lat:.84,lon:7.2,label:"leaveButton",destination:"EDS3rdFloor",desti:8003,direction:"up"},{id:859,lat:.7,lon:6.23},{id:861,lat:.3,lon:6.6},{id:862,lat:.3,lon:6.75},{lat:.55,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:862,label:"classroomLogo"},{id:865,lat:7.25,lon:6.6},{id:866,lat:7.25,lon:6.75},{lat:7.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:866,label:"classroomLogo"}]:t=="EDS3rdFloor"?e=[{id:1220,lat:4.34,lon:4.49,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1106,direction:"up"},{id:1221,lat:3.9,lon:4.49},{id:1222,lat:3.9,lon:5.25},{id:1223,lat:6,lon:5.25},{id:1224,lat:6,lon:4.49},{id:1225,lat:5.3,lon:4.49,label:"leaveButton",destination:"main2ndFloor",desti:854,direction:"down"},{id:1226,lat:6,lon:3.72},{id:1227,lat:4.1,lon:3.72},{id:1228,lat:4.1,lon:3.45},{lat:2.7,lon:2,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1228,label:"classroomLogo"},{id:1229,lat:3,lon:3.72},{id:1230,lat:3,lon:4.03},{lat:2.5,lon:4.7,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1230,label:"classroomLogo"},{id:1231,lat:2.15,lon:3.72},{lat:1.7,lon:3.6,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1231,label:"classroomLogo"},{id:1232,lat:6.46,lon:3.72},{lat:8.1,lon:3.6,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1232,label:"classroomLogo"},{id:1233,lat:6,lon:2.95},{id:1234,lat:5.38,lon:2.95,label:"elevator",elevatorBuilding:"EDS"},{lat:5,lon:2.8,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1234},{id:1235,lat:6,lon:2.1},{id:1236,lat:6.46,lon:2.1},{lat:8,lon:1.7,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1236,label:"classroomLogo"},{id:1237,lat:6,lon:6},{id:1238,lat:6.46,lon:6},{lat:8.1,lon:5.9,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1238,label:"classroomLogo"},{id:1239,lat:5.4,lon:6},{lat:4.8,lon:6.3,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1239,label:"classroomLogo"},{id:1240,lat:6,lon:7.55},{id:8e3,lat:6,lon:7.35},{id:8001,lat:6.7,lon:7.35},{id:8002,lat:6.7,lon:7.85},{id:8003,lat:6.9,lon:7.85,label:"leaveButton",destination:"main2ndFloor",desti:860,direction:"down"},{id:8004,lat:7.8,lon:7.35},{id:8005,lat:7.8,lon:7.85},{id:8006,lat:7.5,lon:7.85,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:8203,direction:"up"},{id:1241,lat:5.4,lon:7.55},{lat:4.9,lon:7.49,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1241,label:"classroomLogo"},{id:1242,lat:6,lon:8.45},{id:1243,lat:6.46,lon:8.45},{lat:8.7,lon:8,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1243,label:"classroomLogo"}]:t=="CHTMEDS4thFloor"?e=[{id:1100,lat:7.7,lon:2.6},{lat:7.8,lon:2.6,title:"classRoom",building:"EDS",floor:"4th Floor",node:1100},{id:1102,lat:6.9,lon:2.6},{id:1103,lat:6.9,lon:2.06},{lat:6.9,lon:1.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1103,label:"classroomLogo"},{id:1104,lat:4.95,lon:2.6},{id:1105,lat:4.95,lon:2.34},{id:1106,lat:4.5,lon:2.34,label:"leaveButton",destination:"EDS3rdFloor",desti:1220,direction:"down"},{id:1107,lat:4.95,lon:1.8},{id:1108,lat:3.35,lon:1.8},{id:1109,lat:3.35,lon:1.62},{lat:3.35,lon:.78,title:"classRoom",building:"EDS",floor:"4th Floor",node:1109,label:"classroomLogo"},{id:1110,lat:2.7,lon:1.8},{id:1111,lat:2.7,lon:2.01},{lat:2.3,lon:2.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1111,label:"classroomLogo"},{id:1112,lat:2.35,lon:1.8},{lat:1.85,lon:1.75,title:"classRoom",building:"EDS",floor:"4th Floor",node:1112,label:"classroomLogo"},{id:1113,lat:4.95,lon:1.5},{id:1114,lat:5.28,lon:1.5},{lat:5.7,lon:1.35,title:"classRoom",building:"EDS",floor:"4th Floor",node:1114,label:"classroomLogo"},{id:1115,lat:4.95,lon:1.32},{id:1116,lat:4.57,lon:1.32,label:"elevator",elevatorBuilding:"EDS"},{lat:4.25,lon:1.2,title:"classRoom",building:"EDS",floor:"4th Floor",node:1116,label:"classroomLogo"},{id:1117,lat:4.95,lon:.75},{id:1118,lat:5.28,lon:.75},{lat:6.5,lon:.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1118,label:"classroomLogo"},{id:1119,lat:4.95,lon:2.8},{id:1120,lat:3.5,lon:2.8},{id:1121,lat:3.5,lon:2.34},{id:1122,lat:3.88,lon:2.34,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1174,direction:"up"},{id:1123,lat:4.95,lon:3.65},{id:1124,lat:5.28,lon:3.65},{lat:6.5,lon:3.5,title:"classRoom",building:"EDS",floor:"4th Floor",node:1124,label:"classroomLogo"},{id:1125,lat:4.57,lon:3.65},{lat:3.8,lon:3.5,title:"classRoom",building:"EDS",floor:"4th Floor",node:1125,label:"classroomLogo"},{id:1126,lat:4.95,lon:4.5},{id:8200,lat:4.95,lon:4.3},{id:8201,lat:5.42,lon:4.3},{id:8202,lat:5.42,lon:4.65},{id:8203,lat:5.6,lon:4.65,label:"leaveButton",destination:"EDS3rdFloor",desti:8006,direction:"down"},{id:8204,lat:6.2,lon:4.3},{id:8205,lat:6.2,lon:4.65},{id:8206,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8213,direction:"up"},{id:1127,lat:4.57,lon:4.5},{lat:4.1,lon:4.35,title:"classRoom",building:"EDS",floor:"4th Floor",node:1127,label:"classroomLogo"},{id:1128,lat:4.95,lon:5.05},{id:1129,lat:6.05,lon:5.05},{id:1130,lat:6.05,lon:5.65},{id:1131,lat:6.47,lon:5.65},{lat:7.4,lon:5.65,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1131,label:"classroomLogo"},{id:1132,lat:5.73,lon:5.65},{lat:5.35,lon:5.6,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1132,label:"classroomLogo"},{id:1133,lat:6.05,lon:6.15},{id:1134,lat:5.73,lon:6.15},{lat:4.6,lon:5.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1134,label:"classroomLogo"},{id:1135,lat:6.05,lon:7.1},{id:1136,lat:4.8,lon:7.1},{id:1137,lat:4.8,lon:6.65},{id:1149,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1194,direction:"up"},{id:1138,lat:6.75,lon:7.1},{id:1139,lat:7.3,lon:7.1},{id:1140,lat:7.3,lon:7.34},{lat:8.1,lon:7.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1140,label:"classroomLogo"},{id:1141,lat:6.75,lon:7.57},{id:1142,lat:6.47,lon:7.57,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.35,lon:7.4,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1142},{id:1143,lat:6.75,lon:7.9},{id:1144,lat:6.52,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1144,label:"classroomLogo"},{id:1145,lat:6.75,lon:8.4},{id:1146,lat:6.52,lon:8.4},{lat:6.35,lon:8.4,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1146,label:"classroomLogo"},{id:1147,lat:6.75,lon:8.8},{id:8300,lat:6.75,lon:9.65},{id:8301,lat:8.1,lon:9.65},{id:8302,lat:8.1,lon:9.9},{id:8303,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8313,direction:"up"},{id:1148,lat:7.12,lon:8.8},{lat:8.1,lon:8.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1148,label:"classroomLogo"}]:t=="CHTMEDS5thFloor"?e=[{id:1160,lat:4.95,lon:0,label:"leaveButton",destination:"main5thFloor",desti:1024},{id:1161,lat:4.95,lon:.75},{id:1162,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1162,label:"classroomLogo"},{id:1163,lat:4.57,lon:.75},{id:1164,lat:4.95,lon:1.42},{id:1165,lat:4.57,lon:1.42,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.27,title:"classRoom",building:"EDS",floor:"5th Floor",node:1165,label:"classroomLogo"},{id:1166,lat:4.95,lon:1.9},{id:1167,lat:2.95,lon:1.9},{id:1168,lat:2.95,lon:1.7},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1168,label:"classroomLogo"},{id:1169,lat:2.95,lon:2.1},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"5th Floor",node:1169,label:"classroomLogo"},{id:1170,lat:2.42,lon:1.9},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1170,label:"classroomLogo"},{id:1171,lat:4.95,lon:2.15},{id:1172,lat:5.28,lon:2.15},{lat:6.8,lon:2.1,title:"classRoom",building:"EDS",floor:"5th Floor",node:1172,label:"classroomLogo"},{id:1173,lat:4.95,lon:2.39},{id:1174,lat:4.5,lon:2.39,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1122,direction:"down"},{id:1175,lat:4.95,lon:2.9},{id:1176,lat:3.5,lon:2.9},{id:1177,lat:3.5,lon:2.39},{id:1178,lat:3.88,lon:2.39,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1267,direction:"up"},{id:1179,lat:4.95,lon:3.65},{id:1180,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1180,label:"classroomLogo"},{id:1181,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1181,label:"classroomLogo"},{id:1182,lat:4.95,lon:4.5},{id:8210,lat:4.95,lon:4.35},{id:8211,lat:5.5,lon:4.35},{id:8212,lat:5.5,lon:4.75},{id:8213,lat:5.76,lon:4.75,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:8206,direction:"down"},{id:8214,lat:6.5,lon:4.35},{id:8215,lat:6.5,lon:4.75},{id:8216,lat:6.3,lon:4.75,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8223,direction:"up"},{id:1183,lat:4.57,lon:4.5},{lat:4,lon:4.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1183,label:"classroomLogo"},{id:1184,lat:4.95,lon:5.2},{id:1185,lat:6.05,lon:5.2},{id:1186,lat:6.05,lon:6},{id:1187,lat:6.43,lon:6},{lat:7.1,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1187,label:"classroomLogo"},{id:1188,lat:5.71,lon:6},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1188,label:"classroomLogo"},{id:1189,lat:6.05,lon:6.75},{id:1190,lat:5.67,lon:6.75,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1149,direction:"down"},{id:1191,lat:6.05,lon:7.2},{id:1192,lat:4.8,lon:7.2},{id:1193,lat:4.8,lon:6.75},{id:1194,lat:5.07,lon:6.75,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1284,direction:"up"},{id:1195,lat:6.75,lon:7.2},{id:1196,lat:7.07,lon:7.2},{lat:7.9,lon:6.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1196,label:"classroomLogo"},{id:1197,lat:6.75,lon:7.65},{id:1198,lat:6.47,lon:7.65,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.5,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1198,label:"classroomLogo"},{id:1199,lat:6.75,lon:7.95},{id:1200,lat:6.47,lon:7.95},{lat:5.8,lon:7.65,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1200,label:"classroomLogo"},{id:1201,lat:7.07,lon:7.95},{lat:7.9,lon:7.8,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1201,label:"classroomLogo"},{id:1202,lat:6.75,lon:8.8},{id:8310,lat:6.75,lon:9.65},{id:8311,lat:6.95,lon:9.65},{id:8312,lat:6.95,lon:9.9},{id:8313,lat:7.1,lon:9.9,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:8303,direction:"down"},{id:8314,lat:8,lon:9.65},{id:8315,lat:8,lon:9.9},{id:8316,lat:7.8,lon:9.9,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8330,direction:"up"},{id:1203,lat:7.07,lon:8.8},{lat:7.9,lon:8.9,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1203,label:"classroomLogo"},{id:1204,lat:6.47,lon:8.8}]:t=="CHTMEDS6thFloor"?e=[{id:1260,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1337,direction:"up"},{id:1261,lat:3.5,lon:2.32},{id:1262,lat:3.5,lon:2.8},{id:1263,lat:4.95,lon:2.8},{id:1264,lat:4.95,lon:2.55},{id:1265,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"6th Floor",node:1265,label:"classroomLogo"},{id:1266,lat:4.95,lon:2.32},{id:1267,lat:4.5,lon:2.32,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1122,direction:"down"},{id:1268,lat:4.95,lon:1.85},{id:1269,lat:2.88,lon:1.85},{id:1270,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"6th Floor",node:1270,label:"classroomLogo"},{id:1271,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"6th Floor",node:1271,label:"classroomLogo"},{id:1272,lat:2.88,lon:1.62},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"6th Floor",node:1272,label:"classroomLogo"},{id:1273,lat:4.95,lon:1.58},{id:1274,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"6th Floor",node:1274,label:"classroomLogo"},{id:1275,lat:4.95,lon:1.3},{id:1276,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"6th Floor",node:1276,label:"classroomLogo"},{id:1277,lat:4.95,lon:.75},{id:1278,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"6th Floor",node:1278,label:"classroomLogo"},{id:1279,lat:4.95,lon:3.65},{id:1280,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"6th Floor",node:1280,label:"classroomLogo"},{id:1281,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"6th Floor",node:1281,label:"classroomLogo"},{id:1282,lat:4.95,lon:4.5},{id:8220,lat:4.95,lon:4.3},{id:8221,lat:5.45,lon:4.3},{id:8222,lat:5.45,lon:4.65},{id:8223,lat:5.6,lon:4.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8216,direction:"down"},{id:8224,lat:6.2,lon:4.3},{id:8225,lat:6.2,lon:4.65},{id:8226,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8233,direction:"up"},{id:1283,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"6th Floor",node:1283,label:"classroomLogo"},{id:1284,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1362,direction:"up"},{id:1285,lat:4.8,lon:6.65},{id:1286,lat:4.8,lon:7.1},{id:1287,lat:6.05,lon:7.1},{id:1288,lat:6.05,lon:6.65},{id:1289,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1194,direction:"down"},{id:1290,lat:6.47,lon:7.6,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.45,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1198,label:"classroomLogo"},{id:1291,lat:4.95,lon:.5},{lat:4.95,lon:.13,title:"classRoom",building:"EDS",floor:"6th Floor",node:1291,label:"classroomLogo"},{id:1292,lat:4.57,lon:.75},{lat:4.3,lon:.5,title:"classRoom",building:"EDS",floor:"6th Floor",node:1292,label:"classroomLogo"},{id:8320,lat:7.2,lon:9.9,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8316,direction:"down"},{id:8321,lat:6.95,lon:9.9},{id:8322,lat:6.95,lon:9.65},{id:8323,lat:8,lon:9.65},{id:8324,lat:8,lon:9.9},{id:8325,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8333,direction:"up"}]:t=="CHTMEDS7thFloor"?e=[{id:1330,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1330,direction:"up"},{id:1331,lat:3.5,lon:2.32},{id:1332,lat:3.5,lon:2.8},{id:1333,lat:4.95,lon:2.8},{id:1334,lat:4.95,lon:2.55},{id:1335,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"7th Floor",node:1335,label:"classroomLogo"},{id:1336,lat:4.95,lon:2.32},{id:1337,lat:4.5,lon:2.32,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1122,direction:"down"},{id:1338,lat:4.95,lon:1.85},{id:1339,lat:2.88,lon:1.85},{id:1340,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"7th Floor",node:1340,label:"classroomLogo"},{id:1341,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"7th Floor",node:1341,label:"classroomLogo"},{id:1342,lat:2.88,lon:1.62},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"7th Floor",node:1342,label:"classroomLogo"},{id:1343,lat:4.95,lon:1.58},{id:1344,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"7th Floor",node:1344,label:"classroomLogo"},{id:1345,lat:4.95,lon:1.3},{id:1346,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"7th Floor",node:1346,label:"classroomLogo"},{id:1347,lat:4.95,lon:.75},{id:1348,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"7th Floor",node:1348,label:"classroomLogo"},{id:1349,lat:4.95,lon:.5},{lat:4.95,lon:.13,title:"classRoom",building:"EDS",floor:"7th Floor",node:1349,label:"classroomLogo"},{id:1350,lat:4.57,lon:.75},{lat:4.3,lon:.5,title:"classRoom",building:"EDS",floor:"7th Floor",node:1350,label:"classroomLogo"},{id:1351,lat:4.95,lon:3.65},{id:1352,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"7th Floor",node:1352,label:"classroomLogo"},{id:1353,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"7th Floor",node:1353,label:"classroomLogo"},{id:1354,lat:4.95,lon:4.5},{id:8230,lat:4.95,lon:4.3},{id:8231,lat:5.47,lon:4.3},{id:8232,lat:5.47,lon:4.65},{id:8233,lat:5.6,lon:4.65,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8226,direction:"down"},{id:8234,lat:6.2,lon:4.3},{id:8235,lat:6.2,lon:4.65},{id:8236,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8243,direction:"up"},{id:1355,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"7th Floor",node:1355,label:"classroomLogo"},{id:1356,lat:4.95,lon:5},{id:1357,lat:6.07,lon:5},{id:1358,lat:6.07,lon:5.85},{id:1359,lat:6.46,lon:5.85},{lat:7.4,lon:5.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1359,label:"classroomLogo"},{id:1360,lat:5.73,lon:5.85},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1360,label:"classroomLogo"},{id:1361,lat:6.07,lon:6.65},{id:1362,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1284,direction:"down"},{id:1363,lat:6.07,lon:7.1},{id:1364,lat:4.8,lon:7.1},{id:1365,lat:4.8,lon:6.65},{id:1366,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1453,direction:"up"},{id:1367,lat:6.81,lon:7.1},{id:1368,lat:7.13,lon:7.1},{lat:8,lon:6.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1368,label:"classroomLogo"},{id:1369,lat:6.81,lon:7.58},{id:1370,lat:6.49,lon:7.58,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.4,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1370},{id:1371,lat:6.81,lon:7.9},{id:1372,lat:7.13,lon:7.9},{lat:8,lon:7.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1372,label:"classroomLogo"},{id:1373,lat:6.51,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1373,label:"classroomLogo"},{id:1374,lat:6.81,lon:8.8},{id:1375,lat:7.13,lon:8.8},{lat:8,lon:8.9,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1375,label:"classroomLogo"},{id:1376,lat:6.51,lon:8.8},{lat:6.2,lon:8.4,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1376,label:"classroomLogo"},{id:8330,lat:6.81,lon:9.65},{id:8331,lat:7,lon:9.65},{id:8332,lat:7,lon:9.9},{id:8333,lat:7.15,lon:9.9,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8325,direction:"down"},{id:8334,lat:8.1,lon:9.65},{id:8335,lat:8.1,lon:9.9},{id:8336,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8343,direction:"up"}]:t=="CHTMEDS8thFloor"?e=[{id:1410,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1330,direction:"down"},{id:1452,lat:4.95,lon:2.32},{id:1411,lat:4.95,lon:1.85},{id:1412,lat:2.88,lon:1.85},{id:1413,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"8th Floor",node:1413,label:"classroomLogo"},{id:1414,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"8th Floor",node:1414,label:"classroomLogo"},{id:1415,lat:2.88,lon:1.62},{lat:3.3,lon:1,title:"classRoom",building:"EDS",floor:"8th Floor",node:1415,label:"classroomLogo"},{id:1416,lat:4.95,lon:1.58},{id:1417,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"8th Floor",node:1417,label:"classroomLogo"},{id:1418,lat:4.95,lon:1.3},{id:1419,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"8th Floor",node:1419},{id:1420,lat:4.95,lon:.75},{id:1421,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"8th Floor",node:1421,label:"classroomLogo"},{id:1422,lat:4.95,lon:.25},{id:1423,lat:2.5,lon:.25},{id:1424,lat:2.5,lon:.75},{id:1425,lat:2.75,lon:.75,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1500,direction:"up"},{id:1426,lat:4.95,lon:2.55},{id:1427,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"8th Floor",node:1427,label:"classroomLogo"},{id:1428,lat:4.95,lon:3.65},{id:1429,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"8th Floor",node:1429,label:"classroomLogo"},{id:1430,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"8th Floor",node:1430,label:"classroomLogo"},{id:1431,lat:4.95,lon:4.5},{id:8240,lat:4.95,lon:4.3},{id:8241,lat:5.45,lon:4.3},{id:8242,lat:5.45,lon:4.65},{id:8243,lat:5.6,lon:4.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8236,direction:"down"},{id:8244,lat:6.2,lon:4.3},{id:8245,lat:6.2,lon:4.65},{id:8246,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:8257,direction:"up"},{id:1432,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"8th Floor",node:1432,label:"classroomLogo"},{id:1433,lat:4.95,lon:5},{id:1434,lat:6.07,lon:5},{id:1435,lat:6.07,lon:5.85},{id:1436,lat:6.46,lon:5.85},{lat:7.4,lon:5.7,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1436,label:"classroomLogo"},{id:1437,lat:5.73,lon:5.85},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1437,label:"classroomLogo"},{id:1438,lat:6.07,lon:6.65},{id:1453,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1366,direction:"down"},{id:1439,lat:6.07,lon:7.1},{id:1440,lat:4.8,lon:7.1},{id:1441,lat:4.8,lon:6.65},{id:1442,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1515,direction:"up"},{id:1443,lat:6.81,lon:7.1},{id:1444,lat:6.81,lon:7.4},{id:1445,lat:7.13,lon:7.4},{lat:8.3,lon:7.1,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1445,label:"classroomLogo"},{id:1454,lat:6.81,lon:7.58},{id:1446,lat:6.49,lon:7.58,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.4,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1446},{id:1455,lat:6.81,lon:7.9},{id:1456,lat:6.51,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1456,label:"classroomLogo"},{id:1447,lat:6.81,lon:8.4},{id:1448,lat:7.13,lon:8.4},{lat:8.3,lon:8.6,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1448,label:"classroomLogo"},{id:1449,lat:6.51,lon:8.4},{lat:6,lon:8.4,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1449,label:"classroomLogo"},{id:1450,lat:6.81,lon:9.1},{id:1451,lat:6.51,lon:9.1},{lat:6.2,lon:9,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1451,label:"classroomLogo"},{id:8340,lat:6.81,lon:9.65},{id:8341,lat:7,lon:9.65},{id:8342,lat:7,lon:9.9},{id:8343,lat:7.15,lon:9.9,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8336,direction:"down"},{id:8344,lat:8.1,lon:9.65},{id:8345,lat:8.1,lon:9.9},{id:8346,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:8353,direction:"up"}]:t=="CHTMEDS9thFloor"?e=[{id:1500,lat:2.75,lon:.75,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1425,direction:"down"},{id:1501,lat:3.65,lon:.75},{id:1502,lat:3.65,lon:1.3},{id:8250,lat:5.5,lon:2.6},{id:1503,lat:3.65,lon:1.52},{lat:5.5,lon:2.6,title:"classRoom",building:"EDS",floor:"9th Floor",node:8250,label:"classroomLogo"},{id:1504,lat:2.35,lon:1.3},{lat:1.6,lon:1.3,title:"classRoom",building:"EDS",floor:"9th Floor",node:1504,label:"classroomLogo"},{id:1505,lat:4.2,lon:.75},{id:1506,lat:4.2,lon:1.05,label:"elevator",elevatorBuilding:"EDS"},{lat:4.2,lon:1.2,title:"classRoom",building:"EDS",floor:"9th Floor",node:1506,label:"classroomLogo"},{id:1507,lat:5.95,lon:.75},{id:1508,lat:5.95,lon:.515},{lat:6,lon:.2,title:"classRoom",building:"EDS",floor:"9th Floor",node:1508,label:"classroomLogo"},{id:1509,lat:6.23,lon:.75},{lat:6.55,lon:.4,title:"classRoom",building:"EDS",floor:"9th Floor",node:1509,label:"classroomLogo"},{id:8251,lat:3.5,lon:4.13},{id:8252,lat:3.5,lon:4.45},{id:8253,lat:4.95,lon:4.45},{id:8254,lat:4.95,lon:4.28},{id:8255,lat:5.45,lon:4.28},{id:8256,lat:5.45,lon:4.63},{id:8257,lat:5.6,lon:4.63,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8246,direction:"down"},{id:1510,lat:5.05,lon:6.65,label:"leaveButton",destination:"CHTM10thFloor",desti:1600,direction:"up"},{id:1511,lat:4.7,lon:6.65},{id:1512,lat:4.7,lon:7.1},{id:1513,lat:6,lon:7.1},{id:1514,lat:6,lon:6.65},{id:1515,lat:5.68,lon:6.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1442,direction:"down"},{id:1516,lat:6.8,lon:7.1},{id:1517,lat:6.8,lon:6.65},{id:1518,lat:6.8,lon:6.4},{lat:6.8,lon:5.8,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1518,label:"classroomLogo"},{id:1519,lat:6.8,lon:7.55},{id:1520,lat:7.12,lon:7.55},{lat:8.2,lon:7.65,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1520,label:"classroomLogo"},{id:1521,lat:6.5,lon:7.55,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.44,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1521},{id:1522,lat:6.8,lon:7.9},{id:1523,lat:6.52,lon:7.9},{lat:5.8,lon:7.65,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1523,label:"classroomLogo"},{id:1524,lat:6.8,lon:8.4},{id:1525,lat:6.52,lon:8.4},{lat:6.2,lon:8.4,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1525,label:"classroomLogo"},{id:8350,lat:6.8,lon:9.65},{id:8351,lat:7,lon:9.65},{id:8352,lat:7,lon:9.9},{id:8353,lat:7.15,lon:9.9,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8346,direction:"down"},{id:8354,lat:8.1,lon:9.65},{id:8355,lat:8.1,lon:9.9},{id:8356,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTM10thFloor",desti:8364,direction:"up"}]:t=="CHTM10thFloor"?e=[{id:1600,lat:2.2,lon:3.05,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1510,direction:"down"},{id:1601,lat:4,lon:3.05},{id:1602,lat:4,lon:3.5},{id:1603,lat:4.89,lon:3.5},{lat:7.5,lon:3.5,title:"classRoom",building:"CHTM",floor:"10th Floor",node:8360,label:"classroomLogo"},{id:1604,lat:4.89,lon:4.84,label:"elevator",elevatorBuilding:"CHTM"},{lat:4.5,lon:4.65,title:"classRoom",building:"CHTM",floor:"10th Floor",node:1604},{id:8361,lat:5.6,lon:8.55},{id:8362,lat:5.6,lon:9.25},{id:8363,lat:6.3,lon:9.25,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:8356,direction:"down"}]:t=="BRS1stFloor"?e=[{id:130,lat:8.3,lon:9.65,label:"leaveButton",destination:"science1stFloor",desti:404},{id:131,lat:5,lon:9.65},{id:8400,lat:4.3,lon:9.65},{id:8401,lat:4.3,lon:9.8},{id:8402,lat:3.4,lon:9.8,label:"leaveButton",destination:"BRS2ndFloor",desti:8412,direction:"up"},{id:132,lat:5,lon:8.1},{id:133,lat:5.38,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"1st Floor",node:133,label:"classroomLogo"},{id:134,lat:5,lon:7.1},{id:135,lat:4.66,lon:7.1},{lat:3.4,lon:7,title:"classRoom",building:"BRS",floor:"1st Floor",node:135,label:"classroomLogo"},{id:136,lat:5,lon:5.7},{id:137,lat:5.38,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"1st Floor",node:137,label:"classroomLogo"},{id:138,lat:5,lon:4.3},{id:139,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"1st Floor",node:139,label:"classroomLogo"},{id:140,lat:5,lon:4.17},{id:141,lat:5.4,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"1st Floor",node:141,label:"classroomLogo"},{id:142,lat:5,lon:3.1},{id:143,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"1st Floor",node:143},{id:144,lat:5,lon:1.5},{id:145,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"1st Floor",node:145,label:"classroomLogo"},{id:146,lat:5,lon:.7},{id:147,lat:6.6,lon:.7},{id:148,lat:6.6,lon:1.9},{id:149,lat:6.2,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:115,direction:"up"}]:t=="BRS2ndFloor"?e=[{id:100,lat:8.55,lon:9.65,label:"leaveButton",destination:"science2ndFloor",desti:77},{id:101,lat:5.25,lon:9.65},{id:8410,lat:4.5,lon:9.65},{id:8411,lat:4.5,lon:9.5},{id:8412,lat:4.25,lon:9.5,label:"leaveButton",destination:"BRS1stFloor",desti:8406,direction:"down"},{id:8413,lat:4.5,lon:9.77},{id:8414,lat:3.5,lon:9.77},{id:8415,lat:3.5,lon:9.5},{id:8416,lat:3.7,lon:9.5,label:"leaveButton",destination:"BRS3rdFloor",desti:8422,direction:"up"},{id:102,lat:5.25,lon:8.1},{id:103,lat:5.6,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"2nd Floor",node:103,label:"classroomLogo"},{id:104,lat:5.25,lon:7.7},{id:105,lat:4.95,lon:7.7},{lat:3.5,lon:7.6,title:"classRoom",building:"BRS",floor:"2nd Floor",node:105,label:"classroomLogo"},{id:106,lat:5.25,lon:5.7},{id:107,lat:5.6,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:107,label:"classroomLogo"},{id:108,lat:5.25,lon:4.7},{id:109,lat:4.95,lon:4.7},{lat:3.5,lon:4.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:109,label:"classroomLogo"},{id:110,lat:5.25,lon:4.17},{id:111,lat:5.8,lon:4.17},{lat:6.9,lon:3.6,title:"facility",building:"BRS",floor:"2nd Floor",node:111,label:"classroomLogo"},{id:112,lat:5.25,lon:3.1},{id:113,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"",building:"BRS",floor:"2nd Floor",node:113},{id:114,lat:5.25,lon:1.9},{id:115,lat:5.6,lon:1.9,label:"leaveButton",destination:"BRS1stFloor",desti:149,direction:"down"},{id:116,lat:5.25,lon:1.6},{id:117,lat:4.95,lon:1.6},{lat:3.5,lon:1.4,title:"classRoom",building:"BRS",floor:"2nd Floor",node:117,label:"classroomLogo"},{id:118,lat:5.25,lon:.7},{id:119,lat:6.9,lon:.7},{id:120,lat:6.9,lon:1.9},{id:121,lat:6.5,lon:1.9,label:"leaveButton",destination:"BRS3rdFloor",desti:168,direction:"up"}]:t=="BRS3rdFloor"?e=[{id:155,lat:8.3,lon:9.65,label:"leaveButton",destination:"science3rdFloor",desti:532},{id:156,lat:5,lon:9.65},{id:8420,lat:4.2,lon:9.65},{id:8421,lat:4.2,lon:9.5},{id:8422,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS2ndFloor",desti:8416,direction:"down"},{id:8423,lat:4.2,lon:9.77},{id:8424,lat:3.3,lon:9.77},{id:8425,lat:3.3,lon:9.5},{id:8426,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS4thFloor",desti:8432,direction:"up"},{id:157,lat:5,lon:7.8},{id:158,lat:4.66,lon:7.8},{lat:3.4,lon:7.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:158,label:"classroomLogo"},{id:159,lat:5,lon:7},{id:160,lat:5.38,lon:7},{lat:7,lon:6.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:160,label:"classroomLogo"},{id:161,lat:5,lon:4.3},{id:162,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"3rd Floor",node:162,label:"classroomLogo"},{id:163,lat:5,lon:4.17},{id:164,lat:5.5,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"3rd Floor",node:164,label:"classroomLogo"},{id:165,lat:5,lon:3.1},{id:166,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"3rd Floor",node:166},{id:167,lat:5,lon:1.9},{id:168,lat:5.38,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:121,direction:"down"},{id:169,lat:5,lon:1.5},{id:170,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"3rd Floor",node:170,label:"classroomLogo"},{id:171,lat:5,lon:.7},{id:172,lat:6.6,lon:.7},{id:173,lat:6.6,lon:1.9},{id:174,lat:6.26,lon:1.9,label:"leaveButton",destination:"BRS4thFloor",desti:197,direction:"up"}]:t=="BRS4thFloor"?e=[{id:202,lat:6.28,lon:2.95,label:"leaveButton",destination:"BRS5thFloor",desti:222,direction:"up"},{id:201,lat:6.6,lon:2.95},{id:200,lat:6.6,lon:1.9},{id:199,lat:5.22,lon:1.9},{id:198,lat:5.22,lon:2.45},{id:203,lat:4.9,lon:2.45},{id:204,lat:4.9,lon:1.9},{id:205,lat:4.9,lon:.85},{id:206,lat:5.6,lon:.85,label:"leaveButton",destination:"science4thFloor",desti:624},{id:207,lat:4.9,lon:.1,label:"leaveButton",destination:"main4thFloor",desti:700},{id:196,lat:5.22,lon:2.95},{id:197,lat:5.55,lon:2.95,label:"leaveButton",destination:"BRS3rdFloor",desti:174,direction:"down"},{id:194,lat:5.22,lon:4},{id:195,lat:5.55,lon:4,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:3.9,title:"classRoom",building:"BRS",floor:"4th Floor",node:195},{id:192,lat:5.22,lon:4.5},{id:193,lat:4.93,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:193,label:"classroomLogo"},{id:190,lat:5.22,lon:4.98},{id:191,lat:5.7,lon:4.98},{lat:6.8,lon:4.5,title:"classRoom",building:"BRS",floor:"4th Floor",node:191},{id:188,lat:5.22,lon:6.3},{id:189,lat:5.55,lon:6.3},{lat:6.8,lon:6,title:"classRoom",building:"BRS",floor:"4th Floor",node:189,label:"classroomLogo"},{id:186,lat:5.22,lon:6.55},{id:187,lat:4.93,lon:6.55},{lat:4,lon:6.4,title:"classRoom",building:"BRS",floor:"4th Floor",node:187,label:"classroomLogo"},{id:184,lat:5.22,lon:8.3},{id:185,lat:5.55,lon:8.3},{lat:6.8,lon:8,title:"classRoom",building:"BRS",floor:"4th Floor",node:185,label:"classroomLogo"},{id:182,lat:5.22,lon:8.5},{id:183,lat:4.93,lon:8.5},{lat:4,lon:8.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:183,label:"classroomLogo"},{id:181,lat:5.22,lon:9.67},{id:8430,lat:4.55,lon:9.65},{id:8431,lat:4.55,lon:9.55},{id:8432,lat:4.33,lon:9.55,label:"leaveButton",destination:"BRS3rdFloor",desti:8426,direction:"down"},{id:8433,lat:4.55,lon:9.77},{id:8434,lat:3.65,lon:9.77},{id:8435,lat:3.65,lon:9.55},{id:8436,lat:3.9,lon:9.55,label:"leaveButton",destination:"BRS5thFloor",desti:8442,direction:"up"},{id:180,lat:8.05,lon:9.67,label:"leaveButton",destination:"science4thFloor",desti:634},{id:208,lat:1.9,lon:2.45},{lat:2,lon:2.45,title:"classRoom",building:"BRS",floor:"4th Floor",node:208}]:t=="BRS5thFloor"?e=[{id:215,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:237,direction:"up"},{id:216,lat:6.65,lon:1.88},{id:217,lat:6.65,lon:.65},{id:218,lat:4.95,lon:.65},{id:219,lat:4.95,lon:1.4},{id:220,lat:4.66,lon:1.4},{lat:3.3,lon:3.4,title:"classRoom",building:"BRS",floor:"5th Floor",node:220,label:"classroomLogo"},{id:221,lat:4.95,lon:1.88},{id:222,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS4thFloor",desti:202,direction:"down"},{id:223,lat:4.95,lon:3.1},{id:224,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"5th Floor",node:224},{id:225,lat:4.95,lon:4.15},{id:226,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"5th Floor",node:226,label:"classroomLogo"},{lat:7.5,lon:6.5,title:"classRoom",building:"BRS",floor:"5th Floor",node:220,label:"classroomLogo"},{id:8440,lat:4.2,lon:9.65},{id:8441,lat:4.2,lon:9.5},{id:8442,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS4thFloor",desti:8436,direction:"down"},{id:8443,lat:4.2,lon:9.77},{id:8444,lat:3.3,lon:9.77},{id:8445,lat:3.3,lon:9.5},{id:8446,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS6thFloor",desti:8452,direction:"up"},{id:8447,lat:5,lon:9.65},{id:8448,lat:5,lon:9.35},{id:8449,lat:8.35,lon:9.65,label:"leaveButton",destination:"science5thFloor",desti:903}]:t=="BRS6thFloor"?e=[{id:230,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:262,direction:"up"},{id:231,lat:6.65,lon:1.88},{id:232,lat:6.65,lon:.65},{id:233,lat:4.95,lon:.65},{id:234,lat:4.95,lon:1.2},{id:235,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"6th Floor",node:235,label:"classroomLogo"},{id:236,lat:4.95,lon:1.88},{id:237,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS5thFloor",desti:215,direction:"down"},{id:238,lat:4.95,lon:3.1},{id:239,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"6th Floor",node:239},{id:240,lat:4.95,lon:4.15},{id:241,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"6th Floor",node:241,label:"classroomLogo"},{id:242,lat:4.66,lon:4.15},{id:243,lat:4.95,lon:7},{id:244,lat:4.66,lon:7},{id:245,lat:5.4,lon:7},{lat:7.5,lon:6.8,title:"classRoom",building:"BRS",floor:"6th Floor",node:245,label:"classroomLogo"},{id:246,lat:4.95,lon:9.65},{id:247,lat:5.4,lon:9.65},{lat:5.85,lon:9.55,title:"classRoom",building:"BRS",floor:"6th Floor",node:247,label:"classroomLogo"},{lat:3.3,lon:5,title:"classRoom",building:"BRS",floor:"6th Floor",node:248,label:"classroomLogo"},{id:8450,lat:4.2,lon:9.65},{id:8451,lat:4.2,lon:9.5},{id:8452,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS5thFloor",desti:8446,direction:"down"},{id:8453,lat:4.2,lon:9.77},{id:8454,lat:3.3,lon:9.77},{id:8455,lat:3.3,lon:9.5},{id:8456,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS7thFloor",desti:8462,direction:"up"}]:t=="BRS7thFloor"?e=[{id:255,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:287,direction:"up"},{id:256,lat:6.65,lon:1.88},{id:257,lat:6.65,lon:.65},{id:258,lat:4.95,lon:.65},{id:259,lat:4.95,lon:1.2},{id:260,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"7th Floor",node:260,label:"classroomLogo"},{id:261,lat:4.95,lon:1.88},{id:262,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:230,direction:"down"},{id:263,lat:4.95,lon:3.1},{id:264,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:264,label:"classroomLogo"},{id:265,lat:4.95,lon:3.5},{id:266,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"7th Floor",node:266,label:"classroomLogo"},{id:267,lat:4.95,lon:4.15},{id:268,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"7th Floor",node:268,label:"classroomLogo"},{id:269,lat:4.95,lon:5.8},{id:270,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:270,label:"classroomLogo"},{id:271,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:271,label:"classroomLogo"},{id:272,lat:4.95,lon:8.1},{id:273,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"7th Floor",node:273,label:"classroomLogo"},{id:274,lat:4.95,lon:8.6},{id:275,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:275,label:"classroomLogo"},{id:8467,lat:4.95,lon:9.65},{id:8460,lat:4.2,lon:9.65},{id:8461,lat:4.2,lon:9.5},{id:8462,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS6thFloor",desti:8456,direction:"down"},{id:8463,lat:4.2,lon:9.77},{id:8464,lat:3.3,lon:9.77},{id:8465,lat:3.3,lon:9.5},{id:8466,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS8thFloor",desti:8472,direction:"up"}]:t=="BRS8thFloor"?e=[{id:280,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS9thFloor",desti:312,direction:"up"},{id:281,lat:6.65,lon:1.88},{id:282,lat:6.65,lon:.65},{id:283,lat:4.95,lon:.65},{id:284,lat:4.95,lon:1.2},{id:285,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"8th Floor",node:285,label:"classroomLogo"},{id:286,lat:4.95,lon:1.88},{id:287,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:255,direction:"down"},{id:288,lat:4.95,lon:3.1},{id:289,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:289},{id:290,lat:4.95,lon:3.5},{id:291,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"8th Floor",node:291,label:"classroomLogo"},{id:292,lat:4.95,lon:4.15},{id:293,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"8th Floor",node:293,label:"classroomLogo"},{id:294,lat:4.95,lon:5.8},{id:295,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:295,label:"classroomLogo"},{id:296,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:296,label:"classroomLogo"},{id:297,lat:4.95,lon:8.1},{id:298,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"8th Floor",node:298,label:"classroomLogo"},{id:299,lat:4.95,lon:8.6},{id:300,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:300,label:"classroomLogo"},{id:8477,lat:4.95,lon:9.65},{id:8470,lat:4.2,lon:9.65},{id:8471,lat:4.2,lon:9.5},{id:8472,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS7thFloor",desti:8466,direction:"down"},{id:8473,lat:4.2,lon:9.77},{id:8474,lat:3.3,lon:9.77},{id:8475,lat:3.3,lon:9.5},{id:8476,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS9thFloor",desti:8482,direction:"up"}]:t=="BRS9thFloor"?e=[{id:305,lat:6.4,lon:1,label:"leaveButton",destination:"BRS10thFloor",desti:1040,direction:"up"},{id:306,lat:6.65,lon:1},{id:307,lat:6.65,lon:.45},{id:308,lat:4.95,lon:.45},{id:309,lat:4.95,lon:1.2},{id:310,lat:4.43,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"9th Floor",node:310,label:"classroomLogo"},{id:311,lat:4.95,lon:1.88},{id:312,lat:5.6,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:280,direction:"down"},{id:313,lat:4.95,lon:3.1},{id:314,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:2.9,title:"classRoom",building:"BRS",floor:"9th Floor",node:314},{id:315,lat:4.95,lon:3.5},{id:316,lat:4.43,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"9th Floor",node:316,label:"classroomLogo"},{id:317,lat:4.95,lon:4.15},{id:318,lat:5.7,lon:4.15},{lat:6.8,lon:3.6,title:"classRoom",building:"BRS",floor:"9th Floor",node:318,label:"classroomLogo"},{id:319,lat:4.95,lon:5.3},{id:320,lat:5.6,lon:5.3},{lat:7.5,lon:5,title:"classRoom",building:"BRS",floor:"9th Floor",node:320,label:"classroomLogo"},{id:321,lat:4.95,lon:5.8},{id:322,lat:4.43,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"9th Floor",node:322,label:"classroomLogo"},{id:323,lat:4.95,lon:7.2},{id:324,lat:5.6,lon:7.2},{lat:7.5,lon:7,title:"classRoom",building:"BRS",floor:"9th Floor",node:324,label:"classroomLogo"},{id:325,lat:4.95,lon:8.1},{id:326,lat:4.43,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:326,label:"classroomLogo"},{id:327,lat:4.95,lon:9.15},{id:328,lat:5.6,lon:9.15},{lat:7.5,lon:8.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:328,label:"classroomLogo"},{id:8487,lat:4.95,lon:9.65},{id:8480,lat:4,lon:9.65},{id:8481,lat:4,lon:9.5},{id:8482,lat:3.76,lon:9.5,label:"leaveButton",destination:"BRS8thFloor",desti:8476,direction:"down"},{id:8483,lat:4,lon:9.77},{id:8484,lat:3.05,lon:9.77},{id:8485,lat:3.05,lon:9.5},{id:8486,lat:3.2,lon:9.5,label:"leaveButton",destination:"BRS10thFloor",desti:8492,direction:"up"}]:t=="BRS10thFloor"?e=[{id:1040,lat:5.6,lon:1,label:"leaveButton",destination:"BRS9thFloor",desti:305,direction:"down"},{id:1041,lat:5,lon:1},{id:1042,lat:5,lon:1.2},{id:1043,lat:4.4,lon:1.2},{lat:3.3,lon:1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1043,label:"classroomLogo"},{id:1044,lat:5,lon:1.9},{id:1061,lat:5.62,lon:1.9},{lat:6.4,lon:1.75,title:"classRoom",building:"BRS",floor:"10th Floor",node:1061,label:"classroomLogo"},{id:1045,lat:5,lon:3.1},{id:1046,lat:5.62,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"classRoom",building:"BRS",floor:"10th Floor",node:1046},{id:1047,lat:5,lon:3.5},{id:1048,lat:4.4,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"10th Floor",node:1048,label:"classroomLogo"},{id:1049,lat:5,lon:5.8},{id:1050,lat:3.88,lon:5.8},{lat:2.8,lon:5.55,title:"classRoom",building:"BRS",floor:"10th Floor",node:1050,label:"classroomLogo"},{id:1051,lat:5,lon:7.1},{id:1052,lat:5.62,lon:7.1},{lat:7.2,lon:7.1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1052,label:"classroomLogo"},{id:1053,lat:5,lon:8},{id:1054,lat:4.6,lon:8},{id:1055,lat:3.88,lon:8},{lat:2.8,lon:7.8,title:"classRoom",building:"BRS",floor:"10th Floor",node:1055,label:"classroomLogo"},{id:1056,lat:4.6,lon:9},{id:1057,lat:4.2,lon:9},{id:1059,lat:5.35,lon:9},{id:1060,lat:5.35,lon:9.23},{lat:7.2,lon:8.85,title:"classRoom",building:"BRS",floor:"10th Floor",node:1060,label:"classroomLogo"},{id:8493,lat:4.2,lon:9.65},{id:8490,lat:4,lon:9.65},{id:8491,lat:4,lon:9.5},{id:8492,lat:3.76,lon:9.5,label:"leaveButton",destination:"BRS9thFloor",desti:8486,direction:"down"}]:t=="mainGroundFloor"&&(e=[{id:1700,lat:5.1,lon:.7},{lat:5.1,lon:.1,title:"classRoom",building:"Main",floor:"Ground Floor",node:1700},{id:1701,lat:5.1,lon:2.2},{id:1702,lat:6.2,lon:2.2,label:"leaveButton",destination:"science2ndFloor",desti:86,direction:"up"},{id:1703,lat:5.1,lon:.55},{id:1704,lat:7.5,lon:-.12,label:"leaveButton",destination:"science1stFloor",desti:3004}]),e}const Y5="/Mapa-UC/assets/UpArrow-YGzUSuWO.png",X5="/Mapa-UC/assets/DownArrow-hW0x4lvo.png",Q5="/Mapa-UC/assets/instructionsF-3RjMGkoV.png",K5="/Mapa-UC/assets/legends-pB1Do4te.png";var Bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me=function(t,e){if(!t)throw Aa(e)},Aa=function(t){return new Error("Firebase Database ("+J2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let l=t.charCodeAt(o);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++o)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},q5=function(t){const e=[];let n=0,o=0;for(;n<t.length;){const l=t[n++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=t[n++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=t[n++],m=t[n++],v=t[n++],C=((l&7)<<18|(c&63)<<12|(m&63)<<6|v&63)-65536;e[o++]=String.fromCharCode(55296+(C>>10)),e[o++]=String.fromCharCode(56320+(C&1023))}else{const c=t[n++],m=t[n++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|m&63)}}return e.join("")},pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<t.length;l+=3){const c=t[l],m=l+1<t.length,v=m?t[l+1]:0,C=l+2<t.length,y=C?t[l+2]:0,N=c>>2,b=(c&3)<<4|v>>4;let D=(v&15)<<2|y>>6,V=y&63;C||(V=64,m||(D=64)),o.push(n[N],n[b],n[D],n[V])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<t.length;){const c=n[t.charAt(l++)],v=l<t.length?n[t.charAt(l)]:0;++l;const y=l<t.length?n[t.charAt(l)]:64;++l;const b=l<t.length?n[t.charAt(l)]:64;if(++l,c==null||v==null||y==null||b==null)throw new $5;const D=c<<2|v>>4;if(o.push(D),y!==64){const V=v<<4&240|y>>2;if(o.push(V),b!==64){const X=y<<6&192|b;o.push(X)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t_=function(t){const e=e_(t);return pf.encodeByteArray(e,!0)},vc=function(t){return t_(t).replace(/\./g,"")},qh=function(t){try{return pf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){return n_(void 0,t)}function n_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ex(n)||(t[n]=n_(t[n],e[n]));return t}function ex(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=()=>tx().__FIREBASE_DEFAULTS__,ix=()=>{if(typeof process>"u"||typeof Bg>"u")return;const t=Bg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ox=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qh(t[1]);return e&&JSON.parse(e)},i_=()=>{try{return nx()||ix()||ox()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rx=t=>{var e,n;return(n=(e=i_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sx=t=>{const e=rx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},o_=()=>{var t;return(t=i_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",l=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vc(JSON.stringify(n)),vc(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lx())}function dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s_(){return J2.NODE_ADMIN===!0}function cx(){try{return typeof indexedDB=="object"}catch{return!1}}function ux(){return new Promise((t,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),t(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="FirebaseError";class td extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=hx,Object.setPrototypeOf(this,td.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a_.prototype.create)}}class a_{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],m=c?fx(c,o):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new td(l,v,o)}}function fx(t,e){return t.replace(gx,(n,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const gx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return JSON.parse(t)}function zn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=function(t){let e={},n={},o={},l="";try{const c=t.split(".");e=Ul(qh(c[0])||""),n=Ul(qh(c[1])||""),l=c[2],o=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:o,signature:l}},px=function(t){const e=l_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mx=function(t){const e=l_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ea(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wc(t,e,n){const o={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(o[l]=e.call(n,t[l],l,t));return o}function $h(t,e){if(t===e)return!0;const n=Object.keys(t),o=Object.keys(e);for(const l of n){if(!o.includes(l))return!1;const c=t[l],m=e[l];if(zg(c)&&zg(m)){if(!$h(c,m))return!1}else if(c!==m)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function zg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){const e=[];for(const[n,o]of Object.entries(t))Array.isArray(o)?o.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const o=this.W_;if(typeof e=="string")for(let b=0;b<16;b++)o[b]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let b=0;b<16;b++)o[b]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let b=16;b<80;b++){const D=o[b-3]^o[b-8]^o[b-14]^o[b-16];o[b]=(D<<1|D>>>31)&4294967295}let l=this.chain_[0],c=this.chain_[1],m=this.chain_[2],v=this.chain_[3],C=this.chain_[4],y,N;for(let b=0;b<80;b++){b<40?b<20?(y=v^c&(m^v),N=1518500249):(y=c^m^v,N=1859775393):b<60?(y=c&m|v&(c|m),N=2400959708):(y=c^m^v,N=3395469782);const D=(l<<5|l>>>27)+y+C+N+o[b]&4294967295;C=v,v=m,m=(c<<30|c>>>2)&4294967295,c=l,l=D}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+v&4294967295,this.chain_[4]=this.chain_[4]+C&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const o=n-this.blockSize;let l=0;const c=this.buf_;let m=this.inbuf_;for(;l<n;){if(m===0)for(;l<=o;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(c[m]=e.charCodeAt(l),++m,++l,m===this.blockSize){this.compress_(c),m=0;break}}else for(;l<n;)if(c[m]=e[l],++m,++l,m===this.blockSize){this.compress_(c),m=0;break}}this.inbuf_=m,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let c=24;c>=0;c-=8)e[o]=this.chain_[l]>>c&255,++o;return e}}function d_(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let l=t.charCodeAt(o);if(l>=55296&&l<=56319){const c=l-55296;o++,me(o<t.length,"Surrogate pair missing trail surrogate.");const m=t.charCodeAt(o)-56320;l=65536+(c<<10)+m}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},tu=function(t){let e=0;for(let n=0;n<t.length;n++){const o=t.charCodeAt(n);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){return t&&t._delegate?t._delegate:t}class Hl{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new mf;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wx(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[c,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(c);o===v&&m.resolve(l)}return l}onInit(e,n){var o;const l=this.normalizeInstanceIdentifier(n),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(l,c);const m=this.instances.get(l);return m&&e(m,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:vx(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vx(t){return t===os?void 0:t}function wx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qt||(Qt={}));const Sx={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},Ax=Qt.INFO,Tx={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},Ix=(t,e,...n)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),l=Tx[e];if(l)console[l](`[${o}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=Ax,this._logHandler=Ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const bx=(t,e)=>e.some(n=>t instanceof n);let Ug,Hg;function Nx(){return Ug||(Ug=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rx(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u_=new WeakMap,Jh=new WeakMap,h_=new WeakMap,ju=new WeakMap,_f=new WeakMap;function Mx(t){const e=new Promise((n,o)=>{const l=()=>{t.removeEventListener("success",c),t.removeEventListener("error",m)},c=()=>{n(Lr(t.result)),l()},m=()=>{o(t.error),l()};t.addEventListener("success",c),t.addEventListener("error",m)});return e.then(n=>{n instanceof IDBCursor&&u_.set(n,t)}).catch(()=>{}),_f.set(e,t),e}function Lx(t){if(Jh.has(t))return;const e=new Promise((n,o)=>{const l=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",m),t.removeEventListener("abort",m)},c=()=>{n(),l()},m=()=>{o(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",c),t.addEventListener("error",m),t.addEventListener("abort",m)});Jh.set(t,e)}let e1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dx(t){e1=t(e1)}function Ox(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=t.call(Gu(this),e,...n);return h_.set(o,e.sort?e.sort():[e]),Lr(o)}:Rx().includes(t)?function(...e){return t.apply(Gu(this),e),Lr(u_.get(this))}:function(...e){return Lr(t.apply(Gu(this),e))}}function Px(t){return typeof t=="function"?Ox(t):(t instanceof IDBTransaction&&Lx(t),bx(t,Nx())?new Proxy(t,e1):t)}function Lr(t){if(t instanceof IDBRequest)return Mx(t);if(ju.has(t))return ju.get(t);const e=Px(t);return e!==t&&(ju.set(t,e),_f.set(e,t)),e}const Gu=t=>_f.get(t);function Fx(t,e,{blocked:n,upgrade:o,blocking:l,terminated:c}={}){const m=indexedDB.open(t,e),v=Lr(m);return o&&m.addEventListener("upgradeneeded",C=>{o(Lr(m.result),C.oldVersion,C.newVersion,Lr(m.transaction),C)}),n&&m.addEventListener("blocked",C=>n(C.oldVersion,C.newVersion,C)),v.then(C=>{c&&C.addEventListener("close",()=>c()),l&&C.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),v}const Bx=["get","getKey","getAll","getAllKeys","count"],kx=["put","add","delete","clear"],Zu=new Map;function Wg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zu.get(e))return Zu.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,l=kx.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||Bx.includes(n)))return;const c=async function(m,...v){const C=this.transaction(m,l?"readwrite":"readonly");let y=C.store;return o&&(y=y.index(v.shift())),(await Promise.all([y[n](...v),l&&C.done]))[0]};return Zu.set(e,c),c}Dx(t=>({...t,get:(e,n,o)=>Wg(e,n)||t.get(e,n,o),has:(e,n)=>!!Wg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ux(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function Ux(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const t1="@firebase/app",Vg="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new c_("@firebase/app"),Hx="@firebase/app-compat",Wx="@firebase/analytics-compat",Vx="@firebase/analytics",jx="@firebase/app-check-compat",Gx="@firebase/app-check",Zx="@firebase/auth",Yx="@firebase/auth-compat",Xx="@firebase/database",Qx="@firebase/database-compat",Kx="@firebase/functions",qx="@firebase/functions-compat",$x="@firebase/installations",Jx="@firebase/installations-compat",e8="@firebase/messaging",t8="@firebase/messaging-compat",n8="@firebase/performance",i8="@firebase/performance-compat",o8="@firebase/remote-config",r8="@firebase/remote-config-compat",s8="@firebase/storage",a8="@firebase/storage-compat",l8="@firebase/firestore",d8="@firebase/firestore-compat",c8="firebase",u8="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="[DEFAULT]",h8={[t1]:"fire-core",[Hx]:"fire-core-compat",[Vx]:"fire-analytics",[Wx]:"fire-analytics-compat",[Gx]:"fire-app-check",[jx]:"fire-app-check-compat",[Zx]:"fire-auth",[Yx]:"fire-auth-compat",[Xx]:"fire-rtdb",[Qx]:"fire-rtdb-compat",[Kx]:"fire-fn",[qx]:"fire-fn-compat",[$x]:"fire-iid",[Jx]:"fire-iid-compat",[e8]:"fire-fcm",[t8]:"fire-fcm-compat",[n8]:"fire-perf",[i8]:"fire-perf-compat",[o8]:"fire-rc",[r8]:"fire-rc-compat",[s8]:"fire-gcs",[a8]:"fire-gcs-compat",[l8]:"fire-fst",[d8]:"fire-fst-compat","fire-js":"fire-js",[c8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,f8=new Map,i1=new Map;function jg(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sc(t){const e=t.name;if(i1.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;i1.set(e,t);for(const n of Cc.values())jg(n,t);for(const n of f8.values())jg(n,t);return!0}function g8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new a_("app","Firebase",p8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=u8;function f_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const o=Object.assign({name:n1,automaticDataCollectionEnabled:!1},e),l=o.name;if(typeof l!="string"||!l)throw Dr.create("bad-app-name",{appName:String(l)});if(n||(n=o_()),!n)throw Dr.create("no-options");const c=Cc.get(l);if(c){if($h(n,c.options)&&$h(o,c.config))return c;throw Dr.create("duplicate-app",{appName:l})}const m=new Cx(l);for(const C of i1.values())m.addComponent(C);const v=new m8(n,o,m);return Cc.set(l,v),v}function E8(t=n1){const e=Cc.get(t);if(!e&&t===n1&&o_())return f_();if(!e)throw Dr.create("no-app",{appName:t});return e}function sa(t,e,n){var o;let l=(o=h8[t])!==null&&o!==void 0?o:t;n&&(l+=`-${n}`);const c=l.match(/\s|\//),m=e.match(/\s|\//);if(c||m){const v=[`Unable to register library "${l}" with version "${e}":`];c&&v.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&m&&v.push("and"),m&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(v.join(" "));return}Sc(new Hl(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="firebase-heartbeat-database",x8=1,Wl="firebase-heartbeat-store";let Yu=null;function g_(){return Yu||(Yu=Fx(y8,x8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Yu}async function v8(t){try{const n=(await g_()).transaction(Wl),o=await n.objectStore(Wl).get(p_(t));return await n.done,o}catch(e){if(e instanceof td)Es.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function Gg(t,e){try{const o=(await g_()).transaction(Wl,"readwrite");await o.objectStore(Wl).put(e,p_(t)),await o.done}catch(n){if(n instanceof td)Es.warn(n.message);else{const o=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(o.message)}}}function p_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=1024,C8=30*24*60*60*1e3;class S8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T8(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Zg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(m=>m.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(m=>{const v=new Date(m.date).valueOf();return Date.now()-v<=C8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zg(),{heartbeatsToSend:o,unsentEntries:l}=A8(this._heartbeatsCache.heartbeats),c=vc(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}}function Zg(){return new Date().toISOString().substring(0,10)}function A8(t,e=w8){const n=[];let o=t.slice();for(const l of t){const c=n.find(m=>m.agent===l.agent);if(c){if(c.dates.push(l.date),Yg(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Yg(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class T8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cx()?ux().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Yg(t){return vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){Sc(new Hl("platform-logger",e=>new zx(e),"PRIVATE")),Sc(new Hl("heartbeat",e=>new S8(e),"PRIVATE")),sa(t1,Vg,t),sa(t1,Vg,"esm2017"),sa("fire-js","")}I8("");var b8="firebase",N8="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa(b8,N8,"app");var Xg={};const Qg="@firebase/database",Kg="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_="";function R8(t){m_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ul(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return nr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new M8(e)}}catch{}return new L8},ds=__("localStorage"),o1=__("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new c_("@firebase/database"),D8=function(){let t=1;return function(){return t++}}(),E_=function(t){const e=yx(t),n=new Ex;n.update(e);const o=n.digest();return pf.encodeByteArray(o)},nd=function(...t){let e="";for(let n=0;n<t.length;n++){const o=t[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=nd.apply(null,o):typeof o=="object"?e+=zn(o):e+=o,e+=" "}return e};let hs=null,qg=!0;const O8=function(t,e){me(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(aa.logLevel=Qt.VERBOSE,hs=aa.log.bind(aa),e&&o1.set("logging_enabled",!0)):typeof t=="function"?hs=t:(hs=null,o1.remove("logging_enabled"))},ei=function(...t){if(qg===!0&&(qg=!1,hs===null&&o1.get("logging_enabled")===!0&&O8(!0)),hs){const e=nd.apply(null,t);hs(e)}},id=function(t){return function(...e){ei(t,...e)}},r1=function(...t){const e="FIREBASE INTERNAL ERROR: "+nd(...t);aa.error(e)},er=function(...t){const e=`FIREBASE FATAL ERROR: ${nd(...t)}`;throw aa.error(e),new Error(e)},ki=function(...t){const e="FIREBASE WARNING: "+nd(...t);aa.warn(e)},P8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ki("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},y_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},F8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ya="[MIN_NAME]",ys="[MAX_NAME]",Ta=function(t,e){if(t===e)return 0;if(t===ya||e===ys)return-1;if(e===ya||t===ys)return 1;{const n=$g(t),o=$g(e);return n!==null?o!==null?n-o===0?t.length-e.length:n-o:-1:o!==null?1:t<e?-1:1}},B8=function(t,e){return t===e?0:t<e?-1:1},Ja=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+zn(e))},Ef=function(t){if(typeof t!="object"||t===null)return zn(t);const e=[];for(const o in t)e.push(o);e.sort();let n="{";for(let o=0;o<e.length;o++)o!==0&&(n+=","),n+=zn(e[o]),n+=":",n+=Ef(t[e[o]]);return n+="}",n},x_=function(t,e){const n=t.length;if(n<=e)return[t];const o=[];for(let l=0;l<n;l+=e)l+e>n?o.push(t.substring(l,n)):o.push(t.substring(l,l+e));return o};function Si(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const v_=function(t){me(!y_(t),"Invalid JSON number");const e=11,n=52,o=(1<<e-1)-1;let l,c,m,v,C;t===0?(c=0,m=0,l=1/t===-1/0?1:0):(l=t<0,t=Math.abs(t),t>=Math.pow(2,1-o)?(v=Math.min(Math.floor(Math.log(t)/Math.LN2),o),c=v+o,m=Math.round(t*Math.pow(2,n-v)-Math.pow(2,n))):(c=0,m=Math.round(t/Math.pow(2,1-o-n))));const y=[];for(C=n;C;C-=1)y.push(m%2?1:0),m=Math.floor(m/2);for(C=e;C;C-=1)y.push(c%2?1:0),c=Math.floor(c/2);y.push(l?1:0),y.reverse();const N=y.join("");let b="";for(C=0;C<64;C+=8){let D=parseInt(N.substr(C,8),2).toString(16);D.length===1&&(D="0"+D),b=b+D}return b.toLowerCase()},k8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},z8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function U8(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const o=new Error(t+" at "+e._path.toString()+": "+n);return o.code=t.toUpperCase(),o}const H8=new RegExp("^-?(0*)\\d{1,10}$"),W8=-2147483648,V8=2147483647,$g=function(t){if(H8.test(t)){const e=Number(t);if(e>=W8&&e<=V8)return e}return null},od=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ki("Exception was thrown by user callback.",n),e},Math.floor(0))}},j8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(o=>this.appCheck=o)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(o=>o.addTokenListener(e))}notifyForInvalidToken(){ki(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,o){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ei("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ki(e)}}class la{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}la.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="5",w_="v",C_="s",S_="r",A_="f",T_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I_="ls",b_="p",s1="ac",N_="websocket",R_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n,o,l,c=!1,m="",v=!1,C=!1){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=c,this.persistenceKey=m,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=C,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ds.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ds.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Y8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function L_(t,e,n){me(typeof e=="string","typeof type must == string"),me(typeof n=="object","typeof params must == object");let o;if(e===N_)o=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===R_)o=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Y8(t)&&(n.ns=t.namespace);const l=[];return Si(n,(c,m)=>{l.push(c+"="+m)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this.counters_={}}incrementCounter(e,n=1){nr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return J5(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={},Qu={};function xf(t){const e=t.toString();return Xu[e]||(Xu[e]=new X8),Xu[e]}function Q8(t,e){const n=t.toString();return Qu[n]||(Qu[n]=e()),Qu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&od(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="start",q8="close",$8="pLPCommand",J8="pRTLPCB",D_="id",O_="pw",P_="ser",ev="cb",tv="seg",nv="ts",iv="d",ov="dframe",F_=1870,B_=30,rv=F_-B_,sv=25e3,av=3e4;class $s{constructor(e,n,o,l,c,m,v){this.connId=e,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=c,this.transportSessionId=m,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=id(e),this.stats_=xf(n),this.urlFn=C=>(this.appCheckToken&&(C[s1]=this.appCheckToken),L_(n,R_,C))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new K8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(av)),F8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vf((...c)=>{const[m,v,C,y,N]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===Jg)this.id=v,this.password=C;else if(m===q8)v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...c)=>{const[m,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(m,v)},()=>{this.onClosed_()},this.urlFn);const o={};o[Jg]="t",o[P_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[ev]=this.scriptTagHolder.uniqueCallbackIdentifier),o[w_]=yf,this.transportSessionId&&(o[C_]=this.transportSessionId),this.lastSessionId&&(o[I_]=this.lastSessionId),this.applicationId&&(o[b_]=this.applicationId),this.appCheckToken&&(o[s1]=this.appCheckToken),typeof location<"u"&&location.hostname&&T_.test(location.hostname)&&(o[S_]=A_);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$s.forceAllow_=!0}static forceDisallow(){$s.forceDisallow_=!0}static isAvailable(){return $s.forceAllow_?!0:!$s.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!k8()&&!z8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=t_(n),l=x_(o,rv);for(let c=0;c<l.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[c]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[ov]="t",o[D_]=e,o[O_]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=zn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class vf{constructor(e,n,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=D8(),window[$8+this.uniqueCallbackIdentifier]=e,window[J8+this.uniqueCallbackIdentifier]=n,this.myIFrame=vf.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(v){ei("frame writing exception"),v.stack&&ei(v.stack),ei(v)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ei("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[D_]=this.myID,e[O_]=this.myPW,e[P_]=this.currentSerial;let n=this.urlFn(e),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+B_+o.length<=F_;){const m=this.pendingSegs.shift();o=o+"&"+tv+l+"="+m.seg+"&"+nv+l+"="+m.ts+"&"+iv+l+"="+m.d,l++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,o){this.pendingSegs.push({seg:e,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(sv)),c=()=>{clearTimeout(l),o()};this.addTag(e,c)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{ei("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=16384,dv=45e3;let Ac=null;typeof MozWebSocket<"u"?Ac=MozWebSocket:typeof WebSocket<"u"&&(Ac=WebSocket);class ho{constructor(e,n,o,l,c,m,v){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=id(this.connId),this.stats_=xf(n),this.connURL=ho.connectionURL_(n,m,v,l,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,o,l,c){const m={};return m[w_]=yf,typeof location<"u"&&location.hostname&&T_.test(location.hostname)&&(m[S_]=A_),n&&(m[C_]=n),o&&(m[I_]=o),l&&(m[s1]=l),c&&(m[b_]=c),L_(e,N_,m)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ds.set("previous_websocket_failure",!0);try{let o;s_(),this.mySock=new Ac(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){ho.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&Ac!==null&&!ho.forceDisallow_}static previouslyFailed(){return ds.isInMemoryStorage||ds.get("previous_websocket_failure")===!0}markConnectionHealthy(){ds.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=Ul(n);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(me(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const n=zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=x_(n,lv);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dv))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ho.responsesRequiredToBeHealthy=2;ho.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[$s,ho]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ho&&ho.isAvailable();let o=n&&!ho.previouslyFailed();if(e.webSocketOnly&&(n||ki("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ho];else{const l=this.transports_=[];for(const c of Vl.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);Vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=6e4,uv=5e3,hv=10*1024,fv=100*1024,Ku="t",ep="d",gv="s",tp="r",pv="e",np="o",ip="a",op="n",rp="p",mv="h";class _v{constructor(e,n,o,l,c,m,v,C,y,N){this.id=e,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=c,this.onMessage_=m,this.onReady_=v,this.onDisconnect_=C,this.onKill_=y,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=id("c:"+this.id+":"),this.transportManager_=new Vl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=yl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fv?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hv?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ku in e){const n=e[Ku];n===ip?this.upgradeIfSecondaryHealthy_():n===tp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===np&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ja("t",e),o=Ja("d",e);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ip,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:op,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ja("t",e),o=Ja("d",e);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ja(Ku,e);if(ep in e){const o=e[ep];if(n===mv){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===op){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gv?this.onConnectionShutdown_(o):n===tp?this.onReset_(o):n===pv?r1("Server Error: "+o):n===np?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,o=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yf!==o&&ki("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),yl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cv))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uv))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ds.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{put(e,n,o,l){}merge(e,n,o,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,o){}onDisconnectMerge(e,n,o){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.allowedEvents_=e,this.listeners_={},me(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(e,n,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:o});const l=this.getInitialEvent(e);l&&n.apply(o,l)}off(e,n,o){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let c=0;c<l.length;c++)if(l[c].callback===n&&(!o||o===l[c].context)){l.splice(c,1);return}}validateEventType_(e){me(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends z_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!r_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Tc}getInitialEvent(e){return me(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=32,ap=768;class Zt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Mt(){return new Zt("")}function _t(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function kr(t){return t.pieces_.length-t.pieceNum_}function Kt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Zt(t.pieces_,e)}function U_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ev(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function H_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function W_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Zt(e,0)}function Rn(t,e){const n=[];for(let o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);if(e instanceof Zt)for(let o=e.pieceNum_;o<e.pieces_.length;o++)n.push(e.pieces_[o]);else{const o=e.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new Zt(n,0)}function Et(t){return t.pieceNum_>=t.pieces_.length}function yi(t,e){const n=_t(t),o=_t(e);if(n===null)return e;if(n===o)return yi(Kt(t),Kt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wf(t,e){if(kr(t)!==kr(e))return!1;for(let n=t.pieceNum_,o=e.pieceNum_;n<=t.pieces_.length;n++,o++)if(t.pieces_[n]!==e.pieces_[o])return!1;return!0}function fo(t,e){let n=t.pieceNum_,o=e.pieceNum_;if(kr(t)>kr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[o])return!1;++n,++o}return!0}class yv{constructor(e,n){this.errorPrefix_=n,this.parts_=H_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=tu(this.parts_[o]);V_(this)}}function xv(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=tu(e),V_(t)}function vv(t){const e=t.parts_.pop();t.byteLength_-=tu(e),t.parts_.length>0&&(t.byteLength_-=1)}function V_(t){if(t.byteLength_>ap)throw new Error(t.errorPrefix_+"has a key path longer than "+ap+" bytes ("+t.byteLength_+").");if(t.parts_.length>sp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sp+") or object contains a cycle "+rs(t))}function rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends z_{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Cf}getInitialEvent(e){return me(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=1e3,wv=60*5*1e3,lp=30*1e3,Cv=1.3,Sv=3e4,Av="server_kill",dp=3;class Qo extends k_{constructor(e,n,o,l,c,m,v,C){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=C,this.id=Qo.nextPersistentConnectionId_++,this.log_=id("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=el,this.maxReconnectDelay_=wv,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!s_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Tc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,o){const l=++this.requestNumber_,c={r:l,a:e,b:n};this.log_(zn(c)),me(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const n=new mf,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;m.s==="ok"?n.resolve(v):n.reject(v)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),n.promise}listen(e,n,o,l){this.initConnection_();const c=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+c),this.listens.has(m)||this.listens.set(m,new Map),me(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),me(!this.listens.get(m).has(c),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:n,query:e,tag:o};this.listens.get(m).set(c,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(e){const n=e.query,o=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+o+" for "+l);const c={p:o},m="q";e.tag&&(c.q=n._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(m,c,v=>{const C=v.d,y=v.s;Qo.warnOnListenWarnings_(C,n),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",v),y!=="ok"&&this.removeListen_(o,l),e.onComplete&&e.onComplete(y,C))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&nr(e,"w")){const o=Ea(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',c=n._path.toString();ki(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=px(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,l=>{const c=l.s,m=l.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,o=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(e,n){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),me(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,n)}sendUnlisten_(e,n,o,l){this.log_("Unlisten on "+e+" for "+n);const c={p:e},m="n";l&&(c.q=o,c.t=l),this.sendRequest(m,c)}onDisconnectPut(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:o})}onDisconnectMerge(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:o})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,o,l){const c={p:n,d:o};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(e,n,o,l){this.putInternal("p",e,n,o,l)}merge(e,n,o,l){this.putInternal("m",e,n,o,l)}putInternal(e,n,o,l,c){this.initConnection_();const m={p:n,d:o};c!==void 0&&(m.h=c),this.outstandingPuts_.push({action:e,request:m,onComplete:l}),this.outstandingPutCount_++;const v=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(v):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,o,c=>{this.log_(n+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+zn(e));const n=e.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):r1("Unrecognized action received from server: "+zn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){me(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Sv&&(this.reconnectDelay_=el),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Cv)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Qo.nextConnectionId_++,c=this.lastSessionId;let m=!1,v=null;const C=function(){v?v.close():(m=!0,o())},y=function(b){me(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(b)};this.realtime_={close:C,sendRequest:y};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,D]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);m?ei("getToken() completed but was canceled"):(ei("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=D&&D.token,v=new _v(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,o,V=>{ki(V+" ("+this.repoInfo_.toString()+")"),this.interrupt(Av)},c))}catch(b){this.log_("Failed to get token: "+b),m||(this.repoInfo_.nodeAdmin&&ki(b),C())}}}interrupt(e){ei("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ei("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kg(this.interruptReasons_)&&(this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let o;n?o=n.map(c=>Ef(c)).join("$"):o="default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const o=new Zt(e).toString();let l;if(this.listens.has(o)){const c=this.listens.get(o);l=c.get(n),c.delete(n),c.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,n){ei("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dp&&(this.reconnectDelay_=lp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ei("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+m_.replace(/\./g,"-")]=1,r_()?e["framework.cordova"]=1:dx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Tc.getInstance().currentlyOnline();return kg(this.interruptReasons_)&&e}}Qo.nextPersistentConnectionId_=0;Qo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ft(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const o=new ft(ya,e),l=new ft(ya,n);return this.compare(o,l)!==0}minPost(){return ft.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;class j_ extends iu{static get __EMPTY_NODE(){return Pd}static set __EMPTY_NODE(e){Pd=e}compare(e,n){return Ta(e.name,n.name)}isDefinedOn(e){throw Aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ft.MIN}maxPost(){return new ft(ys,Pd)}makePost(e,n){return me(typeof e=="string","KeyIndex indexValue must always be a string."),new ft(e,Pd)}toString(){return".key"}}const da=new j_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,o,l,c=null){this.isReverse_=l,this.resultGenerator_=c,this.nodeStack_=[];let m=1;for(;!e.isEmpty();)if(e=e,m=n?o(e.key,n):1,l&&(m*=-1),m<0)this.isReverse_?e=e.left:e=e.right;else if(m===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kn{constructor(e,n,o,l,c){this.key=e,this.value=n,this.color=o??kn.RED,this.left=l??xi.EMPTY_NODE,this.right=c??xi.EMPTY_NODE}copy(e,n,o,l,c){return new kn(e??this.key,n??this.value,o??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const c=o(e,l.key);return c<0?l=l.copy(null,null,null,l.left.insert(e,n,o),null):c===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return xi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let o,l;if(o=this,n(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(e,o.key)===0){if(o.right.isEmpty())return xi.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kn.RED=!0;kn.BLACK=!1;class Tv{copy(e,n,o,l,c){return this}insert(e,n,o){return new kn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xi{constructor(e,n=xi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kn.BLACK,null,null))}remove(e){return new xi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kn.BLACK,null,null))}get(e){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(e,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(e){let n,o=this.root_,l=null;for(;!o.isEmpty();)if(n=this.comparator_(e,o.key),n===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fd(this.root_,null,this.comparator_,!0,e)}}xi.EMPTY_NODE=new Tv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){return Ta(t.name,e.name)}function Sf(t,e){return Ta(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1;function bv(t){a1=t}const G_=function(t){return typeof t=="number"?"number:"+v_(t):"string:"+t},Z_=function(t){if(t.isLeafNode()){const e=t.val();me(typeof e=="string"||typeof e=="number"||typeof e=="object"&&nr(e,".sv"),"Priority must be a string or number.")}else me(t===a1||t.isEmpty(),"priority of unexpected type.");me(t===a1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp;class Fn{constructor(e,n=Fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,me(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Z_(this.priorityNode_)}static set __childrenNodeConstructor(e){cp=e}static get __childrenNodeConstructor(){return cp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:_t(e)===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const o=_t(e);return o===null?n:n.isEmpty()&&o!==".priority"?this:(me(o!==".priority"||kr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+G_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=v_(this.value_):e+=this.value_,this.lazyHash_=E_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fn.__childrenNodeConstructor?-1:(me(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,o=typeof this.value_,l=Fn.VALUE_TYPE_ORDER.indexOf(n),c=Fn.VALUE_TYPE_ORDER.indexOf(o);return me(l>=0,"Unknown leaf type: "+n),me(c>=0,"Unknown leaf type: "+o),l===c?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_,X_;function Nv(t){Y_=t}function Rv(t){X_=t}class Mv extends iu{compare(e,n){const o=e.node.getPriority(),l=n.node.getPriority(),c=o.compareTo(l);return c===0?Ta(e.name,n.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ft.MIN}maxPost(){return new ft(ys,new Fn("[PRIORITY-POST]",X_))}makePost(e,n){const o=Y_(e);return new ft(n,new Fn("[PRIORITY-POST]",o))}toString(){return".priority"}}const mn=new Mv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=Math.log(2);class Dv{constructor(e){const n=c=>parseInt(Math.log(c)/Lv,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=o(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ic=function(t,e,n,o){t.sort(e);const l=function(C,y){const N=y-C;let b,D;if(N===0)return null;if(N===1)return b=t[C],D=n?n(b):b,new kn(D,b.node,kn.BLACK,null,null);{const V=parseInt(N/2,10)+C,X=l(C,V),j=l(V+1,y);return b=t[V],D=n?n(b):b,new kn(D,b.node,kn.BLACK,X,j)}},c=function(C){let y=null,N=null,b=t.length;const D=function(X,j){const ye=b-X,W=b;b-=X;const F=l(ye+1,W),B=t[ye],J=n?n(B):B;V(new kn(J,B.node,j,null,F))},V=function(X){y?(y.left=X,y=X):(N=X,y=X)};for(let X=0;X<C.count;++X){const j=C.nextBitIsOne(),ye=Math.pow(2,C.count-(X+1));j?D(ye,kn.BLACK):(D(ye,kn.BLACK),D(ye,kn.RED))}return N},m=new Dv(t.length),v=c(m);return new xi(o||e,v)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;const Bs={};class Yo{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return me(Bs&&mn,"ChildrenNode.ts has not been loaded"),qu=qu||new Yo({".priority":Bs},{".priority":mn}),qu}get(e){const n=Ea(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xi?n:null}hasIndex(e){return nr(this.indexSet_,e.toString())}addIndex(e,n){me(e!==da,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const c=n.getIterator(ft.Wrap);let m=c.getNext();for(;m;)l=l||e.isDefinedOn(m.node),o.push(m),m=c.getNext();let v;l?v=Ic(o,e.getCompare()):v=Bs;const C=e.toString(),y=Object.assign({},this.indexSet_);y[C]=e;const N=Object.assign({},this.indexes_);return N[C]=v,new Yo(N,y)}addToIndexes(e,n){const o=wc(this.indexes_,(l,c)=>{const m=Ea(this.indexSet_,c);if(me(m,"Missing index implementation for "+c),l===Bs)if(m.isDefinedOn(e.node)){const v=[],C=n.getIterator(ft.Wrap);let y=C.getNext();for(;y;)y.name!==e.name&&v.push(y),y=C.getNext();return v.push(e),Ic(v,m.getCompare())}else return Bs;else{const v=n.get(e.name);let C=l;return v&&(C=C.remove(new ft(e.name,v))),C.insert(e,e.node)}});return new Yo(o,this.indexSet_)}removeFromIndexes(e,n){const o=wc(this.indexes_,l=>{if(l===Bs)return l;{const c=n.get(e.name);return c?l.remove(new ft(e.name,c)):l}});return new Yo(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl;class je{constructor(e,n,o){this.children_=e,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Z_(this.priorityNode_),this.children_.isEmpty()&&me(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tl||(tl=new je(new xi(Sf),null,Yo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tl}updatePriority(e){return this.children_.isEmpty()?this:new je(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?tl:n}}getChild(e){const n=_t(e);return n===null?this:this.getImmediateChild(n).getChild(Kt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(me(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const o=new ft(e,n);let l,c;n.isEmpty()?(l=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?tl:this.priorityNode_;return new je(l,m,c)}}updateChild(e,n){const o=_t(e);if(o===null)return n;{me(_t(e)!==".priority"||kr(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Kt(e),n);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let o=0,l=0,c=!0;if(this.forEachChild(mn,(m,v)=>{n[m]=v.val(e),o++,c&&je.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):c=!1}),!e&&c&&l<2*o){const m=[];for(const v in n)m[v]=n[v];return m}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+G_(this.getPriority().val())+":"),this.forEachChild(mn,(n,o)=>{const l=o.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":E_(e)}return this.lazyHash_}getPredecessorChildName(e,n,o){const l=this.resolveIndex_(o);if(l){const c=l.getPredecessorKey(new ft(e,n));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ft(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ft(n,this.children_.get(n)):null}forEachChild(e,n){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ft.Wrap);let c=l.peek();for(;c!=null&&n.compare(c,e)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ft.Wrap);let c=l.peek();for(;c!=null&&n.compare(c,e)>0;)l.getNext(),c=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rd?-1:0}withIndex(e){if(e===da||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new je(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===da||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(mn),l=n.getIterator(mn);let c=o.getNext(),m=l.getNext();for(;c&&m;){if(c.name!==m.name||!c.node.equals(m.node))return!1;c=o.getNext(),m=l.getNext()}return c===null&&m===null}else return!1;else return!1}}resolveIndex_(e){return e===da?null:this.indexMap_.get(e.toString())}}je.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ov extends je{constructor(){super(new xi(Sf),je.EMPTY_NODE,Yo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return je.EMPTY_NODE}isEmpty(){return!1}}const rd=new Ov;Object.defineProperties(ft,{MIN:{value:new ft(ya,je.EMPTY_NODE)},MAX:{value:new ft(ys,rd)}});j_.__EMPTY_NODE=je.EMPTY_NODE;Fn.__childrenNodeConstructor=je;bv(rd);Rv(rd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=!0;function ti(t,e=null){if(t===null)return je.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),me(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fn(n,ti(e))}if(!(t instanceof Array)&&Pv){const n=[];let o=!1;if(Si(t,(m,v)=>{if(m.substring(0,1)!=="."){const C=ti(v);C.isEmpty()||(o=o||!C.getPriority().isEmpty(),n.push(new ft(m,C)))}}),n.length===0)return je.EMPTY_NODE;const c=Ic(n,Iv,m=>m.name,Sf);if(o){const m=Ic(n,mn.getCompare());return new je(c,ti(e),new Yo({".priority":m},{".priority":mn}))}else return new je(c,ti(e),Yo.Default)}else{let n=je.EMPTY_NODE;return Si(t,(o,l)=>{if(nr(t,o)&&o.substring(0,1)!=="."){const c=ti(l);(c.isLeafNode()||!c.isEmpty())&&(n=n.updateImmediateChild(o,c))}}),n.updatePriority(ti(e))}}Nv(ti);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends iu{constructor(e){super(),this.indexPath_=e,me(!Et(e)&&_t(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const o=this.extractChild(e.node),l=this.extractChild(n.node),c=o.compareTo(l);return c===0?Ta(e.name,n.name):c}makePost(e,n){const o=ti(e),l=je.EMPTY_NODE.updateChild(this.indexPath_,o);return new ft(n,l)}maxPost(){const e=je.EMPTY_NODE.updateChild(this.indexPath_,rd);return new ft(ys,e)}toString(){return H_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends iu{compare(e,n){const o=e.node.compareTo(n.node);return o===0?Ta(e.name,n.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ft.MIN}maxPost(){return ft.MAX}makePost(e,n){const o=ti(e);return new ft(n,o)}toString(){return".value"}}const kv=new Bv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){return{type:"value",snapshotNode:t}}function xa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Gl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zv(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.index_=e}updateChild(e,n,o,l,c,m){me(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=e.getImmediateChild(n);return v.getChild(l).equals(o.getChild(l))&&v.isEmpty()===o.isEmpty()||(m!=null&&(o.isEmpty()?e.hasChild(n)?m.trackChildChange(jl(n,v)):me(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?m.trackChildChange(xa(n,o)):m.trackChildChange(Gl(n,o,v))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(e,n,o){return o!=null&&(e.isLeafNode()||e.forEachChild(mn,(l,c)=>{n.hasChild(l)||o.trackChildChange(jl(l,c))}),n.isLeafNode()||n.forEachChild(mn,(l,c)=>{if(e.hasChild(l)){const m=e.getImmediateChild(l);m.equals(c)||o.trackChildChange(Gl(l,c,m))}else o.trackChildChange(xa(l,c))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?je.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.indexedFilter_=new Af(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zl.getStartPost_(e),this.endPost_=Zl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&o}updateChild(e,n,o,l,c,m){return this.matches(new ft(n,o))||(o=je.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,o,l,c,m)}updateFullNode(e,n,o){n.isLeafNode()&&(n=je.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(je.EMPTY_NODE);const c=this;return n.forEachChild(mn,(m,v)=>{c.matches(new ft(m,v))||(l=l.updateImmediateChild(m,je.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Zl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,o,l,c,m){return this.rangedFilter_.matches(new ft(n,o))||(o=je.EMPTY_NODE),e.getImmediateChild(n).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,o,l,c,m):this.fullLimitUpdateChild_(e,n,o,c,m)}updateFullNode(e,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=je.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=je.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;c.hasNext()&&m<this.limit_;){const v=c.getNext();if(this.withinDirectionalStart(v))if(this.withinDirectionalEnd(v))l=l.updateImmediateChild(v.name,v.node),m++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(je.EMPTY_NODE);let c;this.reverse_?c=l.getReverseIterator(this.index_):c=l.getIterator(this.index_);let m=0;for(;c.hasNext();){const v=c.getNext();m<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?m++:l=l.updateImmediateChild(v.name,je.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,o,l,c){let m;if(this.reverse_){const b=this.index_.getCompare();m=(D,V)=>b(V,D)}else m=this.index_.getCompare();const v=e;me(v.numChildren()===this.limit_,"");const C=new ft(n,o),y=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),N=this.rangedFilter_.matches(C);if(v.hasChild(n)){const b=v.getImmediateChild(n);let D=l.getChildAfterChild(this.index_,y,this.reverse_);for(;D!=null&&(D.name===n||v.hasChild(D.name));)D=l.getChildAfterChild(this.index_,D,this.reverse_);const V=D==null?1:m(D,C);if(N&&!o.isEmpty()&&V>=0)return c!=null&&c.trackChildChange(Gl(n,o,b)),v.updateImmediateChild(n,o);{c!=null&&c.trackChildChange(jl(n,b));const j=v.updateImmediateChild(n,je.EMPTY_NODE);return D!=null&&this.rangedFilter_.matches(D)?(c!=null&&c.trackChildChange(xa(D.name,D.node)),j.updateImmediateChild(D.name,D.node)):j}}else return o.isEmpty()?e:N&&m(y,C)>=0?(c!=null&&(c.trackChildChange(jl(y.name,y.node)),c.trackChildChange(xa(n,o))),v.updateImmediateChild(n,o).updateImmediateChild(y.name,je.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return me(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return me(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ya}hasEnd(){return this.endSet_}getIndexEndValue(){return me(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return me(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return me(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mn}copy(){const e=new Tf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Hv(t){return t.loadsAllData()?new Af(t.getIndex()):t.hasLimit()?new Uv(t):new Zl(t)}function up(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mn?n="$priority":t.index_===kv?n="$value":t.index_===da?n="$key":(me(t.index_ instanceof Fv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=zn(n),t.startSet_){const o=t.startAfterSet_?"startAfter":"startAt";e[o]=zn(t.indexStartValue_),t.startNameSet_&&(e[o]+=","+zn(t.indexStartName_))}if(t.endSet_){const o=t.endBeforeSet_?"endBefore":"endAt";e[o]=zn(t.indexEndValue_),t.endNameSet_&&(e[o]+=","+zn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends k_{constructor(e,n,o,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=id("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(me(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,o,l){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const m=bc.getListenId_(e,o),v={};this.listens_[m]=v;const C=up(e._queryParams);this.restRequest_(c+".json",C,(y,N)=>{let b=N;if(y===404&&(b=null,y=null),y===null&&this.onDataUpdate_(c,b,!1,o),Ea(this.listens_,m)===v){let D;y?y===401?D="permission_denied":D="rest_error:"+y:D="ok",l(D,null)}})}unlisten(e,n){const o=bc.getListenId_(e,n);delete this.listens_[o]}get(e){const n=up(e._queryParams),o=e._path.toString(),l=new mf;return this.restRequest_(o+".json",n,(c,m)=>{let v=m;c===404&&(v=null,c=null),c===null?(this.onDataUpdate_(o,v,!1,null),l.resolve(v)):l.reject(new Error(v))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,c])=>{l&&l.accessToken&&(n.auth=l.accessToken),c&&c.token&&(n.ac=c.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_x(n);this.log_("Sending REST request for "+m);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(o&&v.readyState===4){this.log_("REST Response for "+m+" received. status:",v.status,"response:",v.responseText);let C=null;if(v.status>=200&&v.status<300){try{C=Ul(v.responseText)}catch{ki("Failed to parse JSON response for "+m+": "+v.responseText)}o(null,C)}else v.status!==401&&v.status!==404&&ki("Got unsuccessful REST response for "+m+" Status: "+v.status),o(v.status);o=null}},v.open("GET",m,!0),v.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.rootNode_=je.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(){return{value:null,children:new Map}}function K_(t,e,n){if(Et(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const o=_t(e);t.children.has(o)||t.children.set(o,Nc());const l=t.children.get(o);e=Kt(e),K_(l,e,n)}}function l1(t,e,n){t.value!==null?n(e,t.value):Vv(t,(o,l)=>{const c=new Zt(e.toString()+"/"+o);l1(l,c,n)})}function Vv(t,e){t.children.forEach((n,o)=>{e(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Si(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=10*1e3,Gv=30*1e3,Zv=5*60*1e3;class Yv{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jv(e);const o=fp+(Gv-fp)*Math.random();yl(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),n={};let o=!1;Si(e,(l,c)=>{c>0&&nr(this.statsToReport_,l)&&(n[l]=c,o=!0)}),o&&this.server_.reportStats(n),yl(this.reportStats_.bind(this),Math.floor(Math.random()*2*Zv))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(go||(go={}));function q_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function If(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,o){this.path=e,this.affectedTree=n,this.revert=o,this.type=go.ACK_USER_WRITE,this.source=q_()}operationForChild(e){if(Et(this.path)){if(this.affectedTree.value!=null)return me(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Zt(e));return new Rc(Mt(),n,this.revert)}}else return me(_t(this.path)===e,"operationForChild called for unrelated child."),new Rc(Kt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.source=e,this.path=n,this.type=go.LISTEN_COMPLETE}operationForChild(e){return Et(this.path)?new Yl(this.source,Mt()):new Yl(this.source,Kt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,o){this.source=e,this.path=n,this.snap=o,this.type=go.OVERWRITE}operationForChild(e){return Et(this.path)?new xs(this.source,Mt(),this.snap.getImmediateChild(e)):new xs(this.source,Kt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,o){this.source=e,this.path=n,this.children=o,this.type=go.MERGE}operationForChild(e){if(Et(this.path)){const n=this.children.subtree(new Zt(e));return n.isEmpty()?null:n.value?new xs(this.source,Mt(),n.value):new Xl(this.source,Mt(),n)}else return me(_t(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xl(this.source,Kt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,o){this.node_=e,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Et(e))return this.isFullyInitialized()&&!this.filtered_;const n=_t(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Qv(t,e,n,o){const l=[],c=[];return e.forEach(m=>{m.type==="child_changed"&&t.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&c.push(zv(m.childName,m.snapshotNode))}),nl(t,l,"child_removed",e,o,n),nl(t,l,"child_added",e,o,n),nl(t,l,"child_moved",c,o,n),nl(t,l,"child_changed",e,o,n),nl(t,l,"value",e,o,n),l}function nl(t,e,n,o,l,c){const m=o.filter(v=>v.type===n);m.sort((v,C)=>qv(t,v,C)),m.forEach(v=>{const C=Kv(t,v,c);l.forEach(y=>{y.respondsTo(v.type)&&e.push(y.createEvent(C,t.query_))})})}function Kv(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function qv(t,e,n){if(e.childName==null||n.childName==null)throw Aa("Should only compare child_ events.");const o=new ft(e.childName,e.snapshotNode),l=new ft(n.childName,n.snapshotNode);return t.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e){return{eventCache:t,serverCache:e}}function xl(t,e,n,o){return ou(new vs(e,n,o),t.serverCache)}function $_(t,e,n,o){return ou(t.eventCache,new vs(e,n,o))}function d1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ws(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;const $v=()=>($u||($u=new xi(B8)),$u);class on{constructor(e,n=$v()){this.value=e,this.children=n}static fromObject(e){let n=new on(null);return Si(e,(o,l)=>{n=n.set(new Zt(o),l)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Mt(),value:this.value};if(Et(e))return null;{const o=_t(e),l=this.children.get(o);if(l!==null){const c=l.findRootMostMatchingPathAndValue(Kt(e),n);return c!=null?{path:Rn(new Zt(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Et(e))return this;{const n=_t(e),o=this.children.get(n);return o!==null?o.subtree(Kt(e)):new on(null)}}set(e,n){if(Et(e))return new on(n,this.children);{const o=_t(e),c=(this.children.get(o)||new on(null)).set(Kt(e),n),m=this.children.insert(o,c);return new on(this.value,m)}}remove(e){if(Et(e))return this.children.isEmpty()?new on(null):new on(null,this.children);{const n=_t(e),o=this.children.get(n);if(o){const l=o.remove(Kt(e));let c;return l.isEmpty()?c=this.children.remove(n):c=this.children.insert(n,l),this.value===null&&c.isEmpty()?new on(null):new on(this.value,c)}else return this}}get(e){if(Et(e))return this.value;{const n=_t(e),o=this.children.get(n);return o?o.get(Kt(e)):null}}setTree(e,n){if(Et(e))return n;{const o=_t(e),c=(this.children.get(o)||new on(null)).setTree(Kt(e),n);let m;return c.isEmpty()?m=this.children.remove(o):m=this.children.insert(o,c),new on(this.value,m)}}fold(e){return this.fold_(Mt(),e)}fold_(e,n){const o={};return this.children.inorderTraversal((l,c)=>{o[l]=c.fold_(Rn(e,l),n)}),n(e,this.value,o)}findOnPath(e,n){return this.findOnPath_(e,Mt(),n)}findOnPath_(e,n,o){const l=this.value?o(n,this.value):!1;if(l)return l;if(Et(e))return null;{const c=_t(e),m=this.children.get(c);return m?m.findOnPath_(Kt(e),Rn(n,c),o):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Mt(),n)}foreachOnPath_(e,n,o){if(Et(e))return this;{this.value&&o(n,this.value);const l=_t(e),c=this.children.get(l);return c?c.foreachOnPath_(Kt(e),Rn(n,l),o):new on(null)}}foreach(e){this.foreach_(Mt(),e)}foreach_(e,n){this.children.inorderTraversal((o,l)=>{l.foreach_(Rn(e,o),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,o)=>{o.value&&e(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.writeTree_=e}static empty(){return new _o(new on(null))}}function vl(t,e,n){if(Et(e))return new _o(new on(n));{const o=t.writeTree_.findRootMostValueAndPath(e);if(o!=null){const l=o.path;let c=o.value;const m=yi(l,e);return c=c.updateChild(m,n),new _o(t.writeTree_.set(l,c))}else{const l=new on(n),c=t.writeTree_.setTree(e,l);return new _o(c)}}}function gp(t,e,n){let o=t;return Si(n,(l,c)=>{o=vl(o,Rn(e,l),c)}),o}function pp(t,e){if(Et(e))return _o.empty();{const n=t.writeTree_.setTree(e,new on(null));return new _o(n)}}function c1(t,e){return As(t,e)!=null}function As(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yi(n.path,e)):null}function mp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mn,(o,l)=>{e.push(new ft(o,l))}):t.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&e.push(new ft(o,l.value))}),e}function Or(t,e){if(Et(e))return t;{const n=As(t,e);return n!=null?new _o(new on(n)):new _o(t.writeTree_.subtree(e))}}function u1(t){return t.writeTree_.isEmpty()}function va(t,e){return J_(Mt(),t.writeTree_,e)}function J_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let o=null;return e.children.inorderTraversal((l,c)=>{l===".priority"?(me(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):n=J_(Rn(t,l),c,n)}),!n.getChild(t).isEmpty()&&o!==null&&(n=n.updateChild(Rn(t,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e){return i3(e,t)}function Jv(t,e,n,o,l){me(o>t.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),t.allWrites.push({path:e,snap:n,writeId:o,visible:l}),l&&(t.visibleWrites=vl(t.visibleWrites,e,n)),t.lastWriteId=o}function ew(t,e){for(let n=0;n<t.allWrites.length;n++){const o=t.allWrites[n];if(o.writeId===e)return o}return null}function tw(t,e){const n=t.allWrites.findIndex(v=>v.writeId===e);me(n>=0,"removeWrite called with nonexistent writeId.");const o=t.allWrites[n];t.allWrites.splice(n,1);let l=o.visible,c=!1,m=t.allWrites.length-1;for(;l&&m>=0;){const v=t.allWrites[m];v.visible&&(m>=n&&nw(v,o.path)?l=!1:fo(o.path,v.path)&&(c=!0)),m--}if(l){if(c)return iw(t),!0;if(o.snap)t.visibleWrites=pp(t.visibleWrites,o.path);else{const v=o.children;Si(v,C=>{t.visibleWrites=pp(t.visibleWrites,Rn(o.path,C))})}return!0}else return!1}function nw(t,e){if(t.snap)return fo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fo(Rn(t.path,n),e))return!0;return!1}function iw(t){t.visibleWrites=e3(t.allWrites,ow,Mt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ow(t){return t.visible}function e3(t,e,n){let o=_o.empty();for(let l=0;l<t.length;++l){const c=t[l];if(e(c)){const m=c.path;let v;if(c.snap)fo(n,m)?(v=yi(n,m),o=vl(o,v,c.snap)):fo(m,n)&&(v=yi(m,n),o=vl(o,Mt(),c.snap.getChild(v)));else if(c.children){if(fo(n,m))v=yi(n,m),o=gp(o,v,c.children);else if(fo(m,n))if(v=yi(m,n),Et(v))o=gp(o,Mt(),c.children);else{const C=Ea(c.children,_t(v));if(C){const y=C.getChild(Kt(v));o=vl(o,Mt(),y)}}}else throw Aa("WriteRecord should have .snap or .children")}}return o}function t3(t,e,n,o,l){if(!o&&!l){const c=As(t.visibleWrites,e);if(c!=null)return c;{const m=Or(t.visibleWrites,e);if(u1(m))return n;if(n==null&&!c1(m,Mt()))return null;{const v=n||je.EMPTY_NODE;return va(m,v)}}}else{const c=Or(t.visibleWrites,e);if(!l&&u1(c))return n;if(!l&&n==null&&!c1(c,Mt()))return null;{const m=function(y){return(y.visible||l)&&(!o||!~o.indexOf(y.writeId))&&(fo(y.path,e)||fo(e,y.path))},v=e3(t.allWrites,m,e),C=n||je.EMPTY_NODE;return va(v,C)}}}function rw(t,e,n){let o=je.EMPTY_NODE;const l=As(t.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(mn,(c,m)=>{o=o.updateImmediateChild(c,m)}),o;if(n){const c=Or(t.visibleWrites,e);return n.forEachChild(mn,(m,v)=>{const C=va(Or(c,new Zt(m)),v);o=o.updateImmediateChild(m,C)}),mp(c).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}else{const c=Or(t.visibleWrites,e);return mp(c).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}}function sw(t,e,n,o,l){me(o||l,"Either existingEventSnap or existingServerSnap must exist");const c=Rn(e,n);if(c1(t.visibleWrites,c))return null;{const m=Or(t.visibleWrites,c);return u1(m)?l.getChild(n):va(m,l.getChild(n))}}function aw(t,e,n,o){const l=Rn(e,n),c=As(t.visibleWrites,l);if(c!=null)return c;if(o.isCompleteForChild(n)){const m=Or(t.visibleWrites,l);return va(m,o.getNode().getImmediateChild(n))}else return null}function lw(t,e){return As(t.visibleWrites,e)}function dw(t,e,n,o,l,c,m){let v;const C=Or(t.visibleWrites,e),y=As(C,Mt());if(y!=null)v=y;else if(n!=null)v=va(C,n);else return[];if(v=v.withIndex(m),!v.isEmpty()&&!v.isLeafNode()){const N=[],b=m.getCompare(),D=c?v.getReverseIteratorFrom(o,m):v.getIteratorFrom(o,m);let V=D.getNext();for(;V&&N.length<l;)b(V,o)!==0&&N.push(V),V=D.getNext();return N}else return[]}function cw(){return{visibleWrites:_o.empty(),allWrites:[],lastWriteId:-1}}function Mc(t,e,n,o){return t3(t.writeTree,t.treePath,e,n,o)}function Rf(t,e){return rw(t.writeTree,t.treePath,e)}function _p(t,e,n,o){return sw(t.writeTree,t.treePath,e,n,o)}function Lc(t,e){return lw(t.writeTree,Rn(t.treePath,e))}function uw(t,e,n,o,l,c){return dw(t.writeTree,t.treePath,e,n,o,l,c)}function Mf(t,e,n){return aw(t.writeTree,t.treePath,e,n)}function n3(t,e){return i3(Rn(t.treePath,e),t.writeTree)}function i3(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,o=e.childName;me(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),me(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const c=l.type;if(n==="child_added"&&c==="child_removed")this.changeMap.set(o,Gl(o,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&c==="child_changed")this.changeMap.set(o,jl(o,l.oldSnap));else if(n==="child_changed"&&c==="child_added")this.changeMap.set(o,xa(o,e.snapshotNode));else if(n==="child_changed"&&c==="child_changed")this.changeMap.set(o,Gl(o,e.snapshotNode,l.oldSnap));else throw Aa("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{getCompleteChild(e){return null}getChildAfterChild(e,n,o){return null}}const o3=new fw;class Lf{constructor(e,n,o=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new vs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mf(this.writes_,e,o)}}getChildAfterChild(e,n,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ws(this.viewCache_),c=uw(this.writes_,l,n,1,o,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){return{filter:t}}function pw(t,e){me(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),me(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mw(t,e,n,o,l){const c=new hw;let m,v;if(n.type===go.OVERWRITE){const y=n;y.source.fromUser?m=h1(t,e,y.path,y.snap,o,l,c):(me(y.source.fromServer,"Unknown source."),v=y.source.tagged||e.serverCache.isFiltered()&&!Et(y.path),m=Dc(t,e,y.path,y.snap,o,l,v,c))}else if(n.type===go.MERGE){const y=n;y.source.fromUser?m=Ew(t,e,y.path,y.children,o,l,c):(me(y.source.fromServer,"Unknown source."),v=y.source.tagged||e.serverCache.isFiltered(),m=f1(t,e,y.path,y.children,o,l,v,c))}else if(n.type===go.ACK_USER_WRITE){const y=n;y.revert?m=vw(t,e,y.path,o,l,c):m=yw(t,e,y.path,y.affectedTree,o,l,c)}else if(n.type===go.LISTEN_COMPLETE)m=xw(t,e,n.path,o,c);else throw Aa("Unknown operation type: "+n.type);const C=c.getChanges();return _w(e,m,C),{viewCache:m,changes:C}}function _w(t,e,n){const o=e.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=d1(t);(n.length>0||!t.eventCache.isFullyInitialized()||l&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&n.push(Q_(d1(e)))}}function r3(t,e,n,o,l,c){const m=e.eventCache;if(Lc(o,n)!=null)return e;{let v,C;if(Et(n))if(me(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=ws(e),N=y instanceof je?y:je.EMPTY_NODE,b=Rf(o,N);v=t.filter.updateFullNode(e.eventCache.getNode(),b,c)}else{const y=Mc(o,ws(e));v=t.filter.updateFullNode(e.eventCache.getNode(),y,c)}else{const y=_t(n);if(y===".priority"){me(kr(n)===1,"Can't have a priority with additional path components");const N=m.getNode();C=e.serverCache.getNode();const b=_p(o,n,N,C);b!=null?v=t.filter.updatePriority(N,b):v=m.getNode()}else{const N=Kt(n);let b;if(m.isCompleteForChild(y)){C=e.serverCache.getNode();const D=_p(o,n,m.getNode(),C);D!=null?b=m.getNode().getImmediateChild(y).updateChild(N,D):b=m.getNode().getImmediateChild(y)}else b=Mf(o,y,e.serverCache);b!=null?v=t.filter.updateChild(m.getNode(),y,b,N,l,c):v=m.getNode()}}return xl(e,v,m.isFullyInitialized()||Et(n),t.filter.filtersNodes())}}function Dc(t,e,n,o,l,c,m,v){const C=e.serverCache;let y;const N=m?t.filter:t.filter.getIndexedFilter();if(Et(n))y=N.updateFullNode(C.getNode(),o,null);else if(N.filtersNodes()&&!C.isFiltered()){const V=C.getNode().updateChild(n,o);y=N.updateFullNode(C.getNode(),V,null)}else{const V=_t(n);if(!C.isCompleteForPath(n)&&kr(n)>1)return e;const X=Kt(n),ye=C.getNode().getImmediateChild(V).updateChild(X,o);V===".priority"?y=N.updatePriority(C.getNode(),ye):y=N.updateChild(C.getNode(),V,ye,X,o3,null)}const b=$_(e,y,C.isFullyInitialized()||Et(n),N.filtersNodes()),D=new Lf(l,b,c);return r3(t,b,n,l,D,v)}function h1(t,e,n,o,l,c,m){const v=e.eventCache;let C,y;const N=new Lf(l,e,c);if(Et(n))y=t.filter.updateFullNode(e.eventCache.getNode(),o,m),C=xl(e,y,!0,t.filter.filtersNodes());else{const b=_t(n);if(b===".priority")y=t.filter.updatePriority(e.eventCache.getNode(),o),C=xl(e,y,v.isFullyInitialized(),v.isFiltered());else{const D=Kt(n),V=v.getNode().getImmediateChild(b);let X;if(Et(D))X=o;else{const j=N.getCompleteChild(b);j!=null?U_(D)===".priority"&&j.getChild(W_(D)).isEmpty()?X=j:X=j.updateChild(D,o):X=je.EMPTY_NODE}if(V.equals(X))C=e;else{const j=t.filter.updateChild(v.getNode(),b,X,D,N,m);C=xl(e,j,v.isFullyInitialized(),t.filter.filtersNodes())}}}return C}function Ep(t,e){return t.eventCache.isCompleteForChild(e)}function Ew(t,e,n,o,l,c,m){let v=e;return o.foreach((C,y)=>{const N=Rn(n,C);Ep(e,_t(N))&&(v=h1(t,v,N,y,l,c,m))}),o.foreach((C,y)=>{const N=Rn(n,C);Ep(e,_t(N))||(v=h1(t,v,N,y,l,c,m))}),v}function yp(t,e,n){return n.foreach((o,l)=>{e=e.updateChild(o,l)}),e}function f1(t,e,n,o,l,c,m,v){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let C=e,y;Et(n)?y=o:y=new on(null).setTree(n,o);const N=e.serverCache.getNode();return y.children.inorderTraversal((b,D)=>{if(N.hasChild(b)){const V=e.serverCache.getNode().getImmediateChild(b),X=yp(t,V,D);C=Dc(t,C,new Zt(b),X,l,c,m,v)}}),y.children.inorderTraversal((b,D)=>{const V=!e.serverCache.isCompleteForChild(b)&&D.value===null;if(!N.hasChild(b)&&!V){const X=e.serverCache.getNode().getImmediateChild(b),j=yp(t,X,D);C=Dc(t,C,new Zt(b),j,l,c,m,v)}}),C}function yw(t,e,n,o,l,c,m){if(Lc(l,n)!=null)return e;const v=e.serverCache.isFiltered(),C=e.serverCache;if(o.value!=null){if(Et(n)&&C.isFullyInitialized()||C.isCompleteForPath(n))return Dc(t,e,n,C.getNode().getChild(n),l,c,v,m);if(Et(n)){let y=new on(null);return C.getNode().forEachChild(da,(N,b)=>{y=y.set(new Zt(N),b)}),f1(t,e,n,y,l,c,v,m)}else return e}else{let y=new on(null);return o.foreach((N,b)=>{const D=Rn(n,N);C.isCompleteForPath(D)&&(y=y.set(N,C.getNode().getChild(D)))}),f1(t,e,n,y,l,c,v,m)}}function xw(t,e,n,o,l){const c=e.serverCache,m=$_(e,c.getNode(),c.isFullyInitialized()||Et(n),c.isFiltered());return r3(t,m,n,o,o3,l)}function vw(t,e,n,o,l,c){let m;if(Lc(o,n)!=null)return e;{const v=new Lf(o,e,l),C=e.eventCache.getNode();let y;if(Et(n)||_t(n)===".priority"){let N;if(e.serverCache.isFullyInitialized())N=Mc(o,ws(e));else{const b=e.serverCache.getNode();me(b instanceof je,"serverChildren would be complete if leaf node"),N=Rf(o,b)}N=N,y=t.filter.updateFullNode(C,N,c)}else{const N=_t(n);let b=Mf(o,N,e.serverCache);b==null&&e.serverCache.isCompleteForChild(N)&&(b=C.getImmediateChild(N)),b!=null?y=t.filter.updateChild(C,N,b,Kt(n),v,c):e.eventCache.getNode().hasChild(N)?y=t.filter.updateChild(C,N,je.EMPTY_NODE,Kt(n),v,c):y=C,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(m=Mc(o,ws(e)),m.isLeafNode()&&(y=t.filter.updateFullNode(y,m,c)))}return m=e.serverCache.isFullyInitialized()||Lc(o,Mt())!=null,xl(e,y,m,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Af(o.getIndex()),c=Hv(o);this.processor_=gw(c);const m=n.serverCache,v=n.eventCache,C=l.updateFullNode(je.EMPTY_NODE,m.getNode(),null),y=c.updateFullNode(je.EMPTY_NODE,v.getNode(),null),N=new vs(C,m.isFullyInitialized(),l.filtersNodes()),b=new vs(y,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=ou(b,N),this.eventGenerator_=new Xv(this.query_)}get query(){return this.query_}}function Cw(t){return t.viewCache_.serverCache.getNode()}function Sw(t,e){const n=ws(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Et(e)&&!n.getImmediateChild(_t(e)).isEmpty())?n.getChild(e):null}function xp(t){return t.eventRegistrations_.length===0}function Aw(t,e){t.eventRegistrations_.push(e)}function vp(t,e,n){const o=[];if(n){me(e==null,"A cancel should cancel all event registrations.");const l=t.query._path;t.eventRegistrations_.forEach(c=>{const m=c.createCancelEvent(n,l);m&&o.push(m)})}if(e){let l=[];for(let c=0;c<t.eventRegistrations_.length;++c){const m=t.eventRegistrations_[c];if(!m.matches(e))l.push(m);else if(e.hasAnyCallback()){l=l.concat(t.eventRegistrations_.slice(c+1));break}}t.eventRegistrations_=l}else t.eventRegistrations_=[];return o}function wp(t,e,n,o){e.type===go.MERGE&&e.source.queryId!==null&&(me(ws(t.viewCache_),"We should always have a full cache before handling merges"),me(d1(t.viewCache_),"Missing event cache, even though we have a server cache"));const l=t.viewCache_,c=mw(t.processor_,l,e,n,o);return pw(t.processor_,c.viewCache),me(c.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,s3(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Tw(t,e){const n=t.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(mn,(c,m)=>{o.push(xa(c,m))}),n.isFullyInitialized()&&o.push(Q_(n.getNode())),s3(t,o,n.getNode(),e)}function s3(t,e,n,o){const l=o?[o]:t.eventRegistrations_;return Qv(t.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc;class Iw{constructor(){this.views=new Map}}function bw(t){me(!Oc,"__referenceConstructor has already been defined"),Oc=t}function Nw(){return me(Oc,"Reference.ts has not been loaded"),Oc}function Rw(t){return t.views.size===0}function Df(t,e,n,o){const l=e.source.queryId;if(l!==null){const c=t.views.get(l);return me(c!=null,"SyncTree gave us an op for an invalid query."),wp(c,e,n,o)}else{let c=[];for(const m of t.views.values())c=c.concat(wp(m,e,n,o));return c}}function Mw(t,e,n,o,l){const c=e._queryIdentifier,m=t.views.get(c);if(!m){let v=Mc(n,l?o:null),C=!1;v?C=!0:o instanceof je?(v=Rf(n,o),C=!1):(v=je.EMPTY_NODE,C=!1);const y=ou(new vs(v,C,!1),new vs(o,l,!1));return new ww(e,y)}return m}function Lw(t,e,n,o,l,c){const m=Mw(t,e,o,l,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,m),Aw(m,n),Tw(m,n)}function Dw(t,e,n,o){const l=e._queryIdentifier,c=[];let m=[];const v=zr(t);if(l==="default")for(const[C,y]of t.views.entries())m=m.concat(vp(y,n,o)),xp(y)&&(t.views.delete(C),y.query._queryParams.loadsAllData()||c.push(y.query));else{const C=t.views.get(l);C&&(m=m.concat(vp(C,n,o)),xp(C)&&(t.views.delete(l),C.query._queryParams.loadsAllData()||c.push(C.query)))}return v&&!zr(t)&&c.push(new(Nw())(e._repo,e._path)),{removed:c,events:m}}function a3(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ca(t,e){let n=null;for(const o of t.views.values())n=n||Sw(o,e);return n}function l3(t,e){if(e._queryParams.loadsAllData())return ru(t);{const o=e._queryIdentifier;return t.views.get(o)}}function d3(t,e){return l3(t,e)!=null}function zr(t){return ru(t)!=null}function ru(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;function Ow(t){me(!Pc,"__referenceConstructor has already been defined"),Pc=t}function Pw(){return me(Pc,"Reference.ts has not been loaded"),Pc}let Fw=1;class Cp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new on(null),this.pendingWriteTree_=cw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bw(t,e,n,o,l){return Jv(t.pendingWriteTree_,e,n,o,l),l?sd(t,new xs(q_(),e,n)):[]}function Js(t,e,n=!1){const o=ew(t.pendingWriteTree_,e);if(tw(t.pendingWriteTree_,e)){let c=new on(null);return o.snap!=null?c=c.set(Mt(),!0):Si(o.children,m=>{c=c.set(new Zt(m),!0)}),sd(t,new Rc(o.path,c,n))}else return[]}function su(t,e,n){return sd(t,new xs(If(),e,n))}function kw(t,e,n){const o=on.fromObject(n);return sd(t,new Xl(If(),e,o))}function zw(t,e){return sd(t,new Yl(If(),e))}function Uw(t,e,n){const o=Of(t,n);if(o){const l=Pf(o),c=l.path,m=l.queryId,v=yi(c,e),C=new Yl(bf(m),v);return Ff(t,c,C)}else return[]}function g1(t,e,n,o,l=!1){const c=e._path,m=t.syncPointTree_.get(c);let v=[];if(m&&(e._queryIdentifier==="default"||d3(m,e))){const C=Dw(m,e,n,o);Rw(m)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const y=C.removed;if(v=C.events,!l){const N=y.findIndex(D=>D._queryParams.loadsAllData())!==-1,b=t.syncPointTree_.findOnPath(c,(D,V)=>zr(V));if(N&&!b){const D=t.syncPointTree_.subtree(c);if(!D.isEmpty()){const V=Vw(D);for(let X=0;X<V.length;++X){const j=V[X],ye=j.query,W=f3(t,j);t.listenProvider_.startListening(wl(ye),Fc(t,ye),W.hashFn,W.onComplete)}}}!b&&y.length>0&&!o&&(N?t.listenProvider_.stopListening(wl(e),null):y.forEach(D=>{const V=t.queryToTagMap.get(au(D));t.listenProvider_.stopListening(wl(D),V)}))}jw(t,y)}return v}function Hw(t,e,n,o){const l=Of(t,o);if(l!=null){const c=Pf(l),m=c.path,v=c.queryId,C=yi(m,e),y=new xs(bf(v),C,n);return Ff(t,m,y)}else return[]}function Ww(t,e,n,o){const l=Of(t,o);if(l){const c=Pf(l),m=c.path,v=c.queryId,C=yi(m,e),y=on.fromObject(n),N=new Xl(bf(v),C,y);return Ff(t,m,N)}else return[]}function Sp(t,e,n,o=!1){const l=e._path;let c=null,m=!1;t.syncPointTree_.foreachOnPath(l,(D,V)=>{const X=yi(D,l);c=c||ca(V,X),m=m||zr(V)});let v=t.syncPointTree_.get(l);v?(m=m||zr(v),c=c||ca(v,Mt())):(v=new Iw,t.syncPointTree_=t.syncPointTree_.set(l,v));let C;c!=null?C=!0:(C=!1,c=je.EMPTY_NODE,t.syncPointTree_.subtree(l).foreachChild((V,X)=>{const j=ca(X,Mt());j&&(c=c.updateImmediateChild(V,j))}));const y=d3(v,e);if(!y&&!e._queryParams.loadsAllData()){const D=au(e);me(!t.queryToTagMap.has(D),"View does not exist, but we have a tag");const V=Gw();t.queryToTagMap.set(D,V),t.tagToQueryMap.set(V,D)}const N=Nf(t.pendingWriteTree_,l);let b=Lw(v,e,n,N,c,C);if(!y&&!m&&!o){const D=l3(v,e);b=b.concat(Zw(t,e,D))}return b}function c3(t,e,n){const l=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(m,v)=>{const C=yi(m,e),y=ca(v,C);if(y)return y});return t3(l,e,c,n,!0)}function sd(t,e){return u3(e,t.syncPointTree_,null,Nf(t.pendingWriteTree_,Mt()))}function u3(t,e,n,o){if(Et(t.path))return h3(t,e,n,o);{const l=e.get(Mt());n==null&&l!=null&&(n=ca(l,Mt()));let c=[];const m=_t(t.path),v=t.operationForChild(m),C=e.children.get(m);if(C&&v){const y=n?n.getImmediateChild(m):null,N=n3(o,m);c=c.concat(u3(v,C,y,N))}return l&&(c=c.concat(Df(l,t,o,n))),c}}function h3(t,e,n,o){const l=e.get(Mt());n==null&&l!=null&&(n=ca(l,Mt()));let c=[];return e.children.inorderTraversal((m,v)=>{const C=n?n.getImmediateChild(m):null,y=n3(o,m),N=t.operationForChild(m);N&&(c=c.concat(h3(N,v,C,y)))}),l&&(c=c.concat(Df(l,t,o,n))),c}function f3(t,e){const n=e.query,o=Fc(t,n);return{hashFn:()=>(Cw(e)||je.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?Uw(t,n._path,o):zw(t,n._path);{const c=U8(l,n);return g1(t,n,null,c)}}}}function Fc(t,e){const n=au(e);return t.queryToTagMap.get(n)}function au(t){return t._path.toString()+"$"+t._queryIdentifier}function Of(t,e){return t.tagToQueryMap.get(e)}function Pf(t){const e=t.indexOf("$");return me(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Zt(t.substr(0,e))}}function Ff(t,e,n){const o=t.syncPointTree_.get(e);me(o,"Missing sync point for query tag that we're tracking");const l=Nf(t.pendingWriteTree_,e);return Df(o,n,l,null)}function Vw(t){return t.fold((e,n,o)=>{if(n&&zr(n))return[ru(n)];{let l=[];return n&&(l=a3(n)),Si(o,(c,m)=>{l=l.concat(m)}),l}})}function wl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Pw())(t._repo,t._path):t}function jw(t,e){for(let n=0;n<e.length;++n){const o=e[n];if(!o._queryParams.loadsAllData()){const l=au(o),c=t.queryToTagMap.get(l);t.queryToTagMap.delete(l),t.tagToQueryMap.delete(c)}}}function Gw(){return Fw++}function Zw(t,e,n){const o=e._path,l=Fc(t,e),c=f3(t,n),m=t.listenProvider_.startListening(wl(e),l,c.hashFn,c.onComplete),v=t.syncPointTree_.subtree(o);if(l)me(!zr(v.value),"If we're adding a query, it shouldn't be shadowed");else{const C=v.fold((y,N,b)=>{if(!Et(y)&&N&&zr(N))return[ru(N).query];{let D=[];return N&&(D=D.concat(a3(N).map(V=>V.query))),Si(b,(V,X)=>{D=D.concat(X)}),D}});for(let y=0;y<C.length;++y){const N=C[y];t.listenProvider_.stopListening(wl(N),Fc(t,N))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bf(n)}node(){return this.node_}}class kf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Rn(this.path_,e);return new kf(this.syncTree_,n)}node(){return c3(this.syncTree_,this.path_)}}const Yw=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ap=function(t,e,n){if(!t||typeof t!="object")return t;if(me(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Xw(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Qw(t[".sv"],e);me(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Xw=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:me(!1,"Unexpected server value: "+t)}},Qw=function(t,e,n){t.hasOwnProperty("increment")||me(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const o=t.increment;typeof o!="number"&&me(!1,"Unexpected increment value: "+o);const l=e.node();if(me(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return typeof m!="number"?o:m+o},Kw=function(t,e,n,o){return zf(e,new kf(n,t),o)},qw=function(t,e,n){return zf(t,new Bf(e),n)};function zf(t,e,n){const o=t.getPriority().val(),l=Ap(o,e.getImmediateChild(".priority"),n);let c;if(t.isLeafNode()){const m=t,v=Ap(m.getValue(),e,n);return v!==m.getValue()||l!==m.getPriority().val()?new Fn(v,ti(l)):t}else{const m=t;return c=m,l!==m.getPriority().val()&&(c=c.updatePriority(new Fn(l))),m.forEachChild(mn,(v,C)=>{const y=zf(C,e.getImmediateChild(v),n);y!==C&&(c=c.updateImmediateChild(v,y))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e="",n=null,o={children:{},childCount:0}){this.name=e,this.parent=n,this.node=o}}function Hf(t,e){let n=e instanceof Zt?e:new Zt(e),o=t,l=_t(n);for(;l!==null;){const c=Ea(o.node.children,l)||{children:{},childCount:0};o=new Uf(l,o,c),n=Kt(n),l=_t(n)}return o}function Ia(t){return t.node.value}function g3(t,e){t.node.value=e,p1(t)}function p3(t){return t.node.childCount>0}function $w(t){return Ia(t)===void 0&&!p3(t)}function lu(t,e){Si(t.node.children,(n,o)=>{e(new Uf(n,t,o))})}function m3(t,e,n,o){n&&!o&&e(t),lu(t,l=>{m3(l,e,!0,o)}),n&&o&&e(t)}function Jw(t,e,n){let o=n?t:t.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function ad(t){return new Zt(t.parent===null?t.name:ad(t.parent)+"/"+t.name)}function p1(t){t.parent!==null&&e6(t.parent,t.name,t)}function e6(t,e,n){const o=$w(n),l=nr(t.node.children,e);o&&l?(delete t.node.children[e],t.node.childCount--,p1(t)):!o&&!l&&(t.node.children[e]=n.node,t.node.childCount++,p1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=/[\[\].#$\/\u0000-\u001F\u007F]/,n6=/[\[\].#$\u0000-\u001F\u007F]/,Ju=10*1024*1024,_3=function(t){return typeof t=="string"&&t.length!==0&&!t6.test(t)},E3=function(t){return typeof t=="string"&&t.length!==0&&!n6.test(t)},i6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),E3(t)},y3=function(t,e,n){const o=n instanceof Zt?new yv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+rs(o));if(typeof e=="function")throw new Error(t+"contains a function "+rs(o)+" with contents = "+e.toString());if(y_(e))throw new Error(t+"contains "+e.toString()+" "+rs(o));if(typeof e=="string"&&e.length>Ju/3&&tu(e)>Ju)throw new Error(t+"contains a string greater than "+Ju+" utf8 bytes "+rs(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,c=!1;if(Si(e,(m,v)=>{if(m===".value")l=!0;else if(m!==".priority"&&m!==".sv"&&(c=!0,!_3(m)))throw new Error(t+" contains an invalid key ("+m+") "+rs(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xv(o,m),y3(t,v,o),vv(o)}),l&&c)throw new Error(t+' contains ".value" child '+rs(o)+" in addition to actual children.")}},x3=function(t,e,n,o){if(!(o&&n===void 0)&&!E3(n))throw new Error(d_(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},o6=function(t,e,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),x3(t,e,n,o)},r6=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_3(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!i6(n))throw new Error(d_(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function v3(t,e){let n=null;for(let o=0;o<e.length;o++){const l=e[o],c=l.getPath();n!==null&&!wf(c,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:c}),n.events.push(l)}n&&t.eventLists_.push(n)}function w3(t,e,n){v3(t,n),C3(t,o=>wf(o,e))}function Ts(t,e,n){v3(t,n),C3(t,o=>fo(o,e)||fo(e,o))}function C3(t,e){t.recursionDepth_++;let n=!0;for(let o=0;o<t.eventLists_.length;o++){const l=t.eventLists_[o];if(l){const c=l.path;e(c)?(a6(t.eventLists_[o]),t.eventLists_[o]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function a6(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const o=n.getEventRunner();hs&&ei("event: "+n.toString()),od(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="repo_interrupt",d6=25;class c6{constructor(e,n,o,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new s6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nc(),this.transactionQueueTree_=new Uf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function u6(t,e,n){if(t.stats_=xf(t.repoInfo_),t.forceRestClient_||j8())t.server_=new bc(t.repoInfo_,(o,l,c,m)=>{Tp(t,o,l,c,m)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ip(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zn(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}t.persistentConnection_=new Qo(t.repoInfo_,e,(o,l,c,m)=>{Tp(t,o,l,c,m)},o=>{Ip(t,o)},o=>{f6(t,o)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(o=>{t.server_.refreshAuthToken(o)}),t.appCheckProvider_.addTokenChangeListener(o=>{t.server_.refreshAppCheckToken(o.token)}),t.statsReporter_=Q8(t.repoInfo_,()=>new Yv(t.stats_,t.server_)),t.infoData_=new Wv,t.infoSyncTree_=new Cp({startListening:(o,l,c,m)=>{let v=[];const C=t.infoData_.getNode(o._path);return C.isEmpty()||(v=su(t.infoSyncTree_,o._path,C),setTimeout(()=>{m("ok")},0)),v},stopListening:()=>{}}),Wf(t,"connected",!1),t.serverSyncTree_=new Cp({startListening:(o,l,c,m)=>(t.server_.listen(o,c,l,(v,C)=>{const y=m(v,C);Ts(t.eventQueue_,o._path,y)}),[]),stopListening:(o,l)=>{t.server_.unlisten(o,l)}})}function h6(t){const n=t.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function S3(t){return Yw({timestamp:h6(t)})}function Tp(t,e,n,o,l){t.dataUpdateCount++;const c=new Zt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let m=[];if(l)if(o){const C=wc(n,y=>ti(y));m=Ww(t.serverSyncTree_,c,C,l)}else{const C=ti(n);m=Hw(t.serverSyncTree_,c,C,l)}else if(o){const C=wc(n,y=>ti(y));m=kw(t.serverSyncTree_,c,C)}else{const C=ti(n);m=su(t.serverSyncTree_,c,C)}let v=c;m.length>0&&(v=jf(t,c)),Ts(t.eventQueue_,v,m)}function Ip(t,e){Wf(t,"connected",e),e===!1&&p6(t)}function f6(t,e){Si(e,(n,o)=>{Wf(t,n,o)})}function Wf(t,e,n){const o=new Zt("/.info/"+e),l=ti(n);t.infoData_.updateSnapshot(o,l);const c=su(t.infoSyncTree_,o,l);Ts(t.eventQueue_,o,c)}function g6(t){return t.nextWriteId_++}function p6(t){A3(t,"onDisconnectEvents");const e=S3(t),n=Nc();l1(t.onDisconnect_,Mt(),(l,c)=>{const m=Kw(l,c,t.serverSyncTree_,e);K_(n,l,m)});let o=[];l1(n,Mt(),(l,c)=>{o=o.concat(su(t.serverSyncTree_,l,c));const m=x6(t,l);jf(t,m)}),t.onDisconnect_=Nc(),Ts(t.eventQueue_,Mt(),o)}function m6(t,e,n){let o;_t(e._path)===".info"?o=Sp(t.infoSyncTree_,e,n):o=Sp(t.serverSyncTree_,e,n),w3(t.eventQueue_,e._path,o)}function bp(t,e,n){let o;_t(e._path)===".info"?o=g1(t.infoSyncTree_,e,n):o=g1(t.serverSyncTree_,e,n),w3(t.eventQueue_,e._path,o)}function _6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(l6)}function A3(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ei(n,...e)}function T3(t,e,n){return c3(t.serverSyncTree_,e,n)||je.EMPTY_NODE}function Vf(t,e=t.transactionQueueTree_){if(e||du(t,e),Ia(e)){const n=b3(t,e);me(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&E6(t,ad(e),n)}else p3(e)&&lu(e,n=>{Vf(t,n)})}function E6(t,e,n){const o=n.map(y=>y.currentWriteId),l=T3(t,e,o);let c=l;const m=l.hash();for(let y=0;y<n.length;y++){const N=n[y];me(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const b=yi(e,N.path);c=c.updateChild(b,N.currentOutputSnapshotRaw)}const v=c.val(!0),C=e;t.server_.put(C.toString(),v,y=>{A3(t,"transaction put response",{path:C.toString(),status:y});let N=[];if(y==="ok"){const b=[];for(let D=0;D<n.length;D++)n[D].status=2,N=N.concat(Js(t.serverSyncTree_,n[D].currentWriteId)),n[D].onComplete&&b.push(()=>n[D].onComplete(null,!0,n[D].currentOutputSnapshotResolved)),n[D].unwatcher();du(t,Hf(t.transactionQueueTree_,e)),Vf(t,t.transactionQueueTree_),Ts(t.eventQueue_,e,N);for(let D=0;D<b.length;D++)od(b[D])}else{if(y==="datastale")for(let b=0;b<n.length;b++)n[b].status===3?n[b].status=4:n[b].status=0;else{ki("transaction at "+C.toString()+" failed: "+y);for(let b=0;b<n.length;b++)n[b].status=4,n[b].abortReason=y}jf(t,e)}},m)}function jf(t,e){const n=I3(t,e),o=ad(n),l=b3(t,n);return y6(t,l,o),o}function y6(t,e,n){if(e.length===0)return;const o=[];let l=[];const m=e.filter(v=>v.status===0).map(v=>v.currentWriteId);for(let v=0;v<e.length;v++){const C=e[v],y=yi(n,C.path);let N=!1,b;if(me(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),C.status===4)N=!0,b=C.abortReason,l=l.concat(Js(t.serverSyncTree_,C.currentWriteId,!0));else if(C.status===0)if(C.retryCount>=d6)N=!0,b="maxretry",l=l.concat(Js(t.serverSyncTree_,C.currentWriteId,!0));else{const D=T3(t,C.path,m);C.currentInputSnapshot=D;const V=e[v].update(D.val());if(V!==void 0){y3("transaction failed: Data returned ",V,C.path);let X=ti(V);typeof V=="object"&&V!=null&&nr(V,".priority")||(X=X.updatePriority(D.getPriority()));const ye=C.currentWriteId,W=S3(t),F=qw(X,D,W);C.currentOutputSnapshotRaw=X,C.currentOutputSnapshotResolved=F,C.currentWriteId=g6(t),m.splice(m.indexOf(ye),1),l=l.concat(Bw(t.serverSyncTree_,C.path,F,C.currentWriteId,C.applyLocally)),l=l.concat(Js(t.serverSyncTree_,ye,!0))}else N=!0,b="nodata",l=l.concat(Js(t.serverSyncTree_,C.currentWriteId,!0))}Ts(t.eventQueue_,n,l),l=[],N&&(e[v].status=2,function(D){setTimeout(D,Math.floor(0))}(e[v].unwatcher),e[v].onComplete&&(b==="nodata"?o.push(()=>e[v].onComplete(null,!1,e[v].currentInputSnapshot)):o.push(()=>e[v].onComplete(new Error(b),!1,null))))}du(t,t.transactionQueueTree_);for(let v=0;v<o.length;v++)od(o[v]);Vf(t,t.transactionQueueTree_)}function I3(t,e){let n,o=t.transactionQueueTree_;for(n=_t(e);n!==null&&Ia(o)===void 0;)o=Hf(o,n),e=Kt(e),n=_t(e);return o}function b3(t,e){const n=[];return N3(t,e,n),n.sort((o,l)=>o.order-l.order),n}function N3(t,e,n){const o=Ia(e);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);lu(e,l=>{N3(t,l,n)})}function du(t,e){const n=Ia(e);if(n){let o=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[o]=n[l],o++);n.length=o,g3(e,n.length>0?n:void 0)}lu(e,o=>{du(t,o)})}function x6(t,e){const n=ad(I3(t,e)),o=Hf(t.transactionQueueTree_,e);return Jw(o,l=>{eh(t,l)}),eh(t,o),m3(o,l=>{eh(t,l)}),n}function eh(t,e){const n=Ia(e);if(n){const o=[];let l=[],c=-1;for(let m=0;m<n.length;m++)n[m].status===3||(n[m].status===1?(me(c===m-1,"All SENT items should be at beginning of queue."),c=m,n[m].status=3,n[m].abortReason="set"):(me(n[m].status===0,"Unexpected transaction status in abort"),n[m].unwatcher(),l=l.concat(Js(t.serverSyncTree_,n[m].currentWriteId,!0)),n[m].onComplete&&o.push(n[m].onComplete.bind(null,new Error("set"),!1,null))));c===-1?g3(e,void 0):n.length=c+1,Ts(t.eventQueue_,ad(e),l);for(let m=0;m<o.length;m++)od(o[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){let e="";const n=t.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function w6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ki(`Invalid query segment '${n}' in query '${t}'`)}return e}const Np=function(t,e){const n=C6(t),o=n.namespace;n.domain==="firebase.com"&&er(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&er("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||P8();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new M_(n.host,n.secure,o,l,e,"",o!==n.subdomain),path:new Zt(n.pathString)}},C6=function(t){let e="",n="",o="",l="",c="",m=!0,v="https",C=443;if(typeof t=="string"){let y=t.indexOf("//");y>=0&&(v=t.substring(0,y-1),t=t.substring(y+2));let N=t.indexOf("/");N===-1&&(N=t.length);let b=t.indexOf("?");b===-1&&(b=t.length),e=t.substring(0,Math.min(N,b)),N<b&&(l=v6(t.substring(N,b)));const D=w6(t.substring(Math.min(t.length,b)));y=e.indexOf(":"),y>=0?(m=v==="https"||v==="wss",C=parseInt(e.substring(y+1),10)):y=e.length;const V=e.slice(0,y);if(V.toLowerCase()==="localhost")n="localhost";else if(V.split(".").length<=2)n=V;else{const X=e.indexOf(".");o=e.substring(0,X).toLowerCase(),n=e.substring(X+1),c=o}"ns"in D&&(c=D.ns)}return{host:e,port:C,domain:n,subdomain:o,secure:m,scheme:v,pathString:l,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,o,l){this.eventType=e,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+zn(this.snapshot.exportVal())}}class M3{constructor(e,n,o){this.eventRegistration=e,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return me(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,o,l){this._repo=e,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return Et(this._path)?null:U_(this._path)}get ref(){return new ir(this._repo,this._path)}get _queryIdentifier(){const e=hp(this._queryParams),n=Ef(e);return n==="{}"?"default":n}get _queryObject(){return hp(this._queryParams)}isEqual(e){if(e=nu(e),!(e instanceof Gf))return!1;const n=this._repo===e._repo,o=wf(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ev(this._path)}}class ir extends Gf{constructor(e,n){super(e,n,new Tf,!1)}get parent(){const e=W_(this._path);return e===null?null:new ir(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ql{constructor(e,n,o){this._node=e,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Zt(e),o=Bc(this.ref,e);return new Ql(this._node.getChild(n),o,mn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>e(new Ql(l,Bc(this.ref,o),mn)))}hasChild(e){const n=new Zt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function il(t,e){return t=nu(t),t._checkNotDeleted("ref"),e!==void 0?Bc(t._root,e):t._root}function Bc(t,e){return t=nu(t),_t(t._path)===null?o6("child","path",e,!1):x3("child","path",e,!1),new ir(t._repo,Rn(t._path,e))}class Zf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const o=n._queryParams.getIndex();return new R3("value",this,new Ql(e.snapshotNode,new ir(n._repo,n._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new M3(this,e,n):null}matches(e){return e instanceof Zf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Yf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new M3(this,e,n):null}createEvent(e,n){me(e.childName!=null,"Child events should have a childName.");const o=Bc(new ir(n._repo,n._path),e.childName),l=n._queryParams.getIndex();return new R3(e.type,this,new Ql(e.snapshotNode,o,l),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Yf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function A6(t,e,n,o,l){let c;if(typeof o=="object"&&(c=void 0,l=o),typeof o=="function"&&(c=o),l&&l.onlyOnce){const C=n,y=(N,b)=>{bp(t._repo,t,v),C(N,b)};y.userCallback=n.userCallback,y.context=n.context,n=y}const m=new S6(n,c||void 0),v=e==="value"?new Zf(m):new Yf(e,m);return m6(t._repo,t,v),()=>bp(t._repo,t,v)}function ol(t,e,n,o){return A6(t,"value",e,n,o)}bw(ir);Ow(ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="FIREBASE_DATABASE_EMULATOR_HOST",m1={};let I6=!1;function b6(t,e,n,o){t.repoInfo_=new M_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),o&&(t.authTokenProvider_=o)}function N6(t,e,n,o,l){let c=o||t.options.databaseURL;c===void 0&&(t.options.projectId||er("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ei("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let m=Np(c,l),v=m.repoInfo,C,y;typeof process<"u"&&Xg&&(y=Xg[T6]),y?(C=!0,c=`http://${y}?ns=${v.namespace}`,m=Np(c,l),v=m.repoInfo):C=!m.repoInfo.secure;const N=l&&C?new la(la.OWNER):new Z8(t.name,t.options,e);r6("Invalid Firebase Database URL",m),Et(m.path)||er("Database URL must point to the root of a Firebase Database (not including a child path).");const b=M6(v,t,N,new G8(t.name,n));return new L6(b,t)}function R6(t,e){const n=m1[e];(!n||n[t.key]!==t)&&er(`Database ${e}(${t.repoInfo_}) has already been deleted.`),_6(t),delete n[t.key]}function M6(t,e,n,o){let l=m1[e.name];l||(l={},m1[e.name]=l);let c=l[t.toURLString()];return c&&er("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new c6(t,I6,n,o),l[t.toURLString()]=c,c}class L6{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(u6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ir(this._repo,Mt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&er("Cannot call "+e+" on a deleted database.")}}function D6(t=E8(),e){const n=g8(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const o=sx("database");o&&O6(n,...o)}return n}function O6(t,e,n,o={}){t=nu(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&er("Cannot call useEmulator() after instance has already been initialized.");const l=t._repoInternal;let c;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&er('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new la(la.OWNER);else if(o.mockUserToken){const m=typeof o.mockUserToken=="string"?o.mockUserToken:ax(o.mockUserToken,t.app.options.projectId);c=new la(m)}b6(l,e,n,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){R8(_8),Sc(new Hl("database",(e,{instanceIdentifier:n})=>{const o=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return N6(o,l,c,n)},"PUBLIC").setMultipleInstances(!0)),sa(Qg,Kg,t),sa(Qg,Kg,"esm2017")}Qo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Qo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};P6();const F6={apiKey:"AIzaSyBwM78rh1iYKCnJlW1-oYwB4dZbrRFdz-c",authDomain:"roomorientationdata.firebaseapp.com",databaseURL:"https://roomorientationdata-default-rtdb.firebaseio.com",projectId:"roomorientationdata",storageBucket:"roomorientationdata.appspot.com",messagingSenderId:"99942721154",appId:"1:99942721154:web:18939bfc42074d9316769b"},B6=f_(F6),rl=D6(B6);function L3({style:t}){const[e,n]=Gt.useState(""),[o,l]=Gt.useState(""),[c,m]=Gt.useState(!1),[v,C]=Gt.useState(!1),y=Gt.useRef(null),[N,b]=Gt.useState(!1),[D,V]=Gt.useState(!1),[X,j]=Gt.useState(!1),[ye,W]=Gt.useState(!1),[F,B]=Gt.useState(!1),[J,Ee]=Gt.useState(!1),[de,K]=Gt.useState(!1),[ge,ne]=Gt.useState(!1),[Pe,$e]=Gt.useState(""),[Ae,ot]=Gt.useState(!1);Gt.useState(!1);const[At,ee]=Gt.useState([]),[ct,ze]=Gt.useState([]),te=k=>{let re=[];const we=["BRS","Science","EDS","Main","PE","CHTM"],be=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"];return new Promise((Ge,wt)=>{let Je=[],De=["<strong> ELEVATOR </strong>","Facility","Drafting Room","Classroom","CR(Women)","CR(Men)","Computer Room","Store","ComputerLab","ComputerRoom","Property Storage Room","StockRoom","Room"];we.forEach(le=>{const Wt=il(rl,le);Je.push(new Promise((_e,at)=>{ol(Wt,Me=>{const Se=Me.val();be.forEach(Ye=>{for(let Xe=1;Xe<=35;Xe++)Se&&Se[Ye]&&Se[Ye][Xe]&&(Se[Ye][Xe].cat!=null&&Se[Ye][Xe].cat!=""&&!De.includes(Se[Ye][Xe].cat)&&Se[Ye][Xe].cat.toLowerCase().includes(k.toLowerCase())&&re.push(Se[Ye][Xe].cat),Se[Ye][Xe].roomID!=null&&Se[Ye][Xe].roomID!=""&&!De.includes(Se[Ye][Xe].roomID)&&Se[Ye][Xe].roomID.toLowerCase().includes(k.toLowerCase())&&re.push(Se[Ye][Xe].roomID))}),_e()},Me=>{at(Me)})}))}),Promise.all(Je).then(()=>{console.log(re),Ge(re)}).catch(le=>{wt(le)})})},Fe=async()=>{try{const k=await te(e);ee(k)}catch(k){console.error("Error fetching suggestions:",k),ee([])}},ce=async()=>{try{const k=await te(o);ze(k)}catch(k){console.error("Error fetching suggestions:",k),ze([])}},He=()=>{console.log("tangaga"),event.preventDefault();const k=new u5("reader",{qrbox:{width:300,height:300},fps:20}),re=be=>{console.log("QR Code Value Detected:",be),n(be),ot(!1),k.clear()},we=be=>{console.error(be)};Ae?(k.clear(),ot(!1)):(ot(!0),k.render(re,we))},Ue=k=>{const{value:re}=k.target;$e(re)},Pt=()=>{b(!N),V(!N),ye===!0&&(W(!ye),Ee(!ye)),F===!0&&(B(!F),j(!X))},Ze=()=>{W(!ye),Ee(!ye),N===!0&&(b(!N),V(!N)),F===!0&&(B(!F),j(!X))},ut=()=>{B(!F),j(!X),N===!0&&(b(!N),V(!N)),ye===!0&&(W(!ye),Ee(!ye))};let ie=[],ln;const tt=Gt.useRef(null);Gt.useEffect(()=>{ce(),Fe(),tt.current=$n.map("map",{center:[0,-.09],zoom:13,zoomControl:!1,crs:$n.CRS.EPSG3395}),tt.current.setView([10,10],3);const k=()=>{m(!1),C(!1),Po(!1)},re=we=>{we.key==="Enter"&&(we.preventDefault(),y.current.blur())};return document.addEventListener("keydown",re),document.body.addEventListener("click",k),()=>{tt.current.remove(),document.body.removeEventListener("click",k),document.removeEventListener("keydown",re)}},[]);const rt=k=>{let re=[{url:k,bounds:k==="main2ndFloorPlan"||k==="main5thFloorPlan"?[[0,0],[12,15]]:[[0,0],[10,10]]}];tt.current.eachLayer(function(we){we instanceof $n.ImageOverlay&&tt.current.removeLayer(we)}),re.forEach(function(we){$n.imageOverlay(we.url,we.bounds).addTo(tt.current)})};function eo(k){k==="science2ndFloor"?rt(p5):k==="science3rdFloor"?rt(m5):k==="main4thFloor"?rt(b5):k==="main5thFloor"?rt(N5):k==="main6thFloor"?rt(R5):k==="main3rdFloor"?rt(M5):k==="main2ndFloor"?rt(L5):k==="mainGroundFloor"?rt(D5):k==="science4thFloor"?rt(_5):k==="science5thFloor"?rt(E5):k==="science6thFloor"?rt(y5):k==="science1stFloor"?rt(g5):k==="scienceGroundFloor"?rt(f5):k==="CHTMEDS4thFloor"?rt(x5):k==="CHTMEDS5thFloor"?rt(v5):k==="CHTMEDS6thFloor"?rt(w5):k==="CHTMEDS7thFloor"?rt(C5):k==="CHTMEDS8thFloor"?rt(S5):k==="CHTMEDS9thFloor"?rt(A5):k==="EDS3rdFloor"?rt(T5):k==="CHTM10thFloor"?rt(I5):k==="BRS1stFloor"?rt(P5):k==="BRS2ndFloor"?rt(F5):k==="BRS3rdFloor"?rt(B5):k==="BRS4thFloor"?rt(k5):k==="BRS5thFloor"?rt(z5):k==="BRS6thFloor"?rt(U5):k==="BRS7thFloor"?rt(H5):k==="BRS8thFloor"?rt(W5):k==="BRS9thFloor"?rt(V5):k==="BRS10thFloor"&&rt(j5)}const nt=k=>{Ai(),gt(),ii(k),pe(k),eo(k),Te(ie)},Ai=()=>{tt.current.eachLayer(k=>{k instanceof $n.Marker&&tt.current.removeLayer(k)})},gt=()=>{tt.current.eachLayer(k=>{k instanceof $n.Polyline&&tt.current.removeLayer(k)})};let fi=[];const ii=k=>{fi=Z5(k),yo(tt.current,fi)},yo=(k,re)=>{re.forEach(we=>{dn(we,k)})},dn=(k,re)=>{if(!re){console.error("Map not defined. Cannot add marker.");return}function we(Je,De){if(De==="BRS")switch(Je){case 1:nt("BRS1stFloor");break;case 2:nt("BRS2ndFloor");break;case 3:nt("BRS3rdFloor");break;case 4:nt("BRS4thFloor");break;case 5:nt("BRS5thFloor");break;case 6:nt("BRS6thFloor");break;case 7:nt("BRS7thFloor");break;case 8:nt("BRS8thFloor");break;case 9:nt("BRS9thFloor");break;case 10:nt("BRS10thFloor");break}else if(De==="EDS"||De==="CHTM")switch(Je){case 2:nt("main2ndFloor");break;case 3:nt("EDS3rdFloor");break;case 4:nt("CHTMEDS4thFloor");break;case 5:nt("CHTMEDS5thFloor");break;case 6:nt("CHTMEDS6thFloor");break;case 7:nt("CHTMEDS7thFloor");break;case 8:nt("CHTMEDS8thFloor");break;case 9:nt("CHTMEDS9thFloor");break;case 10:nt("CHTM10thFloor");break}}if(Object.prototype.hasOwnProperty.call(k,"label")){const Je=$n.marker([k.lat,k.lon]).addTo(re);let De;if(k.label==="leaveButton"&&(k.direction==="up"?De=Y5:k.direction==="down"?De=X5:De=O5,Je.bindPopup(`Node ${k.id}`),Je.setIcon($n.icon({iconUrl:De,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]})),Je.on("click",()=>{Ai(),nt(k.destination);let Se=(Ye=>fi.find(Xe=>Xe.id===Ye))(k.desti);tt.current.flyTo([Se.lat,Se.lon],8,{duration:1,easeLinearity:.5})})),k.label==="classroomLogo"){const Me="https://www.uc-bcf.edu.ph/college/of/engineering-and-architecture",Se="https://www.uc-bcf.edu.ph/college/of/teacher-education",Ye="https://www.uc-bcf.edu.ph/college/of/hospitality-and-tourism-management",Xe="https://www.uc-bcf.edu.ph/college/of/law",Sn="https://www.uc-bcf.edu.ph/college/of/information-technology-and-computer-science",Qe="https://www.uc-bcf.edu.ph/college/of/accountancy",pt="https://www.uc-bcf.edu.ph/college/of/business-administration",Na="https://www.uc-bcf.edu.ph/college/of/arts-and-sciences",gi="https://www.uc-bcf.edu.ph/college/of/nursing";let Lt="";k.node===1?Lt=Me:k.node===5?Lt=Se:k.node===1445?Lt=Ye:k.node===245?Lt=Xe:k.node===758?Lt=Sn:k.node===804?Lt=Qe:k.node===1448?Lt=pt:k.node===1109?Lt=Na:k.node===1170&&(Lt=gi);let Ut=`<iframe src="${Lt}" width="250" height="300" style="overflow-x: auto; overflow-y: hidden; zoom: 1; margin: 100;"></iframe>`;Lt!=""&&Je.bindPopup(Ut,{maxWidth:300,maxHeight:200}),Je.setIcon($n.icon({iconUrl:h5,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}))}if(k.label==="elevator"){Je.bindPopup(`Node ${k.id}`),Je.setIcon($n.icon({iconUrl:yg,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}));let Me;if(k.elevatorBuilding==="BRS"?Me=[{id:1,node:143},{id:2,node:113},{id:3,node:166},{id:4,node:195},{id:5,node:224},{id:6,node:239},{id:7,node:264},{id:8,node:289},{id:9,node:314},{id:10,node:1046}]:k.elevatorBuilding==="EDS"?Me=[{id:2,node:864},{id:3,node:1234},{id:4,node:1116},{id:5,node:1165},{id:6,node:1276},{id:7,node:1346},{id:8,node:1419},{id:9,node:1506}]:k.elevatorBuilding==="CHTM"&&(Me=[{id:4,node:1142},{id:5,node:1198},{id:6,node:1290},{id:7,node:1370},{id:8,node:1446},{id:9,node:1521},{id:10,node:1604}]),ie.includes(k.id)){let Se,Ye;for(let Qe=0;Qe<ie.length;Qe++)for(let pt=0;pt<Me.length;pt++)ie[Qe]===Me[pt].node&&(Se=Me[pt].id);console.log(ie);let Xe=!1;for(let Qe=0;Qe<ie.length;Qe++){for(let pt=0;pt<Me.length;pt++)if(ie[Qe]===Me[pt].node){Xe=!0,Ye=Me[pt].id;break}if(Xe)break}let Sn=document.createElement("div");for(let Qe=Me[0].id;Qe<=Me[Me.length-1].id;Qe++){let pt=document.createElement("button");pt.textContent=Qe,pt.addEventListener("click",()=>{we(Qe,k.elevatorBuilding)}),Qe===Ye&&(pt.style.border="none"),Qe===Se&&(pt.style.backgroundColor="red"),Sn.appendChild(pt)}Je.getPopup().setContent(Sn),Je.openPopup()}else Je.on("click",()=>{let Se,Ye;for(let Qe=0;Qe<ie.length;Qe++)for(let pt=0;pt<Me.length;pt++)ie[Qe]===Me[pt].node&&(Se=Me[pt].id);console.log(ie);let Xe=!1;for(let Qe=0;Qe<ie.length;Qe++){for(let pt=0;pt<Me.length;pt++)if(ie[Qe]===Me[pt].node){Xe=!0,Ye=Me[pt].id;break}if(Xe)break}let Sn=document.createElement("div");for(let Qe=Me[0].id;Qe<=Me[Me.length-1].id;Qe++){let pt=document.createElement("button");pt.textContent=Qe,pt.addEventListener("click",()=>{we(Qe,k.elevatorBuilding)}),Qe===Ye&&(pt.style.border="none"),Qe===Se&&(pt.style.backgroundColor="red"),Sn.appendChild(pt)}Je.getPopup().setContent(Sn),Je.openPopup()})}let le="Your Current Location: ",Wt="Your Destination: ",_e=ie[0],at=ie[ie.length-1];k.id===_e&&Je.bindPopup(`<strong>${le}</strong> Room: ${k.roomID}`),k.id===at&&(Je.bindPopup(`<strong>${Wt}</strong> Room: ${k.roomID}`),Je.openPopup())}const be=(Je,De,le,Wt)=>new Promise((_e,at)=>{if(le==="roomID"){const Me=il(rl,Je);ol(Me,Se=>{const Ye=Se.val();for(let Xe=1;Xe<=35;Xe++)if(Ye&&Ye[De]&&Ye[De].length>0&&Ye[De][Xe].node===Wt){const Sn=Ye[De][Xe].roomID;_e(Sn)}})}else at("Type is not 'roomID'")}),Ge=(Je,De,le,Wt)=>new Promise((_e,at)=>{if(le==="roomID"){const Me=il(rl,Je);ol(Me,Se=>{const Ye=Se.val();for(let Xe=1;Xe<=35;Xe++)if(Ye&&Ye[De]&&Ye[De].length>0&&Ye[De][Xe].node===Wt){const Sn=Ye[De][Xe].cat;_e(Sn)}})}else at("Type is not 'roomID'")});if(Object.prototype.hasOwnProperty.call(k,"title")){var wt=$n.latLng(k.lat,k.lon);Ge(k.building,k.floor,"roomID",k.node).then(Je=>{be(k.building,k.floor,"roomID",k.node).then(De=>{Je===""?$n.marker(wt,{icon:$n.divIcon({html:`<strong> ${Je} </strong> ${De}`,className:"text-below-marker"})}).addTo(re):$n.marker(wt,{icon:$n.divIcon({html:`<strong> ${Je}: </strong> ${De}`,className:"text-below-marker"})}).addTo(re)}).catch(De=>{})}).catch(Je=>{})}Lo(ie,fi)},Tt=(k,re)=>{for(let we=0;we<k.length;we++)for(let be=0;be<re.length;be++)if(k[we]===re[be].id)return console.log("ehe:",k[we]),re[be].id},st=k=>fi.find(re=>re.id===k),Lo=(k,re)=>{const we=st(Tt(k,re));we&&tt.current.flyTo([we.lat,we.lon],8,{duration:1,easeLinearity:.5})},Te=k=>{for(let re=0;re<k.length-1;re++){const we=st(k[re]),be=st(k[re+1]);we&&be&&Do(tt.current,we,be)}},Do=(k,re,we)=>{const be=[[re.lat,re.lon],[we.lat,we.lon]];$n.polyline(be,{weight:"4",color:"red"}).addTo(k)},Vr=k=>{const{value:re}=k.target;n(re),m(re.trim().length>0)},Ti=k=>{const{value:re}=k.target;l(re),C(re.trim().length>0)},or=(k,re)=>{re?(n(k),m(!1)):(l(k),C(!1))},Hn=k=>{k.preventDefault();const re=be=>new Promise((Ge,wt)=>{const Je=["BRS","Science","EDS","Main","PE","CHTM"];for(let De=0;De<Je.length;De++){const le=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"],Wt=il(rl,Je[De]);ol(Wt,_e=>{const at=_e.val();for(let Me=0;Me<le.length;Me++)for(let Se=1;Se<=35;Se++)if(at&&at[le[Me]]&&at[le[Me]][Se]&&(at[le[Me]][Se].roomID.toLowerCase()===be.toLowerCase()||at[le[Me]][Se].roomID.toUpperCase()===be.toUpperCase()||at[le[Me]][Se].cat.toLowerCase()===be.toLowerCase()||at[le[Me]][Se].cat.toUpperCase()===be.toUpperCase())){let Ye=at[le[Me]][Se].node;console.log("Node: ",at[le[Me]][Se].node,"Cat: ",at[le[Me]][Se].cat),Ge(Ye);return}},_e=>{})}Ge(!1)}),we=be=>new Promise((Ge,wt)=>{const Je=["BRS","Science","EDS","Main","PE","CHTM"];for(let De=0;De<Je.length;De++){const le=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"],Wt=il(rl,Je[De]);ol(Wt,_e=>{const at=_e.val();for(let Me=0;Me<le.length;Me++)for(let Se=1;Se<=35;Se++)if(at&&at[le[Me]]&&at[le[Me]][Se]&&(at[le[Me]][Se].roomID.toLowerCase()===be.toLowerCase()||at[le[Me]][Se].roomID.toUpperCase()===be.toUpperCase()||at[le[Me]][Se].cat.toLowerCase()===be.toLowerCase()||at[le[Me]][Se].cat.toUpperCase()===be.toUpperCase())){at[le[Me]][Se].node,console.log("Node: ",at[le[Me]][Se].node,"Cat: ",at[le[Me]][Se].cat),Ge(Je[De]);return}},_e=>{})}Ge(!1)});de&&(console.log("EEEELLLLEVVAATTTOOORR:",J),e!=""&&o!=""?re(e).then(be=>{be===!1&&rr(),re(o).then(Ge=>{console.log("Det",Ge),Ge===!1&&Zr(),(J||D||X)===!1&&yt(),Ge&&be&&(J||D||X)&&(ie=xg("enterDestination",String(be),String(Ge),N,J),ln=vg("enterDestination",String(be),String(Ge),N,J),nt(ln))})}):(e===""&&bi(),o===""&&Is())),ge&&((Pe!="Select Facility"||Pe==="")&&e!=""?re(e).then(be=>{be===!1&&rr(),we(e).then(Ge=>{console.log("GAAGGAAGAGGAGGA",Pe),be&&(ie=xg("enterFindFacility",be,Pe,N,J,Ge),ln=vg("enterFindFacility",be,Pe,N,J,Ge),nt(ln))})}):(e===""&&bi(),(Pe==="Select Facility"||Pe==="")&&bs(),console.log(Pe)))},jr=At.filter(k=>k.toLowerCase().indexOf(e.toLowerCase())!==-1),Ii=ct.filter(k=>k.toLowerCase().indexOf(o.toLowerCase())!==-1),[Cn,Gr]=Gt.useState(""),Oo=k=>{const{value:re}=k.target;Gr(re),re==="Enter Destination"?(K(!0),ne(!1)):(K(!1),ne(!0))},[ba,Be]=Gt.useState(""),pe=k=>{k=="science2ndFloor"?Be("Science Building 2nd Floor, PE Building 1st Floor"):k=="science3rdFloor"?Be("Science Building 3rd Floor, PE Building 3rd Floor"):k=="science4thFloor"?Be("Science Building 4th Floor, PE Building 4th Floor"):k=="science5thFloor"?Be("Science Building 5th Floor, PE Building 5th Floor"):k=="science6thFloor"?Be("Science Building 6th Floor, PE Building 6th Floor"):k=="CHTMEDS4thFloor"?Be("EDS Building 4th Floor, CHTM Building 4th Floor"):k=="CHTMEDS5thFloor"?Be("EDS Building 5th Floor, CHTM Building 5th Floor"):k=="CHTMEDS6thFloor"?Be("EDS Building 6th Floor, CHTM Building 6th Floor"):k=="CHTMEDS7thFloor"?Be("EDS Building 7th Floor, CHTM Building 7th Floor"):k=="CHTMEDS8thFloor"?Be("EDS Building 8th Floor, CHTM Building 8th Floor"):k=="CHTMEDS9thFloor"?Be("EDS Building 9th Floor, CHTM Building 9th Floor"):k=="EDS3rdFloor"?Be("EDS Building 3rd Floor"):k=="CHTM10thFloor"?Be("CHTM Building 10th Floor"):k=="main4thFloor"?Be("Main Building 4th Floor"):k=="main5thFloor"?Be("Main Building 5th Floor"):k=="main6thFloor"?Be("Main Building 6th Floor"):k=="main3rdFloor"?Be("Main Building 3rd Floor"):k=="mainGroundFloor"?Be("Main Building Ground Floor"):k=="main2ndFloor"?Be("Main Building 2nd Floor, EDS Building 2nd Floor"):k=="science1stFloor"?Be("Science Building 1st Floor, PE Building Ground Floor"):k=="scienceGroundFloor"?Be("Science Building Ground Floor"):k=="BRS1stFloor"?Be("BRS Building 1st Floor"):k=="BRS2ndFloor"?Be("BRS Building 2nd Floor"):k=="BRS3rdFloor"?Be("BRS Building 3rd Floor"):k=="BRS4thFloor"?Be("BRS Building 4th Floor"):k=="BRS5thFloor"?Be("BRS Building 5th Floor"):k=="BRS6thFloor"?Be("BRS Building 6th Floor"):k=="BRS7thFloor"?Be("BRS Building 7th Floor"):k=="BRS8thFloor"?Be("BRS Building 8th Floor"):k=="BRS9thFloor"?Be("BRS Building 9th Floor"):k=="BRS10thFloor"&&Be("BRS Building 10th Floor")},[$t,Rt]=Gt.useState(!1),[Ft,Po]=Gt.useState(!0),Zr=()=>{var k=document.createElement("div");k.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var we=document.createElement("br"),be=document.createElement("button");be.textContent="Okay",be.className="exit-buttons",be.addEventListener("click",function(){k.style.display="none"});var Ge=document.createElement("h2");Ge.textContent=`Your destination "${o}" does not exist on the map`,Ge.className="errorHead",re.appendChild(Ge);var wt=document.createElement("text");wt.className="errorBody",wt.innerHTML="Enter your destination exactly as it appears in the suggestion box. Disregard any locations not listed in the suggestion box.",re.appendChild(wt),re.appendChild(we),re.appendChild(be),k.appendChild(re),document.body.appendChild(k)},rr=()=>{var k=document.createElement("div");k.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var we=document.createElement("button"),be=document.createElement("br");we.textContent="Okay",we.className="exit-buttons",we.addEventListener("click",function(){k.style.display="none"});var Ge=document.createElement("h2");Ge.textContent=`Your current location "${e}" does not exist on the map`,Ge.className="errorHead",re.appendChild(Ge);var wt=document.createElement("text");wt.innerHTML="Enter your current location exactly as it appears in the suggestion box. Disregard any locations not listed in the suggestion box.",re.appendChild(wt),re.appendChild(be),re.appendChild(we),k.appendChild(re),document.body.appendChild(k)},yt=()=>{var k=document.createElement("div");k.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var we=document.createElement("button"),be=document.createElement("br");we.textContent="Okay",we.className="exit-buttons",we.addEventListener("click",function(){k.style.display="none"});var Ge=document.createElement("h2");Ge.textContent="Please Select your Path",Ge.className="errorHead",re.appendChild(Ge);var wt=document.createElement("text");wt.innerHTML="Please choose your path above: Default Route, Elevator, Emergency Exit",re.appendChild(wt),re.appendChild(be),re.appendChild(we),k.appendChild(re),document.body.appendChild(k)},bi=()=>{var k=document.createElement("div");k.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var we=document.createElement("button"),be=document.createElement("br");we.textContent="Okay",we.className="exit-buttons",we.addEventListener("click",function(){k.style.display="none"});var Ge=document.createElement("h1");Ge.textContent="No Current Location",Ge.className="errorHead",re.appendChild(Ge);var wt=document.createElement("text");wt.innerHTML="Please fill up your current location.",re.appendChild(wt),re.appendChild(be),re.appendChild(we),k.appendChild(re),document.body.appendChild(k)},Is=()=>{var k=document.createElement("div");k.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var we=document.createElement("button"),be=document.createElement("br");we.textContent="Okay",we.className="exit-buttons",we.addEventListener("click",function(){k.style.display="none"});var Ge=document.createElement("h2");Ge.textContent="No Destination Entered",Ge.className="errorHead",re.appendChild(Ge);var wt=document.createElement("text");wt.innerHTML="Please enter your destination.",re.appendChild(wt),re.appendChild(be),re.appendChild(we),k.appendChild(re),document.body.appendChild(k)},bs=()=>{var k=document.createElement("div");k.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var we=document.createElement("button"),be=document.createElement("br");we.textContent="Okay",we.className="exit-buttons",we.addEventListener("click",function(){k.style.display="none"});var Ge=document.createElement("h1");Ge.textContent="No Facility",Ge.className="errorHead",re.appendChild(Ge);var wt=document.createElement("text");wt.innerHTML="Please select a facility.",re.appendChild(wt),re.appendChild(be),re.appendChild(we),k.appendChild(re),document.body.appendChild(k)},Gn=()=>{Rt(!$t)},sr=k=>{k.key==="Enter"&&document.getElementById("submitButton").click()};return Re.jsxs("div",{style:t,ref:y,children:[Re.jsx("div",{children:$t&&Re.jsx("div",{className:"popup-container",children:Re.jsxs("div",{className:"popup-content",children:[Re.jsx("span",{className:"exit-button",onClick:Gn,children:"X"}),Re.jsx("img",{src:Q5,className:"ins",style:{},alt:"Placeholder Image"}),Re.jsx("img",{src:K5,className:"ins",style:{},alt:"Placeholder Image"})]})})}),Re.jsx("div",{id:"reader",style:{display:Ae?"block":"none"}}),Re.jsx("div",{id:"result"}),Re.jsxs("div",{className:"sticky-div",children:[Re.jsx("div",{children:Re.jsx("button",{onClick:Gn,className:"direction",children:"Instructions/Legends"})}),Re.jsx("div",{children:Re.jsxs("select",{value:Cn,onChange:Oo,className:"pickButton",children:[Re.jsx("option",{defaultValue:"",children:"Choose Destination"}),Re.jsx("option",{value:"Enter Destination",children:"Enter Destination"}),Re.jsx("option",{value:"Find Closest Facility",children:"Find Closest Facility/Exit"})]})}),Re.jsx("div",{style:{display:de||ge?"block":"none"},children:Re.jsx("form",{children:Re.jsxs("div",{style:{display:"flex",borderBottom:"4px solid #0c380c"},children:[Re.jsxs("span",{style:{flex:"70%",background:"#0c380c"},children:[Re.jsxs("div",{style:{display:"flex"},children:[Re.jsx("div",{style:{flex:"100%"},children:Re.jsx("label",{children:Re.jsx("input",{onKeyDown:sr,className:"InputBox",placeholder:"Enter Your Current Location",type:"text",name:"currentPost",value:e,onChange:Vr})})}),Re.jsx("div",{children:Re.jsx("button",{className:"qrButton",onClick:He,children:"QR"})})]}),c&&Re.jsx("ul",{className:"Suggestions",children:jr.map((k,re)=>Re.jsx("li",{onClick:()=>or(k,!0),children:k},re))}),Re.jsx("label",{children:Re.jsx("input",{className:"InputBox",onKeyDown:sr,placeholder:"Enter Your Destination",type:"text",name:"destination",value:o,onChange:Ti,style:{display:de?"block":"none"}})}),v&&Re.jsx("ul",{className:"Suggestions",children:Ii.map((k,re)=>Re.jsx("li",{onClick:()=>or(k,!1),children:k},re))}),Re.jsxs("select",{style:{display:de?"none":"block"},className:"InputBox",id:"selectFac",value:Pe,onChange:Ue,children:[Re.jsx("option",{children:"Select Facility"}),Re.jsx("option",{children:"Exit"}),Re.jsx("option",{children:"CR(WOMEN)"}),Re.jsx("option",{children:"CR(MEN)"}),Re.jsx("option",{children:"Gymnasium"}),Re.jsx("option",{children:"Student Lounge"}),Re.jsx("option",{children:"Sanctuary"}),Re.jsx("option",{children:"Auditorium"}),Re.jsx("option",{children:"Canao Hall"})]})]}),Re.jsx("span",{style:{flex:"30%",background:"#0c380c",borderLeft:"2px solid #0c380c",borderRight:"2px solid #0c380c",borderTop:"1px solid #0c380c"},children:Re.jsxs("div",{children:[Re.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[Re.jsxs("div",{className:`CheckboxDiv ${F?"clicked":""}`,onClick:ut,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:F,onChange:()=>{}}),Re.jsx("img",{src:G5,className:"checkbox-image",alt:"Elevator Logo"})]}),Re.jsxs("div",{className:`CheckboxDiv ${D?"clicked":""}`,onClick:Pt,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:N,onChange:()=>{}}),Re.jsx("img",{src:yg,className:"checkbox-image",alt:"Elevator Logo"})]}),Re.jsxs("div",{className:`CheckboxDiv ${J?"clicked":""}`,onClick:Ze,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:N,onChange:()=>{}}),Re.jsx("img",{src:Ay,className:"checkbox-image",alt:"Elevator Logo"})]})]}),Re.jsx("div",{children:Re.jsx("button",{title:"Locate",id:"submitButton",className:"Locatebuttons",onClick:Hn,children:" Locate"})})]})})]})})}),Re.jsx("div",{className:"currentPosition",style:{},children:Re.jsxs("h4",{style:{textAlign:"center",margin:"5px",opacity:"0.6",borderRadius:"60px"},children:[" ",ba]})})]}),Re.jsx("div",{id:"map",style:{width:"100%",height:"1000px"}})]})}L3.propTypes={style:Sy.object};function k6(){return Re.jsx(Re.Fragment,{children:Re.jsx(L3,{})})}th.createRoot(document.getElementById("root")).render(Re.jsx(lE.StrictMode,{children:Re.jsx(k6,{})}));
