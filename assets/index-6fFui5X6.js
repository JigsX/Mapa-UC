function Gy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(r,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},Ou={},Np={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),Zy=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),Ky=Symbol.for("react.provider"),qy=Symbol.for("react.context"),$y=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),ex=Symbol.for("react.memo"),tx=Symbol.for("react.lazy"),u0=Symbol.iterator;function nx(t){return t===null||typeof t!="object"?null:(t=u0&&t[u0]||t["@@iterator"],typeof t=="function"?t:null)}var Mp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lp=Object.assign,Op={};function _a(t,e,n){this.props=t,this.context=e,this.refs=Op,this.updater=n||Mp}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dp(){}Dp.prototype=_a.prototype;function xf(t,e,n){this.props=t,this.context=e,this.refs=Op,this.updater=n||Mp}var Ef=xf.prototype=new Dp;Ef.constructor=xf;Lp(Ef,_a.prototype);Ef.isPureReactComponent=!0;var d0=Array.isArray,Pp=Object.prototype.hasOwnProperty,vf={current:null},Bp={key:!0,ref:!0,__self:!0,__source:!0};function kp(t,e,n){var r,l={},u=null,p=null;if(e!=null)for(r in e.ref!==void 0&&(p=e.ref),e.key!==void 0&&(u=""+e.key),e)Pp.call(e,r)&&!Bp.hasOwnProperty(r)&&(l[r]=e[r]);var v=arguments.length-2;if(v===1)l.children=n;else if(1<v){for(var C=Array(v),x=0;x<v;x++)C[x]=arguments[x+2];l.children=C}if(t&&t.defaultProps)for(r in v=t.defaultProps,v)l[r]===void 0&&(l[r]=v[r]);return{$$typeof:Wl,type:t,key:u,ref:p,props:l,_owner:vf.current}}function ix(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function rx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h0=/\/+/g;function md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rx(""+t.key):e.toString(36)}function Mc(t,e,n,r,l){var u=typeof t;(u==="undefined"||u==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(u){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case Wl:case Zy:p=!0}}if(p)return p=t,l=l(p),t=r===""?"."+md(p,0):r,d0(l)?(n="",t!=null&&(n=t.replace(h0,"$&/")+"/"),Mc(l,e,n,"",function(x){return x})):l!=null&&(wf(l)&&(l=ix(l,n+(!l.key||p&&p.key===l.key?"":(""+l.key).replace(h0,"$&/")+"/")+t)),e.push(l)),1;if(p=0,r=r===""?".":r+":",d0(t))for(var v=0;v<t.length;v++){u=t[v];var C=r+md(u,v);p+=Mc(u,e,n,C,l)}else if(C=nx(t),typeof C=="function")for(t=C.call(t),v=0;!(u=t.next()).done;)u=u.value,C=r+md(u,v++),p+=Mc(u,e,n,C,l);else if(u==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return p}function hc(t,e,n){if(t==null)return t;var r=[],l=0;return Mc(t,r,"","",function(u){return e.call(n,u,l++)}),r}function ox(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var oi={current:null},Lc={transition:null},sx={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:Lc,ReactCurrentOwner:vf};ut.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!wf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=_a;ut.Fragment=Yy;ut.Profiler=Qy;ut.PureComponent=xf;ut.StrictMode=Xy;ut.Suspense=Jy;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sx;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lp({},t.props),l=t.key,u=t.ref,p=t._owner;if(e!=null){if(e.ref!==void 0&&(u=e.ref,p=vf.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var v=t.type.defaultProps;for(C in e)Pp.call(e,C)&&!Bp.hasOwnProperty(C)&&(r[C]=e[C]===void 0&&v!==void 0?v[C]:e[C])}var C=arguments.length-2;if(C===1)r.children=n;else if(1<C){v=Array(C);for(var x=0;x<C;x++)v[x]=arguments[x+2];r.children=v}return{$$typeof:Wl,type:t.type,key:l,ref:u,props:r,_owner:p}};ut.createContext=function(t){return t={$$typeof:qy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ky,_context:t},t.Consumer=t};ut.createElement=kp;ut.createFactory=function(t){var e=kp.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:$y,render:t}};ut.isValidElement=wf;ut.lazy=function(t){return{$$typeof:tx,_payload:{_status:-1,_result:t},_init:ox}};ut.memo=function(t,e){return{$$typeof:ex,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=Lc.transition;Lc.transition={};try{t()}finally{Lc.transition=e}};ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ut.useCallback=function(t,e){return oi.current.useCallback(t,e)};ut.useContext=function(t){return oi.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return oi.current.useDeferredValue(t)};ut.useEffect=function(t,e){return oi.current.useEffect(t,e)};ut.useId=function(){return oi.current.useId()};ut.useImperativeHandle=function(t,e,n){return oi.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return oi.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return oi.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return oi.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return oi.current.useReducer(t,e,n)};ut.useRef=function(t){return oi.current.useRef(t)};ut.useState=function(t){return oi.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return oi.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return oi.current.useTransition()};ut.version="18.2.0";Np.exports=ut;var pn=Np.exports;const ax=Lu(pn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=pn,cx=Symbol.for("react.element"),ux=Symbol.for("react.fragment"),dx=Object.prototype.hasOwnProperty,hx=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fx={key:!0,ref:!0,__self:!0,__source:!0};function Fp(t,e,n){var r,l={},u=null,p=null;n!==void 0&&(u=""+n),e.key!==void 0&&(u=""+e.key),e.ref!==void 0&&(p=e.ref);for(r in e)dx.call(e,r)&&!fx.hasOwnProperty(r)&&(l[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)l[r]===void 0&&(l[r]=e[r]);return{$$typeof:cx,type:t,key:u,ref:p,props:l,_owner:hx.current}}Ou.Fragment=ux;Ou.jsx=Fp;Ou.jsxs=Fp;Rp.exports=Ou;var Pe=Rp.exports,nh={},zp={exports:{}},Ri={},Up={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,Ae){var le=ne.length;ne.push(Ae);e:for(;0<le;){var De=le-1>>>1,Ne=ne[De];if(0<l(Ne,Ae))ne[De]=Ae,ne[le]=Ne,le=De;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var Ae=ne[0],le=ne.pop();if(le!==Ae){ne[0]=le;e:for(var De=0,Ne=ne.length,It=Ne>>>1;De<It;){var Ue=2*(De+1)-1,et=ne[Ue],ae=Ue+1,rn=ne[ae];if(0>l(et,le))ae<Ne&&0>l(rn,et)?(ne[De]=rn,ne[ae]=le,De=ae):(ne[De]=et,ne[Ue]=le,De=Ue);else if(ae<Ne&&0>l(rn,le))ne[De]=rn,ne[ae]=le,De=ae;else break e}}return Ae}function l(ne,Ae){var le=ne.sortIndex-Ae.sortIndex;return le!==0?le:ne.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var p=Date,v=p.now();t.unstable_now=function(){return p.now()-v}}var C=[],x=[],R=1,I=null,D=3,W=!1,Y=!1,V=!1,me=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ne){for(var Ae=n(x);Ae!==null;){if(Ae.callback===null)r(x);else if(Ae.startTime<=ne)r(x),Ae.sortIndex=Ae.expirationTime,e(C,Ae);else break;Ae=n(x)}}function J(ne){if(V=!1,k(ne),!Y)if(n(C)!==null)Y=!0,Oe(pe);else{var Ae=n(x);Ae!==null&&xe(J,Ae.startTime-ne)}}function pe(ne,Ae){Y=!1,V&&(V=!1,H(fe),fe=-1),W=!0;var le=D;try{for(k(Ae),I=n(C);I!==null&&(!(I.expirationTime>Ae)||ne&&!Ge());){var De=I.callback;if(typeof De=="function"){I.callback=null,D=I.priorityLevel;var Ne=De(I.expirationTime<=Ae);Ae=t.unstable_now(),typeof Ne=="function"?I.callback=Ne:I===n(C)&&r(C),k(Ae)}else r(C);I=n(C)}if(I!==null)var It=!0;else{var Ue=n(x);Ue!==null&&xe(J,Ue.startTime-Ae),It=!1}return It}finally{I=null,D=le,W=!1}}var ce=!1,q=null,fe=-1,te=5,ze=-1;function Ge(){return!(t.unstable_now()-ze<te)}function we(){if(q!==null){var ne=t.unstable_now();ze=ne;var Ae=!0;try{Ae=q(!0,ne)}finally{Ae?Je():(ce=!1,q=null)}}else ce=!1}var Je;if(typeof B=="function")Je=function(){B(we)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,ee=Ye.port2;Ye.port1.onmessage=we,Je=function(){ee.postMessage(null)}}else Je=function(){me(we,0)};function Oe(ne){q=ne,ce||(ce=!0,Je())}function xe(ne,Ae){fe=me(function(){ne(t.unstable_now())},Ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){Y||W||(Y=!0,Oe(pe))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return n(C)},t.unstable_next=function(ne){switch(D){case 1:case 2:case 3:var Ae=3;break;default:Ae=D}var le=D;D=Ae;try{return ne()}finally{D=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,Ae){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=D;D=ne;try{return Ae()}finally{D=le}},t.unstable_scheduleCallback=function(ne,Ae,le){var De=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?De+le:De):le=De,ne){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=le+Ne,ne={id:R++,callback:Ae,priorityLevel:ne,startTime:le,expirationTime:Ne,sortIndex:-1},le>De?(ne.sortIndex=le,e(x,ne),n(C)===null&&ne===n(x)&&(V?(H(fe),fe=-1):V=!0,xe(J,le-De))):(ne.sortIndex=Ne,e(C,ne),Y||W||(Y=!0,Oe(pe))),ne},t.unstable_shouldYield=Ge,t.unstable_wrapCallback=function(ne){var Ae=D;return function(){var le=D;D=Ae;try{return ne.apply(this,arguments)}finally{D=le}}}})(Hp);Up.exports=Hp;var gx=Up.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=pn,bi=gx;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vp=new Set,pl={};function xs(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(pl[t]=e,t=0;t<e.length;t++)Vp.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ih=Object.prototype.hasOwnProperty,px=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f0={},g0={};function mx(t){return ih.call(g0,t)?!0:ih.call(f0,t)?!1:px.test(t)?g0[t]=!0:(f0[t]=!0,!1)}function _x(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yx(t,e,n,r){if(e===null||typeof e>"u"||_x(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function si(t,e,n,r,l,u,p){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=u,this.removeEmptyString=p}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new si(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new si(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new si(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new si(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new si(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new si(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new si(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new si(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new si(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cf=/[\-:]([a-z])/g;function Sf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cf,Sf);Fn[e]=new si(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cf,Sf);Fn[e]=new si(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cf,Sf);Fn[e]=new si(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new si(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new si(t,1,!1,t.toLowerCase(),null,!0,!0)});function Af(t,e,n,r){var l=Fn.hasOwnProperty(e)?Fn[e]:null;(l!==null?l.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yx(e,n,l,r)&&(n=null),r||l===null?mx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):l.mustUseProperty?t[l.propertyName]=n===null?l.type===3?!1:"":n:(e=l.attributeName,r=l.attributeNamespace,n===null?t.removeAttribute(e):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=Wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),rh=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),bf=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),Zp=Symbol.for("react.offscreen"),p0=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var nn=Object.assign,_d;function $a(t){if(_d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_d=e&&e[1]||""}return`
`+_d+t}var yd=!1;function xd(t,e){if(!t||yd)return"";yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var r=x}Reflect.construct(t,[],e)}else{try{e.call()}catch(x){r=x}t.call(e.prototype)}else{try{throw Error()}catch(x){r=x}t()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),u=r.stack.split(`
`),p=l.length-1,v=u.length-1;1<=p&&0<=v&&l[p]!==u[v];)v--;for(;1<=p&&0<=v;p--,v--)if(l[p]!==u[v]){if(p!==1||v!==1)do if(p--,v--,0>v||l[p]!==u[v]){var C=`
`+l[p].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=p&&0<=v);break}}}finally{yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function xx(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=xd(t.type,!1),t;case 11:return t=xd(t.type.render,!1),t;case 1:return t=xd(t.type,!0),t;default:return""}}function ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case Ds:return"Portal";case rh:return"Profiler";case If:return"StrictMode";case oh:return"Suspense";case sh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gp:return(t.displayName||"Context")+".Consumer";case jp:return(t._context.displayName||"Context")+".Provider";case Tf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bf:return e=t.displayName||null,e!==null?e:ah(t.type)||"Memo";case mo:e=t._payload,t=t._init;try{return ah(t(e))}catch{}}return null}function Ex(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(e);case 8:return e===If?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vx(t){var e=Yp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(p){r=""+p,u.call(this,p)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gc(t){t._valueTracker||(t._valueTracker=vx(t))}function Xp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lh(t,e){var n=e.checked;return nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qp(t,e){e=e.checked,e!=null&&Af(t,"checked",e,!1)}function ch(t,e){Qp(t,e);var n=Oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uh(t,e.type,n):e.hasOwnProperty("defaultValue")&&uh(t,e.type,Oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uh(t,e,n){(e!=="number"||Vc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ja=Array.isArray;function Qs(t,e,n,r){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oo(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,r&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function dh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return nn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Ja(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oo(n)}}function Kp(t,e){var n=Oo(e.value),r=Oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function x0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pc,$p=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,l){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,l)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wx=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){wx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function Jp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function em(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Jp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,l):t[n]=l}}var Cx=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(t,e){if(e){if(Cx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function Rf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mh=null,Ks=null,qs=null;function E0(t){if(t=Gl(t)){if(typeof mh!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Fu(e),mh(t.stateNode,t.type,e))}}function tm(t){Ks?qs?qs.push(t):qs=[t]:Ks=t}function nm(){if(Ks){var t=Ks,e=qs;if(qs=Ks=null,E0(t),e)for(t=0;t<e.length;t++)E0(e[t])}}function im(t,e){return t(e)}function rm(){}var Ed=!1;function om(t,e,n){if(Ed)return t(e,n);Ed=!0;try{return im(t,e,n)}finally{Ed=!1,(Ks!==null||qs!==null)&&(rm(),nm())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var r=Fu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var _h=!1;if(Xr)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){_h=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{_h=!1}function Sx(t,e,n,r,l,u,p,v,C){var x=Array.prototype.slice.call(arguments,3);try{e.apply(n,x)}catch(R){this.onError(R)}}var il=!1,jc=null,Gc=!1,yh=null,Ax={onError:function(t){il=!0,jc=t}};function Ix(t,e,n,r,l,u,p,v,C){il=!1,jc=null,Sx.apply(Ax,arguments)}function Tx(t,e,n,r,l,u,p,v,C){if(Ix.apply(this,arguments),il){if(il){var x=jc;il=!1,jc=null}else throw Error(he(198));Gc||(Gc=!0,yh=x)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v0(t){if(Es(t)!==t)throw Error(he(188))}function bx(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return v0(l),t;if(u===r)return v0(l),e;u=u.sibling}throw Error(he(188))}if(n.return!==r.return)n=l,r=u;else{for(var p=!1,v=l.child;v;){if(v===n){p=!0,n=l,r=u;break}if(v===r){p=!0,r=l,n=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===n){p=!0,n=u,r=l;break}if(v===r){p=!0,r=u,n=l;break}v=v.sibling}if(!p)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function am(t){return t=bx(t),t!==null?lm(t):null}function lm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lm(t);if(e!==null)return e;t=t.sibling}return null}var cm=bi.unstable_scheduleCallback,w0=bi.unstable_cancelCallback,Rx=bi.unstable_shouldYield,Nx=bi.unstable_requestPaint,dn=bi.unstable_now,Mx=bi.unstable_getCurrentPriorityLevel,Nf=bi.unstable_ImmediatePriority,um=bi.unstable_UserBlockingPriority,Zc=bi.unstable_NormalPriority,Lx=bi.unstable_LowPriority,dm=bi.unstable_IdlePriority,Du=null,Tr=null;function Ox(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Du,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Bx,Dx=Math.log,Px=Math.LN2;function Bx(t){return t>>>=0,t===0?32:31-(Dx(t)/Px|0)|0}var mc=64,_c=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,l=t.suspendedLanes,u=t.pingedLanes,p=n&268435455;if(p!==0){var v=p&~l;v!==0?r=el(v):(u&=p,u!==0&&(r=el(u)))}else p=n&~l,p!==0?r=el(p):u!==0&&(r=el(u));if(r===0)return 0;if(e!==0&&e!==r&&!(e&l)&&(l=r&-r,u=e&-e,l>=u||l===16&&(u&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),l=1<<n,r|=t[n],e&=~l;return r}function kx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,l=t.expirationTimes,u=t.pendingLanes;0<u;){var p=31-ur(u),v=1<<p,C=l[p];C===-1?(!(v&n)||v&r)&&(l[p]=kx(v,e)):C<=e&&(t.expiredLanes|=v),u&=~v}}function xh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hm(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function vd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function zx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var l=31-ur(n),u=1<<l;e[l]=0,r[l]=-1,t[l]=-1,n&=~u}}function Mf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),l=1<<r;l&e|t[r]&e&&(t[r]|=e),n&=~l}}var Nt=0;function fm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gm,Lf,pm,mm,_m,Eh=!1,yc=[],wo=null,Co=null,So=null,yl=new Map,xl=new Map,yo=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(t,e){switch(t){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(e.pointerId)}}function Wa(t,e,n,r,l,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[l]},e!==null&&(e=Gl(e),e!==null&&Lf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function Hx(t,e,n,r,l){switch(e){case"focusin":return wo=Wa(wo,t,e,n,r,l),!0;case"dragenter":return Co=Wa(Co,t,e,n,r,l),!0;case"mouseover":return So=Wa(So,t,e,n,r,l),!0;case"pointerover":var u=l.pointerId;return yl.set(u,Wa(yl.get(u)||null,t,e,n,r,l)),!0;case"gotpointercapture":return u=l.pointerId,xl.set(u,Wa(xl.get(u)||null,t,e,n,r,l)),!0}return!1}function ym(t){var e=ns(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=sm(n),e!==null){t.blockedOn=e,_m(t.priority,function(){pm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ph=r,n.target.dispatchEvent(r),ph=null}else return e=Gl(n),e!==null&&Lf(e),t.blockedOn=n,!1;e.shift()}return!0}function S0(t,e,n){Oc(t)&&n.delete(e)}function Wx(){Eh=!1,wo!==null&&Oc(wo)&&(wo=null),Co!==null&&Oc(Co)&&(Co=null),So!==null&&Oc(So)&&(So=null),yl.forEach(S0),xl.forEach(S0)}function Va(t,e){t.blockedOn===e&&(t.blockedOn=null,Eh||(Eh=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,Wx)))}function El(t){function e(l){return Va(l,t)}if(0<yc.length){Va(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wo!==null&&Va(wo,t),Co!==null&&Va(Co,t),So!==null&&Va(So,t),yl.forEach(e),xl.forEach(e),n=0;n<yo.length;n++)r=yo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yo.length&&(n=yo[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&yo.shift()}var $s=Jr.ReactCurrentBatchConfig,Xc=!0;function Vx(t,e,n,r){var l=Nt,u=$s.transition;$s.transition=null;try{Nt=1,Of(t,e,n,r)}finally{Nt=l,$s.transition=u}}function jx(t,e,n,r){var l=Nt,u=$s.transition;$s.transition=null;try{Nt=4,Of(t,e,n,r)}finally{Nt=l,$s.transition=u}}function Of(t,e,n,r){if(Xc){var l=vh(t,e,n,r);if(l===null)Md(t,e,r,Qc,n),C0(t,r);else if(Hx(l,t,e,n,r))r.stopPropagation();else if(C0(t,r),e&4&&-1<Ux.indexOf(t)){for(;l!==null;){var u=Gl(l);if(u!==null&&gm(u),u=vh(t,e,n,r),u===null&&Md(t,e,r,Qc,n),u===l)break;l=u}l!==null&&r.stopPropagation()}else Md(t,e,r,null,n)}}var Qc=null;function vh(t,e,n,r){if(Qc=null,t=Rf(r),t=ns(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qc=t,null}function xm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mx()){case Nf:return 1;case um:return 4;case Zc:case Lx:return 16;case dm:return 536870912;default:return 16}default:return 16}}var Eo=null,Df=null,Dc=null;function Em(){if(Dc)return Dc;var t,e=Df,n=e.length,r,l="value"in Eo?Eo.value:Eo.textContent,u=l.length;for(t=0;t<n&&e[t]===l[t];t++);var p=n-t;for(r=1;r<=p&&e[n-r]===l[u-r];r++);return Dc=l.slice(t,1<r?1-r:void 0)}function Pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xc(){return!0}function A0(){return!1}function Ni(t){function e(n,r,l,u,p){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(n=t[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?xc:A0,this.isPropagationStopped=A0,this}return nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),e}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Ni(ya),jl=nn({},ya,{view:0,detail:0}),Gx=Ni(jl),wd,Cd,ja,Pu=nn({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ja&&(ja&&t.type==="mousemove"?(wd=t.screenX-ja.screenX,Cd=t.screenY-ja.screenY):Cd=wd=0,ja=t),wd)},movementY:function(t){return"movementY"in t?t.movementY:Cd}}),I0=Ni(Pu),Zx=nn({},Pu,{dataTransfer:0}),Yx=Ni(Zx),Xx=nn({},jl,{relatedTarget:0}),Sd=Ni(Xx),Qx=nn({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Kx=Ni(Qx),qx=nn({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$x=Ni(qx),Jx=nn({},ya,{data:0}),T0=Ni(Jx),eE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nE[t])?!!e[t]:!1}function Bf(){return iE}var rE=nn({},jl,{key:function(t){if(t.key){var e=eE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bf,charCode:function(t){return t.type==="keypress"?Pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oE=Ni(rE),sE=nn({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=Ni(sE),aE=nn({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bf}),lE=Ni(aE),cE=nn({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),uE=Ni(cE),dE=nn({},Pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hE=Ni(dE),fE=[9,13,27,32],kf=Xr&&"CompositionEvent"in window,rl=null;Xr&&"documentMode"in document&&(rl=document.documentMode);var gE=Xr&&"TextEvent"in window&&!rl,vm=Xr&&(!kf||rl&&8<rl&&11>=rl),R0=" ",N0=!1;function wm(t,e){switch(t){case"keyup":return fE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function pE(t,e){switch(t){case"compositionend":return Cm(e);case"keypress":return e.which!==32?null:(N0=!0,R0);case"textInput":return t=e.data,t===R0&&N0?null:t;default:return null}}function mE(t,e){if(Bs)return t==="compositionend"||!kf&&wm(t,e)?(t=Em(),Dc=Df=Eo=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vm&&e.locale!=="ko"?null:e.data;default:return null}}var _E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_E[t.type]:e==="textarea"}function Sm(t,e,n,r){tm(r),e=Kc(e,"onChange"),0<e.length&&(n=new Pf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ol=null,vl=null;function yE(t){Pm(t,0)}function Bu(t){var e=zs(t);if(Xp(e))return t}function xE(t,e){if(t==="change")return e}var Am=!1;if(Xr){var Ad;if(Xr){var Id="oninput"in document;if(!Id){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),Id=typeof L0.oninput=="function"}Ad=Id}else Ad=!1;Am=Ad&&(!document.documentMode||9<document.documentMode)}function O0(){ol&&(ol.detachEvent("onpropertychange",Im),vl=ol=null)}function Im(t){if(t.propertyName==="value"&&Bu(vl)){var e=[];Sm(e,vl,t,Rf(t)),om(yE,e)}}function EE(t,e,n){t==="focusin"?(O0(),ol=e,vl=n,ol.attachEvent("onpropertychange",Im)):t==="focusout"&&O0()}function vE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(vl)}function wE(t,e){if(t==="click")return Bu(e)}function CE(t,e){if(t==="input"||t==="change")return Bu(e)}function SE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:SE;function wl(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ih.call(e,l)||!fr(t[l],e[l]))return!1}return!0}function D0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P0(t,e){var n=D0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D0(n)}}function Tm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bm(){for(var t=window,e=Vc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vc(t.document)}return e}function Ff(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AE(t){var e=bm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tm(n.ownerDocument.documentElement,n)){if(r!==null&&Ff(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var l=n.textContent.length,u=Math.min(r.start,l);r=r.end===void 0?u:Math.min(r.end,l),!t.extend&&u>r&&(l=r,r=u,u=l),l=P0(n,u);var p=P0(n,r);l&&p&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(e=e.createRange(),e.setStart(l.node,l.offset),t.removeAllRanges(),u>r?(t.addRange(e),t.extend(p.node,p.offset)):(e.setEnd(p.node,p.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IE=Xr&&"documentMode"in document&&11>=document.documentMode,ks=null,wh=null,sl=null,Ch=!1;function B0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||ks==null||ks!==Vc(r)||(r=ks,"selectionStart"in r&&Ff(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&wl(sl,r)||(sl=r,r=Kc(wh,"onSelect"),0<r.length&&(e=new Pf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function Ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fs={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},Td={},Rm={};Xr&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function ku(t){if(Td[t])return Td[t];if(!Fs[t])return t;var e=Fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rm)return Td[t]=e[n];return t}var Nm=ku("animationend"),Mm=ku("animationiteration"),Lm=ku("animationstart"),Om=ku("transitionend"),Dm=new Map,k0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){Dm.set(t,e),xs(e,[t])}for(var bd=0;bd<k0.length;bd++){var Rd=k0[bd],TE=Rd.toLowerCase(),bE=Rd[0].toUpperCase()+Rd.slice(1);Fo(TE,"on"+bE)}Fo(Nm,"onAnimationEnd");Fo(Mm,"onAnimationIteration");Fo(Lm,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(Om,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function F0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tx(r,e,void 0,t),t.currentTarget=null}function Pm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],l=r.event;r=r.listeners;e:{var u=void 0;if(e)for(var p=r.length-1;0<=p;p--){var v=r[p],C=v.instance,x=v.currentTarget;if(v=v.listener,C!==u&&l.isPropagationStopped())break e;F0(l,v,x),u=C}else for(p=0;p<r.length;p++){if(v=r[p],C=v.instance,x=v.currentTarget,v=v.listener,C!==u&&l.isPropagationStopped())break e;F0(l,v,x),u=C}}}if(Gc)throw t=yh,Gc=!1,yh=null,t}function Gt(t,e){var n=e[bh];n===void 0&&(n=e[bh]=new Set);var r=t+"__bubble";n.has(r)||(Bm(e,t,2,!1),n.add(r))}function Nd(t,e,n){var r=0;e&&(r|=4),Bm(n,t,r,e)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Cl(t){if(!t[vc]){t[vc]=!0,Vp.forEach(function(n){n!=="selectionchange"&&(RE.has(n)||Nd(n,!1,t),Nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vc]||(e[vc]=!0,Nd("selectionchange",!1,e))}}function Bm(t,e,n,r){switch(xm(e)){case 1:var l=Vx;break;case 4:l=jx;break;default:l=Of}n=l.bind(null,e,n,t),l=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),r?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Md(t,e,n,r,l){var u=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var v=r.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(p===4)for(p=r.return;p!==null;){var C=p.tag;if((C===3||C===4)&&(C=p.stateNode.containerInfo,C===l||C.nodeType===8&&C.parentNode===l))return;p=p.return}for(;v!==null;){if(p=ns(v),p===null)return;if(C=p.tag,C===5||C===6){r=u=p;continue e}v=v.parentNode}}r=r.return}om(function(){var x=u,R=Rf(n),I=[];e:{var D=Dm.get(t);if(D!==void 0){var W=Pf,Y=t;switch(t){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":W=oE;break;case"focusin":Y="focus",W=Sd;break;case"focusout":Y="blur",W=Sd;break;case"beforeblur":case"afterblur":W=Sd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=lE;break;case Nm:case Mm:case Lm:W=Kx;break;case Om:W=uE;break;case"scroll":W=Gx;break;case"wheel":W=hE;break;case"copy":case"cut":case"paste":W=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=b0}var V=(e&4)!==0,me=!V&&t==="scroll",H=V?D!==null?D+"Capture":null:D;V=[];for(var B=x,k;B!==null;){k=B;var J=k.stateNode;if(k.tag===5&&J!==null&&(k=J,H!==null&&(J=_l(B,H),J!=null&&V.push(Sl(B,J,k)))),me)break;B=B.return}0<V.length&&(D=new W(D,Y,null,n,R),I.push({event:D,listeners:V}))}}if(!(e&7)){e:{if(D=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",D&&n!==ph&&(Y=n.relatedTarget||n.fromElement)&&(ns(Y)||Y[Qr]))break e;if((W||D)&&(D=R.window===R?R:(D=R.ownerDocument)?D.defaultView||D.parentWindow:window,W?(Y=n.relatedTarget||n.toElement,W=x,Y=Y?ns(Y):null,Y!==null&&(me=Es(Y),Y!==me||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(W=null,Y=x),W!==Y)){if(V=I0,J="onMouseLeave",H="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(V=b0,J="onPointerLeave",H="onPointerEnter",B="pointer"),me=W==null?D:zs(W),k=Y==null?D:zs(Y),D=new V(J,B+"leave",W,n,R),D.target=me,D.relatedTarget=k,J=null,ns(R)===x&&(V=new V(H,B+"enter",Y,n,R),V.target=k,V.relatedTarget=me,J=V),me=J,W&&Y)t:{for(V=W,H=Y,B=0,k=V;k;k=Ms(k))B++;for(k=0,J=H;J;J=Ms(J))k++;for(;0<B-k;)V=Ms(V),B--;for(;0<k-B;)H=Ms(H),k--;for(;B--;){if(V===H||H!==null&&V===H.alternate)break t;V=Ms(V),H=Ms(H)}V=null}else V=null;W!==null&&z0(I,D,W,V,!1),Y!==null&&me!==null&&z0(I,me,Y,V,!0)}}e:{if(D=x?zs(x):window,W=D.nodeName&&D.nodeName.toLowerCase(),W==="select"||W==="input"&&D.type==="file")var pe=xE;else if(M0(D))if(Am)pe=CE;else{pe=vE;var ce=EE}else(W=D.nodeName)&&W.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(pe=wE);if(pe&&(pe=pe(t,x))){Sm(I,pe,n,R);break e}ce&&ce(t,D,x),t==="focusout"&&(ce=D._wrapperState)&&ce.controlled&&D.type==="number"&&uh(D,"number",D.value)}switch(ce=x?zs(x):window,t){case"focusin":(M0(ce)||ce.contentEditable==="true")&&(ks=ce,wh=x,sl=null);break;case"focusout":sl=wh=ks=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,B0(I,n,R);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":B0(I,n,R)}var q;if(kf)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Bs?wm(t,n)&&(fe="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(vm&&n.locale!=="ko"&&(Bs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Bs&&(q=Em()):(Eo=R,Df="value"in Eo?Eo.value:Eo.textContent,Bs=!0)),ce=Kc(x,fe),0<ce.length&&(fe=new T0(fe,t,null,n,R),I.push({event:fe,listeners:ce}),q?fe.data=q:(q=Cm(n),q!==null&&(fe.data=q)))),(q=gE?pE(t,n):mE(t,n))&&(x=Kc(x,"onBeforeInput"),0<x.length&&(R=new T0("onBeforeInput","beforeinput",null,n,R),I.push({event:R,listeners:x}),R.data=q))}Pm(I,e)})}function Sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kc(t,e){for(var n=e+"Capture",r=[];t!==null;){var l=t,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=_l(t,n),u!=null&&r.unshift(Sl(t,u,l)),u=_l(t,e),u!=null&&r.push(Sl(t,u,l))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,l){for(var u=e._reactName,p=[];n!==null&&n!==r;){var v=n,C=v.alternate,x=v.stateNode;if(C!==null&&C===r)break;v.tag===5&&x!==null&&(v=x,l?(C=_l(n,u),C!=null&&p.unshift(Sl(n,C,v))):l||(C=_l(n,u),C!=null&&p.push(Sl(n,C,v)))),n=n.return}p.length!==0&&t.push({event:e,listeners:p})}var NE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(NE,`
`).replace(ME,"")}function wc(t,e,n){if(e=U0(e),U0(t)!==e&&n)throw Error(he(425))}function qc(){}var Sh=null,Ah=null;function Ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Th=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(DE)}:Th;function DE(t){setTimeout(function(){throw t})}function Ld(t,e){var n=e,r=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){t.removeChild(l),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);El(e)}function Ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Ir="__reactFiber$"+xa,Al="__reactProps$"+xa,Qr="__reactContainer$"+xa,bh="__reactEvents$"+xa,PE="__reactListeners$"+xa,BE="__reactHandles$"+xa;function ns(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[Ir])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function Gl(t){return t=t[Ir]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Fu(t){return t[Al]||null}var Rh=[],Us=-1;function zo(t){return{current:t}}function Xt(t){0>Us||(t.current=Rh[Us],Rh[Us]=null,Us--)}function Ut(t,e){Us++,Rh[Us]=t.current,t.current=e}var Do={},Qn=zo(Do),fi=zo(!1),cs=Do;function aa(t,e){var n=t.type.contextTypes;if(!n)return Do;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in n)l[u]=e[u];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function gi(t){return t=t.childContextTypes,t!=null}function $c(){Xt(fi),Xt(Qn)}function V0(t,e,n){if(Qn.current!==Do)throw Error(he(168));Ut(Qn,e),Ut(fi,n)}function km(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in e))throw Error(he(108,Ex(t)||"Unknown",l));return nn({},n,r)}function Jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Do,cs=Qn.current,Ut(Qn,t),Ut(fi,fi.current),!0}function j0(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=km(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,Xt(fi),Xt(Qn),Ut(Qn,t)):Xt(fi),Ut(fi,n)}var Hr=null,zu=!1,Od=!1;function Fm(t){Hr===null?Hr=[t]:Hr.push(t)}function kE(t){zu=!0,Fm(t)}function Uo(){if(!Od&&Hr!==null){Od=!0;var t=0,e=Nt;try{var n=Hr;for(Nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,zu=!1}catch(l){throw Hr!==null&&(Hr=Hr.slice(t+1)),cm(Nf,Uo),l}finally{Nt=e,Od=!1}}return null}var Hs=[],Ws=0,eu=null,tu=0,Hi=[],Wi=0,us=null,Wr=1,Vr="";function $o(t,e){Hs[Ws++]=tu,Hs[Ws++]=eu,eu=t,tu=e}function zm(t,e,n){Hi[Wi++]=Wr,Hi[Wi++]=Vr,Hi[Wi++]=us,us=t;var r=Wr;t=Vr;var l=32-ur(r)-1;r&=~(1<<l),n+=1;var u=32-ur(e)+l;if(30<u){var p=l-l%5;u=(r&(1<<p)-1).toString(32),r>>=p,l-=p,Wr=1<<32-ur(e)+l|n<<l|r,Vr=u+t}else Wr=1<<u|n<<l|r,Vr=t}function zf(t){t.return!==null&&($o(t,1),zm(t,1,0))}function Uf(t){for(;t===eu;)eu=Hs[--Ws],Hs[Ws]=null,tu=Hs[--Ws],Hs[Ws]=null;for(;t===us;)us=Hi[--Wi],Hi[Wi]=null,Vr=Hi[--Wi],Hi[Wi]=null,Wr=Hi[--Wi],Hi[Wi]=null}var Ii=null,Ai=null,Kt=!1,sr=null;function Um(t,e){var n=Vi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ii=t,Ai=Ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ii=t,Ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:Wr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ii=t,Ai=null,!0):!1;default:return!1}}function Nh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mh(t){if(Kt){var e=Ai;if(e){var n=e;if(!G0(t,e)){if(Nh(t))throw Error(he(418));e=Ao(n.nextSibling);var r=Ii;e&&G0(t,e)?Um(r,n):(t.flags=t.flags&-4097|2,Kt=!1,Ii=t)}}else{if(Nh(t))throw Error(he(418));t.flags=t.flags&-4097|2,Kt=!1,Ii=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ii=t}function Cc(t){if(t!==Ii)return!1;if(!Kt)return Z0(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ih(t.type,t.memoizedProps)),e&&(e=Ai)){if(Nh(t))throw Hm(),Error(he(418));for(;e;)Um(t,e),e=Ao(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ai=Ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ai=null}}else Ai=Ii?Ao(t.stateNode.nextSibling):null;return!0}function Hm(){for(var t=Ai;t;)t=Ao(t.nextSibling)}function la(){Ai=Ii=null,Kt=!1}function Hf(t){sr===null?sr=[t]:sr.push(t)}var FE=Jr.ReactCurrentBatchConfig;function ir(t,e){if(t&&t.defaultProps){e=nn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var nu=zo(null),iu=null,Vs=null,Wf=null;function Vf(){Wf=Vs=iu=null}function jf(t){var e=nu.current;Xt(nu),t._currentValue=e}function Lh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){iu=t,Wf=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function Gi(t){var e=t._currentValue;if(Wf!==t)if(t={context:t,memoizedValue:e,next:null},Vs===null){if(iu===null)throw Error(he(308));Vs=t,iu.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return e}var is=null;function Gf(t){is===null?is=[t]:is.push(t)}function Wm(t,e,n,r){var l=e.interleaved;return l===null?(n.next=n,Gf(e)):(n.next=l.next,l.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _o=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var l=r.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),r.pending=e,Kr(t,n)}return l=r.interleaved,l===null?(e.next=e,Gf(r)):(e.next=l.next,l.next=e),r.interleaved=e,Kr(t,n)}function Bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mf(t,n)}}function Y0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?l=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?l=u=e:u=u.next=e}else l=u=e;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ru(t,e,n,r){var l=t.updateQueue;_o=!1;var u=l.firstBaseUpdate,p=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var C=v,x=C.next;C.next=null,p===null?u=x:p.next=x,p=C;var R=t.alternate;R!==null&&(R=R.updateQueue,v=R.lastBaseUpdate,v!==p&&(v===null?R.firstBaseUpdate=x:v.next=x,R.lastBaseUpdate=C))}if(u!==null){var I=l.baseState;p=0,R=x=C=null,v=u;do{var D=v.lane,W=v.eventTime;if((r&D)===D){R!==null&&(R=R.next={eventTime:W,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Y=t,V=v;switch(D=e,W=n,V.tag){case 1:if(Y=V.payload,typeof Y=="function"){I=Y.call(W,I,D);break e}I=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=V.payload,D=typeof Y=="function"?Y.call(W,I,D):Y,D==null)break e;I=nn({},I,D);break e;case 2:_o=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,D=l.effects,D===null?l.effects=[v]:D.push(v))}else W={eventTime:W,lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},R===null?(x=R=W,C=I):R=R.next=W,p|=D;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;D=v,v=D.next,D.next=null,l.lastBaseUpdate=D,l.shared.pending=null}}while(!0);if(R===null&&(C=I),l.baseState=C,l.firstBaseUpdate=x,l.lastBaseUpdate=R,e=l.shared.interleaved,e!==null){l=e;do p|=l.lane,l=l.next;while(l!==e)}else u===null&&(l.shared.lanes=0);hs|=p,t.lanes=p,t.memoizedState=I}}function X0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(he(191,l));l.call(r)}}}var jm=new Wp.Component().refs;function Oh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uu={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ri(),l=bo(t),u=Zr(r,l);u.payload=e,n!=null&&(u.callback=n),e=Io(t,u,l),e!==null&&(dr(e,t,l,r),Bc(e,t,l))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ri(),l=bo(t),u=Zr(r,l);u.tag=1,u.payload=e,n!=null&&(u.callback=n),e=Io(t,u,l),e!==null&&(dr(e,t,l,r),Bc(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ri(),r=bo(t),l=Zr(n,r);l.tag=2,e!=null&&(l.callback=e),e=Io(t,l,r),e!==null&&(dr(e,t,r,n),Bc(e,t,r))}};function Q0(t,e,n,r,l,u,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,u,p):e.prototype&&e.prototype.isPureReactComponent?!wl(n,r)||!wl(l,u):!0}function Gm(t,e,n){var r=!1,l=Do,u=e.contextType;return typeof u=="object"&&u!==null?u=Gi(u):(l=gi(e)?cs:Qn.current,r=e.contextTypes,u=(r=r!=null)?aa(t,l):Do),e=new e(n,u),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=u),e}function K0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uu.enqueueReplaceState(e,e.state,null)}function Dh(t,e,n,r){var l=t.stateNode;l.props=n,l.state=t.memoizedState,l.refs=jm,Zf(t);var u=e.contextType;typeof u=="object"&&u!==null?l.context=Gi(u):(u=gi(e)?cs:Qn.current,l.context=aa(t,u)),l.state=t.memoizedState,u=e.getDerivedStateFromProps,typeof u=="function"&&(Oh(t,e,u,n),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&Uu.enqueueReplaceState(l,l.state,null),ru(t,n,l,r),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var l=r,u=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===u?e.ref:(e=function(p){var v=l.refs;v===jm&&(v=l.refs={}),p===null?delete v[u]:v[u]=p},e._stringRef=u,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Sc(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q0(t){var e=t._init;return e(t._payload)}function Zm(t){function e(H,B){if(t){var k=H.deletions;k===null?(H.deletions=[B],H.flags|=16):k.push(B)}}function n(H,B){if(!t)return null;for(;B!==null;)e(H,B),B=B.sibling;return null}function r(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function l(H,B){return H=Ro(H,B),H.index=0,H.sibling=null,H}function u(H,B,k){return H.index=k,t?(k=H.alternate,k!==null?(k=k.index,k<B?(H.flags|=2,B):k):(H.flags|=2,B)):(H.flags|=1048576,B)}function p(H){return t&&H.alternate===null&&(H.flags|=2),H}function v(H,B,k,J){return B===null||B.tag!==6?(B=Ud(k,H.mode,J),B.return=H,B):(B=l(B,k),B.return=H,B)}function C(H,B,k,J){var pe=k.type;return pe===Ps?R(H,B,k.props.children,J,k.key):B!==null&&(B.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===mo&&q0(pe)===B.type)?(J=l(B,k.props),J.ref=Ga(H,B,k),J.return=H,J):(J=Wc(k.type,k.key,k.props,null,H.mode,J),J.ref=Ga(H,B,k),J.return=H,J)}function x(H,B,k,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==k.containerInfo||B.stateNode.implementation!==k.implementation?(B=Hd(k,H.mode,J),B.return=H,B):(B=l(B,k.children||[]),B.return=H,B)}function R(H,B,k,J,pe){return B===null||B.tag!==7?(B=as(k,H.mode,J,pe),B.return=H,B):(B=l(B,k),B.return=H,B)}function I(H,B,k){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Ud(""+B,H.mode,k),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case fc:return k=Wc(B.type,B.key,B.props,null,H.mode,k),k.ref=Ga(H,null,B),k.return=H,k;case Ds:return B=Hd(B,H.mode,k),B.return=H,B;case mo:var J=B._init;return I(H,J(B._payload),k)}if(Ja(B)||Ua(B))return B=as(B,H.mode,k,null),B.return=H,B;Sc(H,B)}return null}function D(H,B,k,J){var pe=B!==null?B.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return pe!==null?null:v(H,B,""+k,J);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fc:return k.key===pe?C(H,B,k,J):null;case Ds:return k.key===pe?x(H,B,k,J):null;case mo:return pe=k._init,D(H,B,pe(k._payload),J)}if(Ja(k)||Ua(k))return pe!==null?null:R(H,B,k,J,null);Sc(H,k)}return null}function W(H,B,k,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number")return H=H.get(k)||null,v(B,H,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case fc:return H=H.get(J.key===null?k:J.key)||null,C(B,H,J,pe);case Ds:return H=H.get(J.key===null?k:J.key)||null,x(B,H,J,pe);case mo:var ce=J._init;return W(H,B,k,ce(J._payload),pe)}if(Ja(J)||Ua(J))return H=H.get(k)||null,R(B,H,J,pe,null);Sc(B,J)}return null}function Y(H,B,k,J){for(var pe=null,ce=null,q=B,fe=B=0,te=null;q!==null&&fe<k.length;fe++){q.index>fe?(te=q,q=null):te=q.sibling;var ze=D(H,q,k[fe],J);if(ze===null){q===null&&(q=te);break}t&&q&&ze.alternate===null&&e(H,q),B=u(ze,B,fe),ce===null?pe=ze:ce.sibling=ze,ce=ze,q=te}if(fe===k.length)return n(H,q),Kt&&$o(H,fe),pe;if(q===null){for(;fe<k.length;fe++)q=I(H,k[fe],J),q!==null&&(B=u(q,B,fe),ce===null?pe=q:ce.sibling=q,ce=q);return Kt&&$o(H,fe),pe}for(q=r(H,q);fe<k.length;fe++)te=W(q,H,fe,k[fe],J),te!==null&&(t&&te.alternate!==null&&q.delete(te.key===null?fe:te.key),B=u(te,B,fe),ce===null?pe=te:ce.sibling=te,ce=te);return t&&q.forEach(function(Ge){return e(H,Ge)}),Kt&&$o(H,fe),pe}function V(H,B,k,J){var pe=Ua(k);if(typeof pe!="function")throw Error(he(150));if(k=pe.call(k),k==null)throw Error(he(151));for(var ce=pe=null,q=B,fe=B=0,te=null,ze=k.next();q!==null&&!ze.done;fe++,ze=k.next()){q.index>fe?(te=q,q=null):te=q.sibling;var Ge=D(H,q,ze.value,J);if(Ge===null){q===null&&(q=te);break}t&&q&&Ge.alternate===null&&e(H,q),B=u(Ge,B,fe),ce===null?pe=Ge:ce.sibling=Ge,ce=Ge,q=te}if(ze.done)return n(H,q),Kt&&$o(H,fe),pe;if(q===null){for(;!ze.done;fe++,ze=k.next())ze=I(H,ze.value,J),ze!==null&&(B=u(ze,B,fe),ce===null?pe=ze:ce.sibling=ze,ce=ze);return Kt&&$o(H,fe),pe}for(q=r(H,q);!ze.done;fe++,ze=k.next())ze=W(q,H,fe,ze.value,J),ze!==null&&(t&&ze.alternate!==null&&q.delete(ze.key===null?fe:ze.key),B=u(ze,B,fe),ce===null?pe=ze:ce.sibling=ze,ce=ze);return t&&q.forEach(function(we){return e(H,we)}),Kt&&$o(H,fe),pe}function me(H,B,k,J){if(typeof k=="object"&&k!==null&&k.type===Ps&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case fc:e:{for(var pe=k.key,ce=B;ce!==null;){if(ce.key===pe){if(pe=k.type,pe===Ps){if(ce.tag===7){n(H,ce.sibling),B=l(ce,k.props.children),B.return=H,H=B;break e}}else if(ce.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===mo&&q0(pe)===ce.type){n(H,ce.sibling),B=l(ce,k.props),B.ref=Ga(H,ce,k),B.return=H,H=B;break e}n(H,ce);break}else e(H,ce);ce=ce.sibling}k.type===Ps?(B=as(k.props.children,H.mode,J,k.key),B.return=H,H=B):(J=Wc(k.type,k.key,k.props,null,H.mode,J),J.ref=Ga(H,B,k),J.return=H,H=J)}return p(H);case Ds:e:{for(ce=k.key;B!==null;){if(B.key===ce)if(B.tag===4&&B.stateNode.containerInfo===k.containerInfo&&B.stateNode.implementation===k.implementation){n(H,B.sibling),B=l(B,k.children||[]),B.return=H,H=B;break e}else{n(H,B);break}else e(H,B);B=B.sibling}B=Hd(k,H.mode,J),B.return=H,H=B}return p(H);case mo:return ce=k._init,me(H,B,ce(k._payload),J)}if(Ja(k))return Y(H,B,k,J);if(Ua(k))return V(H,B,k,J);Sc(H,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,B!==null&&B.tag===6?(n(H,B.sibling),B=l(B,k),B.return=H,H=B):(n(H,B),B=Ud(k,H.mode,J),B.return=H,H=B),p(H)):n(H,B)}return me}var ca=Zm(!0),Ym=Zm(!1),Zl={},br=zo(Zl),Il=zo(Zl),Tl=zo(Zl);function rs(t){if(t===Zl)throw Error(he(174));return t}function Yf(t,e){switch(Ut(Tl,e),Ut(Il,t),Ut(br,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hh(e,t)}Xt(br),Ut(br,e)}function ua(){Xt(br),Xt(Il),Xt(Tl)}function Xm(t){rs(Tl.current);var e=rs(br.current),n=hh(e,t.type);e!==n&&(Ut(Il,t),Ut(br,n))}function Xf(t){Il.current===t&&(Xt(br),Xt(Il))}var en=zo(0);function ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dd=[];function Qf(){for(var t=0;t<Dd.length;t++)Dd[t]._workInProgressVersionPrimary=null;Dd.length=0}var kc=Jr.ReactCurrentDispatcher,Pd=Jr.ReactCurrentBatchConfig,ds=0,tn=null,vn=null,Ln=null,su=!1,al=!1,bl=0,zE=0;function Vn(){throw Error(he(321))}function Kf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function qf(t,e,n,r,l,u){if(ds=u,tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kc.current=t===null||t.memoizedState===null?VE:jE,t=n(r,l),al){u=0;do{if(al=!1,bl=0,25<=u)throw Error(he(301));u+=1,Ln=vn=null,e.updateQueue=null,kc.current=GE,t=n(r,l)}while(al)}if(kc.current=au,e=vn!==null&&vn.next!==null,ds=0,Ln=vn=tn=null,su=!1,e)throw Error(he(300));return t}function $f(){var t=bl!==0;return bl=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?tn.memoizedState=Ln=t:Ln=Ln.next=t,Ln}function Zi(){if(vn===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=Ln===null?tn.memoizedState:Ln.next;if(e!==null)Ln=e,vn=t;else{if(t===null)throw Error(he(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Ln===null?tn.memoizedState=Ln=t:Ln=Ln.next=t}return Ln}function Rl(t,e){return typeof e=="function"?e(t):e}function Bd(t){var e=Zi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=vn,l=r.baseQueue,u=n.pending;if(u!==null){if(l!==null){var p=l.next;l.next=u.next,u.next=p}r.baseQueue=l=u,n.pending=null}if(l!==null){u=l.next,r=r.baseState;var v=p=null,C=null,x=u;do{var R=x.lane;if((ds&R)===R)C!==null&&(C=C.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:t(r,x.action);else{var I={lane:R,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};C===null?(v=C=I,p=r):C=C.next=I,tn.lanes|=R,hs|=R}x=x.next}while(x!==null&&x!==u);C===null?p=r:C.next=v,fr(r,e.memoizedState)||(ui=!0),e.memoizedState=r,e.baseState=p,e.baseQueue=C,n.lastRenderedState=r}if(t=n.interleaved,t!==null){l=t;do u=l.lane,tn.lanes|=u,hs|=u,l=l.next;while(l!==t)}else l===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kd(t){var e=Zi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,l=n.pending,u=e.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do u=t(u,p.action),p=p.next;while(p!==l);fr(u,e.memoizedState)||(ui=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),n.lastRenderedState=u}return[u,r]}function Qm(){}function Km(t,e){var n=tn,r=Zi(),l=e(),u=!fr(r.memoizedState,l);if(u&&(r.memoizedState=l,ui=!0),r=r.queue,Jf(Jm.bind(null,n,r,t),[t]),r.getSnapshot!==e||u||Ln!==null&&Ln.memoizedState.tag&1){if(n.flags|=2048,Nl(9,$m.bind(null,n,r,l,e),void 0,null),Pn===null)throw Error(he(349));ds&30||qm(n,e,l)}return l}function qm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $m(t,e,n,r){e.value=n,e.getSnapshot=r,e2(e)&&t2(t)}function Jm(t,e,n){return n(function(){e2(e)&&t2(t)})}function e2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function t2(t){var e=Kr(t,1);e!==null&&dr(e,t,1,-1)}function $0(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=WE.bind(null,tn,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function n2(){return Zi().memoizedState}function Fc(t,e,n,r){var l=Sr();tn.flags|=t,l.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function Hu(t,e,n,r){var l=Zi();r=r===void 0?null:r;var u=void 0;if(vn!==null){var p=vn.memoizedState;if(u=p.destroy,r!==null&&Kf(r,p.deps)){l.memoizedState=Nl(e,n,u,r);return}}tn.flags|=t,l.memoizedState=Nl(1|e,n,u,r)}function J0(t,e){return Fc(8390656,8,t,e)}function Jf(t,e){return Hu(2048,8,t,e)}function i2(t,e){return Hu(4,2,t,e)}function r2(t,e){return Hu(4,4,t,e)}function o2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s2(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4,4,o2.bind(null,e,t),n)}function e1(){}function a2(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function l2(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function c2(t,e,n){return ds&21?(fr(n,e)||(n=hm(),tn.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ui=!0),t.memoizedState=n)}function UE(t,e){var n=Nt;Nt=n!==0&&4>n?n:4,t(!0);var r=Pd.transition;Pd.transition={};try{t(!1),e()}finally{Nt=n,Pd.transition=r}}function u2(){return Zi().memoizedState}function HE(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},d2(t))h2(e,n);else if(n=Wm(t,e,n,r),n!==null){var l=ri();dr(n,t,r,l),f2(n,e,r)}}function WE(t,e,n){var r=bo(t),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(d2(t))h2(e,l);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var p=e.lastRenderedState,v=u(p,n);if(l.hasEagerState=!0,l.eagerState=v,fr(v,p)){var C=e.interleaved;C===null?(l.next=l,Gf(e)):(l.next=C.next,C.next=l),e.interleaved=l;return}}catch{}finally{}n=Wm(t,e,l,r),n!==null&&(l=ri(),dr(n,t,r,l),f2(n,e,r))}}function d2(t){var e=t.alternate;return t===tn||e!==null&&e===tn}function h2(t,e){al=su=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mf(t,n)}}var au={readContext:Gi,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},VE={readContext:Gi,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Gi,useEffect:J0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,o2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HE.bind(null,tn,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:$0,useDebugValue:e1,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=$0(!1),e=t[0];return t=UE.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tn,l=Sr();if(Kt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Pn===null)throw Error(he(349));ds&30||qm(r,e,n)}l.memoizedState=n;var u={value:n,getSnapshot:e};return l.queue=u,J0(Jm.bind(null,r,u,t),[t]),r.flags|=2048,Nl(9,$m.bind(null,r,u,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Pn.identifierPrefix;if(Kt){var n=Vr,r=Wr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jE={readContext:Gi,useCallback:a2,useContext:Gi,useEffect:Jf,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:r2,useMemo:l2,useReducer:Bd,useRef:n2,useState:function(){return Bd(Rl)},useDebugValue:e1,useDeferredValue:function(t){var e=Zi();return c2(e,vn.memoizedState,t)},useTransition:function(){var t=Bd(Rl)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:Qm,useSyncExternalStore:Km,useId:u2,unstable_isNewReconciler:!1},GE={readContext:Gi,useCallback:a2,useContext:Gi,useEffect:Jf,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:r2,useMemo:l2,useReducer:kd,useRef:n2,useState:function(){return kd(Rl)},useDebugValue:e1,useDeferredValue:function(t){var e=Zi();return vn===null?e.memoizedState=t:c2(e,vn.memoizedState,t)},useTransition:function(){var t=kd(Rl)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:Qm,useSyncExternalStore:Km,useId:u2,unstable_isNewReconciler:!1};function da(t,e){try{var n="",r=e;do n+=xx(r),r=r.return;while(r);var l=n}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:t,source:e,stack:l,digest:null}}function Fd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ph(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZE=typeof WeakMap=="function"?WeakMap:Map;function g2(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cu||(cu=!0,Gh=r),Ph(t,e)},n}function p2(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var l=e.value;n.payload=function(){return r(l)},n.callback=function(){Ph(t,e)}}var u=t.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){Ph(t,e),typeof r!="function"&&(To===null?To=new Set([this]):To.add(this));var p=e.stack;this.componentDidCatch(e.value,{componentStack:p!==null?p:""})}),n}function eg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZE;var l=new Set;r.set(e,l)}else l=r.get(e),l===void 0&&(l=new Set,r.set(e,l));l.has(n)||(l.add(n),t=s3.bind(null,t,e,n),e.then(t,t))}function tg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ng(t,e,n,r,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Io(n,e,1))),n.lanes|=1),t)}var YE=Jr.ReactCurrentOwner,ui=!1;function ii(t,e,n,r){e.child=t===null?Ym(e,null,n,r):ca(e,t.child,n,r)}function ig(t,e,n,r,l){n=n.render;var u=e.ref;return Js(e,l),r=qf(t,e,n,r,u,l),n=$f(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,qr(t,e,l)):(Kt&&n&&zf(e),e.flags|=1,ii(t,e,r,l),e.child)}function rg(t,e,n,r,l){if(t===null){var u=n.type;return typeof u=="function"&&!l1(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=u,m2(t,e,u,r,l)):(t=Wc(n.type,null,r,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!(t.lanes&l)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(p,r)&&t.ref===e.ref)return qr(t,e,l)}return e.flags|=1,t=Ro(u,r),t.ref=e.ref,t.return=e,e.child=t}function m2(t,e,n,r,l){if(t!==null){var u=t.memoizedProps;if(wl(u,r)&&t.ref===e.ref)if(ui=!1,e.pendingProps=r=u,(t.lanes&l)!==0)t.flags&131072&&(ui=!0);else return e.lanes=t.lanes,qr(t,e,l)}return Bh(t,e,n,r,l)}function _2(t,e,n){var r=e.pendingProps,l=r.children,u=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Gs,Ci),Ci|=n;else{if(!(n&1073741824))return t=u!==null?u.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(Gs,Ci),Ci|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,Ut(Gs,Ci),Ci|=r}else u!==null?(r=u.baseLanes|n,e.memoizedState=null):r=n,Ut(Gs,Ci),Ci|=r;return ii(t,e,l,n),e.child}function y2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bh(t,e,n,r,l){var u=gi(n)?cs:Qn.current;return u=aa(e,u),Js(e,l),n=qf(t,e,n,r,u,l),r=$f(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,qr(t,e,l)):(Kt&&r&&zf(e),e.flags|=1,ii(t,e,n,l),e.child)}function og(t,e,n,r,l){if(gi(n)){var u=!0;Jc(e)}else u=!1;if(Js(e,l),e.stateNode===null)zc(t,e),Gm(e,n,r),Dh(e,n,r,l),r=!0;else if(t===null){var p=e.stateNode,v=e.memoizedProps;p.props=v;var C=p.context,x=n.contextType;typeof x=="object"&&x!==null?x=Gi(x):(x=gi(n)?cs:Qn.current,x=aa(e,x));var R=n.getDerivedStateFromProps,I=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function";I||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==r||C!==x)&&K0(e,p,r,x),_o=!1;var D=e.memoizedState;p.state=D,ru(e,r,p,l),C=e.memoizedState,v!==r||D!==C||fi.current||_o?(typeof R=="function"&&(Oh(e,n,R,r),C=e.memoizedState),(v=_o||Q0(e,n,v,r,D,C,x))?(I||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(e.flags|=4194308)):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=C),p.props=r,p.state=C,p.context=x,r=v):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{p=e.stateNode,Vm(t,e),v=e.memoizedProps,x=e.type===e.elementType?v:ir(e.type,v),p.props=x,I=e.pendingProps,D=p.context,C=n.contextType,typeof C=="object"&&C!==null?C=Gi(C):(C=gi(n)?cs:Qn.current,C=aa(e,C));var W=n.getDerivedStateFromProps;(R=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==I||D!==C)&&K0(e,p,r,C),_o=!1,D=e.memoizedState,p.state=D,ru(e,r,p,l);var Y=e.memoizedState;v!==I||D!==Y||fi.current||_o?(typeof W=="function"&&(Oh(e,n,W,r),Y=e.memoizedState),(x=_o||Q0(e,n,x,r,D,Y,C)||!1)?(R||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,Y,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,Y,C)),typeof p.componentDidUpdate=="function"&&(e.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Y),p.props=r,p.state=Y,p.context=C,r=x):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),r=!1)}return kh(t,e,n,r,u,l)}function kh(t,e,n,r,l,u){y2(t,e);var p=(e.flags&128)!==0;if(!r&&!p)return l&&j0(e,n,!1),qr(t,e,u);r=e.stateNode,YE.current=e;var v=p&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&p?(e.child=ca(e,t.child,null,u),e.child=ca(e,null,v,u)):ii(t,e,v,u),e.memoizedState=r.state,l&&j0(e,n,!0),e.child}function x2(t){var e=t.stateNode;e.pendingContext?V0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V0(t,e.context,!1),Yf(t,e.containerInfo)}function sg(t,e,n,r,l){return la(),Hf(l),e.flags|=256,ii(t,e,n,r),e.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function zh(t){return{baseLanes:t,cachePool:null,transitions:null}}function E2(t,e,n){var r=e.pendingProps,l=en.current,u=!1,p=(e.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(l&2)!==0),v?(u=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Ut(en,l&1),t===null)return Mh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(p=r.children,t=r.fallback,u?(r=e.mode,u=e.child,p={mode:"hidden",children:p},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=p):u=ju(p,r,0,null),t=as(t,r,n,null),u.return=e,t.return=e,u.sibling=t,e.child=u,e.child.memoizedState=zh(n),e.memoizedState=Fh,t):t1(e,p));if(l=t.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return XE(t,e,p,r,v,l,n);if(u){u=r.fallback,p=e.mode,l=t.child,v=l.sibling;var C={mode:"hidden",children:r.children};return!(p&1)&&e.child!==l?(r=e.child,r.childLanes=0,r.pendingProps=C,e.deletions=null):(r=Ro(l,C),r.subtreeFlags=l.subtreeFlags&14680064),v!==null?u=Ro(v,u):(u=as(u,p,n,null),u.flags|=2),u.return=e,r.return=e,r.sibling=u,e.child=r,r=u,u=e.child,p=t.child.memoizedState,p=p===null?zh(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=t.childLanes&~n,e.memoizedState=Fh,r}return u=t.child,t=u.sibling,r=Ro(u,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function t1(t,e){return e=ju({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ac(t,e,n,r){return r!==null&&Hf(r),ca(e,t.child,null,n),t=t1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XE(t,e,n,r,l,u,p){if(n)return e.flags&256?(e.flags&=-257,r=Fd(Error(he(422))),Ac(t,e,p,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(u=r.fallback,l=e.mode,r=ju({mode:"visible",children:r.children},l,0,null),u=as(u,l,p,null),u.flags|=2,r.return=e,u.return=e,r.sibling=u,e.child=r,e.mode&1&&ca(e,t.child,null,p),e.child.memoizedState=zh(p),e.memoizedState=Fh,u);if(!(e.mode&1))return Ac(t,e,p,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var v=r.dgst;return r=v,u=Error(he(419)),r=Fd(u,r,void 0),Ac(t,e,p,r)}if(v=(p&t.childLanes)!==0,ui||v){if(r=Pn,r!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|p)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Kr(t,l),dr(r,t,l,-1))}return a1(),r=Fd(Error(he(421))),Ac(t,e,p,r)}return l.data==="$?"?(e.flags|=128,e.child=t.child,e=a3.bind(null,t),l._reactRetry=e,null):(t=u.treeContext,Ai=Ao(l.nextSibling),Ii=e,Kt=!0,sr=null,t!==null&&(Hi[Wi++]=Wr,Hi[Wi++]=Vr,Hi[Wi++]=us,Wr=t.id,Vr=t.overflow,us=e),e=t1(e,r.children),e.flags|=4096,e)}function ag(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lh(t.return,e,n)}function zd(t,e,n,r,l){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=l)}function v2(t,e,n){var r=e.pendingProps,l=r.revealOrder,u=r.tail;if(ii(t,e,r.children,n),r=en.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ag(t,n,e);else if(t.tag===19)ag(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ut(en,r),!(e.mode&1))e.memoizedState=null;else switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&ou(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),zd(e,!1,l,n,u);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&ou(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}zd(e,!0,n,null,u);break;case"together":zd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QE(t,e,n){switch(e.tag){case 3:x2(e),la();break;case 5:Xm(e);break;case 1:gi(e.type)&&Jc(e);break;case 4:Yf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,l=e.memoizedProps.value;Ut(nu,r._currentValue),r._currentValue=l;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ut(en,en.current&1),e.flags|=128,null):n&e.child.childLanes?E2(t,e,n):(Ut(en,en.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Ut(en,en.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return v2(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ut(en,en.current),r)break;return null;case 22:case 23:return e.lanes=0,_2(t,e,n)}return qr(t,e,n)}var w2,Uh,C2,S2;w2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uh=function(){};C2=function(t,e,n,r){var l=t.memoizedProps;if(l!==r){t=e.stateNode,rs(br.current);var u=null;switch(n){case"input":l=lh(t,l),r=lh(t,r),u=[];break;case"select":l=nn({},l,{value:void 0}),r=nn({},r,{value:void 0}),u=[];break;case"textarea":l=dh(t,l),r=dh(t,r),u=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qc)}fh(n,r);var p;n=null;for(x in l)if(!r.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var v=l[x];for(p in v)v.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(pl.hasOwnProperty(x)?u||(u=[]):(u=u||[]).push(x,null));for(x in r){var C=r[x];if(v=l!=null?l[x]:void 0,r.hasOwnProperty(x)&&C!==v&&(C!=null||v!=null))if(x==="style")if(v){for(p in v)!v.hasOwnProperty(p)||C&&C.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in C)C.hasOwnProperty(p)&&v[p]!==C[p]&&(n||(n={}),n[p]=C[p])}else n||(u||(u=[]),u.push(x,n)),n=C;else x==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,v=v?v.__html:void 0,C!=null&&v!==C&&(u=u||[]).push(x,C)):x==="children"?typeof C!="string"&&typeof C!="number"||(u=u||[]).push(x,""+C):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(pl.hasOwnProperty(x)?(C!=null&&x==="onScroll"&&Gt("scroll",t),u||v===C||(u=[])):(u=u||[]).push(x,C))}n&&(u=u||[]).push("style",n);var x=u;(e.updateQueue=x)&&(e.flags|=4)}};S2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Za(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KE(t,e,n){var r=e.pendingProps;switch(Uf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(e),null;case 1:return gi(e.type)&&$c(),jn(e),null;case 3:return r=e.stateNode,ua(),Xt(fi),Xt(Qn),Qf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sr!==null&&(Xh(sr),sr=null))),Uh(t,e),jn(e),null;case 5:Xf(e);var l=rs(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)C2(t,e,n,r,l),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return jn(e),null}if(t=rs(br.current),Cc(e)){r=e.stateNode,n=e.type;var u=e.memoizedProps;switch(r[Ir]=e,r[Al]=u,t=(e.mode&1)!==0,n){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(l=0;l<tl.length;l++)Gt(tl[l],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":m0(r,u),Gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Gt("invalid",r);break;case"textarea":y0(r,u),Gt("invalid",r)}fh(n,u),l=null;for(var p in u)if(u.hasOwnProperty(p)){var v=u[p];p==="children"?typeof v=="string"?r.textContent!==v&&(u.suppressHydrationWarning!==!0&&wc(r.textContent,v,t),l=["children",v]):typeof v=="number"&&r.textContent!==""+v&&(u.suppressHydrationWarning!==!0&&wc(r.textContent,v,t),l=["children",""+v]):pl.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&Gt("scroll",r)}switch(n){case"input":gc(r),_0(r,u,!0);break;case"textarea":gc(r),x0(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=qc)}r=l,e.updateQueue=r,r!==null&&(e.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=p.createElement(n,{is:r.is}):(t=p.createElement(n),n==="select"&&(p=t,r.multiple?p.multiple=!0:r.size&&(p.size=r.size))):t=p.createElementNS(t,n),t[Ir]=e,t[Al]=r,w2(t,e,!1,!1),e.stateNode=t;e:{switch(p=gh(n,r),n){case"dialog":Gt("cancel",t),Gt("close",t),l=r;break;case"iframe":case"object":case"embed":Gt("load",t),l=r;break;case"video":case"audio":for(l=0;l<tl.length;l++)Gt(tl[l],t);l=r;break;case"source":Gt("error",t),l=r;break;case"img":case"image":case"link":Gt("error",t),Gt("load",t),l=r;break;case"details":Gt("toggle",t),l=r;break;case"input":m0(t,r),l=lh(t,r),Gt("invalid",t);break;case"option":l=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=nn({},r,{value:void 0}),Gt("invalid",t);break;case"textarea":y0(t,r),l=dh(t,r),Gt("invalid",t);break;default:l=r}fh(n,l),v=l;for(u in v)if(v.hasOwnProperty(u)){var C=v[u];u==="style"?em(t,C):u==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&$p(t,C)):u==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&ml(t,C):typeof C=="number"&&ml(t,""+C):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pl.hasOwnProperty(u)?C!=null&&u==="onScroll"&&Gt("scroll",t):C!=null&&Af(t,u,C,p))}switch(n){case"input":gc(t),_0(t,r,!1);break;case"textarea":gc(t),x0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oo(r.value));break;case"select":t.multiple=!!r.multiple,u=r.value,u!=null?Qs(t,!!r.multiple,u,!1):r.defaultValue!=null&&Qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=qc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jn(e),null;case 6:if(t&&e.stateNode!=null)S2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=rs(Tl.current),rs(br.current),Cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(u=r.nodeValue!==n)&&(t=Ii,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}u&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return jn(e),null;case 13:if(Xt(en),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&Ai!==null&&e.mode&1&&!(e.flags&128))Hm(),la(),e.flags|=98560,u=!1;else if(u=Cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!u)throw Error(he(318));if(u=e.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(he(317));u[Ir]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jn(e),u=!1}else sr!==null&&(Xh(sr),sr=null),u=!0;if(!u)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||en.current&1?Cn===0&&(Cn=3):a1())),e.updateQueue!==null&&(e.flags|=4),jn(e),null);case 4:return ua(),Uh(t,e),t===null&&Cl(e.stateNode.containerInfo),jn(e),null;case 10:return jf(e.type._context),jn(e),null;case 17:return gi(e.type)&&$c(),jn(e),null;case 19:if(Xt(en),u=e.memoizedState,u===null)return jn(e),null;if(r=(e.flags&128)!==0,p=u.rendering,p===null)if(r)Za(u,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(p=ou(t),p!==null){for(e.flags|=128,Za(u,!1),r=p.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)u=n,t=r,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=t,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,t=p.dependencies,u.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ut(en,en.current&1|2),e.child}t=t.sibling}u.tail!==null&&dn()>ha&&(e.flags|=128,r=!0,Za(u,!1),e.lanes=4194304)}else{if(!r)if(t=ou(p),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Za(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Kt)return jn(e),null}else 2*dn()-u.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,Za(u,!1),e.lanes=4194304);u.isBackwards?(p.sibling=e.child,e.child=p):(n=u.last,n!==null?n.sibling=p:e.child=p,u.last=p)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=dn(),e.sibling=null,n=en.current,Ut(en,r?n&1|2:n&1),e):(jn(e),null);case 22:case 23:return s1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ci&1073741824&&(jn(e),e.subtreeFlags&6&&(e.flags|=8192)):jn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function qE(t,e){switch(Uf(e),e.tag){case 1:return gi(e.type)&&$c(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),Xt(fi),Xt(Qn),Qf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xf(e),null;case 13:if(Xt(en),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(en),null;case 4:return ua(),null;case 10:return jf(e.type._context),null;case 22:case 23:return s1(),null;case 24:return null;default:return null}}var Ic=!1,Zn=!1,$E=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sn(t,e,r)}else n.current=null}function Hh(t,e,n){try{n()}catch(r){sn(t,e,r)}}var lg=!1;function JE(t,e){if(Sh=Xc,t=bm(),Ff(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,v=-1,C=-1,x=0,R=0,I=t,D=null;t:for(;;){for(var W;I!==n||l!==0&&I.nodeType!==3||(v=p+l),I!==u||r!==0&&I.nodeType!==3||(C=p+r),I.nodeType===3&&(p+=I.nodeValue.length),(W=I.firstChild)!==null;)D=I,I=W;for(;;){if(I===t)break t;if(D===n&&++x===l&&(v=p),D===u&&++R===r&&(C=p),(W=I.nextSibling)!==null)break;I=D,D=I.parentNode}I=W}n=v===-1||C===-1?null:{start:v,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ah={focusedElem:t,selectionRange:n},Xc=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var Y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var V=Y.memoizedProps,me=Y.memoizedState,H=e.stateNode,B=H.getSnapshotBeforeUpdate(e.elementType===e.type?V:ir(e.type,V),me);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(J){sn(e,e.return,J)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return Y=lg,lg=!1,Y}function ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var u=l.destroy;l.destroy=void 0,u!==void 0&&Hh(e,n,u)}l=l.next}while(l!==r)}}function Wu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A2(t){var e=t.alternate;e!==null&&(t.alternate=null,A2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Al],delete e[bh],delete e[PE],delete e[BE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function I2(t){return t.tag===5||t.tag===3||t.tag===4}function cg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qc));else if(r!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}function jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jh(t,e,n),t=t.sibling;t!==null;)jh(t,e,n),t=t.sibling}var Bn=null,rr=!1;function go(t,e,n){for(n=n.child;n!==null;)T2(t,e,n),n=n.sibling}function T2(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Du,n)}catch{}switch(n.tag){case 5:Zn||js(n,e);case 6:var r=Bn,l=rr;Bn=null,go(t,e,n),Bn=r,rr=l,Bn!==null&&(rr?(t=Bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bn.removeChild(n.stateNode));break;case 18:Bn!==null&&(rr?(t=Bn,n=n.stateNode,t.nodeType===8?Ld(t.parentNode,n):t.nodeType===1&&Ld(t,n),El(t)):Ld(Bn,n.stateNode));break;case 4:r=Bn,l=rr,Bn=n.stateNode.containerInfo,rr=!0,go(t,e,n),Bn=r,rr=l;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var u=l,p=u.destroy;u=u.tag,p!==void 0&&(u&2||u&4)&&Hh(n,e,p),l=l.next}while(l!==r)}go(t,e,n);break;case 1:if(!Zn&&(js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(v){sn(n,e,v)}go(t,e,n);break;case 21:go(t,e,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,go(t,e,n),Zn=r):go(t,e,n);break;default:go(t,e,n)}}function ug(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $E),e.forEach(function(r){var l=l3.bind(null,t,r);n.has(r)||(n.add(r),r.then(l,l))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var u=t,p=e,v=p;e:for(;v!==null;){switch(v.tag){case 5:Bn=v.stateNode,rr=!1;break e;case 3:Bn=v.stateNode.containerInfo,rr=!0;break e;case 4:Bn=v.stateNode.containerInfo,rr=!0;break e}v=v.return}if(Bn===null)throw Error(he(160));T2(u,p,l),Bn=null,rr=!1;var C=l.alternate;C!==null&&(C.return=null),l.return=null}catch(x){sn(l,e,x)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b2(e,t),e=e.sibling}function b2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),Cr(t),r&4){try{ll(3,t,t.return),Wu(3,t)}catch(V){sn(t,t.return,V)}try{ll(5,t,t.return)}catch(V){sn(t,t.return,V)}}break;case 1:nr(e,t),Cr(t),r&512&&n!==null&&js(n,n.return);break;case 5:if(nr(e,t),Cr(t),r&512&&n!==null&&js(n,n.return),t.flags&32){var l=t.stateNode;try{ml(l,"")}catch(V){sn(t,t.return,V)}}if(r&4&&(l=t.stateNode,l!=null)){var u=t.memoizedProps,p=n!==null?n.memoizedProps:u,v=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{v==="input"&&u.type==="radio"&&u.name!=null&&Qp(l,u),gh(v,p);var x=gh(v,u);for(p=0;p<C.length;p+=2){var R=C[p],I=C[p+1];R==="style"?em(l,I):R==="dangerouslySetInnerHTML"?$p(l,I):R==="children"?ml(l,I):Af(l,R,I,x)}switch(v){case"input":ch(l,u);break;case"textarea":Kp(l,u);break;case"select":var D=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var W=u.value;W!=null?Qs(l,!!u.multiple,W,!1):D!==!!u.multiple&&(u.defaultValue!=null?Qs(l,!!u.multiple,u.defaultValue,!0):Qs(l,!!u.multiple,u.multiple?[]:"",!1))}l[Al]=u}catch(V){sn(t,t.return,V)}}break;case 6:if(nr(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(he(162));l=t.stateNode,u=t.memoizedProps;try{l.nodeValue=u}catch(V){sn(t,t.return,V)}}break;case 3:if(nr(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(V){sn(t,t.return,V)}break;case 4:nr(e,t),Cr(t);break;case 13:nr(e,t),Cr(t),l=t.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(r1=dn())),r&4&&ug(t);break;case 22:if(R=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(x=Zn)||R,nr(e,t),Zn=x):nr(e,t),Cr(t),r&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!R&&t.mode&1)for(Ie=t,R=t.child;R!==null;){for(I=Ie=R;Ie!==null;){switch(D=Ie,W=D.child,D.tag){case 0:case 11:case 14:case 15:ll(4,D,D.return);break;case 1:js(D,D.return);var Y=D.stateNode;if(typeof Y.componentWillUnmount=="function"){r=D,n=D.return;try{e=r,Y.props=e.memoizedProps,Y.state=e.memoizedState,Y.componentWillUnmount()}catch(V){sn(r,n,V)}}break;case 5:js(D,D.return);break;case 22:if(D.memoizedState!==null){hg(I);continue}}W!==null?(W.return=D,Ie=W):hg(I)}R=R.sibling}e:for(R=null,I=t;;){if(I.tag===5){if(R===null){R=I;try{l=I.stateNode,x?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(v=I.stateNode,C=I.memoizedProps.style,p=C!=null&&C.hasOwnProperty("display")?C.display:null,v.style.display=Jp("display",p))}catch(V){sn(t,t.return,V)}}}else if(I.tag===6){if(R===null)try{I.stateNode.nodeValue=x?"":I.memoizedProps}catch(V){sn(t,t.return,V)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===t)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===t)break e;for(;I.sibling===null;){if(I.return===null||I.return===t)break e;R===I&&(R=null),I=I.return}R===I&&(R=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:nr(e,t),Cr(t),r&4&&ug(t);break;case 21:break;default:nr(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(I2(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ml(l,""),r.flags&=-33);var u=cg(t);jh(t,u,l);break;case 3:case 4:var p=r.stateNode.containerInfo,v=cg(t);Vh(t,v,p);break;default:throw Error(he(161))}}catch(C){sn(t,t.return,C)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e3(t,e,n){Ie=t,R2(t)}function R2(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var l=Ie,u=l.child;if(l.tag===22&&r){var p=l.memoizedState!==null||Ic;if(!p){var v=l.alternate,C=v!==null&&v.memoizedState!==null||Zn;v=Ic;var x=Zn;if(Ic=p,(Zn=C)&&!x)for(Ie=l;Ie!==null;)p=Ie,C=p.child,p.tag===22&&p.memoizedState!==null?fg(l):C!==null?(C.return=p,Ie=C):fg(l);for(;u!==null;)Ie=u,R2(u),u=u.sibling;Ie=l,Ic=v,Zn=x}dg(t)}else l.subtreeFlags&8772&&u!==null?(u.return=l,Ie=u):dg(t)}}function dg(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||Wu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var l=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=e.updateQueue;u!==null&&X0(e,u,r);break;case 3:var p=e.updateQueue;if(p!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X0(e,p,n)}break;case 5:var v=e.stateNode;if(n===null&&e.flags&4){n=v;var C=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var R=x.memoizedState;if(R!==null){var I=R.dehydrated;I!==null&&El(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Zn||e.flags&512&&Wh(e)}catch(D){sn(e,e.return,D)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function hg(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function fg(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wu(4,e)}catch(C){sn(e,n,C)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var l=e.return;try{r.componentDidMount()}catch(C){sn(e,l,C)}}var u=e.return;try{Wh(e)}catch(C){sn(e,u,C)}break;case 5:var p=e.return;try{Wh(e)}catch(C){sn(e,p,C)}}}catch(C){sn(e,e.return,C)}if(e===t){Ie=null;break}var v=e.sibling;if(v!==null){v.return=e.return,Ie=v;break}Ie=e.return}}var t3=Math.ceil,lu=Jr.ReactCurrentDispatcher,n1=Jr.ReactCurrentOwner,ji=Jr.ReactCurrentBatchConfig,xt=0,Pn=null,mn=null,kn=0,Ci=0,Gs=zo(0),Cn=0,Ml=null,hs=0,Vu=0,i1=0,cl=null,ci=null,r1=0,ha=1/0,Ur=null,cu=!1,Gh=null,To=null,Tc=!1,vo=null,uu=0,ul=0,Zh=null,Uc=-1,Hc=0;function ri(){return xt&6?dn():Uc!==-1?Uc:Uc=dn()}function bo(t){return t.mode&1?xt&2&&kn!==0?kn&-kn:FE.transition!==null?(Hc===0&&(Hc=hm()),Hc):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:xm(t.type)),t):1}function dr(t,e,n,r){if(50<ul)throw ul=0,Zh=null,Error(he(185));Vl(t,n,r),(!(xt&2)||t!==Pn)&&(t===Pn&&(!(xt&2)&&(Vu|=n),Cn===4&&xo(t,kn)),pi(t,r),n===1&&xt===0&&!(e.mode&1)&&(ha=dn()+500,zu&&Uo()))}function pi(t,e){var n=t.callbackNode;Fx(t,e);var r=Yc(t,t===Pn?kn:0);if(r===0)n!==null&&w0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&w0(n),e===1)t.tag===0?kE(gg.bind(null,t)):Fm(gg.bind(null,t)),OE(function(){!(xt&6)&&Uo()}),n=null;else{switch(fm(r)){case 1:n=Nf;break;case 4:n=um;break;case 16:n=Zc;break;case 536870912:n=dm;break;default:n=Zc}n=k2(n,N2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function N2(t,e){if(Uc=-1,Hc=0,xt&6)throw Error(he(327));var n=t.callbackNode;if(ea()&&t.callbackNode!==n)return null;var r=Yc(t,t===Pn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=du(t,r);else{e=r;var l=xt;xt|=2;var u=L2();(Pn!==t||kn!==e)&&(Ur=null,ha=dn()+500,ss(t,e));do try{r3();break}catch(v){M2(t,v)}while(!0);Vf(),lu.current=u,xt=l,mn!==null?e=0:(Pn=null,kn=0,e=Cn)}if(e!==0){if(e===2&&(l=xh(t),l!==0&&(r=l,e=Yh(t,l))),e===1)throw n=Ml,ss(t,0),xo(t,r),pi(t,dn()),n;if(e===6)xo(t,r);else{if(l=t.current.alternate,!(r&30)&&!n3(l)&&(e=du(t,r),e===2&&(u=xh(t),u!==0&&(r=u,e=Yh(t,u))),e===1))throw n=Ml,ss(t,0),xo(t,r),pi(t,dn()),n;switch(t.finishedWork=l,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Jo(t,ci,Ur);break;case 3:if(xo(t,r),(r&130023424)===r&&(e=r1+500-dn(),10<e)){if(Yc(t,0)!==0)break;if(l=t.suspendedLanes,(l&r)!==r){ri(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=Th(Jo.bind(null,t,ci,Ur),e);break}Jo(t,ci,Ur);break;case 4:if(xo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,l=-1;0<r;){var p=31-ur(r);u=1<<p,p=e[p],p>l&&(l=p),r&=~u}if(r=l,r=dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t3(r/1960))-r,10<r){t.timeoutHandle=Th(Jo.bind(null,t,ci,Ur),r);break}Jo(t,ci,Ur);break;case 5:Jo(t,ci,Ur);break;default:throw Error(he(329))}}}return pi(t,dn()),t.callbackNode===n?N2.bind(null,t):null}function Yh(t,e){var n=cl;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=du(t,e),t!==2&&(e=ci,ci=n,e!==null&&Xh(e)),t}function Xh(t){ci===null?ci=t:ci.push.apply(ci,t)}function n3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],u=l.getSnapshot;l=l.value;try{if(!fr(u(),l))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xo(t,e){for(e&=~i1,e&=~Vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function gg(t){if(xt&6)throw Error(he(327));ea();var e=Yc(t,0);if(!(e&1))return pi(t,dn()),null;var n=du(t,e);if(t.tag!==0&&n===2){var r=xh(t);r!==0&&(e=r,n=Yh(t,r))}if(n===1)throw n=Ml,ss(t,0),xo(t,e),pi(t,dn()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,ci,Ur),pi(t,dn()),null}function o1(t,e){var n=xt;xt|=1;try{return t(e)}finally{xt=n,xt===0&&(ha=dn()+500,zu&&Uo())}}function fs(t){vo!==null&&vo.tag===0&&!(xt&6)&&ea();var e=xt;xt|=1;var n=ji.transition,r=Nt;try{if(ji.transition=null,Nt=1,t)return t()}finally{Nt=r,ji.transition=n,xt=e,!(xt&6)&&Uo()}}function s1(){Ci=Gs.current,Xt(Gs)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LE(n)),mn!==null)for(n=mn.return;n!==null;){var r=n;switch(Uf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$c();break;case 3:ua(),Xt(fi),Xt(Qn),Qf();break;case 5:Xf(r);break;case 4:ua();break;case 13:Xt(en);break;case 19:Xt(en);break;case 10:jf(r.type._context);break;case 22:case 23:s1()}n=n.return}if(Pn=t,mn=t=Ro(t.current,null),kn=Ci=e,Cn=0,Ml=null,i1=Vu=hs=0,ci=cl=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,u=n.pending;if(u!==null){var p=u.next;u.next=l,r.next=p}n.pending=r}is=null}return t}function M2(t,e){do{var n=mn;try{if(Vf(),kc.current=au,su){for(var r=tn.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}su=!1}if(ds=0,Ln=vn=tn=null,al=!1,bl=0,n1.current=null,n===null||n.return===null){Cn=1,Ml=e,mn=null;break}e:{var u=t,p=n.return,v=n,C=e;if(e=kn,v.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var x=C,R=v,I=R.tag;if(!(R.mode&1)&&(I===0||I===11||I===15)){var D=R.alternate;D?(R.updateQueue=D.updateQueue,R.memoizedState=D.memoizedState,R.lanes=D.lanes):(R.updateQueue=null,R.memoizedState=null)}var W=tg(p);if(W!==null){W.flags&=-257,ng(W,p,v,u,e),W.mode&1&&eg(u,x,e),e=W,C=x;var Y=e.updateQueue;if(Y===null){var V=new Set;V.add(C),e.updateQueue=V}else Y.add(C);break e}else{if(!(e&1)){eg(u,x,e),a1();break e}C=Error(he(426))}}else if(Kt&&v.mode&1){var me=tg(p);if(me!==null){!(me.flags&65536)&&(me.flags|=256),ng(me,p,v,u,e),Hf(da(C,v));break e}}u=C=da(C,v),Cn!==4&&(Cn=2),cl===null?cl=[u]:cl.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,e&=-e,u.lanes|=e;var H=g2(u,C,e);Y0(u,H);break e;case 1:v=C;var B=u.type,k=u.stateNode;if(!(u.flags&128)&&(typeof B.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(To===null||!To.has(k)))){u.flags|=65536,e&=-e,u.lanes|=e;var J=p2(u,v,e);Y0(u,J);break e}}u=u.return}while(u!==null)}D2(n)}catch(pe){e=pe,mn===n&&n!==null&&(mn=n=n.return);continue}break}while(!0)}function L2(){var t=lu.current;return lu.current=au,t===null?au:t}function a1(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Pn===null||!(hs&268435455)&&!(Vu&268435455)||xo(Pn,kn)}function du(t,e){var n=xt;xt|=2;var r=L2();(Pn!==t||kn!==e)&&(Ur=null,ss(t,e));do try{i3();break}catch(l){M2(t,l)}while(!0);if(Vf(),xt=n,lu.current=r,mn!==null)throw Error(he(261));return Pn=null,kn=0,Cn}function i3(){for(;mn!==null;)O2(mn)}function r3(){for(;mn!==null&&!Rx();)O2(mn)}function O2(t){var e=B2(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,e===null?D2(t):mn=e,n1.current=null}function D2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qE(n,e),n!==null){n.flags&=32767,mn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,mn=null;return}}else if(n=KE(n,e,Ci),n!==null){mn=n;return}if(e=e.sibling,e!==null){mn=e;return}mn=e=t}while(e!==null);Cn===0&&(Cn=5)}function Jo(t,e,n){var r=Nt,l=ji.transition;try{ji.transition=null,Nt=1,o3(t,e,n,r)}finally{ji.transition=l,Nt=r}return null}function o3(t,e,n,r){do ea();while(vo!==null);if(xt&6)throw Error(he(327));n=t.finishedWork;var l=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var u=n.lanes|n.childLanes;if(zx(t,u),t===Pn&&(mn=Pn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,k2(Zc,function(){return ea(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=ji.transition,ji.transition=null;var p=Nt;Nt=1;var v=xt;xt|=4,n1.current=null,JE(t,n),b2(n,t),AE(Ah),Xc=!!Sh,Ah=Sh=null,t.current=n,e3(n),Nx(),xt=v,Nt=p,ji.transition=u}else t.current=n;if(Tc&&(Tc=!1,vo=t,uu=l),u=t.pendingLanes,u===0&&(To=null),Ox(n.stateNode),pi(t,dn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)l=e[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(cu)throw cu=!1,t=Gh,Gh=null,t;return uu&1&&t.tag!==0&&ea(),u=t.pendingLanes,u&1?t===Zh?ul++:(ul=0,Zh=t):ul=0,Uo(),null}function ea(){if(vo!==null){var t=fm(uu),e=ji.transition,n=Nt;try{if(ji.transition=null,Nt=16>t?16:t,vo===null)var r=!1;else{if(t=vo,vo=null,uu=0,xt&6)throw Error(he(331));var l=xt;for(xt|=4,Ie=t.current;Ie!==null;){var u=Ie,p=u.child;if(Ie.flags&16){var v=u.deletions;if(v!==null){for(var C=0;C<v.length;C++){var x=v[C];for(Ie=x;Ie!==null;){var R=Ie;switch(R.tag){case 0:case 11:case 15:ll(8,R,u)}var I=R.child;if(I!==null)I.return=R,Ie=I;else for(;Ie!==null;){R=Ie;var D=R.sibling,W=R.return;if(A2(R),R===x){Ie=null;break}if(D!==null){D.return=W,Ie=D;break}Ie=W}}}var Y=u.alternate;if(Y!==null){var V=Y.child;if(V!==null){Y.child=null;do{var me=V.sibling;V.sibling=null,V=me}while(V!==null)}}Ie=u}}if(u.subtreeFlags&2064&&p!==null)p.return=u,Ie=p;else e:for(;Ie!==null;){if(u=Ie,u.flags&2048)switch(u.tag){case 0:case 11:case 15:ll(9,u,u.return)}var H=u.sibling;if(H!==null){H.return=u.return,Ie=H;break e}Ie=u.return}}var B=t.current;for(Ie=B;Ie!==null;){p=Ie;var k=p.child;if(p.subtreeFlags&2064&&k!==null)k.return=p,Ie=k;else e:for(p=B;Ie!==null;){if(v=Ie,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:Wu(9,v)}}catch(pe){sn(v,v.return,pe)}if(v===p){Ie=null;break e}var J=v.sibling;if(J!==null){J.return=v.return,Ie=J;break e}Ie=v.return}}if(xt=l,Uo(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Du,t)}catch{}r=!0}return r}finally{Nt=n,ji.transition=e}}return!1}function pg(t,e,n){e=da(n,e),e=g2(t,e,1),t=Io(t,e,1),e=ri(),t!==null&&(Vl(t,1,e),pi(t,e))}function sn(t,e,n){if(t.tag===3)pg(t,t,n);else for(;e!==null;){if(e.tag===3){pg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(To===null||!To.has(r))){t=da(n,t),t=p2(e,t,1),e=Io(e,t,1),t=ri(),e!==null&&(Vl(e,1,t),pi(e,t));break}}e=e.return}}function s3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ri(),t.pingedLanes|=t.suspendedLanes&n,Pn===t&&(kn&n)===n&&(Cn===4||Cn===3&&(kn&130023424)===kn&&500>dn()-r1?ss(t,0):i1|=n),pi(t,e)}function P2(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var n=ri();t=Kr(t,e),t!==null&&(Vl(t,e,n),pi(t,n))}function a3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P2(t,n)}function l3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),P2(t,n)}var B2;B2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ui=!1,QE(t,e,n);ui=!!(t.flags&131072)}else ui=!1,Kt&&e.flags&1048576&&zm(e,tu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zc(t,e),t=e.pendingProps;var l=aa(e,Qn.current);Js(e,n),l=qf(null,e,r,t,l,n);var u=$f();return e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)?(u=!0,Jc(e)):u=!1,e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Zf(e),l.updater=Uu,e.stateNode=l,l._reactInternals=e,Dh(e,r,t,n),e=kh(null,e,r,!0,u,n)):(e.tag=0,Kt&&u&&zf(e),ii(null,e,l,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,l=r._init,r=l(r._payload),e.type=r,l=e.tag=u3(r),t=ir(r,t),l){case 0:e=Bh(null,e,r,t,n);break e;case 1:e=og(null,e,r,t,n);break e;case 11:e=ig(null,e,r,t,n);break e;case 14:e=rg(null,e,r,ir(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:ir(r,l),Bh(t,e,r,l,n);case 1:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:ir(r,l),og(t,e,r,l,n);case 3:e:{if(x2(e),t===null)throw Error(he(387));r=e.pendingProps,u=e.memoizedState,l=u.element,Vm(t,e),ru(e,r,null,n);var p=e.memoizedState;if(r=p.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){l=da(Error(he(423)),e),e=sg(t,e,r,n,l);break e}else if(r!==l){l=da(Error(he(424)),e),e=sg(t,e,r,n,l);break e}else for(Ai=Ao(e.stateNode.containerInfo.firstChild),Ii=e,Kt=!0,sr=null,n=Ym(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===l){e=qr(t,e,n);break e}ii(t,e,r,n)}e=e.child}return e;case 5:return Xm(e),t===null&&Mh(e),r=e.type,l=e.pendingProps,u=t!==null?t.memoizedProps:null,p=l.children,Ih(r,l)?p=null:u!==null&&Ih(r,u)&&(e.flags|=32),y2(t,e),ii(t,e,p,n),e.child;case 6:return t===null&&Mh(e),null;case 13:return E2(t,e,n);case 4:return Yf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):ii(t,e,r,n),e.child;case 11:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:ir(r,l),ig(t,e,r,l,n);case 7:return ii(t,e,e.pendingProps,n),e.child;case 8:return ii(t,e,e.pendingProps.children,n),e.child;case 12:return ii(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,l=e.pendingProps,u=e.memoizedProps,p=l.value,Ut(nu,r._currentValue),r._currentValue=p,u!==null)if(fr(u.value,p)){if(u.children===l.children&&!fi.current){e=qr(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var v=u.dependencies;if(v!==null){p=u.child;for(var C=v.firstContext;C!==null;){if(C.context===r){if(u.tag===1){C=Zr(-1,n&-n),C.tag=2;var x=u.updateQueue;if(x!==null){x=x.shared;var R=x.pending;R===null?C.next=C:(C.next=R.next,R.next=C),x.pending=C}}u.lanes|=n,C=u.alternate,C!==null&&(C.lanes|=n),Lh(u.return,n,e),v.lanes|=n;break}C=C.next}}else if(u.tag===10)p=u.type===e.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(he(341));p.lanes|=n,v=p.alternate,v!==null&&(v.lanes|=n),Lh(p,n,e),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}ii(t,e,l.children,n),e=e.child}return e;case 9:return l=e.type,r=e.pendingProps.children,Js(e,n),l=Gi(l),r=r(l),e.flags|=1,ii(t,e,r,n),e.child;case 14:return r=e.type,l=ir(r,e.pendingProps),l=ir(r.type,l),rg(t,e,r,l,n);case 15:return m2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:ir(r,l),zc(t,e),e.tag=1,gi(r)?(t=!0,Jc(e)):t=!1,Js(e,n),Gm(e,r,l),Dh(e,r,l,n),kh(null,e,r,!0,t,n);case 19:return v2(t,e,n);case 22:return _2(t,e,n)}throw Error(he(156,e.tag))};function k2(t,e){return cm(t,e)}function c3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(t,e,n,r){return new c3(t,e,n,r)}function l1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u3(t){if(typeof t=="function")return l1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tf)return 11;if(t===bf)return 14}return 2}function Ro(t,e){var n=t.alternate;return n===null?(n=Vi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wc(t,e,n,r,l,u){var p=2;if(r=t,typeof t=="function")l1(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Ps:return as(n.children,l,u,e);case If:p=8,l|=8;break;case rh:return t=Vi(12,n,e,l|2),t.elementType=rh,t.lanes=u,t;case oh:return t=Vi(13,n,e,l),t.elementType=oh,t.lanes=u,t;case sh:return t=Vi(19,n,e,l),t.elementType=sh,t.lanes=u,t;case Zp:return ju(n,l,u,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jp:p=10;break e;case Gp:p=9;break e;case Tf:p=11;break e;case bf:p=14;break e;case mo:p=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=Vi(p,n,e,l),e.elementType=t,e.type=r,e.lanes=u,e}function as(t,e,n,r){return t=Vi(7,t,r,e),t.lanes=n,t}function ju(t,e,n,r){return t=Vi(22,t,r,e),t.elementType=Zp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ud(t,e,n){return t=Vi(6,t,null,e),t.lanes=n,t}function Hd(t,e,n){return e=Vi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d3(t,e,n,r,l){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vd(0),this.expirationTimes=vd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vd(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function c1(t,e,n,r,l,u,p,v,C){return t=new d3(t,e,n,v,C),e===1?(e=1,u===!0&&(e|=8)):e=0,u=Vi(3,null,null,e),t.current=u,u.stateNode=t,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(u),t}function h3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function F2(t){if(!t)return Do;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(gi(n))return km(t,n,e)}return e}function z2(t,e,n,r,l,u,p,v,C){return t=c1(n,r,!0,t,l,u,p,v,C),t.context=F2(null),n=t.current,r=ri(),l=bo(n),u=Zr(r,l),u.callback=e??null,Io(n,u,l),t.current.lanes=l,Vl(t,l,r),pi(t,r),t}function Gu(t,e,n,r){var l=e.current,u=ri(),p=bo(l);return n=F2(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(u,p),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Io(l,e,p),t!==null&&(dr(t,l,p,u),Bc(t,l,p)),p}function hu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u1(t,e){mg(t,e),(t=t.alternate)&&mg(t,e)}function f3(){return null}var U2=typeof reportError=="function"?reportError:function(t){console.error(t)};function d1(t){this._internalRoot=t}Zu.prototype.render=d1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Gu(t,e,null,null)};Zu.prototype.unmount=d1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){Gu(null,t,null,null)}),e[Qr]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=mm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yo.length&&e!==0&&e<yo[n].priority;n++);yo.splice(n,0,t),n===0&&ym(t)}};function h1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _g(){}function g3(t,e,n,r,l){if(l){if(typeof r=="function"){var u=r;r=function(){var x=hu(p);u.call(x)}}var p=z2(e,r,t,0,null,!1,!1,"",_g);return t._reactRootContainer=p,t[Qr]=p.current,Cl(t.nodeType===8?t.parentNode:t),fs(),p}for(;l=t.lastChild;)t.removeChild(l);if(typeof r=="function"){var v=r;r=function(){var x=hu(C);v.call(x)}}var C=c1(t,0,!1,null,null,!1,!1,"",_g);return t._reactRootContainer=C,t[Qr]=C.current,Cl(t.nodeType===8?t.parentNode:t),fs(function(){Gu(e,C,n,r)}),C}function Xu(t,e,n,r,l){var u=n._reactRootContainer;if(u){var p=u;if(typeof l=="function"){var v=l;l=function(){var C=hu(p);v.call(C)}}Gu(e,p,t,l)}else p=g3(n,e,t,l,r);return hu(p)}gm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(Mf(e,n|1),pi(e,dn()),!(xt&6)&&(ha=dn()+500,Uo()))}break;case 13:fs(function(){var r=Kr(t,1);if(r!==null){var l=ri();dr(r,t,1,l)}}),u1(t,1)}};Lf=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=ri();dr(e,t,134217728,n)}u1(t,134217728)}};pm=function(t){if(t.tag===13){var e=bo(t),n=Kr(t,e);if(n!==null){var r=ri();dr(n,t,e,r)}u1(t,e)}};mm=function(){return Nt};_m=function(t,e){var n=Nt;try{return Nt=t,e()}finally{Nt=n}};mh=function(t,e,n){switch(e){case"input":if(ch(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var l=Fu(r);if(!l)throw Error(he(90));Xp(r),ch(r,l)}}}break;case"textarea":Kp(t,n);break;case"select":e=n.value,e!=null&&Qs(t,!!n.multiple,e,!1)}};im=o1;rm=fs;var p3={usingClientEntryPoint:!1,Events:[Gl,zs,Fu,tm,nm,o1]},Ya={findFiberByHostInstance:ns,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},m3={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=am(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||f3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Du=bc.inject(m3),Tr=bc}catch{}}Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p3;Ri.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h1(e))throw Error(he(200));return h3(t,e,null,n)};Ri.createRoot=function(t,e){if(!h1(t))throw Error(he(299));var n=!1,r="",l=U2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=c1(t,1,!1,null,null,n,!1,r,l),t[Qr]=e.current,Cl(t.nodeType===8?t.parentNode:t),new d1(e)};Ri.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=am(e),t=t===null?null:t.stateNode,t};Ri.flushSync=function(t){return fs(t)};Ri.hydrate=function(t,e,n){if(!Yu(e))throw Error(he(200));return Xu(null,t,e,!0,n)};Ri.hydrateRoot=function(t,e,n){if(!h1(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,l=!1,u="",p=U2;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),e=z2(e,null,t,1,n??null,l,!1,u,p),t[Qr]=e.current,Cl(t),r)for(t=0;t<r.length;t++)n=r[t],l=n._getVersion,l=l(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,l]:e.mutableSourceEagerHydrationData.push(n,l);return new Zu(e)};Ri.render=function(t,e,n){if(!Yu(e))throw Error(he(200));return Xu(null,t,e,!1,n)};Ri.unmountComponentAtNode=function(t){if(!Yu(t))throw Error(he(40));return t._reactRootContainer?(fs(function(){Xu(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Ri.unstable_batchedUpdates=o1;Ri.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yu(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Xu(t,e,n,!1,r)};Ri.version="18.2.0-next-9e3b772b8-20220608";function H2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H2)}catch(t){console.error(t)}}H2(),zp.exports=Ri;var _3=zp.exports,yg=_3;nh.createRoot=yg.createRoot,nh.hydrateRoot=yg.hydrateRoot;var W2={exports:{}},y3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x3=y3,E3=x3;function V2(){}function j2(){}j2.resetWarningCache=V2;var v3=function(){function t(r,l,u,p,v,C){if(C!==E3){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j2,resetWarningCache:V2};return n.PropTypes=n,n};W2.exports=v3();var w3=W2.exports;const C3=Lu(w3),xg="/Mapa-UC/assets/elevatorLogo-30_jZ6Gw.png",S3="/Mapa-UC/assets/emergencyExit-bK8ZRk4K.png";var Qh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Os,function(n){var r="1.9.4";function l(s){var h,m,w,A;for(m=1,w=arguments.length;m<w;m++){A=arguments[m];for(h in A)s[h]=A[h]}return s}var u=Object.create||function(){function s(){}return function(h){return s.prototype=h,new s}}();function p(s,h){var m=Array.prototype.slice;if(s.bind)return s.bind.apply(s,m.call(arguments,1));var w=m.call(arguments,2);return function(){return s.apply(h,w.length?w.concat(m.call(arguments)):arguments)}}var v=0;function C(s){return"_leaflet_id"in s||(s._leaflet_id=++v),s._leaflet_id}function x(s,h,m){var w,A,M,F;return F=function(){w=!1,A&&(M.apply(m,A),A=!1)},M=function(){w?A=arguments:(s.apply(m,arguments),setTimeout(F,h),w=!0)},M}function R(s,h,m){var w=h[1],A=h[0],M=w-A;return s===w&&m?s:((s-A)%M+M)%M+A}function I(){return!1}function D(s,h){if(h===!1)return s;var m=Math.pow(10,h===void 0?6:h);return Math.round(s*m)/m}function W(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Y(s){return W(s).split(/\s+/)}function V(s,h){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?u(s.options):{});for(var m in h)s.options[m]=h[m];return s.options}function me(s,h,m){var w=[];for(var A in s)w.push(encodeURIComponent(m?A.toUpperCase():A)+"="+encodeURIComponent(s[A]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function B(s,h){return s.replace(H,function(m,w){var A=h[w];if(A===void 0)throw new Error("No value provided for variable "+m);return typeof A=="function"&&(A=A(h)),A})}var k=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function J(s,h){for(var m=0;m<s.length;m++)if(s[m]===h)return m;return-1}var pe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var q=0;function fe(s){var h=+new Date,m=Math.max(0,16-(h-q));return q=h+m,window.setTimeout(s,m)}var te=window.requestAnimationFrame||ce("RequestAnimationFrame")||fe,ze=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Ge(s,h,m){if(m&&te===fe)s.call(h);else return te.call(window,p(s,h))}function we(s){s&&ze.call(window,s)}var Je={__proto__:null,extend:l,create:u,bind:p,get lastId(){return v},stamp:C,throttle:x,wrapNum:R,falseFn:I,formatNum:D,trim:W,splitWords:Y,setOptions:V,getParamString:me,template:B,isArray:k,indexOf:J,emptyImageUrl:pe,requestFn:te,cancelFn:ze,requestAnimFrame:Ge,cancelAnimFrame:we};function Ye(){}Ye.extend=function(s){var h=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=h.__super__=this.prototype,w=u(m);w.constructor=h,h.prototype=w;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(h[A]=this[A]);return s.statics&&l(h,s.statics),s.includes&&(ee(s.includes),l.apply(null,[w].concat(s.includes))),l(w,s),delete w.statics,delete w.includes,w.options&&(w.options=m.options?u(m.options):{},l(w.options,s.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,F=w._initHooks.length;M<F;M++)w._initHooks[M].call(this)}},h},Ye.include=function(s){var h=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=h,this.mergeOptions(s.options)),this},Ye.mergeOptions=function(s){return l(this.prototype.options,s),this},Ye.addInitHook=function(s){var h=Array.prototype.slice.call(arguments,1),m=typeof s=="function"?s:function(){this[s].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function ee(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=k(s)?s:[s];for(var h=0;h<s.length;h++)s[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Oe={on:function(s,h,m){if(typeof s=="object")for(var w in s)this._on(w,s[w],h);else{s=Y(s);for(var A=0,M=s.length;A<M;A++)this._on(s[A],h,m)}return this},off:function(s,h,m){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var w in s)this._off(w,s[w],h);else{s=Y(s);for(var A=arguments.length===1,M=0,F=s.length;M<F;M++)A?this._off(s[M]):this._off(s[M],h,m)}return this},_on:function(s,h,m,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(s,h,m)===!1){m===this&&(m=void 0);var A={fn:h,ctx:m};w&&(A.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(A)}},_off:function(s,h,m){var w,A,M;if(this._events&&(w=this._events[s],!!w)){if(arguments.length===1){if(this._firingCount)for(A=0,M=w.length;A<M;A++)w[A].fn=I;delete this._events[s];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var F=this._listens(s,h,m);if(F!==!1){var Z=w[F];this._firingCount&&(Z.fn=I,this._events[s]=w=w.slice()),w.splice(F,1)}}},fire:function(s,h,m){if(!this.listens(s,m))return this;var w=l({},h,{type:s,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var A=this._events[s];if(A){this._firingCount=this._firingCount+1||1;for(var M=0,F=A.length;M<F;M++){var Z=A[M],$=Z.fn;Z.once&&this.off(s,$,Z.ctx),$.call(Z.ctx||this,w)}this._firingCount--}}return m&&this._propagateEvent(w),this},listens:function(s,h,m,w){typeof s!="string"&&console.warn('"string" type argument expected');var A=h;typeof h!="function"&&(w=!!h,A=void 0,m=void 0);var M=this._events&&this._events[s];if(M&&M.length&&this._listens(s,A,m)!==!1)return!0;if(w){for(var F in this._eventParents)if(this._eventParents[F].listens(s,h,m,w))return!0}return!1},_listens:function(s,h,m){if(!this._events)return!1;var w=this._events[s]||[];if(!h)return!!w.length;m===this&&(m=void 0);for(var A=0,M=w.length;A<M;A++)if(w[A].fn===h&&w[A].ctx===m)return A;return!1},once:function(s,h,m){if(typeof s=="object")for(var w in s)this._on(w,s[w],h,!0);else{s=Y(s);for(var A=0,M=s.length;A<M;A++)this._on(s[A],h,m,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[C(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[C(s)],this},_propagateEvent:function(s){for(var h in this._eventParents)this._eventParents[h].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};Oe.addEventListener=Oe.on,Oe.removeEventListener=Oe.clearAllEventListeners=Oe.off,Oe.addOneTimeEventListener=Oe.once,Oe.fireEvent=Oe.fire,Oe.hasEventListeners=Oe.listens;var xe=Ye.extend(Oe);function ne(s,h,m){this.x=m?Math.round(s):s,this.y=m?Math.round(h):h}var Ae=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(s){return this.clone()._add(le(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(le(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ne(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ne(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(s){s=le(s);var h=s.x-this.x,m=s.y-this.y;return Math.sqrt(h*h+m*m)},equals:function(s){return s=le(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=le(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function le(s,h,m){return s instanceof ne?s:k(s)?new ne(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ne(s.x,s.y):new ne(s,h,m)}function De(s,h){if(s)for(var m=h?[s,h]:s,w=0,A=m.length;w<A;w++)this.extend(m[w])}De.prototype={extend:function(s){var h,m;if(!s)return this;if(s instanceof ne||typeof s[0]=="number"||"x"in s)h=m=le(s);else if(s=Ne(s),h=s.min,m=s.max,!h||!m)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=m.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(s){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var h,m;return typeof s[0]=="number"||s instanceof ne?s=le(s):s=Ne(s),s instanceof De?(h=s.min,m=s.max):h=m=s,h.x>=this.min.x&&m.x<=this.max.x&&h.y>=this.min.y&&m.y<=this.max.y},intersects:function(s){s=Ne(s);var h=this.min,m=this.max,w=s.min,A=s.max,M=A.x>=h.x&&w.x<=m.x,F=A.y>=h.y&&w.y<=m.y;return M&&F},overlaps:function(s){s=Ne(s);var h=this.min,m=this.max,w=s.min,A=s.max,M=A.x>h.x&&w.x<m.x,F=A.y>h.y&&w.y<m.y;return M&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var h=this.min,m=this.max,w=Math.abs(h.x-m.x)*s,A=Math.abs(h.y-m.y)*s;return Ne(le(h.x-w,h.y-A),le(m.x+w,m.y+A))},equals:function(s){return s?(s=Ne(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Ne(s,h){return!s||s instanceof De?s:new De(s,h)}function It(s,h){if(s)for(var m=h?[s,h]:s,w=0,A=m.length;w<A;w++)this.extend(m[w])}It.prototype={extend:function(s){var h=this._southWest,m=this._northEast,w,A;if(s instanceof et)w=s,A=s;else if(s instanceof It){if(w=s._southWest,A=s._northEast,!w||!A)return this}else return s?this.extend(ae(s)||Ue(s)):this;return!h&&!m?(this._southWest=new et(w.lat,w.lng),this._northEast=new et(A.lat,A.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),m.lat=Math.max(A.lat,m.lat),m.lng=Math.max(A.lng,m.lng)),this},pad:function(s){var h=this._southWest,m=this._northEast,w=Math.abs(h.lat-m.lat)*s,A=Math.abs(h.lng-m.lng)*s;return new It(new et(h.lat-w,h.lng-A),new et(m.lat+w,m.lng+A))},getCenter:function(){return new et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new et(this.getNorth(),this.getWest())},getSouthEast:function(){return new et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof et||"lat"in s?s=ae(s):s=Ue(s);var h=this._southWest,m=this._northEast,w,A;return s instanceof It?(w=s.getSouthWest(),A=s.getNorthEast()):w=A=s,w.lat>=h.lat&&A.lat<=m.lat&&w.lng>=h.lng&&A.lng<=m.lng},intersects:function(s){s=Ue(s);var h=this._southWest,m=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),M=A.lat>=h.lat&&w.lat<=m.lat,F=A.lng>=h.lng&&w.lng<=m.lng;return M&&F},overlaps:function(s){s=Ue(s);var h=this._southWest,m=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),M=A.lat>h.lat&&w.lat<m.lat,F=A.lng>h.lng&&w.lng<m.lng;return M&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,h){return s?(s=Ue(s),this._southWest.equals(s.getSouthWest(),h)&&this._northEast.equals(s.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ue(s,h){return s instanceof It?s:new It(s,h)}function et(s,h,m){if(isNaN(s)||isNaN(h))throw new Error("Invalid LatLng object: ("+s+", "+h+")");this.lat=+s,this.lng=+h,m!==void 0&&(this.alt=+m)}et.prototype={equals:function(s,h){if(!s)return!1;s=ae(s);var m=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return m<=(h===void 0?1e-9:h)},toString:function(s){return"LatLng("+D(this.lat,s)+", "+D(this.lng,s)+")"},distanceTo:function(s){return Tt.distance(this,ae(s))},wrap:function(){return Tt.wrapLatLng(this)},toBounds:function(s){var h=180*s/40075017,m=h/Math.cos(Math.PI/180*this.lat);return Ue([this.lat-h,this.lng-m],[this.lat+h,this.lng+m])},clone:function(){return new et(this.lat,this.lng,this.alt)}};function ae(s,h,m){return s instanceof et?s:k(s)&&typeof s[0]!="object"?s.length===3?new et(s[0],s[1],s[2]):s.length===2?new et(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new et(s.lat,"lng"in s?s.lng:s.lon,s.alt):h===void 0?null:new et(s,h,m)}var rn={latLngToPoint:function(s,h){var m=this.projection.project(s),w=this.scale(h);return this.transformation._transform(m,w)},pointToLatLng:function(s,h){var m=this.scale(h),w=this.transformation.untransform(s,m);return this.projection.unproject(w)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var h=this.projection.bounds,m=this.scale(s),w=this.transformation.transform(h.min,m),A=this.transformation.transform(h.max,m);return new De(w,A)},infinite:!1,wrapLatLng:function(s){var h=this.wrapLng?R(s.lng,this.wrapLng,!0):s.lng,m=this.wrapLat?R(s.lat,this.wrapLat,!0):s.lat,w=s.alt;return new et(m,h,w)},wrapLatLngBounds:function(s){var h=s.getCenter(),m=this.wrapLatLng(h),w=h.lat-m.lat,A=h.lng-m.lng;if(w===0&&A===0)return s;var M=s.getSouthWest(),F=s.getNorthEast(),Z=new et(M.lat-w,M.lng-A),$=new et(F.lat-w,F.lng-A);return new It(Z,$)}},Tt=l({},rn,{wrapLng:[-180,180],R:6371e3,distance:function(s,h){var m=Math.PI/180,w=s.lat*m,A=h.lat*m,M=Math.sin((h.lat-s.lat)*m/2),F=Math.sin((h.lng-s.lng)*m/2),Z=M*M+Math.cos(w)*Math.cos(A)*F*F,$=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*$}}),gr=6378137,Yi={R:gr,MAX_LATITUDE:85.0511287798,project:function(s){var h=Math.PI/180,m=this.MAX_LATITUDE,w=Math.max(Math.min(m,s.lat),-m),A=Math.sin(w*h);return new ne(this.R*s.lng*h,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(s){var h=180/Math.PI;return new et((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*h,s.x*h/this.R)},bounds:function(){var s=gr*Math.PI;return new De([-s,-s],[s,s])}()};function ln(s,h,m,w){if(k(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=h,this._c=m,this._d=w}ln.prototype={transform:function(s,h){return this._transform(s.clone(),h)},_transform:function(s,h){return h=h||1,s.x=h*(this._a*s.x+this._b),s.y=h*(this._c*s.y+this._d),s},untransform:function(s,h){return h=h||1,new ne((s.x/h-this._b)/this._a,(s.y/h-this._d)/this._c)}};function Mi(s,h,m,w){return new ln(s,h,m,w)}var it=l({},Tt,{code:"EPSG:3857",projection:Yi,transformation:function(){var s=.5/(Math.PI*Yi.R);return Mi(s,.5,-s,.5)}()}),Xi=l({},it,{code:"EPSG:900913"});function Kn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function pr(s,h){var m="",w,A,M,F,Z,$;for(w=0,M=s.length;w<M;w++){for(Z=s[w],A=0,F=Z.length;A<F;A++)$=Z[A],m+=(A?"L":"M")+$.x+" "+$.y;m+=h?Te.svg?"z":"x":""}return m||"M0 0"}var qt=document.documentElement.style,gt="ActiveXObject"in window,rt=gt&&!document.addEventListener,Rr="msLaunchUri"in navigator&&!("documentMode"in document),Ce=Wt("webkit"),Et=Wt("android"),Ho=Wt("android 2")||Wt("android 3"),X=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Le=Et&&Wt("Google")&&X<537&&!("AudioNode"in window),He=!!window.opera,ot=!Rr&&Wt("chrome"),cn=Wt("gecko")&&!Ce&&!He&&!gt,$t=!ot&&Wt("safari"),pt=Wt("phantom"),mt="OTransition"in qt,Qi=navigator.platform.indexOf("Win")===0,_t=gt&&"transition"in qt,se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ho,Xe="MozPerspective"in qt,We=!window.L_DISABLE_3D&&(_t||se||Xe)&&!mt&&!pt,Ke=typeof orientation<"u"||Wt("mobile"),wt=Ke&&Ce,Ht=Ke&&se,Nr=!window.PointerEvent&&window.MSPointerEvent,ht=!!(window.PointerEvent||Nr),mr="ontouchstart"in window||!!window.TouchEvent,ec=!window.L_NO_TOUCH&&(mr||ht),tc=Ke&&He,_i=Ke&&cn,Ca=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Sn=function(){var s=!1;try{var h=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",I,h),window.removeEventListener("testPassiveEventSupport",I,h)}catch{}return s}(),no=function(){return!!document.createElement("canvas").getContext}(),io=!!(document.createElementNS&&Kn("svg").createSVGRect),Li=!!io&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),od=!io&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var h=s.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Mr=navigator.platform.indexOf("Mac")===0,Sa=navigator.platform.indexOf("Linux")===0;function Wt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Te={ie:gt,ielt9:rt,edge:Rr,webkit:Ce,android:Et,android23:Ho,androidStock:Le,opera:He,chrome:ot,gecko:cn,safari:$t,phantom:pt,opera12:mt,win:Qi,ie3d:_t,webkit3d:se,gecko3d:Xe,any3d:We,mobile:Ke,mobileWebkit:wt,mobileWebkit3d:Ht,msPointer:Nr,pointer:ht,touch:ec,touchNative:mr,mobileOpera:tc,mobileGecko:_i,retina:Ca,passiveEvents:Sn,canvas:no,svg:io,vml:od,inlineSvg:Li,mac:Mr,linux:Sa},qn=Te.msPointer?"MSPointerDown":"pointerdown",Ee=Te.msPointer?"MSPointerMove":"pointermove",Lr=Te.msPointer?"MSPointerUp":"pointerup",Cs=Te.msPointer?"MSPointerCancel":"pointercancel",An={touchstart:qn,touchmove:Ee,touchend:Lr,touchcancel:Cs},Or={touchstart:_r,touchmove:Vo,touchend:Vo,touchcancel:Vo},Ki={},Wo=!1;function Oi(s,h,m){return h==="touchstart"&&Pt(),Or[h]?(m=Or[h].bind(this,m),s.addEventListener(An[h],m,!1),m):(console.warn("wrong event specified:",h),I)}function sd(s,h,m){if(!An[h]){console.warn("wrong event specified:",h);return}s.removeEventListener(An[h],m,!1)}function ad(s){Ki[s.pointerId]=s}function Di(s){Ki[s.pointerId]&&(Ki[s.pointerId]=s)}function In(s){delete Ki[s.pointerId]}function Pt(){Wo||(document.addEventListener(qn,ad,!0),document.addEventListener(Ee,Di,!0),document.addEventListener(Lr,In,!0),document.addEventListener(Cs,In,!0),Wo=!0)}function Vo(s,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var m in Ki)h.touches.push(Ki[m]);h.changedTouches=[h],s(h)}}function _r(s,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&yn(h),Vo(s,h)}function Aa(s){var h={},m,w;for(w in s)m=s[w],h[w]=m&&m.bind?m.bind(s):m;return s=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ie=200;function ld(s,h){s.addEventListener("dblclick",h);var m=0,w;function A(M){if(M.detail!==1){w=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var F=oo(M);if(!(F.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!F.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var Z=Date.now();Z-m<=ie?(w++,w===2&&h(Aa(M))):w=1,m=Z}}}return s.addEventListener("click",A),{dblclick:h,simDblclick:A}}function Qt(s,h){s.removeEventListener("dblclick",h.dblclick),s.removeEventListener("click",h.simDblclick)}var yr=G(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jo=G(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yt=jo==="webkitTransition"||jo==="OTransition"?jo+"End":"transitionend";function ft(s){return typeof s=="string"?document.getElementById(s):s}function Qe(s,h){var m=s.style[h]||s.currentStyle&&s.currentStyle[h];if((!m||m==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(s,null);m=w?w[h]:null}return m==="auto"?null:m}function ct(s,h,m){var w=document.createElement(s);return w.className=h||"",m&&m.appendChild(w),w}function Lt(s){var h=s.parentNode;h&&h.removeChild(s)}function ro(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Bt(s){var h=s.parentNode;h&&h.lastChild!==s&&h.appendChild(s)}function $n(s){var h=s.parentNode;h&&h.firstChild!==s&&h.insertBefore(s,h.firstChild)}function Ia(s,h){if(s.classList!==void 0)return s.classList.contains(h);var m=qi(s);return m.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(m)}function be(s,h){if(s.classList!==void 0)for(var m=Y(h),w=0,A=m.length;w<A;w++)s.classList.add(m[w]);else if(!Ia(s,h)){var M=qi(s);Ta(s,(M?M+" ":"")+h)}}function St(s,h){s.classList!==void 0?s.classList.remove(h):Ta(s,W((" "+qi(s)+" ").replace(" "+h+" "," ")))}function Ta(s,h){s.className.baseVal===void 0?s.className=h:s.className.baseVal=h}function qi(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function qe(s,h){"opacity"in s.style?s.style.opacity=h:"filter"in s.style&&Tn(s,h)}function Tn(s,h){var m=!1,w="DXImageTransform.Microsoft.Alpha";try{m=s.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),m?(m.Enabled=h!==100,m.Opacity=h):s.style.filter+=" progid:"+w+"(opacity="+h+")"}function G(s){for(var h=document.documentElement.style,m=0;m<s.length;m++)if(s[m]in h)return s[m];return!1}function O(s,h,m){var w=h||new ne(0,0);s.style[yr]=(Te.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(m?" scale("+m+")":"")}function _e(s,h){s._leaflet_pos=h,Te.any3d?O(s,h):(s.style.left=h.x+"px",s.style.top=h.y+"px")}function kt(s){return s._leaflet_pos||new ne(0,0)}var bn,Go,Zo;if("onselectstart"in document)bn=function(){ke(window,"selectstart",yn)},Go=function(){ye(window,"selectstart",yn)};else{var Rn=G(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bn=function(){if(Rn){var s=document.documentElement.style;Zo=s[Rn],s[Rn]="none"}},Go=function(){Rn&&(document.documentElement.style[Rn]=Zo,Zo=void 0)}}function Re(){ke(window,"dragstart",yn)}function Ot(){ye(window,"dragstart",yn)}var Yo,ba;function Xo(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Dr(),Yo=s,ba=s.style.outlineStyle,s.style.outlineStyle="none",ke(window,"keydown",Dr))}function Dr(){Yo&&(Yo.style.outlineStyle=ba,Yo=void 0,ba=void 0,ye(window,"keydown",Dr))}function Ss(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ra(s){var h=s.getBoundingClientRect();return{x:h.width/s.offsetWidth||1,y:h.height/s.offsetHeight||1,boundingClientRect:h}}var hn={__proto__:null,TRANSFORM:yr,TRANSITION:jo,TRANSITION_END:yt,get:ft,getStyle:Qe,create:ct,remove:Lt,empty:ro,toFront:Bt,toBack:$n,hasClass:Ia,addClass:be,removeClass:St,setClass:Ta,getClass:qi,setOpacity:qe,testProp:G,setTransform:O,setPosition:_e,getPosition:kt,get disableTextSelection(){return bn},get enableTextSelection(){return Go},disableImageDrag:Re,enableImageDrag:Ot,preventOutline:Xo,restoreOutline:Dr,getSizedParentNode:Ss,getScale:Ra};function ke(s,h,m,w){if(h&&typeof h=="object")for(var A in h)un(s,A,h[A],m);else{h=Y(h);for(var M=0,F=h.length;M<F;M++)un(s,h[M],m,w)}return this}var _n="_leaflet_events";function ye(s,h,m,w){if(arguments.length===1)nc(s),delete s[_n];else if(h&&typeof h=="object")for(var A in h)Na(s,A,h[A],m);else if(h=Y(h),arguments.length===2)nc(s,function(Z){return J(h,Z)!==-1});else for(var M=0,F=h.length;M<F;M++)Na(s,h[M],m,w);return this}function nc(s,h){for(var m in s[_n]){var w=m.split(/\d/)[0];(!h||h(w))&&Na(s,w,null,null,m)}}var Ve={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function un(s,h,m,w){var A=h+C(m)+(w?"_"+C(w):"");if(s[_n]&&s[_n][A])return this;var M=function(Z){return m.call(w||s,Z||window.event)},F=M;!Te.touchNative&&Te.pointer&&h.indexOf("touch")===0?M=Oi(s,h,M):Te.touch&&h==="dblclick"?M=ld(s,M):"addEventListener"in s?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?s.addEventListener(Ve[h]||h,M,Te.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(M=function(Z){Z=Z||window.event,Pr(s,Z)&&F(Z)},s.addEventListener(Ve[h],M,!1)):s.addEventListener(h,F,!1):s.attachEvent("on"+h,M),s[_n]=s[_n]||{},s[_n][A]=M}function Na(s,h,m,w,A){A=A||h+C(m)+(w?"_"+C(w):"");var M=s[_n]&&s[_n][A];if(!M)return this;!Te.touchNative&&Te.pointer&&h.indexOf("touch")===0?sd(s,h,M):Te.touch&&h==="dblclick"?Qt(s,M):"removeEventListener"in s?s.removeEventListener(Ve[h]||h,M,!1):s.detachEvent("on"+h,M),s[_n][A]=null}function $i(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function As(s){return un(s,"wheel",$i),this}function yi(s){return ke(s,"mousedown touchstart dblclick contextmenu",$i),s._leaflet_disable_click=!0,this}function yn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function xi(s){return yn(s),$i(s),this}function oo(s){if(s.composedPath)return s.composedPath();for(var h=[],m=s.target;m;)h.push(m),m=m.parentNode;return h}function so(s,h){if(!h)return new ne(s.clientX,s.clientY);var m=Ra(h),w=m.boundingClientRect;return new ne((s.clientX-w.left)/m.x-h.clientLeft,(s.clientY-w.top)/m.y-h.clientTop)}var ic=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ao(s){return Te.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/ic:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Pr(s,h){var m=h.relatedTarget;if(!m)return!0;try{for(;m&&m!==s;)m=m.parentNode}catch{return!1}return m!==s}var zn={__proto__:null,on:ke,off:ye,stopPropagation:$i,disableScrollPropagation:As,disableClickPropagation:yi,preventDefault:yn,stop:xi,getPropagationPath:oo,getMousePosition:so,getWheelDelta:ao,isExternalTarget:Pr,addListener:ke,removeListener:ye},Ma=xe.extend({run:function(s,h,m,w){this.stop(),this._el=s,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=kt(s),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ge(this._animate,this),this._step()},_step:function(s){var h=+new Date-this._startTime,m=this._duration*1e3;h<m?this._runFrame(this._easeOut(h/m),s):(this._runFrame(1),this._complete())},_runFrame:function(s,h){var m=this._startPos.add(this._offset.multiplyBy(s));h&&m._round(),_e(this._el,m),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),st=xe.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,h){h=V(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(ae(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jo&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,yt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,h,m){if(h=h===void 0?this._zoom:this._limitZoom(h),s=this._limitCenter(ae(s),h,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,h,m.zoom):this._tryAnimatedPan(s,m.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(s,h,m.pan&&m.pan.noMoveStart),this},setZoom:function(s,h){return this._loaded?this.setView(this.getCenter(),s,{zoom:h}):(this._zoom=s,this)},zoomIn:function(s,h){return s=s||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,h)},zoomOut:function(s,h){return s=s||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,h)},setZoomAround:function(s,h,m){var w=this.getZoomScale(h),A=this.getSize().divideBy(2),M=s instanceof ne?s:this.latLngToContainerPoint(s),F=M.subtract(A).multiplyBy(1-1/w),Z=this.containerPointToLatLng(A.add(F));return this.setView(Z,h,{zoom:m})},_getBoundsCenterZoom:function(s,h){h=h||{},s=s.getBounds?s.getBounds():Ue(s);var m=le(h.paddingTopLeft||h.padding||[0,0]),w=le(h.paddingBottomRight||h.padding||[0,0]),A=this.getBoundsZoom(s,!1,m.add(w));if(A=typeof h.maxZoom=="number"?Math.min(h.maxZoom,A):A,A===1/0)return{center:s.getCenter(),zoom:A};var M=w.subtract(m).divideBy(2),F=this.project(s.getSouthWest(),A),Z=this.project(s.getNorthEast(),A),$=this.unproject(F.add(Z).divideBy(2).add(M),A);return{center:$,zoom:A}},fitBounds:function(s,h){if(s=Ue(s),!s.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(s,h);return this.setView(m.center,m.zoom,h)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,h){return this.setView(s,this._zoom,{pan:h})},panBy:function(s,h){if(s=le(s).round(),h=h||{},!s.x&&!s.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){be(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,m,h.duration||.25,h.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,h,m){if(m=m||{},m.animate===!1||!Te.any3d)return this.setView(s,h,m);this._stop();var w=this.project(this.getCenter()),A=this.project(s),M=this.getSize(),F=this._zoom;s=ae(s),h=h===void 0?F:h;var Z=Math.max(M.x,M.y),$=Z*this.getZoomScale(F,h),re=A.distanceTo(w)||1,ve=1.42,Be=ve*ve;function tt(gn){var dc=gn?-1:1,Hy=gn?$:Z,Wy=$*$-Z*Z+dc*Be*Be*re*re,Vy=2*Hy*Be*re,pd=Wy/Vy,c0=Math.sqrt(pd*pd+1)-pd,jy=c0<1e-9?-18:Math.log(c0);return jy}function ni(gn){return(Math.exp(gn)-Math.exp(-gn))/2}function Nn(gn){return(Math.exp(gn)+Math.exp(-gn))/2}function Ui(gn){return ni(gn)/Nn(gn)}var li=tt(0);function Ns(gn){return Z*(Nn(li)/Nn(li+ve*gn))}function ky(gn){return Z*(Nn(li)*Ui(li+ve*gn)-ni(li))/Be}function Fy(gn){return 1-Math.pow(1-gn,1.5)}var zy=Date.now(),a0=(tt(1)-li)/ve,Uy=m.duration?1e3*m.duration:1e3*a0*.8;function l0(){var gn=(Date.now()-zy)/Uy,dc=Fy(gn)*a0;gn<=1?(this._flyToFrame=Ge(l0,this),this._move(this.unproject(w.add(A.subtract(w).multiplyBy(ky(dc)/re)),F),this.getScaleZoom(Z/Ns(dc),F),{flyTo:!0})):this._move(s,h)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),l0.call(this),this},flyToBounds:function(s,h){var m=this._getBoundsCenterZoom(s,h);return this.flyTo(m.center,m.zoom,h)},setMaxBounds:function(s){return s=Ue(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var h=this.options.minZoom;return this.options.minZoom=s,this._loaded&&h!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var h=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&h!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,h){this._enforcingBounds=!0;var m=this.getCenter(),w=this._limitCenter(m,this._zoom,Ue(s));return m.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(s,h){h=h||{};var m=le(h.paddingTopLeft||h.padding||[0,0]),w=le(h.paddingBottomRight||h.padding||[0,0]),A=this.project(this.getCenter()),M=this.project(s),F=this.getPixelBounds(),Z=Ne([F.min.add(m),F.max.subtract(w)]),$=Z.getSize();if(!Z.contains(M)){this._enforcingBounds=!0;var re=M.subtract(Z.getCenter()),ve=Z.extend(M).getSize().subtract($);A.x+=re.x<0?-ve.x:ve.x,A.y+=re.y<0?-ve.y:ve.y,this.panTo(this.unproject(A),h),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),w=h.divideBy(2).round(),A=m.divideBy(2).round(),M=w.subtract(A);return!M.x&&!M.y?this:(s.animate&&s.pan?this.panBy(M):(s.pan&&this._rawPanBy(M),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=p(this._handleGeolocationResponse,this),m=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,m,s):navigator.geolocation.getCurrentPosition(h,m,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var h=s.code,m=s.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var h=s.coords.latitude,m=s.coords.longitude,w=new et(h,m),A=w.toBounds(s.coords.accuracy*2),M=this._locateOptions;if(M.setView){var F=this.getBoundsZoom(A);this.setView(w,M.maxZoom?Math.min(F,M.maxZoom):F)}var Z={latlng:w,bounds:A,timestamp:s.timestamp};for(var $ in s.coords)typeof s.coords[$]=="number"&&(Z[$]=s.coords[$]);this.fire("locationfound",Z)}},addHandler:function(s,h){if(!h)return this;var m=this[s]=new h(this);return this._handlers.push(m),this.options[s]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Lt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,h){var m="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),w=ct("div",m,h||this._mapPane);return s&&(this._panes[s]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),h=this.unproject(s.getBottomLeft()),m=this.unproject(s.getTopRight());return new It(h,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,h,m){s=Ue(s),m=le(m||[0,0]);var w=this.getZoom()||0,A=this.getMinZoom(),M=this.getMaxZoom(),F=s.getNorthWest(),Z=s.getSouthEast(),$=this.getSize().subtract(m),re=Ne(this.project(Z,w),this.project(F,w)).getSize(),ve=Te.any3d?this.options.zoomSnap:1,Be=$.x/re.x,tt=$.y/re.y,ni=h?Math.max(Be,tt):Math.min(Be,tt);return w=this.getScaleZoom(ni,w),ve&&(w=Math.round(w/(ve/100))*(ve/100),w=h?Math.ceil(w/ve)*ve:Math.floor(w/ve)*ve),Math.max(A,Math.min(M,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,h){var m=this._getTopLeftPoint(s,h);return new De(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,h){var m=this.options.crs;return h=h===void 0?this._zoom:h,m.scale(s)/m.scale(h)},getScaleZoom:function(s,h){var m=this.options.crs;h=h===void 0?this._zoom:h;var w=m.zoom(s*m.scale(h));return isNaN(w)?1/0:w},project:function(s,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(ae(s),h)},unproject:function(s,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(le(s),h)},layerPointToLatLng:function(s){var h=le(s).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(s){var h=this.project(ae(s))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ae(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ue(s))},distance:function(s,h){return this.options.crs.distance(ae(s),ae(h))},containerPointToLayerPoint:function(s){return le(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return le(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var h=this.containerPointToLayerPoint(le(s));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(s)))},mouseEventToContainerPoint:function(s){return so(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var h=this._container=ft(s);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(h,"scroll",this._onScroll,this),this._containerId=C(h)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,be(s,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Qe(s,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(s.markerPane,"leaflet-zoom-hide"),be(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,h,m){_e(this._mapPane,new ne(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var A=this._zoom!==h;this._moveStart(A,m)._move(s,h)._moveEnd(A),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(s,h){return s&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(s,h,m,w){h===void 0&&(h=this._zoom);var A=this._zoom!==h;return this._zoom=h,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),w?m&&m.pinch&&this.fire("zoom",m):((A||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){_e(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[C(this._container)]=this;var h=s?ye:ke;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=Ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,h){for(var m=[],w,A=h==="mouseout"||h==="mouseover",M=s.target||s.srcElement,F=!1;M;){if(w=this._targets[C(M)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){F=!0;break}if(w&&w.listens(h,!0)&&(A&&!Pr(M,s)||(m.push(w),A))||M===this._container)break;M=M.parentNode}return!m.length&&!F&&!A&&this.listens(h,!0)&&(m=[this]),m},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var h=s.target||s.srcElement;if(!(!this._loaded||h._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(h))){var m=s.type;m==="mousedown"&&Xo(h),this._fireDOMEvent(s,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,h,m){if(s.type==="click"){var w=l({},s);w.type="preclick",this._fireDOMEvent(w,w.type,m)}var A=this._findEventTargets(s,h);if(m){for(var M=[],F=0;F<m.length;F++)m[F].listens(h,!0)&&M.push(m[F]);A=M.concat(A)}if(A.length){h==="contextmenu"&&yn(s);var Z=A[0],$={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var re=Z.getLatLng&&(!Z._radius||Z._radius<=10);$.containerPoint=re?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(s),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=re?Z.getLatLng():this.layerPointToLatLng($.layerPoint)}for(F=0;F<A.length;F++)if(A[F].fire(h,$,!0),$.originalEvent._stopped||A[F].options.bubblingMouseEvents===!1&&J(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,h=this._handlers.length;s<h;s++)this._handlers[s].disable()},whenReady:function(s,h){return this._loaded?s.call(h||this,{target:this}):this.on("load",s,h),this},_getMapPanePos:function(){return kt(this._mapPane)||new ne(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,h){var m=s&&h!==void 0?this._getNewPixelOrigin(s,h):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,h){var m=this.getSize()._divideBy(2);return this.project(s,h)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,h,m){var w=this._getNewPixelOrigin(m,h);return this.project(s,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(s,h,m){var w=this._getNewPixelOrigin(m,h);return Ne([this.project(s.getSouthWest(),h)._subtract(w),this.project(s.getNorthWest(),h)._subtract(w),this.project(s.getSouthEast(),h)._subtract(w),this.project(s.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,h,m){if(!m)return s;var w=this.project(s,h),A=this.getSize().divideBy(2),M=new De(w.subtract(A),w.add(A)),F=this._getBoundsOffset(M,m,h);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?s:this.unproject(w.add(F),h)},_limitOffset:function(s,h){if(!h)return s;var m=this.getPixelBounds(),w=new De(m.min.add(s),m.max.add(s));return s.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(s,h,m){var w=Ne(this.project(h.getNorthEast(),m),this.project(h.getSouthWest(),m)),A=w.min.subtract(s.min),M=w.max.subtract(s.max),F=this._rebound(A.x,-M.x),Z=this._rebound(A.y,-M.y);return new ne(F,Z)},_rebound:function(s,h){return s+h>0?Math.round(s-h)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(h))},_limitZoom:function(s){var h=this.getMinZoom(),m=this.getMaxZoom(),w=Te.any3d?this.options.zoomSnap:1;return w&&(s=Math.round(s/w)*w),Math.max(h,Math.min(m,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){St(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,h){var m=this._getCenterOffset(s)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,h),!0)},_createAnimProxy:function(){var s=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(h){var m=yr,w=this._proxy.style[m];O(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),h=this.getZoom();O(this._proxy,this.project(s,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,h,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),A=this._getCenterOffset(s)._divideBy(1-1/w);return m.animate!==!0&&!this.getSize().contains(A)?!1:(Ge(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(s,h,!0)},this),!0)},_animateZoom:function(s,h,m,w){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=h,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&St(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rc(s,h){return new st(s,h)}var Ei=Ye.extend({options:{position:"topright"},initialize:function(s){V(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var h=this._map;return h&&h.removeControl(this),this.options.position=s,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var h=this._container=this.onAdd(s),m=this.getPosition(),w=s._controlCorners[m];return be(h,"leaflet-control"),m.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Qo=function(s){return new Ei(s)};st.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},h="leaflet-",m=this._controlContainer=ct("div",h+"control-container",this._container);function w(A,M){var F=h+A+" "+h+M;s[A+M]=ct("div",F,m)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Lt(this._controlCorners[s]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var oc=Ei.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,h,m,w){return m<w?-1:w<m?1:0}},initialize:function(s,h,m){V(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in s)this._addLayer(s[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Ei.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,h){return this._addLayer(s,h),this._map?this._update():this},addOverlay:function(s,h){return this._addLayer(s,h,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var h=this._getLayer(C(s));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):St(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return St(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",h=this._container=ct("div",s),m=this.options.collapsed;h.setAttribute("aria-haspopup",!0),yi(h),As(h);var w=this._section=ct("section",s+"-list");m&&(this._map.on("click",this.collapse,this),ke(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=ct("a",s+"-toggle",h);A.href="#",A.title="Layers",A.setAttribute("role","button"),ke(A,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){yn(M),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ct("div",s+"-base",w),this._separator=ct("div",s+"-separator",w),this._overlaysList=ct("div",s+"-overlays",w),h.appendChild(w)},_getLayer:function(s){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&C(this._layers[h].layer)===s)return this._layers[h]},_addLayer:function(s,h,m){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:h,overlay:m}),this.options.sortLayers&&this._layers.sort(p(function(w,A){return this.options.sortFunction(w.layer,A.layer,w.name,A.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ro(this._baseLayersList),ro(this._overlaysList),this._layerControlInputs=[];var s,h,m,w,A=0;for(m=0;m<this._layers.length;m++)w=this._layers[m],this._addItem(w),h=h||w.overlay,s=s||!w.overlay,A+=w.overlay?0:1;return this.options.hideSingleBase&&(s=s&&A>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=h&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var h=this._getLayer(C(s.target)),m=h.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;m&&this._map.fire(m,h)},_createRadioElement:function(s,h){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=m,w.firstChild},_addItem:function(s){var h=document.createElement("label"),m=this._map.hasLayer(s.layer),w;s.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=m):w=this._createRadioElement("leaflet-base-layers_"+C(this),m),this._layerControlInputs.push(w),w.layerId=C(s.layer),ke(w,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+s.name;var M=document.createElement("span");h.appendChild(M),M.appendChild(w),M.appendChild(A);var F=s.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,h,m,w=[],A=[];this._handlingClick=!0;for(var M=s.length-1;M>=0;M--)h=s[M],m=this._getLayer(h.layerId).layer,h.checked?w.push(m):h.checked||A.push(m);for(M=0;M<A.length;M++)this._map.hasLayer(A[M])&&this._map.removeLayer(A[M]);for(M=0;M<w.length;M++)this._map.hasLayer(w[M])||this._map.addLayer(w[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,h,m,w=this._map.getZoom(),A=s.length-1;A>=0;A--)h=s[A],m=this._getLayer(h.layerId).layer,h.disabled=m.options.minZoom!==void 0&&w<m.options.minZoom||m.options.maxZoom!==void 0&&w>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ke(s,"click",yn),this.expand();var h=this;setTimeout(function(){ye(s,"click",yn),h._preventClick=!1})}}),At=function(s,h,m){return new oc(s,h,m)},Is=Ei.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var h="leaflet-control-zoom",m=ct("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",m,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,h,m,w,A){var M=ct("a",m,w);return M.innerHTML=s,M.href="#",M.title=h,M.setAttribute("role","button"),M.setAttribute("aria-label",h),yi(M),ke(M,"click",xi),ke(M,"click",A,this),ke(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var s=this._map,h="leaflet-disabled";St(this._zoomInButton,h),St(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(be(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(be(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Is,this.addControl(this.zoomControl))});var Ts=function(s){return new Is(s)},Ji=Ei.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var h="leaflet-control-scale",m=ct("div",h),w=this.options;return this._addScales(w,h+"-line",m),s.on(w.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),m},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,h,m){s.metric&&(this._mScale=ct("div",h,m)),s.imperial&&(this._iScale=ct("div",h,m))},_update:function(){var s=this._map,h=s.getSize().y/2,m=s.distance(s.containerPointToLatLng([0,h]),s.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(m)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var h=this._getRoundNum(s),m=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,m,h/s)},_updateImperial:function(s){var h=s*3.2808399,m,w,A;h>5280?(m=h/5280,w=this._getRoundNum(m),this._updateScale(this._iScale,w+" mi",w/m)):(A=this._getRoundNum(h),this._updateScale(this._iScale,A+" ft",A/h))},_updateScale:function(s,h,m){s.style.width=Math.round(this.options.maxWidth*m)+"px",s.innerHTML=h},_getRoundNum:function(s){var h=Math.pow(10,(Math.floor(s)+"").length-1),m=s/h;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,h*m}}),cd=function(s){return new Ji(s)},K='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ze=Ei.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?K+" ":"")+"Leaflet</a>"},initialize:function(s){V(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),yi(this._container);for(var h in s._layers)s._layers[h].getAttribution&&this.addAttribution(s._layers[h].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var h in this._attributions)this._attributions[h]&&s.push(h);var m=[];this.options.prefix&&m.push(this.options.prefix),s.length&&m.push(s.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new Ze().addTo(this)});var xn=function(s){return new Ze(s)};Ei.Layers=oc,Ei.Zoom=Is,Ei.Scale=Ji,Ei.Attribution=Ze,Qo.layers=At,Qo.zoom=Ts,Qo.scale=cd,Qo.attribution=xn;var Jn=Ye.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(s,h){return s.addHandler(h,this),this};var sc={Events:Oe},ac=Te.touch?"touchstart mousedown":"mousedown",xr=xe.extend({options:{clickTolerance:3},initialize:function(s,h,m,w){V(this,w),this._element=s,this._dragStartTarget=h||s,this._preventOutline=m},enable:function(){this._enabled||(ke(this._dragStartTarget,ac,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xr._dragging===this&&this.finishDrag(!0),ye(this._dragStartTarget,ac,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ia(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){xr._dragging===this&&this.finishDrag();return}if(!(xr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(xr._dragging=this,this._preventOutline&&Xo(this._element),Re(),bn(),!this._moving)){this.fire("down");var h=s.touches?s.touches[0]:s,m=Ss(this._element);this._startPoint=new ne(h.clientX,h.clientY),this._startPos=kt(this._element),this._parentScale=Ra(m);var w=s.type==="mousedown";ke(document,w?"mousemove":"touchmove",this._onMove,this),ke(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var h=s.touches&&s.touches.length===1?s.touches[0]:s,m=new ne(h.clientX,h.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,yn(s),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),_e(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){St(document.body,"leaflet-dragging"),this._lastTarget&&(St(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ye(document,"mousemove touchmove",this._onMove,this),ye(document,"mouseup touchend touchcancel",this._onUp,this),Ot(),Go();var h=this._moved&&this._moving;this._moving=!1,xr._dragging=!1,h&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function lc(s,h,m){var w,A=[1,4,2,8],M,F,Z,$,re,ve,Be,tt;for(M=0,ve=s.length;M<ve;M++)s[M]._code=kr(s[M],h);for(Z=0;Z<4;Z++){for(Be=A[Z],w=[],M=0,ve=s.length,F=ve-1;M<ve;F=M++)$=s[M],re=s[F],$._code&Be?re._code&Be||(tt=er(re,$,Be,h,m),tt._code=kr(tt,h),w.push(tt)):(re._code&Be&&(tt=er(re,$,Be,h,m),tt._code=kr(tt,h),w.push(tt)),w.push($));s=w}return s}function bs(s,h){var m,w,A,M,F,Z,$,re,ve;if(!s||s.length===0)throw new Error("latlngs not passed");ei(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Be=ae([0,0]),tt=Ue(s),ni=tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest());ni<1700&&(Be=Jt(s));var Nn=s.length,Ui=[];for(m=0;m<Nn;m++){var li=ae(s[m]);Ui.push(h.project(ae([li.lat-Be.lat,li.lng-Be.lng])))}for(Z=$=re=0,m=0,w=Nn-1;m<Nn;w=m++)A=Ui[m],M=Ui[w],F=A.y*M.x-M.y*A.x,$+=(A.x+M.x)*F,re+=(A.y+M.y)*F,Z+=F*3;Z===0?ve=Ui[0]:ve=[$/Z,re/Z];var Ns=h.unproject(le(ve));return ae([Ns.lat+Be.lat,Ns.lng+Be.lng])}function Jt(s){for(var h=0,m=0,w=0,A=0;A<s.length;A++){var M=ae(s[A]);h+=M.lat,m+=M.lng,w++}return ae([h/w,m/w])}var La={__proto__:null,clipPolygon:lc,polygonCenter:bs,centroid:Jt};function Vt(s,h){if(!h||!s.length)return s.slice();var m=h*h;return s=ud(s,m),s=bt(s,m),s}function Ko(s,h,m){return Math.sqrt(Fr(s,h,m,!0))}function Br(s,h,m){return Fr(s,h,m)}function bt(s,h){var m=s.length,w=typeof Uint8Array<"u"?Uint8Array:Array,A=new w(m);A[0]=A[m-1]=1,Me(s,A,h,0,m-1);var M,F=[];for(M=0;M<m;M++)A[M]&&F.push(s[M]);return F}function Me(s,h,m,w,A){var M=0,F,Z,$;for(Z=w+1;Z<=A-1;Z++)$=Fr(s[Z],s[w],s[A],!0),$>M&&(F=Z,M=$);M>m&&(h[F]=1,Me(s,h,m,w,F),Me(s,h,m,F,A))}function ud(s,h){for(var m=[s[0]],w=1,A=0,M=s.length;w<M;w++)Pi(s[w],s[A])>h&&(m.push(s[w]),A=w);return A<M-1&&m.push(s[M-1]),m}var Mt;function Er(s,h,m,w,A){var M=w?Mt:kr(s,m),F=kr(h,m),Z,$,re;for(Mt=F;;){if(!(M|F))return[s,h];if(M&F)return!1;Z=M||F,$=er(s,h,Z,m,A),re=kr($,m),Z===M?(s=$,M=re):(h=$,F=re)}}function er(s,h,m,w,A){var M=h.x-s.x,F=h.y-s.y,Z=w.min,$=w.max,re,ve;return m&8?(re=s.x+M*($.y-s.y)/F,ve=$.y):m&4?(re=s.x+M*(Z.y-s.y)/F,ve=Z.y):m&2?(re=$.x,ve=s.y+F*($.x-s.x)/M):m&1&&(re=Z.x,ve=s.y+F*(Z.x-s.x)/M),new ne(re,ve,A)}function kr(s,h){var m=0;return s.x<h.min.x?m|=1:s.x>h.max.x&&(m|=2),s.y<h.min.y?m|=4:s.y>h.max.y&&(m|=8),m}function Pi(s,h){var m=h.x-s.x,w=h.y-s.y;return m*m+w*w}function Fr(s,h,m,w){var A=h.x,M=h.y,F=m.x-A,Z=m.y-M,$=F*F+Z*Z,re;return $>0&&(re=((s.x-A)*F+(s.y-M)*Z)/$,re>1?(A=m.x,M=m.y):re>0&&(A+=F*re,M+=Z*re)),F=s.x-A,Z=s.y-M,w?F*F+Z*Z:new ne(A,M)}function ei(s){return!k(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Rs(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ei(s)}function Oa(s,h){var m,w,A,M,F,Z,$,re;if(!s||s.length===0)throw new Error("latlngs not passed");ei(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ve=ae([0,0]),Be=Ue(s),tt=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());tt<1700&&(ve=Jt(s));var ni=s.length,Nn=[];for(m=0;m<ni;m++){var Ui=ae(s[m]);Nn.push(h.project(ae([Ui.lat-ve.lat,Ui.lng-ve.lng])))}for(m=0,w=0;m<ni-1;m++)w+=Nn[m].distanceTo(Nn[m+1])/2;if(w===0)re=Nn[0];else for(m=0,M=0;m<ni-1;m++)if(F=Nn[m],Z=Nn[m+1],A=F.distanceTo(Z),M+=A,M>w){$=(M-w)/A,re=[Z.x-$*(Z.x-F.x),Z.y-$*(Z.y-F.y)];break}var li=h.unproject(le(re));return ae([li.lat+ve.lat,li.lng+ve.lng])}var cc={__proto__:null,simplify:Vt,pointToSegmentDistance:Ko,closestPointOnSegment:Br,clipSegment:Er,_getEdgeIntersection:er,_getBitCode:kr,_sqClosestPointOnSegment:Fr,isFlat:ei,_flat:Rs,polylineCenter:Oa},Da={project:function(s){return new ne(s.lng,s.lat)},unproject:function(s){return new et(s.y,s.x)},bounds:new De([-180,-90],[180,90])},vr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new De([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var h=Math.PI/180,m=this.R,w=s.lat*h,A=this.R_MINOR/m,M=Math.sqrt(1-A*A),F=M*Math.sin(w),Z=Math.tan(Math.PI/4-w/2)/Math.pow((1-F)/(1+F),M/2);return w=-m*Math.log(Math.max(Z,1e-10)),new ne(s.lng*h*m,w)},unproject:function(s){for(var h=180/Math.PI,m=this.R,w=this.R_MINOR/m,A=Math.sqrt(1-w*w),M=Math.exp(-s.y/m),F=Math.PI/2-2*Math.atan(M),Z=0,$=.1,re;Z<15&&Math.abs($)>1e-7;Z++)re=A*Math.sin(F),re=Math.pow((1-re)/(1+re),A/2),$=Math.PI/2-2*Math.atan(M*re)-F,F+=$;return new et(F*h,s.x*h/m)}},Pa={__proto__:null,LonLat:Da,Mercator:vr,SphericalMercator:Yi},dd=l({},Tt,{code:"EPSG:3395",projection:vr,transformation:function(){var s=.5/(Math.PI*vr.R);return Mi(s,.5,-s,.5)}()}),lo=l({},Tt,{code:"EPSG:4326",projection:Da,transformation:Mi(1/180,1,-1/180,.5)}),hd=l({},rn,{projection:Da,transformation:Mi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,h){var m=h.lng-s.lng,w=h.lat-s.lat;return Math.sqrt(m*m+w*w)},infinite:!0});rn.Earth=Tt,rn.EPSG3395=dd,rn.EPSG3857=it,rn.EPSG900913=Xi,rn.EPSG4326=lo,rn.Simple=hd;var fn=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[C(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[C(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var h=s.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var m=this.getEvents();h.on(m,this),this.once("remove",function(){h.off(m,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});st.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var h=C(s);return this._layers[h]?this:(this._layers[h]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var h=C(s);return this._layers[h]?(this._loaded&&s.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return C(s)in this._layers},eachLayer:function(s,h){for(var m in this._layers)s.call(h,this._layers[m]);return this},_addLayers:function(s){s=s?k(s)?s:[s]:[];for(var h=0,m=s.length;h<m;h++)this.addLayer(s[h])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[C(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var h=C(s);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,h=-1/0,m=this._getZoomSpan();for(var w in this._zoomBoundLayers){var A=this._zoomBoundLayers[w].options;s=A.minZoom===void 0?s:Math.min(s,A.minZoom),h=A.maxZoom===void 0?h:Math.max(h,A.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=s===1/0?void 0:s,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var tr=fn.extend({initialize:function(s,h){V(this,h),this._layers={};var m,w;if(s)for(m=0,w=s.length;m<w;m++)this.addLayer(s[m])},addLayer:function(s){var h=this.getLayerId(s);return this._layers[h]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var h=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(s){var h=typeof s=="number"?s:this.getLayerId(s);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var h=Array.prototype.slice.call(arguments,1),m,w;for(m in this._layers)w=this._layers[m],w[s]&&w[s].apply(w,h);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,h){for(var m in this._layers)s.call(h,this._layers[m]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return C(s)}}),ai=function(s,h){return new tr(s,h)},Bi=tr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),tr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),tr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new It;for(var h in this._layers){var m=this._layers[h];s.extend(m.getBounds?m.getBounds():m.getLatLng())}return s}}),ki=function(s,h){return new Bi(s,h)},co=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){V(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,h){var m=this._getIconUrl(s);if(!m){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(m,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(s,h){var m=this.options,w=m[h+"Size"];typeof w=="number"&&(w=[w,w]);var A=le(w),M=le(h==="shadow"&&m.shadowAnchor||m.iconAnchor||A&&A.divideBy(2,!0));s.className="leaflet-marker-"+h+" "+(m.className||""),M&&(s.style.marginLeft=-M.x+"px",s.style.marginTop=-M.y+"px"),A&&(s.style.width=A.x+"px",s.style.height=A.y+"px")},_createImg:function(s,h){return h=h||document.createElement("img"),h.src=s,h},_getIconUrl:function(s){return Te.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Ba(s){return new co(s)}var qo=co.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof qo.imagePath!="string"&&(qo.imagePath=this._detectIconPath()),(this.options.imagePath||qo.imagePath)+co.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var h=function(m,w,A){var M=w.exec(m);return M&&M[A]};return s=h(s,/^url\((['"])?(.+)\1\)$/,2),s&&h(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ct("div","leaflet-default-icon-path",document.body),h=Qe(s,"background-image")||Qe(s,"backgroundImage");if(document.body.removeChild(s),h=this._stripUrl(h),h)return h;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ka=Jn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&St(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var h=this._marker,m=h._map,w=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,M=kt(h._icon),F=m.getPixelBounds(),Z=m.getPixelOrigin(),$=Ne(F.min._subtract(Z).add(A),F.max._subtract(Z).subtract(A));if(!$.contains(M)){var re=le((Math.max($.max.x,M.x)-$.max.x)/(F.max.x-$.max.x)-(Math.min($.min.x,M.x)-$.min.x)/(F.min.x-$.min.x),(Math.max($.max.y,M.y)-$.max.y)/(F.max.y-$.max.y)-(Math.min($.min.y,M.y)-$.min.y)/(F.min.y-$.min.y)).multiplyBy(w);m.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),_e(h._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Ge(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=Ge(this._adjustPan.bind(this,s)))},_onDrag:function(s){var h=this._marker,m=h._shadow,w=kt(h._icon),A=h._map.layerPointToLatLng(w);m&&_e(m,w),h._latlng=A,s.latlng=A,s.oldLatLng=this._oldLatLng,h.fire("move",s).fire("drag",s)},_onDragEnd:function(s){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ti=fn.extend({options:{icon:new qo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,h){V(this,h),this._latlng=ae(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var h=this._latlng;return this._latlng=ae(s),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=s.icon.createIcon(this._icon),w=!1;m!==this._icon&&(this._icon&&this._removeIcon(),w=!0,s.title&&(m.title=s.title),m.tagName==="IMG"&&(m.alt=s.alt||"")),be(m,h),s.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(m,"focus",this._panOnFocus,this);var A=s.icon.createShadow(this._shadow),M=!1;A!==this._shadow&&(this._removeShadow(),M=!0),A&&(be(A,h),A.alt=""),this._shadow=A,s.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&M&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&_e(this._icon,s),this._shadow&&_e(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ka)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ka(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&qe(this._icon,s),this._shadow&&qe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var h=this.options.icon.options,m=h.iconSize?le(h.iconSize):le(0,0),w=h.iconAnchor?le(h.iconAnchor):le(0,0);s.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:m.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fd(s,h){return new ti(s,h)}var Fi=fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return V(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wr=Fi.extend({options:{fill:!0,radius:10},initialize:function(s,h){V(this,h),this._latlng=ae(s),this._radius=this.options.radius},setLatLng:function(s){var h=this._latlng;return this._latlng=ae(s),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var h=s&&s.radius||this._radius;return Fi.prototype.setStyle.call(this,s),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,h=this._radiusY||s,m=this._clickTolerance(),w=[s+m,h+m];this._pxBounds=new De(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dt(s,h){return new wr(s,h)}var uo=wr.extend({initialize:function(s,h,m){if(typeof h=="number"&&(h=l({},m,{radius:h})),V(this,h),this._latlng=ae(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new It(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Fi.prototype.setStyle,_project:function(){var s=this._latlng.lng,h=this._latlng.lat,m=this._map,w=m.options.crs;if(w.distance===Tt.distance){var A=Math.PI/180,M=this._mRadius/Tt.R/A,F=m.project([h+M,s]),Z=m.project([h-M,s]),$=F.add(Z).divideBy(2),re=m.unproject($).lat,ve=Math.acos((Math.cos(M*A)-Math.sin(h*A)*Math.sin(re*A))/(Math.cos(h*A)*Math.cos(re*A)))/A;(isNaN(ve)||ve===0)&&(ve=M/Math.cos(Math.PI/180*h)),this._point=$.subtract(m.getPixelOrigin()),this._radius=isNaN(ve)?0:$.x-m.project([re,s-ve]).x,this._radiusY=$.y-F.y}else{var Be=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Be).x}this._updateBounds()}});function T(s,h,m){return new uo(s,h,m)}var i=Fi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,h){V(this,h),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var h=1/0,m=null,w=Fr,A,M,F=0,Z=this._parts.length;F<Z;F++)for(var $=this._parts[F],re=1,ve=$.length;re<ve;re++){A=$[re-1],M=$[re];var Be=w(s,A,M,!0);Be<h&&(h=Be,m=w(s,A,M))}return m&&(m.distance=Math.sqrt(h)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,h){return h=h||this._defaultShape(),s=ae(s),h.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new It,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ei(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var h=[],m=ei(s),w=0,A=s.length;w<A;w++)m?(h[w]=ae(s[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(s[w]);return h},_project:function(){var s=new De;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),h=new ne(s,s);this._rawPxBounds&&(this._pxBounds=new De([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(s,h,m){var w=s[0]instanceof et,A=s.length,M,F;if(w){for(F=[],M=0;M<A;M++)F[M]=this._map.latLngToLayerPoint(s[M]),m.extend(F[M]);h.push(F)}else for(M=0;M<A;M++)this._projectLatlngs(s[M],h,m)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,m,w,A,M,F,Z,$;for(m=0,A=0,M=this._rings.length;m<M;m++)for($=this._rings[m],w=0,F=$.length;w<F-1;w++)Z=Er($[w],$[w+1],s,w,!0),Z&&(h[A]=h[A]||[],h[A].push(Z[0]),(Z[1]!==$[w+1]||w===F-2)&&(h[A].push(Z[1]),A++))}},_simplifyPoints:function(){for(var s=this._parts,h=this.options.smoothFactor,m=0,w=s.length;m<w;m++)s[m]=Vt(s[m],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,h){var m,w,A,M,F,Z,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(m=0,M=this._parts.length;m<M;m++)for(Z=this._parts[m],w=0,F=Z.length,A=F-1;w<F;A=w++)if(!(!h&&w===0)&&Ko(s,Z[A],Z[w])<=$)return!0;return!1}});function o(s,h){return new i(s,h)}i._flat=Rs;var a=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var h=i.prototype._convertLatLngs.call(this,s),m=h.length;return m>=2&&h[0]instanceof et&&h[0].equals(h[m-1])&&h.pop(),h},_setLatLngs:function(s){i.prototype._setLatLngs.call(this,s),ei(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ei(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,h=this.options.weight,m=new ne(h,h);if(s=new De(s.min.subtract(m),s.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,A=this._rings.length,M;w<A;w++)M=lc(this._rings[w],s,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var h=!1,m,w,A,M,F,Z,$,re;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(M=0,$=this._parts.length;M<$;M++)for(m=this._parts[M],F=0,re=m.length,Z=re-1;F<re;Z=F++)w=m[F],A=m[Z],w.y>s.y!=A.y>s.y&&s.x<(A.x-w.x)*(s.y-w.y)/(A.y-w.y)+w.x&&(h=!h);return h||i.prototype._containsPoint.call(this,s,!0)}});function c(s,h){return new a(s,h)}var d=Bi.extend({initialize:function(s,h){V(this,h),this._layers={},s&&this.addData(s)},addData:function(s){var h=k(s)?s:s.features,m,w,A;if(h){for(m=0,w=h.length;m<w;m++)A=h[m],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var M=this.options;if(M.filter&&!M.filter(s))return this;var F=f(s,M);return F?(F.feature=P(s),F.defaultOptions=F.options,this.resetStyle(F),M.onEachFeature&&M.onEachFeature(s,F),this.addLayer(F)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(h){this._setLayerStyle(h,s)},this)},_setLayerStyle:function(s,h){s.setStyle&&(typeof h=="function"&&(h=h(s.feature)),s.setStyle(h))}});function f(s,h){var m=s.type==="Feature"?s.geometry:s,w=m?m.coordinates:null,A=[],M=h&&h.pointToLayer,F=h&&h.coordsToLatLng||y,Z,$,re,ve;if(!w&&!m)return null;switch(m.type){case"Point":return Z=F(w),g(M,s,Z,h);case"MultiPoint":for(re=0,ve=w.length;re<ve;re++)Z=F(w[re]),A.push(g(M,s,Z,h));return new Bi(A);case"LineString":case"MultiLineString":return $=E(w,m.type==="LineString"?0:1,F),new i($,h);case"Polygon":case"MultiPolygon":return $=E(w,m.type==="Polygon"?1:2,F),new a($,h);case"GeometryCollection":for(re=0,ve=m.geometries.length;re<ve;re++){var Be=f({geometry:m.geometries[re],type:"Feature",properties:s.properties},h);Be&&A.push(Be)}return new Bi(A);case"FeatureCollection":for(re=0,ve=m.features.length;re<ve;re++){var tt=f(m.features[re],h);tt&&A.push(tt)}return new Bi(A);default:throw new Error("Invalid GeoJSON object.")}}function g(s,h,m,w){return s?s(h,m):new ti(m,w&&w.markersInheritOptions&&w)}function y(s){return new et(s[1],s[0],s[2])}function E(s,h,m){for(var w=[],A=0,M=s.length,F;A<M;A++)F=h?E(s[A],h-1,m):(m||y)(s[A]),w.push(F);return w}function S(s,h){return s=ae(s),s.alt!==void 0?[D(s.lng,h),D(s.lat,h),D(s.alt,h)]:[D(s.lng,h),D(s.lat,h)]}function b(s,h,m,w){for(var A=[],M=0,F=s.length;M<F;M++)A.push(h?b(s[M],ei(s[M])?0:h-1,m,w):S(s[M],w));return!h&&m&&A.length>0&&A.push(A[0].slice()),A}function N(s,h){return s.feature?l({},s.feature,{geometry:h}):P(h)}function P(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var z={toGeoJSON:function(s){return N(this,{type:"Point",coordinates:S(this.getLatLng(),s)})}};ti.include(z),uo.include(z),wr.include(z),i.include({toGeoJSON:function(s){var h=!ei(this._latlngs),m=b(this._latlngs,h?1:0,!1,s);return N(this,{type:(h?"Multi":"")+"LineString",coordinates:m})}}),a.include({toGeoJSON:function(s){var h=!ei(this._latlngs),m=h&&!ei(this._latlngs[0]),w=b(this._latlngs,m?2:h?1:0,!0,s);return h||(w=[w]),N(this,{type:(m?"Multi":"")+"Polygon",coordinates:w})}}),tr.include({toMultiPoint:function(s){var h=[];return this.eachLayer(function(m){h.push(m.toGeoJSON(s).geometry.coordinates)}),N(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(s){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(s);var m=h==="GeometryCollection",w=[];return this.eachLayer(function(A){if(A.toGeoJSON){var M=A.toGeoJSON(s);if(m)w.push(M.geometry);else{var F=P(M);F.type==="FeatureCollection"?w.push.apply(w,F.features):w.push(F)}}}),m?N(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function U(s,h){return new d(s,h)}var j=U,Q=fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,h,m){this._url=s,this._bounds=Ue(h),V(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Bt(this._image),this},bringToBack:function(){return this._map&&$n(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ue(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",h=this._image=s?this._url:ct("img");if(be(h,"leaflet-image-layer"),this._zoomAnimated&&be(h,"leaflet-zoom-animated"),this.options.className&&be(h,this.options.className),h.onselectstart=I,h.onmousemove=I,h.onload=p(this.fire,this,"load"),h.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(s){var h=this._map.getZoomScale(s.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;O(this._image,m,h)},_reset:function(){var s=this._image,h=new De(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=h.getSize();_e(s,h.min),s.style.width=m.x+"px",s.style.height=m.y+"px"},_updateOpacity:function(){qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ue=function(s,h,m){return new Q(s,h,m)},de=Q.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",h=this._image=s?this._url:ct("video");if(be(h,"leaflet-image-layer"),this._zoomAnimated&&be(h,"leaflet-zoom-animated"),this.options.className&&be(h,this.options.className),h.onselectstart=I,h.onmousemove=I,h.onloadeddata=p(this.fire,this,"load"),s){for(var m=h.getElementsByTagName("source"),w=[],A=0;A<m.length;A++)w.push(m[A].src);this._url=m.length>0?w:[h.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var F=ct("source");F.src=this._url[M],h.appendChild(F)}}});function oe(s,h,m){return new de(s,h,m)}var $e=Q.extend({_initImage:function(){var s=this._image=this._url;be(s,"leaflet-image-layer"),this._zoomAnimated&&be(s,"leaflet-zoom-animated"),this.options.className&&be(s,this.options.className),s.onselectstart=I,s.onmousemove=I}});function je(s,h,m){return new $e(s,h,m)}var jt=fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,h){s&&(s instanceof et||k(s))?(this._latlng=ae(s),V(this,h)):(V(this,s),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&qe(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(qe(this._container,0),this._removeTimeout=setTimeout(p(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ae(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bt(this._container),this},bringToBack:function(){return this._map&&$n(this._container),this},_prepareOpen:function(s){var h=this._source;if(!h._map)return!1;if(h instanceof Bi){h=null;var m=this._source._layers;for(var w in m)if(m[w]._map){h=m[w];break}if(!h)return!1;this._source=h}if(!s)if(h.getCenter)s=h.getCenter();else if(h.getLatLng)s=h.getLatLng();else if(h.getBounds)s=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")s.innerHTML=h;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),h=le(this.options.offset),m=this._getAnchor();this._zoomAnimated?_e(this._container,s.add(m)):h=h.add(s).add(m);var w=this._containerBottom=-h.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(s,h,m,w){var A=h;return A instanceof s||(A=new s(w).setContent(h)),m&&A.setLatLng(m),A}}),fn.include({_initOverlay:function(s,h,m,w){var A=m;return A instanceof s?(V(A,w),A._source=this):(A=h&&!w?h:new s(w,this),A.setContent(m)),A}});var Un=jt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,jt.prototype.openOn.call(this,s)},onAdd:function(s){jt.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fi||this._source.on("preclick",$i))},onRemove:function(s){jt.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fi||this._source.off("preclick",$i))},getEvents:function(){var s=jt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",h=this._container=ct("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ct("div",s+"-content-wrapper",h);if(this._contentNode=ct("div",s+"-content",m),yi(h),As(this._contentNode),ke(h,"contextmenu",$i),this._tipContainer=ct("div",s+"-tip-container",h),this._tip=ct("div",s+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ct("a",s+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ke(w,"click",function(A){yn(A),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,h=s.style;h.width="",h.whiteSpace="nowrap";var m=s.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),h.width=m+1+"px",h.whiteSpace="",h.height="";var w=s.offsetHeight,A=this.options.maxHeight,M="leaflet-popup-scrolled";A&&w>A?(h.height=A+"px",be(s,M)):St(s,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),m=this._getAnchor();_e(this._container,h.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,h=parseInt(Qe(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+h,w=this._containerWidth,A=new ne(this._containerLeft,-m-this._containerBottom);A._add(kt(this._container));var M=s.layerPointToContainerPoint(A),F=le(this.options.autoPanPadding),Z=le(this.options.autoPanPaddingTopLeft||F),$=le(this.options.autoPanPaddingBottomRight||F),re=s.getSize(),ve=0,Be=0;M.x+w+$.x>re.x&&(ve=M.x+w-re.x+$.x),M.x-ve-Z.x<0&&(ve=M.x-Z.x),M.y+m+$.y>re.y&&(Be=M.y+m-re.y+$.y),M.y-Be-Z.y<0&&(Be=M.y-Z.y),(ve||Be)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ve,Be]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Hn=function(s,h){return new Un(s,h)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(s,h,m){return this._initOverlay(Un,s,h,m).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),fn.include({bindPopup:function(s,h){return this._popup=this._initOverlay(Un,this._popup,s,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){xi(s);var h=s.layer||s.target;if(this._popup._source===h&&!(h instanceof Fi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=h,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var vt=jt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){jt.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){jt.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=jt.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",h=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+C(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var h,m,w=this._map,A=this._container,M=w.latLngToContainerPoint(w.getCenter()),F=w.layerPointToContainerPoint(s),Z=this.options.direction,$=A.offsetWidth,re=A.offsetHeight,ve=le(this.options.offset),Be=this._getAnchor();Z==="top"?(h=$/2,m=re):Z==="bottom"?(h=$/2,m=0):Z==="center"?(h=$/2,m=re/2):Z==="right"?(h=0,m=re/2):Z==="left"?(h=$,m=re/2):F.x<M.x?(Z="right",h=0,m=re/2):(Z="left",h=$+(ve.x+Be.x)*2,m=re/2),s=s.subtract(le(h,m,!0)).add(ve).add(Be),St(A,"leaflet-tooltip-right"),St(A,"leaflet-tooltip-left"),St(A,"leaflet-tooltip-top"),St(A,"leaflet-tooltip-bottom"),be(A,"leaflet-tooltip-"+Z),_e(A,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&qe(this._container,s)},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(h)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),En=function(s,h){return new vt(s,h)};st.include({openTooltip:function(s,h,m){return this._initOverlay(vt,s,h,m).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),fn.include({bindTooltip:function(s,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vt,this._tooltip,s,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var h=s?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[h](m),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var h=typeof s.getElement=="function"&&s.getElement();h&&(ke(h,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ke(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var h=typeof s.getElement=="function"&&s.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var h=s.latlng,m,w;this._tooltip.options.sticky&&s.originalEvent&&(m=this._map.mouseEventToContainerPoint(s.originalEvent),w=this._map.containerPointToLayerPoint(m),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Wn=co.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var h=s&&s.tagName==="DIV"?s:document.createElement("div"),m=this.options;if(m.html instanceof Element?(ro(h),h.appendChild(m.html)):h.innerHTML=m.html!==!1?m.html:"",m.bgPos){var w=le(m.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function ho(s){return new Wn(s)}co.Default=qo;var zi=fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){V(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Lt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ne?s:new ne(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var h=this.getPane().children,m=-s(-1/0,1/0),w=0,A=h.length,M;w<A;w++)M=h[w].style.zIndex,h[w]!==this._container&&M&&(m=s(m,+M));isFinite(m)&&(this.options.zIndex=m+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){qe(this._container,this.options.opacity);var s=+new Date,h=!1,m=!1;for(var w in this._tiles){var A=this._tiles[w];if(!(!A.current||!A.loaded)){var M=Math.min(1,(s-A.loaded)/200);qe(A.el,M),M<1?h=!0:(A.active?m=!0:this._onOpaqueTile(A),A.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),h&&(we(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,h=this.options.maxZoom;if(s!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===s?(this._levels[m].el.style.zIndex=h-Math.abs(s-m),this._onUpdateLevel(m)):(Lt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var w=this._levels[s],A=this._map;return w||(w=this._levels[s]={},w.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=A.project(A.unproject(A.getPixelOrigin()),s).round(),w.zoom=s,this._setZoomTransform(w,A.getCenter(),A.getZoom()),I(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var s,h,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)h=this._tiles[s],h.retain=h.current;for(s in this._tiles)if(h=this._tiles[s],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var h in this._tiles)this._tiles[h].coords.z===s&&this._removeTile(h)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Lt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,h,m,w){var A=Math.floor(s/2),M=Math.floor(h/2),F=m-1,Z=new ne(+A,+M);Z.z=+F;var $=this._tileCoordsToKey(Z),re=this._tiles[$];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),F>w?this._retainParent(A,M,F,w):!1)},_retainChildren:function(s,h,m,w){for(var A=2*s;A<2*s+2;A++)for(var M=2*h;M<2*h+2;M++){var F=new ne(A,M);F.z=m+1;var Z=this._tileCoordsToKey(F),$=this._tiles[Z];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);m+1<w&&this._retainChildren(A,M,m+1,w)}},_resetView:function(s){var h=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var h=this.options;return h.minNativeZoom!==void 0&&s<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<s?h.maxNativeZoom:s},_setView:function(s,h,m,w){var A=Math.round(h);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var M=this.options.updateWhenZooming&&A!==this._tileZoom;(!w||M)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(s),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(s,h)},_setZoomTransforms:function(s,h){for(var m in this._levels)this._setZoomTransform(this._levels[m],s,h)},_setZoomTransform:function(s,h,m){var w=this._map.getZoomScale(m,s.zoom),A=s.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,m)).round();Te.any3d?O(s.el,A,w):_e(s.el,A)},_resetGrid:function(){var s=this._map,h=s.options.crs,m=this._tileSize=this.getTileSize(),w=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,h.wrapLng[0]],w).x/m.x),Math.ceil(s.project([0,h.wrapLng[1]],w).x/m.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([h.wrapLat[0],0],w).y/m.x),Math.ceil(s.project([h.wrapLat[1],0],w).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var h=this._map,m=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(m,this._tileZoom),A=h.project(s,this._tileZoom).floor(),M=h.getSize().divideBy(w*2);return new De(A.subtract(M),A.add(M))},_update:function(s){var h=this._map;if(h){var m=this._clampZoom(h.getZoom());if(s===void 0&&(s=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(s),A=this._pxBoundsToTileRange(w),M=A.getCenter(),F=[],Z=this.options.keepBuffer,$=new De(A.getBottomLeft().subtract([Z,-Z]),A.getTopRight().add([Z,-Z]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var ve=this._tiles[re].coords;(ve.z!==this._tileZoom||!$.contains(new ne(ve.x,ve.y)))&&(this._tiles[re].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(s,m);return}for(var Be=A.min.y;Be<=A.max.y;Be++)for(var tt=A.min.x;tt<=A.max.x;tt++){var ni=new ne(tt,Be);if(ni.z=this._tileZoom,!!this._isValidTile(ni)){var Nn=this._tiles[this._tileCoordsToKey(ni)];Nn?Nn.current=!0:F.push(ni)}}if(F.sort(function(li,Ns){return li.distanceTo(M)-Ns.distanceTo(M)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ui=document.createDocumentFragment();for(tt=0;tt<F.length;tt++)this._addTile(F[tt],Ui);this._level.el.appendChild(Ui)}}}},_isValidTile:function(s){var h=this._map.options.crs;if(!h.infinite){var m=this._globalTileRange;if(!h.wrapLng&&(s.x<m.min.x||s.x>m.max.x)||!h.wrapLat&&(s.y<m.min.y||s.y>m.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(s);return Ue(this.options.bounds).overlaps(w)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var h=this._map,m=this.getTileSize(),w=s.scaleBy(m),A=w.add(m),M=h.unproject(w,s.z),F=h.unproject(A,s.z);return[M,F]},_tileCoordsToBounds:function(s){var h=this._tileCoordsToNwSe(s),m=new It(h[0],h[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var h=s.split(":"),m=new ne(+h[0],+h[1]);return m.z=+h[2],m},_removeTile:function(s){var h=this._tiles[s];h&&(Lt(h.el),delete this._tiles[s],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){be(s,"leaflet-tile");var h=this.getTileSize();s.style.width=h.x+"px",s.style.height=h.y+"px",s.onselectstart=I,s.onmousemove=I,Te.ielt9&&this.options.opacity<1&&qe(s,this.options.opacity)},_addTile:function(s,h){var m=this._getTilePos(s),w=this._tileCoordsToKey(s),A=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(A),this.createTile.length<2&&Ge(p(this._tileReady,this,s,null,A)),_e(A,m),this._tiles[w]={el:A,coords:s,current:!0},h.appendChild(A),this.fire("tileloadstart",{tile:A,coords:s})},_tileReady:function(s,h,m){h&&this.fire("tileerror",{error:h,tile:m,coords:s});var w=this._tileCoordsToKey(s);m=this._tiles[w],m&&(m.loaded=+new Date,this._map._fadeAnimated?(qe(m.el,0),we(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),h||(be(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?Ge(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var h=new ne(this._wrapX?R(s.x,this._wrapX):s.x,this._wrapY?R(s.y,this._wrapY):s.y);return h.z=s.z,h},_pxBoundsToTileRange:function(s){var h=this.getTileSize();return new De(s.min.unscaleBy(h).floor(),s.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function gd(s){return new zi(s)}var fo=zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,h){this._url=s,h=V(this,h),h.detectRetina&&Te.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,h){return this._url===s&&h===void 0&&(h=!0),this._url=s,h||this.redraw(),this},createTile:function(s,h){var m=document.createElement("img");return ke(m,"load",p(this._tileOnLoad,this,h,m)),ke(m,"error",p(this._tileOnError,this,h,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(s),m},getTileUrl:function(s){var h={r:Te.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-s.y;this.options.tms&&(h.y=m),h["-y"]=m}return B(this._url,l(h,this.options))},_tileOnLoad:function(s,h){Te.ielt9?setTimeout(p(s,this,null,h),0):s(null,h)},_tileOnError:function(s,h,m){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),s(m,h)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,h=this.options.maxZoom,m=this.options.zoomReverse,w=this.options.zoomOffset;return m&&(s=h-s),s+w},_getSubdomain:function(s){var h=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var s,h;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(h=this._tiles[s].el,h.onload=I,h.onerror=I,!h.complete)){h.src=pe;var m=this._tiles[s].coords;Lt(h),delete this._tiles[s],this.fire("tileabort",{tile:h,coords:m})}},_removeTile:function(s){var h=this._tiles[s];if(h)return h.el.setAttribute("src",pe),zi.prototype._removeTile.call(this,s)},_tileReady:function(s,h,m){if(!(!this._map||m&&m.getAttribute("src")===pe))return zi.prototype._tileReady.call(this,s,h,m)}});function X1(s,h){return new fo(s,h)}var Q1=fo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,h){this._url=s;var m=l({},this.defaultWmsParams);for(var w in h)w in this.options||(m[w]=h[w]);h=V(this,h);var A=h.detectRetina&&Te.retina?2:1,M=this.getTileSize();m.width=M.x*A,m.height=M.y*A,this.wmsParams=m},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,fo.prototype.onAdd.call(this,s)},getTileUrl:function(s){var h=this._tileCoordsToNwSe(s),m=this._crs,w=Ne(m.project(h[0]),m.project(h[1])),A=w.min,M=w.max,F=(this._wmsVersion>=1.3&&this._crs===lo?[A.y,A.x,M.y,M.x]:[A.x,A.y,M.x,M.y]).join(","),Z=fo.prototype.getTileUrl.call(this,s);return Z+me(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(s,h){return l(this.wmsParams,s),h||this.redraw(),this}});function Ly(s,h){return new Q1(s,h)}fo.WMS=Q1,X1.wms=Ly;var zr=fn.extend({options:{padding:.1},initialize:function(s){V(this,s),C(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,h){var m=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,h),M=w.multiplyBy(-m).add(A).subtract(this._map._getNewPixelOrigin(s,h));Te.any3d?O(this._container,M,m):_e(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,h=this._map.getSize(),m=this._map.containerPointToLayerPoint(h.multiplyBy(-s)).round();this._bounds=new De(m,m.add(h.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),K1=zr.extend({options:{tolerance:0},getEvents:function(){var s=zr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ke(s,"mousemove",this._onMouseMove,this),ke(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,Lt(this._container),ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var h in this._layers)s=this._layers[h],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,h=this._container,m=s.getSize(),w=Te.retina?2:1;_e(h,s.min),h.width=w*m.x,h.height=w*m.y,h.style.width=m.x+"px",h.style.height=m.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[C(s)]=s;var h=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var h=s._order,m=h.next,w=h.prev;m?m.prev=w:this._drawLast=w,w?w.next=m:this._drawFirst=m,delete s._order,delete this._layers[C(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var h=s.options.dashArray.split(/[, ]+/),m=[],w,A;for(A=0;A<h.length;A++){if(w=Number(h[A]),isNaN(w))return;m.push(w)}s.options._dashArray=m}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Ge(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var h=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new De,this._redrawBounds.extend(s._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(s._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var h=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,h=this._redrawBounds;if(this._ctx.save(),h){var m=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)s=w.layer,(!h||s._pxBounds&&s._pxBounds.intersects(h))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,h){if(this._drawing){var m,w,A,M,F=s._parts,Z=F.length,$=this._ctx;if(Z){for($.beginPath(),m=0;m<Z;m++){for(w=0,A=F[m].length;w<A;w++)M=F[m][w],$[w?"lineTo":"moveTo"](M.x,M.y);h&&$.closePath()}this._fillStroke($,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var h=s._point,m=this._ctx,w=Math.max(Math.round(s._radius),1),A=(Math.max(Math.round(s._radiusY),1)||w)/w;A!==1&&(m.save(),m.scale(1,A)),m.beginPath(),m.arc(h.x,h.y/A,w,0,Math.PI*2,!1),A!==1&&m.restore(),this._fillStroke(m,s)}},_fillStroke:function(s,h){var m=h.options;m.fill&&(s.globalAlpha=m.fillOpacity,s.fillStyle=m.fillColor||m.color,s.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(s.setLineDash&&s.setLineDash(h.options&&h.options._dashArray||[]),s.globalAlpha=m.opacity,s.lineWidth=m.weight,s.strokeStyle=m.color,s.lineCap=m.lineCap,s.lineJoin=m.lineJoin,s.stroke())},_onClick:function(s){for(var h=this._map.mouseEventToLayerPoint(s),m,w,A=this._drawFirst;A;A=A.next)m=A.layer,m.options.interactive&&m._containsPoint(h)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(m))&&(w=m);this._fireEvent(w?[w]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,h)}},_handleMouseOut:function(s){var h=this._hoveredLayer;h&&(St(this._container,"leaflet-interactive"),this._fireEvent([h],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,h){if(!this._mouseHoverThrottled){for(var m,w,A=this._drawFirst;A;A=A.next)m=A.layer,m.options.interactive&&m._containsPoint(h)&&(w=m);w!==this._hoveredLayer&&(this._handleMouseOut(s),w&&(be(this._container,"leaflet-interactive"),this._fireEvent([w],s,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,h,m){this._map._fireDOMEvent(h,m||h.type,s)},_bringToFront:function(s){var h=s._order;if(h){var m=h.next,w=h.prev;if(m)m.prev=w;else return;w?w.next=m:m&&(this._drawFirst=m),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(s)}},_bringToBack:function(s){var h=s._order;if(h){var m=h.next,w=h.prev;if(w)w.next=m;else return;m?m.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(s)}}});function q1(s){return Te.canvas?new K1(s):null}var Fa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Oy={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var h=s._container=Fa("shape");be(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",s._path=Fa("path"),h.appendChild(s._path),this._updateStyle(s),this._layers[C(s)]=s},_addPath:function(s){var h=s._container;this._container.appendChild(h),s.options.interactive&&s.addInteractiveTarget(h)},_removePath:function(s){var h=s._container;Lt(h),s.removeInteractiveTarget(h),delete this._layers[C(s)]},_updateStyle:function(s){var h=s._stroke,m=s._fill,w=s.options,A=s._container;A.stroked=!!w.stroke,A.filled=!!w.fill,w.stroke?(h||(h=s._stroke=Fa("stroke")),A.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=k(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(A.removeChild(h),s._stroke=null),w.fill?(m||(m=s._fill=Fa("fill")),A.appendChild(m),m.color=w.fillColor||w.color,m.opacity=w.fillOpacity):m&&(A.removeChild(m),s._fill=null)},_updateCircle:function(s){var h=s._point.round(),m=Math.round(s._radius),w=Math.round(s._radiusY||m);this._setPath(s,s._empty()?"M0 0":"AL "+h.x+","+h.y+" "+m+","+w+" 0,"+65535*360)},_setPath:function(s,h){s._path.v=h},_bringToFront:function(s){Bt(s._container)},_bringToBack:function(s){$n(s._container)}},uc=Te.vml?Fa:Kn,za=zr.extend({_initContainer:function(){this._container=uc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=uc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,h=s.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,m.setAttribute("width",h.x),m.setAttribute("height",h.y)),_e(m,s.min),m.setAttribute("viewBox",[s.min.x,s.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(s){var h=s._path=uc("path");s.options.className&&be(h,s.options.className),s.options.interactive&&be(h,"leaflet-interactive"),this._updateStyle(s),this._layers[C(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Lt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[C(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var h=s._path,m=s.options;h&&(m.stroke?(h.setAttribute("stroke",m.color),h.setAttribute("stroke-opacity",m.opacity),h.setAttribute("stroke-width",m.weight),h.setAttribute("stroke-linecap",m.lineCap),h.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?h.setAttribute("stroke-dasharray",m.dashArray):h.removeAttribute("stroke-dasharray"),m.dashOffset?h.setAttribute("stroke-dashoffset",m.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),m.fill?(h.setAttribute("fill",m.fillColor||m.color),h.setAttribute("fill-opacity",m.fillOpacity),h.setAttribute("fill-rule",m.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(s,h){this._setPath(s,pr(s._parts,h))},_updateCircle:function(s){var h=s._point,m=Math.max(Math.round(s._radius),1),w=Math.max(Math.round(s._radiusY),1)||m,A="a"+m+","+w+" 0 1,0 ",M=s._empty()?"M0 0":"M"+(h.x-m)+","+h.y+A+m*2+",0 "+A+-m*2+",0 ";this._setPath(s,M)},_setPath:function(s,h){s._path.setAttribute("d",h)},_bringToFront:function(s){Bt(s._path)},_bringToBack:function(s){$n(s._path)}});Te.vml&&za.include(Oy);function $1(s){return Te.svg||Te.vml?new za(s):null}st.include({getRenderer:function(s){var h=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var h=this._paneRenderers[s];return h===void 0&&(h=this._createRenderer({pane:s}),this._paneRenderers[s]=h),h},_createRenderer:function(s){return this.options.preferCanvas&&q1(s)||$1(s)}});var J1=a.extend({initialize:function(s,h){a.prototype.initialize.call(this,this._boundsToLatLngs(s),h)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Ue(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Dy(s,h){return new J1(s,h)}za.create=uc,za.pointsToPath=pr,d.geometryToLayer=f,d.coordsToLatLng=y,d.coordsToLatLngs=E,d.latLngToCoords=S,d.latLngsToCoords=b,d.getFeature=N,d.asFeature=P,st.mergeOptions({boxZoom:!0});var e0=Jn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bn(),Re(),this._startPoint=this._map.mouseEventToContainerPoint(s),ke(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var h=new De(this._point,this._startPoint),m=h.getSize();_e(this._box,h.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Lt(this._box),St(this._container,"leaflet-crosshair")),Go(),Ot(),ye(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var h=new It(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",e0),st.mergeOptions({doubleClickZoom:!0});var t0=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var h=this._map,m=h.getZoom(),w=h.options.zoomDelta,A=s.originalEvent.shiftKey?m-w:m+w;h.options.doubleClickZoom==="center"?h.setZoom(A):h.setZoomAround(s.containerPoint,A)}});st.addInitHook("addHandler","doubleClickZoom",t0),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var n0=Jn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){St(this._map._container,"leaflet-grab"),St(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Ue(this._map.options.maxBounds);this._offsetLimit=Ne(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var h=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(h),this._prunePositions(h)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,h){return s-(s-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;s.x<h.min.x&&(s.x=this._viscousLimit(s.x,h.min.x)),s.y<h.min.y&&(s.y=this._viscousLimit(s.y,h.min.y)),s.x>h.max.x&&(s.x=this._viscousLimit(s.x,h.max.x)),s.y>h.max.y&&(s.y=this._viscousLimit(s.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,h=Math.round(s/2),m=this._initialWorldOffset,w=this._draggable._newPos.x,A=(w-h+m)%s+h-m,M=(w+h+m)%s-h-m,F=Math.abs(A+m)<Math.abs(M+m)?A:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(s){var h=this._map,m=h.options,w=!m.inertia||s.noInertia||this._times.length<2;if(h.fire("dragend",s),w)h.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,F=m.easeLinearity,Z=A.multiplyBy(F/M),$=Z.distanceTo([0,0]),re=Math.min(m.inertiaMaxSpeed,$),ve=Z.multiplyBy(re/$),Be=re/(m.inertiaDeceleration*F),tt=ve.multiplyBy(-Be/2).round();!tt.x&&!tt.y?h.fire("moveend"):(tt=h._limitOffset(tt,h.options.maxBounds),Ge(function(){h.panBy(tt,{duration:Be,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",n0),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var i0=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ke(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,h=document.documentElement,m=s.scrollTop||h.scrollTop,w=s.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var h=this._panKeys={},m=this.keyCodes,w,A;for(w=0,A=m.left.length;w<A;w++)h[m.left[w]]=[-1*s,0];for(w=0,A=m.right.length;w<A;w++)h[m.right[w]]=[s,0];for(w=0,A=m.down.length;w<A;w++)h[m.down[w]]=[0,s];for(w=0,A=m.up.length;w<A;w++)h[m.up[w]]=[0,-1*s]},_setZoomDelta:function(s){var h=this._zoomKeys={},m=this.keyCodes,w,A;for(w=0,A=m.zoomIn.length;w<A;w++)h[m.zoomIn[w]]=s;for(w=0,A=m.zoomOut.length;w<A;w++)h[m.zoomOut[w]]=-s},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var h=s.keyCode,m=this._map,w;if(h in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(w=this._panKeys[h],s.shiftKey&&(w=le(w).multiplyBy(3)),m.options.maxBounds&&(w=m._limitOffset(le(w),m.options.maxBounds)),m.options.worldCopyJump){var A=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(w)));m.panTo(A)}else m.panBy(w)}else if(h in this._zoomKeys)m.setZoom(m.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;xi(s)}}});st.addInitHook("addHandler","keyboard",i0),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var r0=Jn.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var h=ao(s),m=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var w=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),w),xi(s)},_performZoom:function(){var s=this._map,h=s.getZoom(),m=this._map.options.zoomSnap||0;s._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,M=m?Math.ceil(A/m)*m:A,F=s._limitZoom(h+(this._delta>0?M:-M))-h;this._delta=0,this._startTime=null,F&&(s.options.scrollWheelZoom==="center"?s.setZoom(h+F):s.setZoomAround(this._lastMousePos,h+F))}});st.addInitHook("addHandler","scrollWheelZoom",r0);var Py=600;st.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var o0=Jn.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var h=s.touches[0];this._startPos=this._newPos=new ne(h.clientX,h.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",yn),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Py),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ye(document,"touchend",yn),ye(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)},_onMove:function(s){var h=s.touches[0];this._newPos=new ne(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,h){var m=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});m._simulated=!0,h.target.dispatchEvent(m)}});st.addInitHook("addHandler","tapHold",o0),st.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var s0=Jn.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){St(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var h=this._map;if(!(!s.touches||s.touches.length!==2||h._animatingZoom||this._zooming)){var m=h.mouseEventToContainerPoint(s.touches[0]),w=h.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(m.add(w)._divideBy(2))),this._startDist=m.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),yn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var h=this._map,m=h.mouseEventToContainerPoint(s.touches[0]),w=h.mouseEventToContainerPoint(s.touches[1]),A=m.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(A,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&A<1||this._zoom>h.getMaxZoom()&&A>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var M=m._add(w)._divideBy(2)._subtract(this._centerPoint);if(A===1&&M.x===0&&M.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var F=p(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ge(F,this,!0),yn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",s0),st.BoxZoom=e0,st.DoubleClickZoom=t0,st.Drag=n0,st.Keyboard=i0,st.ScrollWheelZoom=r0,st.TapHold=o0,st.TouchZoom=s0,n.Bounds=De,n.Browser=Te,n.CRS=rn,n.Canvas=K1,n.Circle=uo,n.CircleMarker=wr,n.Class=Ye,n.Control=Ei,n.DivIcon=Wn,n.DivOverlay=jt,n.DomEvent=zn,n.DomUtil=hn,n.Draggable=xr,n.Evented=xe,n.FeatureGroup=Bi,n.GeoJSON=d,n.GridLayer=zi,n.Handler=Jn,n.Icon=co,n.ImageOverlay=Q,n.LatLng=et,n.LatLngBounds=It,n.Layer=fn,n.LayerGroup=tr,n.LineUtil=cc,n.Map=st,n.Marker=ti,n.Mixin=sc,n.Path=Fi,n.Point=ne,n.PolyUtil=La,n.Polygon=a,n.Polyline=i,n.Popup=Un,n.PosAnimation=Ma,n.Projection=Pa,n.Rectangle=J1,n.Renderer=zr,n.SVG=za,n.SVGOverlay=$e,n.TileLayer=fo,n.Tooltip=vt,n.Transformation=ln,n.Util=Je,n.VideoOverlay=de,n.bind=p,n.bounds=Ne,n.canvas=q1,n.circle=T,n.circleMarker=dt,n.control=Qo,n.divIcon=ho,n.extend=l,n.featureGroup=ki,n.geoJSON=U,n.geoJson=j,n.gridLayer=gd,n.icon=Ba,n.imageOverlay=ue,n.latLng=ae,n.latLngBounds=Ue,n.layerGroup=ai,n.map=rc,n.marker=fd,n.point=le,n.polygon=c,n.polyline=o,n.popup=Hn,n.rectangle=Dy,n.setOptions=V,n.stamp=C,n.svg=$1,n.svgOverlay=je,n.tileLayer=X1,n.tooltip=En,n.transformation=Mi,n.version=r,n.videoOverlay=oe;var By=window.L;n.noConflict=function(){return window.L=By,this},window.L=n})})(Qh,Qh.exports);var A3=Qh.exports;const Gn=Lu(A3);class I3{constructor(e){this.V=e,this.adj=new Array(e).fill().map(()=>[]),this.parent=new Array(e).fill(-1),this.nodeCategories=new Array(e).fill("default"),this.nodeBuilding=new Array(e).fill(""),this.arrayPath=[]}addEdge(e,n,r){this.adj[e].push([n,r]),this.adj[n].push([e,r])}setNodeCategory(e,n){this.nodeCategories[e]=n}setNodeBuilding(e,n){this.nodeBuilding[e]=n}findClosestCategory(e,n,r,l){const u=new Array(this.V).fill(Number.POSITIVE_INFINITY),p=new Set;for(p.add([0,e]),u[e]=0;p.size>0;){const x=[...p].reduce((I,D)=>I[0]<D[0]?I:D);p.delete(x);const R=x[1];for(const[I,D]of this.adj[R])!r&&this.nodeCategories[I]==="elevator"||!l&&this.nodeCategories[Qu]==="emergencyExit"||u[I]>u[R]+D&&(u[I]!==Number.POSITIVE_INFINITY&&p.delete([u[I],I]),u[I]=u[R]+D,p.add([u[I],I]),this.parent[I]=R)}let v=-1,C=Number.POSITIVE_INFINITY;for(let x=0;x<this.V;x++)u[x]<C&&this.nodeCategories[x]===n&&(C=u[x],v=x);return C!==Number.POSITIVE_INFINITY?(console.log(`Closest Node of Category ${n} from Room ${e} is Room ${v} at a distance of ${C}.`),console.log("Path: "),this.printPath(v),console.log("Array Path:",this.arrayPath)):console.log(`No node of Category ${n} found from Room ${e}`),[C,v]}printPath(e){if(this.arrayPath=[],console.log(`Current Node: ${e}`),e===-1){console.log("Terminating recursion");return}this.printPath(this.parent[e]),console.log(`${e} -> `),this.arrayPath.push(Number(e))}shortestPath(e,n,r,l){const u=new Array(this.V).fill(Number.POSITIVE_INFINITY),p=new Set;for(p.add([0,e]),u[e]=0;p.size>0;){const v=[...p].reduce((x,R)=>x[0]<R[0]?x:R);p.delete(v);const C=v[1];for(const[x,R]of this.adj[C])!l&&this.nodeCategories[x]==="emergencyExit"||!r&&this.nodeCategories[x]==="elevator"||u[x]>u[C]+R&&(u[x]!==Number.POSITIVE_INFINITY&&p.delete([u[x],x]),u[x]=u[C]+R,p.add([u[x],x]),this.parent[x]=C)}u[n]===Number.POSITIVE_INFINITY?console.log(`No node found at Room ${n} from Room ${e}`):(console.log(`Room ${n} from Room ${e} is ${u[n]} units away.`),console.log("Path: "),this.printPath(n))}}function Eg(t,e,n,r,l){if(console.log("Wlaa: ",e,n),_.parent=new Array(Qu).fill(-1),_.arrayPath=[],t==="enterDestination")return _.shortestPath(e,n,r,l),_.arrayPath;if(t==="enterFindFacility")return _.findClosestCategory(e,n,r,l),_.arrayPath}function vg(t,e,n,r,l){if(_.parent=new Array(Qu).fill(-1),_.arrayPath=[],t==="enterDestination")return _.shortestPath(e,n,r,l),_.nodeBuilding[_.arrayPath[0]];if(t==="enterFindFacility")return _.findClosestCategory(e,n,r,l),_.nodeBuilding[_.arrayPath[0]]}const Qu=1e4,_=new I3(Qu);_.setNodeCategory(46,"CR(MEN)");_.setNodeCategory(241,"CR(MEN)");_.setNodeCategory(111,"CR(MEN)");_.setNodeCategory(191,"CR(MEN)");_.setNodeCategory(56,"CR(WOMEN)");_.setNodeCategory(141,"CR(WOMEN)");_.setNodeCategory(164,"CR(WOMEN)");_.setNodeCategory(226,"CR(WOMEN)");_.setNodeCategory(47,"CR(WOMEN)");_.setNodeCategory(1,"CEA: Faculty Office");_.setNodeCategory(487,"Gymnasium");_.addEdge(393,466,1);_.addEdge(420,347,1);_.addEdge(420,421,1);_.addEdge(422,421,1);_.addEdge(422,425,1);_.addEdge(424,425,1);_.addEdge(426,425,1);_.addEdge(426,427,1);_.addEdge(426,428,1);_.addEdge(429,428,1);_.addEdge(430,428,1);_.addEdge(430,431,1);_.addEdge(430,432,1);_.addEdge(430,433,1);_.addEdge(434,433,1);_.addEdge(435,433,1);_.addEdge(436,433,1);_.addEdge(436,437,1);_.addEdge(436,438,1);_.addEdge(439,438,1);_.addEdge(440,438,1);_.addEdge(440,441,1);_.addEdge(440,442,1);_.addEdge(443,442,1);_.addEdge(442,444,1);_.addEdge(445,444,1);_.addEdge(446,444,1);_.addEdge(446,447,1);_.addEdge(446,448,1);_.addEdge(446,449,1);_.addEdge(450,449,1);_.addEdge(451,449,1);_.addEdge(452,449,1);_.addEdge(452,453,1);_.addEdge(452,454,1);_.addEdge(452,455,1);_.addEdge(456,455,1);_.addEdge(456,457,1);_.addEdge(458,457,1);_.addEdge(459,457,1);_.addEdge(459,460,1);_.addEdge(459,461,1);_.addEdge(462,461,1);_.addEdge(463,461,1);_.addEdge(463,464,1);_.addEdge(465,464,1);_.addEdge(466,464,1);_.addEdge(340,14,1);_.addEdge(340,341,1);_.addEdge(342,341,1);_.addEdge(342,343,1);_.addEdge(344,343,1);_.addEdge(344,345,1);_.addEdge(344,346,1);_.addEdge(347,346,1);_.addEdge(348,346,1);_.addEdge(348,349,1);_.addEdge(348,350,1);_.addEdge(351,350,1);_.addEdge(352,350,1);_.addEdge(353,350,1);_.addEdge(353,354,1);_.addEdge(353,355,1);_.addEdge(356,355,1);_.addEdge(357,355,1);_.addEdge(357,358,1);_.addEdge(357,359,1);_.addEdge(360,359,1);_.addEdge(361,359,1);_.addEdge(361,362,1);_.addEdge(363,362,1);_.addEdge(364,362,1);_.addEdge(364,365,1);_.addEdge(364,366,1);_.addEdge(367,366,1);_.addEdge(368,366,1);_.addEdge(368,369,1);_.addEdge(368,370,1);_.addEdge(371,370,1);_.addEdge(372,370,1);_.addEdge(372,373,1);_.addEdge(372,374,1);_.addEdge(375,374,1);_.addEdge(376,374,1);_.addEdge(376,377,1);_.addEdge(378,377,1);_.addEdge(379,377,1);_.addEdge(376,405,1);_.addEdge(406,405,1);_.addEdge(380,405,1);_.addEdge(380,407,1);_.addEdge(381,407,1);_.addEdge(382,407,1);_.addEdge(382,383,1);_.addEdge(382,384,1);_.addEdge(380,385,1);_.addEdge(386,385,1);_.addEdge(386,387,1);_.addEdge(383,402,1);_.addEdge(390,402,1);_.addEdge(390,391,1);_.addEdge(392,391,1);_.addEdge(392,393,1);_.addEdge(394,361,1);_.addEdge(394,395,1);_.addEdge(394,396,1);_.addEdge(397,396,1);_.addEdge(398,396,1);_.addEdge(398,399,1);_.addEdge(398,400,1);_.addEdge(401,400,1);_.addEdge(403,400,1);_.addEdge(403,404,1);_.addEdge(130,404,1);_.addEdge(0,85,1);_.addEdge(0,87,1);_.addEdge(88,87,1);_.addEdge(1,85,1);_.addEdge(86,85,1);_.addEdge(0,3,1);_.addEdge(3,2,1);_.addEdge(3,6,1);_.addEdge(4,6,1);_.addEdge(5,6,1);_.addEdge(7,6,1);_.addEdge(7,11,1);_.addEdge(12,11,1);_.addEdge(12,13,1);_.addEdge(7,8,1);_.addEdge(9,8,1);_.addEdge(10,8,1);_.addEdge(10,14,1);_.addEdge(10,16,1);_.addEdge(15,16,1);_.addEdge(19,16,1);_.addEdge(19,18,1);_.addEdge(19,20,1);_.addEdge(19,22,1);_.addEdge(21,22,1);_.addEdge(23,22,1);_.addEdge(24,22,1);_.addEdge(24,25,1);_.addEdge(26,25,1);_.addEdge(27,25,1);_.addEdge(24,28,1);_.addEdge(29,28,1);_.addEdge(30,28,1);_.addEdge(31,28,1);_.addEdge(31,33,1);_.addEdge(32,33,1);_.addEdge(34,33,1);_.addEdge(34,35,1);_.addEdge(34,37,1);_.addEdge(36,37,1);_.addEdge(38,37,1);_.addEdge(38,46,1);_.addEdge(38,47,1);_.addEdge(38,48,1);_.addEdge(38,39,1);_.addEdge(40,39,1);_.addEdge(41,39,1);_.addEdge(41,45,1);_.addEdge(95,45,1);_.addEdge(41,42,1);_.addEdge(43,42,1);_.addEdge(44,43,1);_.addEdge(31,49,1);_.addEdge(50,49,1);_.addEdge(51,49,1);_.addEdge(51,52,1);_.addEdge(51,53,1);_.addEdge(54,53,1);_.addEdge(55,53,1);_.addEdge(55,56,1);_.addEdge(55,57,1);_.addEdge(58,57,1);_.addEdge(58,59,1);_.addEdge(60,53,1);_.addEdge(60,61,1);_.addEdge(60,82,1);_.addEdge(63,82,1);_.addEdge(62,82,1);_.addEdge(63,65,.5);_.addEdge(66,65,1);_.addEdge(64,63,1);_.addEdge(67,65,.5);_.addEdge(67,68,1);_.addEdge(67,69,.5);_.addEdge(70,69,1);_.addEdge(71,69,1);_.addEdge(72,69,.5);_.addEdge(72,73,1);_.addEdge(72,74,.5);_.addEdge(75,74,1);_.addEdge(75,17,1);_.addEdge(99,17,1);_.addEdge(99,84,1);_.addEdge(76,74,.5);_.addEdge(77,76,1);_.addEdge(78,76,1);_.addEdge(78,79,1);_.addEdge(78,80,1);_.addEdge(81,80,1);_.addEdge(16,80,1);_.addEdge(59,94,1);_.addEdge(59,93,1);_.addEdge(401,94,1);_.addEdge(98,89,1);_.addEdge(387,89,1);_.addEdge(98,90,1);_.addEdge(98,91,1);_.addEdge(92,91,1);_.addEdge(83,90,1);_.addEdge(83,43,1);_.addEdge(486,13,1);_.addEdge(480,481,1);_.addEdge(482,481,1);_.addEdge(482,483,1);_.addEdge(482,484,1);_.addEdge(505,484,1);_.addEdge(485,484,1);_.addEdge(485,486,1);_.addEdge(485,487,1);_.addEdge(488,487,1);_.addEdge(488,489,1);_.addEdge(488,490,1);_.addEdge(491,490,1);_.addEdge(491,492,1);_.addEdge(491,493,1);_.addEdge(494,493,1);_.addEdge(495,493,1);_.addEdge(495,496,1);_.addEdge(495,497,1);_.addEdge(498,497,1);_.addEdge(499,497,1);_.addEdge(499,500,1);_.addEdge(499,501,1);_.addEdge(502,501,1);_.addEdge(503,501,1);_.addEdge(503,504,1);_.addEdge(506,484,1);_.addEdge(506,507,1);_.addEdge(506,508,1);_.addEdge(506,509,1);_.addEdge(510,509,1);_.addEdge(511,509,1);_.addEdge(511,512,1);_.addEdge(513,512,1);_.addEdge(514,512,1);_.addEdge(514,515,1);_.addEdge(514,516,1);_.addEdge(514,517,1);_.addEdge(518,517,1);_.addEdge(518,519,1);_.addEdge(520,519,1);_.addEdge(521,519,1);_.addEdge(521,522,1);_.addEdge(521,523,1);_.addEdge(524,523,1);_.addEdge(525,523,1);_.addEdge(525,526,1);_.addEdge(674,526,1);_.addEdge(524,527,1);_.addEdge(528,527,1);_.addEdge(528,529,1);_.addEdge(528,485,1);_.addEdge(530,529,1);_.addEdge(531,529,1);_.addEdge(532,527,1);_.addEdge(533,527,1);_.addEdge(533,534,1);_.addEdge(534,535,1);_.addEdge(533,536,1);_.addEdge(537,536,1);_.addEdge(537,538,1);_.addEdge(539,538,1);_.addEdge(540,536,1);_.addEdge(540,541,1);_.addEdge(540,542,1);_.addEdge(543,542,1);_.addEdge(544,542,1);_.addEdge(544,545,1);_.addEdge(544,546,1);_.addEdge(547,546,1);_.addEdge(548,546,1);_.addEdge(548,549,1);_.addEdge(548,550,1);_.addEdge(551,550,1);_.addEdge(552,550,1);_.addEdge(552,553,1);_.addEdge(552,554,1);_.addEdge(555,554,1);_.addEdge(556,554,1);_.addEdge(556,557,1);_.addEdge(556,558,1);_.addEdge(559,558,1);_.addEdge(560,558,1);_.addEdge(560,561,1);_.addEdge(562,561,1);_.addEdge(562,563,1);_.addEdge(560,564,1);_.addEdge(565,564,1);_.addEdge(567,564,1);_.addEdge(567,568,1);_.addEdge(567,569,1);_.addEdge(570,569,1);_.addEdge(570,571,1);_.addEdge(570,572,1);_.addEdge(572,574,1);_.addEdge(575,574,1);_.addEdge(575,576,1);_.addEdge(572,577,1);_.addEdge(573,577,1);_.addEdge(578,577,1);_.addEdge(579,577,1);_.addEdge(579,580,1);_.addEdge(581,580,1);_.addEdge(582,580,1);_.addEdge(579,583,1);_.addEdge(584,583,1);_.addEdge(585,583,1);_.addEdge(585,586,1);_.addEdge(578,95,1);_.addEdge(541,84,1);_.addEdge(565,93,1);_.addEdge(532,155,1);_.addEdge(615,480,1);_.addEdge(610,611,1);_.addEdge(612,611,1);_.addEdge(612,682,1);_.addEdge(612,613,1);_.addEdge(614,613,1);_.addEdge(614,615,1);_.addEdge(614,620,1);_.addEdge(616,613,1);_.addEdge(616,617,1);_.addEdge(616,618,1);_.addEdge(619,618,1);_.addEdge(621,672,1);_.addEdge(620,672,1);_.addEdge(673,672,1);_.addEdge(673,674,1);_.addEdge(621,622,1);_.addEdge(621,623,1);_.addEdge(624,623,1);_.addEdge(625,623,1);_.addEdge(625,626,1);_.addEdge(625,627,1);_.addEdge(628,627,1);_.addEdge(629,627,1);_.addEdge(629,737,1);_.addEdge(629,631,1);_.addEdge(632,631,1);_.addEdge(633,620,1);_.addEdge(633,634,1);_.addEdge(633,635,1);_.addEdge(636,635,1);_.addEdge(636,637,1);_.addEdge(638,637,1);_.addEdge(639,635,1);_.addEdge(639,640,1);_.addEdge(639,641,1);_.addEdge(642,641,1);_.addEdge(643,641,1);_.addEdge(643,644,1);_.addEdge(643,645,1);_.addEdge(646,645,1);_.addEdge(647,645,1);_.addEdge(647,648,1);_.addEdge(647,649,1);_.addEdge(650,649,1);_.addEdge(650,651,1);_.addEdge(652,651,1);_.addEdge(653,649,1);_.addEdge(653,654,1);_.addEdge(655,656,1);_.addEdge(657,656,1);_.addEdge(658,656,1);_.addEdge(658,659,1);_.addEdge(663,659,1);_.addEdge(663,664,1);_.addEdge(663,665,1);_.addEdge(658,660,1);_.addEdge(661,660,1);_.addEdge(661,662,1);_.addEdge(656,666,1);_.addEdge(667,666,1);_.addEdge(668,666,1);_.addEdge(668,669,1);_.addEdge(668,670,1);_.addEdge(671,670,1);_.addEdge(655,576,1);_.addEdge(654,563,1);_.addEdge(640,539,1);_.addEdge(634,180,1);_.addEdge(624,206,1);_.addEdge(638,906,1);_.addEdge(929,654,1);_.addEdge(662,890,1);_.addEdge(891,890,1);_.addEdge(891,892,1);_.addEdge(893,892,1);_.addEdge(894,892,1);_.addEdge(894,895,1);_.addEdge(894,896,1);_.addEdge(897,896,1);_.addEdge(891,898,1);_.addEdge(899,898,1);_.addEdge(900,898,1);_.addEdge(903,904,1);_.addEdge(905,904,1);_.addEdge(905,906,1);_.addEdge(905,907,1);_.addEdge(907,908,1);_.addEdge(905,910,1);_.addEdge(911,910,1);_.addEdge(912,910,1);_.addEdge(912,913,1);_.addEdge(912,914,1);_.addEdge(915,914,1);_.addEdge(915,916,1);_.addEdge(917,916,1);_.addEdge(918,916,1);_.addEdge(918,919,1);_.addEdge(918,920,1);_.addEdge(921,920,1);_.addEdge(922,920,1);_.addEdge(922,923,1);_.addEdge(922,924,1);_.addEdge(925,924,1);_.addEdge(925,926,1);_.addEdge(927,926,1);_.addEdge(928,924,1);_.addEdge(928,929,1);_.addEdge(950,900,1);_.addEdge(950,951,1);_.addEdge(952,951,1);_.addEdge(952,953,1);_.addEdge(952,954,1);_.addEdge(955,954,1);_.addEdge(956,955,1);_.addEdge(957,955,1);_.addEdge(957,958,1);_.addEdge(959,954,1);_.addEdge(959,960,1);_.addEdge(959,961,1);_.addEdge(962,961,1);_.addEdge(963,961,1);_.addEdge(965,966,1);_.addEdge(967,966,1);_.addEdge(964,927,1);_.addEdge(965,908,1);_.addEdge(1002,610,1);_.addEdge(1002,1003,1);_.addEdge(1008,1003,1);_.addEdge(1008,1007,1);_.addEdge(1006,1007,1);_.addEdge(1006,1005,1);_.addEdge(1004,1003,1);_.addEdge(1004,1005,1);_.addEdge(1009,1005,1);_.addEdge(1009,1010,1);_.addEdge(710,1010,1);_.addEdge(1009,1011,1);_.addEdge(1012,1011,1);_.addEdge(1013,1011,1);_.addEdge(1013,1014,1);_.addEdge(1013,1015,1);_.addEdge(1013,1016,1);_.addEdge(1017,1016,1);_.addEdge(1017,1018,1);_.addEdge(1017,1019,1);_.addEdge(1020,1016,1);_.addEdge(1020,1021,1);_.addEdge(1022,1021,1);_.addEdge(1022,1023,1);_.addEdge(1024,1023,1);_.addEdge(1080,1019,1);_.addEdge(1080,1081,1);_.addEdge(1082,1081,1);_.addEdge(1082,1083,1);_.addEdge(1084,1083,1);_.addEdge(700,207,1);_.addEdge(700,701,1);_.addEdge(702,701,1);_.addEdge(703,701,1);_.addEdge(703,704,1);_.addEdge(705,704,1);_.addEdge(706,704,1);_.addEdge(703,707,1);_.addEdge(708,707,1);_.addEdge(708,709,1);_.addEdge(710,709,1);_.addEdge(707,711,1);_.addEdge(712,711,1);_.addEdge(713,711,1);_.addEdge(713,714,1);_.addEdge(713,715,1);_.addEdge(716,715,1);_.addEdge(719,715,1);_.addEdge(719,720,1);_.addEdge(719,721,1);_.addEdge(722,721,1);_.addEdge(723,721,1);_.addEdge(723,724,1);_.addEdge(723,725,1);_.addEdge(723,726,1);_.addEdge(727,726,1);_.addEdge(727,728,1);_.addEdge(727,729,1);_.addEdge(730,726,1);_.addEdge(730,735,1);_.addEdge(731,735,1);_.addEdge(736,735,1);_.addEdge(736,737,1);_.addEdge(730,732,1);_.addEdge(733,732,1);_.addEdge(733,734,1);_.addEdge(750,712,1);_.addEdge(750,751,1);_.addEdge(752,751,1);_.addEdge(752,753,1);_.addEdge(754,753,1);_.addEdge(755,753,1);_.addEdge(755,756,1);_.addEdge(757,753,1);_.addEdge(757,758,1);_.addEdge(757,759,1);_.addEdge(755,759,1);_.addEdge(760,759,1);_.addEdge(761,759,1);_.addEdge(761,762,1);_.addEdge(761,763,1);_.addEdge(764,763,1);_.addEdge(765,763,1);_.addEdge(765,766,1);_.addEdge(765,767,1);_.addEdge(768,767,1);_.addEdge(768,769,1);_.addEdge(768,770,1);_.addEdge(771,770,1);_.addEdge(772,770,1);_.addEdge(773,767,1);_.addEdge(774,767,1);_.addEdge(773,775,1);_.addEdge(776,775,1);_.addEdge(777,775,1);_.addEdge(777,778,1);_.addEdge(779,778,1);_.addEdge(772,513,1);_.addEdge(827,88,1);_.addEdge(756,800,1);_.addEdge(801,800,1);_.addEdge(801,802,1);_.addEdge(803,802,1);_.addEdge(803,804,1);_.addEdge(803,805,1);_.addEdge(806,805,1);_.addEdge(807,805,1);_.addEdge(807,808,1);_.addEdge(807,809,1);_.addEdge(810,809,1);_.addEdge(811,809,1);_.addEdge(811,812,1);_.addEdge(811,813,1);_.addEdge(814,813,1);_.addEdge(815,813,1);_.addEdge(815,816,1);_.addEdge(815,817,1);_.addEdge(818,817,1);_.addEdge(819,817,1);_.addEdge(819,820,1);_.addEdge(821,820,1);_.addEdge(822,820,1);_.addEdge(819,823,1);_.addEdge(824,823,1);_.addEdge(825,823,1);_.addEdge(826,823,1);_.addEdge(826,827,1);_.addEdge(826,828,1);_.addEdge(829,828,1);_.addEdge(829,830,1);_.addEdge(831,828,1);_.addEdge(831,832,1);_.addEdge(833,832,1);_.addEdge(805,865,1);_.addEdge(866,865,1);_.addEdge(834,865,1);_.addEdge(834,835,1);_.addEdge(834,836,1);_.addEdge(834,837,1);_.addEdge(838,837,1);_.addEdge(839,837,1);_.addEdge(839,840,1);_.addEdge(839,841,1);_.addEdge(864,841,1);_.addEdge(842,841,1);_.addEdge(842,843,1);_.addEdge(842,844,1);_.addEdge(845,844,1);_.addEdge(845,846,1);_.addEdge(847,844,1);_.addEdge(847,848,1);_.addEdge(847,849,1);_.addEdge(850,849,1);_.addEdge(851,849,1);_.addEdge(851,852,1);_.addEdge(853,852,1);_.addEdge(853,854,1);_.addEdge(856,855,1);_.addEdge(857,855,1);_.addEdge(857,846,1);_.addEdge(858,855,1);_.addEdge(858,859,1);_.addEdge(858,861,1);_.addEdge(862,861,1);_.addEdge(143,113,1);_.addEdge(166,113,1);_.addEdge(166,195,1);_.addEdge(224,195,1);_.addEdge(224,239,1);_.addEdge(264,239,1);_.addEdge(289,264,1);_.addEdge(289,314,1);_.addEdge(1046,314,1);_.setNodeCategory(143,"elevator");_.addEdge(115,149,1);_.addEdge(130,131,1);_.addEdge(132,131,1);_.addEdge(132,133,1);_.addEdge(132,134,1);_.addEdge(135,134,1);_.addEdge(136,134,1);_.addEdge(136,137,1);_.addEdge(136,138,1);_.addEdge(139,138,1);_.addEdge(140,138,1);_.addEdge(140,141,1);_.addEdge(140,142,1);_.addEdge(143,142,1);_.addEdge(144,142,1);_.addEdge(144,145,1);_.addEdge(144,146,1);_.addEdge(147,146,1);_.addEdge(147,148,1);_.addEdge(149,148,1);_.addEdge(143,113,1);_.setNodeCategory(113,"elevator");_.addEdge(77,100,1);_.addEdge(101,100,1);_.addEdge(101,102,1);_.addEdge(103,102,1);_.addEdge(104,102,1);_.addEdge(104,105,1);_.addEdge(104,106,1);_.addEdge(107,106,1);_.addEdge(108,106,1);_.addEdge(108,109,1);_.addEdge(108,110,1);_.addEdge(111,110,1);_.addEdge(112,110,1);_.addEdge(112,113,1);_.addEdge(112,114,1);_.addEdge(115,114,1);_.addEdge(116,114,1);_.addEdge(116,117,1);_.addEdge(116,118,1);_.addEdge(119,118,1);_.addEdge(119,120,1);_.addEdge(121,120,1);_.setNodeCategory(166,"elevator");_.addEdge(168,121,1);_.addEdge(155,156,1);_.addEdge(157,156,1);_.addEdge(157,158,1);_.addEdge(157,159,1);_.addEdge(160,159,1);_.addEdge(161,159,1);_.addEdge(161,162,1);_.addEdge(161,163,1);_.addEdge(164,163,1);_.addEdge(165,163,1);_.addEdge(165,166,1);_.addEdge(165,167,1);_.addEdge(168,167,1);_.addEdge(167,169,1);_.addEdge(170,169,1);_.addEdge(171,169,1);_.addEdge(171,172,1);_.addEdge(173,172,1);_.addEdge(173,174,1);_.setNodeCategory(195,"elevator");_.addEdge(197,174,1);_.addEdge(202,201,1);_.addEdge(200,201,1);_.addEdge(200,199,1);_.addEdge(200,199,1);_.addEdge(198,199,1);_.addEdge(198,203,1);_.addEdge(204,203,1);_.addEdge(208,203,1);_.addEdge(204,199,1);_.addEdge(204,205,1);_.addEdge(206,205,1);_.addEdge(207,205,1);_.addEdge(198,196,1);_.addEdge(197,196,1);_.addEdge(194,196,1);_.addEdge(194,195,1);_.addEdge(194,192,1);_.addEdge(193,192,1);_.addEdge(190,192,1);_.addEdge(190,191,1);_.addEdge(190,188,1);_.addEdge(189,188,1);_.addEdge(186,188,1);_.addEdge(186,187,1);_.addEdge(186,184,1);_.addEdge(185,184,1);_.addEdge(182,184,1);_.addEdge(182,183,1);_.addEdge(182,181,1);_.addEdge(181,180,1);_.setNodeCategory(224,"elevator");_.addEdge(202,222,1);_.addEdge(215,216,1);_.addEdge(217,216,1);_.addEdge(217,218,1);_.addEdge(219,218,1);_.addEdge(219,220,1);_.addEdge(219,221,1);_.addEdge(222,221,1);_.addEdge(223,221,1);_.addEdge(223,224,1);_.addEdge(223,225,1);_.addEdge(226,225,1);_.setNodeCategory(239,"elevator");_.addEdge(215,237,1);_.addEdge(230,231,1);_.addEdge(232,231,1);_.addEdge(232,233,1);_.addEdge(234,233,1);_.addEdge(234,235,1);_.addEdge(234,236,1);_.addEdge(237,236,1);_.addEdge(238,236,1);_.addEdge(238,239,1);_.addEdge(238,240,1);_.addEdge(241,240,1);_.addEdge(242,240,1);_.addEdge(243,240,1);_.addEdge(243,244,1);_.addEdge(243,245,1);_.addEdge(243,246,1);_.addEdge(247,246,1);_.setNodeCategory(264,"elevator");_.addEdge(262,230,1);_.addEdge(255,256,1);_.addEdge(257,256,1);_.addEdge(257,258,1);_.addEdge(259,258,1);_.addEdge(259,260,1);_.addEdge(259,261,1);_.addEdge(262,261,1);_.addEdge(263,261,1);_.addEdge(263,264,1);_.addEdge(263,265,1);_.addEdge(266,265,1);_.addEdge(267,265,1);_.addEdge(267,268,1);_.addEdge(267,269,1);_.addEdge(270,269,1);_.addEdge(271,269,1);_.addEdge(272,269,1);_.addEdge(272,273,1);_.addEdge(272,274,1);_.addEdge(275,274,1);_.setNodeCategory(289,"elevator");_.addEdge(287,255,1);_.addEdge(280,281,1);_.addEdge(282,281,1);_.addEdge(282,283,1);_.addEdge(284,283,1);_.addEdge(284,285,1);_.addEdge(284,286,1);_.addEdge(287,286,1);_.addEdge(288,286,1);_.addEdge(288,289,1);_.addEdge(288,290,1);_.addEdge(290,291,1);_.addEdge(290,292,1);_.addEdge(293,292,1);_.addEdge(294,292,1);_.addEdge(294,295,1);_.addEdge(294,296,1);_.addEdge(294,297,1);_.addEdge(298,297,1);_.addEdge(299,297,1);_.addEdge(299,300,1);_.setNodeCategory(314,"elevator");_.addEdge(312,280,1);_.addEdge(306,305,1);_.addEdge(306,307,1);_.addEdge(308,307,1);_.addEdge(308,309,1);_.addEdge(310,309,1);_.addEdge(311,309,1);_.addEdge(311,312,1);_.addEdge(311,313,1);_.addEdge(314,313,1);_.addEdge(315,313,1);_.addEdge(315,316,1);_.addEdge(315,317,1);_.addEdge(318,317,1);_.addEdge(319,317,1);_.addEdge(319,320,1);_.addEdge(319,321,1);_.addEdge(322,321,1);_.addEdge(323,321,1);_.addEdge(323,324,1);_.addEdge(323,325,1);_.addEdge(326,325,1);_.addEdge(327,325,1);_.addEdge(327,328,1);_.setNodeCategory(1070,"elevator");_.addEdge(305,1040,1);_.addEdge(1041,1040,1);_.addEdge(1041,1042,1);_.addEdge(1043,1042,1);_.addEdge(1044,1042,1);_.addEdge(1044,1061,1);_.addEdge(1044,1045,1);_.addEdge(1046,1045,1);_.addEdge(1047,1045,1);_.addEdge(1047,1049,1);_.addEdge(1050,1049,1);_.addEdge(1051,1049,1);_.addEdge(1051,1052,1);_.addEdge(1051,1053,1);_.addEdge(1054,1053,1);_.addEdge(1054,1055,1);_.addEdge(1054,1056,1);_.addEdge(1057,1056,1);_.addEdge(1057,1058,1);_.addEdge(1059,1056,1);_.addEdge(1059,1060,1);_.addEdge(1160,1024,1);_.addEdge(1160,1161,1);_.addEdge(1162,1161,1);_.addEdge(1163,1161,1);_.addEdge(1164,1161,1);_.addEdge(1164,1165,1);_.addEdge(1164,1166,1);_.addEdge(1167,1166,1);_.addEdge(1167,1168,1);_.addEdge(1167,1169,1);_.addEdge(1167,1170,1);_.addEdge(1171,1166,1);_.addEdge(1171,1172,1);_.addEdge(1171,1173,1);_.addEdge(1174,1173,1);_.addEdge(1175,1173,1);_.addEdge(1175,1176,1);_.addEdge(1177,1176,1);_.addEdge(1177,1178,1);_.addEdge(1175,1179,1);_.addEdge(1180,1179,1);_.addEdge(1181,1179,1);_.addEdge(1182,1179,1);_.addEdge(1182,1183,1);_.addEdge(1182,1184,1);_.addEdge(1185,1184,1);_.addEdge(1185,1186,1);_.addEdge(1187,1186,1);_.addEdge(1188,1186,1);_.addEdge(1189,1186,1);_.addEdge(1189,1190,1);_.addEdge(1189,1191,1);_.addEdge(1192,1191,1);_.addEdge(1192,1193,1);_.addEdge(1194,1193,1);_.addEdge(1195,1191,1);_.addEdge(1195,1196,1);_.addEdge(1195,1197,1);_.addEdge(1198,1197,1);_.addEdge(1199,1197,1);_.addEdge(1199,1200,1);_.addEdge(1199,1201,1);_.addEdge(1199,1202,1);_.addEdge(1203,1202,1);_.addEdge(1204,1202,1);for(let t=0;t<=99;t++)_.setNodeBuilding(t,"science2ndFloor");for(let t=340;t<=419;t++)_.setNodeBuilding(t,"science1stFloor");for(let t=480;t<=600;t++)_.setNodeBuilding(t,"science3rdFloor");for(let t=610;t<=690;t++)_.setNodeBuilding(t,"science4thFloor");for(let t=700;t<=740;t++)_.setNodeBuilding(t,"main4thFloor");for(let t=750;t<=790;t++)_.setNodeBuilding(t,"main3rdFloor");for(let t=800;t<=880;t++)_.setNodeBuilding(t,"main2ndFloor");for(let t=890;t<=940;t++)_.setNodeBuilding(t,"science5thFloor");for(let t=950;t<=980;t++)_.setNodeBuilding(t,"science6thFloor");for(let t=1e3;t<=1030;t++)_.setNodeBuilding(t,"main5thFloor");for(let t=1080;t<=1090;t++)_.setNodeBuilding(t,"main6thFloor");for(let t=1160;t<=1210;t++)_.setNodeBuilding(t,"CHTMEDS5thFloor");for(let t=420;t<=480;t++)_.setNodeBuilding(t,"scienceGroundFloor");for(let t=126;t<=150;t++)_.setNodeBuilding(t,"BRS1stFloor");for(let t=100;t<=125;t++)_.setNodeBuilding(t,"BRS2ndFloor");for(let t=155;t<=175;t++)_.setNodeBuilding(t,"BRS3rdFloor");for(let t=175;t<=210;t++)_.setNodeBuilding(t,"BRS4thFloor");for(let t=215;t<=229;t++)_.setNodeBuilding(t,"BRS5thFloor");for(let t=230;t<=250;t++)_.setNodeBuilding(t,"BRS6thFloor");for(let t=255;t<=279;t++)_.setNodeBuilding(t,"BRS7thFloor");for(let t=280;t<=300;t++)_.setNodeBuilding(t,"BRS8thFloor");for(let t=305;t<=330;t++)_.setNodeBuilding(t,"BRS9thFloor");for(let t=1040;t<=1070;t++)_.setNodeBuilding(t,"BRS10thFloor");var Se;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var wg=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Cg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Cg||(Cg={}));function T3(t){return Object.values(Se).includes(t)}var Po;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Po||(Po={}));var or=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Po.SCAN_TYPE_CAMERA,Po.SCAN_TYPE_FILE],t}(),G2=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!wg.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,wg.get(e))},t}(),Sg=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Kh;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Kh||(Kh={}));var Z2=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Kh.UNKWOWN_ERROR}},t}(),Y2=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Ar(t){return typeof t>"u"||t===null}function b3(t,e,n){return t>n?n:t<e?e:t}var Zs=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Rt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Ag=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),X2=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(l),p=Object.keys(e),v=0,C=p;v<C.length;v++){var x=C[v];if(u.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),qh={exports:{}};(function(t,e){(function(n,r){r(e)})(Os,function(n){function r(T){return T==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,i){T.__proto__=i}||function(T,i){for(var o in i)i.hasOwnProperty(o)&&(T[o]=i[o])};function u(T,i){l(T,i);function o(){this.constructor=T}T.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function p(T,i){var o=Object.setPrototypeOf;o?o(T,i):T.__proto__=i}function v(T,i){i===void 0&&(i=T.constructor);var o=Error.captureStackTrace;o&&o(T,i)}var C=function(T){u(i,T);function i(o){var a=this.constructor,c=T.call(this,o)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),p(c,a.prototype),v(c),c}return i}(Error);class x extends C{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class R extends x{}R.kind="ArgumentException";class I extends x{}I.kind="IllegalArgumentException";class D{constructor(i){if(this.binarizer=i,i===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,a,c){const d=this.binarizer.getLuminanceSource().crop(i,o,a,c);return new D(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends x{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class Y{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class V{static arraycopy(i,o,a,c,d){for(;d--;)a[c++]=i[o++]}static currentTimeMillis(){return Date.now()}}class me extends x{}me.kind="IndexOutOfBoundsException";class H extends me{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}H.kind="ArrayIndexOutOfBoundsException";class B{static fill(i,o){for(let a=0,c=i.length;a<c;a++)i[a]=o}static fillWithin(i,o,a,c){B.rangeCheck(i.length,o,a);for(let d=o;d<a;d++)i[d]=c}static rangeCheck(i,o,a){if(o>a)throw new I("fromIndex("+o+") > toIndex("+a+")");if(o<0)throw new H(o);if(a>i)throw new H(a)}static asList(...i){return i}static create(i,o,a){return Array.from({length:i}).map(d=>Array.from({length:o}).fill(a))}static createInt32Array(i,o,a){return Array.from({length:i}).map(d=>Int32Array.from({length:o}).fill(a))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let a=0,c=i.length;a<c;a++)if(i[a]!==o[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const a of i)o=31*o+a;return o}static fillUint8Array(i,o){for(let a=0;a!==i.length;a++)i[a]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const a=new Uint8Array(o);return a.set(i),a}return i.slice(0,o)}static copyOfRange(i,o,a){const c=a-o,d=new Int32Array(c);return V.arraycopy(i,o,d,0,c),d}static binarySearch(i,o,a){a===void 0&&(a=B.numberComparator);let c=0,d=i.length-1;for(;c<=d;){const f=d+c>>1,g=a(o,i[f]);if(g>0)c=f+1;else if(g<0)d=f-1;else return f}return-c-1}static numberComparator(i,o){return i-o}}class k{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let a=31;return o=i<<16,o!==0&&(a-=16,i=o),o=i<<8,o!==0&&(a-=8,i=o),o=i<<4,o!==0&&(a-=4,i=o),o=i<<2,o!==0&&(a-=2,i=o),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=J.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=J.makeArray(i);V.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const a=this.bits;let c=Math.floor(i/32),d=a[c];d&=~((1<<(i&31))-1);const f=a.length;for(;d===0;){if(++c===f)return o;d=a[c]}const g=c*32+k.numberOfTrailingZeros(d);return g>o?o:g}getNextUnset(i){const o=this.size;if(i>=o)return o;const a=this.bits;let c=Math.floor(i/32),d=~a[c];d&=~((1<<(i&31))-1);const f=a.length;for(;d===0;){if(++c===f)return o;d=~a[c]}const g=c*32+k.numberOfTrailingZeros(d);return g>o?o:g}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new I;if(o===i)return;o--;const a=Math.floor(i/32),c=Math.floor(o/32),d=this.bits;for(let f=a;f<=c;f++){const g=f>a?0:i&31,E=(2<<(f<c?31:o&31))-(1<<g);d[f]|=E}}clear(){const i=this.bits.length,o=this.bits;for(let a=0;a<i;a++)o[a]=0}isRange(i,o,a){if(o<i||i<0||o>this.size)throw new I;if(o===i)return!0;o--;const c=Math.floor(i/32),d=Math.floor(o/32),f=this.bits;for(let g=c;g<=d;g++){const y=g>c?0:i&31,S=(2<<(g<d?31:o&31))-(1<<y)&4294967295;if((f[g]&S)!==(a?S:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let a=o;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let a=0;a<o;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new I("Sizes don't match");const o=this.bits;for(let a=0,c=o.length;a<c;a++)o[a]^=i.bits[a]}toBytes(i,o,a,c){for(let d=0;d<c;d++){let f=0;for(let g=0;g<8;g++)this.get(i)&&(f|=1<<7-g),i++;o[a+d]=f}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),a=o+1,c=this.bits;for(let d=0;d<a;d++){let f=c[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,i[o-d]=f}if(this.size!==a*32){const d=a*32-this.size;let f=i[0]>>>d;for(let g=1;g<a;g++){const y=i[g];f|=y<<32-d,i[g-1]=f,f=y>>>d}i[a-1]=f}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof J))return!1;const o=i;return this.size===o.size&&B.equals(this.bits,o.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let i="";for(let o=0,a=this.size;o<a;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new J(this.size,this.bits.slice())}}var pe;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(pe||(pe={}));var ce=pe;class q extends x{static getFormatInstance(){return new q}}q.kind="FormatException";var fe;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(fe||(fe={}));class te{constructor(i,o,a,...c){this.valueIdentifier=i,this.name=a,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,te.VALUE_IDENTIFIER_TO_ECI.set(i,this),te.NAME_TO_ECI.set(a,this);const d=this.values;for(let f=0,g=d.length;f!==g;f++){const y=d[f];te.VALUES_TO_ECI.set(y,this)}for(const f of c)te.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new q("incorect value");const o=te.VALUES_TO_ECI.get(i);if(o===void 0)throw new q("incorect value");return o}static getCharacterSetECIByName(i){const o=te.NAME_TO_ECI.get(i);if(o===void 0)throw new q("incorect value");return o}equals(i){if(!(i instanceof te))return!1;const o=i;return this.getName()===o.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(fe.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(fe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(fe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(fe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(fe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(fe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(fe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(fe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(fe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(fe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(fe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(fe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(fe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(fe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(fe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(fe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(fe.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(fe.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(fe.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(fe.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(fe.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(fe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(fe.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(fe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(fe.Big5,28,"Big5"),te.GB18030=new te(fe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(fe.EUC_KR,30,"EUC_KR","EUC-KR");class ze extends x{}ze.kind="UnsupportedOperationException";class Ge{static decode(i,o){const a=this.encodingName(o);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!Ge.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const a=this.encodingName(o);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof te?i:te.getCharacterSetECIByName(i)}static decodeFallback(i,o){const a=this.encodingCharacterSet(o);if(Ge.isDecodeFallbackSupported(a)){let c="";for(let d=0,f=i.length;d<f;d++){let g=i[d].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(a.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new ze(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(te.UTF8)||i.equals(te.ISO8859_1)||i.equals(te.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let d=0;d<a.length;d++)c.push(a[d].charCodeAt(0));return new Uint8Array(c)}}class we{static castAsNonUtf8Char(i,o=null){const a=o?o.getName():this.ISO88591;return Ge.decode(new Uint8Array([i]),a)}static guessEncoding(i,o){if(o!=null&&o.get(ce.CHARACTER_SET)!==void 0)return o.get(ce.CHARACTER_SET).toString();const a=i.length;let c=!0,d=!0,f=!0,g=0,y=0,E=0,S=0,b=0,N=0,P=0,z=0,U=0,j=0,Q=0;const ue=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let de=0;de<a&&(c||d||f);de++){const oe=i[de]&255;f&&(g>0?oe&128?g--:f=!1:oe&128&&(oe&64?(g++,oe&32?(g++,oe&16?(g++,oe&8?f=!1:S++):E++):y++):f=!1)),c&&(oe>127&&oe<160?c=!1:oe>159&&(oe<192||oe===215||oe===247)&&Q++),d&&(b>0?oe<64||oe===127||oe>252?d=!1:b--:oe===128||oe===160||oe>239?d=!1:oe>160&&oe<224?(N++,z=0,P++,P>U&&(U=P)):oe>127?(b++,P=0,z++,z>j&&(j=z)):(P=0,z=0))}return f&&g>0&&(f=!1),d&&b>0&&(d=!1),f&&(ue||y+E+S>0)?we.UTF8:d&&(we.ASSUME_SHIFT_JIS||U>=3||j>=3)?we.SHIFT_JIS:c&&d?U===2&&N===2||Q*10>=a?we.SHIFT_JIS:we.ISO88591:c?we.ISO88591:d?we.SHIFT_JIS:f?we.UTF8:we.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let a=-1;function c(f,g,y,E,S,b){if(f==="%%")return"%";if(o[++a]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let N=S?parseInt(S.substr(1)):void 0,P;switch(b){case"s":P=o[a];break;case"c":P=o[a][0];break;case"f":P=parseFloat(o[a]).toFixed(f);break;case"p":P=parseFloat(o[a]).toPrecision(f);break;case"e":P=parseFloat(o[a]).toExponential(f);break;case"x":P=parseInt(o[a]).toString(N||16);break;case"d":P=parseFloat(parseInt(o[a],N||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(N);let z=parseInt(y),U=y&&y[0]+""=="0"?"0":" ";for(;P.length<z;)P=g!==void 0?P+U:U+P;return P}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,c)}static getBytes(i,o){return Ge.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}we.SHIFT_JIS=te.SJIS.getName(),we.GB2312="GB2312",we.ISO88591=te.ISO8859_1.getName(),we.EUC_JP="EUC_JP",we.UTF8=te.UTF8.getName(),we.PLATFORM_DEFAULT_ENCODING=we.UTF8,we.ASSUME_SHIFT_JIS=!1;class Je{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=we.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,a){for(let c=o;o<o+a;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class Ye{constructor(i,o,a,c){if(this.width=i,this.height=o,this.rowSize=a,this.bits=c,o==null&&(o=i),this.height=o,i<1||o<1)throw new I("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,a=i[0].length,c=new Ye(a,o);for(let d=0;d<o;d++){const f=i[d];for(let g=0;g<a;g++)f[g]&&c.set(g,d)}return c}static parseFromString(i,o,a){if(i===null)throw new I("stringRepresentation cannot be null");const c=new Array(i.length);let d=0,f=0,g=-1,y=0,E=0;for(;E<i.length;)if(i.charAt(E)===`
`||i.charAt(E)==="\r"){if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new I("row lengths do not match");f=d,y++}E++}else if(i.substring(E,E+o.length)===o)E+=o.length,c[d]=!0,d++;else if(i.substring(E,E+a.length)===a)E+=a.length,c[d]=!1,d++;else throw new I("illegal character encountered: "+i.substring(E));if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new I("row lengths do not match");y++}const S=new Ye(g,y);for(let b=0;b<d;b++)c[b]&&S.set(Math.floor(b%g),Math.floor(b/g));return S}get(i,o){const a=o*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new I("input matrix dimensions do not match");const o=new J(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let d=0,f=this.height;d<f;d++){const g=d*a,y=i.getRow(d,o).getBitArray();for(let E=0;E<a;E++)c[g+E]^=y[E]}}clear(){const i=this.bits,o=i.length;for(let a=0;a<o;a++)i[a]=0}setRegion(i,o,a,c){if(o<0||i<0)throw new I("Left and top must be nonnegative");if(c<1||a<1)throw new I("Height and width must be at least 1");const d=i+a,f=o+c;if(f>this.height||d>this.width)throw new I("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let E=o;E<f;E++){const S=E*g;for(let b=i;b<d;b++)y[S+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new J(this.width):o.clear();const a=this.rowSize,c=this.bits,d=i*a;for(let f=0;f<a;f++)o.setBulk(f*32,c[d+f]);return o}setRow(i,o){V.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let a=new J(i),c=new J(i);for(let d=0,f=Math.floor((o+1)/2);d<f;d++)a=this.getRow(d,a),c=this.getRow(o-1-d,c),a.reverse(),c.reverse(),this.setRow(d,c),this.setRow(o-1-d,a)}getEnclosingRectangle(){const i=this.width,o=this.height,a=this.rowSize,c=this.bits;let d=i,f=o,g=-1,y=-1;for(let E=0;E<o;E++)for(let S=0;S<a;S++){const b=c[E*a+S];if(b!==0){if(E<f&&(f=E),E>y&&(y=E),S*32<d){let N=0;for(;!(b<<31-N&4294967295);)N++;S*32+N<d&&(d=S*32+N)}if(S*32+31>g){let N=31;for(;!(b>>>N);)N--;S*32+N>g&&(g=S*32+N)}}}return g<d||y<f?null:Int32Array.from([d,f,g-d+1,y-f+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let a=0;for(;a<o.length&&o[a]===0;)a++;if(a===o.length)return null;const c=a/i;let d=a%i*32;const f=o[a];let g=0;for(;!(f<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,c])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let a=o.length-1;for(;a>=0&&o[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/i);let d=Math.floor(a%i)*32;const f=o[a];let g=31;for(;!(f>>>g);)g--;return d+=g,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Ye))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&B.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+B.hashCode(this.bits),i}toString(i="X ",o="  ",a=`
`){return this.buildToString(i,o,a)}buildToString(i,o,a){let c=new Je;for(let d=0,f=this.height;d<f;d++){for(let g=0,y=this.width;g<y;g++)c.append(this.get(g,d)?i:o);c.append(a)}return c.toString()}clone(){return new Ye(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends x{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Oe extends Y{constructor(i){super(i),this.luminances=Oe.EMPTY,this.buckets=new Int32Array(Oe.LUMINANCE_BUCKETS)}getBlackRow(i,o){const a=this.getLuminanceSource(),c=a.getWidth();o==null||o.getSize()<c?o=new J(c):o.clear(),this.initArrays(c);const d=a.getRow(i,this.luminances),f=this.buckets;for(let y=0;y<c;y++)f[(d[y]&255)>>Oe.LUMINANCE_SHIFT]++;const g=Oe.estimateBlackPoint(f);if(c<3)for(let y=0;y<c;y++)(d[y]&255)<g&&o.set(y);else{let y=d[0]&255,E=d[1]&255;for(let S=1;S<c-1;S++){const b=d[S+1]&255;(E*4-y-b)/2<g&&o.set(S),y=E,E=b}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight(),c=new Ye(o,a);this.initArrays(o);const d=this.buckets;for(let y=1;y<5;y++){const E=Math.floor(a*y/5),S=i.getRow(E,this.luminances),b=Math.floor(o*4/5);for(let N=Math.floor(o/5);N<b;N++){const P=S[N]&255;d[P>>Oe.LUMINANCE_SHIFT]++}}const f=Oe.estimateBlackPoint(d),g=i.getMatrix();for(let y=0;y<a;y++){const E=y*o;for(let S=0;S<o;S++)(g[E+S]&255)<f&&c.set(S,y)}return c}createBinarizer(i){return new Oe(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let a=0;a<Oe.LUMINANCE_BUCKETS;a++)o[a]=0}static estimateBlackPoint(i){const o=i.length;let a=0,c=0,d=0;for(let S=0;S<o;S++)i[S]>d&&(c=S,d=i[S]),i[S]>a&&(a=i[S]);let f=0,g=0;for(let S=0;S<o;S++){const b=S-c,N=i[S]*b*b;N>g&&(f=S,g=N)}if(c>f){const S=c;c=f,f=S}if(f-c<=o/16)throw new ee;let y=f-1,E=-1;for(let S=f-1;S>c;S--){const b=S-c,N=b*b*(f-S)*(a-i[S]);N>E&&(y=S,E=N)}return y<<Oe.LUMINANCE_SHIFT}}Oe.LUMINANCE_BITS=5,Oe.LUMINANCE_SHIFT=8-Oe.LUMINANCE_BITS,Oe.LUMINANCE_BUCKETS=1<<Oe.LUMINANCE_BITS,Oe.EMPTY=Uint8ClampedArray.from([0]);class xe extends Oe{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight();if(o>=xe.MINIMUM_DIMENSION&&a>=xe.MINIMUM_DIMENSION){const c=i.getMatrix();let d=o>>xe.BLOCK_SIZE_POWER;o&xe.BLOCK_SIZE_MASK&&d++;let f=a>>xe.BLOCK_SIZE_POWER;a&xe.BLOCK_SIZE_MASK&&f++;const g=xe.calculateBlackPoints(c,d,f,o,a),y=new Ye(o,a);xe.calculateThresholdForBlock(c,d,f,o,a,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new xe(i)}static calculateThresholdForBlock(i,o,a,c,d,f,g){const y=d-xe.BLOCK_SIZE,E=c-xe.BLOCK_SIZE;for(let S=0;S<a;S++){let b=S<<xe.BLOCK_SIZE_POWER;b>y&&(b=y);const N=xe.cap(S,2,a-3);for(let P=0;P<o;P++){let z=P<<xe.BLOCK_SIZE_POWER;z>E&&(z=E);const U=xe.cap(P,2,o-3);let j=0;for(let ue=-2;ue<=2;ue++){const de=f[N+ue];j+=de[U-2]+de[U-1]+de[U]+de[U+1]+de[U+2]}const Q=j/25;xe.thresholdBlock(i,z,b,Q,c,g)}}}static cap(i,o,a){return i<o?o:i>a?a:i}static thresholdBlock(i,o,a,c,d,f){for(let g=0,y=a*d+o;g<xe.BLOCK_SIZE;g++,y+=d)for(let E=0;E<xe.BLOCK_SIZE;E++)(i[y+E]&255)<=c&&f.set(o+E,a+g)}static calculateBlackPoints(i,o,a,c,d){const f=d-xe.BLOCK_SIZE,g=c-xe.BLOCK_SIZE,y=new Array(a);for(let E=0;E<a;E++){y[E]=new Int32Array(o);let S=E<<xe.BLOCK_SIZE_POWER;S>f&&(S=f);for(let b=0;b<o;b++){let N=b<<xe.BLOCK_SIZE_POWER;N>g&&(N=g);let P=0,z=255,U=0;for(let Q=0,ue=S*c+N;Q<xe.BLOCK_SIZE;Q++,ue+=c){for(let de=0;de<xe.BLOCK_SIZE;de++){const oe=i[ue+de]&255;P+=oe,oe<z&&(z=oe),oe>U&&(U=oe)}if(U-z>xe.MIN_DYNAMIC_RANGE)for(Q++,ue+=c;Q<xe.BLOCK_SIZE;Q++,ue+=c)for(let de=0;de<xe.BLOCK_SIZE;de++)P+=i[ue+de]&255}let j=P>>xe.BLOCK_SIZE_POWER*2;if(U-z<=xe.MIN_DYNAMIC_RANGE&&(j=z/2,E>0&&b>0)){const Q=(y[E-1][b]+2*y[E][b-1]+y[E-1][b-1])/4;z<Q&&(j=Q)}y[E][b]=j}}return y}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class ne{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,a,c){throw new ze("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ze("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ze("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new Je;for(let a=0;a<this.height;a++){const c=this.getRow(a,i);for(let d=0;d<this.width;d++){const f=c[d]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",o.append(g)}o.append(`
`)}return o.toString()}}class Ae extends ne{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const a=this.delegate.getRow(i,o),c=this.getWidth();for(let d=0;d<c;d++)a[d]=255-(a[d]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(o);for(let c=0;c<o;c++)a[c]=255-(i[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,a,c){return new Ae(this.delegate.crop(i,o,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ae(this.delegate.rotateCounterClockwise45())}}class le extends ne{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return le.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,a){const c=new Uint8ClampedArray(o*a);for(let d=0,f=0,g=i.length;d<g;d+=4,f++){let y;if(i[d+3]===0)y=255;else{const S=i[d],b=i[d+1],N=i[d+2];y=306*S+601*b+117*N+512>>10}c[f]=y}return c}getRow(i,o){if(i<0||i>=this.getHeight())throw new I("Requested row is outside the image: "+i);const a=this.getWidth(),c=i*a;return o===null?o=this.buffer.slice(c,c+a):(o.length<a&&(o=new Uint8ClampedArray(a)),o.set(this.buffer.slice(c,c+a))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,a,c){return super.crop(i,o,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),a=o.getContext("2d"),c=i*le.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*f),y=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*f);return o.width=g,o.height=y,a.translate(g/2,y/2),a.rotate(c),a.drawImage(this.canvas,d/-2,f/-2),this.buffer=le.makeBufferFromCanvasImageData(o),this}invert(){return new Ae(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class De{constructor(i,o,a){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ne=(globalThis||Os||self||window||void 0)&&(globalThis||Os||self||window||void 0).__awaiter||function(T,i,o,a){function c(d){return d instanceof o?d:new o(function(f){f(d)})}return new(o||(o=Promise))(function(d,f){function g(S){try{E(a.next(S))}catch(b){f(b)}}function y(S){try{E(a.throw(S))}catch(b){f(b)}}function E(S){S.done?d(S.value):c(S.value).then(g,y)}E((a=a.apply(T,i||[])).next())})};class It{constructor(i,o=500,a){this.reader=i,this.timeBetweenScansMillis=o,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const a of i){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const d=a.deviceId||a.id,f=a.label||`Video device ${o.length+1}`,g=a.groupId,y={deviceId:d,label:f,kind:c,groupId:g};o.push(y)}return o})}getVideoInputDevices(){return Ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new De(o.deviceId,o.label))})}findDeviceById(i){return Ne(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return Ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return Ne(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(i,o){return Ne(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,o)})}decodeOnceFromStream(i,o){return Ne(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,o,a){return Ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,a)})}decodeFromVideoDevice(i,o,a){return Ne(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,o,a)})}decodeFromConstraints(i,o,a){return Ne(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,o,a)})}decodeFromStream(i,o,a){return Ne(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return Ne(this,void 0,void 0,function*(){const a=this.prepareVideoElement(o);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((o,a)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const a=document.getElementById(i);if(!a)throw new R(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==o.toLowerCase())throw new R(`element with id '${i}' must be an ${o} element`);return a}decodeFromImage(i,o){if(!i&&!o)throw new R("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new R("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,a){if(i===void 0&&o===void 0)throw new R("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new R("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let a;return this.isImageLoaded(o)?a=this.decodeOnce(o,!1,!0):a=this._decodeOnLoadImage(o),a}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,o)}_decodeFromVideoElementSetup(i){if(!i)throw new R("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new R("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const a=this._decodeOnLoadImage(o);return o.src=i,a}decodeFromVideoUrl(i){if(!i)throw new R("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElement(o);return o.src=i,a}decodeFromVideoUrlContinuously(i,o){if(!i)throw new R("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,o);return a.src=i,c}_decodeOnLoadImage(i){return new Promise((o,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return Ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,a=!0){this._stopAsyncDecode=!1;const c=(d,f)=>{if(this._stopAsyncDecode){f(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(i);d(g)}catch(g){const y=o&&g instanceof ee,S=(g instanceof W||g instanceof q)&&a;if(y||S)return setTimeout(c,this._timeBetweenDecodingAttempts,d,f);f(g)}};return new Promise((d,f)=>c(d,f))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);o(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){o(null,c);const d=c instanceof W||c instanceof q,f=c instanceof ee;(d||f)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,a){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,a=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),a=new le(o),c=new xe(a);return new D(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let a,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),o.style.width=a+"px",o.style.height=c+"px",o.width=a,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Ue{constructor(i,o,a=o==null?0:8*o.length,c,d,f=V.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=a,this.resultPoints=c,this.format=d,this.timestamp=f,this.text=i,this.rawBytes=o,a==null?this.numBits=o==null?0:8*o.length:this.numBits=a,this.resultPoints=c,this.format=d,this.resultMetadata=null,f==null?this.timestamp=V.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(o.length+i.length);V.arraycopy(o,0,a,0,o.length),V.arraycopy(i,0,a,o.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var et;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var ae=et,rn;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rn||(rn={}));var Tt=rn;class gr{constructor(i,o,a,c,d=-1,f=-1){this.rawBytes=i,this.text=o,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Yi{exp(i){return this.expTable[i]}log(i){if(i===0)throw new I;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class ln{constructor(i,o){if(o.length===0)throw new I;this.field=i;const a=o.length;if(a>1&&o[0]===0){let c=1;for(;c<a&&o[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),V.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let a;if(i===1){a=0;for(let f=0,g=o.length;f!==g;f++){const y=o[f];a=Yi.addOrSubtract(a,y)}return a}a=o[0];const c=o.length,d=this.field;for(let f=1;f<c;f++)a=Yi.addOrSubtract(d.multiply(i,a),o[f]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){const f=o;o=a,a=f}let c=new Int32Array(a.length);const d=a.length-o.length;V.arraycopy(a,0,c,0,d);for(let f=d;f<a.length;f++)c[f]=Yi.addOrSubtract(o[f-d],a[f]);return new ln(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,a=o.length,c=i.coefficients,d=c.length,f=new Int32Array(a+d-1),g=this.field;for(let y=0;y<a;y++){const E=o[y];for(let S=0;S<d;S++)f[y+S]=Yi.addOrSubtract(f[y+S],g.multiply(E,c[S]))}return new ln(g,f)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,a=this.field,c=new Int32Array(o),d=this.coefficients;for(let f=0;f<o;f++)c[f]=a.multiply(d[f],i);return new ln(a,c)}multiplyByMonomial(i,o){if(i<0)throw new I;if(o===0)return this.field.getZero();const a=this.coefficients,c=a.length,d=new Int32Array(c+i),f=this.field;for(let g=0;g<c;g++)d[g]=f.multiply(a[g],o);return new ln(f,d)}divide(i){if(!this.field.equals(i.field))throw new I("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new I("Divide by 0");const o=this.field;let a=o.getZero(),c=this;const d=i.getCoefficient(i.getDegree()),f=o.inverse(d);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const g=c.getDegree()-i.getDegree(),y=o.multiply(c.getCoefficient(c.getDegree()),f),E=i.multiplyByMonomial(g,y),S=o.buildMonomial(g,y);a=a.addOrSubtract(S),c=c.addOrSubtract(E)}return[a,c]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),o===0||a!==1){const c=this.field.log(a);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Mi extends x{}Mi.kind="ArithmeticException";class it extends Yi{constructor(i,o,a){super(),this.primitive=i,this.size=o,this.generatorBase=a;const c=new Int32Array(o);let d=1;for(let g=0;g<o;g++)c[g]=d,d*=2,d>=o&&(d^=i,d&=o-1);this.expTable=c;const f=new Int32Array(o);for(let g=0;g<o-1;g++)f[c[g]]=g;this.logTable=f,this.zero=new ln(this,Int32Array.from([0])),this.one=new ln(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new I;if(o===0)return this.zero;const a=new Int32Array(i+1);return a[0]=o,new ln(this,a)}inverse(i){if(i===0)throw new Mi;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}it.AZTEC_DATA_12=new it(4201,4096,1),it.AZTEC_DATA_10=new it(1033,1024,1),it.AZTEC_DATA_6=new it(67,64,1),it.AZTEC_PARAM=new it(19,16,1),it.QR_CODE_FIELD_256=new it(285,256,0),it.DATA_MATRIX_FIELD_256=new it(301,256,1),it.AZTEC_DATA_8=it.DATA_MATRIX_FIELD_256,it.MAXICODE_FIELD_64=it.AZTEC_DATA_6;class Xi extends x{}Xi.kind="ReedSolomonException";class Kn extends x{}Kn.kind="IllegalStateException";class pr{constructor(i){this.field=i}decode(i,o){const a=this.field,c=new ln(a,i),d=new Int32Array(o);let f=!0;for(let P=0;P<o;P++){const z=c.evaluateAt(a.exp(P+a.getGeneratorBase()));d[d.length-1-P]=z,z!==0&&(f=!1)}if(f)return;const g=new ln(a,d),y=this.runEuclideanAlgorithm(a.buildMonomial(o,1),g,o),E=y[0],S=y[1],b=this.findErrorLocations(E),N=this.findErrorMagnitudes(S,b);for(let P=0;P<b.length;P++){const z=i.length-1-a.log(b[P]);if(z<0)throw new Xi("Bad error location");i[z]=it.addOrSubtract(i[z],N[P])}}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){const P=i;i=o,o=P}const c=this.field;let d=i,f=o,g=c.getZero(),y=c.getOne();for(;f.getDegree()>=(a/2|0);){let P=d,z=g;if(d=f,g=y,d.isZero())throw new Xi("r_{i-1} was zero");f=P;let U=c.getZero();const j=d.getCoefficient(d.getDegree()),Q=c.inverse(j);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const ue=f.getDegree()-d.getDegree(),de=c.multiply(f.getCoefficient(f.getDegree()),Q);U=U.addOrSubtract(c.buildMonomial(ue,de)),f=f.addOrSubtract(d.multiplyByMonomial(ue,de))}if(y=U.multiply(g).addOrSubtract(z),f.getDegree()>=d.getDegree())throw new Kn("Division algorithm failed to reduce polynomial?")}const E=y.getCoefficient(0);if(E===0)throw new Xi("sigmaTilde(0) was zero");const S=c.inverse(E),b=y.multiplyScalar(S),N=f.multiplyScalar(S);return[b,N]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(o);let c=0;const d=this.field;for(let f=1;f<d.getSize()&&c<o;f++)i.evaluateAt(f)===0&&(a[c]=d.inverse(f),c++);if(c!==o)throw new Xi("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,o){const a=o.length,c=new Int32Array(a),d=this.field;for(let f=0;f<a;f++){const g=d.inverse(o[f]);let y=1;for(let E=0;E<a;E++)if(f!==E){const S=d.multiply(o[E],g),b=S&1?S&-2:S|1;y=d.multiply(y,b)}c[f]=d.multiply(i.evaluateAt(g),d.inverse(y)),d.getGeneratorBase()!==0&&(c[f]=d.multiply(c[f],g))}return c}}var qt;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(qt||(qt={}));class gt{decode(i){this.ddata=i;let o=i.getBits(),a=this.extractBits(o),c=this.correctBits(a),d=gt.convertBoolArrayToByteArray(c),f=gt.getEncodedData(c),g=new gr(d,f,null,null);return g.setNumBits(c.length),g}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,a=qt.UPPER,c=qt.UPPER,d="",f=0;for(;f<o;)if(c===qt.BINARY){if(o-f<5)break;let g=gt.readCode(i,f,5);if(f+=5,g===0){if(o-f<11)break;g=gt.readCode(i,f,11)+31,f+=11}for(let y=0;y<g;y++){if(o-f<8){f=o;break}const E=gt.readCode(i,f,8);d+=we.castAsNonUtf8Char(E),f+=8}c=a}else{let g=c===qt.DIGIT?4:5;if(o-f<g)break;let y=gt.readCode(i,f,g);f+=g;let E=gt.getCharacter(c,y);E.startsWith("CTRL_")?(a=c,c=gt.getTable(E.charAt(5)),E.charAt(6)==="L"&&(a=c)):(d+=E,c=a)}return d}static getTable(i){switch(i){case"L":return qt.LOWER;case"P":return qt.PUNCT;case"M":return qt.MIXED;case"D":return qt.DIGIT;case"B":return qt.BINARY;case"U":default:return qt.UPPER}}static getCharacter(i,o){switch(i){case qt.UPPER:return gt.UPPER_TABLE[o];case qt.LOWER:return gt.LOWER_TABLE[o];case qt.MIXED:return gt.MIXED_TABLE[o];case qt.PUNCT:return gt.PUNCT_TABLE[o];case qt.DIGIT:return gt.DIGIT_TABLE[o];default:throw new Kn("Bad table")}}correctBits(i){let o,a;this.ddata.getNbLayers()<=2?(a=6,o=it.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,o=it.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,o=it.AZTEC_DATA_10):(a=12,o=it.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=i.length/a;if(d<c)throw new q;let f=i.length%a,g=new Int32Array(d);for(let N=0;N<d;N++,f+=a)g[N]=gt.readCode(i,f,a);try{new pr(o).decode(g,d-c)}catch(N){throw new q(N)}let y=(1<<a)-1,E=0;for(let N=0;N<c;N++){let P=g[N];if(P===0||P===y)throw new q;(P===1||P===y-1)&&E++}let S=new Array(c*a-E),b=0;for(let N=0;N<c;N++){let P=g[N];if(P===1||P===y-1)S.fill(P>1,b,b+a-1),b+=a-1;else for(let z=a-1;z>=0;--z)S[b++]=(P&1<<z)!==0}return S}extractBits(i){let o=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(o?11:14)+a*4,d=new Int32Array(c),f=new Array(this.totalBitsInLayer(a,o));if(o)for(let g=0;g<d.length;g++)d[g]=g;else{let g=c+1+2*k.truncDivision(k.truncDivision(c,2)-1,15),y=c/2,E=k.truncDivision(g,2);for(let S=0;S<y;S++){let b=S+k.truncDivision(S,15);d[y-S-1]=E-b-1,d[y+S]=E+b+1}}for(let g=0,y=0;g<a;g++){let E=(a-g)*4+(o?9:12),S=g*2,b=c-1-S;for(let N=0;N<E;N++){let P=N*2;for(let z=0;z<2;z++)f[y+P+z]=i.get(d[S+z],d[S+N]),f[y+2*E+P+z]=i.get(d[S+N],d[b-z]),f[y+4*E+P+z]=i.get(d[b-z],d[b-N]),f[y+6*E+P+z]=i.get(d[b-N],d[S+z])}y+=E*8}return f}static readCode(i,o,a){let c=0;for(let d=o;d<o+a;d++)c<<=1,i[d]&&(c|=1);return c}static readByte(i,o){let a=i.length-o;return a>=8?gt.readCode(i,o,8):gt.readCode(i,o,a)<<8-a}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let a=0;a<o.length;a++)o[a]=gt.readByte(i,8*a);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}gt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],gt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],gt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],gt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],gt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,a,c){const d=i-a,f=o-c;return Math.sqrt(d*d+f*f)}static sum(i){let o=0;for(let a=0,c=i.length;a!==c;a++){const d=i[a];o+=d}return o}}class Rr{static floatToIntBits(i){return i}}Rr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Ce){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Rr.floatToIntBits(this.x)+Rr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let d,f,g;if(a>=o&&a>=c?(f=i[0],d=i[1],g=i[2]):c>=a&&c>=o?(f=i[1],d=i[0],g=i[2]):(f=i[2],d=i[0],g=i[1]),this.crossProductZ(d,f,g)<0){const y=d;d=g,g=y}i[0]=d,i[1]=f,i[2]=g}static distance(i,o){return rt.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,a){const c=o.x,d=o.y;return(a.x-c)*(i.y-d)-(a.y-d)*(i.x-c)}}class Et{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ho extends Et{constructor(i,o,a,c,d){super(i,o),this.compact=a,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class X{constructor(i,o,a,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=X.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const d=o/2|0;if(this.leftInit=a-d,this.rightInit=a+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let i=this.leftInit,o=this.rightInit,a=this.upInit,c=this.downInit,d=!1,f=!0,g=!1,y=!1,E=!1,S=!1,b=!1;const N=this.width,P=this.height;for(;f;){f=!1;let z=!0;for(;(z||!y)&&o<N;)z=this.containsBlackPoint(a,c,o,!1),z?(o++,f=!0,y=!0):y||o++;if(o>=N){d=!0;break}let U=!0;for(;(U||!E)&&c<P;)U=this.containsBlackPoint(i,o,c,!0),U?(c++,f=!0,E=!0):E||c++;if(c>=P){d=!0;break}let j=!0;for(;(j||!S)&&i>=0;)j=this.containsBlackPoint(a,c,i,!1),j?(i--,f=!0,S=!0):S||i--;if(i<0){d=!0;break}let Q=!0;for(;(Q||!b)&&a>=0;)Q=this.containsBlackPoint(i,o,a,!0),Q?(a--,f=!0,b=!0):b||a--;if(a<0){d=!0;break}f&&(g=!0)}if(!d&&g){const z=o-i;let U=null;for(let de=1;U===null&&de<z;de++)U=this.getBlackPointOnSegment(i,c-de,i+de,c);if(U==null)throw new ee;let j=null;for(let de=1;j===null&&de<z;de++)j=this.getBlackPointOnSegment(i,a+de,i+de,a);if(j==null)throw new ee;let Q=null;for(let de=1;Q===null&&de<z;de++)Q=this.getBlackPointOnSegment(o,a+de,o-de,a);if(Q==null)throw new ee;let ue=null;for(let de=1;ue===null&&de<z;de++)ue=this.getBlackPointOnSegment(o,c-de,o-de,c);if(ue==null)throw new ee;return this.centerEdges(ue,U,Q,j)}else throw new ee}getBlackPointOnSegment(i,o,a,c){const d=rt.round(rt.distance(i,o,a,c)),f=(a-i)/d,g=(c-o)/d,y=this.image;for(let E=0;E<d;E++){const S=rt.round(i+E*f),b=rt.round(o+E*g);if(y.get(S,b))return new Ce(S,b)}return null}centerEdges(i,o,a,c){const d=i.getX(),f=i.getY(),g=o.getX(),y=o.getY(),E=a.getX(),S=a.getY(),b=c.getX(),N=c.getY(),P=X.CORR;return d<this.width/2?[new Ce(b-P,N+P),new Ce(g+P,y+P),new Ce(E-P,S-P),new Ce(d+P,f-P)]:[new Ce(b+P,N+P),new Ce(g+P,y-P),new Ce(E-P,S+P),new Ce(d-P,f-P)]}containsBlackPoint(i,o,a,c){const d=this.image;if(c){for(let f=i;f<=o;f++)if(d.get(f,a))return!0}else for(let f=i;f<=o;f++)if(d.get(a,f))return!0;return!1}}X.INIT_SIZE=10,X.CORR=1;class Le{static checkAndNudgePoints(i,o){const a=i.getWidth(),c=i.getHeight();let d=!0;for(let f=0;f<o.length&&d;f+=2){const g=Math.floor(o[f]),y=Math.floor(o[f+1]);if(g<-1||g>a||y<-1||y>c)throw new ee;d=!1,g===-1?(o[f]=0,d=!0):g===a&&(o[f]=a-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===c&&(o[f+1]=c-1,d=!0)}d=!0;for(let f=o.length-2;f>=0&&d;f-=2){const g=Math.floor(o[f]),y=Math.floor(o[f+1]);if(g<-1||g>a||y<-1||y>c)throw new ee;d=!1,g===-1?(o[f]=0,d=!0):g===a&&(o[f]=a-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===c&&(o[f+1]=c-1,d=!0)}}}class He{constructor(i,o,a,c,d,f,g,y,E){this.a11=i,this.a21=o,this.a31=a,this.a12=c,this.a22=d,this.a32=f,this.a13=g,this.a23=y,this.a33=E}static quadrilateralToQuadrilateral(i,o,a,c,d,f,g,y,E,S,b,N,P,z,U,j){const Q=He.quadrilateralToSquare(i,o,a,c,d,f,g,y);return He.squareToQuadrilateral(E,S,b,N,P,z,U,j).times(Q)}transformPoints(i){const o=i.length,a=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,E=this.a31,S=this.a32,b=this.a33;for(let N=0;N<o;N+=2){const P=i[N],z=i[N+1],U=d*P+y*z+b;i[N]=(a*P+f*z+E)/U,i[N+1]=(c*P+g*z+S)/U}}transformPointsWithValues(i,o){const a=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,E=this.a31,S=this.a32,b=this.a33,N=i.length;for(let P=0;P<N;P++){const z=i[P],U=o[P],j=d*z+y*U+b;i[P]=(a*z+f*U+E)/j,o[P]=(c*z+g*U+S)/j}}static squareToQuadrilateral(i,o,a,c,d,f,g,y){const E=i-a+d-g,S=o-c+f-y;if(E===0&&S===0)return new He(a-i,d-a,i,c-o,f-c,o,0,0,1);{const b=a-d,N=g-d,P=c-f,z=y-f,U=b*z-N*P,j=(E*z-N*S)/U,Q=(b*S-E*P)/U;return new He(a-i+j*a,g-i+Q*g,i,c-o+j*c,y-o+Q*y,o,j,Q,1)}}static quadrilateralToSquare(i,o,a,c,d,f,g,y){return He.squareToQuadrilateral(i,o,a,c,d,f,g,y).buildAdjoint()}buildAdjoint(){return new He(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new He(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class ot extends Le{sampleGrid(i,o,a,c,d,f,g,y,E,S,b,N,P,z,U,j,Q,ue,de){const oe=He.quadrilateralToQuadrilateral(c,d,f,g,y,E,S,b,N,P,z,U,j,Q,ue,de);return this.sampleGridWithTransform(i,o,a,oe)}sampleGridWithTransform(i,o,a,c){if(o<=0||a<=0)throw new ee;const d=new Ye(o,a),f=new Float32Array(2*o);for(let g=0;g<a;g++){const y=f.length,E=g+.5;for(let S=0;S<y;S+=2)f[S]=S/2+.5,f[S+1]=E;c.transformPoints(f),Le.checkAndNudgePoints(i,f);try{for(let S=0;S<y;S+=2)i.get(Math.floor(f[S]),Math.floor(f[S+1]))&&d.set(S/2,g)}catch{throw new ee}}return d}}class cn{static setGridSampler(i){cn.gridSampler=i}static getInstance(){return cn.gridSampler}}cn.gridSampler=new ot;class $t{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new Ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class pt{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),a=this.getBullsEyeCorners(o);if(i){let f=a[0];a[0]=a[2],a[2]=f}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),d=this.getMatrixCornerPoints(a);return new Ho(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ee;let o=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(a,o);let c=0;for(let f=0;f<4;f++){let g=a[(this.shift+f)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(i,o){let a=0;i.forEach((c,d,f)=>{let g=(c>>o-2<<1)+(c&1);a=(a<<3)+g}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(k.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new ee}getCorrectedParameterData(i,o){let a,c;o?(a=7,c=2):(a=10,c=4);let d=a-c,f=new Int32Array(a);for(let y=a-1;y>=0;--y)f[y]=i&15,i>>=4;try{new pr(it.AZTEC_PARAM).decode(f,d)}catch{throw new ee}let g=0;for(let y=0;y<c;y++)g=(g<<4)+f[y];return g}getBullsEyeCorners(i){let o=i,a=i,c=i,d=i,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(o,f,1,-1),N=this.getFirstDifferent(a,f,1,1),P=this.getFirstDifferent(c,f,-1,1),z=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(z,b)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(b,N,P,z))break}o=b,a=N,c=P,d=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let g=new Ce(o.getX()+.5,o.getY()-.5),y=new Ce(a.getX()+.5,a.getY()+.5),E=new Ce(c.getX()-.5,c.getY()+.5),S=new Ce(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,y,E,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,a,c;try{let g=new X(this.image).detect();i=g[0],o=g[1],a=g[2],c=g[3]}catch{let y=this.image.getWidth()/2,E=this.image.getHeight()/2;i=this.getFirstDifferent(new $t(y+7,E-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new $t(y+7,E+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new $t(y-7,E+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $t(y-7,E-7),!1,-1,-1).toResultPoint()}let d=rt.round((i.getX()+c.getX()+o.getX()+a.getX())/4),f=rt.round((i.getY()+c.getY()+o.getY()+a.getY())/4);try{let g=new X(this.image,15,d,f).detect();i=g[0],o=g[1],a=g[2],c=g[3]}catch{i=this.getFirstDifferent(new $t(d+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new $t(d+7,f+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new $t(d-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $t(d-7,f-7),!1,-1,-1).toResultPoint()}return d=rt.round((i.getX()+c.getX()+o.getX()+a.getX())/4),f=rt.round((i.getY()+c.getY()+o.getY()+a.getY())/4),new $t(d,f)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,a,c,d){let f=cn.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,E=g/2+this.nbCenterLayers;return f.sampleGrid(i,g,g,y,y,E,y,E,E,y,E,o.getX(),o.getY(),a.getX(),a.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(i,o,a){let c=0,d=this.distanceResultPoint(i,o),f=d/a,g=i.getX(),y=i.getY(),E=f*(o.getX()-i.getX())/d,S=f*(o.getY()-i.getY())/d;for(let b=0;b<a;b++)this.image.get(rt.round(g+b*E),rt.round(y+b*S))&&(c|=1<<a-b-1);return c}isWhiteOrBlackRectangle(i,o,a,c){let d=3;i=new $t(i.getX()-d,i.getY()+d),o=new $t(o.getX()-d,o.getY()-d),a=new $t(a.getX()+d,a.getY()-d),c=new $t(c.getX()+d,c.getY()+d);let f=this.getColor(c,i);if(f===0)return!1;let g=this.getColor(i,o);return g!==f||(g=this.getColor(o,a),g!==f)?!1:(g=this.getColor(a,c),g===f)}getColor(i,o){let a=this.distancePoint(i,o),c=(o.getX()-i.getX())/a,d=(o.getY()-i.getY())/a,f=0,g=i.getX(),y=i.getY(),E=this.image.get(i.getX(),i.getY()),S=Math.ceil(a);for(let N=0;N<S;N++)g+=c,y+=d,this.image.get(rt.round(g),rt.round(y))!==E&&f++;let b=f/a;return b>.1&&b<.9?0:b<=.1===E?1:-1}getFirstDifferent(i,o,a,c){let d=i.getX()+a,f=i.getY()+c;for(;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=a,f+=c;for(d-=a,f-=c;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=a;for(d-=a;this.isValid(d,f)&&this.image.get(d,f)===o;)f+=c;return f-=c,new $t(d,f)}expandSquare(i,o,a){let c=a/(2*o),d=i[0].getX()-i[2].getX(),f=i[0].getY()-i[2].getY(),g=(i[0].getX()+i[2].getX())/2,y=(i[0].getY()+i[2].getY())/2,E=new Ce(g+c*d,y+c*f),S=new Ce(g-c*d,y-c*f);d=i[1].getX()-i[3].getX(),f=i[1].getY()-i[3].getY(),g=(i[1].getX()+i[3].getX())/2,y=(i[1].getY()+i[3].getY())/2;let b=new Ce(g+c*d,y+c*f),N=new Ce(g-c*d,y-c*f);return[E,b,S,N]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=rt.round(i.getX()),a=rt.round(i.getY());return this.isValid(o,a)}distancePoint(i,o){return rt.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return rt.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class mt{decode(i,o=null){let a=null,c=new pt(i.getBlackMatrix()),d=null,f=null;try{let S=c.detectMirror(!1);d=S.getPoints(),this.reportFoundResultPoints(o,d),f=new gt().decode(S)}catch(S){a=S}if(f==null)try{let S=c.detectMirror(!0);d=S.getPoints(),this.reportFoundResultPoints(o,d),f=new gt().decode(S)}catch(S){throw a??S}let g=new Ue(f.getText(),f.getRawBytes(),f.getNumBits(),d,ae.AZTEC,V.currentTimeMillis()),y=f.getByteSegments();y!=null&&g.putMetadata(Tt.BYTE_SEGMENTS,y);let E=f.getECLevel();return E!=null&&g.putMetadata(Tt.ERROR_CORRECTION_LEVEL,E),g}reportFoundResultPoints(i,o){if(i!=null){let a=i.get(ce.NEED_RESULT_POINT_CALLBACK);a!=null&&o.forEach((c,d,f)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Qi extends It{constructor(i=500){super(new mt,i)}}class _t{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(ce.TRY_HARDER)===!0&&i.isRotateSupported()){const d=i.rotateCounterClockwise(),f=this.doDecode(d,o),g=f.getResultMetadata();let y=270;g!==null&&g.get(Tt.ORIENTATION)===!0&&(y=y+g.get(Tt.ORIENTATION)%360),f.putMetadata(Tt.ORIENTATION,y);const E=f.getResultPoints();if(E!==null){const S=d.getHeight();for(let b=0;b<E.length;b++)E[b]=new Ce(S-E[b].getY()-1,E[b].getX())}return f}else throw new ee}}reset(){}doDecode(i,o){const a=i.getWidth(),c=i.getHeight();let d=new J(a);const f=o&&o.get(ce.TRY_HARDER)===!0,g=Math.max(1,c>>(f?8:5));let y;f?y=c:y=15;const E=Math.trunc(c/2);for(let S=0;S<y;S++){const b=Math.trunc((S+1)/2),N=(S&1)===0,P=E+g*(N?b:-b);if(P<0||P>=c)break;try{d=i.getBlackRow(P,d)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(d.reverse(),o&&o.get(ce.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;o.forEach((j,Q)=>U.set(Q,j)),U.delete(ce.NEED_RESULT_POINT_CALLBACK),o=U}try{const U=this.decodeRow(P,d,o);if(z===1){U.putMetadata(Tt.ORIENTATION,180);const j=U.getResultPoints();j!==null&&(j[0]=new Ce(a-j[0].getX()-1,j[0].getY()),j[1]=new Ce(a-j[1].getX()-1,j[1].getY()))}return U}catch{}}}throw new ee}static recordPattern(i,o,a){const c=a.length;for(let E=0;E<c;E++)a[E]=0;const d=i.getSize();if(o>=d)throw new ee;let f=!i.get(o),g=0,y=o;for(;y<d;){if(i.get(y)!==f)a[g]++;else{if(++g===c)break;a[g]=1,f=!f}y++}if(!(g===c||g===c-1&&y===d))throw new ee}static recordPatternInReverse(i,o,a){let c=a.length,d=i.get(o);for(;o>0&&c>=0;)i.get(--o)!==d&&(c--,d=!d);if(c>=0)throw new ee;_t.recordPattern(i,o+1,a)}static patternMatchVariance(i,o,a){const c=i.length;let d=0,f=0;for(let E=0;E<c;E++)d+=i[E],f+=o[E];if(d<f)return Number.POSITIVE_INFINITY;const g=d/f;a*=g;let y=0;for(let E=0;E<c;E++){const S=i[E],b=o[E]*g,N=S>b?S-b:b-S;if(N>a)return Number.POSITIVE_INFINITY;y+=N}return y/d}}class se extends _t{static findStartPattern(i){const o=i.getSize(),a=i.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),f=a,g=!1;const y=6;for(let E=a;E<o;E++)if(i.get(E)!==g)d[c]++;else{if(c===y-1){let S=se.MAX_AVG_VARIANCE,b=-1;for(let N=se.CODE_START_A;N<=se.CODE_START_C;N++){const P=_t.patternMatchVariance(d,se.CODE_PATTERNS[N],se.MAX_INDIVIDUAL_VARIANCE);P<S&&(S=P,b=N)}if(b>=0&&i.isRange(Math.max(0,f-(E-f)/2),f,!1))return Int32Array.from([f,E,b]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,g=!g}throw new ee}static decodeCode(i,o,a){_t.recordPattern(i,a,o);let c=se.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<se.CODE_PATTERNS.length;f++){const g=se.CODE_PATTERNS[f],y=this.patternMatchVariance(o,g,se.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,d=f)}if(d>=0)return d;throw new ee}decodeRow(i,o,a){const c=a&&a.get(ce.ASSUME_GS1)===!0,d=se.findStartPattern(o),f=d[2];let g=0;const y=new Uint8Array(20);y[g++]=f;let E;switch(f){case se.CODE_START_A:E=se.CODE_CODE_A;break;case se.CODE_START_B:E=se.CODE_CODE_B;break;case se.CODE_START_C:E=se.CODE_CODE_C;break;default:throw new q}let S=!1,b=!1,N="",P=d[0],z=d[1];const U=Int32Array.from([0,0,0,0,0,0]);let j=0,Q=0,ue=f,de=0,oe=!0,$e=!1,je=!1;for(;!S;){const zi=b;switch(b=!1,j=Q,Q=se.decodeCode(o,U,z),y[g++]=Q,Q!==se.CODE_STOP&&(oe=!0),Q!==se.CODE_STOP&&(de++,ue+=de*Q),P=z,z+=U.reduce((gd,fo)=>gd+fo,0),Q){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new q}switch(E){case se.CODE_CODE_A:if(Q<64)je===$e?N+=String.fromCharCode(32+Q):N+=String.fromCharCode(32+Q+128),je=!1;else if(Q<96)je===$e?N+=String.fromCharCode(Q-64):N+=String.fromCharCode(Q+64),je=!1;else switch(Q!==se.CODE_STOP&&(oe=!1),Q){case se.CODE_FNC_1:c&&(N.length===0?N+="]C1":N+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!$e&&je?($e=!0,je=!1):$e&&je?($e=!1,je=!1):je=!0;break;case se.CODE_SHIFT:b=!0,E=se.CODE_CODE_B;break;case se.CODE_CODE_B:E=se.CODE_CODE_B;break;case se.CODE_CODE_C:E=se.CODE_CODE_C;break;case se.CODE_STOP:S=!0;break}break;case se.CODE_CODE_B:if(Q<96)je===$e?N+=String.fromCharCode(32+Q):N+=String.fromCharCode(32+Q+128),je=!1;else switch(Q!==se.CODE_STOP&&(oe=!1),Q){case se.CODE_FNC_1:c&&(N.length===0?N+="]C1":N+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!$e&&je?($e=!0,je=!1):$e&&je?($e=!1,je=!1):je=!0;break;case se.CODE_SHIFT:b=!0,E=se.CODE_CODE_A;break;case se.CODE_CODE_A:E=se.CODE_CODE_A;break;case se.CODE_CODE_C:E=se.CODE_CODE_C;break;case se.CODE_STOP:S=!0;break}break;case se.CODE_CODE_C:if(Q<100)Q<10&&(N+="0"),N+=Q;else switch(Q!==se.CODE_STOP&&(oe=!1),Q){case se.CODE_FNC_1:c&&(N.length===0?N+="]C1":N+="");break;case se.CODE_CODE_A:E=se.CODE_CODE_A;break;case se.CODE_CODE_B:E=se.CODE_CODE_B;break;case se.CODE_STOP:S=!0;break}break}zi&&(E=E===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const jt=z-P;if(z=o.getNextUnset(z),!o.isRange(z,Math.min(o.getSize(),z+(z-P)/2),!1))throw new ee;if(ue-=de*j,ue%103!==j)throw new W;const Un=N.length;if(Un===0)throw new ee;Un>0&&oe&&(E===se.CODE_CODE_C?N=N.substring(0,Un-2):N=N.substring(0,Un-1));const Hn=(d[1]+d[0])/2,vt=P+jt/2,En=y.length,Wn=new Uint8Array(En);for(let zi=0;zi<En;zi++)Wn[zi]=y[zi];const ho=[new Ce(Hn,i),new Ce(vt,i)];return new Ue(N,Wn,0,ho,ae.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class Xe extends _t{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=Xe.findAsteriskPattern(o,c),f=o.getNextSet(d[1]),g=o.getSize(),y,E;do{Xe.recordPattern(o,f,c);let U=Xe.toNarrowWidePattern(c);if(U<0)throw new ee;y=Xe.patternToChar(U),this.decodeRowResult+=y,E=f;for(let j of c)f+=j;f=o.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let U of c)S+=U;let b=f-E-S;if(f!==g&&b*2<S)throw new ee;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,j=0;for(let Q=0;Q<U;Q++)j+=Xe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(U)!==Xe.ALPHABET_STRING.charAt(j%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new ee;let N;this.extendedMode?N=Xe.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let P=(d[1]+d[0])/2,z=E+S/2;return new Ue(N,null,0,[new Ce(P,i),new Ce(z,i)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let a=i.getSize(),c=i.getNextSet(0),d=0,f=c,g=!1,y=o.length;for(let E=c;E<a;E++)if(i.get(E)!==g)o[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(o)===Xe.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((E-f)/2)),f,!1))return[f,E];f+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,g=!g}throw new ee}static toNarrowWidePattern(i){let o=i.length,a=0,c;do{let d=2147483647;for(let y of i)y<d&&y>a&&(d=y);a=d,c=0;let f=0,g=0;for(let y=0;y<o;y++){let E=i[y];E>a&&(g|=1<<o-1-y,c++,f+=E)}if(c===3){for(let y=0;y<o&&c>0;y++){let E=i[y];if(E>a&&(c--,E*2>=f))return-1}return g}}while(c>3);return-1}static patternToChar(i){for(let o=0;o<Xe.CHARACTER_ENCODINGS.length;o++)if(Xe.CHARACTER_ENCODINGS[o]===i)return Xe.ALPHABET_STRING.charAt(o);if(i===Xe.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(i){let o=i.length,a="";for(let c=0;c<o;c++){let d=i.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=i.charAt(c+1),g="\0";switch(d){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new q;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new q;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new q;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new q;break}a+=g,c++}else a+=d}return a}}Xe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xe.ASTERISK_ENCODING=148;class We extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,a){let c=this.decodeStart(o),d=this.decodeEnd(o),f=new Je;We.decodeMiddle(o,c[1],d[0],f);let g=f.toString(),y=null;a!=null&&(y=a.get(ce.ALLOWED_LENGTHS)),y==null&&(y=We.DEFAULT_ALLOWED_LENGTHS);let E=g.length,S=!1,b=0;for(let z of y){if(E===z){S=!0;break}z>b&&(b=z)}if(!S&&E>b&&(S=!0),!S)throw new q;const N=[new Ce(c[1],i),new Ce(d[0],i)];return new Ue(g,null,0,N,ae.ITF,new Date().getTime())}static decodeMiddle(i,o,a,c){let d=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),f.fill(0),g.fill(0);o<a;){_t.recordPattern(i,o,d);for(let E=0;E<5;E++){let S=2*E;f[E]=d[S],g[E]=d[S+1]}let y=We.decodeDigit(f);c.append(y.toString()),y=this.decodeDigit(g),c.append(y.toString()),d.forEach(function(E){o+=E})}}decodeStart(i){let o=We.skipWhiteSpace(i),a=We.findGuardPattern(i,o,We.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,o){let a=this.narrowLineWidth*10;a=a<o?a:o;for(let c=o-1;a>0&&c>=0&&!i.get(c);c--)a--;if(a!==0)throw new ee}static skipWhiteSpace(i){const o=i.getSize(),a=i.getNextSet(0);if(a===o)throw new ee;return a}decodeEnd(i){i.reverse();try{let o=We.skipWhiteSpace(i),a;try{a=We.findGuardPattern(i,o,We.END_PATTERN_REVERSED[0])}catch(d){d instanceof ee&&(a=We.findGuardPattern(i,o,We.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let c=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-c,a}finally{i.reverse()}}static findGuardPattern(i,o,a){let c=a.length,d=new Int32Array(c),f=i.getSize(),g=!1,y=0,E=o;d.fill(0);for(let S=o;S<f;S++)if(i.get(S)!==g)d[y]++;else{if(y===c-1){if(_t.patternMatchVariance(d,a,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return[E,S];E+=d[0]+d[1],V.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,g=!g}throw new ee}static decodeDigit(i){let o=We.MAX_AVG_VARIANCE,a=-1,c=We.PATTERNS.length;for(let d=0;d<c;d++){let f=We.PATTERNS[d],g=_t.patternMatchVariance(i,f,We.MAX_INDIVIDUAL_VARIANCE);g<o?(o=g,a=d):g===o&&(a=-1)}if(a>=0)return a%10;throw new ee}}We.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],We.MAX_AVG_VARIANCE=.38,We.MAX_INDIVIDUAL_VARIANCE=.5,We.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],We.START_PATTERN=Int32Array.from([1,1,1,1]),We.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ke extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,a,c=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),a=Ke.findGuardPattern(i,c,!1,this.START_END_PATTERN,d);let f=a[0];c=a[1];let g=f-(c-f);g>=0&&(o=i.isRange(g,f,!1))}return a}static checkChecksum(i){return Ke.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let a=parseInt(i.charAt(o-1),10);return Ke.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let c=o-1;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new q;a+=d}a*=3;for(let c=o-2;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new q;a+=d}return(1e3-a)%10}static decodeEnd(i,o){return Ke.findGuardPattern(i,o,!1,Ke.START_END_PATTERN,new Int32Array(Ke.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,a,c){return this.findGuardPattern(i,o,a,c,new Int32Array(c.length))}static findGuardPattern(i,o,a,c,d){let f=i.getSize();o=a?i.getNextUnset(o):i.getNextSet(o);let g=0,y=o,E=c.length,S=a;for(let b=o;b<f;b++)if(i.get(b)!==S)d[g]++;else{if(g===E-1){if(_t.patternMatchVariance(d,c,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return Int32Array.from([y,b]);y+=d[0]+d[1];let N=d.slice(2,d.length-1);for(let P=0;P<g-1;P++)d[P]=N[P];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,S=!S}throw new ee}static decodeDigit(i,o,a,c){this.recordPattern(i,a,o);let d=this.MAX_AVG_VARIANCE,f=-1,g=c.length;for(let y=0;y<g;y++){let E=c[y],S=_t.patternMatchVariance(o,E,Ke.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,f=y)}if(f>=0)return f;throw new ee}}Ke.MAX_AVG_VARIANCE=.48,Ke.MAX_INDIVIDUAL_VARIANCE=.7,Ke.START_END_PATTERN=Int32Array.from([1,1,1]),Ke.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ke.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ke.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class wt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,a,c),f=c.toString(),g=wt.parseExtensionString(f),y=[new Ce((a[0]+a[1])/2,i),new Ce(d,i)],E=new Ue(f,null,0,y,ae.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(i,o,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=o[1],g=0;for(let E=0;E<5&&f<d;E++){let S=Ke.decodeDigit(i,c,f,Ke.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let b of c)f+=b;S>=10&&(g|=1<<4-E),E!==4&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(a.length!==5)throw new ee;let y=this.determineCheckDigit(g);if(wt.extensionChecksum(a.toString())!==y)throw new ee;return f}static extensionChecksum(i){let o=i.length,a=0;for(let c=o-2;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;a*=3;for(let c=o-1;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(i){if(i.length!==5)return null;let o=wt.parseExtension5String(i);return o==null?null:new Map([[Tt.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let a=parseInt(i.substring(1)),c=(a/100).toString(),d=a%100,f=d<10?"0"+d:d.toString();return o+c+"."+f}}class Ht{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,a,c),f=c.toString(),g=Ht.parseExtensionString(f),y=[new Ce((a[0]+a[1])/2,i),new Ce(d,i)],E=new Ue(f,null,0,y,ae.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(i,o,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=o[1],g=0;for(let y=0;y<2&&f<d;y++){let E=Ke.decodeDigit(i,c,f,Ke.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let S of c)f+=S;E>=10&&(g|=1<<1-y),y!==1&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(a.length!==2)throw new ee;if(parseInt(a.toString())%4!==g)throw new ee;return f}static parseExtensionString(i){return i.length!==2?null:new Map([[Tt.ISSUE_NUMBER,parseInt(i)]])}}class Nr{static decodeRow(i,o,a){let c=Ke.findGuardPattern(o,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new wt().decodeRow(i,o,c)}catch{return new Ht().decodeRow(i,o,c)}}}Nr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends Ke{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=ht.L_PATTERNS[i-10],a=new Int32Array(o.length);for(let c=0;c<o.length;c++)a[c]=o[o.length-c-1];ht.L_AND_G_PATTERNS[i]=a}}decodeRow(i,o,a){let c=ht.findStartGuardPattern(o),d=a==null?null:a.get(ce.NEED_RESULT_POINT_CALLBACK);if(d!=null){const oe=new Ce((c[0]+c[1])/2,i);d.foundPossibleResultPoint(oe)}let f=this.decodeMiddle(o,c,this.decodeRowStringBuffer),g=f.rowOffset,y=f.resultString;if(d!=null){const oe=new Ce(g,i);d.foundPossibleResultPoint(oe)}let E=this.decodeEnd(o,g);if(d!=null){const oe=new Ce((E[0]+E[1])/2,i);d.foundPossibleResultPoint(oe)}let S=E[1],b=S+(S-E[0]);if(b>=o.getSize()||!o.isRange(S,b,!1))throw new ee;let N=y.toString();if(N.length<8)throw new q;if(!ht.checkChecksum(N))throw new W;let P=(c[1]+c[0])/2,z=(E[1]+E[0])/2,U=this.getBarcodeFormat(),j=[new Ce(P,i),new Ce(z,i)],Q=new Ue(N,null,0,j,U,new Date().getTime()),ue=0;try{let oe=Nr.decodeRow(i,o,E[1]);Q.putMetadata(Tt.UPC_EAN_EXTENSION,oe.getText()),Q.putAllMetadata(oe.getResultMetadata()),Q.addResultPoints(oe.getResultPoints()),ue=oe.getText().length}catch{}let de=a==null?null:a.get(ce.ALLOWED_EAN_EXTENSIONS);if(de!=null){let oe=!1;for(let $e in de)if(ue.toString()===$e){oe=!0;break}if(!oe)throw new ee}return Q}decodeEnd(i,o){return ht.findGuardPattern(i,o,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return ht.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let a=parseInt(i.charAt(o-1),10);return ht.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let c=o-1;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new q;a+=d}a*=3;for(let c=o-2;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new q;a+=d}return(1e3-a)%10}}class mr extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=o[1],g=0;for(let E=0;E<6&&f<d;E++){let S=ht.decodeDigit(i,c,f,ht.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let b of c)f+=b;S>=10&&(g|=1<<5-E)}a=mr.determineFirstDigit(a,g),f=ht.findGuardPattern(i,f,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&f<d;E++){let S=ht.decodeDigit(i,c,f,ht.L_PATTERNS);a+=String.fromCharCode(48+S);for(let b of c)f+=b}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(i,o){for(let a=0;a<10;a++)if(o===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new ee}}mr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ec extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=o[1];for(let y=0;y<4&&f<d;y++){let E=ht.decodeDigit(i,c,f,ht.L_PATTERNS);a+=String.fromCharCode(48+E);for(let S of c)f+=S}f=ht.findGuardPattern(i,f,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let E=ht.decodeDigit(i,c,f,ht.L_PATTERNS);a+=String.fromCharCode(48+E);for(let S of c)f+=S}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return ae.EAN_8}}class tc extends ht{constructor(){super(...arguments),this.ean13Reader=new mr}getBarcodeFormat(){return ae.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,a))}decodeMiddle(i,o,a){return this.ean13Reader.decodeMiddle(i,o,a)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let a=new Ue(o.substring(1),null,null,i.getResultPoints(),ae.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new ee}reset(){this.ean13Reader.reset()}}class _i extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,a){const c=this.decodeMiddleCounters.map(E=>E);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=i.getSize();let f=o[1],g=0;for(let E=0;E<6&&f<d;E++){const S=_i.decodeDigit(i,c,f,_i.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let b of c)f+=b;S>=10&&(g|=1<<5-E)}let y=_i.determineNumSysAndCheckDigit(a,g);return{rowOffset:f,resultString:y}}decodeEnd(i,o){return _i.findGuardPatternWithoutCounters(i,o,!0,_i.MIDDLE_END_PATTERN)}checkChecksum(i){return ht.checkChecksum(_i.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let d=String.fromCharCode(48+a),f=String.fromCharCode(48+c);return d+i+f}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(d=>d.charCodeAt(0)),a=new Je;a.append(i.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:a.appendChars(o,0,2),a.append(c),a.append("0000"),a.appendChars(o,2,3);break;case 3:a.appendChars(o,0,3),a.append("00000"),a.appendChars(o,3,2);break;case 4:a.appendChars(o,0,4),a.append("00000"),a.append(o[4]);break;default:a.appendChars(o,0,5),a.append("0000"),a.append(c);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}_i.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_i.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ca extends _t{constructor(i){super();let o=i==null?null:i.get(ce.POSSIBLE_FORMATS),a=[];r(o)?(a.push(new mr),a.push(new tc),a.push(new ec),a.push(new _i)):(o.indexOf(ae.EAN_13)>-1&&a.push(new mr),o.indexOf(ae.UPC_A)>-1&&a.push(new tc),o.indexOf(ae.EAN_8)>-1&&a.push(new ec),o.indexOf(ae.UPC_E)>-1&&a.push(new _i)),this.readers=a}decodeRow(i,o,a){for(let c of this.readers)try{const d=c.decodeRow(i,o,a),f=d.getBarcodeFormat()===ae.EAN_13&&d.getText().charAt(0)==="0",g=a==null?null:a.get(ce.POSSIBLE_FORMATS),y=g==null||g.includes(ae.UPC_A);if(f&&y){const E=d.getRawBytes(),S=new Ue(d.getText().substring(1),E,E?E.length:null,d.getResultPoints(),ae.UPC_A);return S.putAllMetadata(d.getResultMetadata()),S}return d}catch{}throw new ee}reset(){for(let i of this.readers)i.reset()}}class Sn extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let a=0;a<o.length;a++)if(_t.patternMatchVariance(i,o[a],Sn.MAX_INDIVIDUAL_VARIANCE)<Sn.MAX_AVG_VARIANCE)return a;throw new ee}static count(i){return rt.sum(new Int32Array(i))}static increment(i,o){let a=0,c=o[0];for(let d=1;d<i.length;d++)o[d]>c&&(c=o[d],a=d);i[a]++}static decrement(i,o){let a=0,c=o[0];for(let d=1;d<i.length;d++)o[d]<c&&(c=o[d],a=d);i[a]--}static isFinderPattern(i){let o=i[0]+i[1],a=o+i[2]+i[3],c=o/a;if(c>=Sn.MIN_FINDER_PATTERN_RATIO&&c<=Sn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of i)g>f&&(f=g),g<d&&(d=g);return f<10*d}return!1}}Sn.MAX_AVG_VARIANCE=.2,Sn.MAX_INDIVIDUAL_VARIANCE=.45,Sn.MIN_FINDER_PATTERN_RATIO=9.5/12,Sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class no{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof no))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class io{constructor(i,o,a,c,d){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ce(a,d)),this.resultPoints.push(new Ce(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof io))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class Li{constructor(){}static getRSSvalue(i,o,a){let c=0;for(let y of i)c+=y;let d=0,f=0,g=i.length;for(let y=0;y<g-1;y++){let E;for(E=1,f|=1<<y;E<i[y];E++,f&=~(1<<y)){let S=Li.combins(c-E-1,g-y-2);if(a&&f===0&&c-E-(g-y-1)>=g-y-1&&(S-=Li.combins(c-E-(g-y),g-y-2)),g-y-1>1){let b=0;for(let N=c-E-(g-y-2);N>o;N--)b+=Li.combins(c-E-N-1,g-y-3);S-=b*(g-1-y)}else c-E>o&&S--;d+=S}c-=E}return d}static combins(i,o){let a,c;i-o>o?(c=o,a=i-o):(c=i-o,a=o);let d=1,f=1;for(let g=i;g>a;g--)d*=g,f<=c&&(d/=f,f++);for(;f<=c;)d/=f,f++;return d}}class od{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let a=12*o,c=new J(a),d=0,g=i[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&c.set(d),d++;for(let y=1;y<i.length;++y){let E=i[y],S=E.getLeftChar().getValue();for(let b=11;b>=0;--b)S&1<<b&&c.set(d),d++;if(E.getRightChar()!=null){let b=E.getRightChar().getValue();for(let N=11;N>=0;--N)b&1<<N&&c.set(d),d++}}return c}}class Mr{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Sa{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Wt extends Sa{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Wt.FNC1}}Wt.FNC1="$";class Te extends Sa{constructor(i,o,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qn extends Sa{constructor(i,o,a){if(super(i),o<0||o>10||a<0||a>10)throw new q;this.firstDigit=o,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===qn.FNC1}isAnyFNC1(){return this.firstDigit===qn.FNC1||this.secondDigit===qn.FNC1}}qn.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ee;let o=i.substring(0,2);for(let d of Ee.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,d[2],i):Ee.processFixedAI(2,d[1],i);if(i.length<3)throw new ee;let a=i.substring(0,3);for(let d of Ee.THREE_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,d[2],i):Ee.processFixedAI(3,d[1],i);for(let d of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,d[2],i):Ee.processFixedAI(4,d[1],i);if(i.length<4)throw new ee;let c=i.substring(0,4);for(let d of Ee.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,d[2],i):Ee.processFixedAI(4,d[1],i);throw new ee}static processFixedAI(i,o,a){if(a.length<i)throw new ee;let c=a.substring(0,i);if(a.length<i+o)throw new ee;let d=a.substring(i,i+o),f=a.substring(i+o),g="("+c+")"+d,y=Ee.parseFieldsInGeneralPurpose(f);return y==null?g:g+y}static processVariableAI(i,o,a){let c=a.substring(0,i),d;a.length<i+o?d=a.length:d=i+o;let f=a.substring(i,d),g=a.substring(d),y="("+c+")"+f,E=Ee.parseFieldsInGeneralPurpose(g);return E==null?y:y+E}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class Lr{constructor(i){this.buffer=new Je,this.information=i}decodeAllCodes(i,o){let a=o,c=null;do{let d=this.decodeGeneralPurposeField(a,c),f=Ee.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&i.append(f),d.isRemaining()?c=""+d.getRemainingValue():c=null,a===d.getNewPosition())break;a=d.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(i,4);return d===0?new qn(this.information.getSize(),qn.FNC1,qn.FNC1):new qn(this.information.getSize(),d-1,qn.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),a=(o-8)/11,c=(o-8)%11;return new qn(i+7,a,c)}extractNumericValueFromBitArray(i,o){return Lr.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,a){let c=0;for(let d=0;d<a;++d)i.get(o+d)&&(c|=1<<a-d-1);return c}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Te(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Te(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let a=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Te(this.current.getPosition(),this.buffer.toString()):o=new Te(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Mr(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Te(this.current.getPosition(),this.buffer.toString());return new Mr(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Mr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Te(this.current.getPosition(),this.buffer.toString());return new Mr(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Mr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Te(this.current.getPosition(),this.buffer.toString());return new Mr(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Mr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Wt(i+5,Wt.FNC1);if(o>=5&&o<15)return new Wt(i+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new Wt(i+7,""+(a+1));if(a>=90&&a<116)return new Wt(i+7,""+(a+7));let c=this.extractNumericValueFromBitArray(i,8),d;switch(c){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new q}return new Wt(i+8,d)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Wt(i+5,Wt.FNC1);if(o>=5&&o<15)return new Wt(i+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new Wt(i+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Kn("Decoding invalid alphanumeric value: "+a)}return new Wt(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Cs{constructor(i){this.information=i,this.generalDecoder=new Lr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class An extends Cs{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,a)}encodeCompressedGtinWithoutAI(i,o,a){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);d/100===0&&i.append("0"),d/10===0&&i.append("0"),i.append(d)}An.appendCheckDigit(i,a)}static appendCheckDigit(i,o){let a=0;for(let c=0;c<13;c++){let d=i.charAt(c+o).charCodeAt(0)-48;a+=c&1?d:3*d}a=10-a%10,a===10&&(a=0),i.append(a)}}An.GTIN_SIZE=40;class Or extends An{constructor(i){super(i)}parseInformation(){let i=new Je;i.append("(01)");let o=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Or.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,Or.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,Or.HEADER_SIZE+44)}}Or.HEADER_SIZE=4;class Ki extends Cs{constructor(i){super(i)}parseInformation(){let i=new Je;return this.getGeneralDecoder().decodeAllCodes(i,Ki.HEADER_SIZE)}}Ki.HEADER_SIZE=5;class Wo extends An{constructor(i){super(i)}encodeCompressedWeight(i,o,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,a);this.addWeightCode(i,c);let d=this.checkWeight(c),f=1e5;for(let g=0;g<5;++g)d/f===0&&i.append("0"),f/=10;i.append(d)}}class Oi extends Wo{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Oi.HEADER_SIZE+Wo.GTIN_SIZE+Oi.WEIGHT_SIZE)throw new ee;let i=new Je;return this.encodeCompressedGtin(i,Oi.HEADER_SIZE),this.encodeCompressedWeight(i,Oi.HEADER_SIZE+Wo.GTIN_SIZE,Oi.WEIGHT_SIZE),i.toString()}}Oi.HEADER_SIZE=5,Oi.WEIGHT_SIZE=15;class sd extends Oi{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class ad extends Oi{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Di extends An{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Di.HEADER_SIZE+An.GTIN_SIZE)throw new ee;let i=new Je;this.encodeCompressedGtin(i,Di.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Di.HEADER_SIZE+An.GTIN_SIZE,Di.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Di.HEADER_SIZE+An.GTIN_SIZE+Di.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}Di.HEADER_SIZE=8,Di.LAST_DIGIT_SIZE=2;class In extends An{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<In.HEADER_SIZE+An.GTIN_SIZE)throw new ee;let i=new Je;this.encodeCompressedGtin(i,In.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+An.GTIN_SIZE,In.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+An.GTIN_SIZE+In.LAST_DIGIT_SIZE,In.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(In.HEADER_SIZE+An.GTIN_SIZE+In.LAST_DIGIT_SIZE+In.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}In.HEADER_SIZE=8,In.LAST_DIGIT_SIZE=2,In.FIRST_THREE_DIGITS_SIZE=10;class Pt extends Wo{constructor(i,o,a){super(i),this.dateCode=a,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE+Pt.DATE_SIZE)throw new ee;let i=new Je;return this.encodeCompressedGtin(i,Pt.HEADER_SIZE),this.encodeCompressedWeight(i,Pt.HEADER_SIZE+Pt.GTIN_SIZE,Pt.WEIGHT_SIZE),this.encodeCompressedDate(i,Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Pt.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=a%32;a/=32;let d=a%12+1;a/=12;let f=a;f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}Pt.HEADER_SIZE=8,Pt.WEIGHT_SIZE=20,Pt.DATE_SIZE=16;function Vo(T){try{if(T.get(1))return new Or(T);if(!T.get(2))return new Ki(T);switch(Lr.extractNumericValueFromBitArray(T,1,4)){case 4:return new sd(T);case 5:return new ad(T)}switch(Lr.extractNumericValueFromBitArray(T,1,5)){case 12:return new Di(T);case 13:return new In(T)}switch(Lr.extractNumericValueFromBitArray(T,1,7)){case 56:return new Pt(T,"310","11");case 57:return new Pt(T,"320","11");case 58:return new Pt(T,"310","13");case 59:return new Pt(T,"320","13");case 60:return new Pt(T,"310","15");case 61:return new Pt(T,"320","15");case 62:return new Pt(T,"310","17");case 63:return new Pt(T,"320","17")}}catch(i){throw console.log(i),new Kn("unknown decoder: "+T)}}class _r{constructor(i,o,a,c){this.leftchar=i,this.rightchar=o,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof _r?_r.equalsOrNull(i.leftchar,o.leftchar)&&_r.equalsOrNull(i.rightchar,o.rightchar)&&_r.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:_r.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Aa{constructor(i,o,a){this.pairs=i,this.rowNumber=o,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Aa?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let a;return i.forEach((c,d)=>{o.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(a=!0)})}),a}}class ie extends Sn{constructor(i){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,a){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(i,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(d){if(d instanceof ee){if(!this.pairs.length)throw new ee;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new ee}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let a=o;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let f of i)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(i);d.push(c);try{return this.checkRows(d,a+1)}catch(f){this.verbose&&console.log(f)}}throw new ee}static isValidSequence(i){for(let o of ie.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let a=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=o[c]){a=!1;break}if(a)return!0}return!1}storeRow(i,o){let a=0,c=!1,d=!1;for(;a<this.rows.length;){let f=this.rows[a];if(f.getRowNumber()>i){d=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),a++}d||c||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Aa(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let a of o)if(a.getPairs().length!==i.length){for(let c of a.getPairs())for(let d of i)if(_r.equals(c,d))break}}static isPartialRow(i,o){for(let a of o){let c=!0;for(let d of i){let f=!1;for(let g of a.getPairs())if(d.equals(g)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=od.buildBitArray(i),c=Vo(o).parseInformation(),d=i[0].getFinderPattern().getResultPoints(),f=i[i.length-1].getFinderPattern().getResultPoints(),g=[d[0],d[1],f[0],f[1]];return new Ue(c,null,null,g,ae.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);c+=y.getLeftChar().getChecksumPortion(),d++;let E=y.getRightChar();E!=null&&(c+=E.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==o.getValue()}static getNextSecondBar(i,o){let a;return i.get(o)?(a=i.getNextUnset(o),a=i.getNextSet(a)):(a=i.getNextSet(o),a=i.getNextUnset(a)),a}retrieveNextPair(i,o,a){let c=o.length%2==0;this.startFromEven&&(c=!c);let d,f=!0,g=-1;do this.findNextPair(i,o,g),d=this.parseFoundFinderPattern(i,a,c),d==null?g=ie.getNextSecondBar(i,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(i,d,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let E;try{E=this.decodeDataCharacter(i,d,c,!1)}catch(S){E=null,this.verbose&&console.log(S)}return new _r(y,E,d,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f;a>=0?f=a:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let g=o.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;f<d&&(y=!i.get(f),!!y);)f++;let E=0,S=f;for(let b=f;b<d;b++)if(i.get(b)!=y)c[E]++;else{if(E==3){if(g&&ie.reverseCounters(c),ie.isFinderPattern(c)){this.startEnd[0]=S,this.startEnd[1]=b;return}g&&ie.reverseCounters(c),S+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,E--}else E++;c[E]=1,y=!y}throw new ee}static reverseCounters(i){let o=i.length;for(let a=0;a<o/2;++a){let c=i[a];i[a]=i[o-a-1],i[o-a-1]=c}}parseFoundFinderPattern(i,o,a){let c,d,f;if(a){let E=this.startEnd[0]-1;for(;E>=0&&!i.get(E);)E--;E++,c=this.startEnd[0]-E,d=E,f=this.startEnd[1]}else d=this.startEnd[0],f=i.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let g=this.getDecodeFinderCounters();V.arraycopy(g,0,g,1,g.length-1),g[0]=c;let y;try{y=this.parseFinderValue(g,ie.FINDER_PATTERNS)}catch{return null}return new io(y,[d,f],d,f,o)}decodeDataCharacter(i,o,a,c){let d=this.getDataCharacterCounters();for(let vt=0;vt<d.length;vt++)d[vt]=0;if(c)ie.recordPatternInReverse(i,o.getStartEnd()[0],d);else{ie.recordPattern(i,o.getStartEnd()[1],d);for(let vt=0,En=d.length-1;vt<En;vt++,En--){let Wn=d[vt];d[vt]=d[En],d[En]=Wn}}let f=17,g=rt.sum(new Int32Array(d))/f,y=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new ee;let E=this.getOddCounts(),S=this.getEvenCounts(),b=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let vt=0;vt<d.length;vt++){let En=1*d[vt]/g,Wn=En+.5;if(Wn<1){if(En<.3)throw new ee;Wn=1}else if(Wn>8){if(En>8.7)throw new ee;Wn=8}let ho=vt/2;vt&1?(S[ho]=Wn,N[ho]=En-Wn):(E[ho]=Wn,b[ho]=En-Wn)}this.adjustOddEvenCounts(f);let P=4*o.getValue()+(a?0:2)+(c?0:1)-1,z=0,U=0;for(let vt=E.length-1;vt>=0;vt--){if(ie.isNotA1left(o,a,c)){let En=ie.WEIGHTS[P][2*vt];U+=E[vt]*En}z+=E[vt]}let j=0;for(let vt=S.length-1;vt>=0;vt--)if(ie.isNotA1left(o,a,c)){let En=ie.WEIGHTS[P][2*vt+1];j+=S[vt]*En}let Q=U+j;if(z&1||z>13||z<4)throw new ee;let ue=(13-z)/2,de=ie.SYMBOL_WIDEST[ue],oe=9-de,$e=Li.getRSSvalue(E,de,!0),je=Li.getRSSvalue(S,oe,!1),jt=ie.EVEN_TOTAL_SUBSET[ue],Un=ie.GSUM[ue],Hn=$e*jt+je+Un;return new no(Hn,Q)}static isNotA1left(i,o,a){return!(i.getValue()==0&&o&&a)}adjustOddEvenCounts(i){let o=rt.sum(new Int32Array(this.getOddCounts())),a=rt.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let f=!1,g=!1;a>13?g=!0:a<4&&(f=!0);let y=o+a-i,E=(o&1)==1,S=(a&1)==0;if(y==1)if(E){if(S)throw new ee;d=!0}else{if(!S)throw new ee;g=!0}else if(y==-1)if(E){if(S)throw new ee;c=!0}else{if(!S)throw new ee;f=!0}else if(y==0){if(E){if(!S)throw new ee;o<a?(c=!0,g=!0):(d=!0,f=!0)}else if(S)throw new ee}else throw new ee;if(c){if(d)throw new ee;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new ee;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class ld extends no{constructor(i,o,a){super(i,o),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Qt extends Sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,a){const c=this.decodePair(o,!1,i,a);Qt.addOrTally(this.possibleLeftPairs,c),o.reverse();let d=this.decodePair(o,!0,i,a);Qt.addOrTally(this.possibleRightPairs,d),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Qt.checkChecksum(f,g))return Qt.constructResult(f,g)}throw new ee}static addOrTally(i,o){if(o==null)return;let a=!1;for(let c of i)if(c.getValue()===o.getValue()){c.incrementCount(),a=!0;break}a||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let a=4537077*i.getValue()+o.getValue(),c=new String(a).toString(),d=new Je;for(let E=13-c.length;E>0;E--)d.append("0");d.append(c);let f=0;for(let E=0;E<13;E++){let S=d.charAt(E).charCodeAt(0)-48;f+=E&1?S:3*S}f=10-f%10,f===10&&(f=0),d.append(f.toString());let g=i.getFinderPattern().getResultPoints(),y=o.getFinderPattern().getResultPoints();return new Ue(d.toString(),null,0,[g[0],g[1],y[0],y[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(i,o){let a=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(i,o,a,c){try{let d=this.findFinderPattern(i,o),f=this.parseFoundFinderPattern(i,a,o,d),g=c==null?null:c.get(ce.NEED_RESULT_POINT_CALLBACK);if(g!=null){let S=(d[0]+d[1])/2;o&&(S=i.getSize()-1-S),g.foundPossibleResultPoint(new Ce(S,a))}let y=this.decodeDataCharacter(i,f,!0),E=this.decodeDataCharacter(i,f,!1);return new ld(1597*y.getValue()+E.getValue(),y.getChecksumPortion()+4*E.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(i,o,a){let c=this.getDataCharacterCounters();for(let j=0;j<c.length;j++)c[j]=0;if(a)_t.recordPatternInReverse(i,o.getStartEnd()[0],c);else{_t.recordPattern(i,o.getStartEnd()[1]+1,c);for(let j=0,Q=c.length-1;j<Q;j++,Q--){let ue=c[j];c[j]=c[Q],c[Q]=ue}}let d=a?16:15,f=rt.sum(new Int32Array(c))/d,g=this.getOddCounts(),y=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let j=0;j<c.length;j++){let Q=c[j]/f,ue=Math.floor(Q+.5);ue<1?ue=1:ue>8&&(ue=8);let de=Math.floor(j/2);j&1?(y[de]=ue,S[de]=Q-ue):(g[de]=ue,E[de]=Q-ue)}this.adjustOddEvenCounts(a,d);let b=0,N=0;for(let j=g.length-1;j>=0;j--)N*=9,N+=g[j],b+=g[j];let P=0,z=0;for(let j=y.length-1;j>=0;j--)P*=9,P+=y[j],z+=y[j];let U=N+3*P;if(a){if(b&1||b>12||b<4)throw new ee;let j=(12-b)/2,Q=Qt.OUTSIDE_ODD_WIDEST[j],ue=9-Q,de=Li.getRSSvalue(g,Q,!1),oe=Li.getRSSvalue(y,ue,!0),$e=Qt.OUTSIDE_EVEN_TOTAL_SUBSET[j],je=Qt.OUTSIDE_GSUM[j];return new no(de*$e+oe+je,U)}else{if(z&1||z>10||z<4)throw new ee;let j=(10-z)/2,Q=Qt.INSIDE_ODD_WIDEST[j],ue=9-Q,de=Li.getRSSvalue(g,Q,!0),oe=Li.getRSSvalue(y,ue,!1),$e=Qt.INSIDE_ODD_TOTAL_SUBSET[j],je=Qt.INSIDE_GSUM[j];return new no(oe*$e+de+je,U)}}findFinderPattern(i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=i.getSize(),d=!1,f=0;for(;f<c&&(d=!i.get(f),o!==d);)f++;let g=0,y=f;for(let E=f;E<c;E++)if(i.get(E)!==d)a[g]++;else{if(g===3){if(Sn.isFinderPattern(a))return[y,E];y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,d=!d}throw new ee}parseFoundFinderPattern(i,o,a,c){let d=i.get(c[0]),f=c[0]-1;for(;f>=0&&d!==i.get(f);)f--;f++;const g=c[0]-f,y=this.getDecodeFinderCounters(),E=new Int32Array(y.length);V.arraycopy(y,0,E,1,y.length-1),E[0]=g;const S=this.parseFinderValue(E,Qt.FINDER_PATTERNS);let b=f,N=c[1];return a&&(b=i.getSize()-1-b,N=i.getSize()-1-N),new io(S,[f,c[1]],b,N,o)}adjustOddEvenCounts(i,o){let a=rt.sum(new Int32Array(this.getOddCounts())),c=rt.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,g=!1,y=!1;i?(a>12?f=!0:a<4&&(d=!0),c>12?y=!0:c<4&&(g=!0)):(a>11?f=!0:a<5&&(d=!0),c>10?y=!0:c<4&&(g=!0));let E=a+c-o,S=(a&1)===(i?1:0),b=(c&1)===1;if(E===1)if(S){if(b)throw new ee;f=!0}else{if(!b)throw new ee;y=!0}else if(E===-1)if(S){if(b)throw new ee;d=!0}else{if(!b)throw new ee;g=!0}else if(E===0){if(S){if(!b)throw new ee;a<c?(d=!0,y=!0):(f=!0,g=!0)}else if(b)throw new ee}else throw new ee;if(d){if(f)throw new ee;Sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new ee;Sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Qt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Qt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Qt.OUTSIDE_GSUM=[0,161,961,2015,2715],Qt.INSIDE_GSUM=[0,336,1036,1516],Qt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Qt.INSIDE_ODD_WIDEST=[2,4,6,8],Qt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class yr extends _t{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const a=i?i.get(ce.POSSIBLE_FORMATS):null,c=i&&i.get(ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ae.EAN_13)||a.includes(ae.UPC_A)||a.includes(ae.EAN_8)||a.includes(ae.UPC_E))&&this.readers.push(new Ca(i)),a.includes(ae.CODE_39)&&this.readers.push(new Xe(c)),a.includes(ae.CODE_128)&&this.readers.push(new se),a.includes(ae.ITF)&&this.readers.push(new We),a.includes(ae.RSS_14)&&this.readers.push(new Qt),a.includes(ae.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new Ca(i)),this.readers.push(new Xe),this.readers.push(new Ca(i)),this.readers.push(new se),this.readers.push(new We),this.readers.push(new Qt),this.readers.push(new ie(this.verbose)))}decodeRow(i,o,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,o,a)}catch{}throw new ee}reset(){this.readers.forEach(i=>i.reset())}}class jo extends It{constructor(i=500,o){super(new yr(o),i,o)}}class yt{constructor(i,o,a){this.ecCodewords=i,this.ecBlocks=[o],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ft{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(i,o,a,c,d,f){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=f;let g=0;const y=f.getECCodewords(),E=f.getECBlocks();for(let S of E)g+=S.getCount()*(S.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new q;for(let a of Qe.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===o)return a;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new Qe(1,10,10,8,8,new yt(5,new ft(1,3))),new Qe(2,12,12,10,10,new yt(7,new ft(1,5))),new Qe(3,14,14,12,12,new yt(10,new ft(1,8))),new Qe(4,16,16,14,14,new yt(12,new ft(1,12))),new Qe(5,18,18,16,16,new yt(14,new ft(1,18))),new Qe(6,20,20,18,18,new yt(18,new ft(1,22))),new Qe(7,22,22,20,20,new yt(20,new ft(1,30))),new Qe(8,24,24,22,22,new yt(24,new ft(1,36))),new Qe(9,26,26,24,24,new yt(28,new ft(1,44))),new Qe(10,32,32,14,14,new yt(36,new ft(1,62))),new Qe(11,36,36,16,16,new yt(42,new ft(1,86))),new Qe(12,40,40,18,18,new yt(48,new ft(1,114))),new Qe(13,44,44,20,20,new yt(56,new ft(1,144))),new Qe(14,48,48,22,22,new yt(68,new ft(1,174))),new Qe(15,52,52,24,24,new yt(42,new ft(2,102))),new Qe(16,64,64,14,14,new yt(56,new ft(2,140))),new Qe(17,72,72,16,16,new yt(36,new ft(4,92))),new Qe(18,80,80,18,18,new yt(48,new ft(4,114))),new Qe(19,88,88,20,20,new yt(56,new ft(4,144))),new Qe(20,96,96,22,22,new yt(68,new ft(4,174))),new Qe(21,104,104,24,24,new yt(56,new ft(6,136))),new Qe(22,120,120,18,18,new yt(68,new ft(6,175))),new Qe(23,132,132,20,20,new yt(62,new ft(8,163))),new Qe(24,144,144,22,22,new yt(62,new ft(8,156),new ft(2,155))),new Qe(25,8,18,6,16,new yt(7,new ft(1,5))),new Qe(26,8,32,6,14,new yt(11,new ft(1,10))),new Qe(27,12,26,10,24,new yt(14,new ft(1,16))),new Qe(28,12,36,10,16,new yt(18,new ft(1,22))),new Qe(29,16,36,14,16,new yt(24,new ft(1,32))),new Qe(30,16,48,14,22,new yt(28,new ft(1,49)))]}}Qe.VERSIONS=Qe.buildVersions();class ct{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new q;this.version=ct.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),a=i.getWidth();return Qe.getVersionForDimensions(o,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,a=4,c=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,y=!1,E=!1,S=!1;do if(a===d&&c===0&&!g)i[o++]=this.readCorner1(d,f)&255,a-=2,c+=2,g=!0;else if(a===d-2&&c===0&&f&3&&!y)i[o++]=this.readCorner2(d,f)&255,a-=2,c+=2,y=!0;else if(a===d+4&&c===2&&!(f&7)&&!E)i[o++]=this.readCorner3(d,f)&255,a-=2,c+=2,E=!0;else if(a===d-2&&c===0&&(f&7)===4&&!S)i[o++]=this.readCorner4(d,f)&255,a-=2,c+=2,S=!0;else{do a<d&&c>=0&&!this.readMappingMatrix.get(c,a)&&(i[o++]=this.readUtah(a,c,d,f)&255),a-=2,c+=2;while(a>=0&&c<f);a+=1,c+=3;do a>=0&&c<f&&!this.readMappingMatrix.get(c,a)&&(i[o++]=this.readUtah(a,c,d,f)&255),a+=2,c-=2;while(a<d&&c>=0);a+=3,c+=1}while(a<d||c<f);if(o!==this.version.getTotalCodewords())throw new q;return i}readModule(i,o,a,c){return i<0&&(i+=a,o+=4-(a+4&7)),o<0&&(o+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,a,c){let d=0;return this.readModule(i-2,o-2,a,c)&&(d|=1),d<<=1,this.readModule(i-2,o-1,a,c)&&(d|=1),d<<=1,this.readModule(i-1,o-2,a,c)&&(d|=1),d<<=1,this.readModule(i-1,o-1,a,c)&&(d|=1),d<<=1,this.readModule(i-1,o,a,c)&&(d|=1),d<<=1,this.readModule(i,o-2,a,c)&&(d|=1),d<<=1,this.readModule(i,o-1,a,c)&&(d|=1),d<<=1,this.readModule(i,o,a,c)&&(d|=1),d}readCorner1(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,1,i,o)&&(a|=1),a<<=1,this.readModule(i-1,2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}readCorner2(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-4,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner3(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-3,i,o)&&(a|=1),a<<=1,this.readModule(1,o-2,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner4(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new I("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=o/c|0,g=a/d|0,y=f*c,E=g*d,S=new Ye(E,y);for(let b=0;b<f;++b){const N=b*c;for(let P=0;P<g;++P){const z=P*d;for(let U=0;U<c;++U){const j=b*(c+2)+1+U,Q=N+U;for(let ue=0;ue<d;++ue){const de=P*(d+2)+1+ue;if(i.get(de,j)){const oe=z+ue;S.set(oe,Q)}}}}}return S}}class Lt{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const a=o.getECBlocks();let c=0;const d=a.getECBlocks();for(let U of d)c+=U.getCount();const f=new Array(c);let g=0;for(let U of d)for(let j=0;j<U.getCount();j++){const Q=U.getDataCodewords(),ue=a.getECCodewords()+Q;f[g++]=new Lt(Q,new Uint8Array(ue))}const E=f[0].codewords.length-a.getECCodewords(),S=E-1;let b=0;for(let U=0;U<S;U++)for(let j=0;j<g;j++)f[j].codewords[U]=i[b++];const N=o.getVersionNumber()===24,P=N?8:g;for(let U=0;U<P;U++)f[U].codewords[E-1]=i[b++];const z=f[0].codewords.length;for(let U=E;U<z;U++)for(let j=0;j<g;j++){const Q=N?(j+8)%g:j,ue=N&&Q>7?U-1:U;f[Q].codewords[ue]=i[b++]}if(b!==i.length)throw new I;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ro{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new I(""+i);let o=0,a=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(a>0){const f=8-a,g=i<f?i:f,y=f-g,E=255>>8-g<<y;o=(d[c]&E)>>y,i-=g,a+=g,a===8&&(a=0,c++)}if(i>0){for(;i>=8;)o=o<<8|d[c]&255,c++,i-=8;if(i>0){const f=8-i,g=255>>f<<f;o=o<<i|(d[c]&g)>>f,a+=i}}return this.bitOffset=a,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Bt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(Bt||(Bt={}));class $n{static decode(i){const o=new ro(i),a=new Je,c=new Je,d=new Array;let f=Bt.ASCII_ENCODE;do if(f===Bt.ASCII_ENCODE)f=this.decodeAsciiSegment(o,a,c);else{switch(f){case Bt.C40_ENCODE:this.decodeC40Segment(o,a);break;case Bt.TEXT_ENCODE:this.decodeTextSegment(o,a);break;case Bt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,a);break;case Bt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,a);break;case Bt.BASE256_ENCODE:this.decodeBase256Segment(o,a,d);break;default:throw new q}f=Bt.ASCII_ENCODE}while(f!==Bt.PAD_ENCODE&&o.available()>0);return c.length()>0&&a.append(c.toString()),new gr(i,a.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(i,o,a){let c=!1;do{let d=i.readBits(8);if(d===0)throw new q;if(d<=128)return c&&(d+=128),o.append(String.fromCharCode(d-1)),Bt.ASCII_ENCODE;if(d===129)return Bt.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&o.append("0"),o.append(""+f)}else switch(d){case 230:return Bt.C40_ENCODE;case 231:return Bt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),a.insert(0,"");break;case 237:o.append("[)>06"),a.insert(0,"");break;case 238:return Bt.ANSIX12_ENCODE;case 239:return Bt.TEXT_ENCODE;case 240:return Bt.EDIFACT_ENCODE;case 241:break;default:if(d!==254||i.available()!==0)throw new q;break}}while(i.available()>0);return Bt.ASCII_ENCODE}static decodeC40Segment(i,o){let a=!1;const c=[];let d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[y];a?(o.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):o.append(E)}else throw new q;break;case 1:a?(o.append(String.fromCharCode(y+128)),a=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[y];a?(o.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):o.append(E)}else switch(y){case 27:o.append("");break;case 30:a=!0;break;default:throw new q}d=0;break;case 3:a?(o.append(String.fromCharCode(y+224)),a=!1):o.append(String.fromCharCode(y+96)),d=0;break;default:throw new q}}}while(i.available()>0)}static decodeTextSegment(i,o){let a=!1,c=[],d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[y];a?(o.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):o.append(E)}else throw new q;break;case 1:a?(o.append(String.fromCharCode(y+128)),a=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[y];a?(o.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):o.append(E)}else switch(y){case 27:o.append("");break;case 30:a=!0;break;default:throw new q}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[y];a?(o.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):o.append(E),d=0}else throw new q;break;default:throw new q}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const a=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),a);for(let d=0;d<3;d++){const f=a[d];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new q;break}}}while(i.available()>0)}static parseTwoBytes(i,o,a){let c=(i<<8)+o-1,d=Math.floor(c/1600);a[0]=d,c-=d*1600,d=Math.floor(c/40),a[1]=d,a[2]=c-d*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let c=i.readBits(6);if(c===31){const d=8-i.getBitOffset();d!==8&&i.readBits(d);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,o,a){let c=1+i.getByteOffset();const d=this.unrandomize255State(i.readBits(8),c++);let f;if(d===0?f=i.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(i.readBits(8),c++),f<0)throw new q;const g=new Uint8Array(f);for(let y=0;y<f;y++){if(i.available()<8)throw new q;g[y]=this.unrandomize255State(i.readBits(8),c++)}a.push(g);try{o.append(Ge.decode(g,we.ISO88591))}catch(y){throw new Kn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(i,o){const a=149*o%255+1,c=i-a;return c>=0?c:c+256}}$n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$n.TEXT_SHIFT2_SET_CHARS=$n.C40_SHIFT2_SET_CHARS,$n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ia{constructor(){this.rsDecoder=new pr(it.DATA_MATRIX_FIELD_256)}decode(i){const o=new ct(i),a=o.getVersion(),c=o.readCodewords(),d=Lt.getDataBlocks(c,a);let f=0;for(let E of d)f+=E.getNumDataCodewords();const g=new Uint8Array(f),y=d.length;for(let E=0;E<y;E++){const S=d[E],b=S.getCodewords(),N=S.getNumDataCodewords();this.correctErrors(b,N);for(let P=0;P<N;P++)g[P*y+E]=b[P]}return $n.decode(g)}correctErrors(i,o){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new W}for(let c=0;c<o;c++)i[c]=a[c]}}class be{constructor(i){this.image=i,this.rectangleDetector=new X(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const a=o[0],c=o[1],d=o[2],f=o[3];let g=this.transitionsBetween(a,f)+1,y=this.transitionsBetween(d,f)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let E=be.sampleGrid(this.image,a,c,d,f,g,y);return new Et(E,[a,c,d,f])}static shiftPoint(i,o,a){let c=(o.getX()-i.getX())/(a+1),d=(o.getY()-i.getY())/(a+1);return new Ce(i.getX()+c,i.getY()+d)}static moveAway(i,o,a){let c=i.getX(),d=i.getY();return c<o?c-=1:c+=1,d<a?d-=1:d+=1,new Ce(c,d)}detectSolid1(i){let o=i[0],a=i[1],c=i[3],d=i[2],f=this.transitionsBetween(o,a),g=this.transitionsBetween(a,c),y=this.transitionsBetween(c,d),E=this.transitionsBetween(d,o),S=f,b=[d,o,a,c];return S>g&&(S=g,b[0]=o,b[1]=a,b[2]=c,b[3]=d),S>y&&(S=y,b[0]=a,b[1]=c,b[2]=d,b[3]=o),S>E&&(b[0]=c,b[1]=d,b[2]=o,b[3]=a),b}detectSolid2(i){let o=i[0],a=i[1],c=i[2],d=i[3],f=this.transitionsBetween(o,d),g=be.shiftPoint(a,c,(f+1)*4),y=be.shiftPoint(c,a,(f+1)*4),E=this.transitionsBetween(g,o),S=this.transitionsBetween(y,d);return E<S?(i[0]=o,i[1]=a,i[2]=c,i[3]=d):(i[0]=a,i[1]=c,i[2]=d,i[3]=o),i}correctTopRight(i){let o=i[0],a=i[1],c=i[2],d=i[3],f=this.transitionsBetween(o,d),g=this.transitionsBetween(a,d),y=be.shiftPoint(o,a,(g+1)*4),E=be.shiftPoint(c,a,(f+1)*4);f=this.transitionsBetween(y,d),g=this.transitionsBetween(E,d);let S=new Ce(d.getX()+(c.getX()-a.getX())/(f+1),d.getY()+(c.getY()-a.getY())/(f+1)),b=new Ce(d.getX()+(o.getX()-a.getX())/(g+1),d.getY()+(o.getY()-a.getY())/(g+1));if(!this.isValid(S))return this.isValid(b)?b:null;if(!this.isValid(b))return S;let N=this.transitionsBetween(y,S)+this.transitionsBetween(E,S),P=this.transitionsBetween(y,b)+this.transitionsBetween(E,b);return N>P?S:b}shiftToModuleCenter(i){let o=i[0],a=i[1],c=i[2],d=i[3],f=this.transitionsBetween(o,d)+1,g=this.transitionsBetween(c,d)+1,y=be.shiftPoint(o,a,g*4),E=be.shiftPoint(c,a,f*4);f=this.transitionsBetween(y,d)+1,g=this.transitionsBetween(E,d)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let S=(o.getX()+a.getX()+c.getX()+d.getX())/4,b=(o.getY()+a.getY()+c.getY()+d.getY())/4;o=be.moveAway(o,S,b),a=be.moveAway(a,S,b),c=be.moveAway(c,S,b),d=be.moveAway(d,S,b);let N,P;return y=be.shiftPoint(o,a,g*4),y=be.shiftPoint(y,d,f*4),N=be.shiftPoint(a,o,g*4),N=be.shiftPoint(N,c,f*4),E=be.shiftPoint(c,d,g*4),E=be.shiftPoint(E,a,f*4),P=be.shiftPoint(d,c,g*4),P=be.shiftPoint(P,o,f*4),[y,N,E,P]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,a,c,d,f,g){return cn.getInstance().sampleGrid(i,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,o.getX(),o.getY(),d.getX(),d.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(i,o){let a=Math.trunc(i.getX()),c=Math.trunc(i.getY()),d=Math.trunc(o.getX()),f=Math.trunc(o.getY()),g=Math.abs(f-c)>Math.abs(d-a);if(g){let U=a;a=c,c=U,U=d,d=f,f=U}let y=Math.abs(d-a),E=Math.abs(f-c),S=-y/2,b=c<f?1:-1,N=a<d?1:-1,P=0,z=this.image.get(g?c:a,g?a:c);for(let U=a,j=c;U!==d;U+=N){let Q=this.image.get(g?j:U,g?U:j);if(Q!==z&&(P++,z=Q),S+=E,S>0){if(j===f)break;j+=b,S-=y}}return P}}class St{constructor(){this.decoder=new Ia}decode(i,o=null){let a,c;if(o!=null&&o.has(ce.PURE_BARCODE)){const E=St.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(E),c=St.NO_POINTS}else{const E=new be(i.getBlackMatrix()).detect();a=this.decoder.decode(E.getBits()),c=E.getPoints()}const d=a.getRawBytes(),f=new Ue(a.getText(),d,8*d.length,c,ae.DATA_MATRIX,V.currentTimeMillis()),g=a.getByteSegments();g!=null&&f.putMetadata(Tt.BYTE_SEGMENTS,g);const y=a.getECLevel();return y!=null&&f.putMetadata(Tt.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(o==null||a==null)throw new ee;const c=this.moduleSize(o,i);let d=o[1];const f=a[1];let g=o[0];const E=(a[0]-g+1)/c,S=(f-d+1)/c;if(E<=0||S<=0)throw new ee;const b=c/2;d+=b,g+=b;const N=new Ye(E,S);for(let P=0;P<S;P++){const z=d+P*c;for(let U=0;U<E;U++)i.get(g+U*c,z)&&N.set(U,P)}return N}static moduleSize(i,o){const a=o.getWidth();let c=i[0];const d=i[1];for(;c<a&&o.get(c,d);)c++;if(c===a)throw new ee;const f=c-i[0];if(f===0)throw new ee;return f}}St.NO_POINTS=[];class Ta extends It{constructor(i=500){super(new St,i)}}var qi;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(qi||(qi={}));class qe{constructor(i,o,a){this.value=i,this.stringValue=o,this.bits=a,qe.FOR_BITS.set(a,this),qe.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return qe.L;case"M":return qe.M;case"Q":return qe.Q;case"H":return qe.H;default:throw new R(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof qe))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=qe.FOR_BITS.size)throw new I;return qe.FOR_BITS.get(i)}}qe.FOR_BITS=new Map,qe.FOR_VALUE=new Map,qe.L=new qe(qi.L,"L",1),qe.M=new qe(qi.M,"M",0),qe.Q=new qe(qi.Q,"Q",3),qe.H=new qe(qi.H,"H",2);class Tn{constructor(i){this.errorCorrectionLevel=qe.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return k.bitCount(i^o)}static decodeFormatInformation(i,o){const a=Tn.doDecodeFormatInformation(i,o);return a!==null?a:Tn.doDecodeFormatInformation(i^Tn.FORMAT_INFO_MASK_QR,o^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let a=Number.MAX_SAFE_INTEGER,c=0;for(const d of Tn.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===i||f===o)return new Tn(d[1]);let g=Tn.numBitsDiffering(i,f);g<a&&(c=d[1],a=g),i!==o&&(g=Tn.numBitsDiffering(o,f),g<a&&(c=d[1],a=g))}return a<=3?new Tn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Tn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const a of o)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(i,o,...a){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=a;let c=0;const d=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();for(const g of f)c+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new q;try{return this.getVersionForNumber((i-17)/4)}catch{throw new q}}static getVersionForNumber(i){if(i<1||i>40)throw new I;return _e.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<_e.VERSION_DECODE_INFO.length;c++){const d=_e.VERSION_DECODE_INFO[c];if(d===i)return _e.getVersionForNumber(c+7);const f=Tn.numBitsDiffering(i,d);f<o&&(a=c+7,o=f)}return o<=3?_e.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new Ye(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const d=this.alignmentPatternCenters[c]-2;for(let f=0;f<a;f++)c===0&&(f===0||f===a-1)||c===a-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new G(7,new O(1,19)),new G(10,new O(1,16)),new G(13,new O(1,13)),new G(17,new O(1,9))),new _e(2,Int32Array.from([6,18]),new G(10,new O(1,34)),new G(16,new O(1,28)),new G(22,new O(1,22)),new G(28,new O(1,16))),new _e(3,Int32Array.from([6,22]),new G(15,new O(1,55)),new G(26,new O(1,44)),new G(18,new O(2,17)),new G(22,new O(2,13))),new _e(4,Int32Array.from([6,26]),new G(20,new O(1,80)),new G(18,new O(2,32)),new G(26,new O(2,24)),new G(16,new O(4,9))),new _e(5,Int32Array.from([6,30]),new G(26,new O(1,108)),new G(24,new O(2,43)),new G(18,new O(2,15),new O(2,16)),new G(22,new O(2,11),new O(2,12))),new _e(6,Int32Array.from([6,34]),new G(18,new O(2,68)),new G(16,new O(4,27)),new G(24,new O(4,19)),new G(28,new O(4,15))),new _e(7,Int32Array.from([6,22,38]),new G(20,new O(2,78)),new G(18,new O(4,31)),new G(18,new O(2,14),new O(4,15)),new G(26,new O(4,13),new O(1,14))),new _e(8,Int32Array.from([6,24,42]),new G(24,new O(2,97)),new G(22,new O(2,38),new O(2,39)),new G(22,new O(4,18),new O(2,19)),new G(26,new O(4,14),new O(2,15))),new _e(9,Int32Array.from([6,26,46]),new G(30,new O(2,116)),new G(22,new O(3,36),new O(2,37)),new G(20,new O(4,16),new O(4,17)),new G(24,new O(4,12),new O(4,13))),new _e(10,Int32Array.from([6,28,50]),new G(18,new O(2,68),new O(2,69)),new G(26,new O(4,43),new O(1,44)),new G(24,new O(6,19),new O(2,20)),new G(28,new O(6,15),new O(2,16))),new _e(11,Int32Array.from([6,30,54]),new G(20,new O(4,81)),new G(30,new O(1,50),new O(4,51)),new G(28,new O(4,22),new O(4,23)),new G(24,new O(3,12),new O(8,13))),new _e(12,Int32Array.from([6,32,58]),new G(24,new O(2,92),new O(2,93)),new G(22,new O(6,36),new O(2,37)),new G(26,new O(4,20),new O(6,21)),new G(28,new O(7,14),new O(4,15))),new _e(13,Int32Array.from([6,34,62]),new G(26,new O(4,107)),new G(22,new O(8,37),new O(1,38)),new G(24,new O(8,20),new O(4,21)),new G(22,new O(12,11),new O(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new G(30,new O(3,115),new O(1,116)),new G(24,new O(4,40),new O(5,41)),new G(20,new O(11,16),new O(5,17)),new G(24,new O(11,12),new O(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new G(22,new O(5,87),new O(1,88)),new G(24,new O(5,41),new O(5,42)),new G(30,new O(5,24),new O(7,25)),new G(24,new O(11,12),new O(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new G(24,new O(5,98),new O(1,99)),new G(28,new O(7,45),new O(3,46)),new G(24,new O(15,19),new O(2,20)),new G(30,new O(3,15),new O(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new G(28,new O(1,107),new O(5,108)),new G(28,new O(10,46),new O(1,47)),new G(28,new O(1,22),new O(15,23)),new G(28,new O(2,14),new O(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new G(30,new O(5,120),new O(1,121)),new G(26,new O(9,43),new O(4,44)),new G(28,new O(17,22),new O(1,23)),new G(28,new O(2,14),new O(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new G(28,new O(3,113),new O(4,114)),new G(26,new O(3,44),new O(11,45)),new G(26,new O(17,21),new O(4,22)),new G(26,new O(9,13),new O(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new G(28,new O(3,107),new O(5,108)),new G(26,new O(3,41),new O(13,42)),new G(30,new O(15,24),new O(5,25)),new G(28,new O(15,15),new O(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new G(28,new O(4,116),new O(4,117)),new G(26,new O(17,42)),new G(28,new O(17,22),new O(6,23)),new G(30,new O(19,16),new O(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new G(28,new O(2,111),new O(7,112)),new G(28,new O(17,46)),new G(30,new O(7,24),new O(16,25)),new G(24,new O(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new G(30,new O(4,121),new O(5,122)),new G(28,new O(4,47),new O(14,48)),new G(30,new O(11,24),new O(14,25)),new G(30,new O(16,15),new O(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new G(30,new O(6,117),new O(4,118)),new G(28,new O(6,45),new O(14,46)),new G(30,new O(11,24),new O(16,25)),new G(30,new O(30,16),new O(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new G(26,new O(8,106),new O(4,107)),new G(28,new O(8,47),new O(13,48)),new G(30,new O(7,24),new O(22,25)),new G(30,new O(22,15),new O(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new G(28,new O(10,114),new O(2,115)),new G(28,new O(19,46),new O(4,47)),new G(28,new O(28,22),new O(6,23)),new G(30,new O(33,16),new O(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new G(30,new O(8,122),new O(4,123)),new G(28,new O(22,45),new O(3,46)),new G(30,new O(8,23),new O(26,24)),new G(30,new O(12,15),new O(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new O(3,117),new O(10,118)),new G(28,new O(3,45),new O(23,46)),new G(30,new O(4,24),new O(31,25)),new G(30,new O(11,15),new O(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new O(7,116),new O(7,117)),new G(28,new O(21,45),new O(7,46)),new G(30,new O(1,23),new O(37,24)),new G(30,new O(19,15),new O(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new O(5,115),new O(10,116)),new G(28,new O(19,47),new O(10,48)),new G(30,new O(15,24),new O(25,25)),new G(30,new O(23,15),new O(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new O(13,115),new O(3,116)),new G(28,new O(2,46),new O(29,47)),new G(30,new O(42,24),new O(1,25)),new G(30,new O(23,15),new O(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new O(17,115)),new G(28,new O(10,46),new O(23,47)),new G(30,new O(10,24),new O(35,25)),new G(30,new O(19,15),new O(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new O(17,115),new O(1,116)),new G(28,new O(14,46),new O(21,47)),new G(30,new O(29,24),new O(19,25)),new G(30,new O(11,15),new O(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new O(13,115),new O(6,116)),new G(28,new O(14,46),new O(23,47)),new G(30,new O(44,24),new O(7,25)),new G(30,new O(59,16),new O(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new O(12,121),new O(7,122)),new G(28,new O(12,47),new O(26,48)),new G(30,new O(39,24),new O(14,25)),new G(30,new O(22,15),new O(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new O(6,121),new O(14,122)),new G(28,new O(6,47),new O(34,48)),new G(30,new O(46,24),new O(10,25)),new G(30,new O(2,15),new O(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new O(17,122),new O(4,123)),new G(28,new O(29,46),new O(14,47)),new G(30,new O(49,24),new O(10,25)),new G(30,new O(24,15),new O(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new O(4,122),new O(18,123)),new G(28,new O(13,46),new O(32,47)),new G(30,new O(48,24),new O(14,25)),new G(30,new O(42,15),new O(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new O(20,117),new O(4,118)),new G(28,new O(40,47),new O(7,48)),new G(30,new O(43,24),new O(22,25)),new G(30,new O(10,15),new O(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new O(19,118),new O(6,119)),new G(28,new O(18,47),new O(31,48)),new G(30,new O(34,24),new O(34,25)),new G(30,new O(20,15),new O(61,16)))];var kt;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(kt||(kt={}));class bn{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let a=0;a<o;a++)for(let c=0;c<o;c++)this.isMasked(a,c)&&i.flip(c,a)}}bn.values=new Map([[kt.DATA_MASK_000,new bn(kt.DATA_MASK_000,(T,i)=>(T+i&1)===0)],[kt.DATA_MASK_001,new bn(kt.DATA_MASK_001,(T,i)=>(T&1)===0)],[kt.DATA_MASK_010,new bn(kt.DATA_MASK_010,(T,i)=>i%3===0)],[kt.DATA_MASK_011,new bn(kt.DATA_MASK_011,(T,i)=>(T+i)%3===0)],[kt.DATA_MASK_100,new bn(kt.DATA_MASK_100,(T,i)=>(Math.floor(T/2)+Math.floor(i/3)&1)===0)],[kt.DATA_MASK_101,new bn(kt.DATA_MASK_101,(T,i)=>T*i%6===0)],[kt.DATA_MASK_110,new bn(kt.DATA_MASK_110,(T,i)=>T*i%6<3)],[kt.DATA_MASK_111,new bn(kt.DATA_MASK_111,(T,i)=>(T+i+T*i%3&1)===0)]]);class Go{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new q;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let d=0;d<6;d++)i=this.copyBit(d,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let d=5;d>=0;d--)i=this.copyBit(8,d,i);const o=this.bitMatrix.getHeight();let a=0;const c=o-7;for(let d=o-1;d>=c;d--)a=this.copyBit(8,d,a);for(let d=o-8;d<o;d++)a=this.copyBit(d,8,a);if(this.parsedFormatInfo=Tn.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return _e.getVersionForNumber(o);let a=0;const c=i-11;for(let f=5;f>=0;f--)for(let g=i-9;g>=c;g--)a=this.copyBit(g,f,a);let d=_e.decodeVersionInformation(a);if(d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;a=0;for(let f=5;f>=0;f--)for(let g=i-9;g>=c;g--)a=this.copyBit(f,g,a);if(d=_e.decodeVersionInformation(a),d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;throw new q}copyBit(i,o,a){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),a=bn.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const d=o.buildFunctionPattern();let f=!0;const g=new Uint8Array(o.getTotalCodewords());let y=0,E=0,S=0;for(let b=c-1;b>0;b-=2){b===6&&b--;for(let N=0;N<c;N++){const P=f?c-1-N:N;for(let z=0;z<2;z++)d.get(b-z,P)||(S++,E<<=1,this.bitMatrix.get(b-z,P)&&(E|=1),S===8&&(g[y++]=E,S=0,E=0))}f=!f}if(y!==o.getTotalCodewords())throw new q;return g}remask(){if(this.parsedFormatInfo===null)return;const i=bn.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,a=i.getWidth();o<a;o++)for(let c=o+1,d=i.getHeight();c<d;c++)i.get(o,c)!==i.get(c,o)&&(i.flip(c,o),i.flip(o,c))}}class Zo{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,a){if(i.length!==o.getTotalCodewords())throw new I;const c=o.getECBlocksForLevel(a);let d=0;const f=c.getECBlocks();for(const z of f)d+=z.getCount();const g=new Array(d);let y=0;for(const z of f)for(let U=0;U<z.getCount();U++){const j=z.getDataCodewords(),Q=c.getECCodewordsPerBlock()+j;g[y++]=new Zo(j,new Uint8Array(Q))}const E=g[0].codewords.length;let S=g.length-1;for(;S>=0&&g[S].codewords.length!==E;)S--;S++;const b=E-c.getECCodewordsPerBlock();let N=0;for(let z=0;z<b;z++)for(let U=0;U<y;U++)g[U].codewords[z]=i[N++];for(let z=S;z<y;z++)g[z].codewords[b]=i[N++];const P=g[0].codewords.length;for(let z=b;z<P;z++)for(let U=0;U<y;U++){const j=U<S?z:z+1;g[U].codewords[j]=i[N++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Rn;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(Rn||(Rn={}));class Re{constructor(i,o,a,c){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=a,this.bits=c,Re.FOR_BITS.set(c,this),Re.FOR_VALUE.set(i,this)}static forBits(i){const o=Re.FOR_BITS.get(i);if(o===void 0)throw new I;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let a;return o<=9?a=0:o<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Re))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}Re.FOR_BITS=new Map,Re.FOR_VALUE=new Map,Re.TERMINATOR=new Re(Rn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Re.NUMERIC=new Re(Rn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Re.ALPHANUMERIC=new Re(Rn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Re.STRUCTURED_APPEND=new Re(Rn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Re.BYTE=new Re(Rn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Re.ECI=new Re(Rn.ECI,"ECI",Int32Array.from([0,0,0]),7),Re.KANJI=new Re(Rn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Re.FNC1_FIRST_POSITION=new Re(Rn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Re.FNC1_SECOND_POSITION=new Re(Rn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Re.HANZI=new Re(Rn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ot{static decode(i,o,a,c){const d=new ro(i);let f=new Je;const g=new Array;let y=-1,E=-1;try{let S=null,b=!1,N;do{if(d.available()<4)N=Re.TERMINATOR;else{const P=d.readBits(4);N=Re.forBits(P)}switch(N){case Re.TERMINATOR:break;case Re.FNC1_FIRST_POSITION:case Re.FNC1_SECOND_POSITION:b=!0;break;case Re.STRUCTURED_APPEND:if(d.available()<16)throw new q;y=d.readBits(8),E=d.readBits(8);break;case Re.ECI:const P=Ot.parseECIValue(d);if(S=te.getCharacterSetECIByValue(P),S===null)throw new q;break;case Re.HANZI:const z=d.readBits(4),U=d.readBits(N.getCharacterCountBits(o));z===Ot.GB2312_SUBSET&&Ot.decodeHanziSegment(d,f,U);break;default:const j=d.readBits(N.getCharacterCountBits(o));switch(N){case Re.NUMERIC:Ot.decodeNumericSegment(d,f,j);break;case Re.ALPHANUMERIC:Ot.decodeAlphanumericSegment(d,f,j,b);break;case Re.BYTE:Ot.decodeByteSegment(d,f,j,S,g,c);break;case Re.KANJI:Ot.decodeKanjiSegment(d,f,j);break;default:throw new q}break}}while(N!==Re.TERMINATOR)}catch{throw new q}return new gr(i,f.toString(),g.length===0?null:g,a===null?null:a.toString(),y,E)}static decodeHanziSegment(i,o,a){if(a*13>i.available())throw new q;const c=new Uint8Array(2*a);let d=0;for(;a>0;){const f=i.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,c[d]=g>>8&255,c[d+1]=g&255,d+=2,a--}try{o.append(Ge.decode(c,we.GB2312))}catch(f){throw new q(f)}}static decodeKanjiSegment(i,o,a){if(a*13>i.available())throw new q;const c=new Uint8Array(2*a);let d=0;for(;a>0;){const f=i.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,c[d]=g>>8,c[d+1]=g,d+=2,a--}try{o.append(Ge.decode(c,we.SHIFT_JIS))}catch(f){throw new q(f)}}static decodeByteSegment(i,o,a,c,d,f){if(8*a>i.available())throw new q;const g=new Uint8Array(a);for(let E=0;E<a;E++)g[E]=i.readBits(8);let y;c===null?y=we.guessEncoding(g,f):y=c.getName();try{o.append(Ge.decode(g,y))}catch(E){throw new q(E)}d.push(g)}static toAlphaNumericChar(i){if(i>=Ot.ALPHANUMERIC_CHARS.length)throw new q;return Ot.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,a,c){const d=o.length();for(;a>1;){if(i.available()<11)throw new q;const f=i.readBits(11);o.append(Ot.toAlphaNumericChar(Math.floor(f/45))),o.append(Ot.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(i.available()<6)throw new q;o.append(Ot.toAlphaNumericChar(i.readBits(6)))}if(c)for(let f=d;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(i,o,a){for(;a>=3;){if(i.available()<10)throw new q;const c=i.readBits(10);if(c>=1e3)throw new q;o.append(Ot.toAlphaNumericChar(Math.floor(c/100))),o.append(Ot.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(Ot.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(i.available()<7)throw new q;const c=i.readBits(7);if(c>=100)throw new q;o.append(Ot.toAlphaNumericChar(Math.floor(c/10))),o.append(Ot.toAlphaNumericChar(c%10))}else if(a===1){if(i.available()<4)throw new q;const c=i.readBits(4);if(c>=10)throw new q;o.append(Ot.toAlphaNumericChar(c))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const a=i.readBits(8);return(o&63)<<8&4294967295|a}if((o&224)===192){const a=i.readBits(16);return(o&31)<<16&4294967295|a}throw new q}}Ot.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ot.GB2312_SUBSET=1;class Yo{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class ba{constructor(){this.rsDecoder=new pr(it.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(Ye.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const a=new Go(i);let c=null;try{return this.decodeBitMatrixParser(a,o)}catch(d){c=d}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const d=this.decodeBitMatrixParser(a,o);return d.setOther(new Yo(!0)),d}catch(d){throw c!==null?c:d}}decodeBitMatrixParser(i,o){const a=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),d=i.readCodewords(),f=Zo.getDataBlocks(d,a,c);let g=0;for(const S of f)g+=S.getNumDataCodewords();const y=new Uint8Array(g);let E=0;for(const S of f){const b=S.getCodewords(),N=S.getNumDataCodewords();this.correctErrors(b,N);for(let P=0;P<N;P++)y[E++]=b[P]}return Ot.decode(y,a,c,o)}correctErrors(i,o){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new W}for(let c=0;c<o;c++)i[c]=a[c]}}class Xo extends Ce{constructor(i,o,a){super(i,o),this.estimatedModuleSize=a}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){const c=(this.getX()+o)/2,d=(this.getY()+i)/2,f=(this.estimatedModuleSize+a)/2;return new Xo(c,d,f)}}class Dr{constructor(i,o,a,c,d,f,g){this.image=i,this.startX=o,this.startY=a,this.width=c,this.height=d,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,a=this.width,c=i+a,d=this.startY+o/2,f=new Int32Array(3),g=this.image;for(let y=0;y<o;y++){const E=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let S=i;for(;S<c&&!g.get(S,E);)S++;let b=0;for(;S<c;){if(g.get(S,E))if(b===1)f[1]++;else if(b===2){if(this.foundPatternCross(f)){const N=this.handlePossibleCenter(f,E,S);if(N!==null)return N}f[0]=f[2],f[1]=1,f[2]=0,b=1}else f[++b]++;else b===1&&b++,f[b]++;S++}if(this.foundPatternCross(f)){const N=this.handlePossibleCenter(f,E,c);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,a=o/2;for(let c=0;c<3;c++)if(Math.abs(o-i[c])>=a)return!1;return!0}crossCheckVertical(i,o,a,c){const d=this.image,f=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=i;for(;y>=0&&d.get(o,y)&&g[1]<=a;)g[1]++,y--;if(y<0||g[1]>a)return NaN;for(;y>=0&&!d.get(o,y)&&g[0]<=a;)g[0]++,y--;if(g[0]>a)return NaN;for(y=i+1;y<f&&d.get(o,y)&&g[1]<=a;)g[1]++,y++;if(y===f||g[1]>a)return NaN;for(;y<f&&!d.get(o,y)&&g[2]<=a;)g[2]++,y++;if(g[2]>a)return NaN;const E=g[0]+g[1]+g[2];return 5*Math.abs(E-c)>=2*c?NaN:this.foundPatternCross(g)?Dr.centerFromEnd(g,y):NaN}handlePossibleCenter(i,o,a){const c=i[0]+i[1]+i[2],d=Dr.centerFromEnd(i,a),f=this.crossCheckVertical(o,d,2*i[1],c);if(!isNaN(f)){const g=(i[0]+i[1]+i[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(g,f,d))return E.combineEstimate(f,d,g);const y=new Xo(d,f,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Ss extends Ce{constructor(i,o,a,c){super(i,o),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){const c=this.count+1,d=(this.count*this.getX()+o)/c,f=(this.count*this.getY()+i)/c,g=(this.count*this.estimatedModuleSize+a)/c;return new Ss(d,f,g,c)}}class Ra{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class hn{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(ce.TRY_HARDER)!==void 0,a=i!=null&&i.get(ce.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),f=c.getWidth();let g=Math.floor(3*d/(4*hn.MAX_MODULES));(g<hn.MIN_SKIP||o)&&(g=hn.MIN_SKIP);let y=!1;const E=new Int32Array(5);for(let b=g-1;b<d&&!y;b+=g){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let N=0;for(let P=0;P<f;P++)if(c.get(P,b))(N&1)===1&&N++,E[N]++;else if(N&1)E[N]++;else if(N===4)if(hn.foundPatternCross(E)){if(this.handlePossibleCenter(E,b,P,a)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>E[2]&&(b+=U-E[2]-g,P=f-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;continue}N=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;else E[++N]++;hn.foundPatternCross(E)&&this.handlePossibleCenter(E,b,f,a)===!0&&(g=E[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return Ce.orderBestPatterns(S),new Ra(S)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let d=0;d<5;d++){const f=i[d];if(f===0)return!1;o+=f}if(o<7)return!1;const a=o/7,c=a/2;return Math.abs(a-i[0])<c&&Math.abs(a-i[1])<c&&Math.abs(3*a-i[2])<3*c&&Math.abs(a-i[3])<c&&Math.abs(a-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,a,c){const d=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;i>=f&&o>=f&&g.get(o-f,i-f);)d[2]++,f++;if(i<f||o<f)return!1;for(;i>=f&&o>=f&&!g.get(o-f,i-f)&&d[1]<=a;)d[1]++,f++;if(i<f||o<f||d[1]>a)return!1;for(;i>=f&&o>=f&&g.get(o-f,i-f)&&d[0]<=a;)d[0]++,f++;if(d[0]>a)return!1;const y=g.getHeight(),E=g.getWidth();for(f=1;i+f<y&&o+f<E&&g.get(o+f,i+f);)d[2]++,f++;if(i+f>=y||o+f>=E)return!1;for(;i+f<y&&o+f<E&&!g.get(o+f,i+f)&&d[3]<a;)d[3]++,f++;if(i+f>=y||o+f>=E||d[3]>=a)return!1;for(;i+f<y&&o+f<E&&g.get(o+f,i+f)&&d[4]<a;)d[4]++,f++;if(d[4]>=a)return!1;const S=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(S-c)<2*c&&hn.foundPatternCross(d)}crossCheckVertical(i,o,a,c){const d=this.image,f=d.getHeight(),g=this.getCrossCheckStateCount();let y=i;for(;y>=0&&d.get(o,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(o,y)&&g[1]<=a;)g[1]++,y--;if(y<0||g[1]>a)return NaN;for(;y>=0&&d.get(o,y)&&g[0]<=a;)g[0]++,y--;if(g[0]>a)return NaN;for(y=i+1;y<f&&d.get(o,y);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(o,y)&&g[3]<a;)g[3]++,y++;if(y===f||g[3]>=a)return NaN;for(;y<f&&d.get(o,y)&&g[4]<a;)g[4]++,y++;if(g[4]>=a)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-c)>=2*c?NaN:hn.foundPatternCross(g)?hn.centerFromEnd(g,y):NaN}crossCheckHorizontal(i,o,a,c){const d=this.image,f=d.getWidth(),g=this.getCrossCheckStateCount();let y=i;for(;y>=0&&d.get(y,o);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,o)&&g[1]<=a;)g[1]++,y--;if(y<0||g[1]>a)return NaN;for(;y>=0&&d.get(y,o)&&g[0]<=a;)g[0]++,y--;if(g[0]>a)return NaN;for(y=i+1;y<f&&d.get(y,o);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(y,o)&&g[3]<a;)g[3]++,y++;if(y===f||g[3]>=a)return NaN;for(;y<f&&d.get(y,o)&&g[4]<a;)g[4]++,y++;if(g[4]>=a)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-c)>=c?NaN:hn.foundPatternCross(g)?hn.centerFromEnd(g,y):NaN}handlePossibleCenter(i,o,a,c){const d=i[0]+i[1]+i[2]+i[3]+i[4];let f=hn.centerFromEnd(i,a),g=this.crossCheckVertical(o,Math.floor(f),i[2],d);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),i[2],d),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),i[2],d)))){const y=d/7;let E=!1;const S=this.possibleCenters;for(let b=0,N=S.length;b<N;b++){const P=S[b];if(P.aboutEquals(y,g,f)){S[b]=P.combineEstimate(g,f,y),E=!0;break}}if(!E){const b=new Ss(f,g,y);S.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const a of this.possibleCenters)if(a.getCount()>=hn.CENTER_QUORUM)if(o==null)o=a;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-a.getX())-Math.abs(o.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const a=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=hn.CENTER_QUORUM&&(i++,o+=f.getEstimatedModuleSize());if(i<3)return!1;const c=o/a;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-c);return d<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ee;const o=this.possibleCenters;let a;if(i>3){let c=0,d=0;for(const y of this.possibleCenters){const E=y.getEstimatedModuleSize();c+=E,d+=E*E}a=c/i;let f=Math.sqrt(d/i-a*a);o.sort((y,E)=>{const S=Math.abs(E.getEstimatedModuleSize()-a),b=Math.abs(y.getEstimatedModuleSize()-a);return S<b?-1:S>b?1:0});const g=Math.max(.2*a,f);for(let y=0;y<o.length&&o.length>3;y++){const E=o[y];Math.abs(E.getEstimatedModuleSize()-a)>g&&(o.splice(y,1),y--)}}if(o.length>3){let c=0;for(const d of o)c+=d.getEstimatedModuleSize();a=c/o.length,o.sort((d,f)=>{if(f.getCount()===d.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-a),y=Math.abs(d.getEstimatedModuleSize()-a);return g<y?1:g>y?-1:0}else return f.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}hn.CENTER_QUORUM=2,hn.MIN_SKIP=3,hn.MAX_MODULES=57;class ke{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(ce.NEED_RESULT_POINT_CALLBACK);const a=new hn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const o=i.getTopLeft(),a=i.getTopRight(),c=i.getBottomLeft(),d=this.calculateModuleSize(o,a,c);if(d<1)throw new ee("No pattern found in proccess finder.");const f=ke.computeDimension(o,a,c,d),g=_e.getProvisionalVersionForDimension(f),y=g.getDimensionForVersion()-7;let E=null;if(g.getAlignmentPatternCenters().length>0){const P=a.getX()-o.getX()+c.getX(),z=a.getY()-o.getY()+c.getY(),U=1-3/y,j=Math.floor(o.getX()+U*(P-o.getX())),Q=Math.floor(o.getY()+U*(z-o.getY()));for(let ue=4;ue<=16;ue<<=1)try{E=this.findAlignmentInRegion(d,j,Q,ue);break}catch(de){if(!(de instanceof ee))throw de}}const S=ke.createTransform(o,a,c,E,f),b=ke.sampleGrid(this.image,S,f);let N;return E===null?N=[c,o,a]:N=[c,o,a,E],new Et(b,N)}static createTransform(i,o,a,c,d){const f=d-3.5;let g,y,E,S;return c!==null?(g=c.getX(),y=c.getY(),E=f-3,S=E):(g=o.getX()-i.getX()+a.getX(),y=o.getY()-i.getY()+a.getY(),E=f,S=f),He.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,E,S,3.5,f,i.getX(),i.getY(),o.getX(),o.getY(),g,y,a.getX(),a.getY())}static sampleGrid(i,o,a){return cn.getInstance().sampleGridWithTransform(i,a,a,o)}static computeDimension(i,o,a,c){const d=rt.round(Ce.distance(i,o)/c),f=rt.round(Ce.distance(i,a)/c);let g=Math.floor((d+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new ee("Dimensions could be not found.")}return g}calculateModuleSize(i,o,a){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,o){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,a,c){let d=this.sizeOfBlackWhiteBlackRun(i,o,a,c),f=1,g=i-(a-i);g<0?(f=i/(i-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-i)/(g-i),g=this.image.getWidth()-1);let y=Math.floor(o-(c-o)*f);return f=1,y<0?(f=o/(o-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(y-o),y=this.image.getHeight()-1),g=Math.floor(i+(g-i)*f),d+=this.sizeOfBlackWhiteBlackRun(i,o,g,y),d-1}sizeOfBlackWhiteBlackRun(i,o,a,c){const d=Math.abs(c-o)>Math.abs(a-i);if(d){let P=i;i=o,o=P,P=a,a=c,c=P}const f=Math.abs(a-i),g=Math.abs(c-o);let y=-f/2;const E=i<a?1:-1,S=o<c?1:-1;let b=0;const N=a+E;for(let P=i,z=o;P!==N;P+=E){const U=d?z:P,j=d?P:z;if(b===1===this.image.get(U,j)){if(b===2)return rt.distance(P,z,i,o);b++}if(y+=g,y>0){if(z===c)break;z+=S,y-=f}}return b===2?rt.distance(a+E,c,i,o):NaN}findAlignmentInRegion(i,o,a,c){const d=Math.floor(c*i),f=Math.max(0,o-d),g=Math.min(this.image.getWidth()-1,o+d);if(g-f<i*3)throw new ee("Alignment top exceeds estimated module size.");const y=Math.max(0,a-d),E=Math.min(this.image.getHeight()-1,a+d);if(E-y<i*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Dr(this.image,f,y,g-f,E-y,i,this.resultPointCallback).find()}}class _n{constructor(){this.decoder=new ba}getDecoder(){return this.decoder}decode(i,o){let a,c;if(o!=null&&o.get(ce.PURE_BARCODE)!==void 0){const y=_n.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(y,o),c=_n.NO_POINTS}else{const y=new ke(i.getBlackMatrix()).detect(o);a=this.decoder.decodeBitMatrix(y.getBits(),o),c=y.getPoints()}a.getOther()instanceof Yo&&a.getOther().applyMirroredCorrection(c);const d=new Ue(a.getText(),a.getRawBytes(),void 0,c,ae.QR_CODE,void 0),f=a.getByteSegments();f!==null&&d.putMetadata(Tt.BYTE_SEGMENTS,f);const g=a.getECLevel();return g!==null&&d.putMetadata(Tt.ERROR_CORRECTION_LEVEL,g),a.hasStructuredAppend()&&(d.putMetadata(Tt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),d.putMetadata(Tt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),d}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(o===null||a===null)throw new ee;const c=this.moduleSize(o,i);let d=o[1],f=a[1],g=o[0],y=a[0];if(g>=y||d>=f)throw new ee;if(f-d!==y-g&&(y=g+(f-d),y>=i.getWidth()))throw new ee;const E=Math.round((y-g+1)/c),S=Math.round((f-d+1)/c);if(E<=0||S<=0)throw new ee;if(S!==E)throw new ee;const b=Math.floor(c/2);d+=b,g+=b;const N=g+Math.floor((E-1)*c)-y;if(N>0){if(N>b)throw new ee;g-=N}const P=d+Math.floor((S-1)*c)-f;if(P>0){if(P>b)throw new ee;d-=P}const z=new Ye(E,S);for(let U=0;U<S;U++){const j=d+Math.floor(U*c);for(let Q=0;Q<E;Q++)i.get(g+Math.floor(Q*c),j)&&z.set(Q,U)}return z}static moduleSize(i,o){const a=o.getHeight(),c=o.getWidth();let d=i[0],f=i[1],g=!0,y=0;for(;d<c&&f<a;){if(g!==o.get(d,f)){if(++y===5)break;g=!g}d++,f++}if(d===c||f===a)throw new ee;return(d-i[0])/7}}_n.NO_POINTS=new Array;class ye{PDF417Common(){}static getBitCountSum(i){return rt.sum(i)}static toIntArray(i){if(i==null||!i.length)return ye.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let a=0;for(const c of i)o[a++]=c;return o}static getCodeword(i){const o=B.binarySearch(ye.SYMBOL_TABLE,i&262143);return o<0?-1:(ye.CODEWORD_TABLE[o]-1)%ye.NUMBER_OF_CODEWORDS}}ye.NUMBER_OF_CODEWORDS=929,ye.MAX_CODEWORDS_IN_BARCODE=ye.NUMBER_OF_CODEWORDS-1,ye.MIN_ROWS_IN_BARCODE=3,ye.MAX_ROWS_IN_BARCODE=90,ye.MODULES_IN_CODEWORD=17,ye.MODULES_IN_STOP_PATTERN=18,ye.BARS_IN_MODULE=8,ye.EMPTY_INT_ARRAY=new Int32Array([]),ye.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ye.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class nc{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(i,o,a){let c=i.getBlackMatrix(),d=Ve.detect(a,c);return d.length||(c=c.clone(),c.rotate180(),d=Ve.detect(a,c)),new nc(c,d)}static detect(i,o){const a=new Array;let c=0,d=0,f=!1;for(;c<o.getHeight();){const g=Ve.findVertices(o,c,d);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,d=0;for(const y of a)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=Ve.ROW_STEP;continue}if(f=!0,a.push(g),!i)break;g[2]!=null?(d=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return a}static findVertices(i,o,a){const c=i.getHeight(),d=i.getWidth(),f=new Array(8);return Ve.copyToResult(f,Ve.findRowsWithPattern(i,c,d,o,a,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),f[4]!=null&&(a=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),Ve.copyToResult(f,Ve.findRowsWithPattern(i,c,d,o,a,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),f}static copyToResult(i,o,a){for(let c=0;c<a.length;c++)i[a[c]]=o[c]}static findRowsWithPattern(i,o,a,c,d,f){const g=new Array(4);let y=!1;const E=new Int32Array(f.length);for(;c<o;c+=Ve.ROW_STEP){let b=Ve.findGuardPattern(i,d,c,a,!1,f,E);if(b!=null){for(;c>0;){const N=Ve.findGuardPattern(i,d,--c,a,!1,f,E);if(N!=null)b=N;else{c++;break}}g[0]=new Ce(b[0],c),g[1]=new Ce(b[1],c),y=!0;break}}let S=c+1;if(y){let b=0,N=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;S<o;S++){const P=Ve.findGuardPattern(i,N[0],S,a,!1,f,E);if(P!=null&&Math.abs(N[0]-P[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(N[1]-P[1])<Ve.MAX_PATTERN_DRIFT)N=P,b=0;else{if(b>Ve.SKIPPED_ROW_COUNT_MAX)break;b++}}S-=b+1,g[2]=new Ce(N[0],S),g[3]=new Ce(N[1],S)}return S-c<Ve.BARCODE_MIN_HEIGHT&&B.fill(g,null),g}static findGuardPattern(i,o,a,c,d,f,g){B.fillWithin(g,0,g.length,0);let y=o,E=0;for(;i.get(y,a)&&y>0&&E++<Ve.MAX_PIXEL_DRIFT;)y--;let S=y,b=0,N=f.length;for(let P=d;S<c;S++)if(i.get(S,a)!==P)g[b]++;else{if(b===N-1){if(Ve.patternMatchVariance(g,f,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([y,S]);y+=g[0]+g[1],V.arraycopy(g,2,g,0,b-1),g[b-1]=0,g[b]=0,b--}else b++;g[b]=1,P=!P}return b===N-1&&Ve.patternMatchVariance(g,f,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([y,S-1]):null}static patternMatchVariance(i,o,a){let c=i.length,d=0,f=0;for(let E=0;E<c;E++)d+=i[E],f+=o[E];if(d<f)return 1/0;let g=d/f;a*=g;let y=0;for(let E=0;E<c;E++){let S=i[E],b=o[E]*g,N=S>b?S-b:b-S;if(N>a)return 1/0;y+=N}return y/d}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class un{constructor(i,o){if(o.length===0)throw new I;this.field=i;let a=o.length;if(a>1&&o[0]===0){let c=1;for(;c<a&&o[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),V.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let o=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)o=this.field.add(this.field.multiply(i,o),this.coefficients[c]);return o}add(i){if(!this.field.equals(i.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){let f=o;o=a,a=f}let c=new Int32Array(a.length),d=a.length-o.length;V.arraycopy(a,0,c,0,d);for(let f=d;f<a.length;f++)c[f]=this.field.add(o[f-d],a[f]);return new un(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new I("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof un?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new un(this.field,new Int32Array([0]));let o=this.coefficients,a=o.length,c=i.coefficients,d=c.length,f=new Int32Array(a+d-1);for(let g=0;g<a;g++){let y=o[g];for(let E=0;E<d;E++)f[g+E]=this.field.add(f[g+E],this.field.multiply(y,c[E]))}return new un(this.field,f)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.subtract(0,this.coefficients[a]);return new un(this.field,o)}multiplyScalar(i){if(i===0)return new un(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,a=new Int32Array(o);for(let c=0;c<o;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new un(this.field,a)}multiplyByMonomial(i,o){if(i<0)throw new I;if(o===0)return new un(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+i);for(let d=0;d<a;d++)c[d]=this.field.multiply(this.coefficients[d],o);return new un(this.field,c)}toString(){let i=new Je;for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(o===0||a!==1)&&i.append(a),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class Na{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new I;return this.logTable[i]}inverse(i){if(i===0)throw new Mi;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class $i extends Na{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let c=0;c<i;c++)this.expTable[c]=a,a=a*o%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new un(this,new Int32Array([0])),this.one=new un(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new I;if(o===0)return this.zero;let a=new Int32Array(i+1);return a[0]=o,new un(this,a)}}$i.PDF417_GF=new $i(ye.NUMBER_OF_CODEWORDS,3);class As{constructor(){this.field=$i.PDF417_GF}decode(i,o,a){let c=new un(this.field,i),d=new Int32Array(o),f=!1;for(let z=o;z>0;z--){let U=c.evaluateAt(this.field.exp(z));d[o-z]=U,U!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(a!=null)for(const z of a){let U=this.field.exp(i.length-1-z),j=new un(this.field,new Int32Array([this.field.subtract(0,U),1]));g=g.multiply(j)}let y=new un(this.field,d),E=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),y,o),S=E[0],b=E[1],N=this.findErrorLocations(S),P=this.findErrorMagnitudes(b,S,N);for(let z=0;z<N.length;z++){let U=i.length-1-this.field.log(N[z]);if(U<0)throw W.getChecksumInstance();i[U]=this.field.subtract(i[U],P[z])}return N.length}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){let N=i;i=o,o=N}let c=i,d=o,f=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(a/2);){let N=c,P=f;if(c=d,f=g,c.isZero())throw W.getChecksumInstance();d=N;let z=this.field.getZero(),U=c.getCoefficient(c.getDegree()),j=this.field.inverse(U);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let Q=d.getDegree()-c.getDegree(),ue=this.field.multiply(d.getCoefficient(d.getDegree()),j);z=z.add(this.field.buildMonomial(Q,ue)),d=d.subtract(c.multiplyByMonomial(Q,ue))}g=z.multiply(f).subtract(P).negative()}let y=g.getCoefficient(0);if(y===0)throw W.getChecksumInstance();let E=this.field.inverse(y),S=g.multiply(E),b=d.multiply(E);return[S,b]}findErrorLocations(i){let o=i.getDegree(),a=new Int32Array(o),c=0;for(let d=1;d<this.field.getSize()&&c<o;d++)i.evaluateAt(d)===0&&(a[c]=this.field.inverse(d),c++);if(c!==o)throw W.getChecksumInstance();return a}findErrorMagnitudes(i,o,a){let c=o.getDegree(),d=new Int32Array(c);for(let E=1;E<=c;E++)d[c-E]=this.field.multiply(E,o.getCoefficient(E));let f=new un(this.field,d),g=a.length,y=new Int32Array(g);for(let E=0;E<g;E++){let S=this.field.inverse(a[E]),b=this.field.subtract(0,i.evaluateAt(S)),N=this.field.inverse(f.evaluateAt(S));y[E]=this.field.multiply(b,N)}return y}}class yi{constructor(i,o,a,c,d){i instanceof yi?this.constructor_2(i):this.constructor_1(i,o,a,c,d)}constructor_1(i,o,a,c,d){const f=o==null||a==null,g=c==null||d==null;if(f&&g)throw new ee;f?(o=new Ce(0,c.getY()),a=new Ce(0,d.getY())):g&&(c=new Ce(i.getWidth()-1,o.getY()),d=new Ce(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=o,this.bottomLeft=a,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),d.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new yi(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,a){let c=this.topLeft,d=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(i>0){let y=a?this.topLeft:this.topRight,E=Math.trunc(y.getY()-i);E<0&&(E=0);let S=new Ce(y.getX(),E);a?c=S:f=S}if(o>0){let y=a?this.bottomLeft:this.bottomRight,E=Math.trunc(y.getY()+o);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let S=new Ce(y.getX(),E);a?d=S:g=S}return new yi(this.image,c,d,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yn{constructor(i,o,a,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=a,this.rowCount=o+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class xi{constructor(){this.buffer=""}static form(i,o){let a=-1;function c(f,g,y,E,S,b){if(f==="%%")return"%";if(o[++a]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let N=S?parseInt(S.substr(1)):void 0,P;switch(b){case"s":P=o[a];break;case"c":P=o[a][0];break;case"f":P=parseFloat(o[a]).toFixed(f);break;case"p":P=parseFloat(o[a]).toPrecision(f);break;case"e":P=parseFloat(o[a]).toExponential(f);break;case"x":P=parseInt(o[a]).toString(N||16);break;case"d":P=parseFloat(parseInt(o[a],N||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(N);let z=parseInt(y),U=y&&y[0]+""=="0"?"0":" ";for(;P.length<z;)P=g!==void 0?P+U:U+P;return P}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,c)}format(i,...o){this.buffer+=xi.form(i,o)}toString(){return this.buffer}}class oo{constructor(i){this.boundingBox=new yi(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let a=1;a<oo.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(i)-a;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(i)+a,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new xi;let o=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,a.getRowNumber(),a.getValue())}return i.toString()}}oo.MAX_NEARBY_DISTANCE=5;class so{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[a,c]of this.values.entries()){const d={getKey:()=>a,getValue:()=>c};d.getValue()>i?(i=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===i&&o.push(d.getKey())}return ye.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class ic extends oo{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,E=1,S=0;for(let b=f;b<g;b++){if(o[b]==null)continue;let N=o[b],P=N.getRowNumber()-y;if(P===0)S++;else if(P===1)E=Math.max(E,S),S=1,y=N.getRowNumber();else if(P<0||N.getRowNumber()>=i.getRowCount()||P>b)o[b]=null;else{let z;E>2?z=(E-2)*P:z=P;let U=z>=b;for(let j=1;j<=z&&!U;j++)U=o[b-j]!=null;U?o[b]=null:(y=N.getRowNumber(),S=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),y=-1;for(let E=d;E<f;E++){if(g[E]==null)continue;let S=g[E];S.setRowNumberAsRowIndicatorColumn();let b=S.getRowNumber()-y;b===0||(b===1?y=S.getRowNumber():S.getRowNumber()>=i.getRowCount()?g[E]=null:y=S.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new so,a=new so,c=new so,d=new so;for(let g of i){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,E=g.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:a.setValue(y*3+1);break;case 1:d.setValue(y/3),c.setValue(y%3);break;case 2:o.setValue(y+1);break}}if(o.getValue().length===0||a.getValue().length===0||c.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<ye.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>ye.MAX_ROWS_IN_BARCODE)return null;let f=new yn(o.getValue()[0],a.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(i,f),f}removeIncorrectCodewords(i,o){for(let a=0;a<i.length;a++){let c=i[a];if(i[a]==null)continue;let d=c.getValue()%30,f=c.getRowNumber();if(f>o.getRowCount()){i[a]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(i[a]=null);break;case 2:d+1!==o.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ao{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=ye.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let a=this.detectionResultColumns[o].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&o[a]!=null&&i[a].getRowNumber()===o[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[a];d!=null&&(d.setRowNumber(i[a].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let c=o[a].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[a];g!=null&&(d=ao.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let c=o[a].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[a];g!=null&&(d=ao.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,a){if(!this.detectionResultColumns[i-1])return;let c=a[o],d=this.detectionResultColumns[i-1].getCodewords(),f=d;this.detectionResultColumns[i+1]!=null&&(f=this.detectionResultColumns[i+1].getCodewords());let g=new Array(14);g[2]=d[o],g[3]=f[o],o>0&&(g[0]=a[o-1],g[4]=d[o-1],g[5]=f[o-1]),o>1&&(g[8]=a[o-2],g[10]=d[o-2],g[11]=f[o-2]),o<a.length-1&&(g[1]=a[o+1],g[6]=d[o+1],g[7]=f[o+1]),o<a.length-2&&(g[9]=a[o+2],g[12]=d[o+2],g[13]=f[o+2]);for(let y of g)if(ao.adjustRowNumber(c,y))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new xi;for(let a=0;a<i.getCodewords().length;a++){o.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[a];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Pr{constructor(i,o,a,c){this.rowNumber=Pr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Pr.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Pr.BARCODE_ROW_UNKNOWN=-1;class zn{static initialize(){for(let i=0;i<ye.SYMBOL_TABLE.length;i++){let o=ye.SYMBOL_TABLE[i],a=o&1;for(let c=0;c<ye.BARS_IN_MODULE;c++){let d=0;for(;(o&1)===a;)d+=1,o>>=1;a=o&1,zn.RATIOS_TABLE[i]||(zn.RATIOS_TABLE[i]=new Array(ye.BARS_IN_MODULE)),zn.RATIOS_TABLE[i][ye.BARS_IN_MODULE-c-1]=Math.fround(d/ye.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=zn.getDecodedCodewordValue(zn.sampleBitCounts(i));return o!==-1?o:zn.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=rt.sum(i),a=new Int32Array(ye.BARS_IN_MODULE),c=0,d=0;for(let f=0;f<ye.MODULES_IN_CODEWORD;f++){let g=o/(2*ye.MODULES_IN_CODEWORD)+f*o/ye.MODULES_IN_CODEWORD;d+i[c]<=g&&(d+=i[c],c++),a[c]++}return a}static getDecodedCodewordValue(i){let o=zn.getBitValue(i);return ye.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let a=0;a<i.length;a++)for(let c=0;c<i[a];c++)o=o<<1|(a%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=rt.sum(i),a=new Array(ye.BARS_IN_MODULE);if(o>1)for(let f=0;f<a.length;f++)a[f]=Math.fround(i[f]/o);let c=Rr.MAX_VALUE,d=-1;this.bSymbolTableReady||zn.initialize();for(let f=0;f<zn.RATIOS_TABLE.length;f++){let g=0,y=zn.RATIOS_TABLE[f];for(let E=0;E<ye.BARS_IN_MODULE;E++){let S=Math.fround(y[E]-a[E]);if(g+=Math.fround(S*S),g>=c)break}g<c&&(c=g,d=ye.SYMBOL_TABLE[f])}return d}}zn.bSymbolTableReady=!1,zn.RATIOS_TABLE=new Array(ye.SYMBOL_TABLE.length).map(T=>new Array(ye.BARS_IN_MODULE));class Ma{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class st{static parseLong(i,o=void 0){return parseInt(i,o)}}class rc extends x{}rc.kind="NullPointerException";class Ei{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,a){if(i==null)throw new rc;if(o<0||o>i.length||a<0||o+a>i.length||o+a<0)throw new me;if(a===0)return;for(let c=0;c<a;c++)this.write(i[o+c])}flush(){}close(){}}class Qo extends x{}class oc extends Ei{constructor(i=32){if(super(),this.count=0,i<0)throw new I("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Qo;a=k.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,a){if(o<0||o>i.length||a<0||o+a-i.length>0)throw new me;this.ensureCapacity(this.count+a),V.arraycopy(i,o,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var At;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(At||(At={}));function Is(){if(typeof window<"u")return window.BigInt||null;if(typeof Os<"u")return Os.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ts;function Ji(T){if(typeof Ts>"u"&&(Ts=Is()),Ts===null)throw new Error("BigInt is not supported!");return Ts(T)}function cd(){let T=[];T[0]=Ji(1);let i=Ji(900);T[1]=i;for(let o=2;o<16;o++)T[o]=T[o-1]*i;return T}class K{static decode(i,o){let a=new Je(""),c=te.ISO8859_1;a.enableDecoding(c);let d=1,f=i[d++],g=new Ma;for(;d<i[0];){switch(f){case K.TEXT_COMPACTION_MODE_LATCH:d=K.textCompaction(i,d,a);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:d=K.byteCompaction(f,i,c,d,a);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:d=K.numericCompaction(i,d,a);break;case K.ECI_CHARSET:te.getCharacterSetECIByValue(i[d++]);break;case K.ECI_GENERAL_PURPOSE:d+=2;break;case K.ECI_USER_DEFINED:d++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=K.decodeMacroBlock(i,d,g);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new q;default:d--,d=K.textCompaction(i,d,a);break}if(d<i.length)f=i[d++];else throw q.getFormatInstance()}if(a.length()===0)throw q.getFormatInstance();let y=new gr(null,a.toString(),null,o);return y.setOther(g),y}static decodeMacroBlock(i,o,a){if(o+K.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw q.getFormatInstance();let c=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<K.NUMBER_OF_SEQUENCE_CODEWORDS;g++,o++)c[g]=i[o];a.setSegmentIndex(k.parseInt(K.decodeBase900toBase10(c,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new Je;o=K.textCompaction(i,o,d),a.setFileId(d.toString());let f=-1;for(i[o]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<i[0];)switch(i[o]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Je;o=K.textCompaction(i,o+1,g),a.setFileName(g.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new Je;o=K.textCompaction(i,o+1,y),a.setSender(y.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new Je;o=K.textCompaction(i,o+1,E),a.setAddressee(E.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new Je;o=K.numericCompaction(i,o+1,S),a.setSegmentCount(k.parseInt(S.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new Je;o=K.numericCompaction(i,o+1,b),a.setTimestamp(st.parseLong(b.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new Je;o=K.numericCompaction(i,o+1,N),a.setChecksum(k.parseInt(N.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new Je;o=K.numericCompaction(i,o+1,P),a.setFileSize(st.parseLong(P.toString()));break;default:throw q.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:o++,a.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(f!==-1){let g=o-f;a.isLastSegment()&&g--,a.setOptionalData(B.copyOfRange(i,f,f+g))}return o}static textCompaction(i,o,a){let c=new Int32Array((i[0]-o)*2),d=new Int32Array((i[0]-o)*2),f=0,g=!1;for(;o<i[0]&&!g;){let y=i[o++];if(y<K.TEXT_COMPACTION_MODE_LATCH)c[f]=y/30,c[f+1]=y%30,f+=2;else switch(y){case K.TEXT_COMPACTION_MODE_LATCH:c[f++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:o--,g=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=i[o++],d[f]=y,f++;break}}return K.decodeTextCompaction(c,d,f,a),o}static decodeTextCompaction(i,o,a,c){let d=At.ALPHA,f=At.ALPHA,g=0;for(;g<a;){let y=i[g],E="";switch(d){case At.ALPHA:if(y<26)E=String.fromCharCode(65+y);else switch(y){case 26:E=" ";break;case K.LL:d=At.LOWER;break;case K.ML:d=At.MIXED;break;case K.PS:f=d,d=At.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=At.ALPHA;break}break;case At.LOWER:if(y<26)E=String.fromCharCode(97+y);else switch(y){case 26:E=" ";break;case K.AS:f=d,d=At.ALPHA_SHIFT;break;case K.ML:d=At.MIXED;break;case K.PS:f=d,d=At.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=At.ALPHA;break}break;case At.MIXED:if(y<K.PL)E=K.MIXED_CHARS[y];else switch(y){case K.PL:d=At.PUNCT;break;case 26:E=" ";break;case K.LL:d=At.LOWER;break;case K.AL:d=At.ALPHA;break;case K.PS:f=d,d=At.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=At.ALPHA;break}break;case At.PUNCT:if(y<K.PAL)E=K.PUNCT_CHARS[y];else switch(y){case K.PAL:d=At.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=At.ALPHA;break}break;case At.ALPHA_SHIFT:if(d=f,y<26)E=String.fromCharCode(65+y);else switch(y){case 26:E=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:d=At.ALPHA;break}break;case At.PUNCT_SHIFT:if(d=f,y<K.PAL)E=K.PUNCT_CHARS[y];else switch(y){case K.PAL:d=At.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=At.ALPHA;break}break}E!==""&&c.append(E),g++}}static byteCompaction(i,o,a,c,d){let f=new oc,g=0,y=0,E=!1;switch(i){case K.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),b=o[c++];for(;c<o[0]&&!E;)switch(S[g++]=b,y=900*y+b,b=o[c++],b){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:c--,E=!0;break;default:if(g%5===0&&g>0){for(let N=0;N<6;++N)f.write(Number(Ji(y)>>Ji(8*(5-N))));y=0,g=0}break}c===o[0]&&b<K.TEXT_COMPACTION_MODE_LATCH&&(S[g++]=b);for(let N=0;N<g;N++)f.write(S[N]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!E;){let N=o[c++];if(N<K.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+N;else switch(N){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:c--,E=!0;break}if(g%5===0&&g>0){for(let P=0;P<6;++P)f.write(Number(Ji(y)>>Ji(8*(5-P))));y=0,g=0}}break}return d.append(Ge.decode(f.toByteArray(),a)),c}static numericCompaction(i,o,a){let c=0,d=!1,f=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!d;){let g=i[o++];if(o===i[0]&&(d=!0),g<K.TEXT_COMPACTION_MODE_LATCH)f[c]=g,c++;else switch(g){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(c%K.MAX_NUMERIC_CODEWORDS===0||g===K.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(a.append(K.decodeBase900toBase10(f,c)),c=0)}return o}static decodeBase900toBase10(i,o){let a=Ji(0);for(let d=0;d<o;d++)a+=K.EXP900[o-d-1]*Ji(i[d]);let c=a.toString();if(c.charAt(0)!=="1")throw new q;return c.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=Is()?cd():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ze{constructor(){}static decode(i,o,a,c,d,f,g){let y=new yi(i,o,a,c,d),E=null,S=null,b;for(let z=!0;;z=!1){if(o!=null&&(E=Ze.getRowIndicatorColumn(i,y,o,!0,f,g)),c!=null&&(S=Ze.getRowIndicatorColumn(i,y,c,!1,f,g)),b=Ze.merge(E,S),b==null)throw ee.getNotFoundInstance();let U=b.getBoundingBox();if(z&&U!=null&&(U.getMinY()<y.getMinY()||U.getMaxY()>y.getMaxY()))y=U;else break}b.setBoundingBox(y);let N=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,E),b.setDetectionResultColumn(N,S);let P=E!=null;for(let z=1;z<=N;z++){let U=P?z:N-z;if(b.getDetectionResultColumn(U)!==void 0)continue;let j;U===0||U===N?j=new ic(y,U===0):j=new oo(y),b.setDetectionResultColumn(U,j);let Q=-1,ue=Q;for(let de=y.getMinY();de<=y.getMaxY();de++){if(Q=Ze.getStartColumn(b,U,de,P),Q<0||Q>y.getMaxX()){if(ue===-1)continue;Q=ue}let oe=Ze.detectCodeword(i,y.getMinX(),y.getMaxX(),P,Q,de,f,g);oe!=null&&(j.setCodeword(de,oe),ue=Q,f=Math.min(f,oe.getWidth()),g=Math.max(g,oe.getWidth()))}}return Ze.createDecoderResult(b)}static merge(i,o){if(i==null&&o==null)return null;let a=Ze.getBarcodeMetadata(i,o);if(a==null)return null;let c=yi.merge(Ze.adjustBoundingBox(i),Ze.adjustBoundingBox(o));return new ao(a,c)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let a=Ze.getMax(o),c=0;for(let g of o)if(c+=a-g,g>0)break;let d=i.getCodewords();for(let g=0;c>0&&d[g]==null;g++)c--;let f=0;for(let g=o.length-1;g>=0&&(f+=a-o[g],!(o[g]>0));g--);for(let g=d.length-1;f>0&&d[g]==null;g--)f--;return i.getBoundingBox().addMissingRows(c,f,i.isLeft())}static getMax(i){let o=-1;for(let a of i)o=Math.max(o,a);return o}static getBarcodeMetadata(i,o){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(i,o,a,c,d,f){let g=new ic(o,c);for(let y=0;y<2;y++){let E=y===0?1:-1,S=Math.trunc(Math.trunc(a.getX()));for(let b=Math.trunc(Math.trunc(a.getY()));b<=o.getMaxY()&&b>=o.getMinY();b+=E){let N=Ze.detectCodeword(i,0,i.getWidth(),c,S,b,d,f);N!=null&&(g.setCodeword(b,N),c?S=N.getStartX():S=N.getEndX())}}return g}static adjustCodewordCount(i,o){let a=o[0][1],c=a.getValue(),d=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Ze.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(d<1||d>ye.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();a.setValue(d)}else c[0]!==d&&a.setValue(d)}static createDecoderResult(i){let o=Ze.createBarcodeMatrix(i);Ze.adjustCodewordCount(i,o);let a=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<i.getBarcodeRowCount();y++)for(let E=0;E<i.getBarcodeColumnCount();E++){let S=o[y][E+1].getValue(),b=y*i.getBarcodeColumnCount()+E;S.length===0?a.push(b):S.length===1?c[b]=S[0]:(f.push(b),d.push(S))}let g=new Array(d.length);for(let y=0;y<g.length;y++)g[y]=d[y];return Ze.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,ye.toIntArray(a),ye.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(i,o,a,c,d){let f=new Int32Array(c.length),g=100;for(;g-- >0;){for(let y=0;y<f.length;y++)o[c[y]]=d[y][f[y]];try{return Ze.decodeCodewords(o,i,a)}catch(y){if(!(y instanceof W))throw y}if(f.length===0)throw W.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<d[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let d=0;d<o[c].length;d++)o[c][d]=new so;let a=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let d of c.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][a].setValue(d.getValue())}}}a++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,a,c){let d=c?1:-1,f=null;if(Ze.isValidBarcodeColumn(i,o-d)&&(f=i.getDetectionResultColumn(o-d).getCodeword(a)),f!=null)return c?f.getEndX():f.getStartX();if(f=i.getDetectionResultColumn(o).getCodewordNearby(a),f!=null)return c?f.getStartX():f.getEndX();if(Ze.isValidBarcodeColumn(i,o-d)&&(f=i.getDetectionResultColumn(o-d).getCodewordNearby(a)),f!=null)return c?f.getEndX():f.getStartX();let g=0;for(;Ze.isValidBarcodeColumn(i,o-d);){o-=d;for(let y of i.getDetectionResultColumn(o).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+d*g*(y.getEndX()-y.getStartX());g++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,a,c,d,f,g,y){d=Ze.adjustCodewordStartColumn(i,o,a,c,d,f);let E=Ze.getModuleBitCount(i,o,a,c,d,f);if(E==null)return null;let S,b=rt.sum(E);if(c)S=d+b;else{for(let z=0;z<E.length/2;z++){let U=E[z];E[z]=E[E.length-1-z],E[E.length-1-z]=U}S=d,d=S-b}if(!Ze.checkCodewordSkew(b,g,y))return null;let N=zn.getDecodedValue(E),P=ye.getCodeword(N);return P===-1?null:new Pr(d,S,Ze.getCodewordBucketNumber(N),P)}static getModuleBitCount(i,o,a,c,d,f){let g=d,y=new Int32Array(8),E=0,S=c?1:-1,b=c;for(;(c?g<a:g>=o)&&E<y.length;)i.get(g,f)===b?(y[E]++,g+=S):(E++,b=!b);return E===y.length||g===(c?a:o)&&E===y.length-1?y:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,a,c,d,f){let g=d,y=c?-1:1;for(let E=0;E<2;E++){for(;(c?g>=o:g<a)&&c===i.get(g,f);){if(Math.abs(d-g)>Ze.CODEWORD_SKEW_SIZE)return d;g+=y}y=-y,c=!c}return g}static checkCodewordSkew(i,o,a){return o-Ze.CODEWORD_SKEW_SIZE<=i&&i<=a+Ze.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,a){if(i.length===0)throw q.getFormatInstance();let c=1<<o+1,d=Ze.correctErrors(i,a,c);Ze.verifyCodewordCount(i,c);let f=K.decode(i,""+o);return f.setErrorsCorrected(d),f.setErasures(a.length),f}static correctErrors(i,o,a){if(o!=null&&o.length>a/2+Ze.MAX_ERRORS||a<0||a>Ze.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return Ze.errorCorrection.decode(i,a,o)}static verifyCodewordCount(i,o){if(i.length<4)throw q.getFormatInstance();let a=i[0];if(a>i.length)throw q.getFormatInstance();if(a===0)if(o<i.length)i[0]=i.length-o;else throw q.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),a=0,c=o.length-1;for(;!((i&1)!==a&&(a=i&1,c--,c<0));)o[c]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Ze.getCodewordBucketNumber(Ze.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new xi;for(let a=0;a<i.length;a++){o.format("Row %2d: ",a);for(let c=0;c<i[a].length;c++){let d=i[a][c];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}Ze.CODEWORD_SKEW_SIZE=2,Ze.MAX_ERRORS=3,Ze.MAX_EC_CODEWORDS=512,Ze.errorCorrection=new As;class xn{decode(i,o=null){let a=xn.decode(i,o,!1);if(a==null||a.length===0||a[0]==null)throw ee.getNotFoundInstance();return a[0]}decodeMultiple(i,o=null){try{return xn.decode(i,o,!0)}catch(a){throw a instanceof q||a instanceof W?ee.getNotFoundInstance():a}}static decode(i,o,a){const c=new Array,d=Ve.detectMultiple(i,o,a);for(const f of d.getPoints()){const g=Ze.decode(d.getBits(),f[4],f[5],f[6],f[7],xn.getMinCodewordWidth(f),xn.getMaxCodewordWidth(f)),y=new Ue(g.getText(),g.getRawBytes(),void 0,f,ae.PDF_417);y.putMetadata(Tt.ERROR_CORRECTION_LEVEL,g.getECLevel());const E=g.getOther();E!=null&&y.putMetadata(Tt.PDF417_EXTRA_METADATA,E),c.push(y)}return c.map(f=>f)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?k.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(xn.getMaxWidth(i[0],i[4]),xn.getMaxWidth(i[6],i[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.max(xn.getMaxWidth(i[1],i[5]),xn.getMaxWidth(i[7],i[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(xn.getMinWidth(i[0],i[4]),xn.getMinWidth(i[6],i[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.min(xn.getMinWidth(i[1],i[5]),xn.getMinWidth(i[7],i[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}reset(){}}class Jn extends x{}Jn.kind="ReaderException";class sc{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(ce.TRY_HARDER)===!0,a=r(i)?null:i.get(ce.POSSIBLE_FORMATS),c=new Array;if(!r(a)){const d=a.some(f=>f===ae.UPC_A||f===ae.UPC_E||f===ae.EAN_13||f===ae.EAN_8||f===ae.CODABAR||f===ae.CODE_39||f===ae.CODE_93||f===ae.CODE_128||f===ae.ITF||f===ae.RSS_14||f===ae.RSS_EXPANDED);d&&!o&&c.push(new yr(i,this.verbose)),a.includes(ae.QR_CODE)&&c.push(new _n),a.includes(ae.DATA_MATRIX)&&c.push(new St),a.includes(ae.AZTEC)&&c.push(new mt),a.includes(ae.PDF_417)&&c.push(new xn),d&&o&&c.push(new yr(i,this.verbose))}c.length===0&&(o||c.push(new yr(i,this.verbose)),c.push(new _n),c.push(new St),c.push(new mt),c.push(new xn),o&&c.push(new yr(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Jn("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(a){if(a instanceof Jn)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class ac extends It{constructor(i=null,o=500){const a=new sc;a.setHints(i),super(a,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class xr extends It{constructor(i=500){super(new xn,i)}}class lc extends It{constructor(i=500){super(new _n,i)}}var bs;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(bs||(bs={}));var Jt=bs;class La{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new ln(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let a=o[o.length-1];const c=this.field;for(let d=o.length;d<=i;d++){const f=a.multiply(new ln(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));o.push(f),a=f}}return o[i]}encode(i,o){if(o===0)throw new I("No error correction bytes");const a=i.length-o;if(a<=0)throw new I("No data bytes provided");const c=this.buildGenerator(o),d=new Int32Array(a);V.arraycopy(i,0,d,0,a);let f=new ln(this.field,d);f=f.multiplyByMonomial(o,1);const y=f.divide(c)[1].getCoefficients(),E=o-y.length;for(let S=0;S<E;S++)i[a+S]=0;V.arraycopy(y,0,i,a+E,y.length)}}class Vt{constructor(){}static applyMaskPenaltyRule1(i){return Vt.applyMaskPenaltyRule1Internal(i,!0)+Vt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const a=i.getArray(),c=i.getWidth(),d=i.getHeight();for(let f=0;f<d-1;f++){const g=a[f];for(let y=0;y<c-1;y++){const E=g[y];E===g[y+1]&&E===a[f+1][y]&&E===a[f+1][y+1]&&o++}}return Vt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const a=i.getArray(),c=i.getWidth(),d=i.getHeight();for(let f=0;f<d;f++)for(let g=0;g<c;g++){const y=a[f];g+6<c&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Vt.isWhiteHorizontal(y,g-4,g)||Vt.isWhiteHorizontal(y,g+7,g+11))&&o++,f+6<d&&a[f][g]===1&&a[f+1][g]===0&&a[f+2][g]===1&&a[f+3][g]===1&&a[f+4][g]===1&&a[f+5][g]===0&&a[f+6][g]===1&&(Vt.isWhiteVertical(a,g,f-4,f)||Vt.isWhiteVertical(a,g,f+7,f+11))&&o++}return o*Vt.N3}static isWhiteHorizontal(i,o,a){o=Math.max(o,0),a=Math.min(a,i.length);for(let c=o;c<a;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,o,a,c){a=Math.max(a,0),c=Math.min(c,i.length);for(let d=a;d<c;d++)if(i[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const a=i.getArray(),c=i.getWidth(),d=i.getHeight();for(let y=0;y<d;y++){const E=a[y];for(let S=0;S<c;S++)E[S]===1&&o++}const f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*Vt.N4}static getDataMaskBit(i,o,a){let c,d;switch(i){case 0:c=a+o&1;break;case 1:c=a&1;break;case 2:c=o%3;break;case 3:c=(a+o)%3;break;case 4:c=Math.floor(a/2)+Math.floor(o/3)&1;break;case 5:d=a*o,c=(d&1)+d%3;break;case 6:d=a*o,c=(d&1)+d%3&1;break;case 7:d=a*o,c=d%3+(a+o&1)&1;break;default:throw new I("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,o){let a=0;const c=o?i.getHeight():i.getWidth(),d=o?i.getWidth():i.getHeight(),f=i.getArray();for(let g=0;g<c;g++){let y=0,E=-1;for(let S=0;S<d;S++){const b=o?f[g][S]:f[S][g];b===E?y++:(y>=5&&(a+=Vt.N1+(y-5)),y=1,E=b)}y>=5&&(a+=Vt.N1+(y-5))}return a}}Vt.N1=3,Vt.N2=3,Vt.N3=40,Vt.N4=10;class Ko{constructor(i,o){this.width=i,this.height=o;const a=new Array(o);for(let c=0;c!==o;c++)a[c]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,a){this.bytes[o][i]=a}setBoolean(i,o,a){this.bytes[o][i]=a?1:0}clear(i){for(const o of this.bytes)B.fill(o,i)}equals(i){if(!(i instanceof Ko))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let a=0,c=this.height;a<c;++a){const d=this.bytes[a],f=o.bytes[a];for(let g=0,y=this.width;g<y;++g)if(d[g]!==f[g])return!1}return!0}toString(){const i=new Je;for(let o=0,a=this.height;o<a;++o){const c=this.bytes[o];for(let d=0,f=this.width;d<f;++d)switch(c[d]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Br{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new Je;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Br.NUM_MASK_PATTERNS}}Br.NUM_MASK_PATTERNS=8;class bt extends x{}bt.kind="WriterException";class Me{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,a,c,d){Me.clearMatrix(d),Me.embedBasicPatterns(a,d),Me.embedTypeInfo(o,c,d),Me.maybeEmbedVersionInfo(a,d),Me.embedDataBits(i,c,d)}static embedBasicPatterns(i,o){Me.embedPositionDetectionPatternsAndSeparators(o),Me.embedDarkDotAtLeftBottomCorner(o),Me.maybeEmbedPositionAdjustmentPatterns(i,o),Me.embedTimingPatterns(o)}static embedTypeInfo(i,o,a){const c=new J;Me.makeTypeInfoBits(i,o,c);for(let d=0,f=c.getSize();d<f;++d){const g=c.get(c.getSize()-1-d),y=Me.TYPE_INFO_COORDINATES[d],E=y[0],S=y[1];if(a.setBoolean(E,S,g),d<8){const b=a.getWidth()-d-1;a.setBoolean(b,8,g)}else{const N=a.getHeight()-7+(d-8);a.setBoolean(8,N,g)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const a=new J;Me.makeVersionInfoBits(i,a);let c=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const g=a.get(c);c--,o.setBoolean(d,o.getHeight()-11+f,g),o.setBoolean(o.getHeight()-11+f,d,g)}}static embedDataBits(i,o,a){let c=0,d=-1,f=a.getWidth()-1,g=a.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<a.getHeight();){for(let y=0;y<2;++y){const E=f-y;if(!Me.isEmpty(a.get(E,g)))continue;let S;c<i.getSize()?(S=i.get(c),++c):S=!1,o!==255&&Vt.getDataMaskBit(o,E,g)&&(S=!S),a.setBoolean(E,g,S)}g+=d}d=-d,g+=d,f-=2}if(c!==i.getSize())throw new bt("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-k.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new I("0 polynomial");const a=Me.findMSBSet(o);for(i<<=a-1;Me.findMSBSet(i)>=a;)i^=o<<Me.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,o,a){if(!Br.isValidMaskPattern(o))throw new bt("Invalid mask pattern");const c=i.getBits()<<3|o;a.appendBits(c,5);const d=Me.calculateBCHCode(c,Me.TYPE_INFO_POLY);a.appendBits(d,10);const f=new J;if(f.appendBits(Me.TYPE_INFO_MASK_PATTERN,15),a.xor(f),a.getSize()!==15)throw new bt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const a=Me.calculateBCHCode(i.getVersionNumber(),Me.VERSION_INFO_POLY);if(o.appendBits(a,12),o.getSize()!==18)throw new bt("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const a=(o+1)%2;Me.isEmpty(i.get(o,6))&&i.setNumber(o,6,a),Me.isEmpty(i.get(6,o))&&i.setNumber(6,o,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new bt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,a){for(let c=0;c<8;++c){if(!Me.isEmpty(a.get(i+c,o)))throw new bt;a.setNumber(i+c,o,0)}}static embedVerticalSeparationPattern(i,o,a){for(let c=0;c<7;++c){if(!Me.isEmpty(a.get(i,o+c)))throw new bt;a.setNumber(i,o+c,0)}}static embedPositionAdjustmentPattern(i,o,a){for(let c=0;c<5;++c){const d=Me.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)a.setNumber(i+f,o+c,d[f])}}static embedPositionDetectionPattern(i,o,a){for(let c=0;c<7;++c){const d=Me.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)a.setNumber(i+f,o+c,d[f])}}static embedPositionDetectionPatternsAndSeparators(i){const o=Me.POSITION_DETECTION_PATTERN[0].length;Me.embedPositionDetectionPattern(0,0,i),Me.embedPositionDetectionPattern(i.getWidth()-o,0,i),Me.embedPositionDetectionPattern(0,i.getWidth()-o,i);const a=8;Me.embedHorizontalSeparationPattern(0,a-1,i),Me.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),Me.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const c=7;Me.embedVerticalSeparationPattern(c,0,i),Me.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),Me.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,c=Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let d=0,f=c.length;d!==f;d++){const g=c[d];if(g>=0)for(let y=0;y!==f;y++){const E=c[y];E>=0&&Me.isEmpty(o.get(E,g))&&Me.embedPositionAdjustmentPattern(E-2,g-2,o)}}}}Me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Me.VERSION_INFO_POLY=7973,Me.TYPE_INFO_POLY=1335,Me.TYPE_INFO_MASK_PATTERN=21522;class ud{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Mt{constructor(){}static calculateMaskPenalty(i){return Vt.applyMaskPenaltyRule1(i)+Vt.applyMaskPenaltyRule2(i)+Vt.applyMaskPenaltyRule3(i)+Vt.applyMaskPenaltyRule4(i)}static encode(i,o,a=null){let c=Mt.DEFAULT_BYTE_MODE_ENCODING;const d=a!==null&&a.get(Jt.CHARACTER_SET)!==void 0;d&&(c=a.get(Jt.CHARACTER_SET).toString());const f=this.chooseMode(i,c),g=new J;if(f===Re.BYTE&&(d||Mt.DEFAULT_BYTE_MODE_ENCODING!==c)){const de=te.getCharacterSetECIByName(c);de!==void 0&&this.appendECI(de,g)}this.appendModeInfo(f,g);const y=new J;this.appendBytes(i,f,y,c);let E;if(a!==null&&a.get(Jt.QR_VERSION)!==void 0){const de=Number.parseInt(a.get(Jt.QR_VERSION).toString(),10);E=_e.getVersionForNumber(de);const oe=this.calculateBitsNeeded(f,g,y,E);if(!this.willFit(oe,E,o))throw new bt("Data too big for requested version")}else E=this.recommendVersion(o,f,g,y);const S=new J;S.appendBitArray(g);const b=f===Re.BYTE?y.getSizeInBytes():i.length;this.appendLengthInfo(b,E,f,S),S.appendBitArray(y);const N=E.getECBlocksForLevel(o),P=E.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(P,S);const z=this.interleaveWithECBytes(S,E.getTotalCodewords(),P,N.getNumBlocks()),U=new Br;U.setECLevel(o),U.setMode(f),U.setVersion(E);const j=E.getDimensionForVersion(),Q=new Ko(j,j),ue=this.chooseMaskPattern(z,o,E,Q);return U.setMaskPattern(ue),Me.buildMatrix(z,o,E,ue,Q),U.setMatrix(Q),U}static recommendVersion(i,o,a,c){const d=this.calculateBitsNeeded(o,a,c,_e.getVersionForNumber(1)),f=this.chooseVersion(d,i),g=this.calculateBitsNeeded(o,a,c,f);return this.chooseVersion(g,i)}static calculateBitsNeeded(i,o,a,c){return o.getSize()+i.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(i){return i<Mt.ALPHANUMERIC_TABLE.length?Mt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(te.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return Re.KANJI;let a=!1,c=!1;for(let d=0,f=i.length;d<f;++d){const g=i.charAt(d);if(Mt.isDigit(g))a=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return Re.BYTE}return c?Re.ALPHANUMERIC:a?Re.NUMERIC:Re.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=Ge.encode(i,te.SJIS)}catch{return!1}const a=o.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const d=o[c]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(i,o,a,c){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<Br.NUM_MASK_PATTERNS;g++){Me.buildMatrix(i,o,a,g,c);let y=this.calculateMaskPenalty(c);y<d&&(d=y,f=g)}return f}static chooseVersion(i,o){for(let a=1;a<=40;a++){const c=_e.getVersionForNumber(a);if(Mt.willFit(i,c,o))return c}throw new bt("Data too big")}static willFit(i,o,a){const c=o.getTotalCodewords(),f=o.getECBlocksForLevel(a).getTotalECCodewords(),g=c-f,y=(i+7)/8;return g>=y}static terminateBits(i,o){const a=i*8;if(o.getSize()>a)throw new bt("data bits cannot fit in the QR Code"+o.getSize()+" > "+a);for(let f=0;f<4&&o.getSize()<a;++f)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let f=c;f<8;f++)o.appendBit(!1);const d=i-o.getSizeInBytes();for(let f=0;f<d;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==a)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,a,c,d,f){if(c>=a)throw new bt("Block ID too large");const g=i%a,y=a-g,E=Math.floor(i/a),S=E+1,b=Math.floor(o/a),N=b+1,P=E-b,z=S-N;if(P!==z)throw new bt("EC bytes mismatch");if(a!==y+g)throw new bt("RS blocks mismatch");if(i!==(b+P)*y+(N+z)*g)throw new bt("Total bytes mismatch");c<y?(d[0]=b,f[0]=P):(d[0]=N,f[0]=z)}static interleaveWithECBytes(i,o,a,c){if(i.getSizeInBytes()!==a)throw new bt("Number of bits and data bytes does not match");let d=0,f=0,g=0;const y=new Array;for(let S=0;S<c;++S){const b=new Int32Array(1),N=new Int32Array(1);Mt.getNumDataBytesAndNumECBytesForBlockID(o,a,c,S,b,N);const P=b[0],z=new Uint8Array(P);i.toBytes(8*d,z,0,P);const U=Mt.generateECBytes(z,N[0]);y.push(new ud(z,U)),f=Math.max(f,P),g=Math.max(g,U.length),d+=b[0]}if(a!==d)throw new bt("Data bytes does not match offset");const E=new J;for(let S=0;S<f;++S)for(const b of y){const N=b.getDataBytes();S<N.length&&E.appendBits(N[S],8)}for(let S=0;S<g;++S)for(const b of y){const N=b.getErrorCorrectionBytes();S<N.length&&E.appendBits(N[S],8)}if(o!==E.getSizeInBytes())throw new bt("Interleaving error: "+o+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(i,o){const a=i.length,c=new Int32Array(a+o);for(let f=0;f<a;f++)c[f]=i[f]&255;new La(it.QR_CODE_FIELD_256).encode(c,o);const d=new Uint8Array(o);for(let f=0;f<o;f++)d[f]=c[a+f];return d}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,a,c){const d=a.getCharacterCountBits(o);if(i>=1<<d)throw new bt(i+" is bigger than "+((1<<d)-1));c.appendBits(i,d)}static appendBytes(i,o,a,c){switch(o){case Re.NUMERIC:Mt.appendNumericBytes(i,a);break;case Re.ALPHANUMERIC:Mt.appendAlphanumericBytes(i,a);break;case Re.BYTE:Mt.append8BitBytes(i,a,c);break;case Re.KANJI:Mt.appendKanjiBytes(i,a);break;default:throw new bt("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=Mt.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const a=i.length;let c=0;for(;c<a;){const d=Mt.getDigit(i.charAt(c));if(c+2<a){const f=Mt.getDigit(i.charAt(c+1)),g=Mt.getDigit(i.charAt(c+2));o.appendBits(d*100+f*10+g,10),c+=3}else if(c+1<a){const f=Mt.getDigit(i.charAt(c+1));o.appendBits(d*10+f,7),c+=2}else o.appendBits(d,4),c++}}static appendAlphanumericBytes(i,o){const a=i.length;let c=0;for(;c<a;){const d=Mt.getAlphanumericCode(i.charCodeAt(c));if(d===-1)throw new bt;if(c+1<a){const f=Mt.getAlphanumericCode(i.charCodeAt(c+1));if(f===-1)throw new bt;o.appendBits(d*45+f,11),c+=2}else o.appendBits(d,6),c++}}static append8BitBytes(i,o,a){let c;try{c=Ge.encode(i,a)}catch(d){throw new bt(d)}for(let d=0,f=c.length;d!==f;d++){const g=c[d];o.appendBits(g,8)}}static appendKanjiBytes(i,o){let a;try{a=Ge.encode(i,te.SJIS)}catch(d){throw new bt(d)}const c=a.length;for(let d=0;d<c;d+=2){const f=a[d]&255,g=a[d+1]&255,y=f<<8&4294967295|g;let E=-1;if(y>=33088&&y<=40956?E=y-33088:y>=57408&&y<=60351&&(E=y-49472),E===-1)throw new bt("Invalid byte sequence");const S=(E>>8)*192+(E&255);o.appendBits(S,13)}}static appendECI(i,o){o.appendBits(Re.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}Mt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Mt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class Er{write(i,o,a,c=null){if(i.length===0)throw new I("Found empty contents");if(o<0||a<0)throw new I("Requested dimensions are too small: "+o+"x"+a);let d=qe.L,f=Er.QUIET_ZONE_SIZE;c!==null&&(c.get(Jt.ERROR_CORRECTION)!==void 0&&(d=qe.fromString(c.get(Jt.ERROR_CORRECTION).toString())),c.get(Jt.MARGIN)!==void 0&&(f=Number.parseInt(c.get(Jt.MARGIN).toString(),10)));const g=Mt.encode(i,d,c);return this.renderResult(g,o,a,f)}writeToDom(i,o,a,c,d=null){typeof i=="string"&&(i=document.querySelector(i));const f=this.write(o,a,c,d);i&&i.appendChild(f)}renderResult(i,o,a,c){const d=i.getMatrix();if(d===null)throw new Kn;const f=d.getWidth(),g=d.getHeight(),y=f+c*2,E=g+c*2,S=Math.max(o,y),b=Math.max(a,E),N=Math.min(Math.floor(S/y),Math.floor(b/E)),P=Math.floor((S-f*N)/2),z=Math.floor((b-g*N)/2),U=this.createSVGElement(S,b);for(let j=0,Q=z;j<g;j++,Q+=N)for(let ue=0,de=P;ue<f;ue++,de+=N)if(d.get(ue,j)===1){const oe=this.createSvgRectElement(de,Q,N,N);U.appendChild(oe)}return U}createSVGElement(i,o){const a=document.createElementNS(Er.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",o.toString()),a}createSvgRectElement(i,o,a,c){const d=document.createElementNS(Er.SVG_NS,"rect");return d.setAttributeNS(null,"x",i.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",a.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Er.QUIET_ZONE_SIZE=4,Er.SVG_NS="http://www.w3.org/2000/svg";class er{encode(i,o,a,c,d){if(i.length===0)throw new I("Found empty contents");if(o!==ae.QR_CODE)throw new I("Can only encode QR_CODE, but got "+o);if(a<0||c<0)throw new I(`Requested dimensions are too small: ${a}x${c}`);let f=qe.L,g=er.QUIET_ZONE_SIZE;d!==null&&(d.get(Jt.ERROR_CORRECTION)!==void 0&&(f=qe.fromString(d.get(Jt.ERROR_CORRECTION).toString())),d.get(Jt.MARGIN)!==void 0&&(g=Number.parseInt(d.get(Jt.MARGIN).toString(),10)));const y=Mt.encode(i,f,d);return er.renderResult(y,a,c,g)}static renderResult(i,o,a,c){const d=i.getMatrix();if(d===null)throw new Kn;const f=d.getWidth(),g=d.getHeight(),y=f+c*2,E=g+c*2,S=Math.max(o,y),b=Math.max(a,E),N=Math.min(Math.floor(S/y),Math.floor(b/E)),P=Math.floor((S-f*N)/2),z=Math.floor((b-g*N)/2),U=new Ye(S,b);for(let j=0,Q=z;j<g;j++,Q+=N)for(let ue=0,de=P;ue<f;ue++,de+=N)d.get(ue,j)===1&&U.setRegion(de,Q,N,N);return U}}er.QUIET_ZONE_SIZE=4;class kr{encode(i,o,a,c,d){let f;switch(o){case ae.QR_CODE:f=new er;break;default:throw new I("No encoder available for format "+o)}return f.encode(i,o,a,c,d)}}class Pi extends ne{constructor(i,o,a,c,d,f,g,y){if(super(f,g),this.yuvData=i,this.dataWidth=o,this.dataHeight=a,this.left=c,this.top=d,c+f>o||d+g>a)throw new I("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,g)}getRow(i,o){if(i<0||i>=this.getHeight())throw new I("Requested row is outside the image: "+i);const a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return V.arraycopy(this.yuvData,c,o,0,a),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const a=i*o,c=new Uint8ClampedArray(a);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return V.arraycopy(this.yuvData,d,c,0,a),c;for(let f=0;f<o;f++){const g=f*i;V.arraycopy(this.yuvData,d,c,g,i),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,o,a,c){return new Pi(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,a,c,!1)}renderThumbnail(){const i=this.getWidth()/Pi.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Pi.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*o),c=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const g=f*i;for(let y=0;y<i;y++){const E=c[d+y*Pi.THUMBNAIL_SCALE_FACTOR]&255;a[g+y]=4278190080|E*65793}d+=this.dataWidth*Pi.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Pi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Pi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const a=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<o;c++,d+=this.dataWidth){const f=d+i/2;for(let g=d,y=d+i-1;g<f;g++,y--){const E=a[g];a[g]=a[y],a[y]=E}}}invert(){return new Ae(this)}}Pi.THUMBNAIL_SCALE_FACTOR=2;class Fr extends ne{constructor(i,o,a,c,d,f,g){if(super(o,a),this.dataWidth=c,this.dataHeight=d,this.left=f,this.top=g,i.BYTES_PER_ELEMENT===4){const y=o*a,E=new Uint8ClampedArray(y);for(let S=0;S<y;S++){const b=i[S],N=b>>16&255,P=b>>7&510,z=b&255;E[S]=(N+P+z)/4&255}this.luminances=E}else this.luminances=i;if(c===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=a),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+a>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new I("Requested row is outside the image: "+i);const a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return V.arraycopy(this.luminances,c,o,0,a),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const a=i*o,c=new Uint8ClampedArray(a);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return V.arraycopy(this.luminances,d,c,0,a),c;for(let f=0;f<o;f++){const g=f*i;V.arraycopy(this.luminances,d,c,g,i),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,o,a,c){return new Fr(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new Ae(this)}}class ei extends te{static forName(i){return this.getCharacterSetECIByName(i)}}class Rs{}Rs.ISO_8859_1=te.ISO8859_1;class Oa{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class cc{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Da{constructor(i){this.previous=i}getPrevious(){return this.previous}}class vr extends Da{constructor(i,o,a){super(i),this.value=o,this.bitCount=a}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new vr(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vr(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+k.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Pa extends vr{constructor(i,o,a){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=a}appendTo(i,o){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+a],8)}addBinaryShift(i,o){return new Pa(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function dd(T,i,o){return new Pa(T,i,o)}function lo(T,i,o){return new vr(T,i,o)}const hd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],fn=0,tr=1,ai=2,Bi=3,ki=4,co=new vr(null,0,0),Ba=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function qo(T){for(let i of T)B.fill(i,-1);return T[fn][ki]=0,T[tr][ki]=0,T[tr][fn]=28,T[Bi][ki]=0,T[ai][ki]=0,T[ai][fn]=15,T}const ka=qo(B.createInt32Array(6,6));class ti{constructor(i,o,a,c){this.token=i,this.mode=o,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let a=this.bitCount,c=this.token;if(i!==this.mode){let f=Ba[this.mode][i];c=lo(c,f&65535,f>>16),a+=f>>16}let d=i===ai?4:5;return c=lo(c,o,d),new ti(c,i,0,a+d)}shiftAndAppend(i,o){let a=this.token,c=this.mode===ai?4:5;return a=lo(a,ka[this.mode][i],c),a=lo(a,o,5),new ti(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let o=this.token,a=this.mode,c=this.bitCount;if(this.mode===ki||this.mode===ai){let g=Ba[a][fn];o=lo(o,g&65535,g>>16),c+=g>>16,a=fn}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new ti(o,a,this.binaryShiftByteCount+1,c+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(i+1)),f}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=dd(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ti(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(Ba[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=ti.calculateBinaryShiftCost(i)-ti.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())o.unshift(c);let a=new J;for(const c of o)c.appendTo(a,i);return a}toString(){return we.format("%s bits=%d bytes=%d",hd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ti.INITIAL_STATE=new ti(co,fn,0,0);function fd(T){const i=we.getCharCode(" "),o=we.getCharCode("."),a=we.getCharCode(",");T[fn][i]=1;const c=we.getCharCode("Z"),d=we.getCharCode("A");for(let N=d;N<=c;N++)T[fn][N]=N-d+2;T[tr][i]=1;const f=we.getCharCode("z"),g=we.getCharCode("a");for(let N=g;N<=f;N++)T[tr][N]=N-g+2;T[ai][i]=1;const y=we.getCharCode("9"),E=we.getCharCode("0");for(let N=E;N<=y;N++)T[ai][N]=N-E+2;T[ai][a]=12,T[ai][o]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<S.length;N++)T[Bi][we.getCharCode(S[N])]=N;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<b.length;N++)we.getCharCode(b[N])>0&&(T[ki][we.getCharCode(b[N])]=N);return T}const Fi=fd(B.createInt32Array(5,256));class wr{constructor(i){this.text=i}encode(){const i=we.getCharCode(" "),o=we.getCharCode(`
`);let a=cc.singletonList(ti.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case we.getCharCode("\r"):f=g===o?2:0;break;case we.getCharCode("."):f=g===i?3:0;break;case we.getCharCode(","):f=g===i?4:0;break;case we.getCharCode(":"):f=g===i?5:0;break;default:f=0}f>0?(a=wr.updateStateListForPair(a,d,f),d++):a=this.updateStateListForChar(a,d)}return cc.min(a,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const a=[];for(let c of i)this.updateStateForChar(c,o,a);return wr.simplifyStates(a)}updateStateForChar(i,o,a){let c=this.text[o]&255,d=Fi[i.getMode()][c]>0,f=null;for(let g=0;g<=ki;g++){let y=Fi[g][c];if(y>0){if(f==null&&(f=i.endBinaryShift(o)),!d||g===i.getMode()||g===ai){const E=f.latchAndAppend(g,y);a.push(E)}if(!d&&ka[i.getMode()][g]>=0){const E=f.shiftAndAppend(g,y);a.push(E)}}}if(i.getBinaryShiftByteCount()>0||Fi[i.getMode()][c]===0){let g=i.addBinaryShiftChar(o);a.push(g)}}static updateStateListForPair(i,o,a){const c=[];for(let d of i)this.updateStateForPair(d,o,a,c);return this.simplifyStates(c)}static updateStateForPair(i,o,a,c){let d=i.endBinaryShift(o);if(c.push(d.latchAndAppend(ki,a)),i.getMode()!==ki&&c.push(d.shiftAndAppend(ki,a)),a===3||a===4){let f=d.latchAndAppend(ai,16-a).latchAndAppend(ai,1);c.push(f)}if(i.getBinaryShiftByteCount()>0){let f=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(f)}}static simplifyStates(i){let o=[];for(const a of i){let c=!0;for(const d of o){if(d.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(d)&&(o=o.filter(f=>f!==d))}c&&o.push(a)}return o}}class dt{constructor(){}static encodeBytes(i){return dt.encode(i,dt.DEFAULT_EC_PERCENT,dt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,a){let c=new wr(i).encode(),d=k.truncDivision(c.getSize()*o,100)+11,f=c.getSize()+d,g,y,E,S,b;if(a!==dt.DEFAULT_AZTEC_LAYERS){if(g=a<0,y=Math.abs(a),y>(g?dt.MAX_NB_BITS_COMPACT:dt.MAX_NB_BITS))throw new I(we.format("Illegal value %s for layers",a));E=dt.totalBitsInLayer(y,g),S=dt.WORD_SIZE[y];let oe=E-E%S;if(b=dt.stuffBits(c,S),b.getSize()+d>oe)throw new I("Data to large for user specified layer");if(g&&b.getSize()>S*64)throw new I("Data to large for user specified layer")}else{S=0,b=null;for(let oe=0;;oe++){if(oe>dt.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(g=oe<=3,y=g?oe+1:oe,E=dt.totalBitsInLayer(y,g),f>E)continue;(b==null||S!==dt.WORD_SIZE[y])&&(S=dt.WORD_SIZE[y],b=dt.stuffBits(c,S));let $e=E-E%S;if(!(g&&b.getSize()>S*64)&&b.getSize()+d<=$e)break}}let N=dt.generateCheckWords(b,E,S),P=b.getSize()/S,z=dt.generateModeMessage(g,y,P),U=(g?11:14)+y*4,j=new Int32Array(U),Q;if(g){Q=U;for(let oe=0;oe<j.length;oe++)j[oe]=oe}else{Q=U+1+2*k.truncDivision(k.truncDivision(U,2)-1,15);let oe=k.truncDivision(U,2),$e=k.truncDivision(Q,2);for(let je=0;je<oe;je++){let jt=je+k.truncDivision(je,15);j[oe-je-1]=$e-jt-1,j[oe+je]=$e+jt+1}}let ue=new Ye(Q);for(let oe=0,$e=0;oe<y;oe++){let je=(y-oe)*4+(g?9:12);for(let jt=0;jt<je;jt++){let Un=jt*2;for(let Hn=0;Hn<2;Hn++)N.get($e+Un+Hn)&&ue.set(j[oe*2+Hn],j[oe*2+jt]),N.get($e+je*2+Un+Hn)&&ue.set(j[oe*2+jt],j[U-1-oe*2-Hn]),N.get($e+je*4+Un+Hn)&&ue.set(j[U-1-oe*2-Hn],j[U-1-oe*2-jt]),N.get($e+je*6+Un+Hn)&&ue.set(j[U-1-oe*2-jt],j[oe*2+Hn])}$e+=je*8}if(dt.drawModeMessage(ue,g,Q,z),g)dt.drawBullsEye(ue,k.truncDivision(Q,2),5);else{dt.drawBullsEye(ue,k.truncDivision(Q,2),7);for(let oe=0,$e=0;oe<k.truncDivision(U,2)-1;oe+=15,$e+=16)for(let je=k.truncDivision(Q,2)&1;je<Q;je+=2)ue.set(k.truncDivision(Q,2)-$e,je),ue.set(k.truncDivision(Q,2)+$e,je),ue.set(je,k.truncDivision(Q,2)-$e),ue.set(je,k.truncDivision(Q,2)+$e)}let de=new Oa;return de.setCompact(g),de.setSize(Q),de.setLayers(y),de.setCodeWords(P),de.setMatrix(ue),de}static drawBullsEye(i,o,a){for(let c=0;c<a;c+=2)for(let d=o-c;d<=o+c;d++)i.set(d,o-c),i.set(d,o+c),i.set(o-c,d),i.set(o+c,d);i.set(o-a,o-a),i.set(o-a+1,o-a),i.set(o-a,o-a+1),i.set(o+a,o-a),i.set(o+a,o-a+1),i.set(o+a,o+a-1)}static generateModeMessage(i,o,a){let c=new J;return i?(c.appendBits(o-1,2),c.appendBits(a-1,6),c=dt.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(a-1,11),c=dt.generateCheckWords(c,40,4)),c}static drawModeMessage(i,o,a,c){let d=k.truncDivision(a,2);if(o)for(let f=0;f<7;f++){let g=d-3+f;c.get(f)&&i.set(g,d-5),c.get(f+7)&&i.set(d+5,g),c.get(20-f)&&i.set(g,d+5),c.get(27-f)&&i.set(d-5,g)}else for(let f=0;f<10;f++){let g=d-5+f+k.truncDivision(f,5);c.get(f)&&i.set(g,d-7),c.get(f+10)&&i.set(d+7,g),c.get(29-f)&&i.set(g,d+7),c.get(39-f)&&i.set(d-7,g)}}static generateCheckWords(i,o,a){let c=i.getSize()/a,d=new La(dt.getGF(a)),f=k.truncDivision(o,a),g=dt.bitsToWords(i,a,f);d.encode(g,f-c);let y=o%a,E=new J;E.appendBits(0,y);for(const S of Array.from(g))E.appendBits(S,a);return E}static bitsToWords(i,o,a){let c=new Int32Array(a),d,f;for(d=0,f=i.getSize()/o;d<f;d++){let g=0;for(let y=0;y<o;y++)g|=i.get(d*o+y)?1<<o-y-1:0;c[d]=g}return c}static getGF(i){switch(i){case 4:return it.AZTEC_PARAM;case 6:return it.AZTEC_DATA_6;case 8:return it.AZTEC_DATA_8;case 10:return it.AZTEC_DATA_10;case 12:return it.AZTEC_DATA_12;default:throw new I("Unsupported word size "+i)}}static stuffBits(i,o){let a=new J,c=i.getSize(),d=(1<<o)-2;for(let f=0;f<c;f+=o){let g=0;for(let y=0;y<o;y++)(f+y>=c||i.get(f+y))&&(g|=1<<o-1-y);(g&d)===d?(a.appendBits(g&d,o),f--):g&d?a.appendBits(g,o):(a.appendBits(g|1,o),f--)}return a}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}dt.DEFAULT_EC_PERCENT=33,dt.DEFAULT_AZTEC_LAYERS=0,dt.MAX_NB_BITS=32,dt.MAX_NB_BITS_COMPACT=4,dt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uo{encode(i,o,a,c){return this.encodeWithHints(i,o,a,c,null)}encodeWithHints(i,o,a,c,d){let f=Rs.ISO_8859_1,g=dt.DEFAULT_EC_PERCENT,y=dt.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Jt.CHARACTER_SET)&&(f=ei.forName(d.get(Jt.CHARACTER_SET).toString())),d.has(Jt.ERROR_CORRECTION)&&(g=k.parseInt(d.get(Jt.ERROR_CORRECTION).toString())),d.has(Jt.AZTEC_LAYERS)&&(y=k.parseInt(d.get(Jt.AZTEC_LAYERS).toString()))),uo.encodeLayers(i,o,a,c,f,g,y)}static encodeLayers(i,o,a,c,d,f,g){if(o!==ae.AZTEC)throw new I("Can only encode AZTEC, but got "+o);let y=dt.encode(we.getBytes(i,d),f,g);return uo.renderResult(y,a,c)}static renderResult(i,o,a){let c=i.getMatrix();if(c==null)throw new Kn;let d=c.getWidth(),f=c.getHeight(),g=Math.max(o,d),y=Math.max(a,f),E=Math.min(g/d,y/f),S=(g-d*E)/2,b=(y-f*E)/2,N=new Ye(g,y);for(let P=0,z=b;P<f;P++,z+=E)for(let U=0,j=S;U<d;U++,j+=E)c.get(U,P)&&N.setRegion(j,z,E,E);return N}}n.AbstractExpandedDecoder=Cs,n.ArgumentException=R,n.ArithmeticException=Mi,n.AztecCode=Oa,n.AztecCodeReader=mt,n.AztecCodeWriter=uo,n.AztecDecoder=gt,n.AztecDetector=pt,n.AztecDetectorResult=Ho,n.AztecEncoder=dt,n.AztecHighLevelEncoder=wr,n.AztecPoint=$t,n.BarcodeFormat=ae,n.Binarizer=Y,n.BinaryBitmap=D,n.BitArray=J,n.BitMatrix=Ye,n.BitSource=ro,n.BrowserAztecCodeReader=Qi,n.BrowserBarcodeReader=jo,n.BrowserCodeReader=It,n.BrowserDatamatrixCodeReader=Ta,n.BrowserMultiFormatReader=ac,n.BrowserPDF417Reader=xr,n.BrowserQRCodeReader=lc,n.BrowserQRCodeSvgWriter=Er,n.CharacterSetECI=te,n.ChecksumException=W,n.Code128Reader=se,n.Code39Reader=Xe,n.DataMatrixDecodedBitStreamParser=$n,n.DataMatrixReader=St,n.DecodeHintType=ce,n.DecoderResult=gr,n.DefaultGridSampler=ot,n.DetectorResult=Et,n.EAN13Reader=mr,n.EncodeHintType=Jt,n.Exception=x,n.FormatException=q,n.GenericGF=it,n.GenericGFPoly=ln,n.GlobalHistogramBinarizer=Oe,n.GridSampler=Le,n.GridSamplerInstance=cn,n.HTMLCanvasElementLuminanceSource=le,n.HybridBinarizer=xe,n.ITFReader=We,n.IllegalArgumentException=I,n.IllegalStateException=Kn,n.InvertedLuminanceSource=Ae,n.LuminanceSource=ne,n.MathUtils=rt,n.MultiFormatOneDReader=yr,n.MultiFormatReader=sc,n.MultiFormatWriter=kr,n.NotFoundException=ee,n.OneDReader=_t,n.PDF417DecodedBitStreamParser=K,n.PDF417DecoderErrorCorrection=As,n.PDF417Reader=xn,n.PDF417ResultMetadata=Ma,n.PerspectiveTransform=He,n.PlanarYUVLuminanceSource=Pi,n.QRCodeByteMatrix=Ko,n.QRCodeDataMask=bn,n.QRCodeDecodedBitStreamParser=Ot,n.QRCodeDecoderErrorCorrectionLevel=qe,n.QRCodeDecoderFormatInformation=Tn,n.QRCodeEncoder=Mt,n.QRCodeEncoderQRCode=Br,n.QRCodeMaskUtil=Vt,n.QRCodeMatrixUtil=Me,n.QRCodeMode=Re,n.QRCodeReader=_n,n.QRCodeVersion=_e,n.QRCodeWriter=er,n.RGBLuminanceSource=Fr,n.RSS14Reader=Qt,n.RSSExpandedReader=ie,n.ReaderException=Jn,n.ReedSolomonDecoder=pr,n.ReedSolomonEncoder=La,n.ReedSolomonException=Xi,n.Result=Ue,n.ResultMetadataType=Tt,n.ResultPoint=Ce,n.StringUtils=we,n.UnsupportedOperationException=ze,n.VideoInputDevice=De,n.WhiteRectangleDetector=X,n.WriterException=bt,n.ZXingArrays=B,n.ZXingCharset=ei,n.ZXingInteger=k,n.ZXingStandardCharsets=Rs,n.ZXingStringBuilder=Je,n.ZXingStringEncoding=Ge,n.ZXingSystem=V,n.createAbstractExpandedDecoder=Vo,Object.defineProperty(n,"__esModule",{value:!0})})})(qh,qh.exports);var Zt=qh.exports;const R3=Lu(Zt),N3=Gy({__proto__:null,default:R3},[Zt]);var Ig=function(){function t(e,n,r){if(this.formatMap=new Map([[Se.QR_CODE,Zt.BarcodeFormat.QR_CODE],[Se.AZTEC,Zt.BarcodeFormat.AZTEC],[Se.CODABAR,Zt.BarcodeFormat.CODABAR],[Se.CODE_39,Zt.BarcodeFormat.CODE_39],[Se.CODE_93,Zt.BarcodeFormat.CODE_93],[Se.CODE_128,Zt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,Zt.BarcodeFormat.MAXICODE],[Se.ITF,Zt.BarcodeFormat.ITF],[Se.EAN_13,Zt.BarcodeFormat.EAN_13],[Se.EAN_8,Zt.BarcodeFormat.EAN_8],[Se.PDF_417,Zt.BarcodeFormat.PDF_417],[Se.RSS_14,Zt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,Zt.BarcodeFormat.UPC_A],[Se.UPC_E,Zt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!N3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var l=this.createZXingFormats(e),u=new Map;u.set(Zt.DecodeHintType.POSSIBLE_FORMATS,l),u.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=u}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,l){try{r(n.decode(e))}catch(u){l(u)}})},t.prototype.decode=function(e){var n=new Zt.MultiFormatReader(this.verbose,this.hints),r=new Zt.HTMLCanvasElementLuminanceSource(e),l=new Zt.BinaryBitmap(new Zt.HybridBinarizer(r)),u=n.decode(l);return{text:u.text,format:G2.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,l){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,l=e;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),M3=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function v(R){try{x(r.next(R))}catch(I){p(I)}}function C(R){try{x(r.throw(R))}catch(I){p(I)}}function x(R){R.done?u(R.value):l(R.value).then(v,C)}x((r=r.apply(t,e||[])).next())})},L3=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(x){return function(R){return C([x,R])}}function C(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(R){x=[6,R],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Tg=function(){function t(e,n,r){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return M3(this,void 0,void 0,function(){var n,r;return L3(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:G2.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,l=0,u=e;l<u.length;l++){var p=u[l],v=p.boundingBox.width*p.boundingBox.height;v>r&&(r=v,n=p)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,l=e;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,l){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),bg=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function v(R){try{x(r.next(R))}catch(I){p(I)}}function C(R){try{x(r.throw(R))}catch(I){p(I)}}function x(R){R.done?u(R.value):l(R.value).then(v,C)}x((r=r.apply(t,e||[])).next())})},Rg=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(x){return function(R){return C([x,R])}}function C(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(R){x=[6,R],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},O3=function(){function t(e,n,r,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Tg.isSupported()?(this.primaryDecoder=new Tg(e,r,l),this.secondaryDecoder=new Ig(e,r,l)):this.primaryDecoder=new Ig(e,r,l)}return t.prototype.decodeAsync=function(e){return bg(this,void 0,void 0,function(){var n;return Rg(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return bg(this,void 0,void 0,function(){var n,r;return Rg(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(r=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var l=r[n];e+=l}var u=e/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),f1=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function v(R){try{x(r.next(R))}catch(I){p(I)}}function C(R){try{x(r.throw(R))}catch(I){p(I)}}function x(R){R.done?u(R.value):l(R.value).then(v,C)}x((r=r.apply(t,e||[])).next())})},gu=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(x){return function(R){return C([x,R])}}function C(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(R){x=[6,R],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Q2=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),D3=function(t){f1(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var l={advanced:[r]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Q2),P3=function(t){f1(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(D3),B3=function(t){f1(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(Q2),k3=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new P3(this.track)},t.prototype.torchFeature=function(){return new B3(this.track)},t}(),F3=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,l),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,l){return fu(this,void 0,void 0,function(){var u,p;return gu(this,function(v){switch(v.label){case 0:return u=new t(e,n,l),r.aspectRatio?(p={aspectRatio:r.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:v.sent(),v.label=2;case 2:return u.setupSurface(),[2,u]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return fu(this,void 0,void 0,function(){return gu(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var l=e.mediaStream.getVideoTracks(),u=l.length,p=0;e.mediaStream.getVideoTracks().forEach(function(v){e.mediaStream.removeTrack(v),v.stop(),++p,p>=u&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new k3(this.getFirstTrackOrFail())},t}(),z3=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return fu(this,void 0,void 0,function(){return gu(this,function(l){return[2,F3.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return fu(this,void 0,void 0,function(){var n,r;return gu(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=l.sent(),[2,new t(r)]}})})},t}(),Ng=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function v(R){try{x(r.next(R))}catch(I){p(I)}}function C(R){try{x(r.throw(R))}catch(I){p(I)}}function x(R){R.done?u(R.value):l(R.value).then(v,C)}x((r=r.apply(t,e||[])).next())})},Mg=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(x){return function(R){return C([x,R])}}function C(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(R){x=[6,R],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},U3=function(){function t(){}return t.failIfNotSupported=function(){return Ng(this,void 0,void 0,function(){return Mg(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Ng(this,void 0,void 0,function(){return Mg(this,function(n){return[2,z3.create(e)]})})},t}(),H3=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function v(R){try{x(r.next(R))}catch(I){p(I)}}function C(R){try{x(r.throw(R))}catch(I){p(I)}}function x(R){R.done?u(R.value):l(R.value).then(v,C)}x((r=r.apply(t,e||[])).next())})},W3=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(x){return function(R){return C([x,R])}}function C(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(R){x=[6,R],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},V3=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Zs.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Zs.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return H3(this,void 0,void 0,function(){var e,n,r,l,u,p,v;return W3(this,function(C){switch(C.label){case 0:return e=function(x){for(var R=x.getVideoTracks(),I=0,D=R;I<D.length;I++){var W=D[I];W.enabled=!1,W.stop(),x.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=C.sent(),l=[],u=0,p=r;u<p.length;u++)v=p[u],v.kind==="videoinput"&&l.push({id:v.deviceId,label:v.label});return e(n),[2,l]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(u){for(var p=[],v=0,C=u;v<C.length;v++){var x=C[v];x.kind==="video"&&p.push({id:x.id,label:x.label})}e(p)},l=MediaStreamTrack;l.getSources(r)})},t}(),on;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(on||(on={}));var j3=function(){function t(){this.state=on.NOT_STARTED,this.onGoingTransactionNewState=on.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=on.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=on.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==on.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case on.UNKNOWN:throw"Transition from unknown is not allowed";case on.NOT_STARTED:this.failIfNewStateIs(e,[on.PAUSED]);break;case on.SCANNING:break;case on.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,l=n;r<l.length;r++){var u=l[r];if(e===u)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),G3=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===on.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==on.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===on.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===on.PAUSED},t}(),Z3=function(){function t(){}return t.create=function(){return new G3(new j3)},t}(),Y3=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vi=function(t){Y3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(or),X3=function(){function t(e,n){this.logger=n,this.fps=vi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=vi.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?X2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Ar(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),Lg=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Y2(this.verbose),this.qrcode=new O3(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Z3.create()}return t.prototype.start=function(e,n,r,l){var u=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;l?p=l:p=this.verbose?this.logger.log:function(){};var v=X3.create(n,this.logger);this.clearElement();var C=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=C,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:vi.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var I=this,D=this.stateManagerProxy.startTransition(on.SCANNING);return new Promise(function(W,Y){var V=x?v.videoConstraints:I.createVideoConstraints(e);if(!V){D.cancel(),Y("videoConstraints should be defined");return}var me={};(!x||v.aspectRatio)&&(me.aspectRatio=v.aspectRatio);var H={onRenderSurfaceReady:function(B,k){I.setupUi(B,k,v),I.isScanning=!0,I.foreverScan(v,r,p)}};U3.failIfNotSupported().then(function(B){B.create(V).then(function(k){return k.render(u.element,me,H).then(function(J){I.renderedCamera=J,D.execute(),W(null)}).catch(function(J){D.cancel(),Y(J)})}).catch(function(k){D.cancel(),Y(Zs.errorGettingUserMedia(k))})}).catch(function(B){D.cancel(),Y(Zs.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(on.PAUSED),this.showPausedState(),(Ar(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(on.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(on.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var u=document.getElementById(vi.SHADED_REGION_ELEMENT_ID);u&&e.element.removeChild(u)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),r(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ar(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,u){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var p=new Image;p.onload=function(){var v=p.width,C=p.height,x=document.getElementById(r.elementId),R=x.clientWidth?x.clientWidth:vi.DEFAULT_WIDTH,I=Math.max(x.clientHeight?x.clientHeight:C,vi.FILE_SCAN_MIN_HEIGHT),D=r.computeCanvasDrawConfig(v,C,R,I);if(n){var W=r.createCanvasElement(R,I,"qr-canvas-visible");W.style.display="inline-block",x.appendChild(W);var Y=W.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=R,Y.canvas.height=I,Y.drawImage(p,0,0,v,C,D.x,D.y,D.width,D.height)}var V=vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,me=Math.max(p.width,D.width),H=Math.max(p.height,D.height),B=me+2*V,k=H+2*V,J=r.createCanvasElement(B,k);x.appendChild(J);var pe=J.getContext("2d");if(!pe)throw"Unable to get 2d context from canvas";pe.canvas.width=B,pe.canvas.height=k,pe.drawImage(p,0,0,v,C,V,V,me,H);try{r.qrcode.decodeRobustlyAsync(J).then(function(ce){l(Sg.createFromQrcodeResult(ce))}).catch(u)}catch(ce){u("QR code parse error, error = ".concat(ce))}},p.onerror=u,p.onabort=u,p.onstalled=u,p.onsuspend=u,p.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return V3.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!X2.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],l=0,u=e.formatsToSupport;l<u.length;l++){var p=u[l];T3(p)?r.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ar(e))return!0;if(!Ar(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ar(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Ar(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var l=this,u=r.qrbox;this.validateQrboxConfig(u);var p=this.toQrdimensions(e,n,u),v=function(x){if(x<vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vi.MIN_QR_BOX_SIZE,"px.")},C=function(x){return x>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};v(p.width),v(p.height),p.width=C(p.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var l=Ar(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(e,n,l);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=r.isShadedBoxEnabled()&&u.height<=n,v={x:0,y:0,width:e,height:n},C=p?this.getShadedRegionBounds(e,n,u):v,x=this.createCanvasElement(C.width,C.height),R={willReadFrequently:!0},I=x.getContext("2d",R);I.canvas.width=C.width,I.canvas.height=C.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,e,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=I,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Zs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,Sg.createFromQrcodeResult(l)),r.possiblyUpdateShaders(!0),!0}).catch(function(l){r.possiblyUpdateShaders(!1);var u=Zs.codeParseError(l);return n(u,Z2.createFrom(u)),!1})},t.prototype.foreverScan=function(e,n,r){var l=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),p=u.videoWidth/u.clientWidth,v=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*p,x=this.qrRegion.height*v,R=this.qrRegion.x*p,I=this.qrRegion.y*v;this.context.drawImage(u,R,I,C,x,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,n,r)},l.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(W){!W&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,r).finally(function(){D()})):D()}).catch(function(W){l.logger.logError("Error happend while scanning context",W),D()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",l={user:!0,environment:!0},u="exact",p=function(Y){if(Y in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Y,"'")},v=Object.keys(e);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var C=Object.keys(e)[0];if(C!==n&&C!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(C===n){var x=e.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(u in x){if(p(x["".concat(u)]))return{facingMode:{exact:x["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var R=typeof x;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var I=e.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(u in I)return{deviceId:{exact:I["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var D=typeof I;throw"Invalid type of 'deviceId' = ".concat(D)}}}var W=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},t.prototype.computeCanvasDrawConfig=function(e,n,r,l){if(e<=r&&n<=l){var u=(r-e)/2,p=(l-n)/2;return{x:u,y:p,width:e,height:n}}else{var v=e,C=n;return e>r&&(n=r/e*n,e=r),n>l&&(e=l/n*e,n=l),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(C)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,l)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?vi.BORDER_SHADER_MATCH_COLOR:vi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var l=e,u=n,p=document.createElement("canvas");return p.style.width="".concat(l,"px"),p.style.height="".concat(u,"px"),p.style.display="none",p.id=Ar(r)?"qr-canvas":r,p},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,l){if(!(n-l.width<1||r-l.height<1)){var u=document.createElement("div");u.style.position="absolute";var p=(n-l.width)/2,v=(r-l.height)/2;if(u.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(vi.SHADED_REGION_ELEMENT_ID),n-l.width<11||r-l.height<11)this.hasBorderShaders=!1;else{var C=5,x=40;this.insertShaderBorders(u,x,C,-C,null,0,!0),this.insertShaderBorders(u,x,C,-C,null,0,!1),this.insertShaderBorders(u,x,C,null,-C,0,!0),this.insertShaderBorders(u,x,C,null,-C,0,!1),this.insertShaderBorders(u,C,x+C,-C,null,-C,!0),this.insertShaderBorders(u,C,x+C,null,-C,-C,!0),this.insertShaderBorders(u,C,x+C,-C,null,-C,!1),this.insertShaderBorders(u,C,x+C,null,-C,-C,!1),this.hasBorderShaders=!0}e.append(u)}},t.prototype.insertShaderBorders=function(e,n,r,l,u,p,v){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=vi.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(n,"px"),C.style.height="".concat(r,"px"),l!==null&&(C.style.top="".concat(l,"px")),u!==null&&(C.style.bottom="".concat(u,"px")),v?C.style.left="".concat(p,"px"):C.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),e.appendChild(C)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),g1="data:image/svg+xml;base64,",Q3=g1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",K3=g1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Og=g1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",q3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Dg=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),$3=function(){function t(){this.data=Dg.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Dg.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),J3=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ag.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(l);var u=document.createElement("a");u.innerText=Ag.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),ev=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Og,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=q3,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Og,this.infoIcon.style.opacity="0.6")},t}(),tv=function(){function t(){var e=this;this.infoDiv=new J3,this.infoIcon=new ev(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),nv=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function v(R){try{x(r.next(R))}catch(I){p(I)}}function C(R){try{x(r.throw(R))}catch(I){p(I)}}function x(R){R.done?u(R.value):l(R.value).then(v,C)}x((r=r.apply(t,e||[])).next())})},iv=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(x){return function(R){return C([x,R])}}function C(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(R){x=[6,R],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Pg=function(){function t(){}return t.hasPermissions=function(){return nv(this,void 0,void 0,function(){var e,n,r,l;return iv(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=u.sent(),n=0,r=e;n<r.length;n++)if(l=r[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},t}(),po=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===Po.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Po.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return or.DEFAULT_SUPPORTED_SCAN_TYPE;var n=or.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,l=e;r<l.length;r++){var u=l[r];if(!or.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return e},t}(),Si=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),jr=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(Si.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),K2=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function v(R){try{x(r.next(R))}catch(I){p(I)}}function C(R){try{x(r.throw(R))}catch(I){p(I)}}function x(R){R.done?u(R.value):l(R.value).then(v,C)}x((r=r.apply(t,e||[])).next())})},q2=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(x){return function(R){return C([x,R])}}function C(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(R){x=[6,R],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Bg=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return K2(this,void 0,void 0,function(){var e,n;return q2(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Rt.torchOffButton():Rt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Rt.torchOnFailedMessage():Rt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),rv=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=jr.createElement("button",Si.TORCH_BUTTON_ID),this.torchController=new Bg(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Rt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(u){return K2(r,void 0,void 0,function(){return q2(this,function(p){switch(p.label){case 0:return[4,l.torchController.flipState()];case 1:return p.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(Si.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(Si.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(Si.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(Si.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Bg(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Rt.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,l){var u=new t(n,l);return u.render(e,r),u},t}(),ov=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=jr.createElement("button",Si.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(v){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=jr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(v){if(!(v==null||v.target==null)){var C=v.target;if(!(C.files&&C.files.length===0)){var x=C.files,R=x[0],I=R.name;u.setImageNameToButton(I),r(R)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(v){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(v){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(v){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(v){v.stopPropagation(),v.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var C=v.dataTransfer;if(C){var x=C.files;if(!x||x.length===0)return;for(var R=!1,I=0;I<x.length;++I){var D=x.item(I);if(D){var W=/image.*/;if(D.type.match(W)){R=!0;var Y=D.name;u.setImageNameToButton(Y),r(D),p.innerText=Rt.dragAndDropMessage();break}}}R||(p.innerText=Rt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Rt.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),l=e.length,u=e.substring(l-8,l);e="".concat(r,"....").concat(u)}var p=Rt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=p},t.prototype.setInitialValueToButton=function(){var e=Rt.fileSelectionChooseImage()+" - "+Rt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var l=new t(e,n,r);return l},t}(),sv=function(){function t(e){this.selectElement=jr.createElement("select",Si.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var l=Rt.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var u=1,p=0,v=this.cameras;p<v.length;p++){var C=v[p],x=C.id,R=C.label==null?x:C.label;(!R||R==="")&&(R=[Rt.anonymousCameraPrefix(),u++].join(" "));var I=document.createElement("option");I.value=x,I.innerText=R,this.options.push(I),this.selectElement.appendChild(I)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var l=r[n];if(l.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),av=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=jr.createElement("input",Si.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Rt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Rt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,l){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),wi;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(wi||(wi={}));function lv(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function cv(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var uv=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new po(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Y2(this.verbose),this.persistedDataManager=new $3,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,p){if(e)e(u,p);else{if(r.lastMatchFound===u)return;r.lastMatchFound=u,r.setHeaderMessage(Rt.lastMatch(u),wi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,p){n&&n(u,p)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Lg(this.getScanRegionId(),cv(this.config,this.verbose))},t.prototype.pause=function(e){(Ar(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,l){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(u){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(u){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",u),l(u)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=or.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!or.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=or.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=or.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:or.SCAN_DEFAULT_FPS,rememberLastUsedCamera:or.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:or.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),po.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),u=this.getDashboardId();l.id=u,l.style.width="100%",e.appendChild(l),this.setupInitialDashboard(l)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new tv;r.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Rt.cameraPermissionRequesting());var u=function(){r||l.createPermissionButton(e,n)};Lg.getCameras().then(function(p){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),p&&p.length>0?(e.removeChild(n),l.renderCameraSelection(p)):(l.setHeaderMessage(Rt.noCameraFound(),wi.STATUS_WARNING),u())}).catch(function(p){l.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:u(),l.setHeaderMessage(p,wi.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,l=jr.createElement("button",this.getCameraPermissionButtonId());l.innerText=Rt.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,r.createCameraListUi(e,n,l)}),n.appendChild(l)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(po.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Pg.hasPermissions().then(function(l){l?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(l){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=po.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var l=document.createElement("div");l.style.textAlign="center",r.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,l),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=po.isFileScanType(this.currentScanType),r=this,l=function(u){if(!r.html5Qrcode)throw"html5Qrcode not defined";po.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Rt.loadingImage()),r.html5Qrcode.scanFileV2(u,!0).then(function(p){r.resetHeaderMessage(),r.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){r.setHeaderMessage(p,wi.STATUS_WARNING),r.qrCodeErrorCallback(p,Z2.createFrom(p))}))};this.fileSelectionUi=ov.create(e,n,l)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var u=av.create(l,!1),p=function(V){var me=V.zoomFeature();if(me.isSupported()){u.setOnCameraZoomValueChangeCallback(function(B){me.apply(B)});var H=1;n.config.defaultZoomValueIfSupported&&(H=n.config.defaultZoomValueIfSupported),H=b3(H,me.min(),me.max()),u.setValues(me.min(),me.max(),H,me.step()),u.show()}},v=sv.create(l,e),C=document.createElement("span"),x=jr.createElement("button",Si.CAMERA_START_BUTTON_ID);x.innerText=Rt.scanButtonStartScanningText(),C.appendChild(x);var R=jr.createElement("button",Si.CAMERA_STOP_BUTTON_ID);R.innerText=Rt.scanButtonStopScanningText(),R.style.display="none",R.disabled=!0,C.appendChild(R);var I,D=function(V){if(!V.torchFeature().isSupported()){I&&I.hide();return}I?I.updateTorchCapability(V.torchFeature()):I=rv.create(C,V.torchFeature(),{display:"none",marginLeft:"5px"},function(me){r.setHeaderMessage(me,wi.STATUS_WARNING)}),I.show()};l.appendChild(C);var W=function(V){V||(x.style.display="none"),x.innerText=Rt.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,V&&(x.style.display="inline-block")};if(x.addEventListener("click",function(V){x.innerText=Rt.scanButtonScanningStarting(),v.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var me=v.getValue();r.persistedDataManager.setLastUsedCameraId(me),r.html5Qrcode.start(me,lv(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(H){R.disabled=!1,R.style.display="inline-block",W(!1);var B=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&D(B),n.config.showZoomSliderIfSupported===!0&&p(B)}).catch(function(H){r.showHideScanTypeSwapLink(!0),v.enable(),W(!0),r.setHeaderMessage(H,wi.STATUS_WARNING)})}),v.hasSingleItem()&&x.click(),R.addEventListener("click",function(V){if(!r.html5Qrcode)throw"html5Qrcode not defined";R.disabled=!0,r.html5Qrcode.stop().then(function(me){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),v.enable(),x.disabled=!1,R.style.display="none",x.style.display="inline-block",I&&(I.reset(),I.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(me){R.disabled=!1,r.setHeaderMessage(me,wi.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var Y=r.persistedDataManager.getLastUsedCameraId();v.hasValue(Y)?(v.setValue(Y),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Rt.textIfCameraScanSelected(),r=Rt.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var p=jr.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=po.isCameraScanType(this.currentScanType)?n:r,p.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,po.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),p.innerText=r,e.currentScanType=Po.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),p.innerText=n,e.currentScanType=Po.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),u.appendChild(p),l.appendChild(u)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Pg.hasPermissions().then(function(r){if(r){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=wi.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case wi.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case wi.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case wi.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Q3,this.cameraScanImage.alt=Rt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=K3,this.fileScanImage.alt=Rt.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Si.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Si.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const dv="/Mapa-UC/assets/classroomLogo-caNNTX4V.png",hv="/Mapa-UC/assets/ScienceGroundFloorPlan-u3Hq3kSs.png",fv="/Mapa-UC/assets/Science1stFloorPlan-wchKLXKh.png",gv="/Mapa-UC/assets/Science2ndFloorPlan-72T-1DP_.png",pv="/Mapa-UC/assets/Science3rdFloorPlan-DG-9qR6N.png",mv="/Mapa-UC/assets/Science4thFloorPlan-n0v2x7vi.png",_v="/Mapa-UC/assets/Science5thFloorPlan-odnWyleo.png",yv="/Mapa-UC/assets/Science6thFloorPlan-jc5nS1Ve.png",xv="/Mapa-UC/assets/CHTMEDS4thFloorPlan-yxjf7Jzc.png",Ev="/Mapa-UC/assets/CHTMEDS5thFloorPlan-2lXaBFnh.png",vv="/Mapa-UC/assets/Main4thFloorPlan-bw2HetSW.png",wv="/Mapa-UC/assets/Main5thFloorPlan-eJj4-ypF.png",Cv="/Mapa-UC/assets/Main6thFloorPlan-8KO5DFSR.png",Sv="/Mapa-UC/assets/Main3rdFloorPlan-kLHqrfvM.png",Av="/Mapa-UC/assets/Main2ndFloorPlan-URt7IMoz.png",Iv="/Mapa-UC/assets/leaveButton--kz3Hal_.png",Tv="/Mapa-UC/assets/BRS1stFloorPlan-HFWeZoi-.png",bv="/Mapa-UC/assets/BRS2ndFloorPlan-P15QRV88.png",Rv="/Mapa-UC/assets/BRS3rdFloorPlan-0XqkoP_w.png",Nv="/Mapa-UC/assets/BRS4thFloorPlan-ZHpzsnA-.png",Mv="/Mapa-UC/assets/BRS5thFloorPlan-Em2tRAoJ.png",Lv="/Mapa-UC/assets/BRS6thFloorPlan-tiw_cL5j.png",Ov="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",Dv="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",Pv="/Mapa-UC/assets/BRS9thFloorPlan-JtTiX9QW.png",Bv="/Mapa-UC/assets/BRS10thFloorPlan-jSdTOOTR.png";function kv(t){let e=[];return t=="science2ndFloor"&&(e=[{id:0,lat:6.51,lon:.47},{id:1,lat:6.24,lon:.47},{lat:5.2,lon:.8,title:"office",building:"Science",floor:"2nd Floor",node:1,label:"classroomLogo"},{id:2,lat:6.75,lon:1},{lat:7.4,lon:.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:2,label:"classroomLogo"},{id:3,lat:6.51,lon:1},{id:6,lat:6.51,lon:1.8},{id:5,lat:6.24,lon:1.8},{lat:5.2,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:5,label:"classroomLogo"},{id:4,lat:6.75,lon:1.8},{lat:7.4,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:4,label:"classroomLogo"},{id:7,lat:6.51,lon:2.25},{id:8,lat:6.51,lon:2.38},{id:9,lat:6.24,lon:2.38},{lat:5.2,lon:2.26,title:"classRoom",building:"Science",floor:"2nd Floor",node:9,label:"classroomLogo"},{id:10,lat:6.51,lon:2.55},{id:14,lat:7.15,lon:2.55,label:"leaveButton",destination:"science1stFloor",desti:340},{id:11,lat:7.5,lon:2.25},{id:12,lat:7.5,lon:2.55},{id:13,lat:7.41,lon:2.55,label:"leaveButton",destination:"science3rdFloor",desti:486},{id:15,lat:6.75,lon:2.78},{lat:8.1,lon:2.8,title:"office",building:"Science",floor:"2nd Floor",node:15,label:"classroomLogo"},{id:16,lat:6.51,lon:2.78},{id:19,lat:6.51,lon:3.3},{id:18,lat:6.75,lon:3.3},{lat:7.25,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:18,label:"classroomLogo"},{id:20,lat:6.24,lon:3.3},{lat:5.9,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:20,label:"classroomLogo"},{id:22,lat:6.51,lon:4.1},{id:23,lat:6.24,lon:4.1},{lat:5.9,lon:4.16,title:"classRoom",building:"Science",floor:"2nd Floor",node:23,label:"classroomLogo"},{id:21,lat:6.75,lon:4.1},{lat:7.25,lon:4,title:"classRoom",building:"Science",floor:"2nd Floor",node:21,label:"classroomLogo"},{id:24,lat:6.51,lon:4.63},{id:25,lat:7.79,lon:4.63},{id:26,lat:7.79,lon:4.725},{lat:8.1,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:26,label:"classroomLogo"},{id:27,lat:7.79,lon:4.5},{lat:8.1,lon:3.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:27,label:"classroomLogo"},{id:28,lat:6.51,lon:5.3},{id:29,lat:6.75,lon:5.3},{lat:7.25,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:29,label:"classroomLogo"},{id:30,lat:6.24,lon:5.3},{lat:5.9,lon:5.25,title:"classRoom",building:"Science",floor:"2nd Floor",node:30,label:"classroomLogo"},{id:31,lat:6.51,lon:5.92},{id:33,lat:6.51,lon:6.3},{id:34,lat:6.51,lon:6.47},{id:32,lat:6.75,lon:6.3},{lat:7.5,lon:6.2,title:"",building:"Science",floor:"2nd Floor",node:32,label:"classroomLogo"},{id:35,lat:6.24,lon:6.47},{lat:5.9,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:35,label:"classroomLogo"},{id:37,lat:6.51,lon:6.8},{id:36,lat:6.75,lon:6.8},{lat:7.7,lon:6.75,title:"",building:"Science",floor:"2nd Floor",node:36,label:"classroomLogo"},{id:38,lat:6.51,lon:7.12},{id:39,lat:6.51,lon:7.4},{id:48,lat:5.05,lon:7.12},{id:47,lat:5.6,lon:7.21},{lat:5.5,lon:7.5,title:"facility",building:"Science",floor:"2nd Floor",node:47,label:"classroomLogo"},{id:46,lat:6,lon:7.3},{lat:6.05,lon:7.7,title:"facility",building:"Science",floor:"2nd Floor",node:46,label:"classroomLogo"},{id:40,lat:6.75,lon:7.4},{lat:7.7,lon:7.3,title:"",building:"Science",floor:"2nd Floor",node:40,label:"classroomLogo"},{id:41,lat:6.51,lon:7.65},{id:42,lat:6.63,lon:7.65},{id:45,lat:6.35,lon:7.65},{id:43,lat:6.63,lon:7.96},{id:44,lat:6.75,lon:7.96},{lat:7.25,lon:8.17,title:"classRoom",building:"Science",floor:"2nd Floor",node:44,label:"classroomLogo"},{id:49,lat:4.95,lon:5.92},{id:50,lat:4.95,lon:5.99},{lat:4.95,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:50,label:"classroomLogo"},{id:51,lat:4.2,lon:5.92},{id:52,lat:4.2,lon:5.99},{lat:4.25,lon:6.5,title:"classRoom",building:"Science",floor:"2nd Floor",node:52,label:"classroomLogo"},{id:53,lat:3.6,lon:5.92},{id:54,lat:3.31,lon:5.92},{lat:3,lon:5.75,title:"",building:"PE",floor:"2nd Floor",node:54,label:"classroomLogo"},{id:55,lat:3.6,lon:6.3},{id:56,lat:3.1,lon:6.3},{lat:2.75,lon:6.3,title:"",building:"PE",floor:"2nd Floor",node:56,label:"classroomLogo"},{id:57,lat:3.73,lon:6.3},{id:58,lat:3.73,lon:7.1},{id:59,lat:3.42,lon:7.1},{id:60,lat:3.6,lon:5.55},{id:61,lat:3.83,lon:5.55},{lat:4.4,lon:5.42,title:"classRoom",building:"Science",floor:"2nd Floor",node:61,label:"classroomLogo"},{id:62,lat:3.31,lon:5.25},{lat:3,lon:5.15,title:"",building:"PE",floor:"2nd Floor",node:62,label:"classroomLogo"},{id:63,lat:3.6,lon:5.05},{id:64,lat:3.83,lon:5.05},{lat:4.4,lon:4.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:64,label:"classroomLogo"},{id:66,lat:3.31,lon:4.65},{lat:3,lon:4.5,title:"",building:"PE",floor:"2nd Floor",node:66,label:"classroomLogo"},{id:82,lat:3.6,lon:5.25},{id:68,lat:3.83,lon:4.5},{lat:4.4,lon:4.38,title:"classRoom",building:"Science",floor:"2nd Floor",node:68,label:"classroomLogo"},{id:67,lat:3.6,lon:4.5},{id:65,lat:3.6,lon:4.65},{id:71,lat:3.31,lon:3.9},{lat:3,lon:3.8,title:"",building:"PE",floor:"2nd Floor",node:71,label:"classroomLogo"},{id:69,lat:3.6,lon:3.9},{id:70,lat:3.83,lon:3.9},{lat:4.4,lon:3.84,title:"classRoom",building:"Science",floor:"2nd Floor",node:70,label:"classroomLogo"},{id:73,lat:3.24,lon:3.33,label:"leaveButton",destination:"science1stFloor"},{id:75,lat:3.24,lon:3.045},{id:74,lat:3.6,lon:3.045},{id:72,lat:3.6,lon:3.33},{id:76,lat:3.6,lon:2.78},{id:77,lat:3.15,lon:2.5,label:"leaveButton",destination:"BRS2ndFloor",desti:100},{id:78,lat:4.2,lon:2.78},{id:79,lat:4.2,lon:2.86},{lat:4.3,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:79,label:"classroomLogo"},{id:80,lat:4.95,lon:2.78},{id:81,lat:4.95,lon:2.86},{lat:5,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:81,label:"classroomLogo"},{id:90,lat:6.63,lon:8.51},{id:98,lat:6.63,lon:8.6},{id:91,lat:7.9,lon:9.05},{id:92,lat:7.9,lon:8.99},{lat:8,lon:8.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:92,label:"classroomLogo"},{id:95,lat:6.35,lon:8.2,label:"leaveButton",destination:"science3rdFloor",desti:678},{id:17,lat:2.45,lon:3.045},{id:99,lat:2.45,lon:3.33},{id:84,lat:2.68,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:541},{id:93,lat:3.21,lon:7.1,label:"leaveButton",destination:"science3rdFloor",desti:565},{id:94,lat:3.42,lon:7,label:"leaveButton",destination:"science1stFloor"},{id:87,lat:6.65,lon:.47},{id:88,lat:6.65,lon:.25,label:"leaveButton",destination:"main2ndFloor",desti:827},{id:87,lat:6.38,lon:.47},{id:89,lat:6.35,lon:8.45,label:"leaveButton",destination:"science1stFloor",desti:387},{id:86,lat:6.38,lon:.23,label:"leaveButton"},{id:85,lat:6.38,lon:.47}]),t=="science1stFloor"&&(e=[{id:340,lat:7.63,lon:2.8,label:"leaveButton",destination:"science2ndFloor",desti:14},{id:341,lat:7.73,lon:2.8},{id:342,lat:7.73,lon:2.5},{id:343,lat:6.6,lon:2.5},{id:344,lat:6.6,lon:2.65},{id:345,lat:6.3,lon:2.65},{lat:5.5,lon:2.55,title:"classRoom",building:"Science",floor:"1st Floor",node:345,label:"classroomLogo"},{id:346,lat:6.6,lon:2.8},{id:347,lat:7.28,lon:2.8,label:"leaveButton",destination:"scienceGroundFloor",desti:420},{id:348,lat:6.6,lon:3.05},{id:349,lat:6.3,lon:3.05},{lat:5.5,lon:3.15,title:"classRoom",building:"Science",floor:"1st Floor",node:349,label:"classroomLogo"},{id:350,lat:6.6,lon:3.5},{id:351,lat:6.9,lon:3.5},{lat:7.9,lon:3.25,title:"classRoom",building:"Science",floor:"1st Floor",node:351,label:"classroomLogo"},{id:352,lat:6.3,lon:3.5},{lat:6.15,lon:3.3,title:"classRoom",building:"Science",floor:"1st Floor",node:352,label:"classroomLogo"},{id:353,lat:6.6,lon:3.96},{id:354,lat:6.3,lon:3.96},{lat:5.5,lon:3.69,title:"classRoom",building:"Science",floor:"1st Floor",node:354,label:"classroomLogo"},{id:355,lat:6.6,lon:4.05},{id:356,lat:6.9,lon:4.05},{lat:7.9,lon:4,title:"classRoom",building:"Science",floor:"1st Floor",node:356,label:"classroomLogo"},{id:357,lat:6.6,lon:4.4},{id:358,lat:6.3,lon:4.4},{lat:5.8,lon:4.3,title:"classRoom",building:"Science",floor:"1st Floor",node:358,label:"classroomLogo"},{id:359,lat:6.6,lon:4.75},{id:360,lat:6.9,lon:4.75},{lat:7.9,lon:4.5,title:"classRoom",building:"Science",floor:"1st Floor",node:360,label:"classroomLogo"},{id:361,lat:6.6,lon:5},{id:362,lat:6.6,lon:5.5},{id:363,lat:6.3,lon:5.5},{lat:5.8,lon:5.4,title:"classRoom",building:"Science",floor:"1st Floor",node:363,label:"classroomLogo"},{id:364,lat:6.6,lon:5.75},{id:365,lat:6.9,lon:5.75},{lat:7.9,lon:5.5,title:"classRoom",building:"Science",floor:"1st Floor",node:365,label:"classroomLogo"},{id:366,lat:6.6,lon:6.1},{id:367,lat:6.3,lon:6.1},{lat:5.8,lon:5.95,title:"classRoom",building:"Science",floor:"1st Floor",node:367,label:"classroomLogo"},{id:368,lat:6.6,lon:6.45},{id:369,lat:6.9,lon:6.45},{lat:7.9,lon:6.34,title:"classRoom",building:"Science",floor:"1st Floor",node:369,label:"classroomLogo"},{id:370,lat:6.6,lon:6.7},{id:371,lat:6.3,lon:6.7},{lat:5.8,lon:6.55,title:"classRoom",building:"Science",floor:"1st Floor",node:371,label:"classroomLogo"},{id:372,lat:6.6,lon:7.15},{id:373,lat:6.9,lon:7.15},{lat:7.9,lon:7,title:"classRoom",building:"Science",floor:"1st Floor",node:373,label:"classroomLogo"},{id:374,lat:6.6,lon:7.3},{id:375,lat:6.3,lon:7.3},{lat:5.8,lon:7.2,title:"classRoom",building:"Science",floor:"1st Floor",node:375,label:"classroomLogo"},{id:376,lat:6.6,lon:7.83},{id:377,lat:6.08,lon:7.83},{id:378,lat:6.08,lon:8},{lat:5.93,lon:8.4,title:"classRoom",building:"Science",floor:"1st Floor",node:378,label:"classroomLogo"},{id:379,lat:5.88,lon:7.83},{lat:5.2,lon:8,title:"classRoom",building:"Science",floor:"1st Floor",node:379,label:"classroomLogo"},{id:405,lat:6.6,lon:8.05},{id:406,lat:6.9,lon:8.05},{lat:7.9,lon:7.95,title:"classRoom",building:"Science",floor:"1st Floor",node:406,label:"classroomLogo"},{id:380,lat:6.6,lon:8.59},{id:407,lat:6.75,lon:8.59},{id:381,lat:6.9,lon:8.59},{lat:8.35,lon:8.65,title:"classRoom",building:"Science",floor:"1st Floor",node:381,label:"classroomLogo"},{id:382,lat:6.75,lon:8.82},{id:383,lat:6.75,lon:8.88},{id:384,lat:7.15,lon:8.82},{lat:7.7,lon:9,title:"classRoom",building:"Science",floor:"1st Floor",node:384,label:"classroomLogo"},{id:385,lat:6.6,lon:8.82},{id:386,lat:6.45,lon:8.82},{id:387,lat:6.45,lon:9.1,label:"leaveButton",destination:"science2ndFloor",desti:89},{id:390,lat:6.75,lon:9.35},{id:391,lat:6.75,lon:9.45},{id:392,lat:6.45,lon:9.35},{id:393,lat:6.45,lon:9.25,label:"leaveButton",destination:"scienceGroundFloor",desti:466},{id:394,lat:4.5,lon:5},{id:395,lat:4.5,lon:4.85},{lat:4.6,lon:4.4,title:"classRoom",building:"Science",floor:"1st Floor",node:395,label:"classroomLogo"},{id:396,lat:4.25,lon:5},{id:397,lat:4.25,lon:5.17},{lat:4.3,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:397,label:"classroomLogo"},{id:398,lat:3.9,lon:5},{id:399,lat:3.9,lon:5.17},{lat:3.9,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:399,label:"classroomLogo"},{id:400,lat:3.45,lon:5},{lat:2.6,lon:5,title:"classRoom",building:"Science",floor:"1st Floor",node:400,label:"classroomLogo"},{id:401,lat:3.45,lon:7.4,label:"leaveButton",destination:"science2ndFloor",desti:94},{id:403,lat:3.45,lon:2.96},{id:404,lat:3.05,lon:2.75,label:"leaveButton",destination:"BRS1stFloor",desti:130}]),t=="scienceGroundFloor"?e=[{id:420,lat:6.645,lon:1.32,label:"leaveButton",destination:"science1stFloor",desti:347},{id:421,lat:6.76,lon:1.32},{id:422,lat:6.76,lon:.99},{id:425,lat:5.5,lon:.99},{id:424,lat:5.5,lon:.85},{lat:5.5,lon:.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:424,label:"classroomLogo"},{id:426,lat:5.5,lon:1.1},{id:427,lat:5.19,lon:1.1},{lat:4.6,lon:1,title:"classRoom",building:"Science",floor:"Ground Floor",node:427,label:"classroomLogo"},{id:428,lat:5.5,lon:1.36},{id:429,lat:5.82,lon:1.36},{id:430,lat:5.5,lon:1.85},{id:431,lat:5.82,lon:1.85},{lat:7,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:431,label:"classroomLogo"},{id:432,lat:5.19,lon:1.85},{lat:4.6,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:432,label:"classroomLogo"},{id:433,lat:5.5,lon:2.5},{id:434,lat:5.82,lon:2.5},{lat:7,lon:2.4,title:"classRoom",building:"Science",floor:"Ground Floor",node:434,label:"classroomLogo"},{id:435,lat:5.19,lon:2.5},{lat:4.6,lon:2.36,title:"classRoom",building:"Science",floor:"Ground Floor",node:435,label:"classroomLogo"},{id:436,lat:5.5,lon:3.2},{id:437,lat:5.82,lon:3.2},{lat:7,lon:3.1,title:"classRoom",building:"Science",floor:"Ground Floor",node:437,label:"classroomLogo"},{id:438,lat:5.5,lon:3.4},{id:439,lat:5.19,lon:3.4},{lat:4.6,lon:3.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:439,label:"classroomLogo"},{id:440,lat:5.5,lon:3.9},{id:441,lat:5.82,lon:3.9},{lat:7,lon:3.8,title:"classRoom",building:"Science",floor:"Ground Floor",node:441,label:"classroomLogo"},{id:442,lat:5.5,lon:4.45},{id:443,lat:5.19,lon:4.45},{lat:4.6,lon:4.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:443,label:"classroomLogo"},{id:444,lat:5.5,lon:4.6},{id:445,lat:5.82,lon:4.6},{lat:7,lon:4.5,title:"classRoom",building:"Science",floor:"Ground Floor",node:445,label:"classroomLogo"},{id:446,lat:5.5,lon:5.32},{id:447,lat:5.82,lon:5.32},{lat:7,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:447,label:"classroomLogo"},{id:448,lat:5.19,lon:5.32},{lat:4.6,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:448,label:"classroomLogo"},{id:449,lat:5.5,lon:6},{id:450,lat:5.82,lon:6},{lat:7,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:450,label:"classroomLogo"},{id:451,lat:5.19,lon:6},{lat:4.6,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:451,label:"classroomLogo"},{id:452,lat:5.5,lon:6.7},{id:453,lat:5.82,lon:6.7},{lat:7,lon:6.65,title:"classRoom",building:"Science",floor:"Ground Floor",node:453,label:"classroomLogo"},{id:454,lat:5.19,lon:6.7},{lat:4.68,lon:6.63,title:"classRoom",building:"Science",floor:"Ground Floor",node:454,label:"classroomLogo"},{id:455,lat:5.5,lon:6.9},{id:456,lat:5.34,lon:6.9},{id:457,lat:5.34,lon:7.2},{id:458,lat:5.19,lon:7.2},{lat:3.9,lon:7.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:458,label:"classroomLogo"},{id:459,lat:5.34,lon:7.4},{id:460,lat:5.45,lon:7.4},{lat:7,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:460,label:"classroomLogo"},{id:461,lat:5.34,lon:7.6},{id:462,lat:5.19,lon:7.6},{lat:4.68,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:462,label:"classroomLogo"},{id:463,lat:5.34,lon:8.6},{id:464,lat:5.65,lon:8.7},{id:465,lat:5.82,lon:8.7},{lat:7,lon:8.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:465,label:"classroomLogo"},{id:466,lat:5.65,lon:8.53,label:"leaveButton",destination:"science1stFloor",desti:393}]:t=="science3rdFloor"?e=[{id:480,lat:7.35,lon:3.44,label:"leaveButton",destination:"science4thFloor",desti:615},{id:481,lat:7.48,lon:3.44},{id:482,lat:7.48,lon:3.15},{id:483,lat:7.58,lon:3.15},{lat:7.9,lon:3.2,title:"classRoom",building:"Science",floor:"3rd Floor",node:483,label:"classroomLogo"},{id:484,lat:6.47,lon:3.15},{id:485,lat:6.47,lon:3.44},{id:486,lat:7.05,lon:3.44,label:"leaveButton",destination:"science2ndFloor",desti:13},{id:487,lat:6.47,lon:3.65},{id:488,lat:8,lon:3.65},{id:489,lat:8,lon:3.73},{lat:8,lon:3.85,title:"classRoom",building:"PE",floor:"3rd Floor",node:489,label:"classroomLogo"},{id:490,lat:8.4,lon:3.65},{id:491,lat:8.4,lon:4.15},{id:492,lat:8.3,lon:4.15},{lat:8,lon:4.09,title:"classRoom",building:"PE",floor:"3rd Floor",node:492,label:"classroomLogo"},{id:493,lat:8.4,lon:4.4},{id:494,lat:8.3,lon:4.4},{lat:8,lon:4.33,title:"classRoom",building:"PE",floor:"3rd Floor",node:494,label:"classroomLogo"},{id:495,lat:8.4,lon:4.75},{id:496,lat:8.3,lon:4.75},{lat:8,lon:4.65,title:"classRoom",building:"PE",floor:"3rd Floor",node:496,label:"classroomLogo"},{id:497,lat:8.4,lon:5.3},{id:498,lat:8.3,lon:5.3},{lat:8,lon:5.26,title:"classRoom",building:"PE",floor:"3rd Floor",node:498,label:"classroomLogo"},{id:499,lat:8.4,lon:5.7},{id:500,lat:8.3,lon:5.7},{lat:8,lon:5.68,title:"classRoom",building:"PE",floor:"3rd Floor",node:500,label:"classroomLogo"},{id:501,lat:8.4,lon:6},{id:502,lat:8.3,lon:6},{lat:8,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:502,label:"classroomLogo"},{id:503,lat:8.4,lon:6.6},{id:504,lat:8.3,lon:6.6},{lat:8,lon:6.9,title:"classRoom",building:"PE",floor:"3rd Floor",node:504,label:"classroomLogo"},{id:505,lat:6.18,lon:3.15},{lat:5.7,lon:3,title:"classRoom",building:"Science",floor:"3rd Floor",node:505,label:"classroomLogo"},{id:506,lat:6.47,lon:2.65},{id:507,lat:6.7,lon:2.65},{lat:7.3,lon:2.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:507,label:"classroomLogo"},{id:508,lat:6.18,lon:2.65},{lat:5.7,lon:2.47,title:"classRoom",building:"Science",floor:"3rd Floor",node:508,label:"classroomLogo"},{id:509,lat:6.47,lon:1.4},{id:510,lat:6.7,lon:1.4},{lat:7.3,lon:1.4,title:"classRoom",building:"Science",floor:"3rd Floor",node:510,label:"classroomLogo"},{id:511,lat:6.47,lon:1},{id:512,lat:5.85,lon:.9},{id:513,lat:5.85,lon:.4,label:"leaveButton",destination:"main3rdFloor",desti:772},{id:514,lat:4.85,lon:.85},{id:515,lat:4.85,lon:1},{lat:5.4,lon:1.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:515,label:"classroomLogo"},{id:516,lat:4.7,lon:.85},{lat:4.35,lon:.95,title:"classRoom",building:"Science",floor:"3rd Floor",node:516,label:"classroomLogo"},{id:517,lat:4.85,lon:.69},{id:518,lat:3.65,lon:.51},{id:519,lat:3.65,lon:1.59},{id:520,lat:3.76,lon:1.59},{id:521,lat:3.65,lon:2.1},{id:522,lat:3.76,lon:2.1},{lat:4.35,lon:2.05,title:"classRoom",building:"Science",floor:"3rd Floor",node:522,label:"classroomLogo"},{id:523,lat:3.65,lon:2.5},{id:524,lat:3.55,lon:2.5},{id:525,lat:3.7,lon:2.5},{id:526,lat:3.7,lon:2.6,label:"leaveButton",destination:"science4thFloor",desti:674},{id:527,lat:3.55,lon:3.44},{id:528,lat:4.5,lon:3.44},{id:529,lat:4.5,lon:3.12},{id:530,lat:4.4,lon:3.12},{lat:4.13,lon:2.9,title:"classRoom",building:"Science",floor:"3rd Floor",node:530,label:"classroomLogo"},{id:531,lat:4.5,lon:3},{lat:4.6,lon:2.5,title:"classRoom",building:"Science",floor:"3rd Floor",node:531,label:"classroomLogo"},{id:532,lat:3,lon:3.44,label:"leaveButton",destination:"BRS3rdFloor",desti:155},{id:533,lat:3.45,lon:3.68},{id:534,lat:4.3,lon:3.68},{id:535,lat:4.3,lon:3.73},{lat:4.25,lon:4.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:535,label:"classroomLogo"},{id:536,lat:3.45,lon:4},{id:537,lat:2.35,lon:4},{id:538,lat:2.35,lon:4.3},{id:539,lat:2.55,lon:4.3,label:"leaveButton",destination:"science4thFloor",desti:640},{id:540,lat:3.45,lon:4.3},{id:541,lat:3.1,lon:4.3,label:"leaveButton",destination:"science2ndFloor",desti:84},{id:542,lat:3.45,lon:4.65},{id:543,lat:3.16,lon:4.65},{lat:2.8,lon:4.55,title:"classRoom",building:"PE",floor:"3rd Floor",node:543,label:"classroomLogo"},{id:544,lat:3.45,lon:5.05},{id:545,lat:3.16,lon:5.05},{lat:2.8,lon:5,title:"classRoom",building:"PE",floor:"3rd Floor",node:545,label:"classroomLogo"},{id:546,lat:3.45,lon:5.2},{id:547,lat:3.77,lon:5.2},{lat:4.25,lon:5.1,title:"classRoom",building:"PE",floor:"3rd Floor",node:547,label:"classroomLogo"},{id:548,lat:3.45,lon:5.7},{id:549,lat:3.16,lon:5.7},{lat:2.7,lon:5.6,title:"classRoom",building:"PE",floor:"3rd Floor",node:549,label:"classroomLogo"},{id:550,lat:3.45,lon:6.16},{id:551,lat:3.77,lon:6.16},{lat:4.25,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:551,label:"classroomLogo"},{id:552,lat:3.45,lon:6.5},{id:553,lat:3.16,lon:6.5},{lat:2.7,lon:6.5,title:"classRoom",building:"PE",floor:"3rd Floor",node:553,label:"classroomLogo"},{id:554,lat:3.45,lon:6.85},{id:555,lat:3.77,lon:6.85},{lat:4.25,lon:6.63,title:"classRoom",building:"PE",floor:"3rd Floor",node:555,label:"classroomLogo"},{id:556,lat:3.45,lon:6.97},{id:557,lat:3,lon:6.97},{lat:2.7,lon:7.16,title:"classRoom",building:"PE",floor:"3rd Floor",node:557,label:"classroomLogo"},{id:558,lat:3.45,lon:7.45},{id:559,lat:3.77,lon:7.45},{lat:4.25,lon:7.4,title:"classRoom",building:"PE",floor:"3rd Floor",node:559,label:"classroomLogo"},{id:560,lat:3.45,lon:7.52},{id:561,lat:2.55,lon:7.52},{id:562,lat:2.55,lon:7.68},{id:563,lat:2.63,lon:7.68,label:"leaveButton",destination:"science4thFloor",desti:654},{id:564,lat:3.45,lon:7.68},{id:565,lat:3.16,lon:7.68,label:"leaveButton",destination:"science2ndFloor",desti:93},{id:567,lat:4.7,lon:8.1},{id:568,lat:4.7,lon:7.9},{id:569,lat:5,lon:8.6},{id:570,lat:5.4,lon:8.6},{id:571,lat:5.4,lon:8.53},{lat:5.4,lon:8.15,title:"classRoom",building:"Science",floor:"3rd Floor",node:571,label:"classroomLogo"},{id:572,lat:6.3,lon:8.6},{id:573,lat:6.57,lon:8.53},{lat:6.3,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:573,label:"classroomLogo"},{id:574,lat:6.3,lon:9.15},{id:575,lat:6.57,lon:9.18},{id:576,lat:6.57,lon:9.07,label:"leaveButton",destination:"science4thFloor",desti:655},{id:577,lat:6.57,lon:8.6},{id:578,lat:6.57,lon:8.8,label:"leaveButton",destination:"science2ndFloor",desti:95},{id:579,lat:6.9,lon:8.6},{id:580,lat:6.9,lon:8.2},{id:581,lat:7.02,lon:8.2},{lat:7.6,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:581,label:"classroomLogo"},{id:582,lat:6.9,lon:7.9},{id:583,lat:6.9,lon:8.75},{id:584,lat:7.02,lon:8.75},{lat:7.6,lon:8.65,title:"classRoom",building:"Science",floor:"3rd Floor",node:584,label:"classroomLogo"},{id:585,lat:6.9,lon:9.12},{id:586,lat:7.3,lon:9.12},{lat:7.8,lon:9.25,title:"classRoom",building:"Science",floor:"3rd Floor",node:586,label:"classroomLogo"}]:t=="science4thFloor"?e=[{id:610,lat:7.38,lon:3.33,label:"leaveButton",destination:"main5thFloor",desti:1002},{id:611,lat:7.54,lon:3.33},{id:612,lat:7.54,lon:3.05},{id:682,lat:7.61,lon:3.05},{id:613,lat:6.5,lon:3.05},{id:614,lat:6.5,lon:3.33},{id:615,lat:7.12,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:480},{id:616,lat:6.5,lon:2.75},{id:617,lat:6.18,lon:2.75},{lat:5.8,lon:2.65,title:"classRoom",building:"Science",floor:"4th Floor",node:617,label:"classroomLogo"},{id:618,lat:6.5,lon:2.6},{id:619,lat:6.75,lon:2.6},{lat:7.4,lon:2.45,title:"classRoom",building:"Science",floor:"4th Floor",node:619,label:"classroomLogo"},{id:620,lat:3.6,lon:3.33},{id:621,lat:3.6,lon:1.75},{id:622,lat:3.75,lon:1.75},{lat:4.3,lon:1.55,title:"classRoom",building:"Science",floor:"4th Floor",node:622,label:"classroomLogo"},{id:623,lat:3.6,lon:.3},{id:624,lat:3.2,lon:.25,label:"leaveButton",destination:"BRS4thFloor",desti:206},{id:625,lat:4,lon:.4},{id:626,lat:4,lon:.53},{lat:4.3,lon:.85,title:"classRoom",building:"Science",floor:"4th Floor",node:626,label:"classroomLogo"},{id:627,lat:5.5,lon:.7},{id:675,lat:6.4,lon:.9},{id:676,lat:6.4,lon:1.075},{lat:6.4,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:676,label:"classroomLogo"},{id:677,lat:6.65,lon:.95},{id:678,lat:6.65,lon:1.075},{lat:6.7,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:678,label:"classroomLogo"},{id:628,lat:5.5,lon:1.05},{lat:5.8,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:628,label:"classroomLogo"},{id:629,lat:7.85,lon:1.15,label:"leaveButton",destination:"main4thFloor",desti:737},{id:631,lat:7.85,lon:1.4},{id:632,lat:7.7,lon:1.4},{lat:7.4,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:632,label:"classroomLogo"},{id:633,lat:3.45,lon:3.45},{id:634,lat:2.95,lon:3.33,label:"leaveButton",destination:"BRS4thFloor",desti:180},{id:635,lat:3.45,lon:3.9},{id:636,lat:2.3,lon:3.9},{id:637,lat:2.3,lon:4.21},{id:638,lat:2.5,lon:4.21,label:"leaveButton",destination:"science5thFloor",desti:906},{id:639,lat:3.45,lon:4.21},{id:640,lat:3.08,lon:4.21,label:"leaveButton",destination:"science3rdFloor",desti:539},{id:641,lat:3.45,lon:4.75},{id:642,lat:3.15,lon:4.75},{lat:2.75,lon:4.7,title:"classRoom",building:"PE",floor:"4th Floor",node:642,label:"classroomLogo"},{id:643,lat:3.45,lon:5.6},{id:644,lat:3.15,lon:5.6},{lat:2.7,lon:5.55,title:"classRoom",building:"PE",floor:"4th Floor",node:644,label:"classroomLogo"},{id:645,lat:3.45,lon:6.45},{id:646,lat:3.15,lon:6.45},{lat:2.7,lon:6.45,title:"classRoom",building:"PE",floor:"4th Floor",node:646,label:"classroomLogo"},{id:647,lat:3.45,lon:6.94},{id:648,lat:2.95,lon:6.94},{lat:2.7,lon:7.1,title:"classRoom",building:"PE",floor:"4th Floor",node:648,label:"classroomLogo"},{id:649,lat:3.45,lon:7.47},{id:650,lat:2.5,lon:7.47},{id:651,lat:2.5,lon:7.66},{id:652,lat:2.6,lon:7.66,label:"leaveButton",destination:"science5thFloor",desti:929},{id:653,lat:3.45,lon:7.66},{id:654,lat:3.13,lon:7.66,label:"leaveButton",destination:"science3rdFloor",desti:563},{id:655,lat:6.6,lon:8.78,label:"leaveButton",destination:"science3rdFloor",desti:576},{id:656,lat:6.6,lon:8.6},{id:657,lat:6.6,lon:8.51},{lat:6.65,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:657,label:"classroomLogo"},{id:658,lat:6.3,lon:8.6},{id:659,lat:6.3,lon:8.55},{id:660,lat:6.3,lon:9.1},{id:661,lat:6.6,lon:9.15},{id:662,lat:6.6,lon:9.05,label:"leaveButton",destination:"science5thFloor",desti:890},{id:663,lat:6.05,lon:8.55},{id:664,lat:6.05,lon:8.65},{lat:5.85,lon:8.64,title:"classRoom",building:"Science",floor:"4th Floor",node:664,label:"classroomLogo"},{id:665,lat:6.05,lon:8.4},{lat:5.85,lon:8.03,title:"classRoom",building:"Science",floor:"4th Floor",node:665,label:"classroomLogo"},{id:666,lat:6.91,lon:8.6},{id:667,lat:6.91,lon:8.51},{lat:7.5,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:667,label:"classroomLogo"},{id:668,lat:6.91,lon:8.9},{id:669,lat:7.05,lon:8.9},{lat:7.8,lon:8.6,title:"classRoom",building:"Science",floor:"4th Floor",node:669,label:"classroomLogo"},{id:670,lat:6.91,lon:9.1},{id:671,lat:7.3,lon:9.1},{lat:7.8,lon:9.26,title:"classRoom",building:"Science",floor:"4th Floor",node:671,label:"classroomLogo"},{id:672,lat:3.6,lon:2.7},{id:673,lat:3.68,lon:2.7},{id:674,lat:3.68,lon:2.57,label:"leaveButton",destination:"science3rdFloor",desti:526}]:t=="science5thFloor"?e=[{id:890,lat:7.2,lon:8.1,label:"leaveButton",destination:"science4thFloor",desti:662},{id:891,lat:7.2,lon:7.4},{id:892,lat:7.7,lon:7.4},{lat:8.7,lon:7.2,title:"classRoom",building:"Science",floor:"5th Floor",node:893,label:"classroomLogo"},{id:893,lat:7.85,lon:7.4},{id:894,lat:7.7,lon:8.3},{id:895,lat:8.25,lon:8.3},{lat:8.95,lon:8.1,title:"classRoom",building:"Science",floor:"5th Floor",node:895,label:"classroomLogo"},{id:896,lat:7.7,lon:8.85},{id:897,lat:8.25,lon:8.85},{lat:8.95,lon:8.9,title:"classRoom",building:"Science",floor:"5th Floor",node:897,label:"classroomLogo"},{id:898,lat:6.8,lon:7.4},{id:899,lat:6.65,lon:7.4},{lat:6.1,lon:7.5,title:"classRoom",building:"Science",floor:"5th Floor",node:897,label:"classroomLogo"},{id:900,lat:6.8,lon:8.4,label:"leaveButton",destination:"science6thFloor",desti:950},{id:903,lat:2.15,lon:.5,label:"leaveButton"},{id:904,lat:2.64,lon:.7},{id:905,lat:2.64,lon:1.7},{id:906,lat:2.3,lon:1.7,label:"leaveButton",destination:"science4thFloor",desti:638},{id:907,lat:3.05,lon:1.7},{id:908,lat:3.05,lon:2.25,label:"leaveButton",destination:"science6thFloor",desti:965},{id:910,lat:2.64,lon:2.5},{id:911,lat:2.38,lon:2.5},{lat:2,lon:2.4,title:"classRoom",building:"PE",floor:"5th Floor",node:911,label:"classroomLogo"},{id:912,lat:2.64,lon:3.5},{id:913,lat:2.38,lon:3.5},{lat:2,lon:3.35,title:"classRoom",building:"PE",floor:"5th Floor",node:913,label:"classroomLogo"},{id:914,lat:2.64,lon:3.7},{id:915,lat:3.05,lon:3.7},{id:916,lat:3.05,lon:4.3},{id:917,lat:2.88,lon:4.3},{lat:2.2,lon:4.2,title:"classRoom",building:"PE",floor:"5th Floor",node:917,label:"classroomLogo"},{id:918,lat:3.05,lon:5.15},{id:919,lat:2.88,lon:5.15},{lat:2.2,lon:5.05,title:"classRoom",building:"PE",floor:"5th Floor",node:919,label:"classroomLogo"},{id:920,lat:3.05,lon:5.7},{id:921,lat:2.88,lon:5.7},{lat:2.2,lon:5.7,title:"classRoom",building:"PE",floor:"5th Floor",node:921,label:"classroomLogo"},{id:922,lat:3.05,lon:5.98},{id:923,lat:2.88,lon:5.98},{lat:2.2,lon:5.98,title:"classRoom",building:"PE",floor:"5th Floor",node:923,label:"classroomLogo"},{id:924,lat:3.05,lon:6.28},{id:925,lat:1.5,lon:6.28},{id:926,lat:1.5,lon:6.51},{id:927,lat:1.65,lon:6.51,label:"leaveButton",destination:"science6thFloor",desti:964},{id:928,lat:3.05,lon:6.51},{id:929,lat:2.35,lon:6.51,label:"leaveButton",destination:"science3thFloor",desti:652}]:t=="science6thFloor"?e=[{id:950,lat:6.83,lon:8.06,label:"leaveButton",destination:"science5thFloor",desti:900},{id:951,lat:6.83,lon:8.2},{id:952,lat:7.2,lon:8.27},{id:953,lat:7.3,lon:8.4},{lat:8.05,lon:8.4,title:"classRoom",building:"Science",floor:"6th Floor",node:953,label:"classroomLogo"},{id:954,lat:7.3,lon:8},{id:955,lat:7.3,lon:7.35},{id:956,lat:7.1,lon:7.35},{lat:6.2,lon:7.35,title:"classRoom",building:"Science",floor:"6th Floor",node:956,label:"classroomLogo"},{id:957,lat:7.3,lon:6.83},{id:958,lat:5.63,lon:6.83},{lat:5.2,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:958,label:"classroomLogo"},{id:959,lat:8,lon:8},{id:960,lat:8,lon:7.88},{lat:8.05,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:960,label:"classroomLogo"},{id:961,lat:9,lon:8},{id:962,lat:9,lon:8.12},{lat:9.1,lon:8.5,title:"classRoom",building:"Science",floor:"6th Floor",node:962,label:"classroomLogo"},{id:963,lat:9,lon:7.88},{lat:9.1,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:963,label:"classroomLogo"},{id:964,lat:2.35,lon:6.05,label:"leaveButton",destination:"science5thFloor",desti:927},{id:965,lat:3.05,lon:2,label:"leaveButton",destination:"science5thFloor",desti:908},{id:966,lat:3.05,lon:3},{id:967,lat:2.88,lon:3},{lat:2,lon:4,title:"classRoom",building:"PE",floor:"6th Floor",node:967,label:"classroomLogo"}]:t=="main4thFloor"?e=[{id:700,lat:7.1,lon:7.45,label:"leaveButton",destination:"BRS4thFloor",desti:207},{id:701,lat:5.83,lon:7.45},{id:702,lat:5.83,lon:7.6},{lat:6.5,lon:8.25,title:"classRoom",building:"Main",floor:"4th Floor",node:702,label:"classroomLogo"},{id:703,lat:5.1,lon:7.45},{id:704,lat:5.1,lon:7.6},{id:705,lat:4.74,lon:7.6},{lat:4,lon:7.9,title:"classRoom",building:"Main",floor:"4th Floor",node:705,label:"classroomLogo"},{id:706,lat:5.1,lon:9},{id:707,lat:5.1,lon:6.98},{id:708,lat:6.9,lon:6.98},{id:709,lat:6.9,lon:6.5},{id:710,lat:6.65,lon:6.5,label:"leaveButton",destination:"main5thFloor",desti:1010},{id:711,lat:5.1,lon:6.5},{id:712,lat:5.98,lon:6.5,label:"leaveButton",destination:"main3rdFloor",desti:750},{id:713,lat:5.1,lon:6.2},{id:714,lat:4.74,lon:6.2},{lat:4,lon:6.2,title:"classRoom",building:"Main",floor:"4th Floor",node:714,label:"classroomLogo"},{id:715,lat:5.1,lon:5.7},{id:716,lat:5.45,lon:5.7},{lat:6.5,lon:5.6,title:"classRoom",building:"Main",floor:"4th Floor",node:716,label:"classroomLogo"},{id:719,lat:5.1,lon:4.2},{id:720,lat:5.45,lon:4.2},{lat:6.5,lon:4.1,title:"classRoom",building:"Main",floor:"4th Floor",node:720,label:"classroomLogo"},{id:721,lat:5.1,lon:3.7},{id:722,lat:4.74,lon:3.7},{lat:4,lon:3.65,title:"classRoom",building:"Main",floor:"4th Floor",node:722,label:"classroomLogo"},{id:723,lat:5.1,lon:2.75},{id:724,lat:4.74,lon:2.75},{lat:4,lon:2.1,title:"classRoom",building:"Main",floor:"4th Floor",node:724,label:"classroomLogo"},{id:725,lat:5.45,lon:2.75},{lat:6.5,lon:2.63,title:"classRoom",building:"Main",floor:"4th Floor",node:725,label:"classroomLogo"},{id:726,lat:5.1,lon:2.15},{id:727,lat:6.15,lon:2.15},{id:728,lat:6.33,lon:2.15},{lat:6.8,lon:1.8,title:"classRoom",building:"Main",floor:"4th Floor",node:728,label:"classroomLogo"},{id:729,lat:6.15,lon:2.05},{lat:6,lon:1.75,title:"classRoom",building:"Main",floor:"4th Floor",node:729,label:"classroomLogo"},{id:730,lat:5.1,lon:1.3},{id:731,lat:6.02,lon:.82,label:"leaveButton",destination:"main3rdFloor",desti:779},{id:732,lat:6.9,lon:1.3},{id:733,lat:6.9,lon:.64},{id:734,lat:6.7,lon:.64},{id:735,lat:5.35,lon:1},{id:736,lat:5.35,lon:.68},{id:737,lat:7.1,lon:.16,label:"leaveButton",destination:"science4thFloor",desti:629}]:t=="main5thFloor"?e=[{id:1002,lat:8.5,lon:.6,label:"leaveButton",destination:"science4thFloor",desti:610},{id:1003,lat:9,lon:1.5},{id:1004,lat:2.7,lon:3.7},{lat:4,lon:3.7,title:"classRoom",building:"Main",floor:"5th Floor",node:1007,label:"classroomLogo"},{id:1005,lat:2.7,lon:6.5},{id:1009,lat:2.7,lon:7},{id:1010,lat:3.48,lon:7,label:"leaveButton",destination:"main4thFloor",desti:710},{id:1011,lat:2.7,lon:7.4},{id:1012,lat:4.08,lon:7.4},{lat:4.3,lon:7,title:"classRoom",building:"Main",floor:"5th Floor",node:1012,label:"classroomLogo"},{id:1013,lat:2.7,lon:7.8},{id:1014,lat:2.91,lon:7.8},{lat:3.7,lon:7.68,title:"classRoom",building:"Main",floor:"5th Floor",node:1014,label:"classroomLogo"},{id:1015,lat:2.23,lon:7.8},{lat:1.7,lon:8.1,title:"classRoom",building:"Main",floor:"5th Floor",node:1015,label:"classroomLogo"},{id:1016,lat:2.7,lon:8.8},{id:1017,lat:3.4,lon:8.9},{id:1018,lat:3.4,lon:8.69},{lat:3.7,lon:8.4,title:"classRoom",building:"Main",floor:"5th Floor",node:1018,label:"classroomLogo"},{id:1019,lat:4.15,lon:9,label:"leaveButton",destination:"main6thFloor",desti:1041},{id:1020,lat:2.7,lon:9.3},{id:1021,lat:.65,lon:9},{id:1022,lat:.25,lon:8.7},{id:1023,lat:.25,lon:7.25},{id:1024,lat:0,lon:7.25,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1160}]:t=="main6thFloor"?e=[{id:1080,lat:6.89,lon:8.9,label:"leaveButton",destination:"main5thFloor",desti:1019},{id:1081,lat:7.1,lon:8.9},{id:1082,lat:7.1,lon:8.3},{id:1083,lat:5.2,lon:8.3},{id:1084,lat:5.2,lon:8.03},{lat:5.2,lon:4.3,title:"classRoom",building:"Main",floor:"6th Floor",node:1084,label:"classroomLogo"}]:t=="main3rdFloor"?e=[{id:750,lat:7.05,lon:7,label:"leaveButton",destination:"main4thFloor",desti:712},{id:751,lat:7.25,lon:7},{id:752,lat:7.25,lon:7.5},{id:753,lat:5.8,lon:7.5},{id:754,lat:5.8,lon:7.75},{lat:6.6,lon:8.8,title:"classRoom",building:"Main",floor:"3rd Floor",node:754,label:"classroomLogo"},{id:755,lat:5.8,lon:7},{id:756,lat:6.28,lon:7,label:"leaveButton",destination:"main2ndFloor",desti:800},{id:757,lat:5.1,lon:7.5},{id:758,lat:5.1,lon:7.75},{lat:4.8,lon:8.5,title:"classRoom",building:"Main",floor:"3rd Floor",node:758,label:"classroomLogo"},{id:759,lat:5.1,lon:7},{id:760,lat:4.7,lon:7},{lat:3.7,lon:6.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:760,label:"classroomLogo"},{id:761,lat:5.1,lon:5.8},{id:762,lat:5.55,lon:5.8},{lat:6.6,lon:5.7,title:"classRoom",building:"Main",floor:"3rd Floor",node:762,label:"classroomLogo"},{id:763,lat:5.1,lon:4.8},{id:764,lat:4.7,lon:4.8},{lat:3.7,lon:4.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:764,label:"classroomLogo"},{id:765,lat:5.1,lon:4.1},{id:766,lat:5.55,lon:4.1},{lat:6.6,lon:3.75,title:"classRoom",building:"Main",floor:"3rd Floor",node:766,label:"classroomLogo"},{id:767,lat:5.1,lon:2.93},{id:768,lat:6.1,lon:2.93},{id:769,lat:6.1,lon:2.68},{lat:6.1,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:769,label:"classroomLogo"},{id:770,lat:7,lon:2.93},{id:771,lat:7,lon:2.68},{lat:7,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:771,label:"classroomLogo"},{id:772,lat:7.45,lon:2.93,label:"leaveButton",destination:"science3rdFloor",desti:513},{id:773,lat:5.1,lon:2.6},{id:774,lat:4.7,lon:2.6},{lat:3.7,lon:2.4,title:"classRoom",building:"Main",floor:"3rd Floor",node:774,label:"classroomLogo"},{id:775,lat:5.1,lon:1.2},{id:776,lat:6.25,lon:.65,label:"leaveButton",destination:"main2ndFloor",desti:833},{id:777,lat:7.3,lon:1.2},{id:778,lat:7.3,lon:.4},{id:779,lat:7.09,lon:.4,label:"leaveButton",destination:"main4thFloor",desti:731}]:t=="main2ndFloor"?e=[{id:800,lat:9.72,lon:6.24,label:"leaveButton",destination:"main3rdFloor",desti:756},{id:801,lat:9.85,lon:6.24},{id:802,lat:9.85,lon:6.6},{id:803,lat:8.8,lon:6.6},{id:804,lat:8.8,lon:6.75},{lat:9.5,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:804,label:"classroomLogo"},{id:805,lat:8.25,lon:6.6},{id:806,lat:8.25,lon:6.75},{lat:8.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:804,label:"classroomLogo"},{id:807,lat:8.25,lon:6.11},{id:808,lat:8.57,lon:6.11},{lat:9.3,lon:6.15,title:"classRoom",building:"Main",floor:"2nd Floor",node:808,label:"classroomLogo"},{id:809,lat:8.25,lon:5.7},{id:810,lat:7.97,lon:5.7},{lat:7.3,lon:5.6,title:"classRoom",building:"Main",floor:"2nd Floor",node:810,label:"classroomLogo"},{id:811,lat:8.25,lon:5.45},{id:812,lat:8.57,lon:5.45},{lat:9.3,lon:5.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:812,label:"classroomLogo"},{id:813,lat:8.25,lon:4.65},{id:814,lat:7.97,lon:4.65},{lat:7.3,lon:4.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:814,label:"classroomLogo"},{id:815,lat:8.25,lon:4.29},{id:816,lat:8.57,lon:4.29},{lat:9.3,lon:4.2,title:"classRoom",building:"Main",floor:"2nd Floor",node:816,label:"classroomLogo"},{id:817,lat:8.25,lon:3.65},{id:818,lat:7.97,lon:3.65},{lat:7.3,lon:3.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:818,label:"classroomLogo"},{id:819,lat:8.25,lon:3},{id:820,lat:9.25,lon:3},{id:821,lat:9.25,lon:3.1},{lat:9.1,lon:3.33,title:"classRoom",building:"Main",floor:"2nd Floor",node:821,label:"classroomLogo"},{id:822,lat:9.35,lon:3},{lat:9.75,lon:3.25,title:"classRoom",building:"Main",floor:"2nd Floor",node:822,label:"classroomLogo"},{id:823,lat:8.25,lon:2.75},{id:824,lat:7.97,lon:2.75},{lat:7.3,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:824,label:"classroomLogo"},{id:825,lat:9.02,lon:2.75},{lat:9.55,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:825,label:"classroomLogo"},{id:826,lat:8.25,lon:2.34},{id:827,lat:8.62,lon:2.34,label:"leaveButton",destination:"science2ndFloor",desti:88},{id:828,lat:8.25,lon:1.92},{id:829,lat:8.25,lon:1.7},{id:830,lat:8.57,lon:1.6},{lat:9.3,lon:1.43,title:"classRoom",building:"Main",floor:"2nd Floor",node:830,label:"classroomLogo"},{id:831,lat:9.85,lon:1.92},{id:832,lat:9.85,lon:1.5},{id:833,lat:9.6,lon:1.4,label:"leaveButton",destination:"main3rdFloor",desti:776},{id:834,lat:6.15,lon:6.6},{id:835,lat:6.15,lon:6.75},{lat:6.25,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:835,label:"classroomLogo"},{id:836,lat:6.15,lon:6.23},{id:837,lat:5.6,lon:6.6},{id:838,lat:5.6,lon:6.75},{lat:5.7,lon:7.05,title:"classRoom",building:"Main",floor:"2nd Floor",node:838,label:"classroomLogo"},{id:839,lat:5.25,lon:6.6},{id:840,lat:5.25,lon:6.75},{id:841,lat:4.6,lon:6.6},{id:864,lat:4.6,lon:6.3,label:"elevator"},{lat:4.7,lon:5.75,title:"classRoom",building:"Main",floor:"2nd Floor",node:864},{id:842,lat:4.25,lon:6.6},{id:843,lat:4.25,lon:6.75},{lat:4.4,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:843,label:"classroomLogo"},{id:844,lat:3.95,lon:6.6},{id:845,lat:3.95,lon:6.23},{lat:4.5,lon:4.23,title:"classRoom",building:"EDS",floor:"2nd Floor",node:846,label:"classroomLogo"},{id:847,lat:3.3,lon:6.6},{id:848,lat:3.3,lon:6.2,label:"leaveButton"},{id:849,lat:2.95,lon:6.6},{id:850,lat:2.95,lon:6.75},{lat:3.3,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:850,label:"classroomLogo"},{id:851,lat:2.7,lon:6.6},{id:852,lat:2.7,lon:5.45},{id:853,lat:3.3,lon:5.45},{id:854,lat:3.3,lon:5.7,label:"leaveButton"},{id:855,lat:1.65,lon:6.6},{id:856,lat:1.65,lon:6.75},{lat:1.8,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:856,label:"classroomLogo"},{id:857,lat:1.65,lon:6.23},{id:858,lat:.7,lon:6.6},{id:859,lat:.7,lon:6.23},{id:861,lat:.3,lon:6.6},{id:862,lat:.3,lon:6.75},{lat:.55,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:862,label:"classroomLogo"},{id:865,lat:7.25,lon:6.6},{id:866,lat:7.25,lon:6.75},{lat:7.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:866,label:"classroomLogo"}]:t=="CHTMEDS4thFloor"?e=[{id:1161,lat:4.95,lon:.75,label:"leaveButtons"},{id:1162,lat:5.28,lon:.75,label:"leaveButtons"},{id:1164,lat:4.95,lon:1.42,label:"leaveButtons"},{id:1165,lat:4.57,lon:1.42,label:"elevator"},{id:1166,lat:4.95,lon:1.9,label:"leaveButtons"},{id:1167,lat:2.95,lon:1.9,label:"leaveButtons"},{id:1168,lat:2.95,lon:1.7,label:"leaveButtons"},{id:1169,lat:2.95,lon:2.1,label:"leaveButtons"},{id:1170,lat:2.42,lon:1.9,label:"leaveButtons"},{id:1171,lat:4.95,lon:2.15,label:"leaveButtons"},{id:1172,lat:5.28,lon:2.15,label:"leaveButtons"},{id:1173,lat:4.95,lon:2.39,label:"leaveButtons"},{id:1174,lat:4.5,lon:2.39,label:"leaveButton",destination:"CHTMEDS4thFloor"},{id:1175,lat:4.95,lon:2.9,label:"leaveButtons"},{id:1176,lat:3.5,lon:2.9,label:"leaveButtons"},{id:1177,lat:3.5,lon:2.39,label:"leaveButtons"},{id:1178,lat:3.88,lon:2.39,label:"leaveButton"},{id:1179,lat:4.95,lon:3.65,label:"leaveButtons"},{id:1180,lat:5.28,lon:3.65,label:"leaveButtons"},{id:1181,lat:4.57,lon:3.65,label:"leaveButtons"},{id:1182,lat:4.95,lon:4.5,label:"leaveButtons"},{id:1183,lat:4.57,lon:4.5,label:"leaveButtons"},{id:1184,lat:4.95,lon:5.2,label:"leaveButtons"},{id:1185,lat:6.05,lon:5.2,label:"leaveButtons"},{id:1186,lat:6.05,lon:6,label:"leaveButtons"},{id:1187,lat:6.43,lon:6,label:"leaveButtons"},{id:1188,lat:5.71,lon:6,label:"leaveButtons"},{id:1189,lat:6.05,lon:6.75,label:"leaveButtons"},{id:1190,lat:5.67,lon:6.75,label:"leaveButton"},{id:1191,lat:6.05,lon:7.2,label:"leaveButtons"},{id:1192,lat:4.8,lon:7.2,label:"leaveButtons"},{id:1193,lat:4.8,lon:6.75,label:"leaveButtons"},{id:1194,lat:5.07,lon:6.75,label:"leaveButton"},{id:1195,lat:6.75,lon:7.2,label:"leaveButtons"},{id:1196,lat:7.07,lon:7.2,label:"leaveButtons"},{id:1197,lat:6.75,lon:7.65,label:"leaveButtons"},{id:1198,lat:6.47,lon:7.65,label:"elevator"},{id:1199,lat:6.75,lon:7.95,label:"leaveButtons"},{id:1200,lat:6.47,lon:7.95,label:"leaveButtons"},{id:1201,lat:7.07,lon:7.95,label:"leaveButtons"},{id:1202,lat:6.75,lon:8.8,label:"leaveButtons"},{id:1203,lat:7.07,lon:8.8,label:"leaveButtons"},{id:1204,lat:6.47,lon:8.8,label:"leaveButtons"}]:t=="CHTMEDS5thFloor"?e=[{id:1160,lat:4.95,lon:0,label:"leaveButton",destination:"main5thFloor",desti:1024},{id:1161,lat:4.95,lon:.75,label:"leaveButtons"},{id:1162,lat:5.28,lon:.75,label:"leaveButtons"},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1162,label:"classroomLogo"},{id:1163,lat:4.57,lon:.75,label:"leaveButtons"},{id:1164,lat:4.95,lon:1.42,label:"leaveButtons"},{id:1165,lat:4.57,lon:1.42,label:"elevator"},{lat:4.3,lon:1.27,title:"classRoom",building:"EDS",floor:"5th Floor",node:1165,label:"classroomLogo"},{id:1166,lat:4.95,lon:1.9,label:"leaveButtons"},{id:1167,lat:2.95,lon:1.9,label:"leaveButtons"},{id:1168,lat:2.95,lon:1.7,label:"leaveButtons"},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1168,label:"classroomLogo"},{id:1169,lat:2.95,lon:2.1,label:"leaveButtons"},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"5th Floor",node:1169,label:"classroomLogo"},{id:1170,lat:2.42,lon:1.9,label:"leaveButtons"},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1170,label:"classroomLogo"},{id:1171,lat:4.95,lon:2.15,label:"leaveButtons"},{id:1172,lat:5.28,lon:2.15,label:"leaveButtons"},{lat:6.8,lon:2.1,title:"classRoom",building:"EDS",floor:"5th Floor",node:1172,label:"classroomLogo"},{id:1173,lat:4.95,lon:2.39,label:"leaveButtons"},{id:1174,lat:4.5,lon:2.39,label:"leaveButton",destination:"CHTMEDS4thFloor"},{id:1175,lat:4.95,lon:2.9,label:"leaveButtons"},{id:1176,lat:3.5,lon:2.9,label:"leaveButtons"},{id:1177,lat:3.5,lon:2.39,label:"leaveButtons"},{id:1178,lat:3.88,lon:2.39,label:"leaveButton"},{id:1179,lat:4.95,lon:3.65,label:"leaveButtons"},{id:1180,lat:5.28,lon:3.65,label:"leaveButtons"},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1180,label:"classroomLogo"},{id:1181,lat:4.57,lon:3.65,label:"leaveButtons"},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1181,label:"classroomLogo"},{id:1182,lat:4.95,lon:4.5,label:"leaveButtons"},{id:1183,lat:4.57,lon:4.5,label:"leaveButtons"},{lat:4,lon:4.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1183,label:"classroomLogo"},{id:1184,lat:4.95,lon:5.2,label:"leaveButtons"},{id:1185,lat:6.05,lon:5.2,label:"leaveButtons"},{id:1186,lat:6.05,lon:6,label:"leaveButtons"},{id:1187,lat:6.43,lon:6,label:"leaveButtons"},{lat:7.1,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1187,label:"classroomLogo"},{id:1188,lat:5.71,lon:6,label:"leaveButtons"},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1188,label:"classroomLogo"},{id:1189,lat:6.05,lon:6.75,label:"leaveButtons"},{id:1190,lat:5.67,lon:6.75,label:"leaveButton"},{id:1191,lat:6.05,lon:7.2,label:"leaveButtons"},{id:1192,lat:4.8,lon:7.2,label:"leaveButtons"},{id:1193,lat:4.8,lon:6.75,label:"leaveButtons"},{id:1194,lat:5.07,lon:6.75,label:"leaveButton"},{id:1195,lat:6.75,lon:7.2,label:"leaveButtons"},{id:1196,lat:7.07,lon:7.2,label:"leaveButtons"},{lat:7.9,lon:6.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1196,label:"classroomLogo"},{id:1197,lat:6.75,lon:7.65,label:"leaveButtons"},{id:1198,lat:6.47,lon:7.65,label:"elevator"},{lat:6.3,lon:7.5,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1198,label:"classroomLogo"},{id:1199,lat:6.75,lon:7.95,label:"leaveButtons"},{id:1200,lat:6.47,lon:7.95,label:"leaveButtons"},{lat:5.8,lon:7.65,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1200,label:"classroomLogo"},{id:1201,lat:7.07,lon:7.95,label:"leaveButtons"},{lat:7.9,lon:7.8,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1201,label:"classroomLogo"},{id:1202,lat:6.75,lon:8.8,label:"leaveButtons"},{id:1203,lat:7.07,lon:8.8,label:"leaveButtons"},{lat:7.9,lon:8.9,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1203,label:"classroomLogo"},{id:1204,lat:6.47,lon:8.8,label:"leaveButtons"}]:t=="BRS1stFloor"?e=[{id:130,lat:8.3,lon:9.65,label:"leaveButton",destination:"science1stFloor",desti:404},{id:131,lat:5,lon:9.65},{id:132,lat:5,lon:8.1},{id:133,lat:5.38,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"1st Floor",node:133,label:"classroomLogo"},{id:134,lat:5,lon:7.1},{id:135,lat:4.66,lon:7.1},{lat:3.4,lon:7,title:"classRoom",building:"BRS",floor:"1st Floor",node:135,label:"classroomLogo"},{id:136,lat:5,lon:5.7},{id:137,lat:5.38,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"1st Floor",node:137,label:"classroomLogo"},{id:138,lat:5,lon:4.3},{id:139,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"1st Floor",node:139,label:"classroomLogo"},{id:140,lat:5,lon:4.17},{id:141,lat:5.4,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"1st Floor",node:141,label:"classroomLogo"},{id:142,lat:5,lon:3.1},{id:143,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"1st Floor",node:143},{id:144,lat:5,lon:1.5},{id:145,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"1st Floor",node:145,label:"classroomLogo"},{id:146,lat:5,lon:.7},{id:147,lat:6.6,lon:.7},{id:148,lat:6.6,lon:1.9},{id:149,lat:6.2,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:115}]:t=="BRS2ndFloor"?e=[{id:100,lat:8.55,lon:9.65,label:"leaveButton",destination:"science2ndFloor",desti:77},{id:101,lat:5.25,lon:9.65},{id:102,lat:5.25,lon:8.1},{id:103,lat:5.6,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"2nd Floor",node:103,label:"classroomLogo"},{id:104,lat:5.25,lon:7.7},{id:105,lat:4.95,lon:7.7},{lat:3.5,lon:7.6,title:"classRoom",building:"BRS",floor:"2nd Floor",node:105,label:"classroomLogo"},{id:106,lat:5.25,lon:5.7},{id:107,lat:5.6,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:107,label:"classroomLogo"},{id:108,lat:5.25,lon:4.7},{id:109,lat:4.95,lon:4.7},{lat:3.5,lon:4.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:109,label:"classroomLogo"},{id:110,lat:5.25,lon:4.17},{id:111,lat:5.8,lon:4.17},{lat:6.9,lon:3.6,title:"facility",building:"BRS",floor:"2nd Floor",node:111,label:"classroomLogo"},{id:112,lat:5.25,lon:3.1},{id:113,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"",building:"BRS",floor:"2nd Floor",node:113},{id:114,lat:5.25,lon:1.9},{id:115,lat:5.6,lon:1.9,label:"leaveButton",destination:"BRS1stFloor",desti:149},{id:116,lat:5.25,lon:1.6},{id:117,lat:4.95,lon:1.6},{lat:3.5,lon:1.4,title:"classRoom",building:"BRS",floor:"2nd Floor",node:117,label:"classroomLogo"},{id:118,lat:5.25,lon:.7},{id:119,lat:6.9,lon:.7},{id:120,lat:6.9,lon:1.9},{id:121,lat:6.5,lon:1.9,label:"leaveButton",destination:"BRS3rdFloor",desti:168}]:t=="BRS3rdFloor"?e=[{id:155,lat:8.3,lon:9.65,label:"leaveButton",destination:"science3rdFloor",desti:532},{id:156,lat:5,lon:9.65},{id:157,lat:5,lon:7.8},{id:158,lat:4.66,lon:7.8},{lat:3.4,lon:7.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:158,label:"classroomLogo"},{id:159,lat:5,lon:7},{id:160,lat:5.38,lon:7},{lat:7,lon:6.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:160,label:"classroomLogo"},{id:161,lat:5,lon:4.3},{id:162,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"3rd Floor",node:162,label:"classroomLogo"},{id:163,lat:5,lon:4.17},{id:164,lat:5.5,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"3rd Floor",node:164,label:"classroomLogo"},{id:165,lat:5,lon:3.1},{id:166,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"3rd Floor",node:166},{id:167,lat:5,lon:1.9},{id:168,lat:5.38,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:121},{id:169,lat:5,lon:1.5},{id:170,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"3rd Floor",node:170,label:"classroomLogo"},{id:171,lat:5,lon:.7},{id:172,lat:6.6,lon:.7},{id:173,lat:6.6,lon:1.9},{id:174,lat:6.26,lon:1.9,label:"leaveButton",destination:"BRS4thFloor",desti:197}]:t=="BRS4thFloor"?e=[{id:202,lat:6.28,lon:2.95,label:"leaveButton",destination:"BRS5thFloor",desti:222},{id:201,lat:6.6,lon:2.95},{id:200,lat:6.6,lon:1.9},{id:199,lat:5.22,lon:1.9},{id:198,lat:5.22,lon:2.45},{id:203,lat:4.9,lon:2.45},{id:204,lat:4.9,lon:1.9},{id:205,lat:4.9,lon:.85},{id:206,lat:5.6,lon:.85,label:"leaveButton",destination:"science4thFloor",desti:624},{id:207,lat:4.9,lon:.1,label:"leaveButton",destination:"main4thFloor",desti:700},{id:196,lat:5.22,lon:2.95},{id:197,lat:5.55,lon:2.95,label:"leaveButton",destination:"BRS3rdFloor",desti:174},{id:194,lat:5.22,lon:4},{id:195,lat:5.55,lon:4,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:3.9,title:"classRoom",building:"BRS",floor:"4th Floor",node:195},{id:192,lat:5.22,lon:4.5},{id:193,lat:4.93,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:193,label:"classroomLogo"},{id:190,lat:5.22,lon:4.98},{id:191,lat:5.7,lon:4.98},{lat:6.8,lon:4.5,title:"classRoom",building:"BRS",floor:"4th Floor",node:191},{id:188,lat:5.22,lon:6.3},{id:189,lat:5.55,lon:6.3},{lat:6.8,lon:6,title:"classRoom",building:"BRS",floor:"4th Floor",node:189,label:"classroomLogo"},{id:186,lat:5.22,lon:6.55},{id:187,lat:4.93,lon:6.55},{lat:4,lon:6.4,title:"classRoom",building:"BRS",floor:"4th Floor",node:187,label:"classroomLogo"},{id:184,lat:5.22,lon:8.3},{id:185,lat:5.55,lon:8.3},{lat:6.8,lon:8,title:"classRoom",building:"BRS",floor:"4th Floor",node:185,label:"classroomLogo"},{id:182,lat:5.22,lon:8.5},{id:183,lat:4.93,lon:8.5},{lat:4,lon:8.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:183,label:"classroomLogo"},{id:181,lat:5.22,lon:9.67},{id:180,lat:8.05,lon:9.67,label:"leaveButton",destination:"science4thFloor",desti:634},{id:208,lat:1.9,lon:2.45},{lat:2,lon:2.45,title:"classRoom",building:"BRS",floor:"4th Floor",node:208}]:t=="BRS5thFloor"?e=[{id:215,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:237},{id:216,lat:6.65,lon:1.88},{id:217,lat:6.65,lon:.65},{id:218,lat:4.95,lon:.65},{id:219,lat:4.95,lon:1.4},{id:220,lat:4.66,lon:1.4},{lat:3.3,lon:3.4,title:"classRoom",building:"BRS",floor:"5th Floor",node:220},{id:221,lat:4.95,lon:1.88},{id:222,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS4thFloor",desti:202},{id:223,lat:4.95,lon:3.1},{id:224,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"5th Floor",node:224},{id:225,lat:4.95,lon:4.15},{id:226,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"5th Floor",node:226},{lat:7.5,lon:6.5,title:"classRoom",building:"BRS",floor:"5th Floor",node:227}]:t=="BRS6thFloor"?e=[{id:230,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:262},{id:231,lat:6.65,lon:1.88},{id:232,lat:6.65,lon:.65},{id:233,lat:4.95,lon:.65},{id:234,lat:4.95,lon:1.2},{id:235,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"6th Floor",node:235},{id:236,lat:4.95,lon:1.88},{id:237,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS5thFloor",desti:215},{id:238,lat:4.95,lon:3.1},{id:239,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"6th Floor",node:239},{id:240,lat:4.95,lon:4.15},{id:241,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"6th Floor",node:241},{id:242,lat:4.66,lon:4.15},{id:243,lat:4.95,lon:7},{id:244,lat:4.66,lon:7},{id:245,lat:5.4,lon:7},{lat:7.5,lon:6.8,title:"classRoom",building:"BRS",floor:"6th Floor",node:245},{id:246,lat:4.95,lon:9.65},{id:247,lat:5.4,lon:9.65},{lat:3.3,lon:5,title:"classRoom",building:"BRS",floor:"6th Floor",node:248}]:t=="BRS7thFloor"?e=[{id:255,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:287},{id:256,lat:6.65,lon:1.88},{id:257,lat:6.65,lon:.65},{id:258,lat:4.95,lon:.65},{id:259,lat:4.95,lon:1.2},{id:260,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"7th Floor",node:260},{id:261,lat:4.95,lon:1.88},{id:262,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:230},{id:263,lat:4.95,lon:3.1},{id:264,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:264},{id:265,lat:4.95,lon:3.5},{id:266,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"7th Floor",node:266},{id:267,lat:4.95,lon:4.15},{id:268,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"7th Floor",node:268},{id:269,lat:4.95,lon:5.8},{id:270,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:270},{id:271,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:271},{id:272,lat:4.95,lon:8.1},{id:273,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"7th Floor",node:273},{id:274,lat:4.95,lon:8.6},{id:275,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:275}]:t=="BRS8thFloor"?e=[{id:280,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS9thFloor",desti:312},{id:281,lat:6.65,lon:1.88},{id:282,lat:6.65,lon:.65},{id:283,lat:4.95,lon:.65},{id:284,lat:4.95,lon:1.2},{id:285,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"8th Floor",node:285},{id:286,lat:4.95,lon:1.88},{id:287,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:255},{id:288,lat:4.95,lon:3.1},{id:289,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:289},{id:290,lat:4.95,lon:3.5},{id:291,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"8th Floor",node:291},{id:292,lat:4.95,lon:4.15},{id:293,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"8th Floor",node:293},{id:294,lat:4.95,lon:5.8},{id:295,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:295},{id:296,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:296},{id:297,lat:4.95,lon:8.1},{id:298,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"8th Floor",node:298},{id:299,lat:4.95,lon:8.6},{id:300,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:300}]:t=="BRS9thFloor"?e=[{id:305,lat:6.4,lon:1,label:"leaveButton",destination:"BRS10thFloor",desti:1040},{id:306,lat:6.65,lon:1},{id:307,lat:6.65,lon:.45},{id:308,lat:4.95,lon:.45},{id:309,lat:4.95,lon:1.2},{id:310,lat:4.43,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"9th Floor",node:310},{id:311,lat:4.95,lon:1.88},{id:312,lat:5.6,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:280},{id:313,lat:4.95,lon:3.1},{id:314,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:2.9,title:"classRoom",building:"BRS",floor:"9th Floor",node:314},{id:315,lat:4.95,lon:3.5},{id:316,lat:4.43,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"9th Floor",node:316},{id:317,lat:4.95,lon:4.15},{id:318,lat:5.7,lon:4.15},{lat:6.8,lon:3.6,title:"classRoom",building:"BRS",floor:"9th Floor",node:318},{id:319,lat:4.95,lon:5.3},{id:320,lat:5.6,lon:5.3},{lat:7.5,lon:5,title:"classRoom",building:"BRS",floor:"9th Floor",node:320},{id:321,lat:4.95,lon:5.8},{id:322,lat:4.43,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"9th Floor",node:322},{id:323,lat:4.95,lon:7.2},{id:324,lat:5.6,lon:7.2},{lat:7.5,lon:7,title:"classRoom",building:"BRS",floor:"9th Floor",node:324},{id:325,lat:4.95,lon:8.1},{id:326,lat:4.43,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:326},{id:327,lat:4.95,lon:9.15},{id:328,lat:5.6,lon:9.15},{lat:7.5,lon:8.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:328}]:t=="BRS10thFloor"&&(e=[{id:1040,lat:5.6,lon:1,label:"leaveButton",destination:"BRS9thFloor",desti:305},{id:1041,lat:5,lon:1},{id:1042,lat:5,lon:1.2},{id:1043,lat:4.4,lon:1.2},{lat:3.3,lon:1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1043,label:"classroomLogo"},{id:1044,lat:5,lon:1.9},{id:1061,lat:5.62,lon:1.9},{id:1045,lat:5,lon:3.1},{id:1046,lat:5.62,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"classRoom",building:"BRS",floor:"10th Floor",node:1046},{id:1047,lat:5,lon:3.5},{id:1048,lat:4.4,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"10th Floor",node:1048,label:"classroomLogo"},{id:1049,lat:5,lon:5.8},{id:1050,lat:3.88,lon:5.8},{lat:2.8,lon:5.55,title:"classRoom",building:"BRS",floor:"10th Floor",node:1050,label:"classroomLogo"},{id:1051,lat:5,lon:7.1},{id:1052,lat:5.62,lon:7.1},{lat:7.2,lon:7.1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1052,label:"classroomLogo"},{id:1053,lat:5,lon:8},{id:1054,lat:4.6,lon:8},{id:1055,lat:3.88,lon:8},{lat:2.8,lon:7.8,title:"classRoom",building:"BRS",floor:"10th Floor",node:1055,label:"classroomLogo"},{id:1056,lat:4.6,lon:9},{id:1057,lat:4.2,lon:9},{id:1058,lat:4.2,lon:9.23},{id:1059,lat:5.35,lon:9},{id:1060,lat:5.35,lon:9.23},{lat:7.2,lon:8.85,title:"classRoom",building:"BRS",floor:"10th Floor",node:1060,label:"classroomLogo"}]),e}var kg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(t,e){if(!t)throw Ea(e)},Ea=function(t){return new Error("Firebase Database ("+$2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let l=t.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Fv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const l=t[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=t[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=t[n++],p=t[n++],v=t[n++],C=((l&7)<<18|(u&63)<<12|(p&63)<<6|v&63)-65536;e[r++]=String.fromCharCode(55296+(C>>10)),e[r++]=String.fromCharCode(56320+(C&1023))}else{const u=t[n++],p=t[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|p&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<t.length;l+=3){const u=t[l],p=l+1<t.length,v=p?t[l+1]:0,C=l+2<t.length,x=C?t[l+2]:0,R=u>>2,I=(u&3)<<4|v>>4;let D=(v&15)<<2|x>>6,W=x&63;C||(W=64,p||(D=64)),r.push(n[R],n[I],n[D],n[W])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<t.length;){const u=n[t.charAt(l++)],v=l<t.length?n[t.charAt(l)]:0;++l;const x=l<t.length?n[t.charAt(l)]:64;++l;const I=l<t.length?n[t.charAt(l)]:64;if(++l,u==null||v==null||x==null||I==null)throw new zv;const D=u<<2|v>>4;if(r.push(D),x!==64){const W=v<<4&240|x>>2;if(r.push(W),I!==64){const Y=x<<6&192|I;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e_=function(t){const e=J2(t);return p1.encodeByteArray(e,!0)},pu=function(t){return e_(t).replace(/\./g,"")},$h=function(t){try{return p1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t){return t_(void 0,t)}function t_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Hv(n)||(t[n]=t_(t[n],e[n]));return t}function Hv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=()=>Wv().__FIREBASE_DEFAULTS__,jv=()=>{if(typeof process>"u"||typeof kg>"u")return;const t=kg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$h(t[1]);return e&&JSON.parse(e)},n_=()=>{try{return Vv()||jv()||Gv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zv=t=>{var e,n;return(n=(e=n_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yv=t=>{const e=Zv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i_=()=>{var t;return(t=n_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pu(JSON.stringify(n)),pu(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qv())}function Kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o_(){return $2.NODE_ADMIN===!0}function qv(){try{return typeof indexedDB=="object"}catch{return!1}}function $v(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="FirebaseError";class Yl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Jv,Object.setPrototypeOf(this,Yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s_.prototype.create)}}class s_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],p=u?ew(u,r):"Error",v=`${this.serviceName}: ${p} (${l}).`;return new Yl(l,v,r)}}function ew(t,e){return t.replace(tw,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const tw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return JSON.parse(t)}function Dn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(t){let e={},n={},r={},l="";try{const u=t.split(".");e=Ll($h(u[0])||""),n=Ll($h(u[1])||""),l=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:l}},nw=function(t){const e=a_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iw=function(t){const e=a_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mu(t,e,n){const r={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=e.call(n,t[l],l,t));return r}function Jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=t[l],p=e[l];if(zg(u)&&zg(p)){if(!Jh(u,p))return!1}else if(u!==p)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function zg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let I=0;I<16;I++)r[I]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let I=0;I<16;I++)r[I]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let I=16;I<80;I++){const D=r[I-3]^r[I-8]^r[I-14]^r[I-16];r[I]=(D<<1|D>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],p=this.chain_[2],v=this.chain_[3],C=this.chain_[4],x,R;for(let I=0;I<80;I++){I<40?I<20?(x=v^u&(p^v),R=1518500249):(x=u^p^v,R=1859775393):I<60?(x=u&p|v&(u|p),R=2400959708):(x=u^p^v,R=3395469782);const D=(l<<5|l>>>27)+x+C+R+r[I]&4294967295;C=v,v=p,p=(u<<30|u>>>2)&4294967295,u=l,l=D}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+p&4294967295,this.chain_[3]=this.chain_[3]+v&4294967295,this.chain_[4]=this.chain_[4]+C&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let l=0;const u=this.buf_;let p=this.inbuf_;for(;l<n;){if(p===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[p]=e.charCodeAt(l),++p,++l,p===this.blockSize){this.compress_(u),p=0;break}}else for(;l<n;)if(u[p]=e[l],++p,++l,p===this.blockSize){this.compress_(u),p=0;break}}this.inbuf_=p,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[l]>>u&255,++r;return e}}function l_(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let l=t.charCodeAt(r);if(l>=55296&&l<=56319){const u=l-55296;r++,ge(r<t.length,"Surrogate pair missing trail surrogate.");const p=t.charCodeAt(r)-56320;l=65536+(u<<10)+p}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Ku=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){return t&&t._delegate?t._delegate:t}class Ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cw(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,p]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(u);r===v&&p.resolve(l)}return l}onInit(e,n){var r;const l=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(l,u);const p=this.instances.get(l);return p&&e(p,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lw(t){return t===es?void 0:t}function cw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ft||(Ft={}));const dw={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},hw=Ft.INFO,fw={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},gw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),l=fw[e];if(l)console[l](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=hw,this._logHandler=gw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const pw=(t,e)=>e.some(n=>t instanceof n);let Ug,Hg;function mw(){return Ug||(Ug=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _w(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u_=new WeakMap,ef=new WeakMap,d_=new WeakMap,Wd=new WeakMap,_1=new WeakMap;function yw(t){const e=new Promise((n,r)=>{const l=()=>{t.removeEventListener("success",u),t.removeEventListener("error",p)},u=()=>{n(No(t.result)),l()},p=()=>{r(t.error),l()};t.addEventListener("success",u),t.addEventListener("error",p)});return e.then(n=>{n instanceof IDBCursor&&u_.set(n,t)}).catch(()=>{}),_1.set(e,t),e}function xw(t){if(ef.has(t))return;const e=new Promise((n,r)=>{const l=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",p),t.removeEventListener("abort",p)},u=()=>{n(),l()},p=()=>{r(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",u),t.addEventListener("error",p),t.addEventListener("abort",p)});ef.set(t,e)}let tf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ef.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ew(t){tf=t(tf)}function vw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vd(this),e,...n);return d_.set(r,e.sort?e.sort():[e]),No(r)}:_w().includes(t)?function(...e){return t.apply(Vd(this),e),No(u_.get(this))}:function(...e){return No(t.apply(Vd(this),e))}}function ww(t){return typeof t=="function"?vw(t):(t instanceof IDBTransaction&&xw(t),pw(t,mw())?new Proxy(t,tf):t)}function No(t){if(t instanceof IDBRequest)return yw(t);if(Wd.has(t))return Wd.get(t);const e=ww(t);return e!==t&&(Wd.set(t,e),_1.set(e,t)),e}const Vd=t=>_1.get(t);function Cw(t,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const p=indexedDB.open(t,e),v=No(p);return r&&p.addEventListener("upgradeneeded",C=>{r(No(p.result),C.oldVersion,C.newVersion,No(p.transaction),C)}),n&&p.addEventListener("blocked",C=>n(C.oldVersion,C.newVersion,C)),v.then(C=>{u&&C.addEventListener("close",()=>u()),l&&C.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),v}const Sw=["get","getKey","getAll","getAllKeys","count"],Aw=["put","add","delete","clear"],jd=new Map;function Wg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=Aw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Sw.includes(n)))return;const u=async function(p,...v){const C=this.transaction(p,l?"readwrite":"readonly");let x=C.store;return r&&(x=x.index(v.shift())),(await Promise.all([x[n](...v),l&&C.done]))[0]};return jd.set(e,u),u}Ew(t=>({...t,get:(e,n,r)=>Wg(e,n)||t.get(e,n,r),has:(e,n)=>!!Wg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nf="@firebase/app",Vg="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new c_("@firebase/app"),bw="@firebase/app-compat",Rw="@firebase/analytics-compat",Nw="@firebase/analytics",Mw="@firebase/app-check-compat",Lw="@firebase/app-check",Ow="@firebase/auth",Dw="@firebase/auth-compat",Pw="@firebase/database",Bw="@firebase/database-compat",kw="@firebase/functions",Fw="@firebase/functions-compat",zw="@firebase/installations",Uw="@firebase/installations-compat",Hw="@firebase/messaging",Ww="@firebase/messaging-compat",Vw="@firebase/performance",jw="@firebase/performance-compat",Gw="@firebase/remote-config",Zw="@firebase/remote-config-compat",Yw="@firebase/storage",Xw="@firebase/storage-compat",Qw="@firebase/firestore",Kw="@firebase/firestore-compat",qw="firebase",$w="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",Jw={[nf]:"fire-core",[bw]:"fire-core-compat",[Nw]:"fire-analytics",[Rw]:"fire-analytics-compat",[Lw]:"fire-app-check",[Mw]:"fire-app-check-compat",[Ow]:"fire-auth",[Dw]:"fire-auth-compat",[Pw]:"fire-rtdb",[Bw]:"fire-rtdb-compat",[kw]:"fire-fn",[Fw]:"fire-fn-compat",[zw]:"fire-iid",[Uw]:"fire-iid-compat",[Hw]:"fire-fcm",[Ww]:"fire-fcm-compat",[Vw]:"fire-perf",[jw]:"fire-perf-compat",[Gw]:"fire-rc",[Zw]:"fire-rc-compat",[Yw]:"fire-gcs",[Xw]:"fire-gcs-compat",[Qw]:"fire-fst",[Kw]:"fire-fst-compat","fire-js":"fire-js",[qw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,of=new Map;function e4(t,e){try{t.container.addComponent(e)}catch(n){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yu(t){const e=t.name;if(of.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;of.set(e,t);for(const n of _u.values())e4(n,t);return!0}function t4(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mo=new s_("app","Firebase",n4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=$w;function h_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rf,automaticDataCollectionEnabled:!1},e),l=r.name;if(typeof l!="string"||!l)throw Mo.create("bad-app-name",{appName:String(l)});if(n||(n=i_()),!n)throw Mo.create("no-options");const u=_u.get(l);if(u){if(Jh(n,u.options)&&Jh(r,u.config))return u;throw Mo.create("duplicate-app",{appName:l})}const p=new uw(l);for(const C of of.values())p.addComponent(C);const v=new i4(n,r,p);return _u.set(l,v),v}function o4(t=rf){const e=_u.get(t);if(!e&&t===rf&&i_())return h_();if(!e)throw Mo.create("no-app",{appName:t});return e}function ta(t,e,n){var r;let l=(r=Jw[t])!==null&&r!==void 0?r:t;n&&(l+=`-${n}`);const u=l.match(/\s|\//),p=e.match(/\s|\//);if(u||p){const v=[`Unable to register library "${l}" with version "${e}":`];u&&v.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&p&&v.push("and"),p&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(v.join(" "));return}yu(new Ol(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firebase-heartbeat-database",a4=1,Dl="firebase-heartbeat-store";let Gd=null;function f_(){return Gd||(Gd=Cw(s4,a4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mo.create("idb-open",{originalErrorMessage:t.message})})),Gd}async function l4(t){try{const n=(await f_()).transaction(Dl),r=await n.objectStore(Dl).get(g_(t));return await n.done,r}catch(e){if(e instanceof Yl)gs.warn(e.message);else{const n=Mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(n.message)}}}async function jg(t,e){try{const r=(await f_()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(e,g_(t)),await r.done}catch(n){if(n instanceof Yl)gs.warn(n.message);else{const r=Mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gs.warn(r.message)}}}function g_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=1024,u4=30*24*60*60*1e3;class d4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Gg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(p=>p.date===u)))return this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const v=new Date(p.date).valueOf();return Date.now()-v<=u4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gg(),{heartbeatsToSend:r,unsentEntries:l}=h4(this._heartbeatsCache.heartbeats),u=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}}function Gg(){return new Date().toISOString().substring(0,10)}function h4(t,e=c4){const n=[];let r=t.slice();for(const l of t){const u=n.find(p=>p.agent===l.agent);if(u){if(u.dates.push(l.date),Zg(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Zg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qv()?$v().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return jg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return jg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Zg(t){return pu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){yu(new Ol("platform-logger",e=>new Iw(e),"PRIVATE")),yu(new Ol("heartbeat",e=>new d4(e),"PRIVATE")),ta(nf,Vg,t),ta(nf,Vg,"esm2017"),ta("fire-js","")}g4("");var p4="firebase",m4="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(p4,m4,"app");var Yg={};const Xg="@firebase/database",Qg="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_="";function _4(t){p_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ll(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return eo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new y4(e)}}catch{}return new x4},os=m_("localStorage"),sf=m_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new c_("@firebase/database"),E4=function(){let t=1;return function(){return t++}}(),__=function(t){const e=sw(t),n=new ow;n.update(e);const r=n.digest();return p1.encodeByteArray(r)},Xl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Xl.apply(null,r):typeof r=="object"?e+=Dn(r):e+=r,e+=" "}return e};let ls=null,Kg=!0;const v4=function(t,e){ge(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(na.logLevel=Ft.VERBOSE,ls=na.log.bind(na),e&&sf.set("logging_enabled",!0)):typeof t=="function"?ls=t:(ls=null,sf.remove("logging_enabled"))},Yn=function(...t){if(Kg===!0&&(Kg=!1,ls===null&&sf.get("logging_enabled")===!0&&v4(!0)),ls){const e=Xl.apply(null,t);ls(e)}},Ql=function(t){return function(...e){Yn(t,...e)}},af=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xl(...t);na.error(e)},$r=function(...t){const e=`FIREBASE FATAL ERROR: ${Xl(...t)}`;throw na.error(e),new Error(e)},Ti=function(...t){const e="FIREBASE WARNING: "+Xl(...t);na.warn(e)},w4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},y_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},C4=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ga="[MIN_NAME]",ps="[MAX_NAME]",va=function(t,e){if(t===e)return 0;if(t===ga||e===ps)return-1;if(e===ga||t===ps)return 1;{const n=qg(t),r=qg(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},S4=function(t,e){return t===e?0:t<e?-1:1},Xa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dn(e))},y1=function(t){if(typeof t!="object"||t===null)return Dn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dn(e[r]),n+=":",n+=y1(t[e[r]]);return n+="}",n},x_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let l=0;l<n;l+=e)l+e>n?r.push(t.substring(l,n)):r.push(t.substring(l,l+e));return r};function mi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const E_=function(t){ge(!y_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let l,u,p,v,C;t===0?(u=0,p=0,l=1/t===-1/0?1:0):(l=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(v=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=v+r,p=Math.round(t*Math.pow(2,n-v)-Math.pow(2,n))):(u=0,p=Math.round(t/Math.pow(2,1-r-n))));const x=[];for(C=n;C;C-=1)x.push(p%2?1:0),p=Math.floor(p/2);for(C=e;C;C-=1)x.push(u%2?1:0),u=Math.floor(u/2);x.push(l?1:0),x.reverse();const R=x.join("");let I="";for(C=0;C<64;C+=8){let D=parseInt(R.substr(C,8),2).toString(16);D.length===1&&(D="0"+D),I=I+D}return I.toLowerCase()},A4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},I4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function T4(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const b4=new RegExp("^-?(0*)\\d{1,10}$"),R4=-2147483648,N4=2147483647,qg=function(t){if(b4.test(t)){const e=Number(t);if(e>=R4&&e<=N4)return e}return null},Kl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ti("Exception was thrown by user callback.",n),e},Math.floor(0))}},M4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ti(e)}}class ia{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ia.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="5",v_="v",w_="s",C_="r",S_="f",A_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I_="ls",T_="p",lf="ac",b_="websocket",R_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,l,u=!1,p="",v=!1,C=!1){this.secure=n,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=p,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=C,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=os.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&os.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function D4(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function M_(t,e,n){ge(typeof e=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let r;if(e===b_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===R_)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);D4(t)&&(n.ns=t.namespace);const l=[];return mi(n,(u,p)=>{l.push(u+"="+p)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.counters_={}}incrementCounter(e,n=1){eo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Uv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd={},Yd={};function E1(t){const e=t.toString();return Zd[e]||(Zd[e]=new P4),Zd[e]}function B4(t,e){const n=t.toString();return Yd[n]||(Yd[n]=e()),Yd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&Kl(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="start",F4="close",z4="pLPCommand",U4="pRTLPCB",L_="id",O_="pw",D_="ser",H4="cb",W4="seg",V4="ts",j4="d",G4="dframe",P_=1870,B_=30,Z4=P_-B_,Y4=25e3,X4=3e4;class Ys{constructor(e,n,r,l,u,p,v){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.transportSessionId=p,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ql(e),this.stats_=E1(n),this.urlFn=C=>(this.appCheckToken&&(C[lf]=this.appCheckToken),M_(n,R_,C))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new k4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(X4)),C4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new v1((...u)=>{const[p,v,C,x,R]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,p===$g)this.id=v,this.password=C;else if(p===F4)v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+p)},(...u)=>{const[p,v]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(p,v)},()=>{this.onClosed_()},this.urlFn);const r={};r[$g]="t",r[D_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[H4]=this.scriptTagHolder.uniqueCallbackIdentifier),r[v_]=x1,this.transportSessionId&&(r[w_]=this.transportSessionId),this.lastSessionId&&(r[I_]=this.lastSessionId),this.applicationId&&(r[T_]=this.applicationId),this.appCheckToken&&(r[lf]=this.appCheckToken),typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(r[C_]=S_);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ys.forceAllow_=!0}static forceDisallow(){Ys.forceDisallow_=!0}static isAvailable(){return Ys.forceAllow_?!0:!Ys.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!A4()&&!I4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=e_(n),l=x_(r,Z4);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[G4]="t",r[L_]=e,r[O_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class v1{constructor(e,n,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=E4(),window[z4+this.uniqueCallbackIdentifier]=e,window[U4+this.uniqueCallbackIdentifier]=n,this.myIFrame=v1.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(v){Yn("frame writing exception"),v.stack&&Yn(v.stack),Yn(v)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[L_]=this.myID,e[O_]=this.myPW,e[D_]=this.currentSerial;let n=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+B_+r.length<=P_;){const p=this.pendingSegs.shift();r=r+"&"+W4+l+"="+p.seg+"&"+V4+l+"="+p.ts+"&"+j4+l+"="+p.d,l++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(r,Math.floor(Y4)),u=()=>{clearTimeout(l),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=16384,K4=45e3;let xu=null;typeof MozWebSocket<"u"?xu=MozWebSocket:typeof WebSocket<"u"&&(xu=WebSocket);class ar{constructor(e,n,r,l,u,p,v){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ql(this.connId),this.stats_=E1(n),this.connURL=ar.connectionURL_(n,p,v,l,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,l,u){const p={};return p[v_]=x1,typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(p[C_]=S_),n&&(p[w_]=n),r&&(p[I_]=r),l&&(p[lf]=l),u&&(p[T_]=u),M_(e,b_,p)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,os.set("previous_websocket_failure",!0);try{let r;o_(),this.mySock=new xu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){ar.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&xu!==null&&!ar.forceDisallow_}static previouslyFailed(){return os.isInMemoryStorage||os.get("previous_websocket_failure")===!0}markConnectionHealthy(){os.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ll(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=x_(n,Q4);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(K4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ar.responsesRequiredToBeHealthy=2;ar.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ys,ar]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ar&&ar.isAvailable();let r=n&&!ar.previouslyFailed();if(e.webSocketOnly&&(n||Ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ar];else{const l=this.transports_=[];for(const u of Pl.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Pl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=6e4,$4=5e3,J4=10*1024,eC=100*1024,Xd="t",Jg="d",tC="s",ep="r",nC="e",tp="o",np="a",ip="n",rp="p",iC="h";class rC{constructor(e,n,r,l,u,p,v,C,x,R){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=p,this.onReady_=v,this.onDisconnect_=C,this.onKill_=x,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ql("c:"+this.id+":"),this.transportManager_=new Pl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=dl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>J4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xd in e){const n=e[Xd];n===np?this.upgradeIfSecondaryHealthy_():n===ep?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xa("t",e),r=Xa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:np,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ip,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xa("t",e),r=Xa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xa(Xd,e);if(Jg in e){const r=e[Jg];if(n===iC){const l=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===ip){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tC?this.onConnectionShutdown_(r):n===ep?this.onReset_(r):n===nC?af("Server Error: "+r):n===tp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):af("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),x1!==r&&Ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),dl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(q4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{put(e,n,r,l){}merge(e,n,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const l=this.getInitialEvent(e);l&&n.apply(r,l)}off(e,n,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!r||r===l[u].context)){l.splice(u,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends F_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!r_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Eu}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=32,sp=768;class Dt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ct(){return new Dt("")}function at(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bo(t){return t.pieces_.length-t.pieceNum_}function zt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Dt(t.pieces_,e)}function z_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function oC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function U_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function H_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Dt(e,0)}function wn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&n.push(r[l])}return new Dt(n,0)}function lt(t){return t.pieceNum_>=t.pieces_.length}function di(t,e){const n=at(t),r=at(e);if(n===null)return e;if(n===r)return di(zt(t),zt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function w1(t,e){if(Bo(t)!==Bo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function lr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bo(t)>Bo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class sC{constructor(e,n){this.errorPrefix_=n,this.parts_=U_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ku(this.parts_[r]);W_(this)}}function aC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ku(e),W_(t)}function lC(t){const e=t.parts_.pop();t.byteLength_-=Ku(e),t.parts_.length>0&&(t.byteLength_-=1)}function W_(t){if(t.byteLength_>sp)throw new Error(t.errorPrefix_+"has a key path longer than "+sp+" bytes ("+t.byteLength_+").");if(t.parts_.length>op)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+op+") or object contains a cycle "+ts(t))}function ts(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends F_{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new C1}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=1e3,cC=60*5*1e3,ap=30*1e3,uC=1.3,dC=3e4,hC="server_kill",lp=3;class Yr extends k_{constructor(e,n,r,l,u,p,v,C){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=p,this.appCheckTokenProvider_=v,this.authOverride_=C,this.id=Yr.nextPersistentConnectionId_++,this.log_=Ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=cC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!o_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");C1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Eu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(Dn(u)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const n=new m1,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:p=>{const v=p.d;p.s==="ok"?n.resolve(v):n.reject(v)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,l){this.initConnection_();const u=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+u),this.listens.has(p)||this.listens.set(p,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(p).has(u),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:n,query:e,tag:r};this.listens.get(p).set(u,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r},p="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(p,u,v=>{const C=v.d,x=v.s;Yr.warnOnListenWarnings_(C,n),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",v),x!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(x,C))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&eo(e,"w")){const r=fa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ap)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nw(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,l=>{const u=l.s,p=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,n)}sendUnlisten_(e,n,r,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},p="n";l&&(u.q=r,u.t=l),this.sendRequest(p,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,l){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,p=>{l&&setTimeout(()=>{l(p.s,p.d)},Math.floor(0))})}put(e,n,r,l){this.putInternal("p",e,n,r,l)}merge(e,n,r,l){this.putInternal("m",e,n,r,l)}putInternal(e,n,r,l,u){this.initConnection_();const p={p:n,d:r};u!==void 0&&(p.h=u),this.outstandingPuts_.push({action:e,request:p,onComplete:l}),this.outstandingPutCount_++;const v=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(v):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):af("Unrecognized action received from server: "+Dn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dC&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Yr.nextConnectionId_++,u=this.lastSessionId;let p=!1,v=null;const C=function(){v?v.close():(p=!0,r())},x=function(I){ge(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(I)};this.realtime_={close:C,sendRequest:x};const R=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[I,D]=await Promise.all([this.authTokenProvider_.getToken(R),this.appCheckTokenProvider_.getToken(R)]);p?Yn("getToken() completed but was canceled"):(Yn("getToken() completed. Creating connection."),this.authToken_=I&&I.accessToken,this.appCheckToken_=D&&D.token,v=new rC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,W=>{Ti(W+" ("+this.repoInfo_.toString()+")"),this.interrupt(hC)},u))}catch(I){this.log_("Failed to get token: "+I),p||(this.repoInfo_.nodeAdmin&&Ti(I),C())}}}interrupt(e){Yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fg(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>y1(u)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const r=new Dt(e).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,n){Yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lp&&(this.reconnectDelay_=ap,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+p_.replace(/\./g,"-")]=1,r_()?e["framework.cordova"]=1:Kv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Eu.getInstance().currentlyOnline();return Fg(this.interruptReasons_)&&e}}Yr.nextPersistentConnectionId_=0;Yr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new nt(ga,e),l=new nt(ga,n);return this.compare(r,l)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;class V_ extends $u{static get __EMPTY_NODE(){return Rc}static set __EMPTY_NODE(e){Rc=e}compare(e,n){return va(e.name,n.name)}isDefinedOn(e){throw Ea("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nt.MIN}maxPost(){return new nt(ps,Rc)}makePost(e,n){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new nt(e,Rc)}toString(){return".key"}}const ra=new V_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let p=1;for(;!e.isEmpty();)if(e=e,p=n?r(e.key,n):1,l&&(p*=-1),p<0)this.isReverse_?e=e.left:e=e.right;else if(p===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class On{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??On.RED,this.left=l??hi.EMPTY_NODE,this.right=u??hi.EMPTY_NODE}copy(e,n,r,l,u){return new On(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return hi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,l;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return hi.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}On.RED=!0;On.BLACK=!1;class fC{copy(e,n,r,l,u){return this}insert(e,n,r){return new On(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class hi{constructor(e,n=hi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new hi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,On.BLACK,null,null))}remove(e){return new hi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,On.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,l=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Nc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Nc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Nc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Nc(this.root_,null,this.comparator_,!0,e)}}hi.EMPTY_NODE=new fC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e){return va(t.name,e.name)}function S1(t,e){return va(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf;function pC(t){cf=t}const j_=function(t){return typeof t=="number"?"number:"+E_(t):"string:"+t},G_=function(t){if(t.isLeafNode()){const e=t.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&eo(e,".sv"),"Priority must be a string or number.")}else ge(t===cf||t.isEmpty(),"priority of unexpected type.");ge(t===cf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp;class Mn{constructor(e,n=Mn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),G_(this.priorityNode_)}static set __childrenNodeConstructor(e){cp=e}static get __childrenNodeConstructor(){return cp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return lt(e)?this:at(e)===".priority"?this.priorityNode_:Mn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Mn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=at(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||Bo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Mn.__childrenNodeConstructor.EMPTY_NODE.updateChild(zt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+j_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=E_(this.value_):e+=this.value_,this.lazyHash_=__(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mn.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,l=Mn.VALUE_TYPE_ORDER.indexOf(n),u=Mn.VALUE_TYPE_ORDER.indexOf(r);return ge(l>=0,"Unknown leaf type: "+n),ge(u>=0,"Unknown leaf type: "+r),l===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_,Y_;function mC(t){Z_=t}function _C(t){Y_=t}class yC extends $u{compare(e,n){const r=e.node.getPriority(),l=n.node.getPriority(),u=r.compareTo(l);return u===0?va(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(ps,new Mn("[PRIORITY-POST]",Y_))}makePost(e,n){const r=Z_(e);return new nt(n,new Mn("[PRIORITY-POST]",r))}toString(){return".priority"}}const an=new yC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=Math.log(2);class EC{constructor(e){const n=u=>parseInt(Math.log(u)/xC,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vu=function(t,e,n,r){t.sort(e);const l=function(C,x){const R=x-C;let I,D;if(R===0)return null;if(R===1)return I=t[C],D=n?n(I):I,new On(D,I.node,On.BLACK,null,null);{const W=parseInt(R/2,10)+C,Y=l(C,W),V=l(W+1,x);return I=t[W],D=n?n(I):I,new On(D,I.node,On.BLACK,Y,V)}},u=function(C){let x=null,R=null,I=t.length;const D=function(Y,V){const me=I-Y,H=I;I-=Y;const B=l(me+1,H),k=t[me],J=n?n(k):k;W(new On(J,k.node,V,null,B))},W=function(Y){x?(x.left=Y,x=Y):(R=Y,x=Y)};for(let Y=0;Y<C.count;++Y){const V=C.nextBitIsOne(),me=Math.pow(2,C.count-(Y+1));V?D(me,On.BLACK):(D(me,On.BLACK),D(me,On.RED))}return R},p=new EC(t.length),v=u(p);return new hi(r||e,v)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd;const Ls={};class Gr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ge(Ls&&an,"ChildrenNode.ts has not been loaded"),Qd=Qd||new Gr({".priority":Ls},{".priority":an}),Qd}get(e){const n=fa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hi?n:null}hasIndex(e){return eo(this.indexSet_,e.toString())}addIndex(e,n){ge(e!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const u=n.getIterator(nt.Wrap);let p=u.getNext();for(;p;)l=l||e.isDefinedOn(p.node),r.push(p),p=u.getNext();let v;l?v=vu(r,e.getCompare()):v=Ls;const C=e.toString(),x=Object.assign({},this.indexSet_);x[C]=e;const R=Object.assign({},this.indexes_);return R[C]=v,new Gr(R,x)}addToIndexes(e,n){const r=mu(this.indexes_,(l,u)=>{const p=fa(this.indexSet_,u);if(ge(p,"Missing index implementation for "+u),l===Ls)if(p.isDefinedOn(e.node)){const v=[],C=n.getIterator(nt.Wrap);let x=C.getNext();for(;x;)x.name!==e.name&&v.push(x),x=C.getNext();return v.push(e),vu(v,p.getCompare())}else return Ls;else{const v=n.get(e.name);let C=l;return v&&(C=C.remove(new nt(e.name,v))),C.insert(e,e.node)}});return new Gr(r,this.indexSet_)}removeFromIndexes(e,n){const r=mu(this.indexes_,l=>{if(l===Ls)return l;{const u=n.get(e.name);return u?l.remove(new nt(e.name,u)):l}});return new Gr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;class Fe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&G_(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ka||(Ka=new Fe(new hi(S1),null,Gr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ka}updatePriority(e){return this.children_.isEmpty()?this:new Fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ka:n}}getChild(e){const n=at(e);return n===null?this:this.getImmediateChild(n).getChild(zt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new nt(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const p=l.isEmpty()?Ka:this.priorityNode_;return new Fe(l,p,u)}}updateChild(e,n){const r=at(e);if(r===null)return n;{ge(at(e)!==".priority"||Bo(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(zt(e),n);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,l=0,u=!0;if(this.forEachChild(an,(p,v)=>{n[p]=v.val(e),r++,u&&Fe.INTEGER_REGEXP_.test(p)?l=Math.max(l,Number(p)):u=!1}),!e&&u&&l<2*r){const p=[];for(const v in n)p[v]=n[v];return p}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+j_(this.getPriority().val())+":"),this.forEachChild(an,(n,r)=>{const l=r.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":__(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new nt(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new nt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new nt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,nt.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,nt.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ql?-1:0}withIndex(e){if(e===ra||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ra||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(an),l=n.getIterator(an);let u=r.getNext(),p=l.getNext();for(;u&&p;){if(u.name!==p.name||!u.node.equals(p.node))return!1;u=r.getNext(),p=l.getNext()}return u===null&&p===null}else return!1;else return!1}}resolveIndex_(e){return e===ra?null:this.indexMap_.get(e.toString())}}Fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vC extends Fe{constructor(){super(new hi(S1),Fe.EMPTY_NODE,Gr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Fe.EMPTY_NODE}isEmpty(){return!1}}const ql=new vC;Object.defineProperties(nt,{MIN:{value:new nt(ga,Fe.EMPTY_NODE)},MAX:{value:new nt(ps,ql)}});V_.__EMPTY_NODE=Fe.EMPTY_NODE;Mn.__childrenNodeConstructor=Fe;pC(ql);_C(ql);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=!0;function Xn(t,e=null){if(t===null)return Fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Mn(n,Xn(e))}if(!(t instanceof Array)&&wC){const n=[];let r=!1;if(mi(t,(p,v)=>{if(p.substring(0,1)!=="."){const C=Xn(v);C.isEmpty()||(r=r||!C.getPriority().isEmpty(),n.push(new nt(p,C)))}}),n.length===0)return Fe.EMPTY_NODE;const u=vu(n,gC,p=>p.name,S1);if(r){const p=vu(n,an.getCompare());return new Fe(u,Xn(e),new Gr({".priority":p},{".priority":an}))}else return new Fe(u,Xn(e),Gr.Default)}else{let n=Fe.EMPTY_NODE;return mi(t,(r,l)=>{if(eo(t,r)&&r.substring(0,1)!=="."){const u=Xn(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(Xn(e))}}mC(Xn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends $u{constructor(e){super(),this.indexPath_=e,ge(!lt(e)&&at(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),l=this.extractChild(n.node),u=r.compareTo(l);return u===0?va(e.name,n.name):u}makePost(e,n){const r=Xn(e),l=Fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new nt(n,l)}maxPost(){const e=Fe.EMPTY_NODE.updateChild(this.indexPath_,ql);return new nt(ps,e)}toString(){return U_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends $u{compare(e,n){const r=e.node.compareTo(n.node);return r===0?va(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(e,n){const r=Xn(e);return new nt(n,r)}toString(){return".value"}}const AC=new SC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){return{type:"value",snapshotNode:t}}function pa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function kl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function IC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.index_=e}updateChild(e,n,r,l,u,p){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=e.getImmediateChild(n);return v.getChild(l).equals(r.getChild(l))&&v.isEmpty()===r.isEmpty()||(p!=null&&(r.isEmpty()?e.hasChild(n)?p.trackChildChange(Bl(n,v)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?p.trackChildChange(pa(n,r)):p.trackChildChange(kl(n,r,v))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(an,(l,u)=>{n.hasChild(l)||r.trackChildChange(Bl(l,u))}),n.isLeafNode()||n.forEachChild(an,(l,u)=>{if(e.hasChild(l)){const p=e.getImmediateChild(l);p.equals(u)||r.trackChildChange(kl(l,u,p))}else r.trackChildChange(pa(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.indexedFilter_=new A1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fl.getStartPost_(e),this.endPost_=Fl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,l,u,p){return this.matches(new nt(n,r))||(r=Fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,l,u,p)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Fe.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(Fe.EMPTY_NODE);const u=this;return n.forEachChild(an,(p,v)=>{u.matches(new nt(p,v))||(l=l.updateImmediateChild(p,Fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,l,u,p){return this.rangedFilter_.matches(new nt(n,r))||(r=Fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,l,u,p):this.fullLimitUpdateChild_(e,n,r,u,p)}updateFullNode(e,n,r){let l;if(n.isLeafNode()||n.isEmpty())l=Fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=Fe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;u.hasNext()&&p<this.limit_;){const v=u.getNext();if(this.withinDirectionalStart(v))if(this.withinDirectionalEnd(v))l=l.updateImmediateChild(v.name,v.node),p++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(Fe.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let p=0;for(;u.hasNext();){const v=u.getNext();p<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?p++:l=l.updateImmediateChild(v.name,Fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,l,u){let p;if(this.reverse_){const I=this.index_.getCompare();p=(D,W)=>I(W,D)}else p=this.index_.getCompare();const v=e;ge(v.numChildren()===this.limit_,"");const C=new nt(n,r),x=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),R=this.rangedFilter_.matches(C);if(v.hasChild(n)){const I=v.getImmediateChild(n);let D=l.getChildAfterChild(this.index_,x,this.reverse_);for(;D!=null&&(D.name===n||v.hasChild(D.name));)D=l.getChildAfterChild(this.index_,D,this.reverse_);const W=D==null?1:p(D,C);if(R&&!r.isEmpty()&&W>=0)return u!=null&&u.trackChildChange(kl(n,r,I)),v.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(Bl(n,I));const V=v.updateImmediateChild(n,Fe.EMPTY_NODE);return D!=null&&this.rangedFilter_.matches(D)?(u!=null&&u.trackChildChange(pa(D.name,D.node)),V.updateImmediateChild(D.name,D.node)):V}}else return r.isEmpty()?e:R&&p(x,C)>=0?(u!=null&&(u.trackChildChange(Bl(x.name,x.node)),u.trackChildChange(pa(n,r))),v.updateImmediateChild(n,r).updateImmediateChild(x.name,Fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ga}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const e=new I1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bC(t){return t.loadsAllData()?new A1(t.getIndex()):t.hasLimit()?new TC(t):new Fl(t)}function up(t){const e={};if(t.isDefault())return e;let n;if(t.index_===an?n="$priority":t.index_===AC?n="$value":t.index_===ra?n="$key":(ge(t.index_ instanceof CC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==an&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends k_{constructor(e,n,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=Ql("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const p=wu.getListenId_(e,r),v={};this.listens_[p]=v;const C=up(e._queryParams);this.restRequest_(u+".json",C,(x,R)=>{let I=R;if(x===404&&(I=null,x=null),x===null&&this.onDataUpdate_(u,I,!1,r),fa(this.listens_,p)===v){let D;x?x===401?D="permission_denied":D="rest_error:"+x:D="ok",l(D,null)}})}unlisten(e,n){const r=wu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=up(e._queryParams),r=e._path.toString(),l=new m1;return this.restRequest_(r+".json",n,(u,p)=>{let v=p;u===404&&(v=null,u=null),u===null?(this.onDataUpdate_(r,v,!1,null),l.resolve(v)):l.reject(new Error(v))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rw(n);this.log_("Sending REST request for "+p);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(r&&v.readyState===4){this.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);let C=null;if(v.status>=200&&v.status<300){try{C=Ll(v.responseText)}catch{Ti("Failed to parse JSON response for "+p+": "+v.responseText)}r(null,C)}else v.status!==401&&v.status!==404&&Ti("Got unsuccessful REST response for "+p+" Status: "+v.status),r(v.status);r=null}},v.open("GET",p,!0),v.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.rootNode_=Fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){return{value:null,children:new Map}}function Q_(t,e,n){if(lt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=at(e);t.children.has(r)||t.children.set(r,Cu());const l=t.children.get(r);e=zt(e),Q_(l,e,n)}}function uf(t,e,n){t.value!==null?n(e,t.value):NC(t,(r,l)=>{const u=new Dt(e.toString()+"/"+r);uf(l,u,n)})}function NC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mi(this.last_,(r,l)=>{n[r]=n[r]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=10*1e3,LC=30*1e3,OC=5*60*1e3;class DC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new MC(e);const r=hp+(LC-hp)*Math.random();dl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mi(e,(l,u)=>{u>0&&eo(this.statsToReport_,l)&&(n[l]=u,r=!0)}),r&&this.server_.reportStats(n),dl(this.reportStats_.bind(this),Math.floor(Math.random()*2*OC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cr||(cr={}));function K_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function T1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function b1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=cr.ACK_USER_WRITE,this.source=K_()}operationForChild(e){if(lt(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Dt(e));return new Su(Ct(),n,this.revert)}}else return ge(at(this.path)===e,"operationForChild called for unrelated child."),new Su(zt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.source=e,this.path=n,this.type=cr.LISTEN_COMPLETE}operationForChild(e){return lt(this.path)?new zl(this.source,Ct()):new zl(this.source,zt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=cr.OVERWRITE}operationForChild(e){return lt(this.path)?new ms(this.source,Ct(),this.snap.getImmediateChild(e)):new ms(this.source,zt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=cr.MERGE}operationForChild(e){if(lt(this.path)){const n=this.children.subtree(new Dt(e));return n.isEmpty()?null:n.value?new ms(this.source,Ct(),n.value):new Ul(this.source,Ct(),n)}else return ge(at(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ul(this.source,zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(lt(e))return this.isFullyInitialized()&&!this.filtered_;const n=at(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BC(t,e,n,r){const l=[],u=[];return e.forEach(p=>{p.type==="child_changed"&&t.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&u.push(IC(p.childName,p.snapshotNode))}),qa(t,l,"child_removed",e,r,n),qa(t,l,"child_added",e,r,n),qa(t,l,"child_moved",u,r,n),qa(t,l,"child_changed",e,r,n),qa(t,l,"value",e,r,n),l}function qa(t,e,n,r,l,u){const p=r.filter(v=>v.type===n);p.sort((v,C)=>FC(t,v,C)),p.forEach(v=>{const C=kC(t,v,u);l.forEach(x=>{x.respondsTo(v.type)&&e.push(x.createEvent(C,t.query_))})})}function kC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function FC(t,e,n){if(e.childName==null||n.childName==null)throw Ea("Should only compare child_ events.");const r=new nt(e.childName,e.snapshotNode),l=new nt(n.childName,n.snapshotNode);return t.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e){return{eventCache:t,serverCache:e}}function hl(t,e,n,r){return Ju(new _s(e,n,r),t.serverCache)}function q_(t,e,n,r){return Ju(t.eventCache,new _s(e,n,r))}function df(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ys(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;const zC=()=>(Kd||(Kd=new hi(S4)),Kd);class Yt{constructor(e,n=zC()){this.value=e,this.children=n}static fromObject(e){let n=new Yt(null);return mi(e,(r,l)=>{n=n.set(new Dt(r),l)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ct(),value:this.value};if(lt(e))return null;{const r=at(e),l=this.children.get(r);if(l!==null){const u=l.findRootMostMatchingPathAndValue(zt(e),n);return u!=null?{path:wn(new Dt(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(lt(e))return this;{const n=at(e),r=this.children.get(n);return r!==null?r.subtree(zt(e)):new Yt(null)}}set(e,n){if(lt(e))return new Yt(n,this.children);{const r=at(e),u=(this.children.get(r)||new Yt(null)).set(zt(e),n),p=this.children.insert(r,u);return new Yt(this.value,p)}}remove(e){if(lt(e))return this.children.isEmpty()?new Yt(null):new Yt(null,this.children);{const n=at(e),r=this.children.get(n);if(r){const l=r.remove(zt(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new Yt(null):new Yt(this.value,u)}else return this}}get(e){if(lt(e))return this.value;{const n=at(e),r=this.children.get(n);return r?r.get(zt(e)):null}}setTree(e,n){if(lt(e))return n;{const r=at(e),u=(this.children.get(r)||new Yt(null)).setTree(zt(e),n);let p;return u.isEmpty()?p=this.children.remove(r):p=this.children.insert(r,u),new Yt(this.value,p)}}fold(e){return this.fold_(Ct(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((l,u)=>{r[l]=u.fold_(wn(e,l),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ct(),n)}findOnPath_(e,n,r){const l=this.value?r(n,this.value):!1;if(l)return l;if(lt(e))return null;{const u=at(e),p=this.children.get(u);return p?p.findOnPath_(zt(e),wn(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ct(),n)}foreachOnPath_(e,n,r){if(lt(e))return this;{this.value&&r(n,this.value);const l=at(e),u=this.children.get(l);return u?u.foreachOnPath_(zt(e),wn(n,l),r):new Yt(null)}}foreach(e){this.foreach_(Ct(),e)}foreach_(e,n){this.children.inorderTraversal((r,l)=>{l.foreach_(wn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.writeTree_=e}static empty(){return new hr(new Yt(null))}}function fl(t,e,n){if(lt(e))return new hr(new Yt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let u=r.value;const p=di(l,e);return u=u.updateChild(p,n),new hr(t.writeTree_.set(l,u))}else{const l=new Yt(n),u=t.writeTree_.setTree(e,l);return new hr(u)}}}function fp(t,e,n){let r=t;return mi(n,(l,u)=>{r=fl(r,wn(e,l),u)}),r}function gp(t,e){if(lt(e))return hr.empty();{const n=t.writeTree_.setTree(e,new Yt(null));return new hr(n)}}function hf(t,e){return vs(t,e)!=null}function vs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(di(n.path,e)):null}function pp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(an,(r,l)=>{e.push(new nt(r,l))}):t.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new nt(r,l.value))}),e}function Lo(t,e){if(lt(e))return t;{const n=vs(t,e);return n!=null?new hr(new Yt(n)):new hr(t.writeTree_.subtree(e))}}function ff(t){return t.writeTree_.isEmpty()}function ma(t,e){return $_(Ct(),t.writeTree_,e)}function $_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(ge(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=$_(wn(t,l),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(wn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){return ny(e,t)}function UC(t,e,n,r,l){ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:l}),l&&(t.visibleWrites=fl(t.visibleWrites,e,n)),t.lastWriteId=r}function HC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function WC(t,e){const n=t.allWrites.findIndex(v=>v.writeId===e);ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let l=r.visible,u=!1,p=t.allWrites.length-1;for(;l&&p>=0;){const v=t.allWrites[p];v.visible&&(p>=n&&VC(v,r.path)?l=!1:lr(r.path,v.path)&&(u=!0)),p--}if(l){if(u)return jC(t),!0;if(r.snap)t.visibleWrites=gp(t.visibleWrites,r.path);else{const v=r.children;mi(v,C=>{t.visibleWrites=gp(t.visibleWrites,wn(r.path,C))})}return!0}else return!1}function VC(t,e){if(t.snap)return lr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&lr(wn(t.path,n),e))return!0;return!1}function jC(t){t.visibleWrites=J_(t.allWrites,GC,Ct()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function GC(t){return t.visible}function J_(t,e,n){let r=hr.empty();for(let l=0;l<t.length;++l){const u=t[l];if(e(u)){const p=u.path;let v;if(u.snap)lr(n,p)?(v=di(n,p),r=fl(r,v,u.snap)):lr(p,n)&&(v=di(p,n),r=fl(r,Ct(),u.snap.getChild(v)));else if(u.children){if(lr(n,p))v=di(n,p),r=fp(r,v,u.children);else if(lr(p,n))if(v=di(p,n),lt(v))r=fp(r,Ct(),u.children);else{const C=fa(u.children,at(v));if(C){const x=C.getChild(zt(v));r=fl(r,Ct(),x)}}}else throw Ea("WriteRecord should have .snap or .children")}}return r}function ey(t,e,n,r,l){if(!r&&!l){const u=vs(t.visibleWrites,e);if(u!=null)return u;{const p=Lo(t.visibleWrites,e);if(ff(p))return n;if(n==null&&!hf(p,Ct()))return null;{const v=n||Fe.EMPTY_NODE;return ma(p,v)}}}else{const u=Lo(t.visibleWrites,e);if(!l&&ff(u))return n;if(!l&&n==null&&!hf(u,Ct()))return null;{const p=function(x){return(x.visible||l)&&(!r||!~r.indexOf(x.writeId))&&(lr(x.path,e)||lr(e,x.path))},v=J_(t.allWrites,p,e),C=n||Fe.EMPTY_NODE;return ma(v,C)}}}function ZC(t,e,n){let r=Fe.EMPTY_NODE;const l=vs(t.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(an,(u,p)=>{r=r.updateImmediateChild(u,p)}),r;if(n){const u=Lo(t.visibleWrites,e);return n.forEachChild(an,(p,v)=>{const C=ma(Lo(u,new Dt(p)),v);r=r.updateImmediateChild(p,C)}),pp(u).forEach(p=>{r=r.updateImmediateChild(p.name,p.node)}),r}else{const u=Lo(t.visibleWrites,e);return pp(u).forEach(p=>{r=r.updateImmediateChild(p.name,p.node)}),r}}function YC(t,e,n,r,l){ge(r||l,"Either existingEventSnap or existingServerSnap must exist");const u=wn(e,n);if(hf(t.visibleWrites,u))return null;{const p=Lo(t.visibleWrites,u);return ff(p)?l.getChild(n):ma(p,l.getChild(n))}}function XC(t,e,n,r){const l=wn(e,n),u=vs(t.visibleWrites,l);if(u!=null)return u;if(r.isCompleteForChild(n)){const p=Lo(t.visibleWrites,l);return ma(p,r.getNode().getImmediateChild(n))}else return null}function QC(t,e){return vs(t.visibleWrites,e)}function KC(t,e,n,r,l,u,p){let v;const C=Lo(t.visibleWrites,e),x=vs(C,Ct());if(x!=null)v=x;else if(n!=null)v=ma(C,n);else return[];if(v=v.withIndex(p),!v.isEmpty()&&!v.isLeafNode()){const R=[],I=p.getCompare(),D=u?v.getReverseIteratorFrom(r,p):v.getIteratorFrom(r,p);let W=D.getNext();for(;W&&R.length<l;)I(W,r)!==0&&R.push(W),W=D.getNext();return R}else return[]}function qC(){return{visibleWrites:hr.empty(),allWrites:[],lastWriteId:-1}}function Au(t,e,n,r){return ey(t.writeTree,t.treePath,e,n,r)}function N1(t,e){return ZC(t.writeTree,t.treePath,e)}function mp(t,e,n,r){return YC(t.writeTree,t.treePath,e,n,r)}function Iu(t,e){return QC(t.writeTree,wn(t.treePath,e))}function $C(t,e,n,r,l,u){return KC(t.writeTree,t.treePath,e,n,r,l,u)}function M1(t,e,n){return XC(t.writeTree,t.treePath,e,n)}function ty(t,e){return ny(wn(t.treePath,e),t.writeTree)}function ny(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,kl(r,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,Bl(r,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,pa(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,kl(r,e.snapshotNode,l.oldSnap));else throw Ea("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const iy=new e5;class L1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return M1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ys(this.viewCache_),u=$C(this.writes_,l,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){return{filter:t}}function n5(t,e){ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function i5(t,e,n,r,l){const u=new JC;let p,v;if(n.type===cr.OVERWRITE){const x=n;x.source.fromUser?p=gf(t,e,x.path,x.snap,r,l,u):(ge(x.source.fromServer,"Unknown source."),v=x.source.tagged||e.serverCache.isFiltered()&&!lt(x.path),p=Tu(t,e,x.path,x.snap,r,l,v,u))}else if(n.type===cr.MERGE){const x=n;x.source.fromUser?p=o5(t,e,x.path,x.children,r,l,u):(ge(x.source.fromServer,"Unknown source."),v=x.source.tagged||e.serverCache.isFiltered(),p=pf(t,e,x.path,x.children,r,l,v,u))}else if(n.type===cr.ACK_USER_WRITE){const x=n;x.revert?p=l5(t,e,x.path,r,l,u):p=s5(t,e,x.path,x.affectedTree,r,l,u)}else if(n.type===cr.LISTEN_COMPLETE)p=a5(t,e,n.path,r,u);else throw Ea("Unknown operation type: "+n.type);const C=u.getChanges();return r5(e,p,C),{viewCache:p,changes:C}}function r5(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=df(t);(n.length>0||!t.eventCache.isFullyInitialized()||l&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(X_(df(e)))}}function ry(t,e,n,r,l,u){const p=e.eventCache;if(Iu(r,n)!=null)return e;{let v,C;if(lt(n))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const x=ys(e),R=x instanceof Fe?x:Fe.EMPTY_NODE,I=N1(r,R);v=t.filter.updateFullNode(e.eventCache.getNode(),I,u)}else{const x=Au(r,ys(e));v=t.filter.updateFullNode(e.eventCache.getNode(),x,u)}else{const x=at(n);if(x===".priority"){ge(Bo(n)===1,"Can't have a priority with additional path components");const R=p.getNode();C=e.serverCache.getNode();const I=mp(r,n,R,C);I!=null?v=t.filter.updatePriority(R,I):v=p.getNode()}else{const R=zt(n);let I;if(p.isCompleteForChild(x)){C=e.serverCache.getNode();const D=mp(r,n,p.getNode(),C);D!=null?I=p.getNode().getImmediateChild(x).updateChild(R,D):I=p.getNode().getImmediateChild(x)}else I=M1(r,x,e.serverCache);I!=null?v=t.filter.updateChild(p.getNode(),x,I,R,l,u):v=p.getNode()}}return hl(e,v,p.isFullyInitialized()||lt(n),t.filter.filtersNodes())}}function Tu(t,e,n,r,l,u,p,v){const C=e.serverCache;let x;const R=p?t.filter:t.filter.getIndexedFilter();if(lt(n))x=R.updateFullNode(C.getNode(),r,null);else if(R.filtersNodes()&&!C.isFiltered()){const W=C.getNode().updateChild(n,r);x=R.updateFullNode(C.getNode(),W,null)}else{const W=at(n);if(!C.isCompleteForPath(n)&&Bo(n)>1)return e;const Y=zt(n),me=C.getNode().getImmediateChild(W).updateChild(Y,r);W===".priority"?x=R.updatePriority(C.getNode(),me):x=R.updateChild(C.getNode(),W,me,Y,iy,null)}const I=q_(e,x,C.isFullyInitialized()||lt(n),R.filtersNodes()),D=new L1(l,I,u);return ry(t,I,n,l,D,v)}function gf(t,e,n,r,l,u,p){const v=e.eventCache;let C,x;const R=new L1(l,e,u);if(lt(n))x=t.filter.updateFullNode(e.eventCache.getNode(),r,p),C=hl(e,x,!0,t.filter.filtersNodes());else{const I=at(n);if(I===".priority")x=t.filter.updatePriority(e.eventCache.getNode(),r),C=hl(e,x,v.isFullyInitialized(),v.isFiltered());else{const D=zt(n),W=v.getNode().getImmediateChild(I);let Y;if(lt(D))Y=r;else{const V=R.getCompleteChild(I);V!=null?z_(D)===".priority"&&V.getChild(H_(D)).isEmpty()?Y=V:Y=V.updateChild(D,r):Y=Fe.EMPTY_NODE}if(W.equals(Y))C=e;else{const V=t.filter.updateChild(v.getNode(),I,Y,D,R,p);C=hl(e,V,v.isFullyInitialized(),t.filter.filtersNodes())}}}return C}function _p(t,e){return t.eventCache.isCompleteForChild(e)}function o5(t,e,n,r,l,u,p){let v=e;return r.foreach((C,x)=>{const R=wn(n,C);_p(e,at(R))&&(v=gf(t,v,R,x,l,u,p))}),r.foreach((C,x)=>{const R=wn(n,C);_p(e,at(R))||(v=gf(t,v,R,x,l,u,p))}),v}function yp(t,e,n){return n.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function pf(t,e,n,r,l,u,p,v){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let C=e,x;lt(n)?x=r:x=new Yt(null).setTree(n,r);const R=e.serverCache.getNode();return x.children.inorderTraversal((I,D)=>{if(R.hasChild(I)){const W=e.serverCache.getNode().getImmediateChild(I),Y=yp(t,W,D);C=Tu(t,C,new Dt(I),Y,l,u,p,v)}}),x.children.inorderTraversal((I,D)=>{const W=!e.serverCache.isCompleteForChild(I)&&D.value===null;if(!R.hasChild(I)&&!W){const Y=e.serverCache.getNode().getImmediateChild(I),V=yp(t,Y,D);C=Tu(t,C,new Dt(I),V,l,u,p,v)}}),C}function s5(t,e,n,r,l,u,p){if(Iu(l,n)!=null)return e;const v=e.serverCache.isFiltered(),C=e.serverCache;if(r.value!=null){if(lt(n)&&C.isFullyInitialized()||C.isCompleteForPath(n))return Tu(t,e,n,C.getNode().getChild(n),l,u,v,p);if(lt(n)){let x=new Yt(null);return C.getNode().forEachChild(ra,(R,I)=>{x=x.set(new Dt(R),I)}),pf(t,e,n,x,l,u,v,p)}else return e}else{let x=new Yt(null);return r.foreach((R,I)=>{const D=wn(n,R);C.isCompleteForPath(D)&&(x=x.set(R,C.getNode().getChild(D)))}),pf(t,e,n,x,l,u,v,p)}}function a5(t,e,n,r,l){const u=e.serverCache,p=q_(e,u.getNode(),u.isFullyInitialized()||lt(n),u.isFiltered());return ry(t,p,n,r,iy,l)}function l5(t,e,n,r,l,u){let p;if(Iu(r,n)!=null)return e;{const v=new L1(r,e,l),C=e.eventCache.getNode();let x;if(lt(n)||at(n)===".priority"){let R;if(e.serverCache.isFullyInitialized())R=Au(r,ys(e));else{const I=e.serverCache.getNode();ge(I instanceof Fe,"serverChildren would be complete if leaf node"),R=N1(r,I)}R=R,x=t.filter.updateFullNode(C,R,u)}else{const R=at(n);let I=M1(r,R,e.serverCache);I==null&&e.serverCache.isCompleteForChild(R)&&(I=C.getImmediateChild(R)),I!=null?x=t.filter.updateChild(C,R,I,zt(n),v,u):e.eventCache.getNode().hasChild(R)?x=t.filter.updateChild(C,R,Fe.EMPTY_NODE,zt(n),v,u):x=C,x.isEmpty()&&e.serverCache.isFullyInitialized()&&(p=Au(r,ys(e)),p.isLeafNode()&&(x=t.filter.updateFullNode(x,p,u)))}return p=e.serverCache.isFullyInitialized()||Iu(r,Ct())!=null,hl(e,x,p,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new A1(r.getIndex()),u=bC(r);this.processor_=t5(u);const p=n.serverCache,v=n.eventCache,C=l.updateFullNode(Fe.EMPTY_NODE,p.getNode(),null),x=u.updateFullNode(Fe.EMPTY_NODE,v.getNode(),null),R=new _s(C,p.isFullyInitialized(),l.filtersNodes()),I=new _s(x,v.isFullyInitialized(),u.filtersNodes());this.viewCache_=Ju(I,R),this.eventGenerator_=new PC(this.query_)}get query(){return this.query_}}function u5(t){return t.viewCache_.serverCache.getNode()}function d5(t,e){const n=ys(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!lt(e)&&!n.getImmediateChild(at(e)).isEmpty())?n.getChild(e):null}function xp(t){return t.eventRegistrations_.length===0}function h5(t,e){t.eventRegistrations_.push(e)}function Ep(t,e,n){const r=[];if(n){ge(e==null,"A cancel should cancel all event registrations.");const l=t.query._path;t.eventRegistrations_.forEach(u=>{const p=u.createCancelEvent(n,l);p&&r.push(p)})}if(e){let l=[];for(let u=0;u<t.eventRegistrations_.length;++u){const p=t.eventRegistrations_[u];if(!p.matches(e))l.push(p);else if(e.hasAnyCallback()){l=l.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=l}else t.eventRegistrations_=[];return r}function vp(t,e,n,r){e.type===cr.MERGE&&e.source.queryId!==null&&(ge(ys(t.viewCache_),"We should always have a full cache before handling merges"),ge(df(t.viewCache_),"Missing event cache, even though we have a server cache"));const l=t.viewCache_,u=i5(t.processor_,l,e,n,r);return n5(t.processor_,u.viewCache),ge(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,oy(t,u.changes,u.viewCache.eventCache.getNode(),null)}function f5(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(an,(u,p)=>{r.push(pa(u,p))}),n.isFullyInitialized()&&r.push(X_(n.getNode())),oy(t,r,n.getNode(),e)}function oy(t,e,n,r){const l=r?[r]:t.eventRegistrations_;return BC(t.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;class g5{constructor(){this.views=new Map}}function p5(t){ge(!bu,"__referenceConstructor has already been defined"),bu=t}function m5(){return ge(bu,"Reference.ts has not been loaded"),bu}function _5(t){return t.views.size===0}function O1(t,e,n,r){const l=e.source.queryId;if(l!==null){const u=t.views.get(l);return ge(u!=null,"SyncTree gave us an op for an invalid query."),vp(u,e,n,r)}else{let u=[];for(const p of t.views.values())u=u.concat(vp(p,e,n,r));return u}}function y5(t,e,n,r,l){const u=e._queryIdentifier,p=t.views.get(u);if(!p){let v=Au(n,l?r:null),C=!1;v?C=!0:r instanceof Fe?(v=N1(n,r),C=!1):(v=Fe.EMPTY_NODE,C=!1);const x=Ju(new _s(v,C,!1),new _s(r,l,!1));return new c5(e,x)}return p}function x5(t,e,n,r,l,u){const p=y5(t,e,r,l,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,p),h5(p,n),f5(p,n)}function E5(t,e,n,r){const l=e._queryIdentifier,u=[];let p=[];const v=ko(t);if(l==="default")for(const[C,x]of t.views.entries())p=p.concat(Ep(x,n,r)),xp(x)&&(t.views.delete(C),x.query._queryParams.loadsAllData()||u.push(x.query));else{const C=t.views.get(l);C&&(p=p.concat(Ep(C,n,r)),xp(C)&&(t.views.delete(l),C.query._queryParams.loadsAllData()||u.push(C.query)))}return v&&!ko(t)&&u.push(new(m5())(e._repo,e._path)),{removed:u,events:p}}function sy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function oa(t,e){let n=null;for(const r of t.views.values())n=n||d5(r,e);return n}function ay(t,e){if(e._queryParams.loadsAllData())return ed(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ly(t,e){return ay(t,e)!=null}function ko(t){return ed(t)!=null}function ed(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;function v5(t){ge(!Ru,"__referenceConstructor has already been defined"),Ru=t}function w5(){return ge(Ru,"Reference.ts has not been loaded"),Ru}let C5=1;class wp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Yt(null),this.pendingWriteTree_=qC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function S5(t,e,n,r,l){return UC(t.pendingWriteTree_,e,n,r,l),l?$l(t,new ms(K_(),e,n)):[]}function Xs(t,e,n=!1){const r=HC(t.pendingWriteTree_,e);if(WC(t.pendingWriteTree_,e)){let u=new Yt(null);return r.snap!=null?u=u.set(Ct(),!0):mi(r.children,p=>{u=u.set(new Dt(p),!0)}),$l(t,new Su(r.path,u,n))}else return[]}function td(t,e,n){return $l(t,new ms(T1(),e,n))}function A5(t,e,n){const r=Yt.fromObject(n);return $l(t,new Ul(T1(),e,r))}function I5(t,e){return $l(t,new zl(T1(),e))}function T5(t,e,n){const r=D1(t,n);if(r){const l=P1(r),u=l.path,p=l.queryId,v=di(u,e),C=new zl(b1(p),v);return B1(t,u,C)}else return[]}function mf(t,e,n,r,l=!1){const u=e._path,p=t.syncPointTree_.get(u);let v=[];if(p&&(e._queryIdentifier==="default"||ly(p,e))){const C=E5(p,e,n,r);_5(p)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const x=C.removed;if(v=C.events,!l){const R=x.findIndex(D=>D._queryParams.loadsAllData())!==-1,I=t.syncPointTree_.findOnPath(u,(D,W)=>ko(W));if(R&&!I){const D=t.syncPointTree_.subtree(u);if(!D.isEmpty()){const W=N5(D);for(let Y=0;Y<W.length;++Y){const V=W[Y],me=V.query,H=hy(t,V);t.listenProvider_.startListening(gl(me),Nu(t,me),H.hashFn,H.onComplete)}}}!I&&x.length>0&&!r&&(R?t.listenProvider_.stopListening(gl(e),null):x.forEach(D=>{const W=t.queryToTagMap.get(nd(D));t.listenProvider_.stopListening(gl(D),W)}))}M5(t,x)}return v}function b5(t,e,n,r){const l=D1(t,r);if(l!=null){const u=P1(l),p=u.path,v=u.queryId,C=di(p,e),x=new ms(b1(v),C,n);return B1(t,p,x)}else return[]}function R5(t,e,n,r){const l=D1(t,r);if(l){const u=P1(l),p=u.path,v=u.queryId,C=di(p,e),x=Yt.fromObject(n),R=new Ul(b1(v),C,x);return B1(t,p,R)}else return[]}function Cp(t,e,n,r=!1){const l=e._path;let u=null,p=!1;t.syncPointTree_.foreachOnPath(l,(D,W)=>{const Y=di(D,l);u=u||oa(W,Y),p=p||ko(W)});let v=t.syncPointTree_.get(l);v?(p=p||ko(v),u=u||oa(v,Ct())):(v=new g5,t.syncPointTree_=t.syncPointTree_.set(l,v));let C;u!=null?C=!0:(C=!1,u=Fe.EMPTY_NODE,t.syncPointTree_.subtree(l).foreachChild((W,Y)=>{const V=oa(Y,Ct());V&&(u=u.updateImmediateChild(W,V))}));const x=ly(v,e);if(!x&&!e._queryParams.loadsAllData()){const D=nd(e);ge(!t.queryToTagMap.has(D),"View does not exist, but we have a tag");const W=L5();t.queryToTagMap.set(D,W),t.tagToQueryMap.set(W,D)}const R=R1(t.pendingWriteTree_,l);let I=x5(v,e,n,R,u,C);if(!x&&!p&&!r){const D=ay(v,e);I=I.concat(O5(t,e,D))}return I}function cy(t,e,n){const l=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(p,v)=>{const C=di(p,e),x=oa(v,C);if(x)return x});return ey(l,e,u,n,!0)}function $l(t,e){return uy(e,t.syncPointTree_,null,R1(t.pendingWriteTree_,Ct()))}function uy(t,e,n,r){if(lt(t.path))return dy(t,e,n,r);{const l=e.get(Ct());n==null&&l!=null&&(n=oa(l,Ct()));let u=[];const p=at(t.path),v=t.operationForChild(p),C=e.children.get(p);if(C&&v){const x=n?n.getImmediateChild(p):null,R=ty(r,p);u=u.concat(uy(v,C,x,R))}return l&&(u=u.concat(O1(l,t,r,n))),u}}function dy(t,e,n,r){const l=e.get(Ct());n==null&&l!=null&&(n=oa(l,Ct()));let u=[];return e.children.inorderTraversal((p,v)=>{const C=n?n.getImmediateChild(p):null,x=ty(r,p),R=t.operationForChild(p);R&&(u=u.concat(dy(R,v,C,x)))}),l&&(u=u.concat(O1(l,t,r,n))),u}function hy(t,e){const n=e.query,r=Nu(t,n);return{hashFn:()=>(u5(e)||Fe.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?T5(t,n._path,r):I5(t,n._path);{const u=T4(l,n);return mf(t,n,null,u)}}}}function Nu(t,e){const n=nd(e);return t.queryToTagMap.get(n)}function nd(t){return t._path.toString()+"$"+t._queryIdentifier}function D1(t,e){return t.tagToQueryMap.get(e)}function P1(t){const e=t.indexOf("$");return ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Dt(t.substr(0,e))}}function B1(t,e,n){const r=t.syncPointTree_.get(e);ge(r,"Missing sync point for query tag that we're tracking");const l=R1(t.pendingWriteTree_,e);return O1(r,n,l,null)}function N5(t){return t.fold((e,n,r)=>{if(n&&ko(n))return[ed(n)];{let l=[];return n&&(l=sy(n)),mi(r,(u,p)=>{l=l.concat(p)}),l}})}function gl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(w5())(t._repo,t._path):t}function M5(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const l=nd(r),u=t.queryToTagMap.get(l);t.queryToTagMap.delete(l),t.tagToQueryMap.delete(u)}}}function L5(){return C5++}function O5(t,e,n){const r=e._path,l=Nu(t,e),u=hy(t,n),p=t.listenProvider_.startListening(gl(e),l,u.hashFn,u.onComplete),v=t.syncPointTree_.subtree(r);if(l)ge(!ko(v.value),"If we're adding a query, it shouldn't be shadowed");else{const C=v.fold((x,R,I)=>{if(!lt(x)&&R&&ko(R))return[ed(R).query];{let D=[];return R&&(D=D.concat(sy(R).map(W=>W.query))),mi(I,(W,Y)=>{D=D.concat(Y)}),D}});for(let x=0;x<C.length;++x){const R=C[x];t.listenProvider_.stopListening(gl(R),Nu(t,R))}}return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new k1(n)}node(){return this.node_}}class F1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=wn(this.path_,e);return new F1(this.syncTree_,n)}node(){return cy(this.syncTree_,this.path_)}}const D5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sp=function(t,e,n){if(!t||typeof t!="object")return t;if(ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return P5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return B5(t[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},P5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+t)}},B5=function(t,e,n){t.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const l=e.node();if(ge(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const p=l.getValue();return typeof p!="number"?r:p+r},k5=function(t,e,n,r){return z1(e,new F1(n,t),r)},F5=function(t,e,n){return z1(t,new k1(e),n)};function z1(t,e,n){const r=t.getPriority().val(),l=Sp(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const p=t,v=Sp(p.getValue(),e,n);return v!==p.getValue()||l!==p.getPriority().val()?new Mn(v,Xn(l)):t}else{const p=t;return u=p,l!==p.getPriority().val()&&(u=u.updatePriority(new Mn(l))),p.forEachChild(an,(v,C)=>{const x=z1(C,e.getImmediateChild(v),n);x!==C&&(u=u.updateImmediateChild(v,x))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function H1(t,e){let n=e instanceof Dt?e:new Dt(e),r=t,l=at(n);for(;l!==null;){const u=fa(r.node.children,l)||{children:{},childCount:0};r=new U1(l,r,u),n=zt(n),l=at(n)}return r}function wa(t){return t.node.value}function fy(t,e){t.node.value=e,_f(t)}function gy(t){return t.node.childCount>0}function z5(t){return wa(t)===void 0&&!gy(t)}function id(t,e){mi(t.node.children,(n,r)=>{e(new U1(n,t,r))})}function py(t,e,n,r){n&&!r&&e(t),id(t,l=>{py(l,e,!0,r)}),n&&r&&e(t)}function U5(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Jl(t){return new Dt(t.parent===null?t.name:Jl(t.parent)+"/"+t.name)}function _f(t){t.parent!==null&&H5(t.parent,t.name,t)}function H5(t,e,n){const r=z5(n),l=eo(t.node.children,e);r&&l?(delete t.node.children[e],t.node.childCount--,_f(t)):!r&&!l&&(t.node.children[e]=n.node,t.node.childCount++,_f(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=/[\[\].#$\/\u0000-\u001F\u007F]/,V5=/[\[\].#$\u0000-\u001F\u007F]/,qd=10*1024*1024,my=function(t){return typeof t=="string"&&t.length!==0&&!W5.test(t)},_y=function(t){return typeof t=="string"&&t.length!==0&&!V5.test(t)},j5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_y(t)},yy=function(t,e,n){const r=n instanceof Dt?new sC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ts(r));if(typeof e=="function")throw new Error(t+"contains a function "+ts(r)+" with contents = "+e.toString());if(y_(e))throw new Error(t+"contains "+e.toString()+" "+ts(r));if(typeof e=="string"&&e.length>qd/3&&Ku(e)>qd)throw new Error(t+"contains a string greater than "+qd+" utf8 bytes "+ts(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(mi(e,(p,v)=>{if(p===".value")l=!0;else if(p!==".priority"&&p!==".sv"&&(u=!0,!my(p)))throw new Error(t+" contains an invalid key ("+p+") "+ts(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aC(r,p),yy(t,v,r),lC(r)}),l&&u)throw new Error(t+' contains ".value" child '+ts(r)+" in addition to actual children.")}},xy=function(t,e,n,r){if(!(r&&n===void 0)&&!_y(n))throw new Error(l_(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},G5=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xy(t,e,n,r)},Z5=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!my(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!j5(n))throw new Error(l_(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ey(t,e){let n=null;for(let r=0;r<e.length;r++){const l=e[r],u=l.getPath();n!==null&&!w1(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&t.eventLists_.push(n)}function vy(t,e,n){Ey(t,n),wy(t,r=>w1(r,e))}function ws(t,e,n){Ey(t,n),wy(t,r=>lr(r,e)||lr(e,r))}function wy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const l=t.eventLists_[r];if(l){const u=l.path;e(u)?(X5(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function X5(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ls&&Yn("event: "+n.toString()),Kl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="repo_interrupt",K5=25;class q5{constructor(e,n,r,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Y5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cu(),this.transactionQueueTree_=new U1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $5(t,e,n){if(t.stats_=E1(t.repoInfo_),t.forceRestClient_||M4())t.server_=new wu(t.repoInfo_,(r,l,u,p)=>{Ap(t,r,l,u,p)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ip(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yr(t.repoInfo_,e,(r,l,u,p)=>{Ap(t,r,l,u,p)},r=>{Ip(t,r)},r=>{e6(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=B4(t.repoInfo_,()=>new DC(t.stats_,t.server_)),t.infoData_=new RC,t.infoSyncTree_=new wp({startListening:(r,l,u,p)=>{let v=[];const C=t.infoData_.getNode(r._path);return C.isEmpty()||(v=td(t.infoSyncTree_,r._path,C),setTimeout(()=>{p("ok")},0)),v},stopListening:()=>{}}),W1(t,"connected",!1),t.serverSyncTree_=new wp({startListening:(r,l,u,p)=>(t.server_.listen(r,u,l,(v,C)=>{const x=p(v,C);ws(t.eventQueue_,r._path,x)}),[]),stopListening:(r,l)=>{t.server_.unlisten(r,l)}})}function J5(t){const n=t.infoData_.getNode(new Dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cy(t){return D5({timestamp:J5(t)})}function Ap(t,e,n,r,l){t.dataUpdateCount++;const u=new Dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let p=[];if(l)if(r){const C=mu(n,x=>Xn(x));p=R5(t.serverSyncTree_,u,C,l)}else{const C=Xn(n);p=b5(t.serverSyncTree_,u,C,l)}else if(r){const C=mu(n,x=>Xn(x));p=A5(t.serverSyncTree_,u,C)}else{const C=Xn(n);p=td(t.serverSyncTree_,u,C)}let v=u;p.length>0&&(v=j1(t,u)),ws(t.eventQueue_,v,p)}function Ip(t,e){W1(t,"connected",e),e===!1&&n6(t)}function e6(t,e){mi(e,(n,r)=>{W1(t,n,r)})}function W1(t,e,n){const r=new Dt("/.info/"+e),l=Xn(n);t.infoData_.updateSnapshot(r,l);const u=td(t.infoSyncTree_,r,l);ws(t.eventQueue_,r,u)}function t6(t){return t.nextWriteId_++}function n6(t){Sy(t,"onDisconnectEvents");const e=Cy(t),n=Cu();uf(t.onDisconnect_,Ct(),(l,u)=>{const p=k5(l,u,t.serverSyncTree_,e);Q_(n,l,p)});let r=[];uf(n,Ct(),(l,u)=>{r=r.concat(td(t.serverSyncTree_,l,u));const p=a6(t,l);j1(t,p)}),t.onDisconnect_=Cu(),ws(t.eventQueue_,Ct(),r)}function i6(t,e,n){let r;at(e._path)===".info"?r=Cp(t.infoSyncTree_,e,n):r=Cp(t.serverSyncTree_,e,n),vy(t.eventQueue_,e._path,r)}function Tp(t,e,n){let r;at(e._path)===".info"?r=mf(t.infoSyncTree_,e,n):r=mf(t.serverSyncTree_,e,n),vy(t.eventQueue_,e._path,r)}function r6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Q5)}function Sy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yn(n,...e)}function Ay(t,e,n){return cy(t.serverSyncTree_,e,n)||Fe.EMPTY_NODE}function V1(t,e=t.transactionQueueTree_){if(e||rd(t,e),wa(e)){const n=Ty(t,e);ge(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&o6(t,Jl(e),n)}else gy(e)&&id(e,n=>{V1(t,n)})}function o6(t,e,n){const r=n.map(x=>x.currentWriteId),l=Ay(t,e,r);let u=l;const p=l.hash();for(let x=0;x<n.length;x++){const R=n[x];ge(R.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const I=di(e,R.path);u=u.updateChild(I,R.currentOutputSnapshotRaw)}const v=u.val(!0),C=e;t.server_.put(C.toString(),v,x=>{Sy(t,"transaction put response",{path:C.toString(),status:x});let R=[];if(x==="ok"){const I=[];for(let D=0;D<n.length;D++)n[D].status=2,R=R.concat(Xs(t.serverSyncTree_,n[D].currentWriteId)),n[D].onComplete&&I.push(()=>n[D].onComplete(null,!0,n[D].currentOutputSnapshotResolved)),n[D].unwatcher();rd(t,H1(t.transactionQueueTree_,e)),V1(t,t.transactionQueueTree_),ws(t.eventQueue_,e,R);for(let D=0;D<I.length;D++)Kl(I[D])}else{if(x==="datastale")for(let I=0;I<n.length;I++)n[I].status===3?n[I].status=4:n[I].status=0;else{Ti("transaction at "+C.toString()+" failed: "+x);for(let I=0;I<n.length;I++)n[I].status=4,n[I].abortReason=x}j1(t,e)}},p)}function j1(t,e){const n=Iy(t,e),r=Jl(n),l=Ty(t,n);return s6(t,l,r),r}function s6(t,e,n){if(e.length===0)return;const r=[];let l=[];const p=e.filter(v=>v.status===0).map(v=>v.currentWriteId);for(let v=0;v<e.length;v++){const C=e[v],x=di(n,C.path);let R=!1,I;if(ge(x!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),C.status===4)R=!0,I=C.abortReason,l=l.concat(Xs(t.serverSyncTree_,C.currentWriteId,!0));else if(C.status===0)if(C.retryCount>=K5)R=!0,I="maxretry",l=l.concat(Xs(t.serverSyncTree_,C.currentWriteId,!0));else{const D=Ay(t,C.path,p);C.currentInputSnapshot=D;const W=e[v].update(D.val());if(W!==void 0){yy("transaction failed: Data returned ",W,C.path);let Y=Xn(W);typeof W=="object"&&W!=null&&eo(W,".priority")||(Y=Y.updatePriority(D.getPriority()));const me=C.currentWriteId,H=Cy(t),B=F5(Y,D,H);C.currentOutputSnapshotRaw=Y,C.currentOutputSnapshotResolved=B,C.currentWriteId=t6(t),p.splice(p.indexOf(me),1),l=l.concat(S5(t.serverSyncTree_,C.path,B,C.currentWriteId,C.applyLocally)),l=l.concat(Xs(t.serverSyncTree_,me,!0))}else R=!0,I="nodata",l=l.concat(Xs(t.serverSyncTree_,C.currentWriteId,!0))}ws(t.eventQueue_,n,l),l=[],R&&(e[v].status=2,function(D){setTimeout(D,Math.floor(0))}(e[v].unwatcher),e[v].onComplete&&(I==="nodata"?r.push(()=>e[v].onComplete(null,!1,e[v].currentInputSnapshot)):r.push(()=>e[v].onComplete(new Error(I),!1,null))))}rd(t,t.transactionQueueTree_);for(let v=0;v<r.length;v++)Kl(r[v]);V1(t,t.transactionQueueTree_)}function Iy(t,e){let n,r=t.transactionQueueTree_;for(n=at(e);n!==null&&wa(r)===void 0;)r=H1(r,n),e=zt(e),n=at(e);return r}function Ty(t,e){const n=[];return by(t,e,n),n.sort((r,l)=>r.order-l.order),n}function by(t,e,n){const r=wa(e);if(r)for(let l=0;l<r.length;l++)n.push(r[l]);id(e,l=>{by(t,l,n)})}function rd(t,e){const n=wa(e);if(n){let r=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[r]=n[l],r++);n.length=r,fy(e,n.length>0?n:void 0)}id(e,r=>{rd(t,r)})}function a6(t,e){const n=Jl(Iy(t,e)),r=H1(t.transactionQueueTree_,e);return U5(r,l=>{$d(t,l)}),$d(t,r),py(r,l=>{$d(t,l)}),n}function $d(t,e){const n=wa(e);if(n){const r=[];let l=[],u=-1;for(let p=0;p<n.length;p++)n[p].status===3||(n[p].status===1?(ge(u===p-1,"All SENT items should be at beginning of queue."),u=p,n[p].status=3,n[p].abortReason="set"):(ge(n[p].status===0,"Unexpected transaction status in abort"),n[p].unwatcher(),l=l.concat(Xs(t.serverSyncTree_,n[p].currentWriteId,!0)),n[p].onComplete&&r.push(n[p].onComplete.bind(null,new Error("set"),!1,null))));u===-1?fy(e,void 0):n.length=u+1,ws(t.eventQueue_,Jl(e),l);for(let p=0;p<r.length;p++)Kl(r[p])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let l=n[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function c6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ti(`Invalid query segment '${n}' in query '${t}'`)}return e}const bp=function(t,e){const n=u6(t),r=n.namespace;n.domain==="firebase.com"&&$r(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&$r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||w4();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new N_(n.host,n.secure,r,l,e,"",r!==n.subdomain),path:new Dt(n.pathString)}},u6=function(t){let e="",n="",r="",l="",u="",p=!0,v="https",C=443;if(typeof t=="string"){let x=t.indexOf("//");x>=0&&(v=t.substring(0,x-1),t=t.substring(x+2));let R=t.indexOf("/");R===-1&&(R=t.length);let I=t.indexOf("?");I===-1&&(I=t.length),e=t.substring(0,Math.min(R,I)),R<I&&(l=l6(t.substring(R,I)));const D=c6(t.substring(Math.min(t.length,I)));x=e.indexOf(":"),x>=0?(p=v==="https"||v==="wss",C=parseInt(e.substring(x+1),10)):x=e.length;const W=e.slice(0,x);if(W.toLowerCase()==="localhost")n="localhost";else if(W.split(".").length<=2)n=W;else{const Y=e.indexOf(".");r=e.substring(0,Y).toLowerCase(),n=e.substring(Y+1),u=r}"ns"in D&&(u=D.ns)}return{host:e,port:C,domain:n,subdomain:r,secure:p,scheme:v,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,l){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Dn(this.snapshot.exportVal())}}class Ny{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,l){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=l}get key(){return lt(this._path)?null:z_(this._path)}get ref(){return new to(this._repo,this._path)}get _queryIdentifier(){const e=dp(this._queryParams),n=y1(e);return n==="{}"?"default":n}get _queryObject(){return dp(this._queryParams)}isEqual(e){if(e=qu(e),!(e instanceof G1))return!1;const n=this._repo===e._repo,r=w1(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+oC(this._path)}}class to extends G1{constructor(e,n){super(e,n,new I1,!1)}get parent(){const e=H_(this._path);return e===null?null:new to(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Hl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Dt(e),r=Mu(this.ref,e);return new Hl(this._node.getChild(n),r,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new Hl(l,Mu(this.ref,r),an)))}hasChild(e){const n=new Dt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jd(t,e){return t=qu(t),t._checkNotDeleted("ref"),e!==void 0?Mu(t._root,e):t._root}function Mu(t,e){return t=qu(t),at(t._path)===null?G5("child","path",e,!1):xy("child","path",e,!1),new to(t._repo,wn(t._path,e))}class Z1{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Ry("value",this,new Hl(e.snapshotNode,new to(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ny(this,e,n):null}matches(e){return e instanceof Z1?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Y1{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ny(this,e,n):null}createEvent(e,n){ge(e.childName!=null,"Child events should have a childName.");const r=Mu(new to(n._repo,n._path),e.childName),l=n._queryParams.getIndex();return new Ry(e.type,this,new Hl(e.snapshotNode,r,l),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Y1?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function h6(t,e,n,r,l){let u;if(typeof r=="object"&&(u=void 0,l=r),typeof r=="function"&&(u=r),l&&l.onlyOnce){const C=n,x=(R,I)=>{Tp(t._repo,t,v),C(R,I)};x.userCallback=n.userCallback,x.context=n.context,n=x}const p=new d6(n,u||void 0),v=e==="value"?new Z1(p):new Y1(e,p);return i6(t._repo,t,v),()=>Tp(t._repo,t,v)}function eh(t,e,n,r){return h6(t,"value",e,n,r)}p5(to);v5(to);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="FIREBASE_DATABASE_EMULATOR_HOST",yf={};let g6=!1;function p6(t,e,n,r){t.repoInfo_=new N_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function m6(t,e,n,r,l){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||$r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yn("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let p=bp(u,l),v=p.repoInfo,C,x;typeof process<"u"&&Yg&&(x=Yg[f6]),x?(C=!0,u=`http://${x}?ns=${v.namespace}`,p=bp(u,l),v=p.repoInfo):C=!p.repoInfo.secure;const R=l&&C?new ia(ia.OWNER):new O4(t.name,t.options,e);Z5("Invalid Firebase Database URL",p),lt(p.path)||$r("Database URL must point to the root of a Firebase Database (not including a child path).");const I=y6(v,t,R,new L4(t.name,n));return new x6(I,t)}function _6(t,e){const n=yf[e];(!n||n[t.key]!==t)&&$r(`Database ${e}(${t.repoInfo_}) has already been deleted.`),r6(t),delete n[t.key]}function y6(t,e,n,r){let l=yf[e.name];l||(l={},yf[e.name]=l);let u=l[t.toURLString()];return u&&$r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new q5(t,g6,n,r),l[t.toURLString()]=u,u}class x6{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new to(this._repo,Ct())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$r("Cannot call "+e+" on a deleted database.")}}function E6(t=o4(),e){const n=t4(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Yv("database");r&&v6(n,...r)}return n}function v6(t,e,n,r={}){t=qu(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&$r("Cannot call useEmulator() after instance has already been initialized.");const l=t._repoInternal;let u;if(l.repoInfo_.nodeAdmin)r.mockUserToken&&$r('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ia(ia.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:Xv(r.mockUserToken,t.app.options.projectId);u=new ia(p)}p6(l,e,n,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){_4(r4),yu(new Ol("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return m6(r,l,u,n)},"PUBLIC").setMultipleInstances(!0)),ta(Xg,Qg,t),ta(Xg,Qg,"esm2017")}Yr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};w6();const C6={apiKey:"AIzaSyBwM78rh1iYKCnJlW1-oYwB4dZbrRFdz-c",authDomain:"roomorientationdata.firebaseapp.com",databaseURL:"https://roomorientationdata-default-rtdb.firebaseio.com",projectId:"roomorientationdata",storageBucket:"roomorientationdata.appspot.com",messagingSenderId:"99942721154",appId:"1:99942721154:web:18939bfc42074d9316769b"},S6=h_(C6),th=E6(S6);function My({style:t}){const[e,n]=pn.useState(""),[r,l]=pn.useState(""),[u,p]=pn.useState(!1),[v,C]=pn.useState(!1),x=pn.useRef(null),[R,I]=pn.useState(!1),[D,W]=pn.useState(!1),[Y,V]=pn.useState(!1),[me,H]=pn.useState(!1),[B,k]=pn.useState(!1),[J,pe]=pn.useState(!1),[ce,q]=pn.useState(""),[fe,te]=pn.useState(!1),ze=()=>{console.log("tangaga"),event.preventDefault();const X=new uv("reader",{qrbox:{width:300,height:300},fps:20}),Le=ot=>{console.log("QR Code Value Detected:",ot),n(ot),te(!1),X.clear()},He=ot=>{console.error(ot)};fe?(X.clear(),te(!1)):(te(!0),X.render(Le,He))},Ge=X=>{const{value:Le}=X.target;q(Le)},we=()=>{I(!R),W(!R)},Je=()=>{V(!Y),H(!Y)};let Ye=[],ee;const Oe=pn.useRef(null);pn.useEffect(()=>{Oe.current=Gn.map("map",{center:[0,-.09],zoom:13,zoomControl:!1,crs:Gn.CRS.EPSG3395}),Oe.current.setView([10,10],3);const X=()=>{p(!1),C(!1)};return document.body.addEventListener("click",X),()=>{Oe.current.remove(),document.body.removeEventListener("click",X)}},[]);const xe=X=>{let Le=[{url:X,bounds:X==="main2ndFloorPlan"||X==="main5thFloorPlan"?[[0,0],[12,15]]:[[0,0],[10,10]]}];Oe.current.eachLayer(function(He){He instanceof Gn.ImageOverlay&&Oe.current.removeLayer(He)}),Le.forEach(function(He){Gn.imageOverlay(He.url,He.bounds).addTo(Oe.current)})};function ne(X){X==="science2ndFloor"?xe(gv):X==="science3rdFloor"?xe(pv):X==="main4thFloor"?xe(vv):X==="main5thFloor"?xe(wv):X==="main6thFloor"?xe(Cv):X==="main3rdFloor"?xe(Sv):X==="main2ndFloor"?xe(Av):X==="science4thFloor"?xe(mv):X==="science5thFloor"?xe(_v):X==="science6thFloor"?xe(yv):X==="science1stFloor"?xe(fv):X==="scienceGroundFloor"?xe(hv):X==="CHTMEDS4thFloor"?xe(xv):X==="CHTMEDS5thFloor"?xe(Ev):X==="BRS1stFloor"?xe(Tv):X==="BRS2ndFloor"?xe(bv):X==="BRS3rdFloor"?xe(Rv):X==="BRS4thFloor"?xe(Nv):X==="BRS5thFloor"?xe(Mv):X==="BRS6thFloor"?xe(Lv):X==="BRS7thFloor"?xe(Ov):X==="BRS8thFloor"?xe(Dv):X==="BRS9thFloor"?xe(Pv):X==="BRS10thFloor"&&xe(Bv)}const Ae=X=>{le(),De(),It(X),Ho(X),ne(X),gr(Ye)},le=()=>{Oe.current.eachLayer(X=>{X instanceof Gn.Marker&&Oe.current.removeLayer(X)})},De=()=>{Oe.current.eachLayer(X=>{X instanceof Gn.Polyline&&Oe.current.removeLayer(X)})};let Ne=[];const It=X=>{Ne=kv(X),Ue(Oe.current,Ne)},Ue=(X,Le)=>{Le.forEach(He=>{et(He,X)})},et=(X,Le)=>{if(!Le){console.error("Map not defined. Cannot add marker.");return}function He(pt,mt){if(mt==="BRS")switch(pt){case 1:Ae("BRS1stFloor");break;case 2:Ae("BRS2ndFloor");break;case 3:Ae("BRS3rdFloor");break;case 4:Ae("BRS4thFloor");break;case 5:Ae("BRS5thFloor");break;case 6:Ae("BRS6thFloor");break;case 7:Ae("BRS7thFloor");break;case 8:Ae("BRS8thFloor");break;case 9:Ae("BRS9thFloor");break}}if(Object.prototype.hasOwnProperty.call(X,"label")){const pt=Gn.marker([X.lat,X.lon]).addTo(Le);if(X.label==="leaveButton"&&(pt.bindPopup(`Node ${X.id}`),pt.setIcon(Gn.icon({iconUrl:Iv,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]})),pt.on("click",()=>{le(),Ae(X.destination);let We=(Ke=>Ne.find(wt=>wt.id===Ke))(X.desti);Oe.current.flyTo([We.lat,We.lon],8,{duration:1,easeLinearity:.5})})),X.label==="classroomLogo"&&(pt.bindPopup(`Node ${X.id}`),pt.setIcon(Gn.icon({iconUrl:dv,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}))),X.label==="elevator"){pt.bindPopup(`Node ${X.id}`),pt.setIcon(Gn.icon({iconUrl:xg,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}));let Xe;X.elevatorBuilding==="BRS"&&(Xe=[{id:1,node:143},{id:2,node:113},{id:3,node:166},{id:4,node:195},{id:5,node:224},{id:6,node:239},{id:7,node:264},{id:8,node:289},{id:9,node:314},{id:10,node:1046}]),pt.on("click",()=>{let We;for(let wt=0;wt<Ye.length;wt++)for(let Ht=0;Ht<Xe.length;Ht++)Ye[wt]===Xe[Ht].node&&(We=Xe[Ht].id);let Ke=document.createElement("div");for(let wt=1;wt<=Xe.length;wt++){let Ht=document.createElement("button");Ht.textContent=wt,Ht.addEventListener("click",()=>{He(wt,X.elevatorBuilding)}),wt===We&&(Ht.style.backgroundColor="red"),Ke.appendChild(Ht)}pt.getPopup().setContent(Ke),pt.openPopup()})}let mt="Your Current Location: ",Qi="Your Destination: ",_t=Ye[0],se=Ye[Ye.length-1];X.id===_t&&pt.bindPopup(`<strong>${mt}</strong> Room: ${X.roomID}`),X.id===se&&(pt.bindPopup(`<strong>${Qi}</strong> Room: ${X.roomID}`),pt.openPopup())}const ot=(pt,mt,Qi,_t)=>new Promise((se,Xe)=>{if(Qi==="roomID"){const We=Jd(th,pt);eh(We,Ke=>{const wt=Ke.val();for(let Ht=1;Ht<=50;Ht++)if(wt&&wt[mt]&&wt[mt].length>0&&wt[mt][Ht].node===_t){const Nr=wt[mt][Ht].roomID;se(Nr)}})}else Xe("Type is not 'roomID'")}),cn=(pt,mt,Qi,_t)=>new Promise((se,Xe)=>{if(Qi==="roomID"){const We=Jd(th,pt);eh(We,Ke=>{const wt=Ke.val();for(let Ht=1;Ht<=50;Ht++)if(wt&&wt[mt]&&wt[mt].length>0&&wt[mt][Ht].node===_t){const Nr=wt[mt][Ht].cat;se(Nr)}})}else Xe("Type is not 'roomID'")});if(Object.prototype.hasOwnProperty.call(X,"title")){var $t=Gn.latLng(X.lat,X.lon);cn(X.building,X.floor,"roomID",X.node).then(pt=>{ot(X.building,X.floor,"roomID",X.node).then(mt=>{pt===""?Gn.marker($t,{icon:Gn.divIcon({html:`<strong> ${pt} </strong> ${mt}`,className:"text-below-marker"})}).addTo(Le):Gn.marker($t,{icon:Gn.divIcon({html:`<strong> ${pt}: </strong> ${mt}`,className:"text-below-marker"})}).addTo(Le)}).catch(mt=>{console.error("Error:",mt)})}).catch(pt=>{console.error("Error:",pt)})}Tt(Ye,Ne)},ae=(X,Le)=>{for(let He=0;He<X.length;He++)for(let ot=0;ot<Le.length;ot++)if(X[He]===Le[ot].id)return console.log("ehe:",X[He]),Le[ot].id},rn=X=>Ne.find(Le=>Le.id===X),Tt=(X,Le)=>{const He=rn(ae(X,Le));He&&Oe.current.flyTo([He.lat,He.lon],8,{duration:1,easeLinearity:.5})},gr=X=>{for(let Le=0;Le<X.length-1;Le++){const He=rn(X[Le]),ot=rn(X[Le+1]);He&&ot&&Yi(Oe.current,He,ot)}},Yi=(X,Le,He)=>{const ot=[[Le.lat,Le.lon],[He.lat,He.lon]];Gn.polyline(ot,{weight:"4",color:"red"}).addTo(X)},ln=["S123","S214","S215","S216","S217","S218","S219","S220"],Mi=X=>{const{value:Le}=X.target;n(Le),p(Le.trim().length>0)},it=X=>{const{value:Le}=X.target;l(Le),C(Le.trim().length>0)},Xi=(X,Le)=>{Le?(n(X),p(!1)):(l(X),C(!1))},Kn=X=>{X.preventDefault();const Le=(ot,cn)=>new Promise(($t,pt)=>{const mt=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"],Qi=Jd(th,ot);eh(Qi,_t=>{const se=_t.val();for(let Xe=0;Xe<mt.length;Xe++)for(let We=1;We<=50;We++)if(se&&se[mt[Xe]]&&se[mt[Xe]][We])if(se[mt[Xe]][We].roomID===cn.toLowerCase()||se[mt[Xe]][We].roomID===cn.toUpperCase()){let Ke=se[mt[Xe]][We].node;console.log(Ke),$t(Ke);return}else console.log("wala data");else console.log("wala data2");$t("Room not found")},_t=>{pt(_t)})}),He=ot=>{if(ot[0].toLowerCase()==="s")return"Science";if(ot[0].toLowerCase()==="u")return"BRS";if(ot[0].toLowerCase()==="g")return"PE";if(ot[0].toLowerCase()==="m")return"Main";if(ot[0].toLowerCase()==="n")return"EDS";if(ot[0].toLowerCase()==="f")return"CHTM"};B&&(console.log("fac:",J),Le(He(e),e).then(ot=>{Le(He(r),r).then(cn=>{console.log(cn),Ye=Eg("enterDestination",String(ot),String(cn),R,me),ee=vg("enterDestination",String(ot),String(cn),R,me),Ae(ee)})})),J&&(console.log("dest:",B),Le(He(e),e).then(ot=>{Ye=Eg("enterFindFacility",ot,ce,R,me),ee=vg("enterFindFacility",ot,ce,R,me),Ae(ee)}))},pr=ln.filter(X=>X.toLowerCase().indexOf(e.toLowerCase())!==-1),qt=ln.filter(X=>X.toLowerCase().indexOf(r.toLowerCase())!==-1),[gt,rt]=pn.useState(""),Rr=X=>{const{value:Le}=X.target;rt(Le),Le==="Enter Destination"?(k(!0),pe(!1)):(k(!1),pe(!0))},[Ce,Et]=pn.useState(""),Ho=X=>{X=="science2ndFloor"?Et("Science Building 2nd Floor, PE Building 1st Floor"):X=="science3rdFloor"?Et("Science Building 3rd Floor, PE Building 3rd Floor"):X=="science4thFloor"?Et("Science Building 4th Floor, PE Building 4th Floor"):X=="science5thFloor"?Et("Science Building 5th Floor, PE Building 5th Floor"):X=="science6thFloor"?Et("Science Building 6th Floor, PE Building 6th Floor"):X=="CHTMEDS4thFloor"?Et("EDS 4th Floor, CHTM Building 4th Floor"):X=="CHTMEDS5thFloor"?Et("EDS 6th Floor, CHTM Building 6th Floor"):X=="main4thFloor"?Et("Main Building 4th Floor"):X=="main5thFloor"?Et("Main Building 5th Floor"):X=="main6thFloor"?Et("Main Building 6th Floor"):X=="main3rdFloor"?Et("Main Building 3rd Floor"):X=="main2ndFloor"?Et("Main Building 2nd Floor, EDS Building 2nd Floor"):X=="science1stFloor"?Et("Science Building 1st Floor, PE Building Ground Floor"):X=="scienceGroundFloor"?Et("Science Building Ground Floor"):X=="BRS1stFloor"?Et("BRS Building 1st Floor"):X=="BRS2ndFloor"?Et("BRS Building 2nd Floor"):X=="BRS3rdFloor"?Et("BRS Building 3rd Floor"):X=="BRS4thFloor"?Et("BRS Building 4th Floor"):X=="BRS5thFloor"?Et("BRS Building 5th Floor"):X=="BRS6thFloor"?Et("BRS Building 6th Floor"):X=="BRS7thFloor"?Et("BRS Building 7th Floor"):X=="BRS8thFloor"?Et("BRS Building 8th Floor"):X=="BRS9thFloor"?Et("BRS Building 9th Floor"):X=="BRS10thFloor"&&Et("BRS Building 10th Floor")};return Pe.jsxs("div",{style:t,ref:x,children:[Pe.jsx("div",{id:"reader",style:{display:fe?"block":"none"}}),Pe.jsx("div",{id:"result"}),Pe.jsxs("div",{className:"sticky-div",children:[Pe.jsx("div",{children:Pe.jsxs("select",{value:gt,onChange:Rr,className:"pickButton",children:[Pe.jsx("option",{defaultValue:"",children:"Choose Destination"}),Pe.jsx("option",{value:"Enter Destination",children:"Enter Destination"}),Pe.jsx("option",{value:"Find Closest Facility",children:"Find Facility/Office"})]})}),Pe.jsx("div",{style:{display:B||J?"block":"none"},children:Pe.jsx("form",{children:Pe.jsxs("div",{style:{display:"flex",borderBottom:"4px solid #0c380c"},children:[Pe.jsxs("span",{style:{flex:"70%",background:"#0c380c"},children:[Pe.jsxs("div",{style:{display:"flex"},children:[Pe.jsx("div",{style:{flex:"100%"},children:Pe.jsx("label",{children:Pe.jsx("input",{className:"InputBox",placeholder:"Enter Your Current Location",type:"text",name:"currentPost",value:e,onChange:Mi})})}),Pe.jsx("div",{children:Pe.jsx("button",{className:"qrButton",onClick:ze,children:"QR"})})]}),u&&Pe.jsx("ul",{className:"Suggestions",children:pr.map((X,Le)=>Pe.jsx("li",{onClick:()=>Xi(X,!0),children:X},Le))}),Pe.jsx("label",{children:Pe.jsx("input",{className:"InputBox",placeholder:"Enter Your Destination",type:"text",name:"destination",value:r,onChange:it,style:{display:B?"block":"none"}})}),v&&Pe.jsx("ul",{className:"Suggestions",children:qt.map((X,Le)=>Pe.jsx("li",{onClick:()=>Xi(X,!1),children:X},Le))}),Pe.jsxs("select",{style:{display:B?"none":"block"},className:"InputBox",id:"selectFac",value:ce,onChange:Ge,children:[Pe.jsx("option",{children:"Select Facility"}),Pe.jsx("option",{children:"CR(WOMEN)"}),Pe.jsx("option",{children:"CR(MEN)"}),Pe.jsx("option",{children:"CEA: Faculty Office"}),Pe.jsx("option",{children:"Gymnasium"})]})]}),Pe.jsx("span",{style:{flex:"30%",background:"#0c380c",borderLeft:"2px solid #0c380c",borderRight:"2px solid #0c380c",borderTop:"1px solid #0c380c"},children:Pe.jsxs("div",{children:[Pe.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[Pe.jsxs("div",{className:`CheckboxDiv ${D?"clicked":""}`,onClick:we,children:[Pe.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:R,onChange:()=>{}}),Pe.jsx("img",{src:xg,className:"checkbox-image",alt:"Elevator Logo"})]}),Pe.jsxs("div",{className:`CheckboxDiv ${me?"clicked":""}`,onClick:Je,children:[Pe.jsx("input",{type:"checkbox",className:"checkbox",id:"emer",checked:Y,onChange:()=>{}}),Pe.jsx("img",{src:S3,className:"checkbox-image",alt:"Elevator Logo"})]})]}),Pe.jsx("div",{children:Pe.jsx("button",{title:"Locate",className:"Locatebuttons",onClick:Kn,children:" Locate"})})]})})]})})}),Pe.jsx("div",{className:"currentPosition",style:{},children:Pe.jsxs("h4",{style:{textAlign:"center",margin:"5px",opacity:"0.6",borderRadius:"60px"},children:[" ",Ce]})})]}),Pe.jsx("div",{id:"map",style:{width:"100%",height:"1000px"}})]})}My.propTypes={style:C3.object};function A6(){return Pe.jsx(Pe.Fragment,{children:Pe.jsx(My,{})})}nh.createRoot(document.getElementById("root")).render(Pe.jsx(ax.StrictMode,{children:Pe.jsx(A6,{})}));
