function G3(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Np={exports:{}},Oc={},Rp={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),Z3=Symbol.for("react.portal"),Y3=Symbol.for("react.fragment"),X3=Symbol.for("react.strict_mode"),Q3=Symbol.for("react.profiler"),K3=Symbol.for("react.provider"),q3=Symbol.for("react.context"),$3=Symbol.for("react.forward_ref"),J3=Symbol.for("react.suspense"),eE=Symbol.for("react.memo"),tE=Symbol.for("react.lazy"),c0=Symbol.iterator;function nE(t){return t===null||typeof t!="object"?null:(t=c0&&t[c0]||t["@@iterator"],typeof t=="function"?t:null)}var Mp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lp=Object.assign,Op={};function _a(t,e,n){this.props=t,this.context=e,this.refs=Op,this.updater=n||Mp}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dp(){}Dp.prototype=_a.prototype;function E1(t,e,n){this.props=t,this.context=e,this.refs=Op,this.updater=n||Mp}var y1=E1.prototype=new Dp;y1.constructor=E1;Lp(y1,_a.prototype);y1.isPureReactComponent=!0;var u0=Array.isArray,Pp=Object.prototype.hasOwnProperty,x1={current:null},Fp={key:!0,ref:!0,__self:!0,__source:!0};function Bp(t,e,n){var o,l={},c=null,m=null;if(e!=null)for(o in e.ref!==void 0&&(m=e.ref),e.key!==void 0&&(c=""+e.key),e)Pp.call(e,o)&&!Fp.hasOwnProperty(o)&&(l[o]=e[o]);var v=arguments.length-2;if(v===1)l.children=n;else if(1<v){for(var C=Array(v),y=0;y<v;y++)C[y]=arguments[y+2];l.children=C}if(t&&t.defaultProps)for(o in v=t.defaultProps,v)l[o]===void 0&&(l[o]=v[o]);return{$$typeof:Wl,type:t,key:c,ref:m,props:l,_owner:x1.current}}function iE(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function oE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h0=/\/+/g;function mu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oE(""+t.key):e.toString(36)}function Md(t,e,n,o,l){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var m=!1;if(t===null)m=!0;else switch(c){case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case Wl:case Z3:m=!0}}if(m)return m=t,l=l(m),t=o===""?"."+mu(m,0):o,u0(l)?(n="",t!=null&&(n=t.replace(h0,"$&/")+"/"),Md(l,e,n,"",function(y){return y})):l!=null&&(v1(l)&&(l=iE(l,n+(!l.key||m&&m.key===l.key?"":(""+l.key).replace(h0,"$&/")+"/")+t)),e.push(l)),1;if(m=0,o=o===""?".":o+":",u0(t))for(var v=0;v<t.length;v++){c=t[v];var C=o+mu(c,v);m+=Md(c,e,n,C,l)}else if(C=nE(t),typeof C=="function")for(t=C.call(t),v=0;!(c=t.next()).done;)c=c.value,C=o+mu(c,v++),m+=Md(c,e,n,C,l);else if(c==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return m}function hd(t,e,n){if(t==null)return t;var o=[],l=0;return Md(t,o,"","",function(c){return e.call(n,c,l++)}),o}function rE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ri={current:null},Ld={transition:null},sE={ReactCurrentDispatcher:ri,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:x1};ht.Children={map:hd,forEach:function(t,e,n){hd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hd(t,function(){e++}),e},toArray:function(t){return hd(t,function(e){return e})||[]},only:function(t){if(!v1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ht.Component=_a;ht.Fragment=Y3;ht.Profiler=Q3;ht.PureComponent=E1;ht.StrictMode=X3;ht.Suspense=J3;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sE;ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Lp({},t.props),l=t.key,c=t.ref,m=t._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,m=x1.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var v=t.type.defaultProps;for(C in e)Pp.call(e,C)&&!Fp.hasOwnProperty(C)&&(o[C]=e[C]===void 0&&v!==void 0?v[C]:e[C])}var C=arguments.length-2;if(C===1)o.children=n;else if(1<C){v=Array(C);for(var y=0;y<C;y++)v[y]=arguments[y+2];o.children=v}return{$$typeof:Wl,type:t.type,key:l,ref:c,props:o,_owner:m}};ht.createContext=function(t){return t={$$typeof:q3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K3,_context:t},t.Consumer=t};ht.createElement=Bp;ht.createFactory=function(t){var e=Bp.bind(null,t);return e.type=t,e};ht.createRef=function(){return{current:null}};ht.forwardRef=function(t){return{$$typeof:$3,render:t}};ht.isValidElement=v1;ht.lazy=function(t){return{$$typeof:tE,_payload:{_status:-1,_result:t},_init:rE}};ht.memo=function(t,e){return{$$typeof:eE,type:t,compare:e===void 0?null:e}};ht.startTransition=function(t){var e=Ld.transition;Ld.transition={};try{t()}finally{Ld.transition=e}};ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ht.useCallback=function(t,e){return ri.current.useCallback(t,e)};ht.useContext=function(t){return ri.current.useContext(t)};ht.useDebugValue=function(){};ht.useDeferredValue=function(t){return ri.current.useDeferredValue(t)};ht.useEffect=function(t,e){return ri.current.useEffect(t,e)};ht.useId=function(){return ri.current.useId()};ht.useImperativeHandle=function(t,e,n){return ri.current.useImperativeHandle(t,e,n)};ht.useInsertionEffect=function(t,e){return ri.current.useInsertionEffect(t,e)};ht.useLayoutEffect=function(t,e){return ri.current.useLayoutEffect(t,e)};ht.useMemo=function(t,e){return ri.current.useMemo(t,e)};ht.useReducer=function(t,e,n){return ri.current.useReducer(t,e,n)};ht.useRef=function(t){return ri.current.useRef(t)};ht.useState=function(t){return ri.current.useState(t)};ht.useSyncExternalStore=function(t,e,n){return ri.current.useSyncExternalStore(t,e,n)};ht.useTransition=function(){return ri.current.useTransition()};ht.version="18.2.0";Rp.exports=ht;var nn=Rp.exports;const aE=Lc(nn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE=nn,dE=Symbol.for("react.element"),cE=Symbol.for("react.fragment"),uE=Object.prototype.hasOwnProperty,hE=lE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fE={key:!0,ref:!0,__self:!0,__source:!0};function kp(t,e,n){var o,l={},c=null,m=null;n!==void 0&&(c=""+n),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(m=e.ref);for(o in e)uE.call(e,o)&&!fE.hasOwnProperty(o)&&(l[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)l[o]===void 0&&(l[o]=e[o]);return{$$typeof:dE,type:t,key:c,ref:m,props:l,_owner:hE.current}}Oc.Fragment=cE;Oc.jsx=kp;Oc.jsxs=kp;Np.exports=Oc;var Oe=Np.exports,nh={},Up={exports:{}},Ni={},zp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,Me){var le=te.length;te.push(Me);e:for(;0<le;){var He=le-1>>>1,ze=te[He];if(0<l(ze,Me))te[He]=Me,te[le]=ze,le=He;else break e}}function n(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var Me=te[0],le=te.pop();if(le!==Me){te[0]=le;e:for(var He=0,ze=te.length,St=ze>>>1;He<St;){var je=2*(He+1)-1,it=te[je],ae=je+1,cn=te[ae];if(0>l(it,le))ae<ze&&0>l(cn,it)?(te[He]=cn,te[ae]=le,He=ae):(te[He]=it,te[je]=le,He=je);else if(ae<ze&&0>l(cn,le))te[He]=cn,te[ae]=le,He=ae;else break e}}return Me}function l(te,Me){var le=te.sortIndex-Me.sortIndex;return le!==0?le:te.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var m=Date,v=m.now();t.unstable_now=function(){return m.now()-v}}var C=[],y=[],N=1,T=null,D=3,W=!1,X=!1,j=!1,_e=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(te){for(var Me=n(y);Me!==null;){if(Me.callback===null)o(y);else if(Me.startTime<=te)o(y),Me.sortIndex=Me.expirationTime,e(C,Me);else break;Me=n(y)}}function J(te){if(j=!1,B(te),!X)if(n(C)!==null)X=!0,Re(pe);else{var Me=n(y);Me!==null&&Be(J,Me.startTime-te)}}function pe(te,Me){X=!1,j&&(j=!1,H(fe),fe=-1),W=!0;var le=D;try{for(B(Me),T=n(C);T!==null&&(!(T.expirationTime>Me)||te&&!Pe());){var He=T.callback;if(typeof He=="function"){T.callback=null,D=T.priorityLevel;var ze=He(T.expirationTime<=Me);Me=t.unstable_now(),typeof ze=="function"?T.callback=ze:T===n(C)&&o(C),B(Me)}else o(C);T=n(C)}if(T!==null)var St=!0;else{var je=n(y);je!==null&&Be(J,je.startTime-Me),St=!1}return St}finally{T=null,D=le,W=!1}}var ce=!1,K=null,fe=-1,ne=5,Ye=-1;function Pe(){return!(t.unstable_now()-Ye<ne)}function ye(){if(K!==null){var te=t.unstable_now();Ye=te;var Me=!0;try{Me=K(!0,te)}finally{Me?Ue():(ce=!1,K=null)}}else ce=!1}var Ue;if(typeof F=="function")Ue=function(){F(ye)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,ee=Ie.port2;Ie.port1.onmessage=ye,Ue=function(){ee.postMessage(null)}}else Ue=function(){_e(ye,0)};function Re(te){K=te,ce||(ce=!0,Ue())}function Be(te,Me){fe=_e(function(){te(t.unstable_now())},Me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){X||W||(X=!0,Re(pe))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return n(C)},t.unstable_next=function(te){switch(D){case 1:case 2:case 3:var Me=3;break;default:Me=D}var le=D;D=Me;try{return te()}finally{D=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=D;D=te;try{return Me()}finally{D=le}},t.unstable_scheduleCallback=function(te,Me,le){var He=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?He+le:He):le=He,te){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=le+ze,te={id:N++,callback:Me,priorityLevel:te,startTime:le,expirationTime:ze,sortIndex:-1},le>He?(te.sortIndex=le,e(y,te),n(C)===null&&te===n(y)&&(j?(H(fe),fe=-1):j=!0,Be(J,le-He))):(te.sortIndex=ze,e(C,te),X||W||(X=!0,Re(pe))),te},t.unstable_shouldYield=Pe,t.unstable_wrapCallback=function(te){var Me=D;return function(){var le=D;D=Me;try{return te.apply(this,arguments)}finally{D=le}}}})(Hp);zp.exports=Hp;var gE=zp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=nn,bi=gE;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vp=new Set,pl={};function ys(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(pl[t]=e,t=0;t<e.length;t++)Vp.add(e[t])}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ih=Object.prototype.hasOwnProperty,pE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f0={},g0={};function mE(t){return ih.call(g0,t)?!0:ih.call(f0,t)?!1:pE.test(t)?g0[t]=!0:(f0[t]=!0,!1)}function _E(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EE(t,e,n,o){if(e===null||typeof e>"u"||_E(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function si(t,e,n,o,l,c,m){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=c,this.removeEmptyString=m}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new si(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new si(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new si(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new si(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new si(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new si(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new si(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new si(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new si(t,5,!1,t.toLowerCase(),null,!1,!1)});var w1=/[\-:]([a-z])/g;function C1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(w1,C1);Bn[e]=new si(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(w1,C1);Bn[e]=new si(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(w1,C1);Bn[e]=new si(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new si(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new si(t,1,!1,t.toLowerCase(),null,!0,!0)});function S1(t,e,n,o){var l=Bn.hasOwnProperty(e)?Bn[e]:null;(l!==null?l.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EE(e,n,l,o)&&(n=null),o||l===null?mE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):l.mustUseProperty?t[l.propertyName]=n===null?l.type===3?!1:"":n:(e=l.attributeName,o=l.attributeNamespace,n===null?t.removeAttribute(e):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var er=Wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),rh=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),I1=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Zp=Symbol.for("react.offscreen"),p0=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var tn=Object.assign,_u;function $a(t){if(_u===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_u=e&&e[1]||""}return`
`+_u+t}var Eu=!1;function yu(t,e){if(!t||Eu)return"";Eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(y){var o=y}Reflect.construct(t,[],e)}else{try{e.call()}catch(y){o=y}t.call(e.prototype)}else{try{throw Error()}catch(y){o=y}t()}}catch(y){if(y&&o&&typeof y.stack=="string"){for(var l=y.stack.split(`
`),c=o.stack.split(`
`),m=l.length-1,v=c.length-1;1<=m&&0<=v&&l[m]!==c[v];)v--;for(;1<=m&&0<=v;m--,v--)if(l[m]!==c[v]){if(m!==1||v!==1)do if(m--,v--,0>v||l[m]!==c[v]){var C=`
`+l[m].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=m&&0<=v);break}}}finally{Eu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function yE(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=yu(t.type,!1),t;case 11:return t=yu(t.type.render,!1),t;case 1:return t=yu(t.type,!0),t;default:return""}}function ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case Ds:return"Portal";case oh:return"Profiler";case A1:return"StrictMode";case rh:return"Suspense";case sh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gp:return(t.displayName||"Context")+".Consumer";case jp:return(t._context.displayName||"Context")+".Provider";case T1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I1:return e=t.displayName||null,e!==null?e:ah(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return ah(t(e))}catch{}}return null}function xE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(e);case 8:return e===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vE(t){var e=Yp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(m){o=""+m,c.call(this,m)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gd(t){t._valueTracker||(t._valueTracker=vE(t))}function Xp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Yp(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Vd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lh(t,e){var n=e.checked;return tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m0(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qp(t,e){e=e.checked,e!=null&&S1(t,"checked",e,!1)}function dh(t,e){Qp(t,e);var n=Dr(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ch(t,e.type,n):e.hasOwnProperty("defaultValue")&&ch(t,e.type,Dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ch(t,e,n){(e!=="number"||Vd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ja=Array.isArray;function Qs(t,e,n,o){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Dr(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,o&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function uh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Ja(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dr(n)}}function Kp(t,e){var n=Dr(e.value),o=Dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function y0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pd,$p=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,l){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,l)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wE=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){wE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function Jp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function em(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,l=Jp(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,l):t[n]=l}}var CE=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(t,e){if(e){if(CE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function b1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mh=null,Ks=null,qs=null;function x0(t){if(t=Gl(t)){if(typeof mh!="function")throw Error(he(280));var e=t.stateNode;e&&(e=kc(e),mh(t.stateNode,t.type,e))}}function tm(t){Ks?qs?qs.push(t):qs=[t]:Ks=t}function nm(){if(Ks){var t=Ks,e=qs;if(qs=Ks=null,x0(t),e)for(t=0;t<e.length;t++)x0(e[t])}}function im(t,e){return t(e)}function om(){}var xu=!1;function rm(t,e,n){if(xu)return t(e,n);xu=!0;try{return im(t,e,n)}finally{xu=!1,(Ks!==null||qs!==null)&&(om(),nm())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var o=kc(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var _h=!1;if(Qo)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){_h=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{_h=!1}function SE(t,e,n,o,l,c,m,v,C){var y=Array.prototype.slice.call(arguments,3);try{e.apply(n,y)}catch(N){this.onError(N)}}var il=!1,jd=null,Gd=!1,Eh=null,AE={onError:function(t){il=!0,jd=t}};function TE(t,e,n,o,l,c,m,v,C){il=!1,jd=null,SE.apply(AE,arguments)}function IE(t,e,n,o,l,c,m,v,C){if(TE.apply(this,arguments),il){if(il){var y=jd;il=!1,jd=null}else throw Error(he(198));Gd||(Gd=!0,Eh=y)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v0(t){if(xs(t)!==t)throw Error(he(188))}function bE(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,o=e;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(o=l.return,o!==null){n=o;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return v0(l),t;if(c===o)return v0(l),e;c=c.sibling}throw Error(he(188))}if(n.return!==o.return)n=l,o=c;else{for(var m=!1,v=l.child;v;){if(v===n){m=!0,n=l,o=c;break}if(v===o){m=!0,o=l,n=c;break}v=v.sibling}if(!m){for(v=c.child;v;){if(v===n){m=!0,n=c,o=l;break}if(v===o){m=!0,o=c,n=l;break}v=v.sibling}if(!m)throw Error(he(189))}}if(n.alternate!==o)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function am(t){return t=bE(t),t!==null?lm(t):null}function lm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lm(t);if(e!==null)return e;t=t.sibling}return null}var dm=bi.unstable_scheduleCallback,w0=bi.unstable_cancelCallback,NE=bi.unstable_shouldYield,RE=bi.unstable_requestPaint,dn=bi.unstable_now,ME=bi.unstable_getCurrentPriorityLevel,N1=bi.unstable_ImmediatePriority,cm=bi.unstable_UserBlockingPriority,Zd=bi.unstable_NormalPriority,LE=bi.unstable_LowPriority,um=bi.unstable_IdlePriority,Dc=null,bo=null;function OE(t){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(Dc,t,void 0,(t.current.flags&128)===128)}catch{}}var uo=Math.clz32?Math.clz32:FE,DE=Math.log,PE=Math.LN2;function FE(t){return t>>>=0,t===0?32:31-(DE(t)/PE|0)|0}var md=64,_d=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,l=t.suspendedLanes,c=t.pingedLanes,m=n&268435455;if(m!==0){var v=m&~l;v!==0?o=el(v):(c&=m,c!==0&&(o=el(c)))}else m=n&~l,m!==0?o=el(m):c!==0&&(o=el(c));if(o===0)return 0;if(e!==0&&e!==o&&!(e&l)&&(l=o&-o,c=e&-e,l>=c||l===16&&(c&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-uo(e),l=1<<n,o|=t[n],e&=~l;return o}function BE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kE(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,l=t.expirationTimes,c=t.pendingLanes;0<c;){var m=31-uo(c),v=1<<m,C=l[m];C===-1?(!(v&n)||v&o)&&(l[m]=BE(v,e)):C<=e&&(t.expiredLanes|=v),c&=~v}}function yh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hm(){var t=md;return md<<=1,!(md&4194240)&&(md=64),t}function vu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-uo(e),t[e]=n}function UE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var l=31-uo(n),c=1<<l;e[l]=0,o[l]=-1,t[l]=-1,n&=~c}}function R1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-uo(n),l=1<<o;l&e|t[o]&e&&(t[o]|=e),n&=~l}}var It=0;function fm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gm,M1,pm,mm,_m,xh=!1,Ed=[],Cr=null,Sr=null,Ar=null,El=new Map,yl=new Map,yr=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":El.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function Wa(t,e,n,o,l,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:c,targetContainers:[l]},e!==null&&(e=Gl(e),e!==null&&M1(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function HE(t,e,n,o,l){switch(e){case"focusin":return Cr=Wa(Cr,t,e,n,o,l),!0;case"dragenter":return Sr=Wa(Sr,t,e,n,o,l),!0;case"mouseover":return Ar=Wa(Ar,t,e,n,o,l),!0;case"pointerover":var c=l.pointerId;return El.set(c,Wa(El.get(c)||null,t,e,n,o,l)),!0;case"gotpointercapture":return c=l.pointerId,yl.set(c,Wa(yl.get(c)||null,t,e,n,o,l)),!0}return!1}function Em(t){var e=ns(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=sm(n),e!==null){t.blockedOn=e,_m(t.priority,function(){pm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);ph=o,n.target.dispatchEvent(o),ph=null}else return e=Gl(n),e!==null&&M1(e),t.blockedOn=n,!1;e.shift()}return!0}function S0(t,e,n){Od(t)&&n.delete(e)}function WE(){xh=!1,Cr!==null&&Od(Cr)&&(Cr=null),Sr!==null&&Od(Sr)&&(Sr=null),Ar!==null&&Od(Ar)&&(Ar=null),El.forEach(S0),yl.forEach(S0)}function Va(t,e){t.blockedOn===e&&(t.blockedOn=null,xh||(xh=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,WE)))}function xl(t){function e(l){return Va(l,t)}if(0<Ed.length){Va(Ed[0],t);for(var n=1;n<Ed.length;n++){var o=Ed[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Cr!==null&&Va(Cr,t),Sr!==null&&Va(Sr,t),Ar!==null&&Va(Ar,t),El.forEach(e),yl.forEach(e),n=0;n<yr.length;n++)o=yr[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<yr.length&&(n=yr[0],n.blockedOn===null);)Em(n),n.blockedOn===null&&yr.shift()}var $s=er.ReactCurrentBatchConfig,Xd=!0;function VE(t,e,n,o){var l=It,c=$s.transition;$s.transition=null;try{It=1,L1(t,e,n,o)}finally{It=l,$s.transition=c}}function jE(t,e,n,o){var l=It,c=$s.transition;$s.transition=null;try{It=4,L1(t,e,n,o)}finally{It=l,$s.transition=c}}function L1(t,e,n,o){if(Xd){var l=vh(t,e,n,o);if(l===null)Mu(t,e,o,Qd,n),C0(t,o);else if(HE(l,t,e,n,o))o.stopPropagation();else if(C0(t,o),e&4&&-1<zE.indexOf(t)){for(;l!==null;){var c=Gl(l);if(c!==null&&gm(c),c=vh(t,e,n,o),c===null&&Mu(t,e,o,Qd,n),c===l)break;l=c}l!==null&&o.stopPropagation()}else Mu(t,e,o,null,n)}}var Qd=null;function vh(t,e,n,o){if(Qd=null,t=b1(o),t=ns(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qd=t,null}function ym(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ME()){case N1:return 1;case cm:return 4;case Zd:case LE:return 16;case um:return 536870912;default:return 16}default:return 16}}var vr=null,O1=null,Dd=null;function xm(){if(Dd)return Dd;var t,e=O1,n=e.length,o,l="value"in vr?vr.value:vr.textContent,c=l.length;for(t=0;t<n&&e[t]===l[t];t++);var m=n-t;for(o=1;o<=m&&e[n-o]===l[c-o];o++);return Dd=l.slice(t,1<o?1-o:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yd(){return!0}function A0(){return!1}function Ri(t){function e(n,o,l,c,m){this._reactName=n,this._targetInst=l,this.type=o,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(n=t[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?yd:A0,this.isPropagationStopped=A0,this}return tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D1=Ri(Ea),jl=tn({},Ea,{view:0,detail:0}),GE=Ri(jl),wu,Cu,ja,Pc=tn({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ja&&(ja&&t.type==="mousemove"?(wu=t.screenX-ja.screenX,Cu=t.screenY-ja.screenY):Cu=wu=0,ja=t),wu)},movementY:function(t){return"movementY"in t?t.movementY:Cu}}),T0=Ri(Pc),ZE=tn({},Pc,{dataTransfer:0}),YE=Ri(ZE),XE=tn({},jl,{relatedTarget:0}),Su=Ri(XE),QE=tn({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),KE=Ri(QE),qE=tn({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$E=Ri(qE),JE=tn({},Ea,{data:0}),I0=Ri(JE),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ny[t])?!!e[t]:!1}function P1(){return iy}var oy=tn({},jl,{key:function(t){if(t.key){var e=ey[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ty[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P1,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ry=Ri(oy),sy=tn({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=Ri(sy),ay=tn({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P1}),ly=Ri(ay),dy=tn({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=Ri(dy),uy=tn({},Pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hy=Ri(uy),fy=[9,13,27,32],F1=Qo&&"CompositionEvent"in window,ol=null;Qo&&"documentMode"in document&&(ol=document.documentMode);var gy=Qo&&"TextEvent"in window&&!ol,vm=Qo&&(!F1||ol&&8<ol&&11>=ol),N0=" ",R0=!1;function wm(t,e){switch(t){case"keyup":return fy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fs=!1;function py(t,e){switch(t){case"compositionend":return Cm(e);case"keypress":return e.which!==32?null:(R0=!0,N0);case"textInput":return t=e.data,t===N0&&R0?null:t;default:return null}}function my(t,e){if(Fs)return t==="compositionend"||!F1&&wm(t,e)?(t=xm(),Dd=O1=vr=null,Fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vm&&e.locale!=="ko"?null:e.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_y[t.type]:e==="textarea"}function Sm(t,e,n,o){tm(o),e=Kd(e,"onChange"),0<e.length&&(n=new D1("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var rl=null,vl=null;function Ey(t){Pm(t,0)}function Fc(t){var e=Us(t);if(Xp(e))return t}function yy(t,e){if(t==="change")return e}var Am=!1;if(Qo){var Au;if(Qo){var Tu="oninput"in document;if(!Tu){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),Tu=typeof L0.oninput=="function"}Au=Tu}else Au=!1;Am=Au&&(!document.documentMode||9<document.documentMode)}function O0(){rl&&(rl.detachEvent("onpropertychange",Tm),vl=rl=null)}function Tm(t){if(t.propertyName==="value"&&Fc(vl)){var e=[];Sm(e,vl,t,b1(t)),rm(Ey,e)}}function xy(t,e,n){t==="focusin"?(O0(),rl=e,vl=n,rl.attachEvent("onpropertychange",Tm)):t==="focusout"&&O0()}function vy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(vl)}function wy(t,e){if(t==="click")return Fc(e)}function Cy(t,e){if(t==="input"||t==="change")return Fc(e)}function Sy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var go=typeof Object.is=="function"?Object.is:Sy;function wl(t,e){if(go(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!ih.call(e,l)||!go(t[l],e[l]))return!1}return!0}function D0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P0(t,e){var n=D0(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D0(n)}}function Im(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Im(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bm(){for(var t=window,e=Vd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vd(t.document)}return e}function B1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ay(t){var e=bm(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Im(n.ownerDocument.documentElement,n)){if(o!==null&&B1(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var l=n.textContent.length,c=Math.min(o.start,l);o=o.end===void 0?c:Math.min(o.end,l),!t.extend&&c>o&&(l=o,o=c,c=l),l=P0(n,c);var m=P0(n,o);l&&m&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(e=e.createRange(),e.setStart(l.node,l.offset),t.removeAllRanges(),c>o?(t.addRange(e),t.extend(m.node,m.offset)):(e.setEnd(m.node,m.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ty=Qo&&"documentMode"in document&&11>=document.documentMode,Bs=null,wh=null,sl=null,Ch=!1;function F0(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||Bs==null||Bs!==Vd(o)||(o=Bs,"selectionStart"in o&&B1(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),sl&&wl(sl,o)||(sl=o,o=Kd(wh,"onSelect"),0<o.length&&(e=new D1("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=Bs)))}function xd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},Iu={},Nm={};Qo&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Bc(t){if(Iu[t])return Iu[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nm)return Iu[t]=e[n];return t}var Rm=Bc("animationend"),Mm=Bc("animationiteration"),Lm=Bc("animationstart"),Om=Bc("transitionend"),Dm=new Map,B0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){Dm.set(t,e),ys(e,[t])}for(var bu=0;bu<B0.length;bu++){var Nu=B0[bu],Iy=Nu.toLowerCase(),by=Nu[0].toUpperCase()+Nu.slice(1);Ur(Iy,"on"+by)}Ur(Rm,"onAnimationEnd");Ur(Mm,"onAnimationIteration");Ur(Lm,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(Om,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function k0(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,IE(o,e,void 0,t),t.currentTarget=null}function Pm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],l=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var m=o.length-1;0<=m;m--){var v=o[m],C=v.instance,y=v.currentTarget;if(v=v.listener,C!==c&&l.isPropagationStopped())break e;k0(l,v,y),c=C}else for(m=0;m<o.length;m++){if(v=o[m],C=v.instance,y=v.currentTarget,v=v.listener,C!==c&&l.isPropagationStopped())break e;k0(l,v,y),c=C}}}if(Gd)throw t=Eh,Gd=!1,Eh=null,t}function Vt(t,e){var n=e[bh];n===void 0&&(n=e[bh]=new Set);var o=t+"__bubble";n.has(o)||(Fm(e,t,2,!1),n.add(o))}function Ru(t,e,n){var o=0;e&&(o|=4),Fm(n,t,o,e)}var vd="_reactListening"+Math.random().toString(36).slice(2);function Cl(t){if(!t[vd]){t[vd]=!0,Vp.forEach(function(n){n!=="selectionchange"&&(Ny.has(n)||Ru(n,!1,t),Ru(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vd]||(e[vd]=!0,Ru("selectionchange",!1,e))}}function Fm(t,e,n,o){switch(ym(e)){case 1:var l=VE;break;case 4:l=jE;break;default:l=L1}n=l.bind(null,e,n,t),l=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),o?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Mu(t,e,n,o,l){var c=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var v=o.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(m===4)for(m=o.return;m!==null;){var C=m.tag;if((C===3||C===4)&&(C=m.stateNode.containerInfo,C===l||C.nodeType===8&&C.parentNode===l))return;m=m.return}for(;v!==null;){if(m=ns(v),m===null)return;if(C=m.tag,C===5||C===6){o=c=m;continue e}v=v.parentNode}}o=o.return}rm(function(){var y=c,N=b1(n),T=[];e:{var D=Dm.get(t);if(D!==void 0){var W=D1,X=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":W=ry;break;case"focusin":X="focus",W=Su;break;case"focusout":X="blur",W=Su;break;case"beforeblur":case"afterblur":W=Su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=T0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=YE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=ly;break;case Rm:case Mm:case Lm:W=KE;break;case Om:W=cy;break;case"scroll":W=GE;break;case"wheel":W=hy;break;case"copy":case"cut":case"paste":W=$E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=b0}var j=(e&4)!==0,_e=!j&&t==="scroll",H=j?D!==null?D+"Capture":null:D;j=[];for(var F=y,B;F!==null;){B=F;var J=B.stateNode;if(B.tag===5&&J!==null&&(B=J,H!==null&&(J=_l(F,H),J!=null&&j.push(Sl(F,J,B)))),_e)break;F=F.return}0<j.length&&(D=new W(D,X,null,n,N),T.push({event:D,listeners:j}))}}if(!(e&7)){e:{if(D=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",D&&n!==ph&&(X=n.relatedTarget||n.fromElement)&&(ns(X)||X[Ko]))break e;if((W||D)&&(D=N.window===N?N:(D=N.ownerDocument)?D.defaultView||D.parentWindow:window,W?(X=n.relatedTarget||n.toElement,W=y,X=X?ns(X):null,X!==null&&(_e=xs(X),X!==_e||X.tag!==5&&X.tag!==6)&&(X=null)):(W=null,X=y),W!==X)){if(j=T0,J="onMouseLeave",H="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(j=b0,J="onPointerLeave",H="onPointerEnter",F="pointer"),_e=W==null?D:Us(W),B=X==null?D:Us(X),D=new j(J,F+"leave",W,n,N),D.target=_e,D.relatedTarget=B,J=null,ns(N)===y&&(j=new j(H,F+"enter",X,n,N),j.target=B,j.relatedTarget=_e,J=j),_e=J,W&&X)t:{for(j=W,H=X,F=0,B=j;B;B=Ms(B))F++;for(B=0,J=H;J;J=Ms(J))B++;for(;0<F-B;)j=Ms(j),F--;for(;0<B-F;)H=Ms(H),B--;for(;F--;){if(j===H||H!==null&&j===H.alternate)break t;j=Ms(j),H=Ms(H)}j=null}else j=null;W!==null&&U0(T,D,W,j,!1),X!==null&&_e!==null&&U0(T,_e,X,j,!0)}}e:{if(D=y?Us(y):window,W=D.nodeName&&D.nodeName.toLowerCase(),W==="select"||W==="input"&&D.type==="file")var pe=yy;else if(M0(D))if(Am)pe=Cy;else{pe=vy;var ce=xy}else(W=D.nodeName)&&W.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(pe=wy);if(pe&&(pe=pe(t,y))){Sm(T,pe,n,N);break e}ce&&ce(t,D,y),t==="focusout"&&(ce=D._wrapperState)&&ce.controlled&&D.type==="number"&&ch(D,"number",D.value)}switch(ce=y?Us(y):window,t){case"focusin":(M0(ce)||ce.contentEditable==="true")&&(Bs=ce,wh=y,sl=null);break;case"focusout":sl=wh=Bs=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,F0(T,n,N);break;case"selectionchange":if(Ty)break;case"keydown":case"keyup":F0(T,n,N)}var K;if(F1)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Fs?wm(t,n)&&(fe="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(vm&&n.locale!=="ko"&&(Fs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Fs&&(K=xm()):(vr=N,O1="value"in vr?vr.value:vr.textContent,Fs=!0)),ce=Kd(y,fe),0<ce.length&&(fe=new I0(fe,t,null,n,N),T.push({event:fe,listeners:ce}),K?fe.data=K:(K=Cm(n),K!==null&&(fe.data=K)))),(K=gy?py(t,n):my(t,n))&&(y=Kd(y,"onBeforeInput"),0<y.length&&(N=new I0("onBeforeInput","beforeinput",null,n,N),T.push({event:N,listeners:y}),N.data=K))}Pm(T,e)})}function Sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kd(t,e){for(var n=e+"Capture",o=[];t!==null;){var l=t,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=_l(t,n),c!=null&&o.unshift(Sl(t,c,l)),c=_l(t,e),c!=null&&o.push(Sl(t,c,l))),t=t.return}return o}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function U0(t,e,n,o,l){for(var c=e._reactName,m=[];n!==null&&n!==o;){var v=n,C=v.alternate,y=v.stateNode;if(C!==null&&C===o)break;v.tag===5&&y!==null&&(v=y,l?(C=_l(n,c),C!=null&&m.unshift(Sl(n,C,v))):l||(C=_l(n,c),C!=null&&m.push(Sl(n,C,v)))),n=n.return}m.length!==0&&t.push({event:e,listeners:m})}var Ry=/\r\n?/g,My=/\u0000|\uFFFD/g;function z0(t){return(typeof t=="string"?t:""+t).replace(Ry,`
`).replace(My,"")}function wd(t,e,n){if(e=z0(e),z0(t)!==e&&n)throw Error(he(425))}function qd(){}var Sh=null,Ah=null;function Th(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,Ly=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,Oy=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(Dy)}:Ih;function Dy(t){setTimeout(function(){throw t})}function Lu(t,e){var n=e,o=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(o===0){t.removeChild(l),xl(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=l}while(n);xl(e)}function Tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),Io="__reactFiber$"+ya,Al="__reactProps$"+ya,Ko="__reactContainer$"+ya,bh="__reactEvents$"+ya,Py="__reactListeners$"+ya,Fy="__reactHandles$"+ya;function ns(t){var e=t[Io];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ko]||n[Io]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[Io])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function Gl(t){return t=t[Io]||t[Ko],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function kc(t){return t[Al]||null}var Nh=[],zs=-1;function zr(t){return{current:t}}function Zt(t){0>zs||(t.current=Nh[zs],Nh[zs]=null,zs--)}function Ut(t,e){zs++,Nh[zs]=t.current,t.current=e}var Pr={},Qn=zr(Pr),fi=zr(!1),ds=Pr;function aa(t,e){var n=t.type.contextTypes;if(!n)return Pr;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=e[c];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function gi(t){return t=t.childContextTypes,t!=null}function $d(){Zt(fi),Zt(Qn)}function V0(t,e,n){if(Qn.current!==Pr)throw Error(he(168));Ut(Qn,e),Ut(fi,n)}function Bm(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var l in o)if(!(l in e))throw Error(he(108,xE(t)||"Unknown",l));return tn({},n,o)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,ds=Qn.current,Ut(Qn,t),Ut(fi,fi.current),!0}function j0(t,e,n){var o=t.stateNode;if(!o)throw Error(he(169));n?(t=Bm(t,e,ds),o.__reactInternalMemoizedMergedChildContext=t,Zt(fi),Zt(Qn),Ut(Qn,t)):Zt(fi),Ut(fi,n)}var Wo=null,Uc=!1,Ou=!1;function km(t){Wo===null?Wo=[t]:Wo.push(t)}function By(t){Uc=!0,km(t)}function Hr(){if(!Ou&&Wo!==null){Ou=!0;var t=0,e=It;try{var n=Wo;for(It=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}Wo=null,Uc=!1}catch(l){throw Wo!==null&&(Wo=Wo.slice(t+1)),dm(N1,Hr),l}finally{It=e,Ou=!1}}return null}var Hs=[],Ws=0,ec=null,tc=0,Wi=[],Vi=0,cs=null,Vo=1,jo="";function $r(t,e){Hs[Ws++]=tc,Hs[Ws++]=ec,ec=t,tc=e}function Um(t,e,n){Wi[Vi++]=Vo,Wi[Vi++]=jo,Wi[Vi++]=cs,cs=t;var o=Vo;t=jo;var l=32-uo(o)-1;o&=~(1<<l),n+=1;var c=32-uo(e)+l;if(30<c){var m=l-l%5;c=(o&(1<<m)-1).toString(32),o>>=m,l-=m,Vo=1<<32-uo(e)+l|n<<l|o,jo=c+t}else Vo=1<<c|n<<l|o,jo=t}function k1(t){t.return!==null&&($r(t,1),Um(t,1,0))}function U1(t){for(;t===ec;)ec=Hs[--Ws],Hs[Ws]=null,tc=Hs[--Ws],Hs[Ws]=null;for(;t===cs;)cs=Wi[--Vi],Wi[Vi]=null,jo=Wi[--Vi],Wi[Vi]=null,Vo=Wi[--Vi],Wi[Vi]=null}var Ti=null,Ai=null,Qt=!1,so=null;function zm(t,e){var n=ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ti=t,Ai=Tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ti=t,Ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:Vo,overflow:jo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ti=t,Ai=null,!0):!1;default:return!1}}function Rh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mh(t){if(Qt){var e=Ai;if(e){var n=e;if(!G0(t,e)){if(Rh(t))throw Error(he(418));e=Tr(n.nextSibling);var o=Ti;e&&G0(t,e)?zm(o,n):(t.flags=t.flags&-4097|2,Qt=!1,Ti=t)}}else{if(Rh(t))throw Error(he(418));t.flags=t.flags&-4097|2,Qt=!1,Ti=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ti=t}function Cd(t){if(t!==Ti)return!1;if(!Qt)return Z0(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Th(t.type,t.memoizedProps)),e&&(e=Ai)){if(Rh(t))throw Hm(),Error(he(418));for(;e;)zm(t,e),e=Tr(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ai=Tr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ai=null}}else Ai=Ti?Tr(t.stateNode.nextSibling):null;return!0}function Hm(){for(var t=Ai;t;)t=Tr(t.nextSibling)}function la(){Ai=Ti=null,Qt=!1}function z1(t){so===null?so=[t]:so.push(t)}var ky=er.ReactCurrentBatchConfig;function io(t,e){if(t&&t.defaultProps){e=tn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var nc=zr(null),ic=null,Vs=null,H1=null;function W1(){H1=Vs=ic=null}function V1(t){var e=nc.current;Zt(nc),t._currentValue=e}function Lh(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){ic=t,H1=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function Zi(t){var e=t._currentValue;if(H1!==t)if(t={context:t,memoizedValue:e,next:null},Vs===null){if(ic===null)throw Error(he(308));Vs=t,ic.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return e}var is=null;function j1(t){is===null?is=[t]:is.push(t)}function Wm(t,e,n,o){var l=e.interleaved;return l===null?(n.next=n,j1(e)):(n.next=l.next,l.next=n),e.interleaved=n,qo(t,o)}function qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function G1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Et&2){var l=o.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),o.pending=e,qo(t,n)}return l=o.interleaved,l===null?(e.next=e,j1(o)):(e.next=l.next,l.next=e),o.interleaved=e,qo(t,n)}function Fd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,R1(t,n)}}function Y0(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=m:c=c.next=m,n=n.next}while(n!==null);c===null?l=c=e:c=c.next=e}else l=c=e;n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oc(t,e,n,o){var l=t.updateQueue;Er=!1;var c=l.firstBaseUpdate,m=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var C=v,y=C.next;C.next=null,m===null?c=y:m.next=y,m=C;var N=t.alternate;N!==null&&(N=N.updateQueue,v=N.lastBaseUpdate,v!==m&&(v===null?N.firstBaseUpdate=y:v.next=y,N.lastBaseUpdate=C))}if(c!==null){var T=l.baseState;m=0,N=y=C=null,v=c;do{var D=v.lane,W=v.eventTime;if((o&D)===D){N!==null&&(N=N.next={eventTime:W,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var X=t,j=v;switch(D=e,W=n,j.tag){case 1:if(X=j.payload,typeof X=="function"){T=X.call(W,T,D);break e}T=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=j.payload,D=typeof X=="function"?X.call(W,T,D):X,D==null)break e;T=tn({},T,D);break e;case 2:Er=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,D=l.effects,D===null?l.effects=[v]:D.push(v))}else W={eventTime:W,lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},N===null?(y=N=W,C=T):N=N.next=W,m|=D;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;D=v,v=D.next,D.next=null,l.lastBaseUpdate=D,l.shared.pending=null}}while(!0);if(N===null&&(C=T),l.baseState=C,l.firstBaseUpdate=y,l.lastBaseUpdate=N,e=l.shared.interleaved,e!==null){l=e;do m|=l.lane,l=l.next;while(l!==e)}else c===null&&(l.shared.lanes=0);hs|=m,t.lanes=m,t.memoizedState=T}}function X0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],l=o.callback;if(l!==null){if(o.callback=null,o=n,typeof l!="function")throw Error(he(191,l));l.call(o)}}}var jm=new Wp.Component().refs;function Oh(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:tn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zc={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=oi(),l=Nr(t),c=Yo(o,l);c.payload=e,n!=null&&(c.callback=n),e=Ir(t,c,l),e!==null&&(ho(e,t,l,o),Fd(e,t,l))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=oi(),l=Nr(t),c=Yo(o,l);c.tag=1,c.payload=e,n!=null&&(c.callback=n),e=Ir(t,c,l),e!==null&&(ho(e,t,l,o),Fd(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=oi(),o=Nr(t),l=Yo(n,o);l.tag=2,e!=null&&(l.callback=e),e=Ir(t,l,o),e!==null&&(ho(e,t,o,n),Fd(e,t,o))}};function Q0(t,e,n,o,l,c,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,c,m):e.prototype&&e.prototype.isPureReactComponent?!wl(n,o)||!wl(l,c):!0}function Gm(t,e,n){var o=!1,l=Pr,c=e.contextType;return typeof c=="object"&&c!==null?c=Zi(c):(l=gi(e)?ds:Qn.current,o=e.contextTypes,c=(o=o!=null)?aa(t,l):Pr),e=new e(n,c),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zc,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=c),e}function K0(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&zc.enqueueReplaceState(e,e.state,null)}function Dh(t,e,n,o){var l=t.stateNode;l.props=n,l.state=t.memoizedState,l.refs=jm,G1(t);var c=e.contextType;typeof c=="object"&&c!==null?l.context=Zi(c):(c=gi(e)?ds:Qn.current,l.context=aa(t,c)),l.state=t.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(Oh(t,e,c,n),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&zc.enqueueReplaceState(l,l.state,null),oc(t,n,l,o),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var o=n.stateNode}if(!o)throw Error(he(147,t));var l=o,c=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(m){var v=l.refs;v===jm&&(v=l.refs={}),m===null?delete v[c]:v[c]=m},e._stringRef=c,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Sd(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q0(t){var e=t._init;return e(t._payload)}function Zm(t){function e(H,F){if(t){var B=H.deletions;B===null?(H.deletions=[F],H.flags|=16):B.push(F)}}function n(H,F){if(!t)return null;for(;F!==null;)e(H,F),F=F.sibling;return null}function o(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function l(H,F){return H=Rr(H,F),H.index=0,H.sibling=null,H}function c(H,F,B){return H.index=B,t?(B=H.alternate,B!==null?(B=B.index,B<F?(H.flags|=2,F):B):(H.flags|=2,F)):(H.flags|=1048576,F)}function m(H){return t&&H.alternate===null&&(H.flags|=2),H}function v(H,F,B,J){return F===null||F.tag!==6?(F=zu(B,H.mode,J),F.return=H,F):(F=l(F,B),F.return=H,F)}function C(H,F,B,J){var pe=B.type;return pe===Ps?N(H,F,B.props.children,J,B.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===_r&&q0(pe)===F.type)?(J=l(F,B.props),J.ref=Ga(H,F,B),J.return=H,J):(J=Wd(B.type,B.key,B.props,null,H.mode,J),J.ref=Ga(H,F,B),J.return=H,J)}function y(H,F,B,J){return F===null||F.tag!==4||F.stateNode.containerInfo!==B.containerInfo||F.stateNode.implementation!==B.implementation?(F=Hu(B,H.mode,J),F.return=H,F):(F=l(F,B.children||[]),F.return=H,F)}function N(H,F,B,J,pe){return F===null||F.tag!==7?(F=as(B,H.mode,J,pe),F.return=H,F):(F=l(F,B),F.return=H,F)}function T(H,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return F=zu(""+F,H.mode,B),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case fd:return B=Wd(F.type,F.key,F.props,null,H.mode,B),B.ref=Ga(H,null,F),B.return=H,B;case Ds:return F=Hu(F,H.mode,B),F.return=H,F;case _r:var J=F._init;return T(H,J(F._payload),B)}if(Ja(F)||za(F))return F=as(F,H.mode,B,null),F.return=H,F;Sd(H,F)}return null}function D(H,F,B,J){var pe=F!==null?F.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return pe!==null?null:v(H,F,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case fd:return B.key===pe?C(H,F,B,J):null;case Ds:return B.key===pe?y(H,F,B,J):null;case _r:return pe=B._init,D(H,F,pe(B._payload),J)}if(Ja(B)||za(B))return pe!==null?null:N(H,F,B,J,null);Sd(H,B)}return null}function W(H,F,B,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number")return H=H.get(B)||null,v(F,H,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case fd:return H=H.get(J.key===null?B:J.key)||null,C(F,H,J,pe);case Ds:return H=H.get(J.key===null?B:J.key)||null,y(F,H,J,pe);case _r:var ce=J._init;return W(H,F,B,ce(J._payload),pe)}if(Ja(J)||za(J))return H=H.get(B)||null,N(F,H,J,pe,null);Sd(F,J)}return null}function X(H,F,B,J){for(var pe=null,ce=null,K=F,fe=F=0,ne=null;K!==null&&fe<B.length;fe++){K.index>fe?(ne=K,K=null):ne=K.sibling;var Ye=D(H,K,B[fe],J);if(Ye===null){K===null&&(K=ne);break}t&&K&&Ye.alternate===null&&e(H,K),F=c(Ye,F,fe),ce===null?pe=Ye:ce.sibling=Ye,ce=Ye,K=ne}if(fe===B.length)return n(H,K),Qt&&$r(H,fe),pe;if(K===null){for(;fe<B.length;fe++)K=T(H,B[fe],J),K!==null&&(F=c(K,F,fe),ce===null?pe=K:ce.sibling=K,ce=K);return Qt&&$r(H,fe),pe}for(K=o(H,K);fe<B.length;fe++)ne=W(K,H,fe,B[fe],J),ne!==null&&(t&&ne.alternate!==null&&K.delete(ne.key===null?fe:ne.key),F=c(ne,F,fe),ce===null?pe=ne:ce.sibling=ne,ce=ne);return t&&K.forEach(function(Pe){return e(H,Pe)}),Qt&&$r(H,fe),pe}function j(H,F,B,J){var pe=za(B);if(typeof pe!="function")throw Error(he(150));if(B=pe.call(B),B==null)throw Error(he(151));for(var ce=pe=null,K=F,fe=F=0,ne=null,Ye=B.next();K!==null&&!Ye.done;fe++,Ye=B.next()){K.index>fe?(ne=K,K=null):ne=K.sibling;var Pe=D(H,K,Ye.value,J);if(Pe===null){K===null&&(K=ne);break}t&&K&&Pe.alternate===null&&e(H,K),F=c(Pe,F,fe),ce===null?pe=Pe:ce.sibling=Pe,ce=Pe,K=ne}if(Ye.done)return n(H,K),Qt&&$r(H,fe),pe;if(K===null){for(;!Ye.done;fe++,Ye=B.next())Ye=T(H,Ye.value,J),Ye!==null&&(F=c(Ye,F,fe),ce===null?pe=Ye:ce.sibling=Ye,ce=Ye);return Qt&&$r(H,fe),pe}for(K=o(H,K);!Ye.done;fe++,Ye=B.next())Ye=W(K,H,fe,Ye.value,J),Ye!==null&&(t&&Ye.alternate!==null&&K.delete(Ye.key===null?fe:Ye.key),F=c(Ye,F,fe),ce===null?pe=Ye:ce.sibling=Ye,ce=Ye);return t&&K.forEach(function(ye){return e(H,ye)}),Qt&&$r(H,fe),pe}function _e(H,F,B,J){if(typeof B=="object"&&B!==null&&B.type===Ps&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case fd:e:{for(var pe=B.key,ce=F;ce!==null;){if(ce.key===pe){if(pe=B.type,pe===Ps){if(ce.tag===7){n(H,ce.sibling),F=l(ce,B.props.children),F.return=H,H=F;break e}}else if(ce.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===_r&&q0(pe)===ce.type){n(H,ce.sibling),F=l(ce,B.props),F.ref=Ga(H,ce,B),F.return=H,H=F;break e}n(H,ce);break}else e(H,ce);ce=ce.sibling}B.type===Ps?(F=as(B.props.children,H.mode,J,B.key),F.return=H,H=F):(J=Wd(B.type,B.key,B.props,null,H.mode,J),J.ref=Ga(H,F,B),J.return=H,H=J)}return m(H);case Ds:e:{for(ce=B.key;F!==null;){if(F.key===ce)if(F.tag===4&&F.stateNode.containerInfo===B.containerInfo&&F.stateNode.implementation===B.implementation){n(H,F.sibling),F=l(F,B.children||[]),F.return=H,H=F;break e}else{n(H,F);break}else e(H,F);F=F.sibling}F=Hu(B,H.mode,J),F.return=H,H=F}return m(H);case _r:return ce=B._init,_e(H,F,ce(B._payload),J)}if(Ja(B))return X(H,F,B,J);if(za(B))return j(H,F,B,J);Sd(H,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,F!==null&&F.tag===6?(n(H,F.sibling),F=l(F,B),F.return=H,H=F):(n(H,F),F=zu(B,H.mode,J),F.return=H,H=F),m(H)):n(H,F)}return _e}var da=Zm(!0),Ym=Zm(!1),Zl={},No=zr(Zl),Tl=zr(Zl),Il=zr(Zl);function os(t){if(t===Zl)throw Error(he(174));return t}function Z1(t,e){switch(Ut(Il,e),Ut(Tl,t),Ut(No,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hh(e,t)}Zt(No),Ut(No,e)}function ca(){Zt(No),Zt(Tl),Zt(Il)}function Xm(t){os(Il.current);var e=os(No.current),n=hh(e,t.type);e!==n&&(Ut(Tl,t),Ut(No,n))}function Y1(t){Tl.current===t&&(Zt(No),Zt(Tl))}var Jt=zr(0);function rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Du=[];function X1(){for(var t=0;t<Du.length;t++)Du[t]._workInProgressVersionPrimary=null;Du.length=0}var Bd=er.ReactCurrentDispatcher,Pu=er.ReactCurrentBatchConfig,us=0,en=null,xn=null,Mn=null,sc=!1,al=!1,bl=0,Uy=0;function Vn(){throw Error(he(321))}function Q1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!go(t[n],e[n]))return!1;return!0}function K1(t,e,n,o,l,c){if(us=c,en=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bd.current=t===null||t.memoizedState===null?Vy:jy,t=n(o,l),al){c=0;do{if(al=!1,bl=0,25<=c)throw Error(he(301));c+=1,Mn=xn=null,e.updateQueue=null,Bd.current=Gy,t=n(o,l)}while(al)}if(Bd.current=ac,e=xn!==null&&xn.next!==null,us=0,Mn=xn=en=null,sc=!1,e)throw Error(he(300));return t}function q1(){var t=bl!==0;return bl=0,t}function Ao(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?en.memoizedState=Mn=t:Mn=Mn.next=t,Mn}function Yi(){if(xn===null){var t=en.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Mn===null?en.memoizedState:Mn.next;if(e!==null)Mn=e,xn=t;else{if(t===null)throw Error(he(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Mn===null?en.memoizedState=Mn=t:Mn=Mn.next=t}return Mn}function Nl(t,e){return typeof e=="function"?e(t):e}function Fu(t){var e=Yi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var o=xn,l=o.baseQueue,c=n.pending;if(c!==null){if(l!==null){var m=l.next;l.next=c.next,c.next=m}o.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,o=o.baseState;var v=m=null,C=null,y=c;do{var N=y.lane;if((us&N)===N)C!==null&&(C=C.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),o=y.hasEagerState?y.eagerState:t(o,y.action);else{var T={lane:N,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};C===null?(v=C=T,m=o):C=C.next=T,en.lanes|=N,hs|=N}y=y.next}while(y!==null&&y!==c);C===null?m=o:C.next=v,go(o,e.memoizedState)||(ci=!0),e.memoizedState=o,e.baseState=m,e.baseQueue=C,n.lastRenderedState=o}if(t=n.interleaved,t!==null){l=t;do c=l.lane,en.lanes|=c,hs|=c,l=l.next;while(l!==t)}else l===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bu(t){var e=Yi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var o=n.dispatch,l=n.pending,c=e.memoizedState;if(l!==null){n.pending=null;var m=l=l.next;do c=t(c,m.action),m=m.next;while(m!==l);go(c,e.memoizedState)||(ci=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),n.lastRenderedState=c}return[c,o]}function Qm(){}function Km(t,e){var n=en,o=Yi(),l=e(),c=!go(o.memoizedState,l);if(c&&(o.memoizedState=l,ci=!0),o=o.queue,$1(Jm.bind(null,n,o,t),[t]),o.getSnapshot!==e||c||Mn!==null&&Mn.memoizedState.tag&1){if(n.flags|=2048,Rl(9,$m.bind(null,n,o,l,e),void 0,null),Dn===null)throw Error(he(349));us&30||qm(n,e,l)}return l}function qm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $m(t,e,n,o){e.value=n,e.getSnapshot=o,e2(e)&&t2(t)}function Jm(t,e,n){return n(function(){e2(e)&&t2(t)})}function e2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!go(t,n)}catch{return!0}}function t2(t){var e=qo(t,1);e!==null&&ho(e,t,1,-1)}function $0(t){var e=Ao();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=Wy.bind(null,en,t),[e.memoizedState,t]}function Rl(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function n2(){return Yi().memoizedState}function kd(t,e,n,o){var l=Ao();en.flags|=t,l.memoizedState=Rl(1|e,n,void 0,o===void 0?null:o)}function Hc(t,e,n,o){var l=Yi();o=o===void 0?null:o;var c=void 0;if(xn!==null){var m=xn.memoizedState;if(c=m.destroy,o!==null&&Q1(o,m.deps)){l.memoizedState=Rl(e,n,c,o);return}}en.flags|=t,l.memoizedState=Rl(1|e,n,c,o)}function J0(t,e){return kd(8390656,8,t,e)}function $1(t,e){return Hc(2048,8,t,e)}function i2(t,e){return Hc(4,2,t,e)}function o2(t,e){return Hc(4,4,t,e)}function r2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s2(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4,4,r2.bind(null,e,t),n)}function J1(){}function a2(t,e){var n=Yi();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Q1(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function l2(t,e){var n=Yi();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Q1(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function d2(t,e,n){return us&21?(go(n,e)||(n=hm(),en.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function zy(t,e){var n=It;It=n!==0&&4>n?n:4,t(!0);var o=Pu.transition;Pu.transition={};try{t(!1),e()}finally{It=n,Pu.transition=o}}function c2(){return Yi().memoizedState}function Hy(t,e,n){var o=Nr(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},u2(t))h2(e,n);else if(n=Wm(t,e,n,o),n!==null){var l=oi();ho(n,t,o,l),f2(n,e,o)}}function Wy(t,e,n){var o=Nr(t),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(u2(t))h2(e,l);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var m=e.lastRenderedState,v=c(m,n);if(l.hasEagerState=!0,l.eagerState=v,go(v,m)){var C=e.interleaved;C===null?(l.next=l,j1(e)):(l.next=C.next,C.next=l),e.interleaved=l;return}}catch{}finally{}n=Wm(t,e,l,o),n!==null&&(l=oi(),ho(n,t,o,l),f2(n,e,o))}}function u2(t){var e=t.alternate;return t===en||e!==null&&e===en}function h2(t,e){al=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f2(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,R1(t,n)}}var ac={readContext:Zi,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},Vy={readContext:Zi,useCallback:function(t,e){return Ao().memoizedState=[t,e===void 0?null:e],t},useContext:Zi,useEffect:J0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kd(4194308,4,r2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kd(4194308,4,t,e)},useInsertionEffect:function(t,e){return kd(4,2,t,e)},useMemo:function(t,e){var n=Ao();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=Ao();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Hy.bind(null,en,t),[o.memoizedState,t]},useRef:function(t){var e=Ao();return t={current:t},e.memoizedState=t},useState:$0,useDebugValue:J1,useDeferredValue:function(t){return Ao().memoizedState=t},useTransition:function(){var t=$0(!1),e=t[0];return t=zy.bind(null,t[1]),Ao().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=en,l=Ao();if(Qt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Dn===null)throw Error(he(349));us&30||qm(o,e,n)}l.memoizedState=n;var c={value:n,getSnapshot:e};return l.queue=c,J0(Jm.bind(null,o,c,t),[t]),o.flags|=2048,Rl(9,$m.bind(null,o,c,n,e),void 0,null),n},useId:function(){var t=Ao(),e=Dn.identifierPrefix;if(Qt){var n=jo,o=Vo;n=(o&~(1<<32-uo(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jy={readContext:Zi,useCallback:a2,useContext:Zi,useEffect:$1,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:o2,useMemo:l2,useReducer:Fu,useRef:n2,useState:function(){return Fu(Nl)},useDebugValue:J1,useDeferredValue:function(t){var e=Yi();return d2(e,xn.memoizedState,t)},useTransition:function(){var t=Fu(Nl)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:Qm,useSyncExternalStore:Km,useId:c2,unstable_isNewReconciler:!1},Gy={readContext:Zi,useCallback:a2,useContext:Zi,useEffect:$1,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:o2,useMemo:l2,useReducer:Bu,useRef:n2,useState:function(){return Bu(Nl)},useDebugValue:J1,useDeferredValue:function(t){var e=Yi();return xn===null?e.memoizedState=t:d2(e,xn.memoizedState,t)},useTransition:function(){var t=Bu(Nl)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:Qm,useSyncExternalStore:Km,useId:c2,unstable_isNewReconciler:!1};function ua(t,e){try{var n="",o=e;do n+=yE(o),o=o.return;while(o);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:e,stack:l,digest:null}}function ku(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ph(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zy=typeof WeakMap=="function"?WeakMap:Map;function g2(t,e,n){n=Yo(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){dc||(dc=!0,Gh=o),Ph(t,e)},n}function p2(t,e,n){n=Yo(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var l=e.value;n.payload=function(){return o(l)},n.callback=function(){Ph(t,e)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Ph(t,e),typeof o!="function"&&(br===null?br=new Set([this]):br.add(this));var m=e.stack;this.componentDidCatch(e.value,{componentStack:m!==null?m:""})}),n}function eg(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new Zy;var l=new Set;o.set(e,l)}else l=o.get(e),l===void 0&&(l=new Set,o.set(e,l));l.has(n)||(l.add(n),t=s4.bind(null,t,e,n),e.then(t,t))}function tg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ng(t,e,n,o,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yo(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var Yy=er.ReactCurrentOwner,ci=!1;function ii(t,e,n,o){e.child=t===null?Ym(e,null,n,o):da(e,t.child,n,o)}function ig(t,e,n,o,l){n=n.render;var c=e.ref;return Js(e,l),o=K1(t,e,n,o,c,l),n=q1(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,$o(t,e,l)):(Qt&&n&&k1(e),e.flags|=1,ii(t,e,o,l),e.child)}function og(t,e,n,o,l){if(t===null){var c=n.type;return typeof c=="function"&&!lf(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=c,m2(t,e,c,o,l)):(t=Wd(n.type,null,o,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!(t.lanes&l)){var m=c.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(m,o)&&t.ref===e.ref)return $o(t,e,l)}return e.flags|=1,t=Rr(c,o),t.ref=e.ref,t.return=e,e.child=t}function m2(t,e,n,o,l){if(t!==null){var c=t.memoizedProps;if(wl(c,o)&&t.ref===e.ref)if(ci=!1,e.pendingProps=o=c,(t.lanes&l)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,$o(t,e,l)}return Fh(t,e,n,o,l)}function _2(t,e,n){var o=e.pendingProps,l=o.children,c=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Gs,Ci),Ci|=n;else{if(!(n&1073741824))return t=c!==null?c.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(Gs,Ci),Ci|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:n,Ut(Gs,Ci),Ci|=o}else c!==null?(o=c.baseLanes|n,e.memoizedState=null):o=n,Ut(Gs,Ci),Ci|=o;return ii(t,e,l,n),e.child}function E2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fh(t,e,n,o,l){var c=gi(n)?ds:Qn.current;return c=aa(e,c),Js(e,l),n=K1(t,e,n,o,c,l),o=q1(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,$o(t,e,l)):(Qt&&o&&k1(e),e.flags|=1,ii(t,e,n,l),e.child)}function rg(t,e,n,o,l){if(gi(n)){var c=!0;Jd(e)}else c=!1;if(Js(e,l),e.stateNode===null)Ud(t,e),Gm(e,n,o),Dh(e,n,o,l),o=!0;else if(t===null){var m=e.stateNode,v=e.memoizedProps;m.props=v;var C=m.context,y=n.contextType;typeof y=="object"&&y!==null?y=Zi(y):(y=gi(n)?ds:Qn.current,y=aa(e,y));var N=n.getDerivedStateFromProps,T=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function";T||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==o||C!==y)&&K0(e,m,o,y),Er=!1;var D=e.memoizedState;m.state=D,oc(e,o,m,l),C=e.memoizedState,v!==o||D!==C||fi.current||Er?(typeof N=="function"&&(Oh(e,n,N,o),C=e.memoizedState),(v=Er||Q0(e,n,v,o,D,C,y))?(T||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(e.flags|=4194308)):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=C),m.props=o,m.state=C,m.context=y,o=v):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{m=e.stateNode,Vm(t,e),v=e.memoizedProps,y=e.type===e.elementType?v:io(e.type,v),m.props=y,T=e.pendingProps,D=m.context,C=n.contextType,typeof C=="object"&&C!==null?C=Zi(C):(C=gi(n)?ds:Qn.current,C=aa(e,C));var W=n.getDerivedStateFromProps;(N=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==T||D!==C)&&K0(e,m,o,C),Er=!1,D=e.memoizedState,m.state=D,oc(e,o,m,l);var X=e.memoizedState;v!==T||D!==X||fi.current||Er?(typeof W=="function"&&(Oh(e,n,W,o),X=e.memoizedState),(y=Er||Q0(e,n,y,o,D,X,C)||!1)?(N||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,C)),typeof m.componentDidUpdate=="function"&&(e.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=X),m.props=o,m.state=X,m.context=C,o=y):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),o=!1)}return Bh(t,e,n,o,c,l)}function Bh(t,e,n,o,l,c){E2(t,e);var m=(e.flags&128)!==0;if(!o&&!m)return l&&j0(e,n,!1),$o(t,e,c);o=e.stateNode,Yy.current=e;var v=m&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&m?(e.child=da(e,t.child,null,c),e.child=da(e,null,v,c)):ii(t,e,v,c),e.memoizedState=o.state,l&&j0(e,n,!0),e.child}function y2(t){var e=t.stateNode;e.pendingContext?V0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V0(t,e.context,!1),Z1(t,e.containerInfo)}function sg(t,e,n,o,l){return la(),z1(l),e.flags|=256,ii(t,e,n,o),e.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function x2(t,e,n){var o=e.pendingProps,l=Jt.current,c=!1,m=(e.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(l&2)!==0),v?(c=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Ut(Jt,l&1),t===null)return Mh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(m=o.children,t=o.fallback,c?(o=e.mode,c=e.child,m={mode:"hidden",children:m},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=m):c=jc(m,o,0,null),t=as(t,o,n,null),c.return=e,t.return=e,c.sibling=t,e.child=c,e.child.memoizedState=Uh(n),e.memoizedState=kh,t):ef(e,m));if(l=t.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Xy(t,e,m,o,v,l,n);if(c){c=o.fallback,m=e.mode,l=t.child,v=l.sibling;var C={mode:"hidden",children:o.children};return!(m&1)&&e.child!==l?(o=e.child,o.childLanes=0,o.pendingProps=C,e.deletions=null):(o=Rr(l,C),o.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=Rr(v,c):(c=as(c,m,n,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,m=t.child.memoizedState,m=m===null?Uh(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},c.memoizedState=m,c.childLanes=t.childLanes&~n,e.memoizedState=kh,o}return c=t.child,t=c.sibling,o=Rr(c,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function ef(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ad(t,e,n,o){return o!==null&&z1(o),da(e,t.child,null,n),t=ef(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xy(t,e,n,o,l,c,m){if(n)return e.flags&256?(e.flags&=-257,o=ku(Error(he(422))),Ad(t,e,m,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(c=o.fallback,l=e.mode,o=jc({mode:"visible",children:o.children},l,0,null),c=as(c,l,m,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,e.mode&1&&da(e,t.child,null,m),e.child.memoizedState=Uh(m),e.memoizedState=kh,c);if(!(e.mode&1))return Ad(t,e,m,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var v=o.dgst;return o=v,c=Error(he(419)),o=ku(c,o,void 0),Ad(t,e,m,o)}if(v=(m&t.childLanes)!==0,ci||v){if(o=Dn,o!==null){switch(m&-m){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|m)?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,qo(t,l),ho(o,t,l,-1))}return af(),o=ku(Error(he(421))),Ad(t,e,m,o)}return l.data==="$?"?(e.flags|=128,e.child=t.child,e=a4.bind(null,t),l._reactRetry=e,null):(t=c.treeContext,Ai=Tr(l.nextSibling),Ti=e,Qt=!0,so=null,t!==null&&(Wi[Vi++]=Vo,Wi[Vi++]=jo,Wi[Vi++]=cs,Vo=t.id,jo=t.overflow,cs=e),e=ef(e,o.children),e.flags|=4096,e)}function ag(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Lh(t.return,e,n)}function Uu(t,e,n,o,l){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=n,c.tailMode=l)}function v2(t,e,n){var o=e.pendingProps,l=o.revealOrder,c=o.tail;if(ii(t,e,o.children,n),o=Jt.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ag(t,n,e);else if(t.tag===19)ag(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Ut(Jt,o),!(e.mode&1))e.memoizedState=null;else switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&rc(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Uu(e,!1,l,n,c);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&rc(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Uu(e,!0,n,null,c);break;case"together":Uu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $o(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qy(t,e,n){switch(e.tag){case 3:y2(e),la();break;case 5:Xm(e);break;case 1:gi(e.type)&&Jd(e);break;case 4:Z1(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,l=e.memoizedProps.value;Ut(nc,o._currentValue),o._currentValue=l;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Ut(Jt,Jt.current&1),e.flags|=128,null):n&e.child.childLanes?x2(t,e,n):(Ut(Jt,Jt.current&1),t=$o(t,e,n),t!==null?t.sibling:null);Ut(Jt,Jt.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return v2(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ut(Jt,Jt.current),o)break;return null;case 22:case 23:return e.lanes=0,_2(t,e,n)}return $o(t,e,n)}var w2,zh,C2,S2;w2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zh=function(){};C2=function(t,e,n,o){var l=t.memoizedProps;if(l!==o){t=e.stateNode,os(No.current);var c=null;switch(n){case"input":l=lh(t,l),o=lh(t,o),c=[];break;case"select":l=tn({},l,{value:void 0}),o=tn({},o,{value:void 0}),c=[];break;case"textarea":l=uh(t,l),o=uh(t,o),c=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=qd)}fh(n,o);var m;n=null;for(y in l)if(!o.hasOwnProperty(y)&&l.hasOwnProperty(y)&&l[y]!=null)if(y==="style"){var v=l[y];for(m in v)v.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(pl.hasOwnProperty(y)?c||(c=[]):(c=c||[]).push(y,null));for(y in o){var C=o[y];if(v=l!=null?l[y]:void 0,o.hasOwnProperty(y)&&C!==v&&(C!=null||v!=null))if(y==="style")if(v){for(m in v)!v.hasOwnProperty(m)||C&&C.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in C)C.hasOwnProperty(m)&&v[m]!==C[m]&&(n||(n={}),n[m]=C[m])}else n||(c||(c=[]),c.push(y,n)),n=C;else y==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,v=v?v.__html:void 0,C!=null&&v!==C&&(c=c||[]).push(y,C)):y==="children"?typeof C!="string"&&typeof C!="number"||(c=c||[]).push(y,""+C):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(pl.hasOwnProperty(y)?(C!=null&&y==="onScroll"&&Vt("scroll",t),c||v===C||(c=[])):(c=c||[]).push(y,C))}n&&(c=c||[]).push("style",n);var y=c;(e.updateQueue=y)&&(e.flags|=4)}};S2=function(t,e,n,o){n!==o&&(e.flags|=4)};function Za(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Ky(t,e,n){var o=e.pendingProps;switch(U1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(e),null;case 1:return gi(e.type)&&$d(),jn(e),null;case 3:return o=e.stateNode,ca(),Zt(fi),Zt(Qn),X1(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,so!==null&&(Xh(so),so=null))),zh(t,e),jn(e),null;case 5:Y1(e);var l=os(Il.current);if(n=e.type,t!==null&&e.stateNode!=null)C2(t,e,n,o,l),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(he(166));return jn(e),null}if(t=os(No.current),Cd(e)){o=e.stateNode,n=e.type;var c=e.memoizedProps;switch(o[Io]=e,o[Al]=c,t=(e.mode&1)!==0,n){case"dialog":Vt("cancel",o),Vt("close",o);break;case"iframe":case"object":case"embed":Vt("load",o);break;case"video":case"audio":for(l=0;l<tl.length;l++)Vt(tl[l],o);break;case"source":Vt("error",o);break;case"img":case"image":case"link":Vt("error",o),Vt("load",o);break;case"details":Vt("toggle",o);break;case"input":m0(o,c),Vt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Vt("invalid",o);break;case"textarea":E0(o,c),Vt("invalid",o)}fh(n,c),l=null;for(var m in c)if(c.hasOwnProperty(m)){var v=c[m];m==="children"?typeof v=="string"?o.textContent!==v&&(c.suppressHydrationWarning!==!0&&wd(o.textContent,v,t),l=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&wd(o.textContent,v,t),l=["children",""+v]):pl.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&Vt("scroll",o)}switch(n){case"input":gd(o),_0(o,c,!0);break;case"textarea":gd(o),y0(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=qd)}o=l,e.updateQueue=o,o!==null&&(e.flags|=4)}else{m=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=m.createElement(n,{is:o.is}):(t=m.createElement(n),n==="select"&&(m=t,o.multiple?m.multiple=!0:o.size&&(m.size=o.size))):t=m.createElementNS(t,n),t[Io]=e,t[Al]=o,w2(t,e,!1,!1),e.stateNode=t;e:{switch(m=gh(n,o),n){case"dialog":Vt("cancel",t),Vt("close",t),l=o;break;case"iframe":case"object":case"embed":Vt("load",t),l=o;break;case"video":case"audio":for(l=0;l<tl.length;l++)Vt(tl[l],t);l=o;break;case"source":Vt("error",t),l=o;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),l=o;break;case"details":Vt("toggle",t),l=o;break;case"input":m0(t,o),l=lh(t,o),Vt("invalid",t);break;case"option":l=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},l=tn({},o,{value:void 0}),Vt("invalid",t);break;case"textarea":E0(t,o),l=uh(t,o),Vt("invalid",t);break;default:l=o}fh(n,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var C=v[c];c==="style"?em(t,C):c==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&$p(t,C)):c==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&ml(t,C):typeof C=="number"&&ml(t,""+C):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pl.hasOwnProperty(c)?C!=null&&c==="onScroll"&&Vt("scroll",t):C!=null&&S1(t,c,C,m))}switch(n){case"input":gd(t),_0(t,o,!1);break;case"textarea":gd(t),y0(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Dr(o.value));break;case"select":t.multiple=!!o.multiple,c=o.value,c!=null?Qs(t,!!o.multiple,c,!1):o.defaultValue!=null&&Qs(t,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jn(e),null;case 6:if(t&&e.stateNode!=null)S2(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(he(166));if(n=os(Il.current),os(No.current),Cd(e)){if(o=e.stateNode,n=e.memoizedProps,o[Io]=e,(c=o.nodeValue!==n)&&(t=Ti,t!==null))switch(t.tag){case 3:wd(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(o.nodeValue,n,(t.mode&1)!==0)}c&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Io]=e,e.stateNode=o}return jn(e),null;case 13:if(Zt(Jt),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Ai!==null&&e.mode&1&&!(e.flags&128))Hm(),la(),e.flags|=98560,c=!1;else if(c=Cd(e),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(he(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(he(317));c[Io]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jn(e),c=!1}else so!==null&&(Xh(so),so=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||Jt.current&1?wn===0&&(wn=3):af())),e.updateQueue!==null&&(e.flags|=4),jn(e),null);case 4:return ca(),zh(t,e),t===null&&Cl(e.stateNode.containerInfo),jn(e),null;case 10:return V1(e.type._context),jn(e),null;case 17:return gi(e.type)&&$d(),jn(e),null;case 19:if(Zt(Jt),c=e.memoizedState,c===null)return jn(e),null;if(o=(e.flags&128)!==0,m=c.rendering,m===null)if(o)Za(c,!1);else{if(wn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(m=rc(t),m!==null){for(e.flags|=128,Za(c,!1),o=m.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)c=n,t=o,c.flags&=14680066,m=c.alternate,m===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,t=m.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ut(Jt,Jt.current&1|2),e.child}t=t.sibling}c.tail!==null&&dn()>ha&&(e.flags|=128,o=!0,Za(c,!1),e.lanes=4194304)}else{if(!o)if(t=rc(m),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Za(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Qt)return jn(e),null}else 2*dn()-c.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,o=!0,Za(c,!1),e.lanes=4194304);c.isBackwards?(m.sibling=e.child,e.child=m):(n=c.last,n!==null?n.sibling=m:e.child=m,c.last=m)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=dn(),e.sibling=null,n=Jt.current,Ut(Jt,o?n&1|2:n&1),e):(jn(e),null);case 22:case 23:return sf(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Ci&1073741824&&(jn(e),e.subtreeFlags&6&&(e.flags|=8192)):jn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function qy(t,e){switch(U1(e),e.tag){case 1:return gi(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),Zt(fi),Zt(Qn),X1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y1(e),null;case 13:if(Zt(Jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zt(Jt),null;case 4:return ca(),null;case 10:return V1(e.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var Td=!1,Zn=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){rn(t,e,o)}else n.current=null}function Hh(t,e,n){try{n()}catch(o){rn(t,e,o)}}var lg=!1;function Jy(t,e){if(Sh=Xd,t=bm(),B1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var m=0,v=-1,C=-1,y=0,N=0,T=t,D=null;t:for(;;){for(var W;T!==n||l!==0&&T.nodeType!==3||(v=m+l),T!==c||o!==0&&T.nodeType!==3||(C=m+o),T.nodeType===3&&(m+=T.nodeValue.length),(W=T.firstChild)!==null;)D=T,T=W;for(;;){if(T===t)break t;if(D===n&&++y===l&&(v=m),D===c&&++N===o&&(C=m),(W=T.nextSibling)!==null)break;T=D,D=T.parentNode}T=W}n=v===-1||C===-1?null:{start:v,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ah={focusedElem:t,selectionRange:n},Xd=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var X=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var j=X.memoizedProps,_e=X.memoizedState,H=e.stateNode,F=H.getSnapshotBeforeUpdate(e.elementType===e.type?j:io(e.type,j),_e);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(J){rn(e,e.return,J)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return X=lg,lg=!1,X}function ll(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&t)===t){var c=l.destroy;l.destroy=void 0,c!==void 0&&Hh(e,n,c)}l=l.next}while(l!==o)}}function Wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Wh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A2(t){var e=t.alternate;e!==null&&(t.alternate=null,A2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Io],delete e[Al],delete e[bh],delete e[Py],delete e[Fy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T2(t){return t.tag===5||t.tag===3||t.tag===4}function dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qd));else if(o!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}function jh(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(jh(t,e,n),t=t.sibling;t!==null;)jh(t,e,n),t=t.sibling}var Pn=null,oo=!1;function pr(t,e,n){for(n=n.child;n!==null;)I2(t,e,n),n=n.sibling}function I2(t,e,n){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(Dc,n)}catch{}switch(n.tag){case 5:Zn||js(n,e);case 6:var o=Pn,l=oo;Pn=null,pr(t,e,n),Pn=o,oo=l,Pn!==null&&(oo?(t=Pn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pn.removeChild(n.stateNode));break;case 18:Pn!==null&&(oo?(t=Pn,n=n.stateNode,t.nodeType===8?Lu(t.parentNode,n):t.nodeType===1&&Lu(t,n),xl(t)):Lu(Pn,n.stateNode));break;case 4:o=Pn,l=oo,Pn=n.stateNode.containerInfo,oo=!0,pr(t,e,n),Pn=o,oo=l;break;case 0:case 11:case 14:case 15:if(!Zn&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var c=l,m=c.destroy;c=c.tag,m!==void 0&&(c&2||c&4)&&Hh(n,e,m),l=l.next}while(l!==o)}pr(t,e,n);break;case 1:if(!Zn&&(js(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){rn(n,e,v)}pr(t,e,n);break;case 21:pr(t,e,n);break;case 22:n.mode&1?(Zn=(o=Zn)||n.memoizedState!==null,pr(t,e,n),Zn=o):pr(t,e,n);break;default:pr(t,e,n)}}function cg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $y),e.forEach(function(o){var l=l4.bind(null,t,o);n.has(o)||(n.add(o),o.then(l,l))})}}function no(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];try{var c=t,m=e,v=m;e:for(;v!==null;){switch(v.tag){case 5:Pn=v.stateNode,oo=!1;break e;case 3:Pn=v.stateNode.containerInfo,oo=!0;break e;case 4:Pn=v.stateNode.containerInfo,oo=!0;break e}v=v.return}if(Pn===null)throw Error(he(160));I2(c,m,l),Pn=null,oo=!1;var C=l.alternate;C!==null&&(C.return=null),l.return=null}catch(y){rn(l,e,y)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b2(e,t),e=e.sibling}function b2(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(no(e,t),So(t),o&4){try{ll(3,t,t.return),Wc(3,t)}catch(j){rn(t,t.return,j)}try{ll(5,t,t.return)}catch(j){rn(t,t.return,j)}}break;case 1:no(e,t),So(t),o&512&&n!==null&&js(n,n.return);break;case 5:if(no(e,t),So(t),o&512&&n!==null&&js(n,n.return),t.flags&32){var l=t.stateNode;try{ml(l,"")}catch(j){rn(t,t.return,j)}}if(o&4&&(l=t.stateNode,l!=null)){var c=t.memoizedProps,m=n!==null?n.memoizedProps:c,v=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&Qp(l,c),gh(v,m);var y=gh(v,c);for(m=0;m<C.length;m+=2){var N=C[m],T=C[m+1];N==="style"?em(l,T):N==="dangerouslySetInnerHTML"?$p(l,T):N==="children"?ml(l,T):S1(l,N,T,y)}switch(v){case"input":dh(l,c);break;case"textarea":Kp(l,c);break;case"select":var D=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var W=c.value;W!=null?Qs(l,!!c.multiple,W,!1):D!==!!c.multiple&&(c.defaultValue!=null?Qs(l,!!c.multiple,c.defaultValue,!0):Qs(l,!!c.multiple,c.multiple?[]:"",!1))}l[Al]=c}catch(j){rn(t,t.return,j)}}break;case 6:if(no(e,t),So(t),o&4){if(t.stateNode===null)throw Error(he(162));l=t.stateNode,c=t.memoizedProps;try{l.nodeValue=c}catch(j){rn(t,t.return,j)}}break;case 3:if(no(e,t),So(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(e.containerInfo)}catch(j){rn(t,t.return,j)}break;case 4:no(e,t),So(t);break;case 13:no(e,t),So(t),l=t.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(of=dn())),o&4&&cg(t);break;case 22:if(N=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(y=Zn)||N,no(e,t),Zn=y):no(e,t),So(t),o&8192){if(y=t.memoizedState!==null,(t.stateNode.isHidden=y)&&!N&&t.mode&1)for(Ae=t,N=t.child;N!==null;){for(T=Ae=N;Ae!==null;){switch(D=Ae,W=D.child,D.tag){case 0:case 11:case 14:case 15:ll(4,D,D.return);break;case 1:js(D,D.return);var X=D.stateNode;if(typeof X.componentWillUnmount=="function"){o=D,n=D.return;try{e=o,X.props=e.memoizedProps,X.state=e.memoizedState,X.componentWillUnmount()}catch(j){rn(o,n,j)}}break;case 5:js(D,D.return);break;case 22:if(D.memoizedState!==null){hg(T);continue}}W!==null?(W.return=D,Ae=W):hg(T)}N=N.sibling}e:for(N=null,T=t;;){if(T.tag===5){if(N===null){N=T;try{l=T.stateNode,y?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=T.stateNode,C=T.memoizedProps.style,m=C!=null&&C.hasOwnProperty("display")?C.display:null,v.style.display=Jp("display",m))}catch(j){rn(t,t.return,j)}}}else if(T.tag===6){if(N===null)try{T.stateNode.nodeValue=y?"":T.memoizedProps}catch(j){rn(t,t.return,j)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===t)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;N===T&&(N=null),T=T.return}N===T&&(N=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:no(e,t),So(t),o&4&&cg(t);break;case 21:break;default:no(e,t),So(t)}}function So(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(T2(n)){var o=n;break e}n=n.return}throw Error(he(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(ml(l,""),o.flags&=-33);var c=dg(t);jh(t,c,l);break;case 3:case 4:var m=o.stateNode.containerInfo,v=dg(t);Vh(t,v,m);break;default:throw Error(he(161))}}catch(C){rn(t,t.return,C)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e4(t,e,n){Ae=t,N2(t)}function N2(t,e,n){for(var o=(t.mode&1)!==0;Ae!==null;){var l=Ae,c=l.child;if(l.tag===22&&o){var m=l.memoizedState!==null||Td;if(!m){var v=l.alternate,C=v!==null&&v.memoizedState!==null||Zn;v=Td;var y=Zn;if(Td=m,(Zn=C)&&!y)for(Ae=l;Ae!==null;)m=Ae,C=m.child,m.tag===22&&m.memoizedState!==null?fg(l):C!==null?(C.return=m,Ae=C):fg(l);for(;c!==null;)Ae=c,N2(c),c=c.sibling;Ae=l,Td=v,Zn=y}ug(t)}else l.subtreeFlags&8772&&c!==null?(c.return=l,Ae=c):ug(t)}}function ug(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||Wc(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Zn)if(n===null)o.componentDidMount();else{var l=e.elementType===e.type?n.memoizedProps:io(e.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&X0(e,c,o);break;case 3:var m=e.updateQueue;if(m!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X0(e,m,n)}break;case 5:var v=e.stateNode;if(n===null&&e.flags&4){n=v;var C=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var y=e.alternate;if(y!==null){var N=y.memoizedState;if(N!==null){var T=N.dehydrated;T!==null&&xl(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Zn||e.flags&512&&Wh(e)}catch(D){rn(e,e.return,D)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function hg(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function fg(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wc(4,e)}catch(C){rn(e,n,C)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var l=e.return;try{o.componentDidMount()}catch(C){rn(e,l,C)}}var c=e.return;try{Wh(e)}catch(C){rn(e,c,C)}break;case 5:var m=e.return;try{Wh(e)}catch(C){rn(e,m,C)}}}catch(C){rn(e,e.return,C)}if(e===t){Ae=null;break}var v=e.sibling;if(v!==null){v.return=e.return,Ae=v;break}Ae=e.return}}var t4=Math.ceil,lc=er.ReactCurrentDispatcher,tf=er.ReactCurrentOwner,Gi=er.ReactCurrentBatchConfig,Et=0,Dn=null,pn=null,Fn=0,Ci=0,Gs=zr(0),wn=0,Ml=null,hs=0,Vc=0,nf=0,dl=null,di=null,of=0,ha=1/0,Ho=null,dc=!1,Gh=null,br=null,Id=!1,wr=null,cc=0,cl=0,Zh=null,zd=-1,Hd=0;function oi(){return Et&6?dn():zd!==-1?zd:zd=dn()}function Nr(t){return t.mode&1?Et&2&&Fn!==0?Fn&-Fn:ky.transition!==null?(Hd===0&&(Hd=hm()),Hd):(t=It,t!==0||(t=window.event,t=t===void 0?16:ym(t.type)),t):1}function ho(t,e,n,o){if(50<cl)throw cl=0,Zh=null,Error(he(185));Vl(t,n,o),(!(Et&2)||t!==Dn)&&(t===Dn&&(!(Et&2)&&(Vc|=n),wn===4&&xr(t,Fn)),pi(t,o),n===1&&Et===0&&!(e.mode&1)&&(ha=dn()+500,Uc&&Hr()))}function pi(t,e){var n=t.callbackNode;kE(t,e);var o=Yd(t,t===Dn?Fn:0);if(o===0)n!==null&&w0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&w0(n),e===1)t.tag===0?By(gg.bind(null,t)):km(gg.bind(null,t)),Oy(function(){!(Et&6)&&Hr()}),n=null;else{switch(fm(o)){case 1:n=N1;break;case 4:n=cm;break;case 16:n=Zd;break;case 536870912:n=um;break;default:n=Zd}n=B2(n,R2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function R2(t,e){if(zd=-1,Hd=0,Et&6)throw Error(he(327));var n=t.callbackNode;if(ea()&&t.callbackNode!==n)return null;var o=Yd(t,t===Dn?Fn:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=uc(t,o);else{e=o;var l=Et;Et|=2;var c=L2();(Dn!==t||Fn!==e)&&(Ho=null,ha=dn()+500,ss(t,e));do try{o4();break}catch(v){M2(t,v)}while(!0);W1(),lc.current=c,Et=l,pn!==null?e=0:(Dn=null,Fn=0,e=wn)}if(e!==0){if(e===2&&(l=yh(t),l!==0&&(o=l,e=Yh(t,l))),e===1)throw n=Ml,ss(t,0),xr(t,o),pi(t,dn()),n;if(e===6)xr(t,o);else{if(l=t.current.alternate,!(o&30)&&!n4(l)&&(e=uc(t,o),e===2&&(c=yh(t),c!==0&&(o=c,e=Yh(t,c))),e===1))throw n=Ml,ss(t,0),xr(t,o),pi(t,dn()),n;switch(t.finishedWork=l,t.finishedLanes=o,e){case 0:case 1:throw Error(he(345));case 2:Jr(t,di,Ho);break;case 3:if(xr(t,o),(o&130023424)===o&&(e=of+500-dn(),10<e)){if(Yd(t,0)!==0)break;if(l=t.suspendedLanes,(l&o)!==o){oi(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=Ih(Jr.bind(null,t,di,Ho),e);break}Jr(t,di,Ho);break;case 4:if(xr(t,o),(o&4194240)===o)break;for(e=t.eventTimes,l=-1;0<o;){var m=31-uo(o);c=1<<m,m=e[m],m>l&&(l=m),o&=~c}if(o=l,o=dn()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*t4(o/1960))-o,10<o){t.timeoutHandle=Ih(Jr.bind(null,t,di,Ho),o);break}Jr(t,di,Ho);break;case 5:Jr(t,di,Ho);break;default:throw Error(he(329))}}}return pi(t,dn()),t.callbackNode===n?R2.bind(null,t):null}function Yh(t,e){var n=dl;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=uc(t,e),t!==2&&(e=di,di=n,e!==null&&Xh(e)),t}function Xh(t){di===null?di=t:di.push.apply(di,t)}function n4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var l=n[o],c=l.getSnapshot;l=l.value;try{if(!go(c(),l))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xr(t,e){for(e&=~nf,e&=~Vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-uo(e),o=1<<n;t[n]=-1,e&=~o}}function gg(t){if(Et&6)throw Error(he(327));ea();var e=Yd(t,0);if(!(e&1))return pi(t,dn()),null;var n=uc(t,e);if(t.tag!==0&&n===2){var o=yh(t);o!==0&&(e=o,n=Yh(t,o))}if(n===1)throw n=Ml,ss(t,0),xr(t,e),pi(t,dn()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,di,Ho),pi(t,dn()),null}function rf(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(ha=dn()+500,Uc&&Hr())}}function fs(t){wr!==null&&wr.tag===0&&!(Et&6)&&ea();var e=Et;Et|=1;var n=Gi.transition,o=It;try{if(Gi.transition=null,It=1,t)return t()}finally{It=o,Gi.transition=n,Et=e,!(Et&6)&&Hr()}}function sf(){Ci=Gs.current,Zt(Gs)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ly(n)),pn!==null)for(n=pn.return;n!==null;){var o=n;switch(U1(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$d();break;case 3:ca(),Zt(fi),Zt(Qn),X1();break;case 5:Y1(o);break;case 4:ca();break;case 13:Zt(Jt);break;case 19:Zt(Jt);break;case 10:V1(o.type._context);break;case 22:case 23:sf()}n=n.return}if(Dn=t,pn=t=Rr(t.current,null),Fn=Ci=e,wn=0,Ml=null,nf=Vc=hs=0,di=dl=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],o=n.interleaved,o!==null){n.interleaved=null;var l=o.next,c=n.pending;if(c!==null){var m=c.next;c.next=l,o.next=m}n.pending=o}is=null}return t}function M2(t,e){do{var n=pn;try{if(W1(),Bd.current=ac,sc){for(var o=en.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}sc=!1}if(us=0,Mn=xn=en=null,al=!1,bl=0,tf.current=null,n===null||n.return===null){wn=1,Ml=e,pn=null;break}e:{var c=t,m=n.return,v=n,C=e;if(e=Fn,v.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var y=C,N=v,T=N.tag;if(!(N.mode&1)&&(T===0||T===11||T===15)){var D=N.alternate;D?(N.updateQueue=D.updateQueue,N.memoizedState=D.memoizedState,N.lanes=D.lanes):(N.updateQueue=null,N.memoizedState=null)}var W=tg(m);if(W!==null){W.flags&=-257,ng(W,m,v,c,e),W.mode&1&&eg(c,y,e),e=W,C=y;var X=e.updateQueue;if(X===null){var j=new Set;j.add(C),e.updateQueue=j}else X.add(C);break e}else{if(!(e&1)){eg(c,y,e),af();break e}C=Error(he(426))}}else if(Qt&&v.mode&1){var _e=tg(m);if(_e!==null){!(_e.flags&65536)&&(_e.flags|=256),ng(_e,m,v,c,e),z1(ua(C,v));break e}}c=C=ua(C,v),wn!==4&&(wn=2),dl===null?dl=[c]:dl.push(c),c=m;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var H=g2(c,C,e);Y0(c,H);break e;case 1:v=C;var F=c.type,B=c.stateNode;if(!(c.flags&128)&&(typeof F.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(br===null||!br.has(B)))){c.flags|=65536,e&=-e,c.lanes|=e;var J=p2(c,v,e);Y0(c,J);break e}}c=c.return}while(c!==null)}D2(n)}catch(pe){e=pe,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function L2(){var t=lc.current;return lc.current=ac,t===null?ac:t}function af(){(wn===0||wn===3||wn===2)&&(wn=4),Dn===null||!(hs&268435455)&&!(Vc&268435455)||xr(Dn,Fn)}function uc(t,e){var n=Et;Et|=2;var o=L2();(Dn!==t||Fn!==e)&&(Ho=null,ss(t,e));do try{i4();break}catch(l){M2(t,l)}while(!0);if(W1(),Et=n,lc.current=o,pn!==null)throw Error(he(261));return Dn=null,Fn=0,wn}function i4(){for(;pn!==null;)O2(pn)}function o4(){for(;pn!==null&&!NE();)O2(pn)}function O2(t){var e=F2(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,e===null?D2(t):pn=e,tf.current=null}function D2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qy(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wn=6,pn=null;return}}else if(n=Ky(n,e,Ci),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);wn===0&&(wn=5)}function Jr(t,e,n){var o=It,l=Gi.transition;try{Gi.transition=null,It=1,r4(t,e,n,o)}finally{Gi.transition=l,It=o}return null}function r4(t,e,n,o){do ea();while(wr!==null);if(Et&6)throw Error(he(327));n=t.finishedWork;var l=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var c=n.lanes|n.childLanes;if(UE(t,c),t===Dn&&(pn=Dn=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Id||(Id=!0,B2(Zd,function(){return ea(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=Gi.transition,Gi.transition=null;var m=It;It=1;var v=Et;Et|=4,tf.current=null,Jy(t,n),b2(n,t),Ay(Ah),Xd=!!Sh,Ah=Sh=null,t.current=n,e4(n),RE(),Et=v,It=m,Gi.transition=c}else t.current=n;if(Id&&(Id=!1,wr=t,cc=l),c=t.pendingLanes,c===0&&(br=null),OE(n.stateNode),pi(t,dn()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)l=e[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(dc)throw dc=!1,t=Gh,Gh=null,t;return cc&1&&t.tag!==0&&ea(),c=t.pendingLanes,c&1?t===Zh?cl++:(cl=0,Zh=t):cl=0,Hr(),null}function ea(){if(wr!==null){var t=fm(cc),e=Gi.transition,n=It;try{if(Gi.transition=null,It=16>t?16:t,wr===null)var o=!1;else{if(t=wr,wr=null,cc=0,Et&6)throw Error(he(331));var l=Et;for(Et|=4,Ae=t.current;Ae!==null;){var c=Ae,m=c.child;if(Ae.flags&16){var v=c.deletions;if(v!==null){for(var C=0;C<v.length;C++){var y=v[C];for(Ae=y;Ae!==null;){var N=Ae;switch(N.tag){case 0:case 11:case 15:ll(8,N,c)}var T=N.child;if(T!==null)T.return=N,Ae=T;else for(;Ae!==null;){N=Ae;var D=N.sibling,W=N.return;if(A2(N),N===y){Ae=null;break}if(D!==null){D.return=W,Ae=D;break}Ae=W}}}var X=c.alternate;if(X!==null){var j=X.child;if(j!==null){X.child=null;do{var _e=j.sibling;j.sibling=null,j=_e}while(j!==null)}}Ae=c}}if(c.subtreeFlags&2064&&m!==null)m.return=c,Ae=m;else e:for(;Ae!==null;){if(c=Ae,c.flags&2048)switch(c.tag){case 0:case 11:case 15:ll(9,c,c.return)}var H=c.sibling;if(H!==null){H.return=c.return,Ae=H;break e}Ae=c.return}}var F=t.current;for(Ae=F;Ae!==null;){m=Ae;var B=m.child;if(m.subtreeFlags&2064&&B!==null)B.return=m,Ae=B;else e:for(m=F;Ae!==null;){if(v=Ae,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:Wc(9,v)}}catch(pe){rn(v,v.return,pe)}if(v===m){Ae=null;break e}var J=v.sibling;if(J!==null){J.return=v.return,Ae=J;break e}Ae=v.return}}if(Et=l,Hr(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(Dc,t)}catch{}o=!0}return o}finally{It=n,Gi.transition=e}}return!1}function pg(t,e,n){e=ua(n,e),e=g2(t,e,1),t=Ir(t,e,1),e=oi(),t!==null&&(Vl(t,1,e),pi(t,e))}function rn(t,e,n){if(t.tag===3)pg(t,t,n);else for(;e!==null;){if(e.tag===3){pg(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){t=ua(n,t),t=p2(e,t,1),e=Ir(e,t,1),t=oi(),e!==null&&(Vl(e,1,t),pi(e,t));break}}e=e.return}}function s4(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&n,Dn===t&&(Fn&n)===n&&(wn===4||wn===3&&(Fn&130023424)===Fn&&500>dn()-of?ss(t,0):nf|=n),pi(t,e)}function P2(t,e){e===0&&(t.mode&1?(e=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):e=1);var n=oi();t=qo(t,e),t!==null&&(Vl(t,e,n),pi(t,n))}function a4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P2(t,n)}function l4(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(he(314))}o!==null&&o.delete(e),P2(t,n)}var F2;F2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,Qy(t,e,n);ci=!!(t.flags&131072)}else ci=!1,Qt&&e.flags&1048576&&Um(e,tc,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Ud(t,e),t=e.pendingProps;var l=aa(e,Qn.current);Js(e,n),l=K1(null,e,o,t,l,n);var c=q1();return e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(o)?(c=!0,Jd(e)):c=!1,e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,G1(e),l.updater=zc,e.stateNode=l,l._reactInternals=e,Dh(e,o,t,n),e=Bh(null,e,o,!0,c,n)):(e.tag=0,Qt&&c&&k1(e),ii(null,e,l,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Ud(t,e),t=e.pendingProps,l=o._init,o=l(o._payload),e.type=o,l=e.tag=c4(o),t=io(o,t),l){case 0:e=Fh(null,e,o,t,n);break e;case 1:e=rg(null,e,o,t,n);break e;case 11:e=ig(null,e,o,t,n);break e;case 14:e=og(null,e,o,io(o.type,t),n);break e}throw Error(he(306,o,""))}return e;case 0:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:io(o,l),Fh(t,e,o,l,n);case 1:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:io(o,l),rg(t,e,o,l,n);case 3:e:{if(y2(e),t===null)throw Error(he(387));o=e.pendingProps,c=e.memoizedState,l=c.element,Vm(t,e),oc(e,o,null,n);var m=e.memoizedState;if(o=m.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){l=ua(Error(he(423)),e),e=sg(t,e,o,n,l);break e}else if(o!==l){l=ua(Error(he(424)),e),e=sg(t,e,o,n,l);break e}else for(Ai=Tr(e.stateNode.containerInfo.firstChild),Ti=e,Qt=!0,so=null,n=Ym(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),o===l){e=$o(t,e,n);break e}ii(t,e,o,n)}e=e.child}return e;case 5:return Xm(e),t===null&&Mh(e),o=e.type,l=e.pendingProps,c=t!==null?t.memoizedProps:null,m=l.children,Th(o,l)?m=null:c!==null&&Th(o,c)&&(e.flags|=32),E2(t,e),ii(t,e,m,n),e.child;case 6:return t===null&&Mh(e),null;case 13:return x2(t,e,n);case 4:return Z1(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=da(e,null,o,n):ii(t,e,o,n),e.child;case 11:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:io(o,l),ig(t,e,o,l,n);case 7:return ii(t,e,e.pendingProps,n),e.child;case 8:return ii(t,e,e.pendingProps.children,n),e.child;case 12:return ii(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,l=e.pendingProps,c=e.memoizedProps,m=l.value,Ut(nc,o._currentValue),o._currentValue=m,c!==null)if(go(c.value,m)){if(c.children===l.children&&!fi.current){e=$o(t,e,n);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var v=c.dependencies;if(v!==null){m=c.child;for(var C=v.firstContext;C!==null;){if(C.context===o){if(c.tag===1){C=Yo(-1,n&-n),C.tag=2;var y=c.updateQueue;if(y!==null){y=y.shared;var N=y.pending;N===null?C.next=C:(C.next=N.next,N.next=C),y.pending=C}}c.lanes|=n,C=c.alternate,C!==null&&(C.lanes|=n),Lh(c.return,n,e),v.lanes|=n;break}C=C.next}}else if(c.tag===10)m=c.type===e.type?null:c.child;else if(c.tag===18){if(m=c.return,m===null)throw Error(he(341));m.lanes|=n,v=m.alternate,v!==null&&(v.lanes|=n),Lh(m,n,e),m=c.sibling}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}ii(t,e,l.children,n),e=e.child}return e;case 9:return l=e.type,o=e.pendingProps.children,Js(e,n),l=Zi(l),o=o(l),e.flags|=1,ii(t,e,o,n),e.child;case 14:return o=e.type,l=io(o,e.pendingProps),l=io(o.type,l),og(t,e,o,l,n);case 15:return m2(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:io(o,l),Ud(t,e),e.tag=1,gi(o)?(t=!0,Jd(e)):t=!1,Js(e,n),Gm(e,o,l),Dh(e,o,l,n),Bh(null,e,o,!0,t,n);case 19:return v2(t,e,n);case 22:return _2(t,e,n)}throw Error(he(156,e.tag))};function B2(t,e){return dm(t,e)}function d4(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,e,n,o){return new d4(t,e,n,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c4(t){if(typeof t=="function")return lf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T1)return 11;if(t===I1)return 14}return 2}function Rr(t,e){var n=t.alternate;return n===null?(n=ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wd(t,e,n,o,l,c){var m=2;if(o=t,typeof t=="function")lf(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case Ps:return as(n.children,l,c,e);case A1:m=8,l|=8;break;case oh:return t=ji(12,n,e,l|2),t.elementType=oh,t.lanes=c,t;case rh:return t=ji(13,n,e,l),t.elementType=rh,t.lanes=c,t;case sh:return t=ji(19,n,e,l),t.elementType=sh,t.lanes=c,t;case Zp:return jc(n,l,c,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jp:m=10;break e;case Gp:m=9;break e;case T1:m=11;break e;case I1:m=14;break e;case _r:m=16,o=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=ji(m,n,e,l),e.elementType=t,e.type=o,e.lanes=c,e}function as(t,e,n,o){return t=ji(7,t,o,e),t.lanes=n,t}function jc(t,e,n,o){return t=ji(22,t,o,e),t.elementType=Zp,t.lanes=n,t.stateNode={isHidden:!1},t}function zu(t,e,n){return t=ji(6,t,null,e),t.lanes=n,t}function Hu(t,e,n){return e=ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u4(t,e,n,o,l){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vu(0),this.expirationTimes=vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function df(t,e,n,o,l,c,m,v,C){return t=new u4(t,e,n,v,C),e===1?(e=1,c===!0&&(e|=8)):e=0,c=ji(3,null,null,e),t.current=c,c.stateNode=t,c.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},G1(c),t}function h4(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function k2(t){if(!t)return Pr;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(gi(n))return Bm(t,n,e)}return e}function U2(t,e,n,o,l,c,m,v,C){return t=df(n,o,!0,t,l,c,m,v,C),t.context=k2(null),n=t.current,o=oi(),l=Nr(n),c=Yo(o,l),c.callback=e??null,Ir(n,c,l),t.current.lanes=l,Vl(t,l,o),pi(t,o),t}function Gc(t,e,n,o){var l=e.current,c=oi(),m=Nr(l);return n=k2(n),e.context===null?e.context=n:e.pendingContext=n,e=Yo(c,m),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Ir(l,e,m),t!==null&&(ho(t,l,m,c),Fd(t,l,m)),m}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cf(t,e){mg(t,e),(t=t.alternate)&&mg(t,e)}function f4(){return null}var z2=typeof reportError=="function"?reportError:function(t){console.error(t)};function uf(t){this._internalRoot=t}Zc.prototype.render=uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Gc(t,e,null,null)};Zc.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){Gc(null,t,null,null)}),e[Ko]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=mm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yr.length&&e!==0&&e<yr[n].priority;n++);yr.splice(n,0,t),n===0&&Em(t)}};function hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _g(){}function g4(t,e,n,o,l){if(l){if(typeof o=="function"){var c=o;o=function(){var y=hc(m);c.call(y)}}var m=U2(e,o,t,0,null,!1,!1,"",_g);return t._reactRootContainer=m,t[Ko]=m.current,Cl(t.nodeType===8?t.parentNode:t),fs(),m}for(;l=t.lastChild;)t.removeChild(l);if(typeof o=="function"){var v=o;o=function(){var y=hc(C);v.call(y)}}var C=df(t,0,!1,null,null,!1,!1,"",_g);return t._reactRootContainer=C,t[Ko]=C.current,Cl(t.nodeType===8?t.parentNode:t),fs(function(){Gc(e,C,n,o)}),C}function Xc(t,e,n,o,l){var c=n._reactRootContainer;if(c){var m=c;if(typeof l=="function"){var v=l;l=function(){var C=hc(m);v.call(C)}}Gc(e,m,t,l)}else m=g4(n,e,t,l,o);return hc(m)}gm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(R1(e,n|1),pi(e,dn()),!(Et&6)&&(ha=dn()+500,Hr()))}break;case 13:fs(function(){var o=qo(t,1);if(o!==null){var l=oi();ho(o,t,1,l)}}),cf(t,1)}};M1=function(t){if(t.tag===13){var e=qo(t,134217728);if(e!==null){var n=oi();ho(e,t,134217728,n)}cf(t,134217728)}};pm=function(t){if(t.tag===13){var e=Nr(t),n=qo(t,e);if(n!==null){var o=oi();ho(n,t,e,o)}cf(t,e)}};mm=function(){return It};_m=function(t,e){var n=It;try{return It=t,e()}finally{It=n}};mh=function(t,e,n){switch(e){case"input":if(dh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var l=kc(o);if(!l)throw Error(he(90));Xp(o),dh(o,l)}}}break;case"textarea":Kp(t,n);break;case"select":e=n.value,e!=null&&Qs(t,!!n.multiple,e,!1)}};im=rf;om=fs;var p4={usingClientEntryPoint:!1,Events:[Gl,Us,kc,tm,nm,rf]},Ya={findFiberByHostInstance:ns,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},m4={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=am(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||f4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{Dc=bd.inject(m4),bo=bd}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p4;Ni.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(e))throw Error(he(200));return h4(t,e,null,n)};Ni.createRoot=function(t,e){if(!hf(t))throw Error(he(299));var n=!1,o="",l=z2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=df(t,1,!1,null,null,n,!1,o,l),t[Ko]=e.current,Cl(t.nodeType===8?t.parentNode:t),new uf(e)};Ni.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=am(e),t=t===null?null:t.stateNode,t};Ni.flushSync=function(t){return fs(t)};Ni.hydrate=function(t,e,n){if(!Yc(e))throw Error(he(200));return Xc(null,t,e,!0,n)};Ni.hydrateRoot=function(t,e,n){if(!hf(t))throw Error(he(405));var o=n!=null&&n.hydratedSources||null,l=!1,c="",m=z2;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),e=U2(e,null,t,1,n??null,l,!1,c,m),t[Ko]=e.current,Cl(t),o)for(t=0;t<o.length;t++)n=o[t],l=n._getVersion,l=l(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,l]:e.mutableSourceEagerHydrationData.push(n,l);return new Zc(e)};Ni.render=function(t,e,n){if(!Yc(e))throw Error(he(200));return Xc(null,t,e,!1,n)};Ni.unmountComponentAtNode=function(t){if(!Yc(t))throw Error(he(40));return t._reactRootContainer?(fs(function(){Xc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ko]=null})}),!0):!1};Ni.unstable_batchedUpdates=rf;Ni.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!Yc(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Xc(t,e,n,!1,o)};Ni.version="18.2.0-next-9e3b772b8-20220608";function H2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H2)}catch(t){console.error(t)}}H2(),Up.exports=Ni;var _4=Up.exports,Eg=_4;nh.createRoot=Eg.createRoot,nh.hydrateRoot=Eg.hydrateRoot;var W2={exports:{}},E4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y4=E4,x4=y4;function V2(){}function j2(){}j2.resetWarningCache=V2;var v4=function(){function t(o,l,c,m,v,C){if(C!==x4){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j2,resetWarningCache:V2};return n.PropTypes=n,n};W2.exports=v4();var w4=W2.exports;const C4=Lc(w4),yg="/Mapa-UC/assets/elevatorLogo-30_jZ6Gw.png";var Qh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,o){o(e)})(Os,function(n){var o="1.9.4";function l(s){var h,_,w,A;for(_=1,w=arguments.length;_<w;_++){A=arguments[_];for(h in A)s[h]=A[h]}return s}var c=Object.create||function(){function s(){}return function(h){return s.prototype=h,new s}}();function m(s,h){var _=Array.prototype.slice;if(s.bind)return s.bind.apply(s,_.call(arguments,1));var w=_.call(arguments,2);return function(){return s.apply(h,w.length?w.concat(_.call(arguments)):arguments)}}var v=0;function C(s){return"_leaflet_id"in s||(s._leaflet_id=++v),s._leaflet_id}function y(s,h,_){var w,A,M,k;return k=function(){w=!1,A&&(M.apply(_,A),A=!1)},M=function(){w?A=arguments:(s.apply(_,arguments),setTimeout(k,h),w=!0)},M}function N(s,h,_){var w=h[1],A=h[0],M=w-A;return s===w&&_?s:((s-A)%M+M)%M+A}function T(){return!1}function D(s,h){if(h===!1)return s;var _=Math.pow(10,h===void 0?6:h);return Math.round(s*_)/_}function W(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function X(s){return W(s).split(/\s+/)}function j(s,h){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?c(s.options):{});for(var _ in h)s.options[_]=h[_];return s.options}function _e(s,h,_){var w=[];for(var A in s)w.push(encodeURIComponent(_?A.toUpperCase():A)+"="+encodeURIComponent(s[A]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function F(s,h){return s.replace(H,function(_,w){var A=h[w];if(A===void 0)throw new Error("No value provided for variable "+_);return typeof A=="function"&&(A=A(h)),A})}var B=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function J(s,h){for(var _=0;_<s.length;_++)if(s[_]===h)return _;return-1}var pe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var K=0;function fe(s){var h=+new Date,_=Math.max(0,16-(h-K));return K=h+_,window.setTimeout(s,_)}var ne=window.requestAnimationFrame||ce("RequestAnimationFrame")||fe,Ye=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Pe(s,h,_){if(_&&ne===fe)s.call(h);else return ne.call(window,m(s,h))}function ye(s){s&&Ye.call(window,s)}var Ue={__proto__:null,extend:l,create:c,bind:m,get lastId(){return v},stamp:C,throttle:y,wrapNum:N,falseFn:T,formatNum:D,trim:W,splitWords:X,setOptions:j,getParamString:_e,template:F,isArray:B,indexOf:J,emptyImageUrl:pe,requestFn:ne,cancelFn:Ye,requestAnimFrame:Pe,cancelAnimFrame:ye};function Ie(){}Ie.extend=function(s){var h=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,w=c(_);w.constructor=h,h.prototype=w;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(h[A]=this[A]);return s.statics&&l(h,s.statics),s.includes&&(ee(s.includes),l.apply(null,[w].concat(s.includes))),l(w,s),delete w.statics,delete w.includes,w.options&&(w.options=_.options?c(_.options):{},l(w.options,s.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,k=w._initHooks.length;M<k;M++)w._initHooks[M].call(this)}},h},Ie.include=function(s){var h=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=h,this.mergeOptions(s.options)),this},Ie.mergeOptions=function(s){return l(this.prototype.options,s),this},Ie.addInitHook=function(s){var h=Array.prototype.slice.call(arguments,1),_=typeof s=="function"?s:function(){this[s].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function ee(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=B(s)?s:[s];for(var h=0;h<s.length;h++)s[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(s,h,_){if(typeof s=="object")for(var w in s)this._on(w,s[w],h);else{s=X(s);for(var A=0,M=s.length;A<M;A++)this._on(s[A],h,_)}return this},off:function(s,h,_){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var w in s)this._off(w,s[w],h);else{s=X(s);for(var A=arguments.length===1,M=0,k=s.length;M<k;M++)A?this._off(s[M]):this._off(s[M],h,_)}return this},_on:function(s,h,_,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(s,h,_)===!1){_===this&&(_=void 0);var A={fn:h,ctx:_};w&&(A.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(A)}},_off:function(s,h,_){var w,A,M;if(this._events&&(w=this._events[s],!!w)){if(arguments.length===1){if(this._firingCount)for(A=0,M=w.length;A<M;A++)w[A].fn=T;delete this._events[s];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var k=this._listens(s,h,_);if(k!==!1){var Y=w[k];this._firingCount&&(Y.fn=T,this._events[s]=w=w.slice()),w.splice(k,1)}}},fire:function(s,h,_){if(!this.listens(s,_))return this;var w=l({},h,{type:s,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var A=this._events[s];if(A){this._firingCount=this._firingCount+1||1;for(var M=0,k=A.length;M<k;M++){var Y=A[M],$=Y.fn;Y.once&&this.off(s,$,Y.ctx),$.call(Y.ctx||this,w)}this._firingCount--}}return _&&this._propagateEvent(w),this},listens:function(s,h,_,w){typeof s!="string"&&console.warn('"string" type argument expected');var A=h;typeof h!="function"&&(w=!!h,A=void 0,_=void 0);var M=this._events&&this._events[s];if(M&&M.length&&this._listens(s,A,_)!==!1)return!0;if(w){for(var k in this._eventParents)if(this._eventParents[k].listens(s,h,_,w))return!0}return!1},_listens:function(s,h,_){if(!this._events)return!1;var w=this._events[s]||[];if(!h)return!!w.length;_===this&&(_=void 0);for(var A=0,M=w.length;A<M;A++)if(w[A].fn===h&&w[A].ctx===_)return A;return!1},once:function(s,h,_){if(typeof s=="object")for(var w in s)this._on(w,s[w],h,!0);else{s=X(s);for(var A=0,M=s.length;A<M;A++)this._on(s[A],h,_,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[C(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[C(s)],this},_propagateEvent:function(s){for(var h in this._eventParents)this._eventParents[h].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var Be=Ie.extend(Re);function te(s,h,_){this.x=_?Math.round(s):s,this.y=_?Math.round(h):h}var Me=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(s){return this.clone()._add(le(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(le(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new te(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new te(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(s){s=le(s);var h=s.x-this.x,_=s.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(s){return s=le(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=le(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function le(s,h,_){return s instanceof te?s:B(s)?new te(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new te(s.x,s.y):new te(s,h,_)}function He(s,h){if(s)for(var _=h?[s,h]:s,w=0,A=_.length;w<A;w++)this.extend(_[w])}He.prototype={extend:function(s){var h,_;if(!s)return this;if(s instanceof te||typeof s[0]=="number"||"x"in s)h=_=le(s);else if(s=ze(s),h=s.min,_=s.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(s){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var h,_;return typeof s[0]=="number"||s instanceof te?s=le(s):s=ze(s),s instanceof He?(h=s.min,_=s.max):h=_=s,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(s){s=ze(s);var h=this.min,_=this.max,w=s.min,A=s.max,M=A.x>=h.x&&w.x<=_.x,k=A.y>=h.y&&w.y<=_.y;return M&&k},overlaps:function(s){s=ze(s);var h=this.min,_=this.max,w=s.min,A=s.max,M=A.x>h.x&&w.x<_.x,k=A.y>h.y&&w.y<_.y;return M&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var h=this.min,_=this.max,w=Math.abs(h.x-_.x)*s,A=Math.abs(h.y-_.y)*s;return ze(le(h.x-w,h.y-A),le(_.x+w,_.y+A))},equals:function(s){return s?(s=ze(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ze(s,h){return!s||s instanceof He?s:new He(s,h)}function St(s,h){if(s)for(var _=h?[s,h]:s,w=0,A=_.length;w<A;w++)this.extend(_[w])}St.prototype={extend:function(s){var h=this._southWest,_=this._northEast,w,A;if(s instanceof it)w=s,A=s;else if(s instanceof St){if(w=s._southWest,A=s._northEast,!w||!A)return this}else return s?this.extend(ae(s)||je(s)):this;return!h&&!_?(this._southWest=new it(w.lat,w.lng),this._northEast=new it(A.lat,A.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),_.lat=Math.max(A.lat,_.lat),_.lng=Math.max(A.lng,_.lng)),this},pad:function(s){var h=this._southWest,_=this._northEast,w=Math.abs(h.lat-_.lat)*s,A=Math.abs(h.lng-_.lng)*s;return new St(new it(h.lat-w,h.lng-A),new it(_.lat+w,_.lng+A))},getCenter:function(){return new it((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new it(this.getNorth(),this.getWest())},getSouthEast:function(){return new it(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof it||"lat"in s?s=ae(s):s=je(s);var h=this._southWest,_=this._northEast,w,A;return s instanceof St?(w=s.getSouthWest(),A=s.getNorthEast()):w=A=s,w.lat>=h.lat&&A.lat<=_.lat&&w.lng>=h.lng&&A.lng<=_.lng},intersects:function(s){s=je(s);var h=this._southWest,_=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),M=A.lat>=h.lat&&w.lat<=_.lat,k=A.lng>=h.lng&&w.lng<=_.lng;return M&&k},overlaps:function(s){s=je(s);var h=this._southWest,_=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),M=A.lat>h.lat&&w.lat<_.lat,k=A.lng>h.lng&&w.lng<_.lng;return M&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,h){return s?(s=je(s),this._southWest.equals(s.getSouthWest(),h)&&this._northEast.equals(s.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function je(s,h){return s instanceof St?s:new St(s,h)}function it(s,h,_){if(isNaN(s)||isNaN(h))throw new Error("Invalid LatLng object: ("+s+", "+h+")");this.lat=+s,this.lng=+h,_!==void 0&&(this.alt=+_)}it.prototype={equals:function(s,h){if(!s)return!1;s=ae(s);var _=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return _<=(h===void 0?1e-9:h)},toString:function(s){return"LatLng("+D(this.lat,s)+", "+D(this.lng,s)+")"},distanceTo:function(s){return vt.distance(this,ae(s))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(s){var h=180*s/40075017,_=h/Math.cos(Math.PI/180*this.lat);return je([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new it(this.lat,this.lng,this.alt)}};function ae(s,h,_){return s instanceof it?s:B(s)&&typeof s[0]!="object"?s.length===3?new it(s[0],s[1],s[2]):s.length===2?new it(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new it(s.lat,"lng"in s?s.lng:s.lon,s.alt):h===void 0?null:new it(s,h,_)}var cn={latLngToPoint:function(s,h){var _=this.projection.project(s),w=this.scale(h);return this.transformation._transform(_,w)},pointToLatLng:function(s,h){var _=this.scale(h),w=this.transformation.untransform(s,_);return this.projection.unproject(w)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(s),w=this.transformation.transform(h.min,_),A=this.transformation.transform(h.max,_);return new He(w,A)},infinite:!1,wrapLatLng:function(s){var h=this.wrapLng?N(s.lng,this.wrapLng,!0):s.lng,_=this.wrapLat?N(s.lat,this.wrapLat,!0):s.lat,w=s.alt;return new it(_,h,w)},wrapLatLngBounds:function(s){var h=s.getCenter(),_=this.wrapLatLng(h),w=h.lat-_.lat,A=h.lng-_.lng;if(w===0&&A===0)return s;var M=s.getSouthWest(),k=s.getNorthEast(),Y=new it(M.lat-w,M.lng-A),$=new it(k.lat-w,k.lng-A);return new St(Y,$)}},vt=l({},cn,{wrapLng:[-180,180],R:6371e3,distance:function(s,h){var _=Math.PI/180,w=s.lat*_,A=h.lat*_,M=Math.sin((h.lat-s.lat)*_/2),k=Math.sin((h.lng-s.lng)*_/2),Y=M*M+Math.cos(w)*Math.cos(A)*k*k,$=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*$}}),po=6378137,Xi={R:po,MAX_LATITUDE:85.0511287798,project:function(s){var h=Math.PI/180,_=this.MAX_LATITUDE,w=Math.max(Math.min(_,s.lat),-_),A=Math.sin(w*h);return new te(this.R*s.lng*h,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(s){var h=180/Math.PI;return new it((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*h,s.x*h/this.R)},bounds:function(){var s=po*Math.PI;return new He([-s,-s],[s,s])}()};function an(s,h,_,w){if(B(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=h,this._c=_,this._d=w}an.prototype={transform:function(s,h){return this._transform(s.clone(),h)},_transform:function(s,h){return h=h||1,s.x=h*(this._a*s.x+this._b),s.y=h*(this._c*s.y+this._d),s},untransform:function(s,h){return h=h||1,new te((s.x/h-this._b)/this._a,(s.y/h-this._d)/this._c)}};function Mi(s,h,_,w){return new an(s,h,_,w)}var st=l({},vt,{code:"EPSG:3857",projection:Xi,transformation:function(){var s=.5/(Math.PI*Xi.R);return Mi(s,.5,-s,.5)}()}),mo=l({},st,{code:"EPSG:900913"});function Kn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function _o(s,h){var _="",w,A,M,k,Y,$;for(w=0,M=s.length;w<M;w++){for(Y=s[w],A=0,k=Y.length;A<k;A++)$=Y[A],_+=(A?"L":"M")+$.x+" "+$.y;_+=h?Te.svg?"z":"x":""}return _||"M0 0"}var Kt=document.documentElement.style,pt="ActiveXObject"in window,Ce=pt&&!document.addEventListener,Ro="msLaunchUri"in navigator&&!("documentMode"in document),we=zt("webkit"),Mo=zt("android"),ir=zt("android 2")||zt("android 3"),V=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fe=Mo&&zt("Google")&&V<537&&!("AudioNode"in window),ke=!!window.opera,bt=!Ro&&zt("chrome"),kn=zt("gecko")&&!we&&!ke&&!pt,qt=!bt&&zt("safari"),ct=zt("phantom"),Ke="OTransition"in Kt,Qi=navigator.platform.indexOf("Win")===0,mt=pt&&"transition"in Kt,re="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ir,$e="MozPerspective"in Kt,Ne=!window.L_DISABLE_3D&&(mt||re||$e)&&!Ke&&!ct,Je=typeof orientation<"u"||zt("mobile"),Yt=Je&&we,un=Je&&re,Li=!window.PointerEvent&&window.MSPointerEvent,We=!!(window.PointerEvent||Li),Ot="ontouchstart"in window||!!window.TouchEvent,ed=!window.L_NO_TOUCH&&(Ot||We),td=Je&&ke,_i=Je&&kn,Ca=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Cn=function(){var s=!1;try{var h=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",T,h),window.removeEventListener("testPassiveEventSupport",T,h)}catch{}return s}(),or=function(){return!!document.createElement("canvas").getContext}(),rr=!!(document.createElementNS&&Kn("svg").createSVGRect),Oi=!!rr&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ru=!rr&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var h=s.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Lo=navigator.platform.indexOf("Mac")===0,Sa=navigator.platform.indexOf("Linux")===0;function zt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Te={ie:pt,ielt9:Ce,edge:Ro,webkit:we,android:Mo,android23:ir,androidStock:Fe,opera:ke,chrome:bt,gecko:kn,safari:qt,phantom:ct,opera12:Ke,win:Qi,ie3d:mt,webkit3d:re,gecko3d:$e,any3d:Ne,mobile:Je,mobileWebkit:Yt,mobileWebkit3d:un,msPointer:Li,pointer:We,touch:ed,touchNative:Ot,mobileOpera:td,mobileGecko:_i,retina:Ca,passiveEvents:Cn,canvas:or,svg:rr,vml:ru,inlineSvg:Oi,mac:Lo,linux:Sa},qn=Te.msPointer?"MSPointerDown":"pointerdown",xe=Te.msPointer?"MSPointerMove":"pointermove",Oo=Te.msPointer?"MSPointerUp":"pointerup",Cs=Te.msPointer?"MSPointerCancel":"pointercancel",Sn={touchstart:qn,touchmove:xe,touchend:Oo,touchcancel:Cs},Do={touchstart:Eo,touchmove:Vr,touchend:Vr,touchcancel:Vr},Ki={},Wr=!1;function Di(s,h,_){return h==="touchstart"&&Dt(),Do[h]?(_=Do[h].bind(this,_),s.addEventListener(Sn[h],_,!1),_):(console.warn("wrong event specified:",h),T)}function su(s,h,_){if(!Sn[h]){console.warn("wrong event specified:",h);return}s.removeEventListener(Sn[h],_,!1)}function au(s){Ki[s.pointerId]=s}function Pi(s){Ki[s.pointerId]&&(Ki[s.pointerId]=s)}function An(s){delete Ki[s.pointerId]}function Dt(){Wr||(document.addEventListener(qn,au,!0),document.addEventListener(xe,Pi,!0),document.addEventListener(Oo,An,!0),document.addEventListener(Cs,An,!0),Wr=!0)}function Vr(s,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in Ki)h.touches.push(Ki[_]);h.changedTouches=[h],s(h)}}function Eo(s,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&_n(h),Vr(s,h)}function Aa(s){var h={},_,w;for(w in s)_=s[w],h[w]=_&&_.bind?_.bind(s):_;return s=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ie=200;function lu(s,h){s.addEventListener("dblclick",h);var _=0,w;function A(M){if(M.detail!==1){w=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var k=ar(M);if(!(k.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!k.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var Y=Date.now();Y-_<=ie?(w++,w===2&&h(Aa(M))):w=1,_=Y}}}return s.addEventListener("click",A),{dblclick:h,simDblclick:A}}function Xt(s,h){s.removeEventListener("dblclick",h.dblclick),s.removeEventListener("click",h.simDblclick)}var yo=Z(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jr=Z(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_t=jr==="webkitTransition"||jr==="OTransition"?jr+"End":"transitionend";function gt(s){return typeof s=="string"?document.getElementById(s):s}function et(s,h){var _=s.style[h]||s.currentStyle&&s.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(s,null);_=w?w[h]:null}return _==="auto"?null:_}function ut(s,h,_){var w=document.createElement(s);return w.className=h||"",_&&_.appendChild(w),w}function Rt(s){var h=s.parentNode;h&&h.removeChild(s)}function sr(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Pt(s){var h=s.parentNode;h&&h.lastChild!==s&&h.appendChild(s)}function $n(s){var h=s.parentNode;h&&h.firstChild!==s&&h.insertBefore(s,h.firstChild)}function Ta(s,h){if(s.classList!==void 0)return s.classList.contains(h);var _=qi(s);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function be(s,h){if(s.classList!==void 0)for(var _=X(h),w=0,A=_.length;w<A;w++)s.classList.add(_[w]);else if(!Ta(s,h)){var M=qi(s);Ia(s,(M?M+" ":"")+h)}}function wt(s,h){s.classList!==void 0?s.classList.remove(h):Ia(s,W((" "+qi(s)+" ").replace(" "+h+" "," ")))}function Ia(s,h){s.className.baseVal===void 0?s.className=h:s.className.baseVal=h}function qi(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function tt(s,h){"opacity"in s.style?s.style.opacity=h:"filter"in s.style&&Tn(s,h)}function Tn(s,h){var _=!1,w="DXImageTransform.Microsoft.Alpha";try{_=s.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):s.style.filter+=" progid:"+w+"(opacity="+h+")"}function Z(s){for(var h=document.documentElement.style,_=0;_<s.length;_++)if(s[_]in h)return s[_];return!1}function O(s,h,_){var w=h||new te(0,0);s.style[yo]=(Te.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(_?" scale("+_+")":"")}function me(s,h){s._leaflet_pos=h,Te.any3d?O(s,h):(s.style.left=h.x+"px",s.style.top=h.y+"px")}function Ft(s){return s._leaflet_pos||new te(0,0)}var In,Gr,Zr;if("onselectstart"in document)In=function(){Ge(window,"selectstart",_n)},Gr=function(){Ee(window,"selectstart",_n)};else{var bn=Z(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);In=function(){if(bn){var s=document.documentElement.style;Zr=s[bn],s[bn]="none"}},Gr=function(){bn&&(document.documentElement.style[bn]=Zr,Zr=void 0)}}function Le(){Ge(window,"dragstart",_n)}function Mt(){Ee(window,"dragstart",_n)}var Yr,ba;function Xr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Po(),Yr=s,ba=s.style.outlineStyle,s.style.outlineStyle="none",Ge(window,"keydown",Po))}function Po(){Yr&&(Yr.style.outlineStyle=ba,Yr=void 0,ba=void 0,Ee(window,"keydown",Po))}function Ss(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Na(s){var h=s.getBoundingClientRect();return{x:h.width/s.offsetWidth||1,y:h.height/s.offsetHeight||1,boundingClientRect:h}}var hn={__proto__:null,TRANSFORM:yo,TRANSITION:jr,TRANSITION_END:_t,get:gt,getStyle:et,create:ut,remove:Rt,empty:sr,toFront:Pt,toBack:$n,hasClass:Ta,addClass:be,removeClass:wt,setClass:Ia,getClass:qi,setOpacity:tt,testProp:Z,setTransform:O,setPosition:me,getPosition:Ft,get disableTextSelection(){return In},get enableTextSelection(){return Gr},disableImageDrag:Le,enableImageDrag:Mt,preventOutline:Xr,restoreOutline:Po,getSizedParentNode:Ss,getScale:Na};function Ge(s,h,_,w){if(h&&typeof h=="object")for(var A in h)ln(s,A,h[A],_);else{h=X(h);for(var M=0,k=h.length;M<k;M++)ln(s,h[M],_,w)}return this}var mn="_leaflet_events";function Ee(s,h,_,w){if(arguments.length===1)nd(s),delete s[mn];else if(h&&typeof h=="object")for(var A in h)Ra(s,A,h[A],_);else if(h=X(h),arguments.length===2)nd(s,function(Y){return J(h,Y)!==-1});else for(var M=0,k=h.length;M<k;M++)Ra(s,h[M],_,w);return this}function nd(s,h){for(var _ in s[mn]){var w=_.split(/\d/)[0];(!h||h(w))&&Ra(s,w,null,null,_)}}var Xe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ln(s,h,_,w){var A=h+C(_)+(w?"_"+C(w):"");if(s[mn]&&s[mn][A])return this;var M=function(Y){return _.call(w||s,Y||window.event)},k=M;!Te.touchNative&&Te.pointer&&h.indexOf("touch")===0?M=Di(s,h,M):Te.touch&&h==="dblclick"?M=lu(s,M):"addEventListener"in s?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?s.addEventListener(Xe[h]||h,M,Te.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(M=function(Y){Y=Y||window.event,Fo(s,Y)&&k(Y)},s.addEventListener(Xe[h],M,!1)):s.addEventListener(h,k,!1):s.attachEvent("on"+h,M),s[mn]=s[mn]||{},s[mn][A]=M}function Ra(s,h,_,w,A){A=A||h+C(_)+(w?"_"+C(w):"");var M=s[mn]&&s[mn][A];if(!M)return this;!Te.touchNative&&Te.pointer&&h.indexOf("touch")===0?su(s,h,M):Te.touch&&h==="dblclick"?Xt(s,M):"removeEventListener"in s?s.removeEventListener(Xe[h]||h,M,!1):s.detachEvent("on"+h,M),s[mn][A]=null}function $i(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function As(s){return ln(s,"wheel",$i),this}function Ei(s){return Ge(s,"mousedown touchstart dblclick contextmenu",$i),s._leaflet_disable_click=!0,this}function _n(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function yi(s){return _n(s),$i(s),this}function ar(s){if(s.composedPath)return s.composedPath();for(var h=[],_=s.target;_;)h.push(_),_=_.parentNode;return h}function lr(s,h){if(!h)return new te(s.clientX,s.clientY);var _=Na(h),w=_.boundingClientRect;return new te((s.clientX-w.left)/_.x-h.clientLeft,(s.clientY-w.top)/_.y-h.clientTop)}var id=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dr(s){return Te.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/id:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Fo(s,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==s;)_=_.parentNode}catch{return!1}return _!==s}var Un={__proto__:null,on:Ge,off:Ee,stopPropagation:$i,disableScrollPropagation:As,disableClickPropagation:Ei,preventDefault:_n,stop:yi,getPropagationPath:ar,getMousePosition:lr,getWheelDelta:dr,isExternalTarget:Fo,addListener:Ge,removeListener:Ee},Ma=Be.extend({run:function(s,h,_,w){this.stop(),this._el=s,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Ft(s),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pe(this._animate,this),this._step()},_step:function(s){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),s):(this._runFrame(1),this._complete())},_runFrame:function(s,h){var _=this._startPos.add(this._offset.multiplyBy(s));h&&_._round(),me(this._el,_),this.fire("step")},_complete:function(){ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),at=Be.extend({options:{crs:st,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,h){h=j(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(ae(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jr&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,_t,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),s=this._limitCenter(ae(s),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=l({animate:_.animate},_.zoom),_.pan=l({animate:_.animate,duration:_.duration},_.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,h,_.zoom):this._tryAnimatedPan(s,_.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(s,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(s,h){return this._loaded?this.setView(this.getCenter(),s,{zoom:h}):(this._zoom=s,this)},zoomIn:function(s,h){return s=s||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,h)},zoomOut:function(s,h){return s=s||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,h)},setZoomAround:function(s,h,_){var w=this.getZoomScale(h),A=this.getSize().divideBy(2),M=s instanceof te?s:this.latLngToContainerPoint(s),k=M.subtract(A).multiplyBy(1-1/w),Y=this.containerPointToLatLng(A.add(k));return this.setView(Y,h,{zoom:_})},_getBoundsCenterZoom:function(s,h){h=h||{},s=s.getBounds?s.getBounds():je(s);var _=le(h.paddingTopLeft||h.padding||[0,0]),w=le(h.paddingBottomRight||h.padding||[0,0]),A=this.getBoundsZoom(s,!1,_.add(w));if(A=typeof h.maxZoom=="number"?Math.min(h.maxZoom,A):A,A===1/0)return{center:s.getCenter(),zoom:A};var M=w.subtract(_).divideBy(2),k=this.project(s.getSouthWest(),A),Y=this.project(s.getNorthEast(),A),$=this.unproject(k.add(Y).divideBy(2).add(M),A);return{center:$,zoom:A}},fitBounds:function(s,h){if(s=je(s),!s.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(s,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,h){return this.setView(s,this._zoom,{pan:h})},panBy:function(s,h){if(s=le(s).round(),h=h||{},!s.x&&!s.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){be(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,h,_){if(_=_||{},_.animate===!1||!Te.any3d)return this.setView(s,h,_);this._stop();var w=this.project(this.getCenter()),A=this.project(s),M=this.getSize(),k=this._zoom;s=ae(s),h=h===void 0?k:h;var Y=Math.max(M.x,M.y),$=Y*this.getZoomScale(k,h),oe=A.distanceTo(w)||1,ve=1.42,Ve=ve*ve;function ot(gn){var ud=gn?-1:1,H3=gn?$:Y,W3=$*$-Y*Y+ud*Ve*Ve*oe*oe,V3=2*H3*Ve*oe,pu=W3/V3,d0=Math.sqrt(pu*pu+1)-pu,j3=d0<1e-9?-18:Math.log(d0);return j3}function ni(gn){return(Math.exp(gn)-Math.exp(-gn))/2}function Nn(gn){return(Math.exp(gn)+Math.exp(-gn))/2}function Hi(gn){return ni(gn)/Nn(gn)}var li=ot(0);function Rs(gn){return Y*(Nn(li)/Nn(li+ve*gn))}function B3(gn){return Y*(Nn(li)*Hi(li+ve*gn)-ni(li))/Ve}function k3(gn){return 1-Math.pow(1-gn,1.5)}var U3=Date.now(),a0=(ot(1)-li)/ve,z3=_.duration?1e3*_.duration:1e3*a0*.8;function l0(){var gn=(Date.now()-U3)/z3,ud=k3(gn)*a0;gn<=1?(this._flyToFrame=Pe(l0,this),this._move(this.unproject(w.add(A.subtract(w).multiplyBy(B3(ud)/oe)),k),this.getScaleZoom(Y/Rs(ud),k),{flyTo:!0})):this._move(s,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),l0.call(this),this},flyToBounds:function(s,h){var _=this._getBoundsCenterZoom(s,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(s){return s=je(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var h=this.options.minZoom;return this.options.minZoom=s,this._loaded&&h!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var h=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&h!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,h){this._enforcingBounds=!0;var _=this.getCenter(),w=this._limitCenter(_,this._zoom,je(s));return _.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(s,h){h=h||{};var _=le(h.paddingTopLeft||h.padding||[0,0]),w=le(h.paddingBottomRight||h.padding||[0,0]),A=this.project(this.getCenter()),M=this.project(s),k=this.getPixelBounds(),Y=ze([k.min.add(_),k.max.subtract(w)]),$=Y.getSize();if(!Y.contains(M)){this._enforcingBounds=!0;var oe=M.subtract(Y.getCenter()),ve=Y.extend(M).getSize().subtract($);A.x+=oe.x<0?-ve.x:ve.x,A.y+=oe.y<0?-ve.y:ve.y,this.panTo(this.unproject(A),h),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),w=h.divideBy(2).round(),A=_.divideBy(2).round(),M=w.subtract(A);return!M.x&&!M.y?this:(s.animate&&s.pan?this.panBy(M):(s.pan&&this._rawPanBy(M),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=m(this._handleGeolocationResponse,this),_=m(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,s):navigator.geolocation.getCurrentPosition(h,_,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var h=s.code,_=s.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var h=s.coords.latitude,_=s.coords.longitude,w=new it(h,_),A=w.toBounds(s.coords.accuracy*2),M=this._locateOptions;if(M.setView){var k=this.getBoundsZoom(A);this.setView(w,M.maxZoom?Math.min(k,M.maxZoom):k)}var Y={latlng:w,bounds:A,timestamp:s.timestamp};for(var $ in s.coords)typeof s.coords[$]=="number"&&(Y[$]=s.coords[$]);this.fire("locationfound",Y)}},addHandler:function(s,h){if(!h)return this;var _=this[s]=new h(this);return this._handlers.push(_),this.options[s]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Rt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,h){var _="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),w=ut("div",_,h||this._mapPane);return s&&(this._panes[s]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),h=this.unproject(s.getBottomLeft()),_=this.unproject(s.getTopRight());return new St(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,h,_){s=je(s),_=le(_||[0,0]);var w=this.getZoom()||0,A=this.getMinZoom(),M=this.getMaxZoom(),k=s.getNorthWest(),Y=s.getSouthEast(),$=this.getSize().subtract(_),oe=ze(this.project(Y,w),this.project(k,w)).getSize(),ve=Te.any3d?this.options.zoomSnap:1,Ve=$.x/oe.x,ot=$.y/oe.y,ni=h?Math.max(Ve,ot):Math.min(Ve,ot);return w=this.getScaleZoom(ni,w),ve&&(w=Math.round(w/(ve/100))*(ve/100),w=h?Math.ceil(w/ve)*ve:Math.floor(w/ve)*ve),Math.max(A,Math.min(M,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,h){var _=this._getTopLeftPoint(s,h);return new He(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(s)/_.scale(h)},getScaleZoom:function(s,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var w=_.zoom(s*_.scale(h));return isNaN(w)?1/0:w},project:function(s,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(ae(s),h)},unproject:function(s,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(le(s),h)},layerPointToLatLng:function(s){var h=le(s).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(s){var h=this.project(ae(s))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ae(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(je(s))},distance:function(s,h){return this.options.crs.distance(ae(s),ae(h))},containerPointToLayerPoint:function(s){return le(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return le(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var h=this.containerPointToLayerPoint(le(s));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(s)))},mouseEventToContainerPoint:function(s){return lr(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var h=this._container=gt(s);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ge(h,"scroll",this._onScroll,this),this._containerId=C(h)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,be(s,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=et(s,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(s.markerPane,"leaflet-zoom-hide"),be(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,h,_){me(this._mapPane,new te(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var A=this._zoom!==h;this._moveStart(A,_)._move(s,h)._moveEnd(A),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(s,h){return s&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(s,h,_,w){h===void 0&&(h=this._zoom);var A=this._zoom!==h;return this._zoom=h,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),w?_&&_.pinch&&this.fire("zoom",_):((A||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){me(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[C(this._container)]=this;var h=s?Ee:Ge;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ye(this._resizeRequest),this._resizeRequest=Pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,h){for(var _=[],w,A=h==="mouseout"||h==="mouseover",M=s.target||s.srcElement,k=!1;M;){if(w=this._targets[C(M)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){k=!0;break}if(w&&w.listens(h,!0)&&(A&&!Fo(M,s)||(_.push(w),A))||M===this._container)break;M=M.parentNode}return!_.length&&!k&&!A&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var h=s.target||s.srcElement;if(!(!this._loaded||h._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(h))){var _=s.type;_==="mousedown"&&Xr(h),this._fireDOMEvent(s,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,h,_){if(s.type==="click"){var w=l({},s);w.type="preclick",this._fireDOMEvent(w,w.type,_)}var A=this._findEventTargets(s,h);if(_){for(var M=[],k=0;k<_.length;k++)_[k].listens(h,!0)&&M.push(_[k]);A=M.concat(A)}if(A.length){h==="contextmenu"&&_n(s);var Y=A[0],$={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var oe=Y.getLatLng&&(!Y._radius||Y._radius<=10);$.containerPoint=oe?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(s),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=oe?Y.getLatLng():this.layerPointToLatLng($.layerPoint)}for(k=0;k<A.length;k++)if(A[k].fire(h,$,!0),$.originalEvent._stopped||A[k].options.bubblingMouseEvents===!1&&J(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,h=this._handlers.length;s<h;s++)this._handlers[s].disable()},whenReady:function(s,h){return this._loaded?s.call(h||this,{target:this}):this.on("load",s,h),this},_getMapPanePos:function(){return Ft(this._mapPane)||new te(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,h){var _=s&&h!==void 0?this._getNewPixelOrigin(s,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,h){var _=this.getSize()._divideBy(2);return this.project(s,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,h,_){var w=this._getNewPixelOrigin(_,h);return this.project(s,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(s,h,_){var w=this._getNewPixelOrigin(_,h);return ze([this.project(s.getSouthWest(),h)._subtract(w),this.project(s.getNorthWest(),h)._subtract(w),this.project(s.getSouthEast(),h)._subtract(w),this.project(s.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,h,_){if(!_)return s;var w=this.project(s,h),A=this.getSize().divideBy(2),M=new He(w.subtract(A),w.add(A)),k=this._getBoundsOffset(M,_,h);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?s:this.unproject(w.add(k),h)},_limitOffset:function(s,h){if(!h)return s;var _=this.getPixelBounds(),w=new He(_.min.add(s),_.max.add(s));return s.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(s,h,_){var w=ze(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),A=w.min.subtract(s.min),M=w.max.subtract(s.max),k=this._rebound(A.x,-M.x),Y=this._rebound(A.y,-M.y);return new te(k,Y)},_rebound:function(s,h){return s+h>0?Math.round(s-h)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(h))},_limitZoom:function(s){var h=this.getMinZoom(),_=this.getMaxZoom(),w=Te.any3d?this.options.zoomSnap:1;return w&&(s=Math.round(s/w)*w),Math.max(h,Math.min(_,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,h){var _=this._getCenterOffset(s)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var s=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(h){var _=yo,w=this._proxy.style[_];O(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),h=this.getZoom();O(this._proxy,this.project(s,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),A=this._getCenterOffset(s)._divideBy(1-1/w);return _.animate!==!0&&!this.getSize().contains(A)?!1:(Pe(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(s,h,!0)},this),!0)},_animateZoom:function(s,h,_,w){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=h,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function od(s,h){return new at(s,h)}var xi=Ie.extend({options:{position:"topright"},initialize:function(s){j(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var h=this._map;return h&&h.removeControl(this),this.options.position=s,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var h=this._container=this.onAdd(s),_=this.getPosition(),w=s._controlCorners[_];return be(h,"leaflet-control"),_.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Qr=function(s){return new xi(s)};at.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},h="leaflet-",_=this._controlContainer=ut("div",h+"control-container",this._container);function w(A,M){var k=h+A+" "+h+M;s[A+M]=ut("div",k,_)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Rt(this._controlCorners[s]);Rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rd=xi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,h,_,w){return _<w?-1:w<_?1:0}},initialize:function(s,h,_){j(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in s)this._addLayer(s[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return xi.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,h){return this._addLayer(s,h),this._map?this._update():this},addOverlay:function(s,h){return this._addLayer(s,h,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var h=this._getLayer(C(s));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",h=this._container=ut("div",s),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Ei(h),As(h);var w=this._section=ut("section",s+"-list");_&&(this._map.on("click",this.collapse,this),Ge(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=ut("a",s+"-toggle",h);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ge(A,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){_n(M),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=ut("div",s+"-base",w),this._separator=ut("div",s+"-separator",w),this._overlaysList=ut("div",s+"-overlays",w),h.appendChild(w)},_getLayer:function(s){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&C(this._layers[h].layer)===s)return this._layers[h]},_addLayer:function(s,h,_){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(m(function(w,A){return this.options.sortFunction(w.layer,A.layer,w.name,A.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sr(this._baseLayersList),sr(this._overlaysList),this._layerControlInputs=[];var s,h,_,w,A=0;for(_=0;_<this._layers.length;_++)w=this._layers[_],this._addItem(w),h=h||w.overlay,s=s||!w.overlay,A+=w.overlay?0:1;return this.options.hideSingleBase&&(s=s&&A>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=h&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var h=this._getLayer(C(s.target)),_=h.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(s,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=_,w.firstChild},_addItem:function(s){var h=document.createElement("label"),_=this._map.hasLayer(s.layer),w;s.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=_):w=this._createRadioElement("leaflet-base-layers_"+C(this),_),this._layerControlInputs.push(w),w.layerId=C(s.layer),Ge(w,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+s.name;var M=document.createElement("span");h.appendChild(M),M.appendChild(w),M.appendChild(A);var k=s.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,h,_,w=[],A=[];this._handlingClick=!0;for(var M=s.length-1;M>=0;M--)h=s[M],_=this._getLayer(h.layerId).layer,h.checked?w.push(_):h.checked||A.push(_);for(M=0;M<A.length;M++)this._map.hasLayer(A[M])&&this._map.removeLayer(A[M]);for(M=0;M<w.length;M++)this._map.hasLayer(w[M])||this._map.addLayer(w[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,h,_,w=this._map.getZoom(),A=s.length-1;A>=0;A--)h=s[A],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&w<_.options.minZoom||_.options.maxZoom!==void 0&&w>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ge(s,"click",_n),this.expand();var h=this;setTimeout(function(){Ee(s,"click",_n),h._preventClick=!1})}}),Ct=function(s,h,_){return new rd(s,h,_)},Ts=xi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var h="leaflet-control-zoom",_=ut("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,h,_,w,A){var M=ut("a",_,w);return M.innerHTML=s,M.href="#",M.title=h,M.setAttribute("role","button"),M.setAttribute("aria-label",h),Ei(M),Ge(M,"click",yi),Ge(M,"click",A,this),Ge(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var s=this._map,h="leaflet-disabled";wt(this._zoomInButton,h),wt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(be(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(be(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ts,this.addControl(this.zoomControl))});var Is=function(s){return new Ts(s)},Ji=xi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var h="leaflet-control-scale",_=ut("div",h),w=this.options;return this._addScales(w,h+"-line",_),s.on(w.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),_},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,h,_){s.metric&&(this._mScale=ut("div",h,_)),s.imperial&&(this._iScale=ut("div",h,_))},_update:function(){var s=this._map,h=s.getSize().y/2,_=s.distance(s.containerPointToLatLng([0,h]),s.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var h=this._getRoundNum(s),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/s)},_updateImperial:function(s){var h=s*3.2808399,_,w,A;h>5280?(_=h/5280,w=this._getRoundNum(_),this._updateScale(this._iScale,w+" mi",w/_)):(A=this._getRoundNum(h),this._updateScale(this._iScale,A+" ft",A/h))},_updateScale:function(s,h,_){s.style.width=Math.round(this.options.maxWidth*_)+"px",s.innerHTML=h},_getRoundNum:function(s){var h=Math.pow(10,(Math.floor(s)+"").length-1),_=s/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),du=function(s){return new Ji(s)},q='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qe=xi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?q+" ":"")+"Leaflet</a>"},initialize:function(s){j(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Ei(this._container);for(var h in s._layers)s._layers[h].getAttribution&&this.addAttribution(s._layers[h].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var h in this._attributions)this._attributions[h]&&s.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),s.length&&_.push(s.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&new qe().addTo(this)});var En=function(s){return new qe(s)};xi.Layers=rd,xi.Zoom=Ts,xi.Scale=Ji,xi.Attribution=qe,Qr.layers=Ct,Qr.zoom=Is,Qr.scale=du,Qr.attribution=En;var Jn=Ie.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(s,h){return s.addHandler(h,this),this};var sd={Events:Re},ad=Te.touch?"touchstart mousedown":"mousedown",xo=Be.extend({options:{clickTolerance:3},initialize:function(s,h,_,w){j(this,w),this._element=s,this._dragStartTarget=h||s,this._preventOutline=_},enable:function(){this._enabled||(Ge(this._dragStartTarget,ad,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xo._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,ad,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ta(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){xo._dragging===this&&this.finishDrag();return}if(!(xo._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(xo._dragging=this,this._preventOutline&&Xr(this._element),Le(),In(),!this._moving)){this.fire("down");var h=s.touches?s.touches[0]:s,_=Ss(this._element);this._startPoint=new te(h.clientX,h.clientY),this._startPos=Ft(this._element),this._parentScale=Na(_);var w=s.type==="mousedown";Ge(document,w?"mousemove":"touchmove",this._onMove,this),Ge(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var h=s.touches&&s.touches.length===1?s.touches[0]:s,_=new te(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,_n(s),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),me(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),Mt(),Gr();var h=this._moved&&this._moving;this._moving=!1,xo._dragging=!1,h&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ld(s,h,_){var w,A=[1,4,2,8],M,k,Y,$,oe,ve,Ve,ot;for(M=0,ve=s.length;M<ve;M++)s[M]._code=ko(s[M],h);for(Y=0;Y<4;Y++){for(Ve=A[Y],w=[],M=0,ve=s.length,k=ve-1;M<ve;k=M++)$=s[M],oe=s[k],$._code&Ve?oe._code&Ve||(ot=eo(oe,$,Ve,h,_),ot._code=ko(ot,h),w.push(ot)):(oe._code&Ve&&(ot=eo(oe,$,Ve,h,_),ot._code=ko(ot,h),w.push(ot)),w.push($));s=w}return s}function bs(s,h){var _,w,A,M,k,Y,$,oe,ve;if(!s||s.length===0)throw new Error("latlngs not passed");ei(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ve=ae([0,0]),ot=je(s),ni=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());ni<1700&&(Ve=$t(s));var Nn=s.length,Hi=[];for(_=0;_<Nn;_++){var li=ae(s[_]);Hi.push(h.project(ae([li.lat-Ve.lat,li.lng-Ve.lng])))}for(Y=$=oe=0,_=0,w=Nn-1;_<Nn;w=_++)A=Hi[_],M=Hi[w],k=A.y*M.x-M.y*A.x,$+=(A.x+M.x)*k,oe+=(A.y+M.y)*k,Y+=k*3;Y===0?ve=Hi[0]:ve=[$/Y,oe/Y];var Rs=h.unproject(le(ve));return ae([Rs.lat+Ve.lat,Rs.lng+Ve.lng])}function $t(s){for(var h=0,_=0,w=0,A=0;A<s.length;A++){var M=ae(s[A]);h+=M.lat,_+=M.lng,w++}return ae([h/w,_/w])}var La={__proto__:null,clipPolygon:ld,polygonCenter:bs,centroid:$t};function Ht(s,h){if(!h||!s.length)return s.slice();var _=h*h;return s=cu(s,_),s=At(s,_),s}function Kr(s,h,_){return Math.sqrt(Uo(s,h,_,!0))}function Bo(s,h,_){return Uo(s,h,_)}function At(s,h){var _=s.length,w=typeof Uint8Array<"u"?Uint8Array:Array,A=new w(_);A[0]=A[_-1]=1,De(s,A,h,0,_-1);var M,k=[];for(M=0;M<_;M++)A[M]&&k.push(s[M]);return k}function De(s,h,_,w,A){var M=0,k,Y,$;for(Y=w+1;Y<=A-1;Y++)$=Uo(s[Y],s[w],s[A],!0),$>M&&(k=Y,M=$);M>_&&(h[k]=1,De(s,h,_,w,k),De(s,h,_,k,A))}function cu(s,h){for(var _=[s[0]],w=1,A=0,M=s.length;w<M;w++)Fi(s[w],s[A])>h&&(_.push(s[w]),A=w);return A<M-1&&_.push(s[M-1]),_}var Nt;function vo(s,h,_,w,A){var M=w?Nt:ko(s,_),k=ko(h,_),Y,$,oe;for(Nt=k;;){if(!(M|k))return[s,h];if(M&k)return!1;Y=M||k,$=eo(s,h,Y,_,A),oe=ko($,_),Y===M?(s=$,M=oe):(h=$,k=oe)}}function eo(s,h,_,w,A){var M=h.x-s.x,k=h.y-s.y,Y=w.min,$=w.max,oe,ve;return _&8?(oe=s.x+M*($.y-s.y)/k,ve=$.y):_&4?(oe=s.x+M*(Y.y-s.y)/k,ve=Y.y):_&2?(oe=$.x,ve=s.y+k*($.x-s.x)/M):_&1&&(oe=Y.x,ve=s.y+k*(Y.x-s.x)/M),new te(oe,ve,A)}function ko(s,h){var _=0;return s.x<h.min.x?_|=1:s.x>h.max.x&&(_|=2),s.y<h.min.y?_|=4:s.y>h.max.y&&(_|=8),_}function Fi(s,h){var _=h.x-s.x,w=h.y-s.y;return _*_+w*w}function Uo(s,h,_,w){var A=h.x,M=h.y,k=_.x-A,Y=_.y-M,$=k*k+Y*Y,oe;return $>0&&(oe=((s.x-A)*k+(s.y-M)*Y)/$,oe>1?(A=_.x,M=_.y):oe>0&&(A+=k*oe,M+=Y*oe)),k=s.x-A,Y=s.y-M,w?k*k+Y*Y:new te(A,M)}function ei(s){return!B(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Ns(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ei(s)}function Oa(s,h){var _,w,A,M,k,Y,$,oe;if(!s||s.length===0)throw new Error("latlngs not passed");ei(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ve=ae([0,0]),Ve=je(s),ot=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());ot<1700&&(ve=$t(s));var ni=s.length,Nn=[];for(_=0;_<ni;_++){var Hi=ae(s[_]);Nn.push(h.project(ae([Hi.lat-ve.lat,Hi.lng-ve.lng])))}for(_=0,w=0;_<ni-1;_++)w+=Nn[_].distanceTo(Nn[_+1])/2;if(w===0)oe=Nn[0];else for(_=0,M=0;_<ni-1;_++)if(k=Nn[_],Y=Nn[_+1],A=k.distanceTo(Y),M+=A,M>w){$=(M-w)/A,oe=[Y.x-$*(Y.x-k.x),Y.y-$*(Y.y-k.y)];break}var li=h.unproject(le(oe));return ae([li.lat+ve.lat,li.lng+ve.lng])}var dd={__proto__:null,simplify:Ht,pointToSegmentDistance:Kr,closestPointOnSegment:Bo,clipSegment:vo,_getEdgeIntersection:eo,_getBitCode:ko,_sqClosestPointOnSegment:Uo,isFlat:ei,_flat:Ns,polylineCenter:Oa},Da={project:function(s){return new te(s.lng,s.lat)},unproject:function(s){return new it(s.y,s.x)},bounds:new He([-180,-90],[180,90])},wo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new He([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var h=Math.PI/180,_=this.R,w=s.lat*h,A=this.R_MINOR/_,M=Math.sqrt(1-A*A),k=M*Math.sin(w),Y=Math.tan(Math.PI/4-w/2)/Math.pow((1-k)/(1+k),M/2);return w=-_*Math.log(Math.max(Y,1e-10)),new te(s.lng*h*_,w)},unproject:function(s){for(var h=180/Math.PI,_=this.R,w=this.R_MINOR/_,A=Math.sqrt(1-w*w),M=Math.exp(-s.y/_),k=Math.PI/2-2*Math.atan(M),Y=0,$=.1,oe;Y<15&&Math.abs($)>1e-7;Y++)oe=A*Math.sin(k),oe=Math.pow((1-oe)/(1+oe),A/2),$=Math.PI/2-2*Math.atan(M*oe)-k,k+=$;return new it(k*h,s.x*h/_)}},Pa={__proto__:null,LonLat:Da,Mercator:wo,SphericalMercator:Xi},uu=l({},vt,{code:"EPSG:3395",projection:wo,transformation:function(){var s=.5/(Math.PI*wo.R);return Mi(s,.5,-s,.5)}()}),cr=l({},vt,{code:"EPSG:4326",projection:Da,transformation:Mi(1/180,1,-1/180,.5)}),hu=l({},cn,{projection:Da,transformation:Mi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,h){var _=h.lng-s.lng,w=h.lat-s.lat;return Math.sqrt(_*_+w*w)},infinite:!0});cn.Earth=vt,cn.EPSG3395=uu,cn.EPSG3857=st,cn.EPSG900913=mo,cn.EPSG4326=cr,cn.Simple=hu;var fn=Be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[C(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[C(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var h=s.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});at.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var h=C(s);return this._layers[h]?this:(this._layers[h]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var h=C(s);return this._layers[h]?(this._loaded&&s.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return C(s)in this._layers},eachLayer:function(s,h){for(var _ in this._layers)s.call(h,this._layers[_]);return this},_addLayers:function(s){s=s?B(s)?s:[s]:[];for(var h=0,_=s.length;h<_;h++)this.addLayer(s[h])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[C(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var h=C(s);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,h=-1/0,_=this._getZoomSpan();for(var w in this._zoomBoundLayers){var A=this._zoomBoundLayers[w].options;s=A.minZoom===void 0?s:Math.min(s,A.minZoom),h=A.maxZoom===void 0?h:Math.max(h,A.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=s===1/0?void 0:s,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var to=fn.extend({initialize:function(s,h){j(this,h),this._layers={};var _,w;if(s)for(_=0,w=s.length;_<w;_++)this.addLayer(s[_])},addLayer:function(s){var h=this.getLayerId(s);return this._layers[h]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var h=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(s){var h=typeof s=="number"?s:this.getLayerId(s);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var h=Array.prototype.slice.call(arguments,1),_,w;for(_ in this._layers)w=this._layers[_],w[s]&&w[s].apply(w,h);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,h){for(var _ in this._layers)s.call(h,this._layers[_]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return C(s)}}),ai=function(s,h){return new to(s,h)},Bi=to.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),to.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),to.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new St;for(var h in this._layers){var _=this._layers[h];s.extend(_.getBounds?_.getBounds():_.getLatLng())}return s}}),ki=function(s,h){return new Bi(s,h)},ur=Ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){j(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,h){var _=this._getIconUrl(s);if(!_){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(s,h){var _=this.options,w=_[h+"Size"];typeof w=="number"&&(w=[w,w]);var A=le(w),M=le(h==="shadow"&&_.shadowAnchor||_.iconAnchor||A&&A.divideBy(2,!0));s.className="leaflet-marker-"+h+" "+(_.className||""),M&&(s.style.marginLeft=-M.x+"px",s.style.marginTop=-M.y+"px"),A&&(s.style.width=A.x+"px",s.style.height=A.y+"px")},_createImg:function(s,h){return h=h||document.createElement("img"),h.src=s,h},_getIconUrl:function(s){return Te.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Fa(s){return new ur(s)}var qr=ur.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof qr.imagePath!="string"&&(qr.imagePath=this._detectIconPath()),(this.options.imagePath||qr.imagePath)+ur.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var h=function(_,w,A){var M=w.exec(_);return M&&M[A]};return s=h(s,/^url\((['"])?(.+)\1\)$/,2),s&&h(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ut("div","leaflet-default-icon-path",document.body),h=et(s,"background-image")||et(s,"backgroundImage");if(document.body.removeChild(s),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Ba=Jn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xo(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var h=this._marker,_=h._map,w=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,M=Ft(h._icon),k=_.getPixelBounds(),Y=_.getPixelOrigin(),$=ze(k.min._subtract(Y).add(A),k.max._subtract(Y).subtract(A));if(!$.contains(M)){var oe=le((Math.max($.max.x,M.x)-$.max.x)/(k.max.x-$.max.x)-(Math.min($.min.x,M.x)-$.min.x)/(k.min.x-$.min.x),(Math.max($.max.y,M.y)-$.max.y)/(k.max.y-$.max.y)-(Math.min($.min.y,M.y)-$.min.y)/(k.min.y-$.min.y)).multiplyBy(w);_.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),me(h._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Pe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ye(this._panRequest),this._panRequest=Pe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var h=this._marker,_=h._shadow,w=Ft(h._icon),A=h._map.layerPointToLatLng(w);_&&me(_,w),h._latlng=A,s.latlng=A,s.oldLatLng=this._oldLatLng,h.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ti=fn.extend({options:{icon:new qr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,h){j(this,h),this._latlng=ae(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var h=this._latlng;return this._latlng=ae(s),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=s.icon.createIcon(this._icon),w=!1;_!==this._icon&&(this._icon&&this._removeIcon(),w=!0,s.title&&(_.title=s.title),_.tagName==="IMG"&&(_.alt=s.alt||"")),be(_,h),s.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(_,"focus",this._panOnFocus,this);var A=s.icon.createShadow(this._shadow),M=!1;A!==this._shadow&&(this._removeShadow(),M=!0),A&&(be(A,h),A.alt=""),this._shadow=A,s.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&M&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),Rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Rt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&me(this._icon,s),this._shadow&&me(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ba)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ba(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&tt(this._icon,s),this._shadow&&tt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var h=this.options.icon.options,_=h.iconSize?le(h.iconSize):le(0,0),w=h.iconAnchor?le(h.iconAnchor):le(0,0);s.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:_.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fu(s,h){return new ti(s,h)}var Ui=fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return j(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Co=Ui.extend({options:{fill:!0,radius:10},initialize:function(s,h){j(this,h),this._latlng=ae(s),this._radius=this.options.radius},setLatLng:function(s){var h=this._latlng;return this._latlng=ae(s),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var h=s&&s.radius||this._radius;return Ui.prototype.setStyle.call(this,s),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,h=this._radiusY||s,_=this._clickTolerance(),w=[s+_,h+_];this._pxBounds=new He(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ft(s,h){return new Co(s,h)}var hr=Co.extend({initialize:function(s,h,_){if(typeof h=="number"&&(h=l({},_,{radius:h})),j(this,h),this._latlng=ae(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new St(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ui.prototype.setStyle,_project:function(){var s=this._latlng.lng,h=this._latlng.lat,_=this._map,w=_.options.crs;if(w.distance===vt.distance){var A=Math.PI/180,M=this._mRadius/vt.R/A,k=_.project([h+M,s]),Y=_.project([h-M,s]),$=k.add(Y).divideBy(2),oe=_.unproject($).lat,ve=Math.acos((Math.cos(M*A)-Math.sin(h*A)*Math.sin(oe*A))/(Math.cos(h*A)*Math.cos(oe*A)))/A;(isNaN(ve)||ve===0)&&(ve=M/Math.cos(Math.PI/180*h)),this._point=$.subtract(_.getPixelOrigin()),this._radius=isNaN(ve)?0:$.x-_.project([oe,s-ve]).x,this._radiusY=$.y-k.y}else{var Ve=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Ve).x}this._updateBounds()}});function I(s,h,_){return new hr(s,h,_)}var i=Ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,h){j(this,h),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var h=1/0,_=null,w=Uo,A,M,k=0,Y=this._parts.length;k<Y;k++)for(var $=this._parts[k],oe=1,ve=$.length;oe<ve;oe++){A=$[oe-1],M=$[oe];var Ve=w(s,A,M,!0);Ve<h&&(h=Ve,_=w(s,A,M))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,h){return h=h||this._defaultShape(),s=ae(s),h.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new St,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ei(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var h=[],_=ei(s),w=0,A=s.length;w<A;w++)_?(h[w]=ae(s[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(s[w]);return h},_project:function(){var s=new He;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),h=new te(s,s);this._rawPxBounds&&(this._pxBounds=new He([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(s,h,_){var w=s[0]instanceof it,A=s.length,M,k;if(w){for(k=[],M=0;M<A;M++)k[M]=this._map.latLngToLayerPoint(s[M]),_.extend(k[M]);h.push(k)}else for(M=0;M<A;M++)this._projectLatlngs(s[M],h,_)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,w,A,M,k,Y,$;for(_=0,A=0,M=this._rings.length;_<M;_++)for($=this._rings[_],w=0,k=$.length;w<k-1;w++)Y=vo($[w],$[w+1],s,w,!0),Y&&(h[A]=h[A]||[],h[A].push(Y[0]),(Y[1]!==$[w+1]||w===k-2)&&(h[A].push(Y[1]),A++))}},_simplifyPoints:function(){for(var s=this._parts,h=this.options.smoothFactor,_=0,w=s.length;_<w;_++)s[_]=Ht(s[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,h){var _,w,A,M,k,Y,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,M=this._parts.length;_<M;_++)for(Y=this._parts[_],w=0,k=Y.length,A=k-1;w<k;A=w++)if(!(!h&&w===0)&&Kr(s,Y[A],Y[w])<=$)return!0;return!1}});function r(s,h){return new i(s,h)}i._flat=Ns;var a=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var h=i.prototype._convertLatLngs.call(this,s),_=h.length;return _>=2&&h[0]instanceof it&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(s){i.prototype._setLatLngs.call(this,s),ei(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ei(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,h=this.options.weight,_=new te(h,h);if(s=new He(s.min.subtract(_),s.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,A=this._rings.length,M;w<A;w++)M=ld(this._rings[w],s,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var h=!1,_,w,A,M,k,Y,$,oe;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(M=0,$=this._parts.length;M<$;M++)for(_=this._parts[M],k=0,oe=_.length,Y=oe-1;k<oe;Y=k++)w=_[k],A=_[Y],w.y>s.y!=A.y>s.y&&s.x<(A.x-w.x)*(s.y-w.y)/(A.y-w.y)+w.x&&(h=!h);return h||i.prototype._containsPoint.call(this,s,!0)}});function d(s,h){return new a(s,h)}var u=Bi.extend({initialize:function(s,h){j(this,h),this._layers={},s&&this.addData(s)},addData:function(s){var h=B(s)?s:s.features,_,w,A;if(h){for(_=0,w=h.length;_<w;_++)A=h[_],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var M=this.options;if(M.filter&&!M.filter(s))return this;var k=f(s,M);return k?(k.feature=P(s),k.defaultOptions=k.options,this.resetStyle(k),M.onEachFeature&&M.onEachFeature(s,k),this.addLayer(k)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(h){this._setLayerStyle(h,s)},this)},_setLayerStyle:function(s,h){s.setStyle&&(typeof h=="function"&&(h=h(s.feature)),s.setStyle(h))}});function f(s,h){var _=s.type==="Feature"?s.geometry:s,w=_?_.coordinates:null,A=[],M=h&&h.pointToLayer,k=h&&h.coordsToLatLng||E,Y,$,oe,ve;if(!w&&!_)return null;switch(_.type){case"Point":return Y=k(w),p(M,s,Y,h);case"MultiPoint":for(oe=0,ve=w.length;oe<ve;oe++)Y=k(w[oe]),A.push(p(M,s,Y,h));return new Bi(A);case"LineString":case"MultiLineString":return $=x(w,_.type==="LineString"?0:1,k),new i($,h);case"Polygon":case"MultiPolygon":return $=x(w,_.type==="Polygon"?1:2,k),new a($,h);case"GeometryCollection":for(oe=0,ve=_.geometries.length;oe<ve;oe++){var Ve=f({geometry:_.geometries[oe],type:"Feature",properties:s.properties},h);Ve&&A.push(Ve)}return new Bi(A);case"FeatureCollection":for(oe=0,ve=_.features.length;oe<ve;oe++){var ot=f(_.features[oe],h);ot&&A.push(ot)}return new Bi(A);default:throw new Error("Invalid GeoJSON object.")}}function p(s,h,_,w){return s?s(h,_):new ti(_,w&&w.markersInheritOptions&&w)}function E(s){return new it(s[1],s[0],s[2])}function x(s,h,_){for(var w=[],A=0,M=s.length,k;A<M;A++)k=h?x(s[A],h-1,_):(_||E)(s[A]),w.push(k);return w}function S(s,h){return s=ae(s),s.alt!==void 0?[D(s.lng,h),D(s.lat,h),D(s.alt,h)]:[D(s.lng,h),D(s.lat,h)]}function b(s,h,_,w){for(var A=[],M=0,k=s.length;M<k;M++)A.push(h?b(s[M],ei(s[M])?0:h-1,_,w):S(s[M],w));return!h&&_&&A.length>0&&A.push(A[0].slice()),A}function R(s,h){return s.feature?l({},s.feature,{geometry:h}):P(h)}function P(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var U={toGeoJSON:function(s){return R(this,{type:"Point",coordinates:S(this.getLatLng(),s)})}};ti.include(U),hr.include(U),Co.include(U),i.include({toGeoJSON:function(s){var h=!ei(this._latlngs),_=b(this._latlngs,h?1:0,!1,s);return R(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),a.include({toGeoJSON:function(s){var h=!ei(this._latlngs),_=h&&!ei(this._latlngs[0]),w=b(this._latlngs,_?2:h?1:0,!0,s);return h||(w=[w]),R(this,{type:(_?"Multi":"")+"Polygon",coordinates:w})}}),to.include({toMultiPoint:function(s){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(s).geometry.coordinates)}),R(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(s){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(s);var _=h==="GeometryCollection",w=[];return this.eachLayer(function(A){if(A.toGeoJSON){var M=A.toGeoJSON(s);if(_)w.push(M.geometry);else{var k=P(M);k.type==="FeatureCollection"?w.push.apply(w,k.features):w.push(k)}}}),_?R(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function z(s,h){return new u(s,h)}var G=z,Q=fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,h,_){this._url=s,this._bounds=je(h),j(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Pt(this._image),this},bringToBack:function(){return this._map&&$n(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=je(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",h=this._image=s?this._url:ut("img");if(be(h,"leaflet-image-layer"),this._zoomAnimated&&be(h,"leaflet-zoom-animated"),this.options.className&&be(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onload=m(this.fire,this,"load"),h.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(s){var h=this._map.getZoomScale(s.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;O(this._image,_,h)},_reset:function(){var s=this._image,h=new He(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();me(s,h.min),s.style.width=_.x+"px",s.style.height=_.y+"px"},_updateOpacity:function(){tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),de=function(s,h,_){return new Q(s,h,_)},ue=Q.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",h=this._image=s?this._url:ut("video");if(be(h,"leaflet-image-layer"),this._zoomAnimated&&be(h,"leaflet-zoom-animated"),this.options.className&&be(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onloadeddata=m(this.fire,this,"load"),s){for(var _=h.getElementsByTagName("source"),w=[],A=0;A<_.length;A++)w.push(_[A].src);this._url=_.length>0?w:[h.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var k=ut("source");k.src=this._url[M],h.appendChild(k)}}});function se(s,h,_){return new ue(s,h,_)}var nt=Q.extend({_initImage:function(){var s=this._image=this._url;be(s,"leaflet-image-layer"),this._zoomAnimated&&be(s,"leaflet-zoom-animated"),this.options.className&&be(s,this.options.className),s.onselectstart=T,s.onmousemove=T}});function Qe(s,h,_){return new nt(s,h,_)}var Wt=fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,h){s&&(s instanceof it||B(s))?(this._latlng=ae(s),j(this,h)):(j(this,s),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&tt(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(tt(this._container,0),this._removeTimeout=setTimeout(m(Rt,void 0,this._container),200)):Rt(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ae(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pt(this._container),this},bringToBack:function(){return this._map&&$n(this._container),this},_prepareOpen:function(s){var h=this._source;if(!h._map)return!1;if(h instanceof Bi){h=null;var _=this._source._layers;for(var w in _)if(_[w]._map){h=_[w];break}if(!h)return!1;this._source=h}if(!s)if(h.getCenter)s=h.getCenter();else if(h.getLatLng)s=h.getLatLng();else if(h.getBounds)s=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")s.innerHTML=h;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),h=le(this.options.offset),_=this._getAnchor();this._zoomAnimated?me(this._container,s.add(_)):h=h.add(s).add(_);var w=this._containerBottom=-h.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(s,h,_,w){var A=h;return A instanceof s||(A=new s(w).setContent(h)),_&&A.setLatLng(_),A}}),fn.include({_initOverlay:function(s,h,_,w){var A=_;return A instanceof s?(j(A,w),A._source=this):(A=h&&!w?h:new s(w,this),A.setContent(_)),A}});var zn=Wt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Wt.prototype.openOn.call(this,s)},onAdd:function(s){Wt.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ui||this._source.on("preclick",$i))},onRemove:function(s){Wt.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ui||this._source.off("preclick",$i))},getEvents:function(){var s=Wt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",h=this._container=ut("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=ut("div",s+"-content-wrapper",h);if(this._contentNode=ut("div",s+"-content",_),Ei(h),As(this._contentNode),Ge(h,"contextmenu",$i),this._tipContainer=ut("div",s+"-tip-container",h),this._tip=ut("div",s+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ut("a",s+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(w,"click",function(A){_n(A),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,h=s.style;h.width="",h.whiteSpace="nowrap";var _=s.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var w=s.offsetHeight,A=this.options.maxHeight,M="leaflet-popup-scrolled";A&&w>A?(h.height=A+"px",be(s,M)):wt(s,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),_=this._getAnchor();me(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,h=parseInt(et(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,w=this._containerWidth,A=new te(this._containerLeft,-_-this._containerBottom);A._add(Ft(this._container));var M=s.layerPointToContainerPoint(A),k=le(this.options.autoPanPadding),Y=le(this.options.autoPanPaddingTopLeft||k),$=le(this.options.autoPanPaddingBottomRight||k),oe=s.getSize(),ve=0,Ve=0;M.x+w+$.x>oe.x&&(ve=M.x+w-oe.x+$.x),M.x-ve-Y.x<0&&(ve=M.x-Y.x),M.y+_+$.y>oe.y&&(Ve=M.y+_-oe.y+$.y),M.y-Ve-Y.y<0&&(Ve=M.y-Y.y),(ve||Ve)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ve,Ve]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Hn=function(s,h){return new zn(s,h)};at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(s,h,_){return this._initOverlay(zn,s,h,_).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),fn.include({bindPopup:function(s,h){return this._popup=this._initOverlay(zn,this._popup,s,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){yi(s);var h=s.layer||s.target;if(this._popup._source===h&&!(h instanceof Ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=h,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var yt=Wt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Wt.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Wt.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Wt.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",h=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+C(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var h,_,w=this._map,A=this._container,M=w.latLngToContainerPoint(w.getCenter()),k=w.layerPointToContainerPoint(s),Y=this.options.direction,$=A.offsetWidth,oe=A.offsetHeight,ve=le(this.options.offset),Ve=this._getAnchor();Y==="top"?(h=$/2,_=oe):Y==="bottom"?(h=$/2,_=0):Y==="center"?(h=$/2,_=oe/2):Y==="right"?(h=0,_=oe/2):Y==="left"?(h=$,_=oe/2):k.x<M.x?(Y="right",h=0,_=oe/2):(Y="left",h=$+(ve.x+Ve.x)*2,_=oe/2),s=s.subtract(le(h,_,!0)).add(ve).add(Ve),wt(A,"leaflet-tooltip-right"),wt(A,"leaflet-tooltip-left"),wt(A,"leaflet-tooltip-top"),wt(A,"leaflet-tooltip-bottom"),be(A,"leaflet-tooltip-"+Y),me(A,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&tt(this._container,s)},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(h)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yn=function(s,h){return new yt(s,h)};at.include({openTooltip:function(s,h,_){return this._initOverlay(yt,s,h,_).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),fn.include({bindTooltip:function(s,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yt,this._tooltip,s,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var h=s?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var h=typeof s.getElement=="function"&&s.getElement();h&&(Ge(h,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ge(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var h=typeof s.getElement=="function"&&s.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var h=s.latlng,_,w;this._tooltip.options.sticky&&s.originalEvent&&(_=this._map.mouseEventToContainerPoint(s.originalEvent),w=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Wn=ur.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var h=s&&s.tagName==="DIV"?s:document.createElement("div"),_=this.options;if(_.html instanceof Element?(sr(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var w=le(_.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function fr(s){return new Wn(s)}ur.Default=qr;var zi=fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){j(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Rt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof te?s:new te(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var h=this.getPane().children,_=-s(-1/0,1/0),w=0,A=h.length,M;w<A;w++)M=h[w].style.zIndex,h[w]!==this._container&&M&&(_=s(_,+M));isFinite(_)&&(this.options.zIndex=_+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){tt(this._container,this.options.opacity);var s=+new Date,h=!1,_=!1;for(var w in this._tiles){var A=this._tiles[w];if(!(!A.current||!A.loaded)){var M=Math.min(1,(s-A.loaded)/200);tt(A.el,M),M<1?h=!0:(A.active?_=!0:this._onOpaqueTile(A),A.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(ye(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,h=this.options.maxZoom;if(s!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===s?(this._levels[_].el.style.zIndex=h-Math.abs(s-_),this._onUpdateLevel(_)):(Rt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var w=this._levels[s],A=this._map;return w||(w=this._levels[s]={},w.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=A.project(A.unproject(A.getPixelOrigin()),s).round(),w.zoom=s,this._setZoomTransform(w,A.getCenter(),A.getZoom()),T(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var s,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)h=this._tiles[s],h.retain=h.current;for(s in this._tiles)if(h=this._tiles[s],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var h in this._tiles)this._tiles[h].coords.z===s&&this._removeTile(h)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Rt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,h,_,w){var A=Math.floor(s/2),M=Math.floor(h/2),k=_-1,Y=new te(+A,+M);Y.z=+k;var $=this._tileCoordsToKey(Y),oe=this._tiles[$];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),k>w?this._retainParent(A,M,k,w):!1)},_retainChildren:function(s,h,_,w){for(var A=2*s;A<2*s+2;A++)for(var M=2*h;M<2*h+2;M++){var k=new te(A,M);k.z=_+1;var Y=this._tileCoordsToKey(k),$=this._tiles[Y];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);_+1<w&&this._retainChildren(A,M,_+1,w)}},_resetView:function(s){var h=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var h=this.options;return h.minNativeZoom!==void 0&&s<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<s?h.maxNativeZoom:s},_setView:function(s,h,_,w){var A=Math.round(h);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var M=this.options.updateWhenZooming&&A!==this._tileZoom;(!w||M)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(s),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(s,h)},_setZoomTransforms:function(s,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],s,h)},_setZoomTransform:function(s,h,_){var w=this._map.getZoomScale(_,s.zoom),A=s.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,_)).round();Te.any3d?O(s.el,A,w):me(s.el,A)},_resetGrid:function(){var s=this._map,h=s.options.crs,_=this._tileSize=this.getTileSize(),w=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,h.wrapLng[0]],w).x/_.x),Math.ceil(s.project([0,h.wrapLng[1]],w).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([h.wrapLat[0],0],w).y/_.x),Math.ceil(s.project([h.wrapLat[1],0],w).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(_,this._tileZoom),A=h.project(s,this._tileZoom).floor(),M=h.getSize().divideBy(w*2);return new He(A.subtract(M),A.add(M))},_update:function(s){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(s===void 0&&(s=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(s),A=this._pxBoundsToTileRange(w),M=A.getCenter(),k=[],Y=this.options.keepBuffer,$=new He(A.getBottomLeft().subtract([Y,-Y]),A.getTopRight().add([Y,-Y]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var ve=this._tiles[oe].coords;(ve.z!==this._tileZoom||!$.contains(new te(ve.x,ve.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(s,_);return}for(var Ve=A.min.y;Ve<=A.max.y;Ve++)for(var ot=A.min.x;ot<=A.max.x;ot++){var ni=new te(ot,Ve);if(ni.z=this._tileZoom,!!this._isValidTile(ni)){var Nn=this._tiles[this._tileCoordsToKey(ni)];Nn?Nn.current=!0:k.push(ni)}}if(k.sort(function(li,Rs){return li.distanceTo(M)-Rs.distanceTo(M)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Hi=document.createDocumentFragment();for(ot=0;ot<k.length;ot++)this._addTile(k[ot],Hi);this._level.el.appendChild(Hi)}}}},_isValidTile:function(s){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(s.x<_.min.x||s.x>_.max.x)||!h.wrapLat&&(s.y<_.min.y||s.y>_.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(s);return je(this.options.bounds).overlaps(w)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var h=this._map,_=this.getTileSize(),w=s.scaleBy(_),A=w.add(_),M=h.unproject(w,s.z),k=h.unproject(A,s.z);return[M,k]},_tileCoordsToBounds:function(s){var h=this._tileCoordsToNwSe(s),_=new St(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var h=s.split(":"),_=new te(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(s){var h=this._tiles[s];h&&(Rt(h.el),delete this._tiles[s],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){be(s,"leaflet-tile");var h=this.getTileSize();s.style.width=h.x+"px",s.style.height=h.y+"px",s.onselectstart=T,s.onmousemove=T,Te.ielt9&&this.options.opacity<1&&tt(s,this.options.opacity)},_addTile:function(s,h){var _=this._getTilePos(s),w=this._tileCoordsToKey(s),A=this.createTile(this._wrapCoords(s),m(this._tileReady,this,s));this._initTile(A),this.createTile.length<2&&Pe(m(this._tileReady,this,s,null,A)),me(A,_),this._tiles[w]={el:A,coords:s,current:!0},h.appendChild(A),this.fire("tileloadstart",{tile:A,coords:s})},_tileReady:function(s,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:s});var w=this._tileCoordsToKey(s);_=this._tiles[w],_&&(_.loaded=+new Date,this._map._fadeAnimated?(tt(_.el,0),ye(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(be(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?Pe(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var h=new te(this._wrapX?N(s.x,this._wrapX):s.x,this._wrapY?N(s.y,this._wrapY):s.y);return h.z=s.z,h},_pxBoundsToTileRange:function(s){var h=this.getTileSize();return new He(s.min.unscaleBy(h).floor(),s.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function gu(s){return new zi(s)}var gr=zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,h){this._url=s,h=j(this,h),h.detectRetina&&Te.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,h){return this._url===s&&h===void 0&&(h=!0),this._url=s,h||this.redraw(),this},createTile:function(s,h){var _=document.createElement("img");return Ge(_,"load",m(this._tileOnLoad,this,h,_)),Ge(_,"error",m(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(s),_},getTileUrl:function(s){var h={r:Te.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-s.y;this.options.tms&&(h.y=_),h["-y"]=_}return F(this._url,l(h,this.options))},_tileOnLoad:function(s,h){Te.ielt9?setTimeout(m(s,this,null,h),0):s(null,h)},_tileOnError:function(s,h,_){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),s(_,h)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,w=this.options.zoomOffset;return _&&(s=h-s),s+w},_getSubdomain:function(s){var h=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var s,h;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(h=this._tiles[s].el,h.onload=T,h.onerror=T,!h.complete)){h.src=pe;var _=this._tiles[s].coords;Rt(h),delete this._tiles[s],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(s){var h=this._tiles[s];if(h)return h.el.setAttribute("src",pe),zi.prototype._removeTile.call(this,s)},_tileReady:function(s,h,_){if(!(!this._map||_&&_.getAttribute("src")===pe))return zi.prototype._tileReady.call(this,s,h,_)}});function Xf(s,h){return new gr(s,h)}var Qf=gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,h){this._url=s;var _=l({},this.defaultWmsParams);for(var w in h)w in this.options||(_[w]=h[w]);h=j(this,h);var A=h.detectRetina&&Te.retina?2:1,M=this.getTileSize();_.width=M.x*A,_.height=M.y*A,this.wmsParams=_},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,gr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var h=this._tileCoordsToNwSe(s),_=this._crs,w=ze(_.project(h[0]),_.project(h[1])),A=w.min,M=w.max,k=(this._wmsVersion>=1.3&&this._crs===cr?[A.y,A.x,M.y,M.x]:[A.x,A.y,M.x,M.y]).join(","),Y=gr.prototype.getTileUrl.call(this,s);return Y+_e(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(s,h){return l(this.wmsParams,s),h||this.redraw(),this}});function L3(s,h){return new Qf(s,h)}gr.WMS=Qf,Xf.wms=L3;var zo=fn.extend({options:{padding:.1},initialize:function(s){j(this,s),C(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,h){var _=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,h),M=w.multiplyBy(-_).add(A).subtract(this._map._getNewPixelOrigin(s,h));Te.any3d?O(this._container,M,_):me(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-s)).round();this._bounds=new He(_,_.add(h.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kf=zo.extend({options:{tolerance:0},getEvents:function(){var s=zo.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ge(s,"mousemove",this._onMouseMove,this),Ge(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ye(this._redrawRequest),delete this._ctx,Rt(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var h in this._layers)s=this._layers[h],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zo.prototype._update.call(this);var s=this._bounds,h=this._container,_=s.getSize(),w=Te.retina?2:1;me(h,s.min),h.width=w*_.x,h.height=w*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[C(s)]=s;var h=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var h=s._order,_=h.next,w=h.prev;_?_.prev=w:this._drawLast=w,w?w.next=_:this._drawFirst=_,delete s._order,delete this._layers[C(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var h=s.options.dashArray.split(/[, ]+/),_=[],w,A;for(A=0;A<h.length;A++){if(w=Number(h[A]),isNaN(w))return;_.push(w)}s.options._dashArray=_}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Pe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var h=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new He,this._redrawBounds.extend(s._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(s._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var h=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)s=w.layer,(!h||s._pxBounds&&s._pxBounds.intersects(h))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,h){if(this._drawing){var _,w,A,M,k=s._parts,Y=k.length,$=this._ctx;if(Y){for($.beginPath(),_=0;_<Y;_++){for(w=0,A=k[_].length;w<A;w++)M=k[_][w],$[w?"lineTo":"moveTo"](M.x,M.y);h&&$.closePath()}this._fillStroke($,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var h=s._point,_=this._ctx,w=Math.max(Math.round(s._radius),1),A=(Math.max(Math.round(s._radiusY),1)||w)/w;A!==1&&(_.save(),_.scale(1,A)),_.beginPath(),_.arc(h.x,h.y/A,w,0,Math.PI*2,!1),A!==1&&_.restore(),this._fillStroke(_,s)}},_fillStroke:function(s,h){var _=h.options;_.fill&&(s.globalAlpha=_.fillOpacity,s.fillStyle=_.fillColor||_.color,s.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(s.setLineDash&&s.setLineDash(h.options&&h.options._dashArray||[]),s.globalAlpha=_.opacity,s.lineWidth=_.weight,s.strokeStyle=_.color,s.lineCap=_.lineCap,s.lineJoin=_.lineJoin,s.stroke())},_onClick:function(s){for(var h=this._map.mouseEventToLayerPoint(s),_,w,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(h)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(_))&&(w=_);this._fireEvent(w?[w]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,h)}},_handleMouseOut:function(s){var h=this._hoveredLayer;h&&(wt(this._container,"leaflet-interactive"),this._fireEvent([h],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,h){if(!this._mouseHoverThrottled){for(var _,w,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(h)&&(w=_);w!==this._hoveredLayer&&(this._handleMouseOut(s),w&&(be(this._container,"leaflet-interactive"),this._fireEvent([w],s,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,h,_){this._map._fireDOMEvent(h,_||h.type,s)},_bringToFront:function(s){var h=s._order;if(h){var _=h.next,w=h.prev;if(_)_.prev=w;else return;w?w.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(s)}},_bringToBack:function(s){var h=s._order;if(h){var _=h.next,w=h.prev;if(w)w.next=_;else return;_?_.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(s)}}});function qf(s){return Te.canvas?new Kf(s):null}var ka=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),O3={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zo.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var h=s._container=ka("shape");be(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",s._path=ka("path"),h.appendChild(s._path),this._updateStyle(s),this._layers[C(s)]=s},_addPath:function(s){var h=s._container;this._container.appendChild(h),s.options.interactive&&s.addInteractiveTarget(h)},_removePath:function(s){var h=s._container;Rt(h),s.removeInteractiveTarget(h),delete this._layers[C(s)]},_updateStyle:function(s){var h=s._stroke,_=s._fill,w=s.options,A=s._container;A.stroked=!!w.stroke,A.filled=!!w.fill,w.stroke?(h||(h=s._stroke=ka("stroke")),A.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=B(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(A.removeChild(h),s._stroke=null),w.fill?(_||(_=s._fill=ka("fill")),A.appendChild(_),_.color=w.fillColor||w.color,_.opacity=w.fillOpacity):_&&(A.removeChild(_),s._fill=null)},_updateCircle:function(s){var h=s._point.round(),_=Math.round(s._radius),w=Math.round(s._radiusY||_);this._setPath(s,s._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+w+" 0,"+65535*360)},_setPath:function(s,h){s._path.v=h},_bringToFront:function(s){Pt(s._container)},_bringToBack:function(s){$n(s._container)}},cd=Te.vml?ka:Kn,Ua=zo.extend({_initContainer:function(){this._container=cd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Rt(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zo.prototype._update.call(this);var s=this._bounds,h=s.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),me(_,s.min),_.setAttribute("viewBox",[s.min.x,s.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(s){var h=s._path=cd("path");s.options.className&&be(h,s.options.className),s.options.interactive&&be(h,"leaflet-interactive"),this._updateStyle(s),this._layers[C(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Rt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[C(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var h=s._path,_=s.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(s,h){this._setPath(s,_o(s._parts,h))},_updateCircle:function(s){var h=s._point,_=Math.max(Math.round(s._radius),1),w=Math.max(Math.round(s._radiusY),1)||_,A="a"+_+","+w+" 0 1,0 ",M=s._empty()?"M0 0":"M"+(h.x-_)+","+h.y+A+_*2+",0 "+A+-_*2+",0 ";this._setPath(s,M)},_setPath:function(s,h){s._path.setAttribute("d",h)},_bringToFront:function(s){Pt(s._path)},_bringToBack:function(s){$n(s._path)}});Te.vml&&Ua.include(O3);function $f(s){return Te.svg||Te.vml?new Ua(s):null}at.include({getRenderer:function(s){var h=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var h=this._paneRenderers[s];return h===void 0&&(h=this._createRenderer({pane:s}),this._paneRenderers[s]=h),h},_createRenderer:function(s){return this.options.preferCanvas&&qf(s)||$f(s)}});var Jf=a.extend({initialize:function(s,h){a.prototype.initialize.call(this,this._boundsToLatLngs(s),h)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=je(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function D3(s,h){return new Jf(s,h)}Ua.create=cd,Ua.pointsToPath=_o,u.geometryToLayer=f,u.coordsToLatLng=E,u.coordsToLatLngs=x,u.latLngToCoords=S,u.latLngsToCoords=b,u.getFeature=R,u.asFeature=P,at.mergeOptions({boxZoom:!0});var e0=Jn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),In(),Le(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ge(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var h=new He(this._point,this._startPoint),_=h.getSize();me(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Rt(this._box),wt(this._container,"leaflet-crosshair")),Gr(),Mt(),Ee(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var h=new St(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",e0),at.mergeOptions({doubleClickZoom:!0});var t0=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var h=this._map,_=h.getZoom(),w=h.options.zoomDelta,A=s.originalEvent.shiftKey?_-w:_+w;h.options.doubleClickZoom==="center"?h.setZoom(A):h.setZoomAround(s.containerPoint,A)}});at.addInitHook("addHandler","doubleClickZoom",t0),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var n0=Jn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xo(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=je(this._map.options.maxBounds);this._offsetLimit=ze(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,h){return s-(s-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;s.x<h.min.x&&(s.x=this._viscousLimit(s.x,h.min.x)),s.y<h.min.y&&(s.y=this._viscousLimit(s.y,h.min.y)),s.x>h.max.x&&(s.x=this._viscousLimit(s.x,h.max.x)),s.y>h.max.y&&(s.y=this._viscousLimit(s.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,h=Math.round(s/2),_=this._initialWorldOffset,w=this._draggable._newPos.x,A=(w-h+_)%s+h-_,M=(w+h+_)%s-h-_,k=Math.abs(A+_)<Math.abs(M+_)?A:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(s){var h=this._map,_=h.options,w=!_.inertia||s.noInertia||this._times.length<2;if(h.fire("dragend",s),w)h.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,k=_.easeLinearity,Y=A.multiplyBy(k/M),$=Y.distanceTo([0,0]),oe=Math.min(_.inertiaMaxSpeed,$),ve=Y.multiplyBy(oe/$),Ve=oe/(_.inertiaDeceleration*k),ot=ve.multiplyBy(-Ve/2).round();!ot.x&&!ot.y?h.fire("moveend"):(ot=h._limitOffset(ot,h.options.maxBounds),Pe(function(){h.panBy(ot,{duration:Ve,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});at.addInitHook("addHandler","dragging",n0),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var i0=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ge(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,h=document.documentElement,_=s.scrollTop||h.scrollTop,w=s.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var h=this._panKeys={},_=this.keyCodes,w,A;for(w=0,A=_.left.length;w<A;w++)h[_.left[w]]=[-1*s,0];for(w=0,A=_.right.length;w<A;w++)h[_.right[w]]=[s,0];for(w=0,A=_.down.length;w<A;w++)h[_.down[w]]=[0,s];for(w=0,A=_.up.length;w<A;w++)h[_.up[w]]=[0,-1*s]},_setZoomDelta:function(s){var h=this._zoomKeys={},_=this.keyCodes,w,A;for(w=0,A=_.zoomIn.length;w<A;w++)h[_.zoomIn[w]]=s;for(w=0,A=_.zoomOut.length;w<A;w++)h[_.zoomOut[w]]=-s},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var h=s.keyCode,_=this._map,w;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(w=this._panKeys[h],s.shiftKey&&(w=le(w).multiplyBy(3)),_.options.maxBounds&&(w=_._limitOffset(le(w),_.options.maxBounds)),_.options.worldCopyJump){var A=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(w)));_.panTo(A)}else _.panBy(w)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;yi(s)}}});at.addInitHook("addHandler","keyboard",i0),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var o0=Jn.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var h=dr(s),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var w=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),w),yi(s)},_performZoom:function(){var s=this._map,h=s.getZoom(),_=this._map.options.zoomSnap||0;s._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,M=_?Math.ceil(A/_)*_:A,k=s._limitZoom(h+(this._delta>0?M:-M))-h;this._delta=0,this._startTime=null,k&&(s.options.scrollWheelZoom==="center"?s.setZoom(h+k):s.setZoomAround(this._lastMousePos,h+k))}});at.addInitHook("addHandler","scrollWheelZoom",o0);var P3=600;at.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var r0=Jn.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var h=s.touches[0];this._startPos=this._newPos=new te(h.clientX,h.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",_n),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),P3),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ee(document,"touchend",_n),Ee(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(s){var h=s.touches[0];this._newPos=new te(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,h){var _=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});at.addInitHook("addHandler","tapHold",r0),at.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var s0=Jn.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var h=this._map;if(!(!s.touches||s.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(s.touches[0]),w=h.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(w)._divideBy(2))),this._startDist=_.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),_n(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(s.touches[0]),w=h.mouseEventToContainerPoint(s.touches[1]),A=_.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(A,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&A<1||this._zoom>h.getMaxZoom()&&A>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var M=_._add(w)._divideBy(2)._subtract(this._centerPoint);if(A===1&&M.x===0&&M.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),ye(this._animRequest);var k=m(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pe(k,this,!0),_n(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ye(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});at.addInitHook("addHandler","touchZoom",s0),at.BoxZoom=e0,at.DoubleClickZoom=t0,at.Drag=n0,at.Keyboard=i0,at.ScrollWheelZoom=o0,at.TapHold=r0,at.TouchZoom=s0,n.Bounds=He,n.Browser=Te,n.CRS=cn,n.Canvas=Kf,n.Circle=hr,n.CircleMarker=Co,n.Class=Ie,n.Control=xi,n.DivIcon=Wn,n.DivOverlay=Wt,n.DomEvent=Un,n.DomUtil=hn,n.Draggable=xo,n.Evented=Be,n.FeatureGroup=Bi,n.GeoJSON=u,n.GridLayer=zi,n.Handler=Jn,n.Icon=ur,n.ImageOverlay=Q,n.LatLng=it,n.LatLngBounds=St,n.Layer=fn,n.LayerGroup=to,n.LineUtil=dd,n.Map=at,n.Marker=ti,n.Mixin=sd,n.Path=Ui,n.Point=te,n.PolyUtil=La,n.Polygon=a,n.Polyline=i,n.Popup=zn,n.PosAnimation=Ma,n.Projection=Pa,n.Rectangle=Jf,n.Renderer=zo,n.SVG=Ua,n.SVGOverlay=nt,n.TileLayer=gr,n.Tooltip=yt,n.Transformation=an,n.Util=Ue,n.VideoOverlay=ue,n.bind=m,n.bounds=ze,n.canvas=qf,n.circle=I,n.circleMarker=ft,n.control=Qr,n.divIcon=fr,n.extend=l,n.featureGroup=ki,n.geoJSON=z,n.geoJson=G,n.gridLayer=gu,n.icon=Fa,n.imageOverlay=de,n.latLng=ae,n.latLngBounds=je,n.layerGroup=ai,n.map=od,n.marker=fu,n.point=le,n.polygon=d,n.polyline=r,n.popup=Hn,n.rectangle=D3,n.setOptions=j,n.stamp=C,n.svg=$f,n.svgOverlay=Qe,n.tileLayer=Xf,n.tooltip=yn,n.transformation=Mi,n.version=o,n.videoOverlay=se;var F3=window.L;n.noConflict=function(){return window.L=F3,this},window.L=n})})(Qh,Qh.exports);var S4=Qh.exports;const Gn=Lc(S4);class A4{constructor(e){this.V=e,this.adj=new Array(e).fill().map(()=>[]),this.parent=new Array(e).fill(-1),this.nodeCategories=new Array(e).fill("default"),this.nodeBuilding=new Array(e).fill(""),this.arrayPath=[]}addEdge(e,n,o){this.adj[e].push([n,o]),this.adj[n].push([e,o])}setNodeCategory(e,n){this.nodeCategories[e]=n}setNodeBuilding(e,n){this.nodeBuilding[e]=n}findClosestCategory(e,n,o,l){const c=new Array(this.V).fill(Number.POSITIVE_INFINITY),m=new Set;for(m.add([0,e]),c[e]=0;m.size>0;){const y=[...m].reduce((T,D)=>T[0]<D[0]?T:D);m.delete(y);const N=y[1];for(const[T,D]of this.adj[N])!o&&this.nodeCategories[T]==="elevator"||!l&&this.nodeCategories[Qc]==="emergencyExit"||c[T]>c[N]+D&&(c[T]!==Number.POSITIVE_INFINITY&&m.delete([c[T],T]),c[T]=c[N]+D,m.add([c[T],T]),this.parent[T]=N)}let v=-1,C=Number.POSITIVE_INFINITY;for(let y=0;y<this.V;y++)c[y]<C&&this.nodeCategories[y]===n&&(C=c[y],v=y);return C!==Number.POSITIVE_INFINITY?(console.log(`Closest Node of Category ${n} from Room ${e} is Room ${v} at a distance of ${C}.`),console.log("Path: "),this.printPath(v),console.log("Array Path:",this.arrayPath)):console.log(`No node of Category ${n} found from Room ${e}`),[C,v]}printPath(e){if(this.arrayPath=[],console.log(`Current Node: ${e}`),e===-1){console.log("Terminating recursion");return}this.printPath(this.parent[e]),console.log(`${e} -> `),this.arrayPath.push(Number(e))}shortestPath(e,n,o,l){const c=new Array(this.V).fill(Number.POSITIVE_INFINITY),m=new Set;for(m.add([0,e]),c[e]=0;m.size>0;){const v=[...m].reduce((y,N)=>y[0]<N[0]?y:N);m.delete(v);const C=v[1];for(const[y,N]of this.adj[C])!l&&this.nodeCategories[y]==="emergencyExit"||!o&&this.nodeCategories[y]==="elevator"||c[y]>c[C]+N&&(c[y]!==Number.POSITIVE_INFINITY&&m.delete([c[y],y]),c[y]=c[C]+N,m.add([c[y],y]),this.parent[y]=C)}c[n]===Number.POSITIVE_INFINITY?console.log(`No node found at Room ${n} from Room ${e}`):(console.log(`Room ${n} from Room ${e} is ${c[n]} units away.`),console.log("Path: "),this.printPath(n))}}function xg(t,e,n,o,l){if(console.log("Wlaa: ",e,n),g.parent=new Array(Qc).fill(-1),g.arrayPath=[],t==="enterDestination")return g.shortestPath(e,n,o,l),g.arrayPath;if(t==="enterFindFacility")return g.findClosestCategory(e,n,o,l),g.arrayPath}function vg(t,e,n,o,l){if(g.parent=new Array(Qc).fill(-1),g.arrayPath=[],t==="enterDestination")return g.shortestPath(e,n,o,l),g.nodeBuilding[g.arrayPath[0]];if(t==="enterFindFacility")return g.findClosestCategory(e,n,o,l),g.nodeBuilding[g.arrayPath[0]]}const Qc=1e4,g=new A4(Qc);g.setNodeCategory(378,"CR(MEN)");g.setNodeCategory(379,"CR(WOMEN)");g.setNodeCategory(381,"Logistic Management Office");g.setNodeCategory(400,"Student Lounge");g.setNodeCategory(5,"CTE Faculty Office");g.setNodeCategory(4,"CTE Dean Office");g.setNodeCategory(46,"CR(MEN)");g.setNodeCategory(47,"CR(WOMEN)");g.setNodeCategory(15,"Student Dev&Welfare Office");g.setNodeCategory(56,"CR(WOMEN)");g.setNodeCategory(1,"CEA Faculty Office");g.setNodeCategory(530,"CR(WOMEN)");g.setNodeCategory(531,"CR(MEN)");g.setNodeCategory(515,"ITSS/MIS");g.setNodeCategory(507,"Research Service Office");g.setNodeCategory(483,"ETEEAP");g.setNodeCategory(543,"Creative Production Office");g.setNodeCategory(547,"LMO Storage Room");g.setNodeCategory(551,"Female Shower/Dressing Room");g.setNodeCategory(555,"Male Shower/Dressing Room");g.setNodeCategory(557,"CR(MEN)");g.setNodeCategory(504,"Firing Range");g.setNodeCategory(498,"Crime Scene Lab");g.setNodeCategory(496,"Phychological Testing Unit");g.setNodeCategory(494,"The Alternatives");g.setNodeCategory(492,"University Student Council");g.setNodeCategory(559,"Wellness Center");g.setNodeCategory(487,"Gymnasium");g.setNodeCategory(619,"Office of Quality Assurance");g.setNodeCategory(617,"Office of Student Affairs & Services");g.setNodeCategory(648,"CR(WOMEN)");g.setNodeCategory(676,"CR(WOMEN)");g.setNodeCategory(678,"CR(MEN)");g.setNodeCategory(665,"CR(WOMEN)");g.setNodeCategory(664,"CR(MEN)");g.setNodeCategory(657,"Architecture & Fine Arts Extension Office");g.setNodeCategory(921,"CR(WOMEN)");g.setNodeCategory(923,"CR(MEN)");g.setNodeCategory(911,"Office of Student Walfare Service");g.setNodeCategory(967,"Academic Director Office & Faculty Office");g.setNodeCategory(822,"CR(WOMEN)");g.setNodeCategory(821,"CR(MEN)");g.setNodeCategory(830,"Dental Clinic");g.setNodeCategory(808,"COA Consultation");g.setNodeCategory(804,"COA Faculty Office");g.setNodeCategory(806,"COA Faculty Extension Office");g.setNodeCategory(862,"Building & Maintenance Office");g.setNodeCategory(825,"Simulation Room");g.setNodeCategory(758,"CITCS Faculty Office");g.setNodeCategory(754,"Multi-Media Room");g.setNodeCategory(771,"CR(WOMEN)");g.setNodeCategory(769,"CR(MEN)");g.setNodeCategory(728,"CR(WOMEN)");g.setNodeCategory(729,"CR(MEN)");g.setNodeCategory(725,"Disbursing Office");g.setNodeCategory(720,"Accounting Office");g.setNodeCategory(716,"Vice-President for Administration Office");g.setNodeCategory(705,"BOT-HQ");g.setNodeCategory(714,"Registrar");g.setNodeCategory(722,"EVP Office");g.setNodeCategory(724,"President Office");g.setNodeCategory(1007,"Main Library");g.setNodeCategory(1014,"Marketing Communications & Enrollment");g.setNodeCategory(1015,"Human Resources dev. Office");g.setNodeCategory(1018,"Legal Office");g.setNodeCategory(1084,"Theater");g.setNodeCategory(1236,"CR(WOMEN)");g.setNodeCategory(1241,"CR(MEN)");g.setNodeCategory(1231,"CYPRESS");g.setNodeCategory(1230,"CITCS Open Lab");g.setNodeCategory(1118,"CR(WOMEN)");g.setNodeCategory(1127,"CR(MEN)");g.setNodeCategory(1109,"CAS Faculty Office");g.setNodeCategory(1112,"CAS Dean Office");g.setNodeCategory(1114,"Cashier");g.setNodeCategory(1103,"Regiatrar Extension");g.setNodeCategory(1132,"Alumni Office");g.setNodeCategory(1134,"Medical Clinic");g.setNodeCategory(1140,"Occupational Safety & Health Office");g.setNodeCategory(1148,"TRIBU");g.setNodeCategory(1144,"CR(MEN)");g.setNodeCategory(1146,"Vice-President for Academic & Research");g.setNodeCategory(1162,"CR(WOMEN)");g.setNodeCategory(1183,"CR(MEN)");g.setNodeCategory(1200,"CR(WOMEN)");g.setNodeCategory(1170,"CON Faculty Office");g.setNodeCategory(1172,"Graduate Program Library/Theses and Dissertations");g.setNodeCategory(1278,"CR(WOMEN)");g.setNodeCategory(1283,"CR(MEN)");g.setNodeCategory(1291,"Web & Graphics");g.setNodeCategory(1292,"Public Affairs Office");g.setNodeCategory(1348,"CR(WOMEN)");g.setNodeCategory(1355,"CR(MEN)");g.setNodeCategory(1349,"KAPATIRAN");g.setNodeCategory(1350,"CON Cosultation Room");g.setNodeCategory(1373,"CR(WOMEN)");g.setNodeCategory(1421,"CR(WOMEN)");g.setNodeCategory(1432,"CR(MEN)");g.setNodeCategory(1415,"Health Center");g.setNodeCategory(1445,"CHTM Faculty Office");g.setNodeCategory(1448,"CBA Admin Staff/Faculty Office");g.setNodeCategory(1451,"CBA Consultation Room");g.setNodeCategory(1449,"CBA Dean Office");g.setNodeCategory(1456,"CR(WOMEN)");g.setNodeCategory(1509,"CR(WOMEN)");g.setNodeCategory(1508,"CR(MEN)");g.setNodeCategory(1504,"Sanctuary");g.setNodeCategory(1503,"Auditorium");g.setNodeCategory(1603,"Canao Hall");g.setNodeCategory(135,"MassCom E-Laboratory");g.setNodeCategory(141,"CR(WOMEN)");g.setNodeCategory(111,"CR(MEN)");g.setNodeCategory(164,"CR(WOMEN)");g.setNodeCategory(160,"CITCS Multi-Media Room");g.setNodeCategory(191,"CR(MEN)");g.setNodeCategory(226,"CR(WOMEN)");g.setNodeCategory(220,"General Collection Library");g.setNodeCategory(241,"CR(MEN)");g.setNodeCategory(245,"COL Faculty Office");g.setNodeCategory(242,"COL Library");g.setNodeCategory(268,"CR(WOMEN)");g.setNodeCategory(293,"CR(MEN)");g.setNodeCategory(318,"CR(WOMEN)");g.setNodeCategory(1061,"CR(MEN)");g.addEdge(393,466,1);g.addEdge(420,347,1);g.addEdge(420,421,1);g.addEdge(422,421,1);g.addEdge(422,425,1);g.addEdge(424,425,1);g.addEdge(426,425,1);g.addEdge(426,427,1);g.addEdge(426,428,1);g.addEdge(429,428,1);g.addEdge(430,428,1);g.addEdge(430,431,1);g.addEdge(430,432,1);g.addEdge(430,433,1);g.addEdge(434,433,1);g.addEdge(435,433,1);g.addEdge(436,433,1);g.addEdge(436,437,1);g.addEdge(436,438,1);g.addEdge(439,438,1);g.addEdge(440,438,1);g.addEdge(440,441,1);g.addEdge(440,442,1);g.addEdge(443,442,1);g.addEdge(442,444,1);g.addEdge(445,444,1);g.addEdge(446,444,1);g.addEdge(446,447,1);g.addEdge(446,448,1);g.addEdge(446,449,1);g.addEdge(450,449,1);g.addEdge(451,449,1);g.addEdge(452,449,1);g.addEdge(452,453,1);g.addEdge(452,454,1);g.addEdge(452,455,1);g.addEdge(456,455,1);g.addEdge(456,457,1);g.addEdge(458,457,1);g.addEdge(459,457,1);g.addEdge(459,460,1);g.addEdge(459,461,1);g.addEdge(462,461,1);g.addEdge(463,461,1);g.addEdge(463,464,1);g.addEdge(465,464,1);g.addEdge(466,464,1);g.addEdge(340,14,1);g.addEdge(340,341,1);g.addEdge(342,341,1);g.addEdge(342,343,1);g.addEdge(344,343,1);g.addEdge(344,345,1);g.addEdge(344,346,1);g.addEdge(347,346,1);g.addEdge(348,346,1);g.addEdge(348,349,1);g.addEdge(348,350,1);g.addEdge(351,350,1);g.addEdge(352,350,1);g.addEdge(353,350,1);g.addEdge(353,354,1);g.addEdge(353,355,1);g.addEdge(356,355,1);g.addEdge(357,355,1);g.addEdge(357,358,1);g.addEdge(357,359,1);g.addEdge(360,359,1);g.addEdge(361,359,1);g.addEdge(361,362,1);g.addEdge(363,362,1);g.addEdge(364,362,1);g.addEdge(364,365,1);g.addEdge(364,366,1);g.addEdge(367,366,1);g.addEdge(368,366,1);g.addEdge(368,369,1);g.addEdge(368,370,1);g.addEdge(371,370,1);g.addEdge(372,370,1);g.addEdge(372,373,1);g.addEdge(372,374,1);g.addEdge(375,374,1);g.addEdge(376,374,1);g.addEdge(376,377,1);g.addEdge(378,377,1);g.addEdge(379,377,1);g.addEdge(376,405,1);g.addEdge(406,405,1);g.addEdge(380,405,1);g.addEdge(380,407,1);g.addEdge(381,407,1);g.addEdge(382,407,1);g.addEdge(382,383,1);g.addEdge(382,384,1);g.addEdge(380,385,1);g.addEdge(386,385,1);g.addEdge(386,387,1);g.addEdge(383,402,1);g.addEdge(390,402,1);g.addEdge(390,391,1);g.addEdge(392,391,1);g.addEdge(392,393,1);g.addEdge(394,361,1);g.addEdge(394,395,1);g.addEdge(394,396,1);g.addEdge(397,396,1);g.addEdge(398,396,1);g.addEdge(398,399,1);g.addEdge(398,400,1);g.addEdge(401,400,1);g.addEdge(414,400,1);g.addEdge(414,415,1);g.addEdge(414,410,1);g.addEdge(403,410,1);g.addEdge(411,410,1);g.addEdge(411,412,1);g.addEdge(413,412,1);g.addEdge(413,73,1);g.addEdge(403,404,1);g.addEdge(130,404,1);g.addEdge(0,85,1);g.addEdge(0,87,1);g.addEdge(88,87,1);g.addEdge(1,85,1);g.addEdge(86,85,1);g.addEdge(0,3,1);g.addEdge(3,2,1);g.addEdge(3,6,1);g.addEdge(4,6,1);g.addEdge(5,6,1);g.addEdge(7,6,1);g.addEdge(7,11,1);g.addEdge(12,11,1);g.addEdge(12,13,1);g.addEdge(7,8,1);g.addEdge(9,8,1);g.addEdge(10,8,1);g.addEdge(10,14,1);g.addEdge(10,16,1);g.addEdge(15,16,1);g.addEdge(19,16,1);g.addEdge(19,18,1);g.addEdge(19,20,1);g.addEdge(19,22,1);g.addEdge(21,22,1);g.addEdge(23,22,1);g.addEdge(24,22,1);g.addEdge(24,25,1);g.addEdge(26,25,1);g.addEdge(27,25,1);g.addEdge(24,28,1);g.addEdge(29,28,1);g.addEdge(30,28,1);g.addEdge(31,28,1);g.addEdge(31,33,1);g.addEdge(32,33,1);g.addEdge(34,33,1);g.addEdge(34,35,1);g.addEdge(34,37,1);g.addEdge(36,37,1);g.addEdge(38,37,1);g.addEdge(38,46,1);g.addEdge(38,47,1);g.addEdge(38,48,1);g.addEdge(38,39,1);g.addEdge(40,39,1);g.addEdge(41,39,1);g.addEdge(41,45,1);g.addEdge(95,45,1);g.addEdge(41,42,1);g.addEdge(43,42,1);g.addEdge(44,43,1);g.addEdge(31,49,1);g.addEdge(50,49,1);g.addEdge(51,49,1);g.addEdge(51,52,1);g.addEdge(51,53,1);g.addEdge(54,53,1);g.addEdge(55,53,1);g.addEdge(55,56,1);g.addEdge(55,57,1);g.addEdge(58,57,1);g.addEdge(58,59,1);g.addEdge(60,53,1);g.addEdge(60,61,1);g.addEdge(60,82,1);g.addEdge(63,82,1);g.addEdge(62,82,1);g.addEdge(63,65,.5);g.addEdge(66,65,1);g.addEdge(64,63,1);g.addEdge(67,65,.5);g.addEdge(67,68,1);g.addEdge(67,69,.5);g.addEdge(70,69,1);g.addEdge(71,69,1);g.addEdge(72,69,.5);g.addEdge(72,73,1);g.addEdge(72,74,.5);g.addEdge(75,74,1);g.addEdge(75,17,1);g.addEdge(99,17,1);g.addEdge(99,84,1);g.addEdge(76,74,.5);g.addEdge(77,76,1);g.addEdge(78,76,1);g.addEdge(78,79,1);g.addEdge(78,80,1);g.addEdge(81,80,1);g.addEdge(16,80,1);g.addEdge(59,94,1);g.addEdge(59,93,1);g.addEdge(401,94,1);g.addEdge(98,89,1);g.addEdge(387,89,1);g.addEdge(98,90,1);g.addEdge(98,91,1);g.addEdge(92,91,1);g.addEdge(83,90,1);g.addEdge(83,43,1);g.addEdge(486,13,1);g.addEdge(480,481,1);g.addEdge(482,481,1);g.addEdge(482,483,1);g.addEdge(482,484,1);g.addEdge(505,484,1);g.addEdge(485,484,1);g.addEdge(485,486,1);g.addEdge(485,487,1);g.addEdge(488,487,1);g.addEdge(488,489,1);g.addEdge(488,490,1);g.addEdge(491,490,1);g.addEdge(491,492,1);g.addEdge(491,493,1);g.addEdge(494,493,1);g.addEdge(495,493,1);g.addEdge(495,496,1);g.addEdge(495,497,1);g.addEdge(498,497,1);g.addEdge(499,497,1);g.addEdge(499,500,1);g.addEdge(499,501,1);g.addEdge(502,501,1);g.addEdge(503,501,1);g.addEdge(503,504,1);g.addEdge(506,484,1);g.addEdge(506,507,1);g.addEdge(506,508,1);g.addEdge(506,509,1);g.addEdge(510,509,1);g.addEdge(511,509,1);g.addEdge(511,512,1);g.addEdge(513,512,1);g.addEdge(514,512,1);g.addEdge(514,515,1);g.addEdge(514,516,1);g.addEdge(514,517,1);g.addEdge(518,517,1);g.addEdge(518,519,1);g.addEdge(520,519,1);g.addEdge(521,519,1);g.addEdge(521,522,1);g.addEdge(521,523,1);g.addEdge(524,523,1);g.addEdge(525,523,1);g.addEdge(525,526,1);g.addEdge(674,526,1);g.addEdge(524,527,1);g.addEdge(528,527,1);g.addEdge(528,529,1);g.addEdge(528,485,1);g.addEdge(530,529,1);g.addEdge(531,529,1);g.addEdge(532,527,1);g.addEdge(533,527,1);g.addEdge(533,534,1);g.addEdge(534,535,1);g.addEdge(533,536,1);g.addEdge(537,536,1);g.addEdge(537,538,1);g.addEdge(539,538,1);g.addEdge(540,536,1);g.addEdge(540,541,1);g.addEdge(540,542,1);g.addEdge(543,542,1);g.addEdge(544,542,1);g.addEdge(544,545,1);g.addEdge(544,546,1);g.addEdge(547,546,1);g.addEdge(548,546,1);g.addEdge(548,549,1);g.addEdge(548,550,1);g.addEdge(551,550,1);g.addEdge(552,550,1);g.addEdge(552,553,1);g.addEdge(552,554,1);g.addEdge(555,554,1);g.addEdge(556,554,1);g.addEdge(556,557,1);g.addEdge(556,558,1);g.addEdge(559,558,1);g.addEdge(560,558,1);g.addEdge(560,561,1);g.addEdge(562,561,1);g.addEdge(562,563,1);g.addEdge(560,564,1);g.addEdge(565,564,1);g.addEdge(567,564,1);g.addEdge(567,568,1);g.addEdge(567,569,1);g.addEdge(570,569,1);g.addEdge(570,571,1);g.addEdge(570,572,1);g.addEdge(572,574,1);g.addEdge(575,574,1);g.addEdge(575,576,1);g.addEdge(572,577,1);g.addEdge(573,577,1);g.addEdge(578,577,1);g.addEdge(579,577,1);g.addEdge(579,580,1);g.addEdge(581,580,1);g.addEdge(582,580,1);g.addEdge(579,583,1);g.addEdge(584,583,1);g.addEdge(585,583,1);g.addEdge(585,586,1);g.addEdge(578,95,1);g.addEdge(541,84,1);g.addEdge(565,93,1);g.addEdge(532,155,1);g.addEdge(615,480,1);g.addEdge(610,611,1);g.addEdge(612,611,1);g.addEdge(612,682,1);g.addEdge(612,613,1);g.addEdge(614,613,1);g.addEdge(614,615,1);g.addEdge(614,620,1);g.addEdge(616,613,1);g.addEdge(616,617,1);g.addEdge(616,618,1);g.addEdge(619,618,1);g.addEdge(621,672,1);g.addEdge(620,672,1);g.addEdge(673,672,1);g.addEdge(673,674,1);g.addEdge(621,622,1);g.addEdge(621,623,1);g.addEdge(624,623,1);g.addEdge(625,623,1);g.addEdge(625,626,1);g.addEdge(625,627,1);g.addEdge(628,627,1);g.addEdge(675,627,1);g.addEdge(675,676,1);g.addEdge(675,677,1);g.addEdge(678,677,1);g.addEdge(629,677,1);g.addEdge(629,737,1);g.addEdge(629,631,1);g.addEdge(632,631,1);g.addEdge(633,620,1);g.addEdge(633,634,1);g.addEdge(633,635,1);g.addEdge(636,635,1);g.addEdge(636,637,1);g.addEdge(638,637,1);g.addEdge(639,635,1);g.addEdge(639,640,1);g.addEdge(639,641,1);g.addEdge(642,641,1);g.addEdge(643,641,1);g.addEdge(643,644,1);g.addEdge(643,645,1);g.addEdge(646,645,1);g.addEdge(647,645,1);g.addEdge(647,648,1);g.addEdge(647,649,1);g.addEdge(650,649,1);g.addEdge(650,651,1);g.addEdge(652,651,1);g.addEdge(653,649,1);g.addEdge(653,654,1);g.addEdge(655,656,1);g.addEdge(657,656,1);g.addEdge(658,656,1);g.addEdge(658,659,1);g.addEdge(663,659,1);g.addEdge(663,664,1);g.addEdge(663,665,1);g.addEdge(658,660,1);g.addEdge(661,660,1);g.addEdge(661,662,1);g.addEdge(656,666,1);g.addEdge(667,666,1);g.addEdge(668,666,1);g.addEdge(668,669,1);g.addEdge(668,670,1);g.addEdge(671,670,1);g.addEdge(655,576,1);g.addEdge(654,563,1);g.addEdge(640,539,1);g.addEdge(634,180,1);g.addEdge(624,206,1);g.addEdge(638,906,1);g.addEdge(927,654,1);g.addEdge(662,890,1);g.addEdge(891,890,1);g.addEdge(891,892,1);g.addEdge(893,892,1);g.addEdge(894,892,1);g.addEdge(894,895,1);g.addEdge(894,896,1);g.addEdge(897,896,1);g.addEdge(891,898,1);g.addEdge(899,898,1);g.addEdge(900,898,1);g.addEdge(903,904,1);g.addEdge(905,904,1);g.addEdge(905,906,1);g.addEdge(905,907,1);g.addEdge(907,908,1);g.addEdge(905,910,1);g.addEdge(911,910,1);g.addEdge(912,910,1);g.addEdge(912,913,1);g.addEdge(912,914,1);g.addEdge(915,914,1);g.addEdge(915,916,1);g.addEdge(917,916,1);g.addEdge(918,916,1);g.addEdge(918,919,1);g.addEdge(918,920,1);g.addEdge(921,920,1);g.addEdge(922,920,1);g.addEdge(922,923,1);g.addEdge(922,924,1);g.addEdge(925,924,1);g.addEdge(925,926,1);g.addEdge(927,926,1);g.addEdge(928,924,1);g.addEdge(928,929,1);g.addEdge(950,900,1);g.addEdge(950,951,1);g.addEdge(952,951,1);g.addEdge(952,953,1);g.addEdge(952,954,1);g.addEdge(955,954,1);g.addEdge(956,955,1);g.addEdge(957,955,1);g.addEdge(957,958,1);g.addEdge(959,954,1);g.addEdge(959,960,1);g.addEdge(959,961,1);g.addEdge(962,961,1);g.addEdge(963,961,1);g.addEdge(965,966,1);g.addEdge(967,966,1);g.addEdge(964,927,1);g.addEdge(965,908,1);g.addEdge(1002,610,1);g.addEdge(1002,1003,1);g.addEdge(1008,1003,1);g.addEdge(1008,1007,1);g.addEdge(1006,1007,1);g.addEdge(1006,1005,1);g.addEdge(1004,1003,1);g.addEdge(1004,1005,1);g.addEdge(1009,1005,1);g.addEdge(1009,1010,1);g.addEdge(710,1010,1);g.addEdge(1009,1011,1);g.addEdge(1012,1011,1);g.addEdge(1013,1011,1);g.addEdge(1013,1014,1);g.addEdge(1013,1015,1);g.addEdge(1013,1016,1);g.addEdge(1017,1016,1);g.addEdge(1017,1018,1);g.addEdge(1017,1019,1);g.addEdge(1020,1016,1);g.addEdge(1020,1021,1);g.addEdge(1022,1021,1);g.addEdge(1022,1023,1);g.addEdge(1024,1023,1);g.addEdge(1080,1019,1);g.addEdge(1080,1081,1);g.addEdge(1082,1081,1);g.addEdge(1082,1083,1);g.addEdge(1084,1083,1);g.addEdge(700,207,1);g.addEdge(700,701,1);g.addEdge(702,701,1);g.addEdge(703,701,1);g.addEdge(703,704,1);g.addEdge(705,704,1);g.addEdge(706,704,1);g.addEdge(703,707,1);g.addEdge(708,707,1);g.addEdge(708,709,1);g.addEdge(710,709,1);g.addEdge(707,711,1);g.addEdge(712,711,1);g.addEdge(713,711,1);g.addEdge(713,714,1);g.addEdge(713,715,1);g.addEdge(716,715,1);g.addEdge(719,715,1);g.addEdge(719,720,1);g.addEdge(719,721,1);g.addEdge(722,721,1);g.addEdge(723,721,1);g.addEdge(723,724,1);g.addEdge(723,725,1);g.addEdge(723,726,1);g.addEdge(727,726,1);g.addEdge(727,728,1);g.addEdge(727,729,1);g.addEdge(730,726,1);g.addEdge(730,735,1);g.addEdge(731,735,1);g.addEdge(736,735,1);g.addEdge(736,737,1);g.addEdge(730,732,1);g.addEdge(733,732,1);g.addEdge(733,734,1);g.addEdge(750,712,1);g.addEdge(750,751,1);g.addEdge(752,751,1);g.addEdge(752,753,1);g.addEdge(754,753,1);g.addEdge(755,753,1);g.addEdge(755,756,1);g.addEdge(757,753,1);g.addEdge(757,758,1);g.addEdge(757,759,1);g.addEdge(755,759,1);g.addEdge(760,759,1);g.addEdge(761,759,1);g.addEdge(761,762,1);g.addEdge(761,763,1);g.addEdge(764,763,1);g.addEdge(765,763,1);g.addEdge(765,766,1);g.addEdge(765,767,1);g.addEdge(768,767,1);g.addEdge(768,769,1);g.addEdge(768,770,1);g.addEdge(771,770,1);g.addEdge(772,770,1);g.addEdge(773,767,1);g.addEdge(774,773,1);g.addEdge(773,775,1);g.addEdge(776,775,1);g.addEdge(776,833,1);g.addEdge(777,775,1);g.addEdge(777,778,1);g.addEdge(779,778,1);g.addEdge(779,731,1);g.addEdge(772,513,1);g.setNodeCategory(864,"elevator");g.addEdge(827,88,1);g.addEdge(756,800,1);g.addEdge(801,800,1);g.addEdge(801,802,1);g.addEdge(803,802,1);g.addEdge(803,804,1);g.addEdge(803,805,1);g.addEdge(806,805,1);g.addEdge(807,805,1);g.addEdge(807,808,1);g.addEdge(807,809,1);g.addEdge(810,809,1);g.addEdge(811,809,1);g.addEdge(811,812,1);g.addEdge(811,813,1);g.addEdge(814,813,1);g.addEdge(815,813,1);g.addEdge(815,816,1);g.addEdge(815,817,1);g.addEdge(818,817,1);g.addEdge(819,817,1);g.addEdge(819,820,1);g.addEdge(821,820,1);g.addEdge(822,820,1);g.addEdge(819,823,1);g.addEdge(824,823,1);g.addEdge(825,823,1);g.addEdge(826,823,1);g.addEdge(826,827,1);g.addEdge(826,828,1);g.addEdge(829,828,1);g.addEdge(829,830,1);g.addEdge(831,828,1);g.addEdge(831,832,1);g.addEdge(833,832,1);g.addEdge(805,865,1);g.addEdge(866,865,1);g.addEdge(834,865,1);g.addEdge(834,835,1);g.addEdge(834,836,1);g.addEdge(834,837,1);g.addEdge(838,837,1);g.addEdge(839,837,1);g.addEdge(839,840,1);g.addEdge(839,841,1);g.addEdge(864,841,1);g.addEdge(842,841,1);g.addEdge(842,843,1);g.addEdge(842,844,1);g.addEdge(845,844,1);g.addEdge(845,846,5);g.addEdge(847,844,1);g.addEdge(847,848,1);g.addEdge(847,849,1);g.addEdge(850,849,1);g.addEdge(851,849,1);g.addEdge(851,855,1);g.addEdge(851,852,1);g.addEdge(853,852,1);g.addEdge(853,854,1);g.addEdge(856,855,1);g.addEdge(857,855,1);g.addEdge(857,846,5);g.addEdge(858,855,1);g.addEdge(858,859,1);g.addEdge(858,861,1);g.addEdge(862,861,1);g.addEdge(1142,1198,1);g.addEdge(1290,1198,1);g.addEdge(1290,1370,1);g.addEdge(1446,1370,1);g.addEdge(1446,1521,1);g.addEdge(1604,1521,1);g.addEdge(864,1234,1);g.addEdge(1116,1234,1);g.addEdge(1116,1165,1);g.addEdge(1276,1165,1);g.addEdge(1276,1346,1);g.addEdge(1419,1346,1);g.addEdge(1419,1506,1);g.addEdge(143,113,1);g.addEdge(166,113,1);g.addEdge(166,195,1);g.addEdge(224,195,1);g.addEdge(224,239,1);g.addEdge(264,239,1);g.addEdge(289,264,1);g.addEdge(289,314,1);g.addEdge(1046,314,1);g.setNodeCategory(143,"elevator");g.addEdge(115,149,1);g.addEdge(130,131,1);g.addEdge(132,131,1);g.addEdge(132,133,1);g.addEdge(132,134,1);g.addEdge(135,134,1);g.addEdge(136,134,1);g.addEdge(136,137,1);g.addEdge(136,138,1);g.addEdge(139,138,1);g.addEdge(140,138,1);g.addEdge(140,141,1);g.addEdge(140,142,1);g.addEdge(143,142,1);g.addEdge(144,142,1);g.addEdge(144,145,1);g.addEdge(144,146,1);g.addEdge(147,146,1);g.addEdge(147,148,1);g.addEdge(149,148,1);g.addEdge(143,113,1);g.setNodeCategory(113,"elevator");g.addEdge(77,100,1);g.addEdge(101,100,1);g.addEdge(101,102,1);g.addEdge(103,102,1);g.addEdge(104,102,1);g.addEdge(104,105,1);g.addEdge(104,106,1);g.addEdge(107,106,1);g.addEdge(108,106,1);g.addEdge(108,109,1);g.addEdge(108,110,1);g.addEdge(111,110,1);g.addEdge(112,110,1);g.addEdge(112,113,1);g.addEdge(112,114,1);g.addEdge(115,114,1);g.addEdge(116,114,1);g.addEdge(116,117,1);g.addEdge(116,118,1);g.addEdge(119,118,1);g.addEdge(119,120,1);g.addEdge(121,120,1);g.setNodeCategory(166,"elevator");g.addEdge(168,121,1);g.addEdge(155,156,1);g.addEdge(157,156,1);g.addEdge(157,158,1);g.addEdge(157,159,1);g.addEdge(160,159,1);g.addEdge(161,159,1);g.addEdge(161,162,1);g.addEdge(161,163,1);g.addEdge(164,163,1);g.addEdge(165,163,1);g.addEdge(165,166,1);g.addEdge(165,167,1);g.addEdge(168,167,1);g.addEdge(167,169,1);g.addEdge(170,169,1);g.addEdge(171,169,1);g.addEdge(171,172,1);g.addEdge(173,172,1);g.addEdge(173,174,1);g.setNodeCategory(195,"elevator");g.addEdge(197,174,1);g.addEdge(202,201,1);g.addEdge(200,201,1);g.addEdge(200,199,1);g.addEdge(200,199,1);g.addEdge(198,199,1);g.addEdge(198,203,1);g.addEdge(204,203,1);g.addEdge(208,203,1);g.addEdge(204,199,1);g.addEdge(204,205,1);g.addEdge(206,205,1);g.addEdge(207,205,1);g.addEdge(198,196,1);g.addEdge(197,196,1);g.addEdge(194,196,1);g.addEdge(194,195,1);g.addEdge(194,192,1);g.addEdge(193,192,1);g.addEdge(190,192,1);g.addEdge(190,191,1);g.addEdge(190,188,1);g.addEdge(189,188,1);g.addEdge(186,188,1);g.addEdge(186,187,1);g.addEdge(186,184,1);g.addEdge(185,184,1);g.addEdge(182,184,1);g.addEdge(182,183,1);g.addEdge(182,181,1);g.addEdge(181,180,1);g.setNodeCategory(224,"elevator");g.addEdge(202,222,1);g.addEdge(215,216,1);g.addEdge(217,216,1);g.addEdge(217,218,1);g.addEdge(219,218,1);g.addEdge(219,220,1);g.addEdge(219,221,1);g.addEdge(222,221,1);g.addEdge(223,221,1);g.addEdge(223,224,1);g.addEdge(223,225,1);g.addEdge(226,225,1);g.setNodeCategory(239,"elevator");g.addEdge(215,237,1);g.addEdge(230,231,1);g.addEdge(232,231,1);g.addEdge(232,233,1);g.addEdge(234,233,1);g.addEdge(234,235,1);g.addEdge(234,236,1);g.addEdge(237,236,1);g.addEdge(238,236,1);g.addEdge(238,239,1);g.addEdge(238,240,1);g.addEdge(241,240,1);g.addEdge(242,240,1);g.addEdge(243,240,1);g.addEdge(243,244,1);g.addEdge(243,245,1);g.addEdge(243,246,1);g.addEdge(247,246,1);g.setNodeCategory(264,"elevator");g.addEdge(262,230,1);g.addEdge(255,256,1);g.addEdge(257,256,1);g.addEdge(257,258,1);g.addEdge(259,258,1);g.addEdge(259,260,1);g.addEdge(259,261,1);g.addEdge(262,261,1);g.addEdge(263,261,1);g.addEdge(263,264,1);g.addEdge(263,265,1);g.addEdge(266,265,1);g.addEdge(267,265,1);g.addEdge(267,268,1);g.addEdge(267,269,1);g.addEdge(270,269,1);g.addEdge(271,269,1);g.addEdge(272,269,1);g.addEdge(272,273,1);g.addEdge(272,274,1);g.addEdge(275,274,1);g.setNodeCategory(289,"elevator");g.addEdge(287,255,1);g.addEdge(280,281,1);g.addEdge(282,281,1);g.addEdge(282,283,1);g.addEdge(284,283,1);g.addEdge(284,285,1);g.addEdge(284,286,1);g.addEdge(287,286,1);g.addEdge(288,286,1);g.addEdge(288,289,1);g.addEdge(288,290,1);g.addEdge(290,291,1);g.addEdge(290,292,1);g.addEdge(293,292,1);g.addEdge(294,292,1);g.addEdge(294,295,1);g.addEdge(294,296,1);g.addEdge(294,297,1);g.addEdge(298,297,1);g.addEdge(299,297,1);g.addEdge(299,300,1);g.setNodeCategory(314,"elevator");g.addEdge(312,280,1);g.addEdge(306,305,1);g.addEdge(306,307,1);g.addEdge(308,307,1);g.addEdge(308,309,1);g.addEdge(310,309,1);g.addEdge(311,309,1);g.addEdge(311,312,1);g.addEdge(311,313,1);g.addEdge(314,313,1);g.addEdge(315,313,1);g.addEdge(315,316,1);g.addEdge(315,317,1);g.addEdge(318,317,1);g.addEdge(319,317,1);g.addEdge(319,320,1);g.addEdge(319,321,1);g.addEdge(322,321,1);g.addEdge(323,321,1);g.addEdge(323,324,1);g.addEdge(323,325,1);g.addEdge(326,325,1);g.addEdge(327,325,1);g.addEdge(327,328,1);g.setNodeCategory(1070,"elevator");g.addEdge(305,1040,1);g.addEdge(1041,1040,1);g.addEdge(1041,1042,1);g.addEdge(1043,1042,1);g.addEdge(1044,1042,1);g.addEdge(1044,1061,1);g.addEdge(1044,1045,1);g.addEdge(1046,1045,1);g.addEdge(1047,1045,1);g.addEdge(1047,1049,1);g.addEdge(1050,1049,1);g.addEdge(1051,1049,1);g.addEdge(1051,1052,1);g.addEdge(1051,1053,1);g.addEdge(1054,1053,1);g.addEdge(1054,1055,1);g.addEdge(1054,1056,1);g.addEdge(1057,1056,1);g.addEdge(1057,1058,1);g.addEdge(1059,1056,1);g.addEdge(1059,1060,1);g.setNodeCategory(1290,"elevator");g.setNodeCategory(1276,"elevator");g.addEdge(1260,1261,1);g.addEdge(1262,1261,1);g.addEdge(1262,1263,1);g.addEdge(1264,1263,1);g.addEdge(1264,1265,1);g.addEdge(1264,1266,1);g.addEdge(1267,1266,1);g.addEdge(1267,1178,1);g.addEdge(1268,1266,1);g.addEdge(1268,1269,1);g.addEdge(1270,1269,1);g.addEdge(1271,1269,1);g.addEdge(1272,1269,1);g.addEdge(1268,1273,1);g.addEdge(1274,1273,1);g.addEdge(1275,1273,1);g.addEdge(1275,1276,1);g.addEdge(1275,1277,1);g.addEdge(1278,1277,1);g.addEdge(1291,1277,1);g.addEdge(1292,1277,1);g.addEdge(1279,1263,1);g.addEdge(1279,1280,1);g.addEdge(1279,1281,1);g.addEdge(1279,1282,1);g.addEdge(1283,1282,1);g.addEdge(1284,1285,1);g.addEdge(1286,1285,1);g.addEdge(1286,1287,1);g.addEdge(1288,1287,1);g.addEdge(1288,1289,1);g.addEdge(1194,1289,1);g.setNodeCategory(1198,"elevator");g.setNodeCategory(1165,"elevator");g.addEdge(1160,1024,1);g.addEdge(1160,1161,1);g.addEdge(1162,1161,1);g.addEdge(1163,1161,1);g.addEdge(1164,1161,1);g.addEdge(1164,1165,1);g.addEdge(1164,1166,1);g.addEdge(1167,1166,1);g.addEdge(1167,1168,1);g.addEdge(1167,1169,1);g.addEdge(1167,1170,1);g.addEdge(1171,1166,1);g.addEdge(1171,1172,1);g.addEdge(1171,1173,1);g.addEdge(1174,1173,1);g.addEdge(1175,1173,1);g.addEdge(1175,1176,1);g.addEdge(1177,1176,1);g.addEdge(1177,1178,1);g.addEdge(1175,1179,1);g.addEdge(1180,1179,1);g.addEdge(1181,1179,1);g.addEdge(1182,1179,1);g.addEdge(1182,1183,1);g.addEdge(1182,1184,1);g.addEdge(1185,1184,1);g.addEdge(1185,1186,1);g.addEdge(1187,1186,1);g.addEdge(1188,1186,1);g.addEdge(1189,1186,1);g.addEdge(1189,1190,1);g.addEdge(1189,1191,1);g.addEdge(1192,1191,1);g.addEdge(1192,1193,1);g.addEdge(1194,1193,1);g.addEdge(1195,1191,1);g.addEdge(1195,1196,1);g.addEdge(1195,1197,1);g.addEdge(1198,1197,1);g.addEdge(1199,1197,1);g.addEdge(1199,1200,1);g.addEdge(1199,1201,1);g.addEdge(1199,1202,1);g.addEdge(1203,1202,1);g.addEdge(1204,1202,1);g.setNodeCategory(1142,"elevator");g.setNodeCategory(1116,"elevator");g.addEdge(1100,1102,1);g.addEdge(1103,1102,1);g.addEdge(1104,1102,1);g.addEdge(1104,1105,1);g.addEdge(1106,1105,1);g.addEdge(1107,1105,1);g.addEdge(1107,1108,1);g.addEdge(1109,1108,1);g.addEdge(1110,1108,1);g.addEdge(1110,1111,1);g.addEdge(1110,1112,1);g.addEdge(1107,1113,1);g.addEdge(1114,1113,1);g.addEdge(1115,1113,1);g.addEdge(1115,1116,1);g.addEdge(1115,1117,1);g.addEdge(1118,1117,1);g.addEdge(1104,1119,1);g.addEdge(1120,1119,1);g.addEdge(1120,1121,1);g.addEdge(1122,1121,1);g.addEdge(1123,1119,1);g.addEdge(1123,1124,1);g.addEdge(1123,1125,1);g.addEdge(1123,1126,1);g.addEdge(1127,1126,1);g.addEdge(1128,1126,1);g.addEdge(1128,1129,1);g.addEdge(1130,1129,1);g.addEdge(1130,1131,1);g.addEdge(1130,1132,1);g.addEdge(1130,1133,1);g.addEdge(1134,1133,1);g.addEdge(1135,1133,1);g.addEdge(1135,1136,1);g.addEdge(1137,1136,1);g.addEdge(1137,1149,1);g.addEdge(1190,1149,1);g.addEdge(1135,1138,1);g.addEdge(1139,1138,1);g.addEdge(1139,1140,1);g.addEdge(1138,1141,1);g.addEdge(1142,1141,1);g.addEdge(1143,1141,1);g.addEdge(1143,1144,1);g.addEdge(1143,1145,1);g.addEdge(1146,1145,1);g.addEdge(1147,1145,1);g.addEdge(1147,1148,1);g.addEdge(1122,1174,1);g.setNodeCategory(1370,"elevator");g.setNodeCategory(1346,"elevator");g.addEdge(1330,1331,1);g.addEdge(1332,1331,1);g.addEdge(1332,1333,1);g.addEdge(1334,1333,1);g.addEdge(1334,1335,1);g.addEdge(1334,1336,1);g.addEdge(1337,1336,1);g.addEdge(1338,1336,1);g.addEdge(1338,1339,1);g.addEdge(1340,1339,1);g.addEdge(1341,1339,1);g.addEdge(1341,1339,1);g.addEdge(1338,1343,1);g.addEdge(1344,1343,1);g.addEdge(1343,1345,1);g.addEdge(1346,1345,1);g.addEdge(1347,1345,1);g.addEdge(1347,1348,1);g.addEdge(1347,1349,1);g.addEdge(1347,1350,1);g.addEdge(1333,1351,1);g.addEdge(1352,1351,1);g.addEdge(1353,1351,1);g.addEdge(1354,1351,1);g.addEdge(1354,1355,1);g.addEdge(1356,1354,1);g.addEdge(1356,1357,1);g.addEdge(1358,1357,1);g.addEdge(1358,1359,1);g.addEdge(1358,1360,1);g.addEdge(1358,1361,1);g.addEdge(1362,1361,1);g.addEdge(1363,1361,1);g.addEdge(1363,1364,1);g.addEdge(1365,1364,1);g.addEdge(1365,1366,1);g.addEdge(1363,1367,1);g.addEdge(1368,1367,1);g.addEdge(1369,1367,1);g.addEdge(1369,1370,1);g.addEdge(1369,1371,1);g.addEdge(1372,1371,1);g.addEdge(1373,1371,1);g.addEdge(1374,1371,1);g.addEdge(1374,1375,1);g.addEdge(1374,1376,1);g.addEdge(1337,1260,1);g.addEdge(1362,1284,1);g.setNodeCategory(1446,"elevator");g.setNodeCategory(1419,"elevator");g.addEdge(1366,1453,1);g.addEdge(1330,1410,1);g.addEdge(1452,1410,1);g.addEdge(1452,1411,1);g.addEdge(1412,1411,1);g.addEdge(1412,1413,1);g.addEdge(1412,1414,1);g.addEdge(1412,1415,1);g.addEdge(1416,1411,1);g.addEdge(1416,1417,1);g.addEdge(1416,1418,1);g.addEdge(1419,1418,1);g.addEdge(1420,1418,1);g.addEdge(1420,1421,1);g.addEdge(1420,1422,1);g.addEdge(1423,1422,1);g.addEdge(1423,1424,1);g.addEdge(1425,1424,1);g.addEdge(1452,1426,1);g.addEdge(1427,1426,1);g.addEdge(1428,1426,1);g.addEdge(1428,1429,1);g.addEdge(1428,1430,1);g.addEdge(1428,1431,1);g.addEdge(1432,1431,1);g.addEdge(1433,1431,1);g.addEdge(1433,1434,1);g.addEdge(1435,1434,1);g.addEdge(1435,1436,1);g.addEdge(1435,1437,1);g.addEdge(1435,1438,1);g.addEdge(1453,1438,1);g.addEdge(1439,1438,1);g.addEdge(1439,1440,1);g.addEdge(1441,1440,1);g.addEdge(1442,1441,1);g.addEdge(1439,1443,1);g.addEdge(1444,1443,1);g.addEdge(1444,1445,1);g.addEdge(1444,1454,1);g.addEdge(1446,1454,1);g.addEdge(1455,1454,1);g.addEdge(1455,1456,1);g.addEdge(1455,1447,1);g.addEdge(1448,1447,1);g.addEdge(1449,1447,1);g.addEdge(1450,1447,1);g.addEdge(1451,1450,1);g.setNodeCategory(1506,"elevator");g.setNodeCategory(1521,"elevator");g.addEdge(1425,1500,1);g.addEdge(1442,1515,1);g.addEdge(1501,1500,1);g.addEdge(1501,1502,1);g.addEdge(1503,1502,1);g.addEdge(1504,1502,1);g.addEdge(1501,1505,1);g.addEdge(1506,1505,1);g.addEdge(1507,1505,1);g.addEdge(1507,1508,1);g.addEdge(1507,1509,1);g.addEdge(1510,1511,1);g.addEdge(1512,1511,1);g.addEdge(1512,1513,1);g.addEdge(1514,1513,1);g.addEdge(1516,1513,1);g.addEdge(1514,1515,1);g.addEdge(1517,1516,1);g.addEdge(1517,1514,1);g.addEdge(1517,1518,1);g.addEdge(1519,1516,1);g.addEdge(1519,1520,1);g.addEdge(1519,1521,1);g.addEdge(1519,1522,1);g.addEdge(1523,1522,1);g.addEdge(1524,1522,1);g.addEdge(1524,1525,1);g.setNodeCategory(1234,"elevator");g.addEdge(1220,1106,1);g.addEdge(1220,1221,1);g.addEdge(1222,1221,1);g.addEdge(1222,1223,1);g.addEdge(1224,1223,1);g.addEdge(1224,1225,1);g.addEdge(1224,1226,1);g.addEdge(1227,1226,1);g.addEdge(1227,1228,1);g.addEdge(1227,1229,1);g.addEdge(1230,1229,1);g.addEdge(1231,1229,1);g.addEdge(1232,1226,1);g.addEdge(1233,1226,1);g.addEdge(1233,1234,1);g.addEdge(1233,1235,1);g.addEdge(1236,1235,1);g.addEdge(1237,1223,1);g.addEdge(1237,1239,1);g.addEdge(1237,1238,1);g.addEdge(1237,1240,1);g.addEdge(1241,1240,1);g.addEdge(1242,1240,1);g.addEdge(1242,1243,1);g.addEdge(854,1225,1);g.setNodeCategory(1604,"elevator");g.addEdge(1600,1510,1);g.addEdge(1600,1601,1);g.addEdge(1602,1601,1);g.addEdge(1602,1603,1);g.addEdge(1604,1603,1);g.addEdge(1700,1701,1);g.addEdge(1702,1701,1);g.addEdge(1702,86,1);for(let t=0;t<=99;t++)g.setNodeBuilding(t,"science2ndFloor");for(let t=340;t<=419;t++)g.setNodeBuilding(t,"science1stFloor");for(let t=480;t<=600;t++)g.setNodeBuilding(t,"science3rdFloor");for(let t=610;t<=690;t++)g.setNodeBuilding(t,"science4thFloor");for(let t=700;t<=740;t++)g.setNodeBuilding(t,"main4thFloor");for(let t=750;t<=790;t++)g.setNodeBuilding(t,"main3rdFloor");for(let t=800;t<=880;t++)g.setNodeBuilding(t,"main2ndFloor");for(let t=890;t<=940;t++)g.setNodeBuilding(t,"science5thFloor");for(let t=950;t<=980;t++)g.setNodeBuilding(t,"science6thFloor");for(let t=1e3;t<=1030;t++)g.setNodeBuilding(t,"main5thFloor");for(let t=1080;t<=1090;t++)g.setNodeBuilding(t,"main6thFloor");for(let t=1160;t<=1210;t++)g.setNodeBuilding(t,"CHTMEDS5thFloor");for(let t=1100;t<=1159;t++)g.setNodeBuilding(t,"CHTMEDS4thFloor");for(let t=1260;t<=1320;t++)g.setNodeBuilding(t,"CHTMEDS6thFloor");for(let t=1330;t<=1400;t++)g.setNodeBuilding(t,"CHTMEDS7thFloor");for(let t=1410;t<=1480;t++)g.setNodeBuilding(t,"CHTMEDS8thFloor");for(let t=1500;t<=1550;t++)g.setNodeBuilding(t,"CHTMEDS9thFloor");for(let t=1220;t<=1250;t++)g.setNodeBuilding(t,"EDS3rdFloor");for(let t=1600;t<=1650;t++)g.setNodeBuilding(t,"EDS10thFloor");for(let t=420;t<=480;t++)g.setNodeBuilding(t,"scienceGroundFloor");for(let t=126;t<=150;t++)g.setNodeBuilding(t,"BRS1stFloor");for(let t=100;t<=125;t++)g.setNodeBuilding(t,"BRS2ndFloor");for(let t=155;t<=175;t++)g.setNodeBuilding(t,"BRS3rdFloor");for(let t=175;t<=210;t++)g.setNodeBuilding(t,"BRS4thFloor");for(let t=215;t<=229;t++)g.setNodeBuilding(t,"BRS5thFloor");for(let t=230;t<=250;t++)g.setNodeBuilding(t,"BRS6thFloor");for(let t=255;t<=279;t++)g.setNodeBuilding(t,"BRS7thFloor");for(let t=280;t<=300;t++)g.setNodeBuilding(t,"BRS8thFloor");for(let t=305;t<=330;t++)g.setNodeBuilding(t,"BRS9thFloor");for(let t=1600;t<=1670;t++)g.setNodeBuilding(t,"CHTM10thFloor");for(let t=1700;t<=1710;t++)g.setNodeBuilding(t,"mainGroundFloor");var Se;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var wg=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Cg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Cg||(Cg={}));function T4(t){return Object.values(Se).includes(t)}var Fr;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Fr||(Fr={}));var ro=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Fr.SCAN_TYPE_CAMERA,Fr.SCAN_TYPE_FILE],t}(),G2=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!wg.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,wg.get(e))},t}(),Sg=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Kh;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Kh||(Kh={}));var Z2=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Kh.UNKWOWN_ERROR}},t}(),Y2=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function To(t){return typeof t>"u"||t===null}function I4(t,e,n){return t>n?n:t<e?e:t}var Zs=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Tt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Ag=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),X2=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var o=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),m=Object.keys(e),v=0,C=m;v<C.length;v++){var y=C[v];if(c.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},t}(),qh={exports:{}};(function(t,e){(function(n,o){o(e)})(Os,function(n){function o(I){return I==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,i){I.__proto__=i}||function(I,i){for(var r in i)i.hasOwnProperty(r)&&(I[r]=i[r])};function c(I,i){l(I,i);function r(){this.constructor=I}I.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}function m(I,i){var r=Object.setPrototypeOf;r?r(I,i):I.__proto__=i}function v(I,i){i===void 0&&(i=I.constructor);var r=Error.captureStackTrace;r&&r(I,i)}var C=function(I){c(i,I);function i(r){var a=this.constructor,d=I.call(this,r)||this;return Object.defineProperty(d,"name",{value:a.name,enumerable:!1}),m(d,a.prototype),v(d),d}return i}(Error);class y extends C{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}y.kind="Exception";class N extends y{}N.kind="ArgumentException";class T extends y{}T.kind="IllegalArgumentException";class D{constructor(i){if(this.binarizer=i,i===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,r){return this.binarizer.getBlackRow(i,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,r,a,d){const u=this.binarizer.getLuminanceSource().crop(i,r,a,d);return new D(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends y{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class X{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(i,r,a,d,u){for(;u--;)a[d++]=i[r++]}static currentTimeMillis(){return Date.now()}}class _e extends y{}_e.kind="IndexOutOfBoundsException";class H extends _e{constructor(i=void 0,r=void 0){super(r),this.index=i,this.message=r}}H.kind="ArrayIndexOutOfBoundsException";class F{static fill(i,r){for(let a=0,d=i.length;a<d;a++)i[a]=r}static fillWithin(i,r,a,d){F.rangeCheck(i.length,r,a);for(let u=r;u<a;u++)i[u]=d}static rangeCheck(i,r,a){if(r>a)throw new T("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new H(r);if(a>i)throw new H(a)}static asList(...i){return i}static create(i,r,a){return Array.from({length:i}).map(u=>Array.from({length:r}).fill(a))}static createInt32Array(i,r,a){return Array.from({length:i}).map(u=>Int32Array.from({length:r}).fill(a))}static equals(i,r){if(!i||!r||!i.length||!r.length||i.length!==r.length)return!1;for(let a=0,d=i.length;a<d;a++)if(i[a]!==r[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let r=1;for(const a of i)r=31*r+a;return r}static fillUint8Array(i,r){for(let a=0;a!==i.length;a++)i[a]=r}static copyOf(i,r){return i.slice(0,r)}static copyOfUint8Array(i,r){if(i.length<=r){const a=new Uint8Array(r);return a.set(i),a}return i.slice(0,r)}static copyOfRange(i,r,a){const d=a-r,u=new Int32Array(d);return j.arraycopy(i,r,u,0,d),u}static binarySearch(i,r,a){a===void 0&&(a=F.numberComparator);let d=0,u=i.length-1;for(;d<=u;){const f=u+d>>1,p=a(r,i[f]);if(p>0)d=f+1;else if(p<0)u=f-1;else return f}return-d-1}static numberComparator(i,r){return i-r}}class B{static numberOfTrailingZeros(i){let r;if(i===0)return 32;let a=31;return r=i<<16,r!==0&&(a-=16,i=r),r=i<<8,r!==0&&(a-=8,i=r),r=i<<4,r!==0&&(a-=4,i=r),r=i<<2,r!==0&&(a-=2,i=r),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let r=1;return i>>>16||(r+=16,i<<=16),i>>>24||(r+=8,i<<=8),i>>>28||(r+=4,i<<=4),i>>>30||(r+=2,i<<=2),r-=i>>>31,r}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,r){return Math.trunc(i/r)}static parseInt(i,r=void 0){return parseInt(i,r)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(i,r){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,r==null?this.bits=J.makeArray(i):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const r=J.makeArray(i);j.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const r=this.size;if(i>=r)return r;const a=this.bits;let d=Math.floor(i/32),u=a[d];u&=~((1<<(i&31))-1);const f=a.length;for(;u===0;){if(++d===f)return r;u=a[d]}const p=d*32+B.numberOfTrailingZeros(u);return p>r?r:p}getNextUnset(i){const r=this.size;if(i>=r)return r;const a=this.bits;let d=Math.floor(i/32),u=~a[d];u&=~((1<<(i&31))-1);const f=a.length;for(;u===0;){if(++d===f)return r;u=~a[d]}const p=d*32+B.numberOfTrailingZeros(u);return p>r?r:p}setBulk(i,r){this.bits[Math.floor(i/32)]=r}setRange(i,r){if(r<i||i<0||r>this.size)throw new T;if(r===i)return;r--;const a=Math.floor(i/32),d=Math.floor(r/32),u=this.bits;for(let f=a;f<=d;f++){const p=f>a?0:i&31,x=(2<<(f<d?31:r&31))-(1<<p);u[f]|=x}}clear(){const i=this.bits.length,r=this.bits;for(let a=0;a<i;a++)r[a]=0}isRange(i,r,a){if(r<i||i<0||r>this.size)throw new T;if(r===i)return!0;r--;const d=Math.floor(i/32),u=Math.floor(r/32),f=this.bits;for(let p=d;p<=u;p++){const E=p>d?0:i&31,S=(2<<(p<u?31:r&31))-(1<<E)&4294967295;if((f[p]&S)!==(a?S:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const r=i.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new T("Sizes don't match");const r=this.bits;for(let a=0,d=r.length;a<d;a++)r[a]^=i.bits[a]}toBytes(i,r,a,d){for(let u=0;u<d;u++){let f=0;for(let p=0;p<8;p++)this.get(i)&&(f|=1<<7-p),i++;r[a+u]=f}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,d=this.bits;for(let u=0;u<a;u++){let f=d[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,i[r-u]=f}if(this.size!==a*32){const u=a*32-this.size;let f=i[0]>>>u;for(let p=1;p<a;p++){const E=i[p];f|=E<<32-u,i[p-1]=f,f=E>>>u}i[a-1]=f}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof J))return!1;const r=i;return this.size===r.size&&F.equals(this.bits,r.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let i="";for(let r=0,a=this.size;r<a;r++)r&7||(i+=" "),i+=this.get(r)?"X":".";return i}clone(){return new J(this.size,this.bits.slice())}}var pe;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(pe||(pe={}));var ce=pe;class K extends y{static getFormatInstance(){return new K}}K.kind="FormatException";var fe;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(fe||(fe={}));class ne{constructor(i,r,a,...d){this.valueIdentifier=i,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=d,ne.VALUE_IDENTIFIER_TO_ECI.set(i,this),ne.NAME_TO_ECI.set(a,this);const u=this.values;for(let f=0,p=u.length;f!==p;f++){const E=u[f];ne.VALUES_TO_ECI.set(E,this)}for(const f of d)ne.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new K("incorect value");const r=ne.VALUES_TO_ECI.get(i);if(r===void 0)throw new K("incorect value");return r}static getCharacterSetECIByName(i){const r=ne.NAME_TO_ECI.get(i);if(r===void 0)throw new K("incorect value");return r}equals(i){if(!(i instanceof ne))return!1;const r=i;return this.getName()===r.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(fe.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(fe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(fe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(fe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(fe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(fe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(fe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(fe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(fe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(fe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(fe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(fe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(fe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(fe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(fe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(fe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(fe.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(fe.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(fe.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(fe.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(fe.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(fe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(fe.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(fe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(fe.Big5,28,"Big5"),ne.GB18030=new ne(fe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(fe.EUC_KR,30,"EUC_KR","EUC-KR");class Ye extends y{}Ye.kind="UnsupportedOperationException";class Pe{static decode(i,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!Pe.isBrowser()&&i==="ISO-8859-1"}static encode(i,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof ne?i:ne.getCharacterSetECIByName(i)}static decodeFallback(i,r){const a=this.encodingCharacterSet(r);if(Pe.isDecodeFallbackSupported(a)){let d="";for(let u=0,f=i.length;u<f;u++){let p=i[u].toString(16);p.length<2&&(p="0"+p),d+="%"+p}return decodeURIComponent(d)}if(a.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Ye(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(ne.UTF8)||i.equals(ne.ISO8859_1)||i.equals(ne.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),d=[];for(let u=0;u<a.length;u++)d.push(a[u].charCodeAt(0));return new Uint8Array(d)}}class ye{static castAsNonUtf8Char(i,r=null){const a=r?r.getName():this.ISO88591;return Pe.decode(new Uint8Array([i]),a)}static guessEncoding(i,r){if(r!=null&&r.get(ce.CHARACTER_SET)!==void 0)return r.get(ce.CHARACTER_SET).toString();const a=i.length;let d=!0,u=!0,f=!0,p=0,E=0,x=0,S=0,b=0,R=0,P=0,U=0,z=0,G=0,Q=0;const de=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ue=0;ue<a&&(d||u||f);ue++){const se=i[ue]&255;f&&(p>0?se&128?p--:f=!1:se&128&&(se&64?(p++,se&32?(p++,se&16?(p++,se&8?f=!1:S++):x++):E++):f=!1)),d&&(se>127&&se<160?d=!1:se>159&&(se<192||se===215||se===247)&&Q++),u&&(b>0?se<64||se===127||se>252?u=!1:b--:se===128||se===160||se>239?u=!1:se>160&&se<224?(R++,U=0,P++,P>z&&(z=P)):se>127?(b++,P=0,U++,U>G&&(G=U)):(P=0,U=0))}return f&&p>0&&(f=!1),u&&b>0&&(u=!1),f&&(de||E+x+S>0)?ye.UTF8:u&&(ye.ASSUME_SHIFT_JIS||z>=3||G>=3)?ye.SHIFT_JIS:d&&u?z===2&&R===2||Q*10>=a?ye.SHIFT_JIS:ye.ISO88591:d?ye.ISO88591:u?ye.SHIFT_JIS:f?ye.UTF8:ye.PLATFORM_DEFAULT_ENCODING}static format(i,...r){let a=-1;function d(f,p,E,x,S,b){if(f==="%%")return"%";if(r[++a]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let R=S?parseInt(S.substr(1)):void 0,P;switch(b){case"s":P=r[a];break;case"c":P=r[a][0];break;case"f":P=parseFloat(r[a]).toFixed(f);break;case"p":P=parseFloat(r[a]).toPrecision(f);break;case"e":P=parseFloat(r[a]).toExponential(f);break;case"x":P=parseInt(r[a]).toString(R||16);break;case"d":P=parseFloat(parseInt(r[a],R||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(R);let U=parseInt(E),z=E&&E[0]+""=="0"?"0":" ";for(;P.length<U;)P=p!==void 0?P+z:z+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,d)}static getBytes(i,r){return Pe.encode(i,r)}static getCharCode(i,r=0){return i.charCodeAt(r)}static getCharAt(i){return String.fromCharCode(i)}}ye.SHIFT_JIS=ne.SJIS.getName(),ye.GB2312="GB2312",ye.ISO88591=ne.ISO8859_1.getName(),ye.EUC_JP="EUC_JP",ye.UTF8=ne.UTF8.getName(),ye.PLATFORM_DEFAULT_ENCODING=ye.UTF8,ye.ASSUME_SHIFT_JIS=!1;class Ue{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ye.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,r,a){for(let d=r;r<r+a;d++)this.append(i[d]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,r){this.value=this.value.substr(0,i)+r+this.value.substr(i+1)}substring(i,r){return this.value.substring(i,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,r){this.value=this.value.substr(0,i)+r+this.value.substr(i+r.length)}}class Ie{constructor(i,r,a,d){if(this.width=i,this.height=r,this.rowSize=a,this.bits=d,r==null&&(r=i),this.height=r,i<1||r<1)throw new T("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const r=i.length,a=i[0].length,d=new Ie(a,r);for(let u=0;u<r;u++){const f=i[u];for(let p=0;p<a;p++)f[p]&&d.set(p,u)}return d}static parseFromString(i,r,a){if(i===null)throw new T("stringRepresentation cannot be null");const d=new Array(i.length);let u=0,f=0,p=-1,E=0,x=0;for(;x<i.length;)if(i.charAt(x)===`
`||i.charAt(x)==="\r"){if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new T("row lengths do not match");f=u,E++}x++}else if(i.substring(x,x+r.length)===r)x+=r.length,d[u]=!0,u++;else if(i.substring(x,x+a.length)===a)x+=a.length,d[u]=!1,u++;else throw new T("illegal character encountered: "+i.substring(x));if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new T("row lengths do not match");E++}const S=new Ie(p,E);for(let b=0;b<u;b++)d[b]&&S.set(Math.floor(b%p),Math.floor(b/p));return S}get(i,r){const a=r*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new T("input matrix dimensions do not match");const r=new J(Math.floor(this.width/32)+1),a=this.rowSize,d=this.bits;for(let u=0,f=this.height;u<f;u++){const p=u*a,E=i.getRow(u,r).getBitArray();for(let x=0;x<a;x++)d[p+x]^=E[x]}}clear(){const i=this.bits,r=i.length;for(let a=0;a<r;a++)i[a]=0}setRegion(i,r,a,d){if(r<0||i<0)throw new T("Left and top must be nonnegative");if(d<1||a<1)throw new T("Height and width must be at least 1");const u=i+a,f=r+d;if(f>this.height||u>this.width)throw new T("The region must fit inside the matrix");const p=this.rowSize,E=this.bits;for(let x=r;x<f;x++){const S=x*p;for(let b=i;b<u;b++)E[S+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(i,r){r==null||r.getSize()<this.width?r=new J(this.width):r.clear();const a=this.rowSize,d=this.bits,u=i*a;for(let f=0;f<a;f++)r.setBulk(f*32,d[u+f]);return r}setRow(i,r){j.arraycopy(r.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),r=this.getHeight();let a=new J(i),d=new J(i);for(let u=0,f=Math.floor((r+1)/2);u<f;u++)a=this.getRow(u,a),d=this.getRow(r-1-u,d),a.reverse(),d.reverse(),this.setRow(u,d),this.setRow(r-1-u,a)}getEnclosingRectangle(){const i=this.width,r=this.height,a=this.rowSize,d=this.bits;let u=i,f=r,p=-1,E=-1;for(let x=0;x<r;x++)for(let S=0;S<a;S++){const b=d[x*a+S];if(b!==0){if(x<f&&(f=x),x>E&&(E=x),S*32<u){let R=0;for(;!(b<<31-R&4294967295);)R++;S*32+R<u&&(u=S*32+R)}if(S*32+31>p){let R=31;for(;!(b>>>R);)R--;S*32+R>p&&(p=S*32+R)}}}return p<u||E<f?null:Int32Array.from([u,f,p-u+1,E-f+1])}getTopLeftOnBit(){const i=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const d=a/i;let u=a%i*32;const f=r[a];let p=0;for(;!(f<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,d])}getBottomRightOnBit(){const i=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const d=Math.floor(a/i);let u=Math.floor(a%i)*32;const f=r[a];let p=31;for(;!(f>>>p);)p--;return u+=p,Int32Array.from([u,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Ie))return!1;const r=i;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&F.equals(this.bits,r.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+F.hashCode(this.bits),i}toString(i="X ",r="  ",a=`
`){return this.buildToString(i,r,a)}buildToString(i,r,a){let d=new Ue;for(let u=0,f=this.height;u<f;u++){for(let p=0,E=this.width;p<E;p++)d.append(this.get(p,u)?i:r);d.append(a)}return d.toString()}clone(){return new Ie(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends y{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Re extends X{constructor(i){super(i),this.luminances=Re.EMPTY,this.buckets=new Int32Array(Re.LUMINANCE_BUCKETS)}getBlackRow(i,r){const a=this.getLuminanceSource(),d=a.getWidth();r==null||r.getSize()<d?r=new J(d):r.clear(),this.initArrays(d);const u=a.getRow(i,this.luminances),f=this.buckets;for(let E=0;E<d;E++)f[(u[E]&255)>>Re.LUMINANCE_SHIFT]++;const p=Re.estimateBlackPoint(f);if(d<3)for(let E=0;E<d;E++)(u[E]&255)<p&&r.set(E);else{let E=u[0]&255,x=u[1]&255;for(let S=1;S<d-1;S++){const b=u[S+1]&255;(x*4-E-b)/2<p&&r.set(S),E=x,x=b}}return r}getBlackMatrix(){const i=this.getLuminanceSource(),r=i.getWidth(),a=i.getHeight(),d=new Ie(r,a);this.initArrays(r);const u=this.buckets;for(let E=1;E<5;E++){const x=Math.floor(a*E/5),S=i.getRow(x,this.luminances),b=Math.floor(r*4/5);for(let R=Math.floor(r/5);R<b;R++){const P=S[R]&255;u[P>>Re.LUMINANCE_SHIFT]++}}const f=Re.estimateBlackPoint(u),p=i.getMatrix();for(let E=0;E<a;E++){const x=E*r;for(let S=0;S<r;S++)(p[x+S]&255)<f&&d.set(S,E)}return d}createBinarizer(i){return new Re(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const r=this.buckets;for(let a=0;a<Re.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(i){const r=i.length;let a=0,d=0,u=0;for(let S=0;S<r;S++)i[S]>u&&(d=S,u=i[S]),i[S]>a&&(a=i[S]);let f=0,p=0;for(let S=0;S<r;S++){const b=S-d,R=i[S]*b*b;R>p&&(f=S,p=R)}if(d>f){const S=d;d=f,f=S}if(f-d<=r/16)throw new ee;let E=f-1,x=-1;for(let S=f-1;S>d;S--){const b=S-d,R=b*b*(f-S)*(a-i[S]);R>x&&(E=S,x=R)}return E<<Re.LUMINANCE_SHIFT}}Re.LUMINANCE_BITS=5,Re.LUMINANCE_SHIFT=8-Re.LUMINANCE_BITS,Re.LUMINANCE_BUCKETS=1<<Re.LUMINANCE_BITS,Re.EMPTY=Uint8ClampedArray.from([0]);class Be extends Re{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),r=i.getWidth(),a=i.getHeight();if(r>=Be.MINIMUM_DIMENSION&&a>=Be.MINIMUM_DIMENSION){const d=i.getMatrix();let u=r>>Be.BLOCK_SIZE_POWER;r&Be.BLOCK_SIZE_MASK&&u++;let f=a>>Be.BLOCK_SIZE_POWER;a&Be.BLOCK_SIZE_MASK&&f++;const p=Be.calculateBlackPoints(d,u,f,r,a),E=new Ie(r,a);Be.calculateThresholdForBlock(d,u,f,r,a,p,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Be(i)}static calculateThresholdForBlock(i,r,a,d,u,f,p){const E=u-Be.BLOCK_SIZE,x=d-Be.BLOCK_SIZE;for(let S=0;S<a;S++){let b=S<<Be.BLOCK_SIZE_POWER;b>E&&(b=E);const R=Be.cap(S,2,a-3);for(let P=0;P<r;P++){let U=P<<Be.BLOCK_SIZE_POWER;U>x&&(U=x);const z=Be.cap(P,2,r-3);let G=0;for(let de=-2;de<=2;de++){const ue=f[R+de];G+=ue[z-2]+ue[z-1]+ue[z]+ue[z+1]+ue[z+2]}const Q=G/25;Be.thresholdBlock(i,U,b,Q,d,p)}}}static cap(i,r,a){return i<r?r:i>a?a:i}static thresholdBlock(i,r,a,d,u,f){for(let p=0,E=a*u+r;p<Be.BLOCK_SIZE;p++,E+=u)for(let x=0;x<Be.BLOCK_SIZE;x++)(i[E+x]&255)<=d&&f.set(r+x,a+p)}static calculateBlackPoints(i,r,a,d,u){const f=u-Be.BLOCK_SIZE,p=d-Be.BLOCK_SIZE,E=new Array(a);for(let x=0;x<a;x++){E[x]=new Int32Array(r);let S=x<<Be.BLOCK_SIZE_POWER;S>f&&(S=f);for(let b=0;b<r;b++){let R=b<<Be.BLOCK_SIZE_POWER;R>p&&(R=p);let P=0,U=255,z=0;for(let Q=0,de=S*d+R;Q<Be.BLOCK_SIZE;Q++,de+=d){for(let ue=0;ue<Be.BLOCK_SIZE;ue++){const se=i[de+ue]&255;P+=se,se<U&&(U=se),se>z&&(z=se)}if(z-U>Be.MIN_DYNAMIC_RANGE)for(Q++,de+=d;Q<Be.BLOCK_SIZE;Q++,de+=d)for(let ue=0;ue<Be.BLOCK_SIZE;ue++)P+=i[de+ue]&255}let G=P>>Be.BLOCK_SIZE_POWER*2;if(z-U<=Be.MIN_DYNAMIC_RANGE&&(G=U/2,x>0&&b>0)){const Q=(E[x-1][b]+2*E[x][b-1]+E[x-1][b-1])/4;U<Q&&(G=Q)}E[x][b]=G}}return E}}Be.BLOCK_SIZE_POWER=3,Be.BLOCK_SIZE=1<<Be.BLOCK_SIZE_POWER,Be.BLOCK_SIZE_MASK=Be.BLOCK_SIZE-1,Be.MINIMUM_DIMENSION=Be.BLOCK_SIZE*5,Be.MIN_DYNAMIC_RANGE=24;class te{constructor(i,r){this.width=i,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,r,a,d){throw new Ye("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ye("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ye("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let r=new Ue;for(let a=0;a<this.height;a++){const d=this.getRow(a,i);for(let u=0;u<this.width;u++){const f=d[u]&255;let p;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",r.append(p)}r.append(`
`)}return r.toString()}}class Me extends te{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,r){const a=this.delegate.getRow(i,r),d=this.getWidth();for(let u=0;u<d;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let d=0;d<r;d++)a[d]=255-(i[d]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,r,a,d){return new Me(this.delegate.crop(i,r,a,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class le extends te{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const r=i.getContext("2d").getImageData(0,0,i.width,i.height);return le.toGrayscaleBuffer(r.data,i.width,i.height)}static toGrayscaleBuffer(i,r,a){const d=new Uint8ClampedArray(r*a);for(let u=0,f=0,p=i.length;u<p;u+=4,f++){let E;if(i[u+3]===0)E=255;else{const S=i[u],b=i[u+1],R=i[u+2];E=306*S+601*b+117*R+512>>10}d[f]=E}return d}getRow(i,r){if(i<0||i>=this.getHeight())throw new T("Requested row is outside the image: "+i);const a=this.getWidth(),d=i*a;return r===null?r=this.buffer.slice(d,d+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(d,d+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,r,a,d){return super.crop(i,r,a,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const r=this.getTempCanvasElement(),a=r.getContext("2d"),d=i*le.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(d))*u+Math.abs(Math.sin(d))*f),E=Math.ceil(Math.abs(Math.sin(d))*u+Math.abs(Math.cos(d))*f);return r.width=p,r.height=E,a.translate(p/2,E/2),a.rotate(d),a.drawImage(this.canvas,u/-2,f/-2),this.buffer=le.makeBufferFromCanvasImageData(r),this}invert(){return new Me(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class He{constructor(i,r,a){this.deviceId=i,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ze=(globalThis||Os||self||window||void 0)&&(globalThis||Os||self||window||void 0).__awaiter||function(I,i,r,a){function d(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function p(S){try{x(a.next(S))}catch(b){f(b)}}function E(S){try{x(a.throw(S))}catch(b){f(b)}}function x(S){S.done?u(S.value):d(S.value).then(p,E)}x((a=a.apply(I,i||[])).next())})};class St{constructor(i,r=500,a){this.reader=i,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return ze(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of i){const d=a.kind==="video"?"videoinput":a.kind;if(d!=="videoinput")continue;const u=a.deviceId||a.id,f=a.label||`Video device ${r.length+1}`,p=a.groupId,E={deviceId:u,label:f,kind:d,groupId:p};r.push(E)}return r})}getVideoInputDevices(){return ze(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new He(r.deviceId,r.label))})}findDeviceById(i){return ze(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,r){return ze(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,r)})}decodeOnceFromVideoDevice(i,r){return ze(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const d={video:a};return yield this.decodeOnceFromConstraints(d,r)})}decodeOnceFromConstraints(i,r){return ze(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(i,r){return ze(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,r,a){return ze(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,r,a)})}decodeFromVideoDevice(i,r,a){return ze(this,void 0,void 0,function*(){let d;i?d={deviceId:{exact:i}}:d={facingMode:"environment"};const u={video:d};return yield this.decodeFromConstraints(u,r,a)})}decodeFromConstraints(i,r,a){return ze(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(d,r,a)})}decodeFromStream(i,r,a){return ze(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(i,r);return yield this.decodeContinuously(d,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,r){return ze(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((r,a)=>this.playVideoOnLoad(i,()=>r()))}playVideoOnLoad(i,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",r),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return ze(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,r){const a=document.getElementById(i);if(!a)throw new N(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new N(`element with id '${i}' must be an ${r} element`);return a}decodeFromImage(i,r){if(!i&&!r)throw new N("either imageElement with a src set or an url must be provided");return r&&!i?this.decodeFromImageUrl(r):this.decodeFromImageElement(i)}decodeFromVideo(i,r){if(!i&&!r)throw new N("Either an element with a src set or an URL must be provided");return r&&!i?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,r,a){if(i===void 0&&r===void 0)throw new N("Either an element with a src set or an URL must be provided");return r&&!i?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new N("An image element must be provided.");this.reset();const r=this.prepareImageElement(i);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(i){const r=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(i,r){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(i){if(!i)throw new N("A video element must be provided.");this.reset();const r=this.prepareVideoElement(i);return this.videoElement=r,r}decodeFromImageUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=i,a}decodeFromVideoUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=i,a}decodeFromVideoUrlContinuously(i,r){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(a,r);return a.src=i,d}_decodeOnLoadImage(i){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(r,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return ze(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,r){return ze(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,r)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let r;return typeof i>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof i=="string"&&(r=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(r=i),r}prepareVideoElement(i){let r;return!i&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof i=="string"&&(r=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(r=i),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(i,r=!0,a=!0){this._stopAsyncDecode=!1;const d=(u,f)=>{if(this._stopAsyncDecode){f(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(i);u(p)}catch(p){const E=r&&p instanceof ee,S=(p instanceof W||p instanceof K)&&a;if(E||S)return setTimeout(d,this._timeBetweenDecodingAttempts,u,f);f(p)}};return new Promise((u,f)=>d(u,f))}decodeContinuously(i,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(i);r(d,null),setTimeout(a,this.timeBetweenScansMillis)}catch(d){r(null,d);const u=d instanceof W||d instanceof K,f=d instanceof ee;(u||f)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const r=this.createBinaryBitmap(i);return this.decodeBitmap(r)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,r,a){r||(r={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(i,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const r=this.getCaptureCanvas(i),a=new le(r),d=new Be(a);return new D(d)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const r=this.createCaptureCanvas(i);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,d;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,d=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,d=i.naturalHeight||i.height)),r.style.width=a+"px",r.style.height=d+"px",r.width=a,r.height=d,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,r){try{i.srcObject=r}catch{i.src=URL.createObjectURL(r)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(i,r,a=r==null?0:8*r.length,d,u,f=j.currentTimeMillis()){this.text=i,this.rawBytes=r,this.numBits=a,this.resultPoints=d,this.format=u,this.timestamp=f,this.text=i,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=d,this.format=u,this.resultMetadata=null,f==null?this.timestamp=j.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,r)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const r=this.resultPoints;if(r===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(r.length+i.length);j.arraycopy(r,0,a,0,r.length),j.arraycopy(i,0,a,r.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var ae=it,cn;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(cn||(cn={}));var vt=cn;class po{constructor(i,r,a,d,u=-1,f=-1){this.rawBytes=i,this.text=r,this.byteSegments=a,this.ecLevel=d,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xi{exp(i){return this.expTable[i]}log(i){if(i===0)throw new T;return this.logTable[i]}static addOrSubtract(i,r){return i^r}}class an{constructor(i,r){if(r.length===0)throw new T;this.field=i;const a=r.length;if(a>1&&r[0]===0){let d=1;for(;d<a&&r[d]===0;)d++;d===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-d),j.arraycopy(r,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(i===1){a=0;for(let f=0,p=r.length;f!==p;f++){const E=r[f];a=Xi.addOrSubtract(a,E)}return a}a=r[0];const d=r.length,u=this.field;for(let f=1;f<d;f++)a=Xi.addOrSubtract(u.multiply(i,a),r[f]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let r=this.coefficients,a=i.coefficients;if(r.length>a.length){const f=r;r=a,a=f}let d=new Int32Array(a.length);const u=a.length-r.length;j.arraycopy(a,0,d,0,u);for(let f=u;f<a.length;f++)d[f]=Xi.addOrSubtract(r[f-u],a[f]);return new an(this.field,d)}multiply(i){if(!this.field.equals(i.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,d=i.coefficients,u=d.length,f=new Int32Array(a+u-1),p=this.field;for(let E=0;E<a;E++){const x=r[E];for(let S=0;S<u;S++)f[E+S]=Xi.addOrSubtract(f[E+S],p.multiply(x,d[S]))}return new an(p,f)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const r=this.coefficients.length,a=this.field,d=new Int32Array(r),u=this.coefficients;for(let f=0;f<r;f++)d[f]=a.multiply(u[f],i);return new an(a,d)}multiplyByMonomial(i,r){if(i<0)throw new T;if(r===0)return this.field.getZero();const a=this.coefficients,d=a.length,u=new Int32Array(d+i),f=this.field;for(let p=0;p<d;p++)u[p]=f.multiply(a[p],r);return new an(f,u)}divide(i){if(!this.field.equals(i.field))throw new T("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new T("Divide by 0");const r=this.field;let a=r.getZero(),d=this;const u=i.getCoefficient(i.getDegree()),f=r.inverse(u);for(;d.getDegree()>=i.getDegree()&&!d.isZero();){const p=d.getDegree()-i.getDegree(),E=r.multiply(d.getCoefficient(d.getDegree()),f),x=i.multiplyByMonomial(p,E),S=r.buildMonomial(p,E);a=a.addOrSubtract(S),d=d.addOrSubtract(x)}return[a,d]}toString(){let i="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),r===0||a!==1){const d=this.field.log(a);d===0?i+="1":d===1?i+="a":(i+="a^",i+=d)}r!==0&&(r===1?i+="x":(i+="x^",i+=r))}}return i}}class Mi extends y{}Mi.kind="ArithmeticException";class st extends Xi{constructor(i,r,a){super(),this.primitive=i,this.size=r,this.generatorBase=a;const d=new Int32Array(r);let u=1;for(let p=0;p<r;p++)d[p]=u,u*=2,u>=r&&(u^=i,u&=r-1);this.expTable=d;const f=new Int32Array(r);for(let p=0;p<r-1;p++)f[d[p]]=p;this.logTable=f,this.zero=new an(this,Int32Array.from([0])),this.one=new an(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,r){if(i<0)throw new T;if(r===0)return this.zero;const a=new Int32Array(i+1);return a[0]=r,new an(this,a)}inverse(i){if(i===0)throw new Mi;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,r){return i===0||r===0?0:this.expTable[(this.logTable[i]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class mo extends y{}mo.kind="ReedSolomonException";class Kn extends y{}Kn.kind="IllegalStateException";class _o{constructor(i){this.field=i}decode(i,r){const a=this.field,d=new an(a,i),u=new Int32Array(r);let f=!0;for(let P=0;P<r;P++){const U=d.evaluateAt(a.exp(P+a.getGeneratorBase()));u[u.length-1-P]=U,U!==0&&(f=!1)}if(f)return;const p=new an(a,u),E=this.runEuclideanAlgorithm(a.buildMonomial(r,1),p,r),x=E[0],S=E[1],b=this.findErrorLocations(x),R=this.findErrorMagnitudes(S,b);for(let P=0;P<b.length;P++){const U=i.length-1-a.log(b[P]);if(U<0)throw new mo("Bad error location");i[U]=st.addOrSubtract(i[U],R[P])}}runEuclideanAlgorithm(i,r,a){if(i.getDegree()<r.getDegree()){const P=i;i=r,r=P}const d=this.field;let u=i,f=r,p=d.getZero(),E=d.getOne();for(;f.getDegree()>=(a/2|0);){let P=u,U=p;if(u=f,p=E,u.isZero())throw new mo("r_{i-1} was zero");f=P;let z=d.getZero();const G=u.getCoefficient(u.getDegree()),Q=d.inverse(G);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const de=f.getDegree()-u.getDegree(),ue=d.multiply(f.getCoefficient(f.getDegree()),Q);z=z.addOrSubtract(d.buildMonomial(de,ue)),f=f.addOrSubtract(u.multiplyByMonomial(de,ue))}if(E=z.multiply(p).addOrSubtract(U),f.getDegree()>=u.getDegree())throw new Kn("Division algorithm failed to reduce polynomial?")}const x=E.getCoefficient(0);if(x===0)throw new mo("sigmaTilde(0) was zero");const S=d.inverse(x),b=E.multiplyScalar(S),R=f.multiplyScalar(S);return[b,R]}findErrorLocations(i){const r=i.getDegree();if(r===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(r);let d=0;const u=this.field;for(let f=1;f<u.getSize()&&d<r;f++)i.evaluateAt(f)===0&&(a[d]=u.inverse(f),d++);if(d!==r)throw new mo("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,r){const a=r.length,d=new Int32Array(a),u=this.field;for(let f=0;f<a;f++){const p=u.inverse(r[f]);let E=1;for(let x=0;x<a;x++)if(f!==x){const S=u.multiply(r[x],p),b=S&1?S&-2:S|1;E=u.multiply(E,b)}d[f]=u.multiply(i.evaluateAt(p),u.inverse(E)),u.getGeneratorBase()!==0&&(d[f]=u.multiply(d[f],p))}return d}}var Kt;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(Kt||(Kt={}));class pt{decode(i){this.ddata=i;let r=i.getBits(),a=this.extractBits(r),d=this.correctBits(a),u=pt.convertBoolArrayToByteArray(d),f=pt.getEncodedData(d),p=new po(u,f,null,null);return p.setNumBits(d.length),p}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let r=i.length,a=Kt.UPPER,d=Kt.UPPER,u="",f=0;for(;f<r;)if(d===Kt.BINARY){if(r-f<5)break;let p=pt.readCode(i,f,5);if(f+=5,p===0){if(r-f<11)break;p=pt.readCode(i,f,11)+31,f+=11}for(let E=0;E<p;E++){if(r-f<8){f=r;break}const x=pt.readCode(i,f,8);u+=ye.castAsNonUtf8Char(x),f+=8}d=a}else{let p=d===Kt.DIGIT?4:5;if(r-f<p)break;let E=pt.readCode(i,f,p);f+=p;let x=pt.getCharacter(d,E);x.startsWith("CTRL_")?(a=d,d=pt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(a=d)):(u+=x,d=a)}return u}static getTable(i){switch(i){case"L":return Kt.LOWER;case"P":return Kt.PUNCT;case"M":return Kt.MIXED;case"D":return Kt.DIGIT;case"B":return Kt.BINARY;case"U":default:return Kt.UPPER}}static getCharacter(i,r){switch(i){case Kt.UPPER:return pt.UPPER_TABLE[r];case Kt.LOWER:return pt.LOWER_TABLE[r];case Kt.MIXED:return pt.MIXED_TABLE[r];case Kt.PUNCT:return pt.PUNCT_TABLE[r];case Kt.DIGIT:return pt.DIGIT_TABLE[r];default:throw new Kn("Bad table")}}correctBits(i){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=st.AZTEC_DATA_10):(a=12,r=st.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),u=i.length/a;if(u<d)throw new K;let f=i.length%a,p=new Int32Array(u);for(let R=0;R<u;R++,f+=a)p[R]=pt.readCode(i,f,a);try{new _o(r).decode(p,u-d)}catch(R){throw new K(R)}let E=(1<<a)-1,x=0;for(let R=0;R<d;R++){let P=p[R];if(P===0||P===E)throw new K;(P===1||P===E-1)&&x++}let S=new Array(d*a-x),b=0;for(let R=0;R<d;R++){let P=p[R];if(P===1||P===E-1)S.fill(P>1,b,b+a-1),b+=a-1;else for(let U=a-1;U>=0;--U)S[b++]=(P&1<<U)!==0}return S}extractBits(i){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),d=(r?11:14)+a*4,u=new Int32Array(d),f=new Array(this.totalBitsInLayer(a,r));if(r)for(let p=0;p<u.length;p++)u[p]=p;else{let p=d+1+2*B.truncDivision(B.truncDivision(d,2)-1,15),E=d/2,x=B.truncDivision(p,2);for(let S=0;S<E;S++){let b=S+B.truncDivision(S,15);u[E-S-1]=x-b-1,u[E+S]=x+b+1}}for(let p=0,E=0;p<a;p++){let x=(a-p)*4+(r?9:12),S=p*2,b=d-1-S;for(let R=0;R<x;R++){let P=R*2;for(let U=0;U<2;U++)f[E+P+U]=i.get(u[S+U],u[S+R]),f[E+2*x+P+U]=i.get(u[S+R],u[b-U]),f[E+4*x+P+U]=i.get(u[b-U],u[b-R]),f[E+6*x+P+U]=i.get(u[b-R],u[S+U])}E+=x*8}return f}static readCode(i,r,a){let d=0;for(let u=r;u<r+a;u++)d<<=1,i[u]&&(d|=1);return d}static readByte(i,r){let a=i.length-r;return a>=8?pt.readCode(i,r,8):pt.readCode(i,r,a)<<8-a}static convertBoolArrayToByteArray(i){let r=new Uint8Array((i.length+7)/8);for(let a=0;a<r.length;a++)r[a]=pt.readByte(i,8*a);return r}totalBitsInLayer(i,r){return((r?88:112)+16*i)*i}}pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ce{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,r,a,d){const u=i-a,f=r-d;return Math.sqrt(u*u+f*f)}static sum(i){let r=0;for(let a=0,d=i.length;a!==d;a++){const u=i[a];r+=u}return r}}class Ro{static floatToIntBits(i){return i}}Ro.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(i,r){this.x=i,this.y=r}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof we){const r=i;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Ro.floatToIntBits(this.x)+Ro.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const r=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),d=this.distance(i[0],i[2]);let u,f,p;if(a>=r&&a>=d?(f=i[0],u=i[1],p=i[2]):d>=a&&d>=r?(f=i[1],u=i[0],p=i[2]):(f=i[2],u=i[0],p=i[1]),this.crossProductZ(u,f,p)<0){const E=u;u=p,p=E}i[0]=u,i[1]=f,i[2]=p}static distance(i,r){return Ce.distance(i.x,i.y,r.x,r.y)}static crossProductZ(i,r,a){const d=r.x,u=r.y;return(a.x-d)*(i.y-u)-(a.y-u)*(i.x-d)}}class Mo{constructor(i,r){this.bits=i,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ir extends Mo{constructor(i,r,a,d,u){super(i,r),this.compact=a,this.nbDatablocks=d,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class V{constructor(i,r,a,d){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),r==null&&(r=V.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),d==null&&(d=i.getHeight()/2|0);const u=r/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=d-u,this.downInit=d+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let i=this.leftInit,r=this.rightInit,a=this.upInit,d=this.downInit,u=!1,f=!0,p=!1,E=!1,x=!1,S=!1,b=!1;const R=this.width,P=this.height;for(;f;){f=!1;let U=!0;for(;(U||!E)&&r<R;)U=this.containsBlackPoint(a,d,r,!1),U?(r++,f=!0,E=!0):E||r++;if(r>=R){u=!0;break}let z=!0;for(;(z||!x)&&d<P;)z=this.containsBlackPoint(i,r,d,!0),z?(d++,f=!0,x=!0):x||d++;if(d>=P){u=!0;break}let G=!0;for(;(G||!S)&&i>=0;)G=this.containsBlackPoint(a,d,i,!1),G?(i--,f=!0,S=!0):S||i--;if(i<0){u=!0;break}let Q=!0;for(;(Q||!b)&&a>=0;)Q=this.containsBlackPoint(i,r,a,!0),Q?(a--,f=!0,b=!0):b||a--;if(a<0){u=!0;break}f&&(p=!0)}if(!u&&p){const U=r-i;let z=null;for(let ue=1;z===null&&ue<U;ue++)z=this.getBlackPointOnSegment(i,d-ue,i+ue,d);if(z==null)throw new ee;let G=null;for(let ue=1;G===null&&ue<U;ue++)G=this.getBlackPointOnSegment(i,a+ue,i+ue,a);if(G==null)throw new ee;let Q=null;for(let ue=1;Q===null&&ue<U;ue++)Q=this.getBlackPointOnSegment(r,a+ue,r-ue,a);if(Q==null)throw new ee;let de=null;for(let ue=1;de===null&&ue<U;ue++)de=this.getBlackPointOnSegment(r,d-ue,r-ue,d);if(de==null)throw new ee;return this.centerEdges(de,z,Q,G)}else throw new ee}getBlackPointOnSegment(i,r,a,d){const u=Ce.round(Ce.distance(i,r,a,d)),f=(a-i)/u,p=(d-r)/u,E=this.image;for(let x=0;x<u;x++){const S=Ce.round(i+x*f),b=Ce.round(r+x*p);if(E.get(S,b))return new we(S,b)}return null}centerEdges(i,r,a,d){const u=i.getX(),f=i.getY(),p=r.getX(),E=r.getY(),x=a.getX(),S=a.getY(),b=d.getX(),R=d.getY(),P=V.CORR;return u<this.width/2?[new we(b-P,R+P),new we(p+P,E+P),new we(x-P,S-P),new we(u+P,f-P)]:[new we(b+P,R+P),new we(p+P,E-P),new we(x-P,S+P),new we(u-P,f-P)]}containsBlackPoint(i,r,a,d){const u=this.image;if(d){for(let f=i;f<=r;f++)if(u.get(f,a))return!0}else for(let f=i;f<=r;f++)if(u.get(a,f))return!0;return!1}}V.INIT_SIZE=10,V.CORR=1;class Fe{static checkAndNudgePoints(i,r){const a=i.getWidth(),d=i.getHeight();let u=!0;for(let f=0;f<r.length&&u;f+=2){const p=Math.floor(r[f]),E=Math.floor(r[f+1]);if(p<-1||p>a||E<-1||E>d)throw new ee;u=!1,p===-1?(r[f]=0,u=!0):p===a&&(r[f]=a-1,u=!0),E===-1?(r[f+1]=0,u=!0):E===d&&(r[f+1]=d-1,u=!0)}u=!0;for(let f=r.length-2;f>=0&&u;f-=2){const p=Math.floor(r[f]),E=Math.floor(r[f+1]);if(p<-1||p>a||E<-1||E>d)throw new ee;u=!1,p===-1?(r[f]=0,u=!0):p===a&&(r[f]=a-1,u=!0),E===-1?(r[f+1]=0,u=!0):E===d&&(r[f+1]=d-1,u=!0)}}}class ke{constructor(i,r,a,d,u,f,p,E,x){this.a11=i,this.a21=r,this.a31=a,this.a12=d,this.a22=u,this.a32=f,this.a13=p,this.a23=E,this.a33=x}static quadrilateralToQuadrilateral(i,r,a,d,u,f,p,E,x,S,b,R,P,U,z,G){const Q=ke.quadrilateralToSquare(i,r,a,d,u,f,p,E);return ke.squareToQuadrilateral(x,S,b,R,P,U,z,G).times(Q)}transformPoints(i){const r=i.length,a=this.a11,d=this.a12,u=this.a13,f=this.a21,p=this.a22,E=this.a23,x=this.a31,S=this.a32,b=this.a33;for(let R=0;R<r;R+=2){const P=i[R],U=i[R+1],z=u*P+E*U+b;i[R]=(a*P+f*U+x)/z,i[R+1]=(d*P+p*U+S)/z}}transformPointsWithValues(i,r){const a=this.a11,d=this.a12,u=this.a13,f=this.a21,p=this.a22,E=this.a23,x=this.a31,S=this.a32,b=this.a33,R=i.length;for(let P=0;P<R;P++){const U=i[P],z=r[P],G=u*U+E*z+b;i[P]=(a*U+f*z+x)/G,r[P]=(d*U+p*z+S)/G}}static squareToQuadrilateral(i,r,a,d,u,f,p,E){const x=i-a+u-p,S=r-d+f-E;if(x===0&&S===0)return new ke(a-i,u-a,i,d-r,f-d,r,0,0,1);{const b=a-u,R=p-u,P=d-f,U=E-f,z=b*U-R*P,G=(x*U-R*S)/z,Q=(b*S-x*P)/z;return new ke(a-i+G*a,p-i+Q*p,i,d-r+G*d,E-r+Q*E,r,G,Q,1)}}static quadrilateralToSquare(i,r,a,d,u,f,p,E){return ke.squareToQuadrilateral(i,r,a,d,u,f,p,E).buildAdjoint()}buildAdjoint(){return new ke(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new ke(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class bt extends Fe{sampleGrid(i,r,a,d,u,f,p,E,x,S,b,R,P,U,z,G,Q,de,ue){const se=ke.quadrilateralToQuadrilateral(d,u,f,p,E,x,S,b,R,P,U,z,G,Q,de,ue);return this.sampleGridWithTransform(i,r,a,se)}sampleGridWithTransform(i,r,a,d){if(r<=0||a<=0)throw new ee;const u=new Ie(r,a),f=new Float32Array(2*r);for(let p=0;p<a;p++){const E=f.length,x=p+.5;for(let S=0;S<E;S+=2)f[S]=S/2+.5,f[S+1]=x;d.transformPoints(f),Fe.checkAndNudgePoints(i,f);try{for(let S=0;S<E;S+=2)i.get(Math.floor(f[S]),Math.floor(f[S+1]))&&u.set(S/2,p)}catch{throw new ee}}return u}}class kn{static setGridSampler(i){kn.gridSampler=i}static getInstance(){return kn.gridSampler}}kn.gridSampler=new bt;class qt{constructor(i,r){this.x=i,this.y=r}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ct{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(i){let f=a[0];a[0]=a[2],a[2]=f}this.extractParameters(a);let d=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new ir(d,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ee;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],r),this.sampleLine(i[1],i[2],r),this.sampleLine(i[2],i[3],r),this.sampleLine(i[3],i[0],r)]);this.shift=this.getRotation(a,r);let d=0;for(let f=0;f<4;f++){let p=a[(this.shift+f)%4];this.compact?(d<<=7,d+=p>>1&127):(d<<=10,d+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,r){let a=0;i.forEach((d,u,f)=>{let p=(d>>r-2<<1)+(d&1);a=(a<<3)+p}),a=((a&1)<<11)+(a>>1);for(let d=0;d<4;d++)if(B.bitCount(a^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new ee}getCorrectedParameterData(i,r){let a,d;r?(a=7,d=2):(a=10,d=4);let u=a-d,f=new Int32Array(a);for(let E=a-1;E>=0;--E)f[E]=i&15,i>>=4;try{new _o(st.AZTEC_PARAM).decode(f,u)}catch{throw new ee}let p=0;for(let E=0;E<d;E++)p=(p<<4)+f[E];return p}getBullsEyeCorners(i){let r=i,a=i,d=i,u=i,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(r,f,1,-1),R=this.getFirstDifferent(a,f,1,1),P=this.getFirstDifferent(d,f,-1,1),U=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(U,b)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(b,R,P,U))break}r=b,a=R,d=P,u=U,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let p=new we(r.getX()+.5,r.getY()-.5),E=new we(a.getX()+.5,a.getY()+.5),x=new we(d.getX()-.5,d.getY()+.5),S=new we(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,E,x,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,r,a,d;try{let p=new V(this.image).detect();i=p[0],r=p[1],a=p[2],d=p[3]}catch{let E=this.image.getWidth()/2,x=this.image.getHeight()/2;i=this.getFirstDifferent(new qt(E+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new qt(E+7,x+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new qt(E-7,x+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new qt(E-7,x-7),!1,-1,-1).toResultPoint()}let u=Ce.round((i.getX()+d.getX()+r.getX()+a.getX())/4),f=Ce.round((i.getY()+d.getY()+r.getY()+a.getY())/4);try{let p=new V(this.image,15,u,f).detect();i=p[0],r=p[1],a=p[2],d=p[3]}catch{i=this.getFirstDifferent(new qt(u+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new qt(u+7,f+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new qt(u-7,f+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new qt(u-7,f-7),!1,-1,-1).toResultPoint()}return u=Ce.round((i.getX()+d.getX()+r.getX()+a.getX())/4),f=Ce.round((i.getY()+d.getY()+r.getY()+a.getY())/4),new qt(u,f)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,r,a,d,u){let f=kn.getInstance(),p=this.getDimension(),E=p/2-this.nbCenterLayers,x=p/2+this.nbCenterLayers;return f.sampleGrid(i,p,p,E,E,x,E,x,x,E,x,r.getX(),r.getY(),a.getX(),a.getY(),d.getX(),d.getY(),u.getX(),u.getY())}sampleLine(i,r,a){let d=0,u=this.distanceResultPoint(i,r),f=u/a,p=i.getX(),E=i.getY(),x=f*(r.getX()-i.getX())/u,S=f*(r.getY()-i.getY())/u;for(let b=0;b<a;b++)this.image.get(Ce.round(p+b*x),Ce.round(E+b*S))&&(d|=1<<a-b-1);return d}isWhiteOrBlackRectangle(i,r,a,d){let u=3;i=new qt(i.getX()-u,i.getY()+u),r=new qt(r.getX()-u,r.getY()-u),a=new qt(a.getX()+u,a.getY()-u),d=new qt(d.getX()+u,d.getY()+u);let f=this.getColor(d,i);if(f===0)return!1;let p=this.getColor(i,r);return p!==f||(p=this.getColor(r,a),p!==f)?!1:(p=this.getColor(a,d),p===f)}getColor(i,r){let a=this.distancePoint(i,r),d=(r.getX()-i.getX())/a,u=(r.getY()-i.getY())/a,f=0,p=i.getX(),E=i.getY(),x=this.image.get(i.getX(),i.getY()),S=Math.ceil(a);for(let R=0;R<S;R++)p+=d,E+=u,this.image.get(Ce.round(p),Ce.round(E))!==x&&f++;let b=f/a;return b>.1&&b<.9?0:b<=.1===x?1:-1}getFirstDifferent(i,r,a,d){let u=i.getX()+a,f=i.getY()+d;for(;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=a,f+=d;for(u-=a,f-=d;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=a;for(u-=a;this.isValid(u,f)&&this.image.get(u,f)===r;)f+=d;return f-=d,new qt(u,f)}expandSquare(i,r,a){let d=a/(2*r),u=i[0].getX()-i[2].getX(),f=i[0].getY()-i[2].getY(),p=(i[0].getX()+i[2].getX())/2,E=(i[0].getY()+i[2].getY())/2,x=new we(p+d*u,E+d*f),S=new we(p-d*u,E-d*f);u=i[1].getX()-i[3].getX(),f=i[1].getY()-i[3].getY(),p=(i[1].getX()+i[3].getX())/2,E=(i[1].getY()+i[3].getY())/2;let b=new we(p+d*u,E+d*f),R=new we(p-d*u,E-d*f);return[x,b,S,R]}isValid(i,r){return i>=0&&i<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(i){let r=Ce.round(i.getX()),a=Ce.round(i.getY());return this.isValid(r,a)}distancePoint(i,r){return Ce.distance(i.getX(),i.getY(),r.getX(),r.getY())}distanceResultPoint(i,r){return Ce.distance(i.getX(),i.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Ke{decode(i,r=null){let a=null,d=new ct(i.getBlackMatrix()),u=null,f=null;try{let S=d.detectMirror(!1);u=S.getPoints(),this.reportFoundResultPoints(r,u),f=new pt().decode(S)}catch(S){a=S}if(f==null)try{let S=d.detectMirror(!0);u=S.getPoints(),this.reportFoundResultPoints(r,u),f=new pt().decode(S)}catch(S){throw a??S}let p=new je(f.getText(),f.getRawBytes(),f.getNumBits(),u,ae.AZTEC,j.currentTimeMillis()),E=f.getByteSegments();E!=null&&p.putMetadata(vt.BYTE_SEGMENTS,E);let x=f.getECLevel();return x!=null&&p.putMetadata(vt.ERROR_CORRECTION_LEVEL,x),p}reportFoundResultPoints(i,r){if(i!=null){let a=i.get(ce.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((d,u,f)=>{a.foundPossibleResultPoint(d)})}}reset(){}}class Qi extends St{constructor(i=500){super(new Ke,i)}}class mt{decode(i,r){try{return this.doDecode(i,r)}catch{if(r&&r.get(ce.TRY_HARDER)===!0&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),f=this.doDecode(u,r),p=f.getResultMetadata();let E=270;p!==null&&p.get(vt.ORIENTATION)===!0&&(E=E+p.get(vt.ORIENTATION)%360),f.putMetadata(vt.ORIENTATION,E);const x=f.getResultPoints();if(x!==null){const S=u.getHeight();for(let b=0;b<x.length;b++)x[b]=new we(S-x[b].getY()-1,x[b].getX())}return f}else throw new ee}}reset(){}doDecode(i,r){const a=i.getWidth(),d=i.getHeight();let u=new J(a);const f=r&&r.get(ce.TRY_HARDER)===!0,p=Math.max(1,d>>(f?8:5));let E;f?E=d:E=15;const x=Math.trunc(d/2);for(let S=0;S<E;S++){const b=Math.trunc((S+1)/2),R=(S&1)===0,P=x+p*(R?b:-b);if(P<0||P>=d)break;try{u=i.getBlackRow(P,u)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),r&&r.get(ce.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;r.forEach((G,Q)=>z.set(Q,G)),z.delete(ce.NEED_RESULT_POINT_CALLBACK),r=z}try{const z=this.decodeRow(P,u,r);if(U===1){z.putMetadata(vt.ORIENTATION,180);const G=z.getResultPoints();G!==null&&(G[0]=new we(a-G[0].getX()-1,G[0].getY()),G[1]=new we(a-G[1].getX()-1,G[1].getY()))}return z}catch{}}}throw new ee}static recordPattern(i,r,a){const d=a.length;for(let x=0;x<d;x++)a[x]=0;const u=i.getSize();if(r>=u)throw new ee;let f=!i.get(r),p=0,E=r;for(;E<u;){if(i.get(E)!==f)a[p]++;else{if(++p===d)break;a[p]=1,f=!f}E++}if(!(p===d||p===d-1&&E===u))throw new ee}static recordPatternInReverse(i,r,a){let d=a.length,u=i.get(r);for(;r>0&&d>=0;)i.get(--r)!==u&&(d--,u=!u);if(d>=0)throw new ee;mt.recordPattern(i,r+1,a)}static patternMatchVariance(i,r,a){const d=i.length;let u=0,f=0;for(let x=0;x<d;x++)u+=i[x],f+=r[x];if(u<f)return Number.POSITIVE_INFINITY;const p=u/f;a*=p;let E=0;for(let x=0;x<d;x++){const S=i[x],b=r[x]*p,R=S>b?S-b:b-S;if(R>a)return Number.POSITIVE_INFINITY;E+=R}return E/u}}class re extends mt{static findStartPattern(i){const r=i.getSize(),a=i.getNextSet(0);let d=0,u=Int32Array.from([0,0,0,0,0,0]),f=a,p=!1;const E=6;for(let x=a;x<r;x++)if(i.get(x)!==p)u[d]++;else{if(d===E-1){let S=re.MAX_AVG_VARIANCE,b=-1;for(let R=re.CODE_START_A;R<=re.CODE_START_C;R++){const P=mt.patternMatchVariance(u,re.CODE_PATTERNS[R],re.MAX_INDIVIDUAL_VARIANCE);P<S&&(S=P,b=R)}if(b>=0&&i.isRange(Math.max(0,f-(x-f)/2),f,!1))return Int32Array.from([f,x,b]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[d-1]=0,u[d]=0,d--}else d++;u[d]=1,p=!p}throw new ee}static decodeCode(i,r,a){mt.recordPattern(i,a,r);let d=re.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<re.CODE_PATTERNS.length;f++){const p=re.CODE_PATTERNS[f],E=this.patternMatchVariance(r,p,re.MAX_INDIVIDUAL_VARIANCE);E<d&&(d=E,u=f)}if(u>=0)return u;throw new ee}decodeRow(i,r,a){const d=a&&a.get(ce.ASSUME_GS1)===!0,u=re.findStartPattern(r),f=u[2];let p=0;const E=new Uint8Array(20);E[p++]=f;let x;switch(f){case re.CODE_START_A:x=re.CODE_CODE_A;break;case re.CODE_START_B:x=re.CODE_CODE_B;break;case re.CODE_START_C:x=re.CODE_CODE_C;break;default:throw new K}let S=!1,b=!1,R="",P=u[0],U=u[1];const z=Int32Array.from([0,0,0,0,0,0]);let G=0,Q=0,de=f,ue=0,se=!0,nt=!1,Qe=!1;for(;!S;){const zi=b;switch(b=!1,G=Q,Q=re.decodeCode(r,z,U),E[p++]=Q,Q!==re.CODE_STOP&&(se=!0),Q!==re.CODE_STOP&&(ue++,de+=ue*Q),P=U,U+=z.reduce((gu,gr)=>gu+gr,0),Q){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new K}switch(x){case re.CODE_CODE_A:if(Q<64)Qe===nt?R+=String.fromCharCode(32+Q):R+=String.fromCharCode(32+Q+128),Qe=!1;else if(Q<96)Qe===nt?R+=String.fromCharCode(Q-64):R+=String.fromCharCode(Q+64),Qe=!1;else switch(Q!==re.CODE_STOP&&(se=!1),Q){case re.CODE_FNC_1:d&&(R.length===0?R+="]C1":R+="");break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!nt&&Qe?(nt=!0,Qe=!1):nt&&Qe?(nt=!1,Qe=!1):Qe=!0;break;case re.CODE_SHIFT:b=!0,x=re.CODE_CODE_B;break;case re.CODE_CODE_B:x=re.CODE_CODE_B;break;case re.CODE_CODE_C:x=re.CODE_CODE_C;break;case re.CODE_STOP:S=!0;break}break;case re.CODE_CODE_B:if(Q<96)Qe===nt?R+=String.fromCharCode(32+Q):R+=String.fromCharCode(32+Q+128),Qe=!1;else switch(Q!==re.CODE_STOP&&(se=!1),Q){case re.CODE_FNC_1:d&&(R.length===0?R+="]C1":R+="");break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!nt&&Qe?(nt=!0,Qe=!1):nt&&Qe?(nt=!1,Qe=!1):Qe=!0;break;case re.CODE_SHIFT:b=!0,x=re.CODE_CODE_A;break;case re.CODE_CODE_A:x=re.CODE_CODE_A;break;case re.CODE_CODE_C:x=re.CODE_CODE_C;break;case re.CODE_STOP:S=!0;break}break;case re.CODE_CODE_C:if(Q<100)Q<10&&(R+="0"),R+=Q;else switch(Q!==re.CODE_STOP&&(se=!1),Q){case re.CODE_FNC_1:d&&(R.length===0?R+="]C1":R+="");break;case re.CODE_CODE_A:x=re.CODE_CODE_A;break;case re.CODE_CODE_B:x=re.CODE_CODE_B;break;case re.CODE_STOP:S=!0;break}break}zi&&(x=x===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const Wt=U-P;if(U=r.getNextUnset(U),!r.isRange(U,Math.min(r.getSize(),U+(U-P)/2),!1))throw new ee;if(de-=ue*G,de%103!==G)throw new W;const zn=R.length;if(zn===0)throw new ee;zn>0&&se&&(x===re.CODE_CODE_C?R=R.substring(0,zn-2):R=R.substring(0,zn-1));const Hn=(u[1]+u[0])/2,yt=P+Wt/2,yn=E.length,Wn=new Uint8Array(yn);for(let zi=0;zi<yn;zi++)Wn[zi]=E[zi];const fr=[new we(Hn,i),new we(yt,i)];return new je(R,Wn,0,fr,ae.CODE_128,new Date().getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;class $e extends mt{constructor(i=!1,r=!1){super(),this.usingCheckDigit=i,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,r,a){let d=this.counters;d.fill(0),this.decodeRowResult="";let u=$e.findAsteriskPattern(r,d),f=r.getNextSet(u[1]),p=r.getSize(),E,x;do{$e.recordPattern(r,f,d);let z=$e.toNarrowWidePattern(d);if(z<0)throw new ee;E=$e.patternToChar(z),this.decodeRowResult+=E,x=f;for(let G of d)f+=G;f=r.getNextSet(f)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let z of d)S+=z;let b=f-x-S;if(f!==p&&b*2<S)throw new ee;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,G=0;for(let Q=0;Q<z;Q++)G+=$e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(z)!==$e.ALPHABET_STRING.charAt(G%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new ee;let R;this.extendedMode?R=$e.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let P=(u[1]+u[0])/2,U=x+S/2;return new je(R,null,0,[new we(P,i),new we(U,i)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(i,r){let a=i.getSize(),d=i.getNextSet(0),u=0,f=d,p=!1,E=r.length;for(let x=d;x<a;x++)if(i.get(x)!==p)r[u]++;else{if(u===E-1){if(this.toNarrowWidePattern(r)===$e.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,p=!p}throw new ee}static toNarrowWidePattern(i){let r=i.length,a=0,d;do{let u=2147483647;for(let E of i)E<u&&E>a&&(u=E);a=u,d=0;let f=0,p=0;for(let E=0;E<r;E++){let x=i[E];x>a&&(p|=1<<r-1-E,d++,f+=x)}if(d===3){for(let E=0;E<r&&d>0;E++){let x=i[E];if(x>a&&(d--,x*2>=f))return-1}return p}}while(d>3);return-1}static patternToChar(i){for(let r=0;r<$e.CHARACTER_ENCODINGS.length;r++)if($e.CHARACTER_ENCODINGS[r]===i)return $e.ALPHABET_STRING.charAt(r);if(i===$e.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(i){let r=i.length,a="";for(let d=0;d<r;d++){let u=i.charAt(d);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=i.charAt(d+1),p="\0";switch(u){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new K;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new K;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="";else throw new K;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new K;break}a+=p,d++}else a+=u}return a}}$e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",$e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],$e.ASTERISK_ENCODING=148;class Ne extends mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,r,a){let d=this.decodeStart(r),u=this.decodeEnd(r),f=new Ue;Ne.decodeMiddle(r,d[1],u[0],f);let p=f.toString(),E=null;a!=null&&(E=a.get(ce.ALLOWED_LENGTHS)),E==null&&(E=Ne.DEFAULT_ALLOWED_LENGTHS);let x=p.length,S=!1,b=0;for(let U of E){if(x===U){S=!0;break}U>b&&(b=U)}if(!S&&x>b&&(S=!0),!S)throw new K;const R=[new we(d[1],i),new we(u[0],i)];return new je(p,null,0,R,ae.ITF,new Date().getTime())}static decodeMiddle(i,r,a,d){let u=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),f.fill(0),p.fill(0);r<a;){mt.recordPattern(i,r,u);for(let x=0;x<5;x++){let S=2*x;f[x]=u[S],p[x]=u[S+1]}let E=Ne.decodeDigit(f);d.append(E.toString()),E=this.decodeDigit(p),d.append(E.toString()),u.forEach(function(x){r+=x})}}decodeStart(i){let r=Ne.skipWhiteSpace(i),a=Ne.findGuardPattern(i,r,Ne.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let d=r-1;a>0&&d>=0&&!i.get(d);d--)a--;if(a!==0)throw new ee}static skipWhiteSpace(i){const r=i.getSize(),a=i.getNextSet(0);if(a===r)throw new ee;return a}decodeEnd(i){i.reverse();try{let r=Ne.skipWhiteSpace(i),a;try{a=Ne.findGuardPattern(i,r,Ne.END_PATTERN_REVERSED[0])}catch(u){u instanceof ee&&(a=Ne.findGuardPattern(i,r,Ne.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let d=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-d,a}finally{i.reverse()}}static findGuardPattern(i,r,a){let d=a.length,u=new Int32Array(d),f=i.getSize(),p=!1,E=0,x=r;u.fill(0);for(let S=r;S<f;S++)if(i.get(S)!==p)u[E]++;else{if(E===d-1){if(mt.patternMatchVariance(u,a,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return[x,S];x+=u[0]+u[1],j.arraycopy(u,2,u,0,E-1),u[E-1]=0,u[E]=0,E--}else E++;u[E]=1,p=!p}throw new ee}static decodeDigit(i){let r=Ne.MAX_AVG_VARIANCE,a=-1,d=Ne.PATTERNS.length;for(let u=0;u<d;u++){let f=Ne.PATTERNS[u],p=mt.patternMatchVariance(i,f,Ne.MAX_INDIVIDUAL_VARIANCE);p<r?(r=p,a=u):p===r&&(a=-1)}if(a>=0)return a%10;throw new ee}}Ne.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ne.MAX_AVG_VARIANCE=.38,Ne.MAX_INDIVIDUAL_VARIANCE=.5,Ne.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ne.START_PATTERN=Int32Array.from([1,1,1,1]),Ne.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Je extends mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let r=!1,a,d=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),a=Je.findGuardPattern(i,d,!1,this.START_END_PATTERN,u);let f=a[0];d=a[1];let p=f-(d-f);p>=0&&(r=i.isRange(p,f,!1))}return a}static checkChecksum(i){return Je.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let r=i.length;if(r===0)return!1;let a=parseInt(i.charAt(r-1),10);return Je.getStandardUPCEANChecksum(i.substring(0,r-1))===a}static getStandardUPCEANChecksum(i){let r=i.length,a=0;for(let d=r-1;d>=0;d-=2){let u=i.charAt(d).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}a*=3;for(let d=r-2;d>=0;d-=2){let u=i.charAt(d).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}return(1e3-a)%10}static decodeEnd(i,r){return Je.findGuardPattern(i,r,!1,Je.START_END_PATTERN,new Int32Array(Je.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,r,a,d){return this.findGuardPattern(i,r,a,d,new Int32Array(d.length))}static findGuardPattern(i,r,a,d,u){let f=i.getSize();r=a?i.getNextUnset(r):i.getNextSet(r);let p=0,E=r,x=d.length,S=a;for(let b=r;b<f;b++)if(i.get(b)!==S)u[p]++;else{if(p===x-1){if(mt.patternMatchVariance(u,d,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return Int32Array.from([E,b]);E+=u[0]+u[1];let R=u.slice(2,u.length-1);for(let P=0;P<p-1;P++)u[P]=R[P];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,S=!S}throw new ee}static decodeDigit(i,r,a,d){this.recordPattern(i,a,r);let u=this.MAX_AVG_VARIANCE,f=-1,p=d.length;for(let E=0;E<p;E++){let x=d[E],S=mt.patternMatchVariance(r,x,Je.MAX_INDIVIDUAL_VARIANCE);S<u&&(u=S,f=E)}if(f>=0)return f;throw new ee}}Je.MAX_AVG_VARIANCE=.48,Je.MAX_INDIVIDUAL_VARIANCE=.7,Je.START_END_PATTERN=Int32Array.from([1,1,1]),Je.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Je.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Je.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Yt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,r,a){let d=this.decodeRowStringBuffer,u=this.decodeMiddle(r,a,d),f=d.toString(),p=Yt.parseExtensionString(f),E=[new we((a[0]+a[1])/2,i),new we(u,i)],x=new je(f,null,0,E,ae.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(i,r,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=i.getSize(),f=r[1],p=0;for(let x=0;x<5&&f<u;x++){let S=Je.decodeDigit(i,d,f,Je.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let b of d)f+=b;S>=10&&(p|=1<<4-x),x!==4&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(a.length!==5)throw new ee;let E=this.determineCheckDigit(p);if(Yt.extensionChecksum(a.toString())!==E)throw new ee;return f}static extensionChecksum(i){let r=i.length,a=0;for(let d=r-2;d>=0;d-=2)a+=i.charAt(d).charCodeAt(0)-48;a*=3;for(let d=r-1;d>=0;d-=2)a+=i.charAt(d).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let r=0;r<10;r++)if(i===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ee}static parseExtensionString(i){if(i.length!==5)return null;let r=Yt.parseExtension5String(i);return r==null?null:new Map([[vt.SUGGESTED_PRICE,r]])}static parseExtension5String(i){let r;switch(i.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(i.substring(1)),d=(a/100).toString(),u=a%100,f=u<10?"0"+u:u.toString();return r+d+"."+f}}class un{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,r,a){let d=this.decodeRowStringBuffer,u=this.decodeMiddle(r,a,d),f=d.toString(),p=un.parseExtensionString(f),E=[new we((a[0]+a[1])/2,i),new we(u,i)],x=new je(f,null,0,E,ae.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(i,r,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=i.getSize(),f=r[1],p=0;for(let E=0;E<2&&f<u;E++){let x=Je.decodeDigit(i,d,f,Je.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let S of d)f+=S;x>=10&&(p|=1<<1-E),E!==1&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(a.length!==2)throw new ee;if(parseInt(a.toString())%4!==p)throw new ee;return f}static parseExtensionString(i){return i.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(i)]])}}class Li{static decodeRow(i,r,a){let d=Je.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Yt().decodeRow(i,r,d)}catch{return new un().decodeRow(i,r,d)}}}Li.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends Je{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let r=We.L_PATTERNS[i-10],a=new Int32Array(r.length);for(let d=0;d<r.length;d++)a[d]=r[r.length-d-1];We.L_AND_G_PATTERNS[i]=a}}decodeRow(i,r,a){let d=We.findStartGuardPattern(r),u=a==null?null:a.get(ce.NEED_RESULT_POINT_CALLBACK);if(u!=null){const se=new we((d[0]+d[1])/2,i);u.foundPossibleResultPoint(se)}let f=this.decodeMiddle(r,d,this.decodeRowStringBuffer),p=f.rowOffset,E=f.resultString;if(u!=null){const se=new we(p,i);u.foundPossibleResultPoint(se)}let x=this.decodeEnd(r,p);if(u!=null){const se=new we((x[0]+x[1])/2,i);u.foundPossibleResultPoint(se)}let S=x[1],b=S+(S-x[0]);if(b>=r.getSize()||!r.isRange(S,b,!1))throw new ee;let R=E.toString();if(R.length<8)throw new K;if(!We.checkChecksum(R))throw new W;let P=(d[1]+d[0])/2,U=(x[1]+x[0])/2,z=this.getBarcodeFormat(),G=[new we(P,i),new we(U,i)],Q=new je(R,null,0,G,z,new Date().getTime()),de=0;try{let se=Li.decodeRow(i,r,x[1]);Q.putMetadata(vt.UPC_EAN_EXTENSION,se.getText()),Q.putAllMetadata(se.getResultMetadata()),Q.addResultPoints(se.getResultPoints()),de=se.getText().length}catch{}let ue=a==null?null:a.get(ce.ALLOWED_EAN_EXTENSIONS);if(ue!=null){let se=!1;for(let nt in ue)if(de.toString()===nt){se=!0;break}if(!se)throw new ee}return Q}decodeEnd(i,r){return We.findGuardPattern(i,r,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return We.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let r=i.length;if(r===0)return!1;let a=parseInt(i.charAt(r-1),10);return We.getStandardUPCEANChecksum(i.substring(0,r-1))===a}static getStandardUPCEANChecksum(i){let r=i.length,a=0;for(let d=r-1;d>=0;d-=2){let u=i.charAt(d).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}a*=3;for(let d=r-2;d>=0;d-=2){let u=i.charAt(d).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}return(1e3-a)%10}}class Ot extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,r,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=i.getSize(),f=r[1],p=0;for(let x=0;x<6&&f<u;x++){let S=We.decodeDigit(i,d,f,We.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let b of d)f+=b;S>=10&&(p|=1<<5-x)}a=Ot.determineFirstDigit(a,p),f=We.findGuardPattern(i,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<u;x++){let S=We.decodeDigit(i,d,f,We.L_PATTERNS);a+=String.fromCharCode(48+S);for(let b of d)f+=b}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(i,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new ee}}Ot.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ed extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,r,a){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=i.getSize(),f=r[1];for(let E=0;E<4&&f<u;E++){let x=We.decodeDigit(i,d,f,We.L_PATTERNS);a+=String.fromCharCode(48+x);for(let S of d)f+=S}f=We.findGuardPattern(i,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&f<u;E++){let x=We.decodeDigit(i,d,f,We.L_PATTERNS);a+=String.fromCharCode(48+x);for(let S of d)f+=S}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return ae.EAN_8}}class td extends We{constructor(){super(...arguments),this.ean13Reader=new Ot}getBarcodeFormat(){return ae.UPC_A}decode(i,r){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,r,a))}decodeMiddle(i,r,a){return this.ean13Reader.decodeMiddle(i,r,a)}maybeReturnResult(i){let r=i.getText();if(r.charAt(0)==="0"){let a=new je(r.substring(1),null,null,i.getResultPoints(),ae.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new ee}reset(){this.ean13Reader.reset()}}class _i extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,r,a){const d=this.decodeMiddleCounters.map(x=>x);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const u=i.getSize();let f=r[1],p=0;for(let x=0;x<6&&f<u;x++){const S=_i.decodeDigit(i,d,f,_i.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let b of d)f+=b;S>=10&&(p|=1<<5-x)}let E=_i.determineNumSysAndCheckDigit(a,p);return{rowOffset:f,resultString:E}}decodeEnd(i,r){return _i.findGuardPatternWithoutCounters(i,r,!0,_i.MIDDLE_END_PATTERN)}checkChecksum(i){return We.checkChecksum(_i.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,r){for(let a=0;a<=1;a++)for(let d=0;d<10;d++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][d]){let u=String.fromCharCode(48+a),f=String.fromCharCode(48+d);return u+i+f}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(i){const r=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new Ue;a.append(i.charAt(0));let d=r[5];switch(d){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(d),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(d);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}_i.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_i.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ca extends mt{constructor(i){super();let r=i==null?null:i.get(ce.POSSIBLE_FORMATS),a=[];o(r)?(a.push(new Ot),a.push(new td),a.push(new ed),a.push(new _i)):(r.indexOf(ae.EAN_13)>-1&&a.push(new Ot),r.indexOf(ae.UPC_A)>-1&&a.push(new td),r.indexOf(ae.EAN_8)>-1&&a.push(new ed),r.indexOf(ae.UPC_E)>-1&&a.push(new _i)),this.readers=a}decodeRow(i,r,a){for(let d of this.readers)try{const u=d.decodeRow(i,r,a),f=u.getBarcodeFormat()===ae.EAN_13&&u.getText().charAt(0)==="0",p=a==null?null:a.get(ce.POSSIBLE_FORMATS),E=p==null||p.includes(ae.UPC_A);if(f&&E){const x=u.getRawBytes(),S=new je(u.getText().substring(1),x,x?x.length:null,u.getResultPoints(),ae.UPC_A);return S.putAllMetadata(u.getResultMetadata()),S}return u}catch{}throw new ee}reset(){for(let i of this.readers)i.reset()}}class Cn extends mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,r){for(let a=0;a<r.length;a++)if(mt.patternMatchVariance(i,r[a],Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE)return a;throw new ee}static count(i){return Ce.sum(new Int32Array(i))}static increment(i,r){let a=0,d=r[0];for(let u=1;u<i.length;u++)r[u]>d&&(d=r[u],a=u);i[a]++}static decrement(i,r){let a=0,d=r[0];for(let u=1;u<i.length;u++)r[u]<d&&(d=r[u],a=u);i[a]--}static isFinderPattern(i){let r=i[0]+i[1],a=r+i[2]+i[3],d=r/a;if(d>=Cn.MIN_FINDER_PATTERN_RATIO&&d<=Cn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of i)p>f&&(f=p),p<u&&(u=p);return f<10*u}return!1}}Cn.MAX_AVG_VARIANCE=.2,Cn.MAX_INDIVIDUAL_VARIANCE=.45,Cn.MIN_FINDER_PATTERN_RATIO=9.5/12,Cn.MAX_FINDER_PATTERN_RATIO=12.5/14;class or{constructor(i,r){this.value=i,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof or))return!1;const r=i;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class rr{constructor(i,r,a,d,u){this.value=i,this.startEnd=r,this.value=i,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new we(a,u)),this.resultPoints.push(new we(d,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof rr))return!1;const r=i;return this.value===r.value}hashCode(){return this.value}}class Oi{constructor(){}static getRSSvalue(i,r,a){let d=0;for(let E of i)d+=E;let u=0,f=0,p=i.length;for(let E=0;E<p-1;E++){let x;for(x=1,f|=1<<E;x<i[E];x++,f&=~(1<<E)){let S=Oi.combins(d-x-1,p-E-2);if(a&&f===0&&d-x-(p-E-1)>=p-E-1&&(S-=Oi.combins(d-x-(p-E),p-E-2)),p-E-1>1){let b=0;for(let R=d-x-(p-E-2);R>r;R--)b+=Oi.combins(d-x-R-1,p-E-3);S-=b*(p-1-E)}else d-x>r&&S--;u+=S}d-=x}return u}static combins(i,r){let a,d;i-r>r?(d=r,a=i-r):(d=i-r,a=r);let u=1,f=1;for(let p=i;p>a;p--)u*=p,f<=d&&(u/=f,f++);for(;f<=d;)u/=f,f++;return u}}class ru{static buildBitArray(i){let r=i.length*2-1;i[i.length-1].getRightChar()==null&&(r-=1);let a=12*r,d=new J(a),u=0,p=i[0].getRightChar().getValue();for(let E=11;E>=0;--E)p&1<<E&&d.set(u),u++;for(let E=1;E<i.length;++E){let x=i[E],S=x.getLeftChar().getValue();for(let b=11;b>=0;--b)S&1<<b&&d.set(u),u++;if(x.getRightChar()!=null){let b=x.getRightChar().getValue();for(let R=11;R>=0;--R)b&1<<R&&d.set(u),u++}}return d}}class Lo{constructor(i,r){r?this.decodedInformation=null:(this.finished=i,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Sa{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class zt extends Sa{constructor(i,r){super(i),this.value=r}getValue(){return this.value}isFNC1(){return this.value===zt.FNC1}}zt.FNC1="$";class Te extends Sa{constructor(i,r,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qn extends Sa{constructor(i,r,a){if(super(i),r<0||r>10||a<0||a>10)throw new K;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===qn.FNC1}isAnyFNC1(){return this.firstDigit===qn.FNC1||this.secondDigit===qn.FNC1}}qn.FNC1=10;class xe{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ee;let r=i.substring(0,2);for(let u of xe.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(2,u[2],i):xe.processFixedAI(2,u[1],i);if(i.length<3)throw new ee;let a=i.substring(0,3);for(let u of xe.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(3,u[2],i):xe.processFixedAI(3,u[1],i);for(let u of xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,u[2],i):xe.processFixedAI(4,u[1],i);if(i.length<4)throw new ee;let d=i.substring(0,4);for(let u of xe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===d)return u[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,u[2],i):xe.processFixedAI(4,u[1],i);throw new ee}static processFixedAI(i,r,a){if(a.length<i)throw new ee;let d=a.substring(0,i);if(a.length<i+r)throw new ee;let u=a.substring(i,i+r),f=a.substring(i+r),p="("+d+")"+u,E=xe.parseFieldsInGeneralPurpose(f);return E==null?p:p+E}static processVariableAI(i,r,a){let d=a.substring(0,i),u;a.length<i+r?u=a.length:u=i+r;let f=a.substring(i,u),p=a.substring(u),E="("+d+")"+f,x=xe.parseFieldsInGeneralPurpose(p);return x==null?E:E+x}}xe.VARIABLE_LENGTH=[],xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xe.VARIABLE_LENGTH,20],["22",xe.VARIABLE_LENGTH,29],["30",xe.VARIABLE_LENGTH,8],["37",xe.VARIABLE_LENGTH,8],["90",xe.VARIABLE_LENGTH,30],["91",xe.VARIABLE_LENGTH,30],["92",xe.VARIABLE_LENGTH,30],["93",xe.VARIABLE_LENGTH,30],["94",xe.VARIABLE_LENGTH,30],["95",xe.VARIABLE_LENGTH,30],["96",xe.VARIABLE_LENGTH,30],["97",xe.VARIABLE_LENGTH,3],["98",xe.VARIABLE_LENGTH,30],["99",xe.VARIABLE_LENGTH,30]],xe.THREE_DIGIT_DATA_LENGTH=[["240",xe.VARIABLE_LENGTH,30],["241",xe.VARIABLE_LENGTH,30],["242",xe.VARIABLE_LENGTH,6],["250",xe.VARIABLE_LENGTH,30],["251",xe.VARIABLE_LENGTH,30],["253",xe.VARIABLE_LENGTH,17],["254",xe.VARIABLE_LENGTH,20],["400",xe.VARIABLE_LENGTH,30],["401",xe.VARIABLE_LENGTH,30],["402",17],["403",xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xe.VARIABLE_LENGTH,20],["421",xe.VARIABLE_LENGTH,15],["422",3],["423",xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xe.VARIABLE_LENGTH,15],["391",xe.VARIABLE_LENGTH,18],["392",xe.VARIABLE_LENGTH,15],["393",xe.VARIABLE_LENGTH,18],["703",xe.VARIABLE_LENGTH,30]],xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xe.VARIABLE_LENGTH,20],["8003",xe.VARIABLE_LENGTH,30],["8004",xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xe.VARIABLE_LENGTH,30],["8008",xe.VARIABLE_LENGTH,12],["8018",18],["8020",xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xe.VARIABLE_LENGTH,70],["8200",xe.VARIABLE_LENGTH,70]];class Oo{constructor(i){this.buffer=new Ue,this.information=i}decodeAllCodes(i,r){let a=r,d=null;do{let u=this.decodeGeneralPurposeField(a,d),f=xe.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&i.append(f),u.isRemaining()?d=""+u.getRemainingValue():d=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let r=i;r<i+3;++r)if(this.information.get(r))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new qn(this.information.getSize(),qn.FNC1,qn.FNC1):new qn(this.information.getSize(),u-1,qn.FNC1)}let r=this.extractNumericValueFromBitArray(i,7),a=(r-8)/11,d=(r-8)%11;return new qn(i+7,a,d)}extractNumericValueFromBitArray(i,r){return Oo.extractNumericValueFromBitArray(this.information,i,r)}static extractNumericValueFromBitArray(i,r,a){let d=0;for(let u=0;u<a;++u)i.get(r+u)&&(d|=1<<a-u-1);return d}decodeGeneralPurposeField(i,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Te(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Te(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),i=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),i=r.isFinished()):(r=this.parseNumericBlock(),i=r.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let r;return i.isSecondDigitFNC1()?r=new Te(this.current.getPosition(),this.buffer.toString()):r=new Te(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Lo(!0,r)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let r=new Te(this.current.getPosition(),this.buffer.toString());return new Lo(!0,r)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Lo(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let r=new Te(this.current.getPosition(),this.buffer.toString());return new Lo(!0,r)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Lo(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let r=new Te(this.current.getPosition(),this.buffer.toString());return new Lo(!0,r)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Lo(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(i,5);if(r>=5&&r<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(i,8);return d>=232&&d<253}decodeIsoIec646(i){let r=this.extractNumericValueFromBitArray(i,5);if(r===15)return new zt(i+5,zt.FNC1);if(r>=5&&r<15)return new zt(i+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new zt(i+7,""+(a+1));if(a>=90&&a<116)return new zt(i+7,""+(a+7));let d=this.extractNumericValueFromBitArray(i,8),u;switch(d){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new K}return new zt(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(i,5);if(r>=5&&r<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let r=this.extractNumericValueFromBitArray(i,5);if(r===15)return new zt(i+5,zt.FNC1);if(r>=5&&r<15)return new zt(i+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new zt(i+6,""+(a+33));let d;switch(a){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Kn("Decoding invalid alphanumeric value: "+a)}return new zt(i+6,d)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let r=0;r<5&&r+i<this.information.getSize();++r)if(r===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+r))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let r=i;r<i+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let r=0;r<4&&r+i<this.information.getSize();++r)if(this.information.get(i+r))return!1;return!0}}class Cs{constructor(i){this.information=i,this.generalDecoder=new Oo(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Sn extends Cs{constructor(i){super(i)}encodeCompressedGtin(i,r){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,r,a)}encodeCompressedGtinWithoutAI(i,r,a){for(let d=0;d<4;++d){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*d,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}Sn.appendCheckDigit(i,a)}static appendCheckDigit(i,r){let a=0;for(let d=0;d<13;d++){let u=i.charAt(d+r).charCodeAt(0)-48;a+=d&1?u:3*u}a=10-a%10,a===10&&(a=0),i.append(a)}}Sn.GTIN_SIZE=40;class Do extends Sn{constructor(i){super(i)}parseInformation(){let i=new Ue;i.append("(01)");let r=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Do.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,Do.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(i,Do.HEADER_SIZE+44)}}Do.HEADER_SIZE=4;class Ki extends Cs{constructor(i){super(i)}parseInformation(){let i=new Ue;return this.getGeneralDecoder().decodeAllCodes(i,Ki.HEADER_SIZE)}}Ki.HEADER_SIZE=5;class Wr extends Sn{constructor(i){super(i)}encodeCompressedWeight(i,r,a){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(i,d);let u=this.checkWeight(d),f=1e5;for(let p=0;p<5;++p)u/f===0&&i.append("0"),f/=10;i.append(u)}}class Di extends Wr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Di.HEADER_SIZE+Wr.GTIN_SIZE+Di.WEIGHT_SIZE)throw new ee;let i=new Ue;return this.encodeCompressedGtin(i,Di.HEADER_SIZE),this.encodeCompressedWeight(i,Di.HEADER_SIZE+Wr.GTIN_SIZE,Di.WEIGHT_SIZE),i.toString()}}Di.HEADER_SIZE=5,Di.WEIGHT_SIZE=15;class su extends Di{constructor(i){super(i)}addWeightCode(i,r){i.append("(3103)")}checkWeight(i){return i}}class au extends Di{constructor(i){super(i)}addWeightCode(i,r){r<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Pi extends Sn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Pi.HEADER_SIZE+Sn.GTIN_SIZE)throw new ee;let i=new Ue;this.encodeCompressedGtin(i,Pi.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pi.HEADER_SIZE+Sn.GTIN_SIZE,Pi.LAST_DIGIT_SIZE);i.append("(392"),i.append(r),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Pi.HEADER_SIZE+Sn.GTIN_SIZE+Pi.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}Pi.HEADER_SIZE=8,Pi.LAST_DIGIT_SIZE=2;class An extends Sn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Sn.GTIN_SIZE)throw new ee;let i=new Ue;this.encodeCompressedGtin(i,An.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Sn.GTIN_SIZE,An.LAST_DIGIT_SIZE);i.append("(393"),i.append(r),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Sn.GTIN_SIZE+An.LAST_DIGIT_SIZE,An.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let d=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Sn.GTIN_SIZE+An.LAST_DIGIT_SIZE+An.FIRST_THREE_DIGITS_SIZE,null);return i.append(d.getNewString()),i.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2,An.FIRST_THREE_DIGITS_SIZE=10;class Dt extends Wr{constructor(i,r,a){super(i),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new ee;let i=new Ue;return this.encodeCompressedGtin(i,Dt.HEADER_SIZE),this.encodeCompressedWeight(i,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(i,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Dt.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let d=a%32;a/=32;let u=a%12+1;a/=12;let f=a;f/10==0&&i.append("0"),i.append(f),u/10==0&&i.append("0"),i.append(u),d/10==0&&i.append("0"),i.append(d)}addWeightCode(i,r){i.append("("),i.append(this.firstAIdigits),i.append(r/1e5),i.append(")")}checkWeight(i){return i%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function Vr(I){try{if(I.get(1))return new Do(I);if(!I.get(2))return new Ki(I);switch(Oo.extractNumericValueFromBitArray(I,1,4)){case 4:return new su(I);case 5:return new au(I)}switch(Oo.extractNumericValueFromBitArray(I,1,5)){case 12:return new Pi(I);case 13:return new An(I)}switch(Oo.extractNumericValueFromBitArray(I,1,7)){case 56:return new Dt(I,"310","11");case 57:return new Dt(I,"320","11");case 58:return new Dt(I,"310","13");case 59:return new Dt(I,"320","13");case 60:return new Dt(I,"310","15");case 61:return new Dt(I,"320","15");case 62:return new Dt(I,"310","17");case 63:return new Dt(I,"320","17")}}catch(i){throw console.log(i),new Kn("unknown decoder: "+I)}}class Eo{constructor(i,r,a,d){this.leftchar=i,this.rightchar=r,this.finderpattern=a,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,r){return i instanceof Eo?Eo.equalsOrNull(i.leftchar,r.leftchar)&&Eo.equalsOrNull(i.rightchar,r.rightchar)&&Eo.equalsOrNull(i.finderpattern,r.finderpattern):!1}static equalsOrNull(i,r){return i===null?r===null:Eo.equals(i,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Aa{constructor(i,r,a){this.pairs=i,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,r){return i instanceof Aa?this.checkEqualitity(i,r)&&i.wasReversed===r.wasReversed:!1}checkEqualitity(i,r){if(!i||!r)return;let a;return i.forEach((d,u)=>{r.forEach(f=>{d.getLeftChar().getValue()===f.getLeftChar().getValue()&&d.getRightChar().getValue()===f.getRightChar().getValue()&&d.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(a=!0)})}),a}}class ie extends Cn{constructor(i){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,r,a){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(i,r))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(i,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,i))}catch(u){if(u instanceof ee){if(!this.pairs.length)throw new ee;a=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(i,!1),d){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ee}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),r}checkRows(i,r){for(let a=r;a<this.rows.length;a++){let d=this.rows[a];this.pairs.length=0;for(let f of i)this.pairs.push(f.getPairs());if(this.pairs.push(d.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(d);try{return this.checkRows(u,a+1)}catch(f){this.verbose&&console.log(f)}}throw new ee}static isValidSequence(i){for(let r of ie.FINDER_PATTERN_SEQUENCES){if(i.length>r.length)continue;let a=!0;for(let d=0;d<i.length;d++)if(i[d].getFinderPattern().getValue()!=r[d]){a=!1;break}if(a)return!0}return!1}storeRow(i,r){let a=0,d=!1,u=!1;for(;a<this.rows.length;){let f=this.rows[a];if(f.getRowNumber()>i){u=f.isEquivalent(this.pairs);break}d=f.isEquivalent(this.pairs),a++}u||d||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Aa(this.pairs,i,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,r){for(let a of r)if(a.getPairs().length!==i.length){for(let d of a.getPairs())for(let u of i)if(Eo.equals(d,u))break}}static isPartialRow(i,r){for(let a of r){let d=!0;for(let u of i){let f=!1;for(let p of a.getPairs())if(u.equals(p)){f=!0;break}if(!f){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(i){let r=ru.buildBitArray(i),d=Vr(r).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),f=i[i.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],f[0],f[1]];return new je(d,null,null,p,ae.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),r=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let d=a.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let E=this.pairs.get(p);d+=E.getLeftChar().getChecksumPortion(),u++;let x=E.getRightChar();x!=null&&(d+=x.getChecksumPortion(),u++)}return d%=211,211*(u-4)+d==r.getValue()}static getNextSecondBar(i,r){let a;return i.get(r)?(a=i.getNextUnset(r),a=i.getNextSet(a)):(a=i.getNextSet(r),a=i.getNextUnset(a)),a}retrieveNextPair(i,r,a){let d=r.length%2==0;this.startFromEven&&(d=!d);let u,f=!0,p=-1;do this.findNextPair(i,r,p),u=this.parseFoundFinderPattern(i,a,d),u==null?p=ie.getNextSecondBar(i,this.startEnd[0]):f=!1;while(f);let E=this.decodeDataCharacter(i,u,d,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ee;let x;try{x=this.decodeDataCharacter(i,u,d,!1)}catch(S){x=null,this.verbose&&console.log(S)}return new Eo(E,x,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,r,a){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=i.getSize(),f;a>=0?f=a:this.isEmptyPair(r)?f=0:f=r[r.length-1].getFinderPattern().getStartEnd()[1];let p=r.length%2!=0;this.startFromEven&&(p=!p);let E=!1;for(;f<u&&(E=!i.get(f),!!E);)f++;let x=0,S=f;for(let b=f;b<u;b++)if(i.get(b)!=E)d[x]++;else{if(x==3){if(p&&ie.reverseCounters(d),ie.isFinderPattern(d)){this.startEnd[0]=S,this.startEnd[1]=b;return}p&&ie.reverseCounters(d),S+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,x--}else x++;d[x]=1,E=!E}throw new ee}static reverseCounters(i){let r=i.length;for(let a=0;a<r/2;++a){let d=i[a];i[a]=i[r-a-1],i[r-a-1]=d}}parseFoundFinderPattern(i,r,a){let d,u,f;if(a){let x=this.startEnd[0]-1;for(;x>=0&&!i.get(x);)x--;x++,d=this.startEnd[0]-x,u=x,f=this.startEnd[1]}else u=this.startEnd[0],f=i.getNextUnset(this.startEnd[1]+1),d=f-this.startEnd[1];let p=this.getDecodeFinderCounters();j.arraycopy(p,0,p,1,p.length-1),p[0]=d;let E;try{E=this.parseFinderValue(p,ie.FINDER_PATTERNS)}catch{return null}return new rr(E,[u,f],u,f,r)}decodeDataCharacter(i,r,a,d){let u=this.getDataCharacterCounters();for(let yt=0;yt<u.length;yt++)u[yt]=0;if(d)ie.recordPatternInReverse(i,r.getStartEnd()[0],u);else{ie.recordPattern(i,r.getStartEnd()[1],u);for(let yt=0,yn=u.length-1;yt<yn;yt++,yn--){let Wn=u[yt];u[yt]=u[yn],u[yn]=Wn}}let f=17,p=Ce.sum(new Int32Array(u))/f,E=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(p-E)/E>.3)throw new ee;let x=this.getOddCounts(),S=this.getEvenCounts(),b=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let yt=0;yt<u.length;yt++){let yn=1*u[yt]/p,Wn=yn+.5;if(Wn<1){if(yn<.3)throw new ee;Wn=1}else if(Wn>8){if(yn>8.7)throw new ee;Wn=8}let fr=yt/2;yt&1?(S[fr]=Wn,R[fr]=yn-Wn):(x[fr]=Wn,b[fr]=yn-Wn)}this.adjustOddEvenCounts(f);let P=4*r.getValue()+(a?0:2)+(d?0:1)-1,U=0,z=0;for(let yt=x.length-1;yt>=0;yt--){if(ie.isNotA1left(r,a,d)){let yn=ie.WEIGHTS[P][2*yt];z+=x[yt]*yn}U+=x[yt]}let G=0;for(let yt=S.length-1;yt>=0;yt--)if(ie.isNotA1left(r,a,d)){let yn=ie.WEIGHTS[P][2*yt+1];G+=S[yt]*yn}let Q=z+G;if(U&1||U>13||U<4)throw new ee;let de=(13-U)/2,ue=ie.SYMBOL_WIDEST[de],se=9-ue,nt=Oi.getRSSvalue(x,ue,!0),Qe=Oi.getRSSvalue(S,se,!1),Wt=ie.EVEN_TOTAL_SUBSET[de],zn=ie.GSUM[de],Hn=nt*Wt+Qe+zn;return new or(Hn,Q)}static isNotA1left(i,r,a){return!(i.getValue()==0&&r&&a)}adjustOddEvenCounts(i){let r=Ce.sum(new Int32Array(this.getOddCounts())),a=Ce.sum(new Int32Array(this.getEvenCounts())),d=!1,u=!1;r>13?u=!0:r<4&&(d=!0);let f=!1,p=!1;a>13?p=!0:a<4&&(f=!0);let E=r+a-i,x=(r&1)==1,S=(a&1)==0;if(E==1)if(x){if(S)throw new ee;u=!0}else{if(!S)throw new ee;p=!0}else if(E==-1)if(x){if(S)throw new ee;d=!0}else{if(!S)throw new ee;f=!0}else if(E==0){if(x){if(!S)throw new ee;r<a?(d=!0,p=!0):(u=!0,f=!0)}else if(S)throw new ee}else throw new ee;if(d){if(u)throw new ee;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new ee;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class lu extends or{constructor(i,r,a){super(i,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Xt extends Cn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,r,a){const d=this.decodePair(r,!1,i,a);Xt.addOrTally(this.possibleLeftPairs,d),r.reverse();let u=this.decodePair(r,!0,i,a);Xt.addOrTally(this.possibleRightPairs,u),r.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&Xt.checkChecksum(f,p))return Xt.constructResult(f,p)}throw new ee}static addOrTally(i,r){if(r==null)return;let a=!1;for(let d of i)if(d.getValue()===r.getValue()){d.incrementCount(),a=!0;break}a||i.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,r){let a=4537077*i.getValue()+r.getValue(),d=new String(a).toString(),u=new Ue;for(let x=13-d.length;x>0;x--)u.append("0");u.append(d);let f=0;for(let x=0;x<13;x++){let S=u.charAt(x).charCodeAt(0)-48;f+=x&1?S:3*S}f=10-f%10,f===10&&(f=0),u.append(f.toString());let p=i.getFinderPattern().getResultPoints(),E=r.getFinderPattern().getResultPoints();return new je(u.toString(),null,0,[p[0],p[1],E[0],E[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(i,r){let a=(i.getChecksumPortion()+16*r.getChecksumPortion())%79,d=9*i.getFinderPattern().getValue()+r.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,a===d}decodePair(i,r,a,d){try{let u=this.findFinderPattern(i,r),f=this.parseFoundFinderPattern(i,a,r,u),p=d==null?null:d.get(ce.NEED_RESULT_POINT_CALLBACK);if(p!=null){let S=(u[0]+u[1])/2;r&&(S=i.getSize()-1-S),p.foundPossibleResultPoint(new we(S,a))}let E=this.decodeDataCharacter(i,f,!0),x=this.decodeDataCharacter(i,f,!1);return new lu(1597*E.getValue()+x.getValue(),E.getChecksumPortion()+4*x.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(i,r,a){let d=this.getDataCharacterCounters();for(let G=0;G<d.length;G++)d[G]=0;if(a)mt.recordPatternInReverse(i,r.getStartEnd()[0],d);else{mt.recordPattern(i,r.getStartEnd()[1]+1,d);for(let G=0,Q=d.length-1;G<Q;G++,Q--){let de=d[G];d[G]=d[Q],d[Q]=de}}let u=a?16:15,f=Ce.sum(new Int32Array(d))/u,p=this.getOddCounts(),E=this.getEvenCounts(),x=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let G=0;G<d.length;G++){let Q=d[G]/f,de=Math.floor(Q+.5);de<1?de=1:de>8&&(de=8);let ue=Math.floor(G/2);G&1?(E[ue]=de,S[ue]=Q-de):(p[ue]=de,x[ue]=Q-de)}this.adjustOddEvenCounts(a,u);let b=0,R=0;for(let G=p.length-1;G>=0;G--)R*=9,R+=p[G],b+=p[G];let P=0,U=0;for(let G=E.length-1;G>=0;G--)P*=9,P+=E[G],U+=E[G];let z=R+3*P;if(a){if(b&1||b>12||b<4)throw new ee;let G=(12-b)/2,Q=Xt.OUTSIDE_ODD_WIDEST[G],de=9-Q,ue=Oi.getRSSvalue(p,Q,!1),se=Oi.getRSSvalue(E,de,!0),nt=Xt.OUTSIDE_EVEN_TOTAL_SUBSET[G],Qe=Xt.OUTSIDE_GSUM[G];return new or(ue*nt+se+Qe,z)}else{if(U&1||U>10||U<4)throw new ee;let G=(10-U)/2,Q=Xt.INSIDE_ODD_WIDEST[G],de=9-Q,ue=Oi.getRSSvalue(p,Q,!0),se=Oi.getRSSvalue(E,de,!1),nt=Xt.INSIDE_ODD_TOTAL_SUBSET[G],Qe=Xt.INSIDE_GSUM[G];return new or(se*nt+ue+Qe,z)}}findFinderPattern(i,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let d=i.getSize(),u=!1,f=0;for(;f<d&&(u=!i.get(f),r!==u);)f++;let p=0,E=f;for(let x=f;x<d;x++)if(i.get(x)!==u)a[p]++;else{if(p===3){if(Cn.isFinderPattern(a))return[E,x];E+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,u=!u}throw new ee}parseFoundFinderPattern(i,r,a,d){let u=i.get(d[0]),f=d[0]-1;for(;f>=0&&u!==i.get(f);)f--;f++;const p=d[0]-f,E=this.getDecodeFinderCounters(),x=new Int32Array(E.length);j.arraycopy(E,0,x,1,E.length-1),x[0]=p;const S=this.parseFinderValue(x,Xt.FINDER_PATTERNS);let b=f,R=d[1];return a&&(b=i.getSize()-1-b,R=i.getSize()-1-R),new rr(S,[f,d[1]],b,R,r)}adjustOddEvenCounts(i,r){let a=Ce.sum(new Int32Array(this.getOddCounts())),d=Ce.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,p=!1,E=!1;i?(a>12?f=!0:a<4&&(u=!0),d>12?E=!0:d<4&&(p=!0)):(a>11?f=!0:a<5&&(u=!0),d>10?E=!0:d<4&&(p=!0));let x=a+d-r,S=(a&1)===(i?1:0),b=(d&1)===1;if(x===1)if(S){if(b)throw new ee;f=!0}else{if(!b)throw new ee;E=!0}else if(x===-1)if(S){if(b)throw new ee;u=!0}else{if(!b)throw new ee;p=!0}else if(x===0){if(S){if(!b)throw new ee;a<d?(u=!0,E=!0):(f=!0,p=!0)}else if(b)throw new ee}else throw new ee;if(u){if(f)throw new ee;Cn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Cn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(E)throw new ee;Cn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Cn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Xt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Xt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Xt.OUTSIDE_GSUM=[0,161,961,2015,2715],Xt.INSIDE_GSUM=[0,336,1036,1516],Xt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Xt.INSIDE_ODD_WIDEST=[2,4,6,8],Xt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class yo extends mt{constructor(i,r){super(),this.readers=[],this.verbose=r===!0;const a=i?i.get(ce.POSSIBLE_FORMATS):null,d=i&&i.get(ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ae.EAN_13)||a.includes(ae.UPC_A)||a.includes(ae.EAN_8)||a.includes(ae.UPC_E))&&this.readers.push(new Ca(i)),a.includes(ae.CODE_39)&&this.readers.push(new $e(d)),a.includes(ae.CODE_128)&&this.readers.push(new re),a.includes(ae.ITF)&&this.readers.push(new Ne),a.includes(ae.RSS_14)&&this.readers.push(new Xt),a.includes(ae.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new Ca(i)),this.readers.push(new $e),this.readers.push(new Ca(i)),this.readers.push(new re),this.readers.push(new Ne),this.readers.push(new Xt),this.readers.push(new ie(this.verbose)))}decodeRow(i,r,a){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(i,r,a)}catch{}throw new ee}reset(){this.readers.forEach(i=>i.reset())}}class jr extends St{constructor(i=500,r){super(new yo(r),i,r)}}class _t{constructor(i,r,a){this.ecCodewords=i,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class gt{constructor(i,r){this.count=i,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(i,r,a,d,u,f){this.versionNumber=i,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=u,this.ecBlocks=f;let p=0;const E=f.getECCodewords(),x=f.getECBlocks();for(let S of x)p+=S.getCount()*(S.getDataCodewords()+E);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,r){if(i&1||r&1)throw new K;for(let a of et.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===r)return a;throw new K}toString(){return""+this.versionNumber}static buildVersions(){return[new et(1,10,10,8,8,new _t(5,new gt(1,3))),new et(2,12,12,10,10,new _t(7,new gt(1,5))),new et(3,14,14,12,12,new _t(10,new gt(1,8))),new et(4,16,16,14,14,new _t(12,new gt(1,12))),new et(5,18,18,16,16,new _t(14,new gt(1,18))),new et(6,20,20,18,18,new _t(18,new gt(1,22))),new et(7,22,22,20,20,new _t(20,new gt(1,30))),new et(8,24,24,22,22,new _t(24,new gt(1,36))),new et(9,26,26,24,24,new _t(28,new gt(1,44))),new et(10,32,32,14,14,new _t(36,new gt(1,62))),new et(11,36,36,16,16,new _t(42,new gt(1,86))),new et(12,40,40,18,18,new _t(48,new gt(1,114))),new et(13,44,44,20,20,new _t(56,new gt(1,144))),new et(14,48,48,22,22,new _t(68,new gt(1,174))),new et(15,52,52,24,24,new _t(42,new gt(2,102))),new et(16,64,64,14,14,new _t(56,new gt(2,140))),new et(17,72,72,16,16,new _t(36,new gt(4,92))),new et(18,80,80,18,18,new _t(48,new gt(4,114))),new et(19,88,88,20,20,new _t(56,new gt(4,144))),new et(20,96,96,22,22,new _t(68,new gt(4,174))),new et(21,104,104,24,24,new _t(56,new gt(6,136))),new et(22,120,120,18,18,new _t(68,new gt(6,175))),new et(23,132,132,20,20,new _t(62,new gt(8,163))),new et(24,144,144,22,22,new _t(62,new gt(8,156),new gt(2,155))),new et(25,8,18,6,16,new _t(7,new gt(1,5))),new et(26,8,32,6,14,new _t(11,new gt(1,10))),new et(27,12,26,10,24,new _t(14,new gt(1,16))),new et(28,12,36,10,16,new _t(18,new gt(1,22))),new et(29,16,36,14,16,new _t(24,new gt(1,32))),new et(30,16,48,14,22,new _t(28,new gt(1,49)))]}}et.VERSIONS=et.buildVersions();class ut{constructor(i){const r=i.getHeight();if(r<8||r>144||r&1)throw new K;this.version=ut.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const r=i.getHeight(),a=i.getWidth();return et.getVersionForDimensions(r,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,d=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,E=!1,x=!1,S=!1;do if(a===u&&d===0&&!p)i[r++]=this.readCorner1(u,f)&255,a-=2,d+=2,p=!0;else if(a===u-2&&d===0&&f&3&&!E)i[r++]=this.readCorner2(u,f)&255,a-=2,d+=2,E=!0;else if(a===u+4&&d===2&&!(f&7)&&!x)i[r++]=this.readCorner3(u,f)&255,a-=2,d+=2,x=!0;else if(a===u-2&&d===0&&(f&7)===4&&!S)i[r++]=this.readCorner4(u,f)&255,a-=2,d+=2,S=!0;else{do a<u&&d>=0&&!this.readMappingMatrix.get(d,a)&&(i[r++]=this.readUtah(a,d,u,f)&255),a-=2,d+=2;while(a>=0&&d<f);a+=1,d+=3;do a>=0&&d<f&&!this.readMappingMatrix.get(d,a)&&(i[r++]=this.readUtah(a,d,u,f)&255),a+=2,d-=2;while(a<u&&d>=0);a+=3,d+=1}while(a<u||d<f);if(r!==this.version.getTotalCodewords())throw new K;return i}readModule(i,r,a,d){return i<0&&(i+=a,r+=4-(a+4&7)),r<0&&(r+=d,i+=4-(d+4&7)),this.readMappingMatrix.set(r,i),this.mappingBitMatrix.get(r,i)}readUtah(i,r,a,d){let u=0;return this.readModule(i-2,r-2,a,d)&&(u|=1),u<<=1,this.readModule(i-2,r-1,a,d)&&(u|=1),u<<=1,this.readModule(i-1,r-2,a,d)&&(u|=1),u<<=1,this.readModule(i-1,r-1,a,d)&&(u|=1),u<<=1,this.readModule(i-1,r,a,d)&&(u|=1),u<<=1,this.readModule(i,r-2,a,d)&&(u|=1),u<<=1,this.readModule(i,r-1,a,d)&&(u|=1),u<<=1,this.readModule(i,r,a,d)&&(u|=1),u}readCorner1(i,r){let a=0;return this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,1,i,r)&&(a|=1),a<<=1,this.readModule(i-1,2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(2,r-1,i,r)&&(a|=1),a<<=1,this.readModule(3,r-1,i,r)&&(a|=1),a}readCorner2(i,r){let a=0;return this.readModule(i-3,0,i,r)&&(a|=1),a<<=1,this.readModule(i-2,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(0,r-4,i,r)&&(a|=1),a<<=1,this.readModule(0,r-3,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a}readCorner3(i,r){let a=0;return this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(0,r-3,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-3,i,r)&&(a|=1),a<<=1,this.readModule(1,r-2,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a}readCorner4(i,r){let a=0;return this.readModule(i-3,0,i,r)&&(a|=1),a<<=1,this.readModule(i-2,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(2,r-1,i,r)&&(a|=1),a<<=1,this.readModule(3,r-1,i,r)&&(a|=1),a}extractDataRegion(i){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=r/d|0,p=a/u|0,E=f*d,x=p*u,S=new Ie(x,E);for(let b=0;b<f;++b){const R=b*d;for(let P=0;P<p;++P){const U=P*u;for(let z=0;z<d;++z){const G=b*(d+2)+1+z,Q=R+z;for(let de=0;de<u;++de){const ue=P*(u+2)+1+de;if(i.get(ue,G)){const se=U+de;S.set(se,Q)}}}}}return S}}class Rt{constructor(i,r){this.numDataCodewords=i,this.codewords=r}static getDataBlocks(i,r){const a=r.getECBlocks();let d=0;const u=a.getECBlocks();for(let z of u)d+=z.getCount();const f=new Array(d);let p=0;for(let z of u)for(let G=0;G<z.getCount();G++){const Q=z.getDataCodewords(),de=a.getECCodewords()+Q;f[p++]=new Rt(Q,new Uint8Array(de))}const x=f[0].codewords.length-a.getECCodewords(),S=x-1;let b=0;for(let z=0;z<S;z++)for(let G=0;G<p;G++)f[G].codewords[z]=i[b++];const R=r.getVersionNumber()===24,P=R?8:p;for(let z=0;z<P;z++)f[z].codewords[x-1]=i[b++];const U=f[0].codewords.length;for(let z=x;z<U;z++)for(let G=0;G<p;G++){const Q=R?(G+8)%p:G,de=R&&Q>7?z-1:z;f[Q].codewords[de]=i[b++]}if(b!==i.length)throw new T;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class sr{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new T(""+i);let r=0,a=this.bitOffset,d=this.byteOffset;const u=this.bytes;if(a>0){const f=8-a,p=i<f?i:f,E=f-p,x=255>>8-p<<E;r=(u[d]&x)>>E,i-=p,a+=p,a===8&&(a=0,d++)}if(i>0){for(;i>=8;)r=r<<8|u[d]&255,d++,i-=8;if(i>0){const f=8-i,p=255>>f<<f;r=r<<i|(u[d]&p)>>f,a+=i}}return this.bitOffset=a,this.byteOffset=d,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pt;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));class $n{static decode(i){const r=new sr(i),a=new Ue,d=new Ue,u=new Array;let f=Pt.ASCII_ENCODE;do if(f===Pt.ASCII_ENCODE)f=this.decodeAsciiSegment(r,a,d);else{switch(f){case Pt.C40_ENCODE:this.decodeC40Segment(r,a);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(r,a,u);break;default:throw new K}f=Pt.ASCII_ENCODE}while(f!==Pt.PAD_ENCODE&&r.available()>0);return d.length()>0&&a.append(d.toString()),new po(i,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,r,a){let d=!1;do{let u=i.readBits(8);if(u===0)throw new K;if(u<=128)return d&&(u+=128),r.append(String.fromCharCode(u-1)),Pt.ASCII_ENCODE;if(u===129)return Pt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&r.append("0"),r.append(""+f)}else switch(u){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new K;break}}while(i.available()>0);return Pt.ASCII_ENCODE}static decodeC40Segment(i,r){let a=!1;const d=[];let u=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),d);for(let p=0;p<3;p++){const E=d[p];switch(u){case 0:if(E<3)u=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else throw new K;break;case 1:a?(r.append(String.fromCharCode(E+128)),a=!1):r.append(String.fromCharCode(E)),u=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else switch(E){case 27:r.append("");break;case 30:a=!0;break;default:throw new K}u=0;break;case 3:a?(r.append(String.fromCharCode(E+224)),a=!1):r.append(String.fromCharCode(E+96)),u=0;break;default:throw new K}}}while(i.available()>0)}static decodeTextSegment(i,r){let a=!1,d=[],u=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),d);for(let p=0;p<3;p++){const E=d[p];switch(u){case 0:if(E<3)u=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else throw new K;break;case 1:a?(r.append(String.fromCharCode(E+128)),a=!1):r.append(String.fromCharCode(E)),u=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else switch(E){case 27:r.append("");break;case 30:a=!0;break;default:throw new K}u=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[E];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x),u=0}else throw new K;break;default:throw new K}}}while(i.available()>0)}static decodeAnsiX12Segment(i,r){const a=[];do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),a);for(let u=0;u<3;u++){const f=a[u];switch(f){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(f<14)r.append(String.fromCharCode(f+44));else if(f<40)r.append(String.fromCharCode(f+51));else throw new K;break}}}while(i.available()>0)}static parseTwoBytes(i,r,a){let d=(i<<8)+r-1,u=Math.floor(d/1600);a[0]=u,d-=u*1600,u=Math.floor(d/40),a[1]=u,a[2]=d-u*40}static decodeEdifactSegment(i,r){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let d=i.readBits(6);if(d===31){const u=8-i.getBitOffset();u!==8&&i.readBits(u);return}d&32||(d|=64),r.append(String.fromCharCode(d))}}while(i.available()>0)}static decodeBase256Segment(i,r,a){let d=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),d++);let f;if(u===0?f=i.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(i.readBits(8),d++),f<0)throw new K;const p=new Uint8Array(f);for(let E=0;E<f;E++){if(i.available()<8)throw new K;p[E]=this.unrandomize255State(i.readBits(8),d++)}a.push(p);try{r.append(Pe.decode(p,ye.ISO88591))}catch(E){throw new Kn("Platform does not support required encoding: "+E.message)}}static unrandomize255State(i,r){const a=149*r%255+1,d=i-a;return d>=0?d:d+256}}$n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$n.TEXT_SHIFT2_SET_CHARS=$n.C40_SHIFT2_SET_CHARS,$n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ta{constructor(){this.rsDecoder=new _o(st.DATA_MATRIX_FIELD_256)}decode(i){const r=new ut(i),a=r.getVersion(),d=r.readCodewords(),u=Rt.getDataBlocks(d,a);let f=0;for(let x of u)f+=x.getNumDataCodewords();const p=new Uint8Array(f),E=u.length;for(let x=0;x<E;x++){const S=u[x],b=S.getCodewords(),R=S.getNumDataCodewords();this.correctErrors(b,R);for(let P=0;P<R;P++)p[P*E+x]=b[P]}return $n.decode(p)}correctErrors(i,r){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-r)}catch{throw new W}for(let d=0;d<r;d++)i[d]=a[d]}}class be{constructor(i){this.image=i,this.rectangleDetector=new V(this.image)}detect(){const i=this.rectangleDetector.detect();let r=this.detectSolid1(i);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ee;r=this.shiftToModuleCenter(r);const a=r[0],d=r[1],u=r[2],f=r[3];let p=this.transitionsBetween(a,f)+1,E=this.transitionsBetween(u,f)+1;(p&1)===1&&(p+=1),(E&1)===1&&(E+=1),4*p<7*E&&4*E<7*p&&(p=E=Math.max(p,E));let x=be.sampleGrid(this.image,a,d,u,f,p,E);return new Mo(x,[a,d,u,f])}static shiftPoint(i,r,a){let d=(r.getX()-i.getX())/(a+1),u=(r.getY()-i.getY())/(a+1);return new we(i.getX()+d,i.getY()+u)}static moveAway(i,r,a){let d=i.getX(),u=i.getY();return d<r?d-=1:d+=1,u<a?u-=1:u+=1,new we(d,u)}detectSolid1(i){let r=i[0],a=i[1],d=i[3],u=i[2],f=this.transitionsBetween(r,a),p=this.transitionsBetween(a,d),E=this.transitionsBetween(d,u),x=this.transitionsBetween(u,r),S=f,b=[u,r,a,d];return S>p&&(S=p,b[0]=r,b[1]=a,b[2]=d,b[3]=u),S>E&&(S=E,b[0]=a,b[1]=d,b[2]=u,b[3]=r),S>x&&(b[0]=d,b[1]=u,b[2]=r,b[3]=a),b}detectSolid2(i){let r=i[0],a=i[1],d=i[2],u=i[3],f=this.transitionsBetween(r,u),p=be.shiftPoint(a,d,(f+1)*4),E=be.shiftPoint(d,a,(f+1)*4),x=this.transitionsBetween(p,r),S=this.transitionsBetween(E,u);return x<S?(i[0]=r,i[1]=a,i[2]=d,i[3]=u):(i[0]=a,i[1]=d,i[2]=u,i[3]=r),i}correctTopRight(i){let r=i[0],a=i[1],d=i[2],u=i[3],f=this.transitionsBetween(r,u),p=this.transitionsBetween(a,u),E=be.shiftPoint(r,a,(p+1)*4),x=be.shiftPoint(d,a,(f+1)*4);f=this.transitionsBetween(E,u),p=this.transitionsBetween(x,u);let S=new we(u.getX()+(d.getX()-a.getX())/(f+1),u.getY()+(d.getY()-a.getY())/(f+1)),b=new we(u.getX()+(r.getX()-a.getX())/(p+1),u.getY()+(r.getY()-a.getY())/(p+1));if(!this.isValid(S))return this.isValid(b)?b:null;if(!this.isValid(b))return S;let R=this.transitionsBetween(E,S)+this.transitionsBetween(x,S),P=this.transitionsBetween(E,b)+this.transitionsBetween(x,b);return R>P?S:b}shiftToModuleCenter(i){let r=i[0],a=i[1],d=i[2],u=i[3],f=this.transitionsBetween(r,u)+1,p=this.transitionsBetween(d,u)+1,E=be.shiftPoint(r,a,p*4),x=be.shiftPoint(d,a,f*4);f=this.transitionsBetween(E,u)+1,p=this.transitionsBetween(x,u)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);let S=(r.getX()+a.getX()+d.getX()+u.getX())/4,b=(r.getY()+a.getY()+d.getY()+u.getY())/4;r=be.moveAway(r,S,b),a=be.moveAway(a,S,b),d=be.moveAway(d,S,b),u=be.moveAway(u,S,b);let R,P;return E=be.shiftPoint(r,a,p*4),E=be.shiftPoint(E,u,f*4),R=be.shiftPoint(a,r,p*4),R=be.shiftPoint(R,d,f*4),x=be.shiftPoint(d,u,p*4),x=be.shiftPoint(x,a,f*4),P=be.shiftPoint(u,d,p*4),P=be.shiftPoint(P,r,f*4),[E,R,x,P]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,r,a,d,u,f,p){return kn.getInstance().sampleGrid(i,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,r.getX(),r.getY(),u.getX(),u.getY(),d.getX(),d.getY(),a.getX(),a.getY())}transitionsBetween(i,r){let a=Math.trunc(i.getX()),d=Math.trunc(i.getY()),u=Math.trunc(r.getX()),f=Math.trunc(r.getY()),p=Math.abs(f-d)>Math.abs(u-a);if(p){let z=a;a=d,d=z,z=u,u=f,f=z}let E=Math.abs(u-a),x=Math.abs(f-d),S=-E/2,b=d<f?1:-1,R=a<u?1:-1,P=0,U=this.image.get(p?d:a,p?a:d);for(let z=a,G=d;z!==u;z+=R){let Q=this.image.get(p?G:z,p?z:G);if(Q!==U&&(P++,U=Q),S+=x,S>0){if(G===f)break;G+=b,S-=E}}return P}}class wt{constructor(){this.decoder=new Ta}decode(i,r=null){let a,d;if(r!=null&&r.has(ce.PURE_BARCODE)){const x=wt.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(x),d=wt.NO_POINTS}else{const x=new be(i.getBlackMatrix()).detect();a=this.decoder.decode(x.getBits()),d=x.getPoints()}const u=a.getRawBytes(),f=new je(a.getText(),u,8*u.length,d,ae.DATA_MATRIX,j.currentTimeMillis()),p=a.getByteSegments();p!=null&&f.putMetadata(vt.BYTE_SEGMENTS,p);const E=a.getECLevel();return E!=null&&f.putMetadata(vt.ERROR_CORRECTION_LEVEL,E),f}reset(){}static extractPureBits(i){const r=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(r==null||a==null)throw new ee;const d=this.moduleSize(r,i);let u=r[1];const f=a[1];let p=r[0];const x=(a[0]-p+1)/d,S=(f-u+1)/d;if(x<=0||S<=0)throw new ee;const b=d/2;u+=b,p+=b;const R=new Ie(x,S);for(let P=0;P<S;P++){const U=u+P*d;for(let z=0;z<x;z++)i.get(p+z*d,U)&&R.set(z,P)}return R}static moduleSize(i,r){const a=r.getWidth();let d=i[0];const u=i[1];for(;d<a&&r.get(d,u);)d++;if(d===a)throw new ee;const f=d-i[0];if(f===0)throw new ee;return f}}wt.NO_POINTS=[];class Ia extends St{constructor(i=500){super(new wt,i)}}var qi;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(qi||(qi={}));class tt{constructor(i,r,a){this.value=i,this.stringValue=r,this.bits=a,tt.FOR_BITS.set(a,this),tt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return tt.L;case"M":return tt.M;case"Q":return tt.Q;case"H":return tt.H;default:throw new N(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof tt))return!1;const r=i;return this.value===r.value}static forBits(i){if(i<0||i>=tt.FOR_BITS.size)throw new T;return tt.FOR_BITS.get(i)}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.L=new tt(qi.L,"L",1),tt.M=new tt(qi.M,"M",0),tt.Q=new tt(qi.Q,"Q",3),tt.H=new tt(qi.H,"H",2);class Tn{constructor(i){this.errorCorrectionLevel=tt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,r){return B.bitCount(i^r)}static decodeFormatInformation(i,r){const a=Tn.doDecodeFormatInformation(i,r);return a!==null?a:Tn.doDecodeFormatInformation(i^Tn.FORMAT_INFO_MASK_QR,r^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,r){let a=Number.MAX_SAFE_INTEGER,d=0;for(const u of Tn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===i||f===r)return new Tn(u[1]);let p=Tn.numBitsDiffering(i,f);p<a&&(d=u[1],a=p),i!==r&&(p=Tn.numBitsDiffering(r,f),p<a&&(d=u[1],a=p))}return a<=3?new Tn(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Tn))return!1;const r=i;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(i,...r){this.ecCodewordsPerBlock=i,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const r=this.ecBlocks;for(const a of r)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(i,r){this.count=i,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class me{constructor(i,r,...a){this.versionNumber=i,this.alignmentPatternCenters=r,this.ecBlocks=a;let d=0;const u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();for(const p of f)d+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new K;try{return this.getVersionForNumber((i-17)/4)}catch{throw new K}}static getVersionForNumber(i){if(i<1||i>40)throw new T;return me.VERSIONS[i-1]}static decodeVersionInformation(i){let r=Number.MAX_SAFE_INTEGER,a=0;for(let d=0;d<me.VERSION_DECODE_INFO.length;d++){const u=me.VERSION_DECODE_INFO[d];if(u===i)return me.getVersionForNumber(d+7);const f=Tn.numBitsDiffering(i,u);f<r&&(a=d+7,r=f)}return r<=3?me.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),r=new Ie(i);r.setRegion(0,0,9,9),r.setRegion(i-8,0,8,9),r.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let d=0;d<a;d++){const u=this.alignmentPatternCenters[d]-2;for(let f=0;f<a;f++)d===0&&(f===0||f===a-1)||d===a-1&&f===0||r.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return r.setRegion(6,9,1,i-17),r.setRegion(9,6,i-17,1),this.versionNumber>6&&(r.setRegion(i-11,0,3,6),r.setRegion(0,i-11,6,3)),r}toString(){return""+this.versionNumber}}me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),me.VERSIONS=[new me(1,new Int32Array(0),new Z(7,new O(1,19)),new Z(10,new O(1,16)),new Z(13,new O(1,13)),new Z(17,new O(1,9))),new me(2,Int32Array.from([6,18]),new Z(10,new O(1,34)),new Z(16,new O(1,28)),new Z(22,new O(1,22)),new Z(28,new O(1,16))),new me(3,Int32Array.from([6,22]),new Z(15,new O(1,55)),new Z(26,new O(1,44)),new Z(18,new O(2,17)),new Z(22,new O(2,13))),new me(4,Int32Array.from([6,26]),new Z(20,new O(1,80)),new Z(18,new O(2,32)),new Z(26,new O(2,24)),new Z(16,new O(4,9))),new me(5,Int32Array.from([6,30]),new Z(26,new O(1,108)),new Z(24,new O(2,43)),new Z(18,new O(2,15),new O(2,16)),new Z(22,new O(2,11),new O(2,12))),new me(6,Int32Array.from([6,34]),new Z(18,new O(2,68)),new Z(16,new O(4,27)),new Z(24,new O(4,19)),new Z(28,new O(4,15))),new me(7,Int32Array.from([6,22,38]),new Z(20,new O(2,78)),new Z(18,new O(4,31)),new Z(18,new O(2,14),new O(4,15)),new Z(26,new O(4,13),new O(1,14))),new me(8,Int32Array.from([6,24,42]),new Z(24,new O(2,97)),new Z(22,new O(2,38),new O(2,39)),new Z(22,new O(4,18),new O(2,19)),new Z(26,new O(4,14),new O(2,15))),new me(9,Int32Array.from([6,26,46]),new Z(30,new O(2,116)),new Z(22,new O(3,36),new O(2,37)),new Z(20,new O(4,16),new O(4,17)),new Z(24,new O(4,12),new O(4,13))),new me(10,Int32Array.from([6,28,50]),new Z(18,new O(2,68),new O(2,69)),new Z(26,new O(4,43),new O(1,44)),new Z(24,new O(6,19),new O(2,20)),new Z(28,new O(6,15),new O(2,16))),new me(11,Int32Array.from([6,30,54]),new Z(20,new O(4,81)),new Z(30,new O(1,50),new O(4,51)),new Z(28,new O(4,22),new O(4,23)),new Z(24,new O(3,12),new O(8,13))),new me(12,Int32Array.from([6,32,58]),new Z(24,new O(2,92),new O(2,93)),new Z(22,new O(6,36),new O(2,37)),new Z(26,new O(4,20),new O(6,21)),new Z(28,new O(7,14),new O(4,15))),new me(13,Int32Array.from([6,34,62]),new Z(26,new O(4,107)),new Z(22,new O(8,37),new O(1,38)),new Z(24,new O(8,20),new O(4,21)),new Z(22,new O(12,11),new O(4,12))),new me(14,Int32Array.from([6,26,46,66]),new Z(30,new O(3,115),new O(1,116)),new Z(24,new O(4,40),new O(5,41)),new Z(20,new O(11,16),new O(5,17)),new Z(24,new O(11,12),new O(5,13))),new me(15,Int32Array.from([6,26,48,70]),new Z(22,new O(5,87),new O(1,88)),new Z(24,new O(5,41),new O(5,42)),new Z(30,new O(5,24),new O(7,25)),new Z(24,new O(11,12),new O(7,13))),new me(16,Int32Array.from([6,26,50,74]),new Z(24,new O(5,98),new O(1,99)),new Z(28,new O(7,45),new O(3,46)),new Z(24,new O(15,19),new O(2,20)),new Z(30,new O(3,15),new O(13,16))),new me(17,Int32Array.from([6,30,54,78]),new Z(28,new O(1,107),new O(5,108)),new Z(28,new O(10,46),new O(1,47)),new Z(28,new O(1,22),new O(15,23)),new Z(28,new O(2,14),new O(17,15))),new me(18,Int32Array.from([6,30,56,82]),new Z(30,new O(5,120),new O(1,121)),new Z(26,new O(9,43),new O(4,44)),new Z(28,new O(17,22),new O(1,23)),new Z(28,new O(2,14),new O(19,15))),new me(19,Int32Array.from([6,30,58,86]),new Z(28,new O(3,113),new O(4,114)),new Z(26,new O(3,44),new O(11,45)),new Z(26,new O(17,21),new O(4,22)),new Z(26,new O(9,13),new O(16,14))),new me(20,Int32Array.from([6,34,62,90]),new Z(28,new O(3,107),new O(5,108)),new Z(26,new O(3,41),new O(13,42)),new Z(30,new O(15,24),new O(5,25)),new Z(28,new O(15,15),new O(10,16))),new me(21,Int32Array.from([6,28,50,72,94]),new Z(28,new O(4,116),new O(4,117)),new Z(26,new O(17,42)),new Z(28,new O(17,22),new O(6,23)),new Z(30,new O(19,16),new O(6,17))),new me(22,Int32Array.from([6,26,50,74,98]),new Z(28,new O(2,111),new O(7,112)),new Z(28,new O(17,46)),new Z(30,new O(7,24),new O(16,25)),new Z(24,new O(34,13))),new me(23,Int32Array.from([6,30,54,78,102]),new Z(30,new O(4,121),new O(5,122)),new Z(28,new O(4,47),new O(14,48)),new Z(30,new O(11,24),new O(14,25)),new Z(30,new O(16,15),new O(14,16))),new me(24,Int32Array.from([6,28,54,80,106]),new Z(30,new O(6,117),new O(4,118)),new Z(28,new O(6,45),new O(14,46)),new Z(30,new O(11,24),new O(16,25)),new Z(30,new O(30,16),new O(2,17))),new me(25,Int32Array.from([6,32,58,84,110]),new Z(26,new O(8,106),new O(4,107)),new Z(28,new O(8,47),new O(13,48)),new Z(30,new O(7,24),new O(22,25)),new Z(30,new O(22,15),new O(13,16))),new me(26,Int32Array.from([6,30,58,86,114]),new Z(28,new O(10,114),new O(2,115)),new Z(28,new O(19,46),new O(4,47)),new Z(28,new O(28,22),new O(6,23)),new Z(30,new O(33,16),new O(4,17))),new me(27,Int32Array.from([6,34,62,90,118]),new Z(30,new O(8,122),new O(4,123)),new Z(28,new O(22,45),new O(3,46)),new Z(30,new O(8,23),new O(26,24)),new Z(30,new O(12,15),new O(28,16))),new me(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new O(3,117),new O(10,118)),new Z(28,new O(3,45),new O(23,46)),new Z(30,new O(4,24),new O(31,25)),new Z(30,new O(11,15),new O(31,16))),new me(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new O(7,116),new O(7,117)),new Z(28,new O(21,45),new O(7,46)),new Z(30,new O(1,23),new O(37,24)),new Z(30,new O(19,15),new O(26,16))),new me(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new O(5,115),new O(10,116)),new Z(28,new O(19,47),new O(10,48)),new Z(30,new O(15,24),new O(25,25)),new Z(30,new O(23,15),new O(25,16))),new me(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new O(13,115),new O(3,116)),new Z(28,new O(2,46),new O(29,47)),new Z(30,new O(42,24),new O(1,25)),new Z(30,new O(23,15),new O(28,16))),new me(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new O(17,115)),new Z(28,new O(10,46),new O(23,47)),new Z(30,new O(10,24),new O(35,25)),new Z(30,new O(19,15),new O(35,16))),new me(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new O(17,115),new O(1,116)),new Z(28,new O(14,46),new O(21,47)),new Z(30,new O(29,24),new O(19,25)),new Z(30,new O(11,15),new O(46,16))),new me(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new O(13,115),new O(6,116)),new Z(28,new O(14,46),new O(23,47)),new Z(30,new O(44,24),new O(7,25)),new Z(30,new O(59,16),new O(1,17))),new me(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new O(12,121),new O(7,122)),new Z(28,new O(12,47),new O(26,48)),new Z(30,new O(39,24),new O(14,25)),new Z(30,new O(22,15),new O(41,16))),new me(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new O(6,121),new O(14,122)),new Z(28,new O(6,47),new O(34,48)),new Z(30,new O(46,24),new O(10,25)),new Z(30,new O(2,15),new O(64,16))),new me(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new O(17,122),new O(4,123)),new Z(28,new O(29,46),new O(14,47)),new Z(30,new O(49,24),new O(10,25)),new Z(30,new O(24,15),new O(46,16))),new me(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new O(4,122),new O(18,123)),new Z(28,new O(13,46),new O(32,47)),new Z(30,new O(48,24),new O(14,25)),new Z(30,new O(42,15),new O(32,16))),new me(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new O(20,117),new O(4,118)),new Z(28,new O(40,47),new O(7,48)),new Z(30,new O(43,24),new O(22,25)),new Z(30,new O(10,15),new O(67,16))),new me(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new O(19,118),new O(6,119)),new Z(28,new O(18,47),new O(31,48)),new Z(30,new O(34,24),new O(34,25)),new Z(30,new O(20,15),new O(61,16)))];var Ft;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Ft||(Ft={}));class In{constructor(i,r){this.value=i,this.isMasked=r}unmaskBitMatrix(i,r){for(let a=0;a<r;a++)for(let d=0;d<r;d++)this.isMasked(a,d)&&i.flip(d,a)}}In.values=new Map([[Ft.DATA_MASK_000,new In(Ft.DATA_MASK_000,(I,i)=>(I+i&1)===0)],[Ft.DATA_MASK_001,new In(Ft.DATA_MASK_001,(I,i)=>(I&1)===0)],[Ft.DATA_MASK_010,new In(Ft.DATA_MASK_010,(I,i)=>i%3===0)],[Ft.DATA_MASK_011,new In(Ft.DATA_MASK_011,(I,i)=>(I+i)%3===0)],[Ft.DATA_MASK_100,new In(Ft.DATA_MASK_100,(I,i)=>(Math.floor(I/2)+Math.floor(i/3)&1)===0)],[Ft.DATA_MASK_101,new In(Ft.DATA_MASK_101,(I,i)=>I*i%6===0)],[Ft.DATA_MASK_110,new In(Ft.DATA_MASK_110,(I,i)=>I*i%6<3)],[Ft.DATA_MASK_111,new In(Ft.DATA_MASK_111,(I,i)=>(I+i+I*i%3&1)===0)]]);class Gr{constructor(i){const r=i.getHeight();if(r<21||(r&3)!==1)throw new K;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const r=this.bitMatrix.getHeight();let a=0;const d=r-7;for(let u=r-1;u>=d;u--)a=this.copyBit(8,u,a);for(let u=r-8;u<r;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=Tn.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new K}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),r=Math.floor((i-17)/4);if(r<=6)return me.getVersionForNumber(r);let a=0;const d=i-11;for(let f=5;f>=0;f--)for(let p=i-9;p>=d;p--)a=this.copyBit(p,f,a);let u=me.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;a=0;for(let f=5;f>=0;f--)for(let p=i-9;p>=d;p--)a=this.copyBit(f,p,a);if(u=me.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new K}copyBit(i,r,a){return(this.isMirror?this.bitMatrix.get(r,i):this.bitMatrix.get(i,r))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),r=this.readVersion(),a=In.values.get(i.getDataMask()),d=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,d);const u=r.buildFunctionPattern();let f=!0;const p=new Uint8Array(r.getTotalCodewords());let E=0,x=0,S=0;for(let b=d-1;b>0;b-=2){b===6&&b--;for(let R=0;R<d;R++){const P=f?d-1-R:R;for(let U=0;U<2;U++)u.get(b-U,P)||(S++,x<<=1,this.bitMatrix.get(b-U,P)&&(x|=1),S===8&&(p[E++]=x,S=0,x=0))}f=!f}if(E!==r.getTotalCodewords())throw new K;return p}remask(){if(this.parsedFormatInfo===null)return;const i=In.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,r)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let r=0,a=i.getWidth();r<a;r++)for(let d=r+1,u=i.getHeight();d<u;d++)i.get(r,d)!==i.get(d,r)&&(i.flip(d,r),i.flip(r,d))}}class Zr{constructor(i,r){this.numDataCodewords=i,this.codewords=r}static getDataBlocks(i,r,a){if(i.length!==r.getTotalCodewords())throw new T;const d=r.getECBlocksForLevel(a);let u=0;const f=d.getECBlocks();for(const U of f)u+=U.getCount();const p=new Array(u);let E=0;for(const U of f)for(let z=0;z<U.getCount();z++){const G=U.getDataCodewords(),Q=d.getECCodewordsPerBlock()+G;p[E++]=new Zr(G,new Uint8Array(Q))}const x=p[0].codewords.length;let S=p.length-1;for(;S>=0&&p[S].codewords.length!==x;)S--;S++;const b=x-d.getECCodewordsPerBlock();let R=0;for(let U=0;U<b;U++)for(let z=0;z<E;z++)p[z].codewords[U]=i[R++];for(let U=S;U<E;U++)p[U].codewords[b]=i[R++];const P=p[0].codewords.length;for(let U=b;U<P;U++)for(let z=0;z<E;z++){const G=z<S?U:U+1;p[z].codewords[G]=i[R++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bn;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(bn||(bn={}));class Le{constructor(i,r,a,d){this.value=i,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=d,Le.FOR_BITS.set(d,this),Le.FOR_VALUE.set(i,this)}static forBits(i){const r=Le.FOR_BITS.get(i);if(r===void 0)throw new T;return r}getCharacterCountBits(i){const r=i.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Le))return!1;const r=i;return this.value===r.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(bn.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(i,r,a,d){const u=new sr(i);let f=new Ue;const p=new Array;let E=-1,x=-1;try{let S=null,b=!1,R;do{if(u.available()<4)R=Le.TERMINATOR;else{const P=u.readBits(4);R=Le.forBits(P)}switch(R){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:b=!0;break;case Le.STRUCTURED_APPEND:if(u.available()<16)throw new K;E=u.readBits(8),x=u.readBits(8);break;case Le.ECI:const P=Mt.parseECIValue(u);if(S=ne.getCharacterSetECIByValue(P),S===null)throw new K;break;case Le.HANZI:const U=u.readBits(4),z=u.readBits(R.getCharacterCountBits(r));U===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(u,f,z);break;default:const G=u.readBits(R.getCharacterCountBits(r));switch(R){case Le.NUMERIC:Mt.decodeNumericSegment(u,f,G);break;case Le.ALPHANUMERIC:Mt.decodeAlphanumericSegment(u,f,G,b);break;case Le.BYTE:Mt.decodeByteSegment(u,f,G,S,p,d);break;case Le.KANJI:Mt.decodeKanjiSegment(u,f,G);break;default:throw new K}break}}while(R!==Le.TERMINATOR)}catch{throw new K}return new po(i,f.toString(),p.length===0?null:p,a===null?null:a.toString(),E,x)}static decodeHanziSegment(i,r,a){if(a*13>i.available())throw new K;const d=new Uint8Array(2*a);let u=0;for(;a>0;){const f=i.readBits(13);let p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,d[u]=p>>8&255,d[u+1]=p&255,u+=2,a--}try{r.append(Pe.decode(d,ye.GB2312))}catch(f){throw new K(f)}}static decodeKanjiSegment(i,r,a){if(a*13>i.available())throw new K;const d=new Uint8Array(2*a);let u=0;for(;a>0;){const f=i.readBits(13);let p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,d[u]=p>>8,d[u+1]=p,u+=2,a--}try{r.append(Pe.decode(d,ye.SHIFT_JIS))}catch(f){throw new K(f)}}static decodeByteSegment(i,r,a,d,u,f){if(8*a>i.available())throw new K;const p=new Uint8Array(a);for(let x=0;x<a;x++)p[x]=i.readBits(8);let E;d===null?E=ye.guessEncoding(p,f):E=d.getName();try{r.append(Pe.decode(p,E))}catch(x){throw new K(x)}u.push(p)}static toAlphaNumericChar(i){if(i>=Mt.ALPHANUMERIC_CHARS.length)throw new K;return Mt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,r,a,d){const u=r.length();for(;a>1;){if(i.available()<11)throw new K;const f=i.readBits(11);r.append(Mt.toAlphaNumericChar(Math.floor(f/45))),r.append(Mt.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(i.available()<6)throw new K;r.append(Mt.toAlphaNumericChar(i.readBits(6)))}if(d)for(let f=u;f<r.length();f++)r.charAt(f)==="%"&&(f<r.length()-1&&r.charAt(f+1)==="%"?r.deleteCharAt(f+1):r.setCharAt(f,""))}static decodeNumericSegment(i,r,a){for(;a>=3;){if(i.available()<10)throw new K;const d=i.readBits(10);if(d>=1e3)throw new K;r.append(Mt.toAlphaNumericChar(Math.floor(d/100))),r.append(Mt.toAlphaNumericChar(Math.floor(d/10)%10)),r.append(Mt.toAlphaNumericChar(d%10)),a-=3}if(a===2){if(i.available()<7)throw new K;const d=i.readBits(7);if(d>=100)throw new K;r.append(Mt.toAlphaNumericChar(Math.floor(d/10))),r.append(Mt.toAlphaNumericChar(d%10))}else if(a===1){if(i.available()<4)throw new K;const d=i.readBits(4);if(d>=10)throw new K;r.append(Mt.toAlphaNumericChar(d))}}static parseECIValue(i){const r=i.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const a=i.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=i.readBits(16);return(r&31)<<16&4294967295|a}throw new K}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class Yr{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const r=i[0];i[0]=i[2],i[2]=r}}class ba{constructor(){this.rsDecoder=new _o(st.QR_CODE_FIELD_256)}decodeBooleanArray(i,r){return this.decodeBitMatrix(Ie.parseFromBooleanArray(i),r)}decodeBitMatrix(i,r){const a=new Gr(i);let d=null;try{return this.decodeBitMatrixParser(a,r)}catch(u){d=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,r);return u.setOther(new Yr(!0)),u}catch(u){throw d!==null?d:u}}decodeBitMatrixParser(i,r){const a=i.readVersion(),d=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),f=Zr.getDataBlocks(u,a,d);let p=0;for(const S of f)p+=S.getNumDataCodewords();const E=new Uint8Array(p);let x=0;for(const S of f){const b=S.getCodewords(),R=S.getNumDataCodewords();this.correctErrors(b,R);for(let P=0;P<R;P++)E[x++]=b[P]}return Mt.decode(E,a,d,r)}correctErrors(i,r){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-r)}catch{throw new W}for(let d=0;d<r;d++)i[d]=a[d]}}class Xr extends we{constructor(i,r,a){super(i,r),this.estimatedModuleSize=a}aboutEquals(i,r,a){if(Math.abs(r-this.getY())<=i&&Math.abs(a-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,r,a){const d=(this.getX()+r)/2,u=(this.getY()+i)/2,f=(this.estimatedModuleSize+a)/2;return new Xr(d,u,f)}}class Po{constructor(i,r,a,d,u,f,p){this.image=i,this.startX=r,this.startY=a,this.width=d,this.height=u,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,r=this.height,a=this.width,d=i+a,u=this.startY+r/2,f=new Int32Array(3),p=this.image;for(let E=0;E<r;E++){const x=u+(E&1?-Math.floor((E+1)/2):Math.floor((E+1)/2));f[0]=0,f[1]=0,f[2]=0;let S=i;for(;S<d&&!p.get(S,x);)S++;let b=0;for(;S<d;){if(p.get(S,x))if(b===1)f[1]++;else if(b===2){if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,x,S);if(R!==null)return R}f[0]=f[2],f[1]=1,f[2]=0,b=1}else f[++b]++;else b===1&&b++,f[b]++;S++}if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,x,d);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(i,r){return r-i[2]-i[1]/2}foundPatternCross(i){const r=this.moduleSize,a=r/2;for(let d=0;d<3;d++)if(Math.abs(r-i[d])>=a)return!1;return!0}crossCheckVertical(i,r,a,d){const u=this.image,f=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let E=i;for(;E>=0&&u.get(r,E)&&p[1]<=a;)p[1]++,E--;if(E<0||p[1]>a)return NaN;for(;E>=0&&!u.get(r,E)&&p[0]<=a;)p[0]++,E--;if(p[0]>a)return NaN;for(E=i+1;E<f&&u.get(r,E)&&p[1]<=a;)p[1]++,E++;if(E===f||p[1]>a)return NaN;for(;E<f&&!u.get(r,E)&&p[2]<=a;)p[2]++,E++;if(p[2]>a)return NaN;const x=p[0]+p[1]+p[2];return 5*Math.abs(x-d)>=2*d?NaN:this.foundPatternCross(p)?Po.centerFromEnd(p,E):NaN}handlePossibleCenter(i,r,a){const d=i[0]+i[1]+i[2],u=Po.centerFromEnd(i,a),f=this.crossCheckVertical(r,u,2*i[1],d);if(!isNaN(f)){const p=(i[0]+i[1]+i[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(p,f,u))return x.combineEstimate(f,u,p);const E=new Xr(u,f,p);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class Ss extends we{constructor(i,r,a,d){super(i,r),this.estimatedModuleSize=a,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,r,a){if(Math.abs(r-this.getY())<=i&&Math.abs(a-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,r,a){const d=this.count+1,u=(this.count*this.getX()+r)/d,f=(this.count*this.getY()+i)/d,p=(this.count*this.estimatedModuleSize+a)/d;return new Ss(u,f,p,d)}}class Na{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class hn{constructor(i,r){this.image=i,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const r=i!=null&&i.get(ce.TRY_HARDER)!==void 0,a=i!=null&&i.get(ce.PURE_BARCODE)!==void 0,d=this.image,u=d.getHeight(),f=d.getWidth();let p=Math.floor(3*u/(4*hn.MAX_MODULES));(p<hn.MIN_SKIP||r)&&(p=hn.MIN_SKIP);let E=!1;const x=new Int32Array(5);for(let b=p-1;b<u&&!E;b+=p){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let R=0;for(let P=0;P<f;P++)if(d.get(P,b))(R&1)===1&&R++,x[R]++;else if(R&1)x[R]++;else if(R===4)if(hn.foundPatternCross(x)){if(this.handlePossibleCenter(x,b,P,a)===!0)if(p=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>x[2]&&(b+=z-x[2]-p,P=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;continue}R=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;else x[++R]++;hn.foundPatternCross(x)&&this.handlePossibleCenter(x,b,f,a)===!0&&(p=x[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return we.orderBestPatterns(S),new Na(S)}static centerFromEnd(i,r){return r-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let r=0;for(let u=0;u<5;u++){const f=i[u];if(f===0)return!1;r+=f}if(r<7)return!1;const a=r/7,d=a/2;return Math.abs(a-i[0])<d&&Math.abs(a-i[1])<d&&Math.abs(3*a-i[2])<3*d&&Math.abs(a-i[3])<d&&Math.abs(a-i[4])<d}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,r,a,d){const u=this.getCrossCheckStateCount();let f=0;const p=this.image;for(;i>=f&&r>=f&&p.get(r-f,i-f);)u[2]++,f++;if(i<f||r<f)return!1;for(;i>=f&&r>=f&&!p.get(r-f,i-f)&&u[1]<=a;)u[1]++,f++;if(i<f||r<f||u[1]>a)return!1;for(;i>=f&&r>=f&&p.get(r-f,i-f)&&u[0]<=a;)u[0]++,f++;if(u[0]>a)return!1;const E=p.getHeight(),x=p.getWidth();for(f=1;i+f<E&&r+f<x&&p.get(r+f,i+f);)u[2]++,f++;if(i+f>=E||r+f>=x)return!1;for(;i+f<E&&r+f<x&&!p.get(r+f,i+f)&&u[3]<a;)u[3]++,f++;if(i+f>=E||r+f>=x||u[3]>=a)return!1;for(;i+f<E&&r+f<x&&p.get(r+f,i+f)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return!1;const S=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(S-d)<2*d&&hn.foundPatternCross(u)}crossCheckVertical(i,r,a,d){const u=this.image,f=u.getHeight(),p=this.getCrossCheckStateCount();let E=i;for(;E>=0&&u.get(r,E);)p[2]++,E--;if(E<0)return NaN;for(;E>=0&&!u.get(r,E)&&p[1]<=a;)p[1]++,E--;if(E<0||p[1]>a)return NaN;for(;E>=0&&u.get(r,E)&&p[0]<=a;)p[0]++,E--;if(p[0]>a)return NaN;for(E=i+1;E<f&&u.get(r,E);)p[2]++,E++;if(E===f)return NaN;for(;E<f&&!u.get(r,E)&&p[3]<a;)p[3]++,E++;if(E===f||p[3]>=a)return NaN;for(;E<f&&u.get(r,E)&&p[4]<a;)p[4]++,E++;if(p[4]>=a)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-d)>=2*d?NaN:hn.foundPatternCross(p)?hn.centerFromEnd(p,E):NaN}crossCheckHorizontal(i,r,a,d){const u=this.image,f=u.getWidth(),p=this.getCrossCheckStateCount();let E=i;for(;E>=0&&u.get(E,r);)p[2]++,E--;if(E<0)return NaN;for(;E>=0&&!u.get(E,r)&&p[1]<=a;)p[1]++,E--;if(E<0||p[1]>a)return NaN;for(;E>=0&&u.get(E,r)&&p[0]<=a;)p[0]++,E--;if(p[0]>a)return NaN;for(E=i+1;E<f&&u.get(E,r);)p[2]++,E++;if(E===f)return NaN;for(;E<f&&!u.get(E,r)&&p[3]<a;)p[3]++,E++;if(E===f||p[3]>=a)return NaN;for(;E<f&&u.get(E,r)&&p[4]<a;)p[4]++,E++;if(p[4]>=a)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-d)>=d?NaN:hn.foundPatternCross(p)?hn.centerFromEnd(p,E):NaN}handlePossibleCenter(i,r,a,d){const u=i[0]+i[1]+i[2]+i[3]+i[4];let f=hn.centerFromEnd(i,a),p=this.crossCheckVertical(r,Math.floor(f),i[2],u);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),i[2],u),!isNaN(f)&&(!d||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),i[2],u)))){const E=u/7;let x=!1;const S=this.possibleCenters;for(let b=0,R=S.length;b<R;b++){const P=S[b];if(P.aboutEquals(E,p,f)){S[b]=P.combineEstimate(p,f,E),x=!0;break}}if(!x){const b=new Ss(f,p,E);S.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=hn.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,r=0;const a=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=hn.CENTER_QUORUM&&(i++,r+=f.getEstimatedModuleSize());if(i<3)return!1;const d=r/a;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-d);return u<=.05*r}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ee;const r=this.possibleCenters;let a;if(i>3){let d=0,u=0;for(const E of this.possibleCenters){const x=E.getEstimatedModuleSize();d+=x,u+=x*x}a=d/i;let f=Math.sqrt(u/i-a*a);r.sort((E,x)=>{const S=Math.abs(x.getEstimatedModuleSize()-a),b=Math.abs(E.getEstimatedModuleSize()-a);return S<b?-1:S>b?1:0});const p=Math.max(.2*a,f);for(let E=0;E<r.length&&r.length>3;E++){const x=r[E];Math.abs(x.getEstimatedModuleSize()-a)>p&&(r.splice(E,1),E--)}}if(r.length>3){let d=0;for(const u of r)d+=u.getEstimatedModuleSize();a=d/r.length,r.sort((u,f)=>{if(f.getCount()===u.getCount()){const p=Math.abs(f.getEstimatedModuleSize()-a),E=Math.abs(u.getEstimatedModuleSize()-a);return p<E?1:p>E?-1:0}else return f.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}hn.CENTER_QUORUM=2,hn.MIN_SKIP=3,hn.MAX_MODULES=57;class Ge{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(ce.NEED_RESULT_POINT_CALLBACK);const a=new hn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const r=i.getTopLeft(),a=i.getTopRight(),d=i.getBottomLeft(),u=this.calculateModuleSize(r,a,d);if(u<1)throw new ee("No pattern found in proccess finder.");const f=Ge.computeDimension(r,a,d,u),p=me.getProvisionalVersionForDimension(f),E=p.getDimensionForVersion()-7;let x=null;if(p.getAlignmentPatternCenters().length>0){const P=a.getX()-r.getX()+d.getX(),U=a.getY()-r.getY()+d.getY(),z=1-3/E,G=Math.floor(r.getX()+z*(P-r.getX())),Q=Math.floor(r.getY()+z*(U-r.getY()));for(let de=4;de<=16;de<<=1)try{x=this.findAlignmentInRegion(u,G,Q,de);break}catch(ue){if(!(ue instanceof ee))throw ue}}const S=Ge.createTransform(r,a,d,x,f),b=Ge.sampleGrid(this.image,S,f);let R;return x===null?R=[d,r,a]:R=[d,r,a,x],new Mo(b,R)}static createTransform(i,r,a,d,u){const f=u-3.5;let p,E,x,S;return d!==null?(p=d.getX(),E=d.getY(),x=f-3,S=x):(p=r.getX()-i.getX()+a.getX(),E=r.getY()-i.getY()+a.getY(),x=f,S=f),ke.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,x,S,3.5,f,i.getX(),i.getY(),r.getX(),r.getY(),p,E,a.getX(),a.getY())}static sampleGrid(i,r,a){return kn.getInstance().sampleGridWithTransform(i,a,a,r)}static computeDimension(i,r,a,d){const u=Ce.round(we.distance(i,r)/d),f=Ce.round(we.distance(i,a)/d);let p=Math.floor((u+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new ee("Dimensions could be not found.")}return p}calculateModuleSize(i,r,a){return(this.calculateModuleSizeOneWay(i,r)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?d/7:isNaN(d)?a/7:(a+d)/14}sizeOfBlackWhiteBlackRunBothWays(i,r,a,d){let u=this.sizeOfBlackWhiteBlackRun(i,r,a,d),f=1,p=i-(a-i);p<0?(f=i/(i-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-i)/(p-i),p=this.image.getWidth()-1);let E=Math.floor(r-(d-r)*f);return f=1,E<0?(f=r/(r-E),E=0):E>=this.image.getHeight()&&(f=(this.image.getHeight()-1-r)/(E-r),E=this.image.getHeight()-1),p=Math.floor(i+(p-i)*f),u+=this.sizeOfBlackWhiteBlackRun(i,r,p,E),u-1}sizeOfBlackWhiteBlackRun(i,r,a,d){const u=Math.abs(d-r)>Math.abs(a-i);if(u){let P=i;i=r,r=P,P=a,a=d,d=P}const f=Math.abs(a-i),p=Math.abs(d-r);let E=-f/2;const x=i<a?1:-1,S=r<d?1:-1;let b=0;const R=a+x;for(let P=i,U=r;P!==R;P+=x){const z=u?U:P,G=u?P:U;if(b===1===this.image.get(z,G)){if(b===2)return Ce.distance(P,U,i,r);b++}if(E+=p,E>0){if(U===d)break;U+=S,E-=f}}return b===2?Ce.distance(a+x,d,i,r):NaN}findAlignmentInRegion(i,r,a,d){const u=Math.floor(d*i),f=Math.max(0,r-u),p=Math.min(this.image.getWidth()-1,r+u);if(p-f<i*3)throw new ee("Alignment top exceeds estimated module size.");const E=Math.max(0,a-u),x=Math.min(this.image.getHeight()-1,a+u);if(x-E<i*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Po(this.image,f,E,p-f,x-E,i,this.resultPointCallback).find()}}class mn{constructor(){this.decoder=new ba}getDecoder(){return this.decoder}decode(i,r){let a,d;if(r!=null&&r.get(ce.PURE_BARCODE)!==void 0){const E=mn.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(E,r),d=mn.NO_POINTS}else{const E=new Ge(i.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(E.getBits(),r),d=E.getPoints()}a.getOther()instanceof Yr&&a.getOther().applyMirroredCorrection(d);const u=new je(a.getText(),a.getRawBytes(),void 0,d,ae.QR_CODE,void 0),f=a.getByteSegments();f!==null&&u.putMetadata(vt.BYTE_SEGMENTS,f);const p=a.getECLevel();return p!==null&&u.putMetadata(vt.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(u.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(vt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const r=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(r===null||a===null)throw new ee;const d=this.moduleSize(r,i);let u=r[1],f=a[1],p=r[0],E=a[0];if(p>=E||u>=f)throw new ee;if(f-u!==E-p&&(E=p+(f-u),E>=i.getWidth()))throw new ee;const x=Math.round((E-p+1)/d),S=Math.round((f-u+1)/d);if(x<=0||S<=0)throw new ee;if(S!==x)throw new ee;const b=Math.floor(d/2);u+=b,p+=b;const R=p+Math.floor((x-1)*d)-E;if(R>0){if(R>b)throw new ee;p-=R}const P=u+Math.floor((S-1)*d)-f;if(P>0){if(P>b)throw new ee;u-=P}const U=new Ie(x,S);for(let z=0;z<S;z++){const G=u+Math.floor(z*d);for(let Q=0;Q<x;Q++)i.get(p+Math.floor(Q*d),G)&&U.set(Q,z)}return U}static moduleSize(i,r){const a=r.getHeight(),d=r.getWidth();let u=i[0],f=i[1],p=!0,E=0;for(;u<d&&f<a;){if(p!==r.get(u,f)){if(++E===5)break;p=!p}u++,f++}if(u===d||f===a)throw new ee;return(u-i[0])/7}}mn.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(i){return Ce.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ee.EMPTY_INT_ARRAY;const r=new Int32Array(i.length);let a=0;for(const d of i)r[a++]=d;return r}static getCodeword(i){const r=F.binarySearch(Ee.SYMBOL_TABLE,i&262143);return r<0?-1:(Ee.CODEWORD_TABLE[r]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class nd{constructor(i,r){this.bits=i,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Xe{static detectMultiple(i,r,a){let d=i.getBlackMatrix(),u=Xe.detect(a,d);return u.length||(d=d.clone(),d.rotate180(),u=Xe.detect(a,d)),new nd(d,u)}static detect(i,r){const a=new Array;let d=0,u=0,f=!1;for(;d<r.getHeight();){const p=Xe.findVertices(r,d,u);if(p[0]==null&&p[3]==null){if(!f)break;f=!1,u=0;for(const E of a)E[1]!=null&&(d=Math.trunc(Math.max(d,E[1].getY()))),E[3]!=null&&(d=Math.max(d,Math.trunc(E[3].getY())));d+=Xe.ROW_STEP;continue}if(f=!0,a.push(p),!i)break;p[2]!=null?(u=Math.trunc(p[2].getX()),d=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),d=Math.trunc(p[4].getY()))}return a}static findVertices(i,r,a){const d=i.getHeight(),u=i.getWidth(),f=new Array(8);return Xe.copyToResult(f,Xe.findRowsWithPattern(i,d,u,r,a,Xe.START_PATTERN),Xe.INDEXES_START_PATTERN),f[4]!=null&&(a=Math.trunc(f[4].getX()),r=Math.trunc(f[4].getY())),Xe.copyToResult(f,Xe.findRowsWithPattern(i,d,u,r,a,Xe.STOP_PATTERN),Xe.INDEXES_STOP_PATTERN),f}static copyToResult(i,r,a){for(let d=0;d<a.length;d++)i[a[d]]=r[d]}static findRowsWithPattern(i,r,a,d,u,f){const p=new Array(4);let E=!1;const x=new Int32Array(f.length);for(;d<r;d+=Xe.ROW_STEP){let b=Xe.findGuardPattern(i,u,d,a,!1,f,x);if(b!=null){for(;d>0;){const R=Xe.findGuardPattern(i,u,--d,a,!1,f,x);if(R!=null)b=R;else{d++;break}}p[0]=new we(b[0],d),p[1]=new we(b[1],d),E=!0;break}}let S=d+1;if(E){let b=0,R=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;S<r;S++){const P=Xe.findGuardPattern(i,R[0],S,a,!1,f,x);if(P!=null&&Math.abs(R[0]-P[0])<Xe.MAX_PATTERN_DRIFT&&Math.abs(R[1]-P[1])<Xe.MAX_PATTERN_DRIFT)R=P,b=0;else{if(b>Xe.SKIPPED_ROW_COUNT_MAX)break;b++}}S-=b+1,p[2]=new we(R[0],S),p[3]=new we(R[1],S)}return S-d<Xe.BARCODE_MIN_HEIGHT&&F.fill(p,null),p}static findGuardPattern(i,r,a,d,u,f,p){F.fillWithin(p,0,p.length,0);let E=r,x=0;for(;i.get(E,a)&&E>0&&x++<Xe.MAX_PIXEL_DRIFT;)E--;let S=E,b=0,R=f.length;for(let P=u;S<d;S++)if(i.get(S,a)!==P)p[b]++;else{if(b===R-1){if(Xe.patternMatchVariance(p,f,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return new Int32Array([E,S]);E+=p[0]+p[1],j.arraycopy(p,2,p,0,b-1),p[b-1]=0,p[b]=0,b--}else b++;p[b]=1,P=!P}return b===R-1&&Xe.patternMatchVariance(p,f,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE?new Int32Array([E,S-1]):null}static patternMatchVariance(i,r,a){let d=i.length,u=0,f=0;for(let x=0;x<d;x++)u+=i[x],f+=r[x];if(u<f)return 1/0;let p=u/f;a*=p;let E=0;for(let x=0;x<d;x++){let S=i[x],b=r[x]*p,R=S>b?S-b:b-S;if(R>a)return 1/0;E+=R}return E/u}}Xe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Xe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Xe.MAX_AVG_VARIANCE=.42,Xe.MAX_INDIVIDUAL_VARIANCE=.8,Xe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Xe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Xe.MAX_PIXEL_DRIFT=3,Xe.MAX_PATTERN_DRIFT=5,Xe.SKIPPED_ROW_COUNT_MAX=25,Xe.ROW_STEP=5,Xe.BARCODE_MIN_HEIGHT=10;class ln{constructor(i,r){if(r.length===0)throw new T;this.field=i;let a=r.length;if(a>1&&r[0]===0){let d=1;for(;d<a&&r[d]===0;)d++;d===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-d),j.arraycopy(r,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let d=0;for(let u of this.coefficients)d=this.field.add(d,u);return d}let r=this.coefficients[0],a=this.coefficients.length;for(let d=1;d<a;d++)r=this.field.add(this.field.multiply(i,r),this.coefficients[d]);return r}add(i){if(!this.field.equals(i.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let r=this.coefficients,a=i.coefficients;if(r.length>a.length){let f=r;r=a,a=f}let d=new Int32Array(a.length),u=a.length-r.length;j.arraycopy(a,0,d,0,u);for(let f=u;f<a.length;f++)d[f]=this.field.add(r[f-u],a[f]);return new ln(this.field,d)}subtract(i){if(!this.field.equals(i.field))throw new T("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof ln?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new ln(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,d=i.coefficients,u=d.length,f=new Int32Array(a+u-1);for(let p=0;p<a;p++){let E=r[p];for(let x=0;x<u;x++)f[p+x]=this.field.add(f[p+x],this.field.multiply(E,d[x]))}return new ln(this.field,f)}negative(){let i=this.coefficients.length,r=new Int32Array(i);for(let a=0;a<i;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new ln(this.field,r)}multiplyScalar(i){if(i===0)return new ln(this.field,new Int32Array([0]));if(i===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let d=0;d<r;d++)a[d]=this.field.multiply(this.coefficients[d],i);return new ln(this.field,a)}multiplyByMonomial(i,r){if(i<0)throw new T;if(r===0)return new ln(this.field,new Int32Array([0]));let a=this.coefficients.length,d=new Int32Array(a+i);for(let u=0;u<a;u++)d[u]=this.field.multiply(this.coefficients[u],r);return new ln(this.field,d)}toString(){let i=new Ue;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(r===0||a!==1)&&i.append(a),r!==0&&(r===1?i.append("x"):(i.append("x^"),i.append(r))))}return i.toString()}}class Ra{add(i,r){return(i+r)%this.modulus}subtract(i,r){return(this.modulus+i-r)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new T;return this.logTable[i]}inverse(i){if(i===0)throw new Mi;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,r){return i===0||r===0?0:this.expTable[(this.logTable[i]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class $i extends Ra{constructor(i,r){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let d=0;d<i;d++)this.expTable[d]=a,a=a*r%i;for(let d=0;d<i-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new ln(this,new Int32Array([0])),this.one=new ln(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,r){if(i<0)throw new T;if(r===0)return this.zero;let a=new Int32Array(i+1);return a[0]=r,new ln(this,a)}}$i.PDF417_GF=new $i(Ee.NUMBER_OF_CODEWORDS,3);class As{constructor(){this.field=$i.PDF417_GF}decode(i,r,a){let d=new ln(this.field,i),u=new Int32Array(r),f=!1;for(let U=r;U>0;U--){let z=d.evaluateAt(this.field.exp(U));u[r-U]=z,z!==0&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(a!=null)for(const U of a){let z=this.field.exp(i.length-1-U),G=new ln(this.field,new Int32Array([this.field.subtract(0,z),1]));p=p.multiply(G)}let E=new ln(this.field,u),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),E,r),S=x[0],b=x[1],R=this.findErrorLocations(S),P=this.findErrorMagnitudes(b,S,R);for(let U=0;U<R.length;U++){let z=i.length-1-this.field.log(R[U]);if(z<0)throw W.getChecksumInstance();i[z]=this.field.subtract(i[z],P[U])}return R.length}runEuclideanAlgorithm(i,r,a){if(i.getDegree()<r.getDegree()){let R=i;i=r,r=R}let d=i,u=r,f=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let R=d,P=f;if(d=u,f=p,d.isZero())throw W.getChecksumInstance();u=R;let U=this.field.getZero(),z=d.getCoefficient(d.getDegree()),G=this.field.inverse(z);for(;u.getDegree()>=d.getDegree()&&!u.isZero();){let Q=u.getDegree()-d.getDegree(),de=this.field.multiply(u.getCoefficient(u.getDegree()),G);U=U.add(this.field.buildMonomial(Q,de)),u=u.subtract(d.multiplyByMonomial(Q,de))}p=U.multiply(f).subtract(P).negative()}let E=p.getCoefficient(0);if(E===0)throw W.getChecksumInstance();let x=this.field.inverse(E),S=p.multiply(x),b=u.multiply(x);return[S,b]}findErrorLocations(i){let r=i.getDegree(),a=new Int32Array(r),d=0;for(let u=1;u<this.field.getSize()&&d<r;u++)i.evaluateAt(u)===0&&(a[d]=this.field.inverse(u),d++);if(d!==r)throw W.getChecksumInstance();return a}findErrorMagnitudes(i,r,a){let d=r.getDegree(),u=new Int32Array(d);for(let x=1;x<=d;x++)u[d-x]=this.field.multiply(x,r.getCoefficient(x));let f=new ln(this.field,u),p=a.length,E=new Int32Array(p);for(let x=0;x<p;x++){let S=this.field.inverse(a[x]),b=this.field.subtract(0,i.evaluateAt(S)),R=this.field.inverse(f.evaluateAt(S));E[x]=this.field.multiply(b,R)}return E}}class Ei{constructor(i,r,a,d,u){i instanceof Ei?this.constructor_2(i):this.constructor_1(i,r,a,d,u)}constructor_1(i,r,a,d,u){const f=r==null||a==null,p=d==null||u==null;if(f&&p)throw new ee;f?(r=new we(0,d.getY()),a=new we(0,u.getY())):p&&(d=new we(i.getWidth()-1,r.getY()),u=new we(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=r,this.bottomLeft=a,this.topRight=d,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(d.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),d.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,r){return i==null?r:r==null?i:new Ei(i.image,i.topLeft,i.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(i,r,a){let d=this.topLeft,u=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(i>0){let E=a?this.topLeft:this.topRight,x=Math.trunc(E.getY()-i);x<0&&(x=0);let S=new we(E.getX(),x);a?d=S:f=S}if(r>0){let E=a?this.bottomLeft:this.bottomRight,x=Math.trunc(E.getY()+r);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let S=new we(E.getX(),x);a?u=S:p=S}return new Ei(this.image,d,u,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class _n{constructor(i,r,a,d){this.columnCount=i,this.errorCorrectionLevel=d,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class yi{constructor(){this.buffer=""}static form(i,r){let a=-1;function d(f,p,E,x,S,b){if(f==="%%")return"%";if(r[++a]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let R=S?parseInt(S.substr(1)):void 0,P;switch(b){case"s":P=r[a];break;case"c":P=r[a][0];break;case"f":P=parseFloat(r[a]).toFixed(f);break;case"p":P=parseFloat(r[a]).toPrecision(f);break;case"e":P=parseFloat(r[a]).toExponential(f);break;case"x":P=parseInt(r[a]).toString(R||16);break;case"d":P=parseFloat(parseInt(r[a],R||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(R);let U=parseInt(E),z=E&&E[0]+""=="0"?"0":" ";for(;P.length<U;)P=p!==void 0?P+z:z+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,d)}format(i,...r){this.buffer+=yi.form(i,r)}toString(){return this.buffer}}class ar{constructor(i){this.boundingBox=new Ei(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let r=this.getCodeword(i);if(r!=null)return r;for(let a=1;a<ar.MAX_NEARBY_DISTANCE;a++){let d=this.imageRowToCodewordIndex(i)-a;if(d>=0&&(r=this.codewords[d],r!=null)||(d=this.imageRowToCodewordIndex(i)+a,d<this.codewords.length&&(r=this.codewords[d],r!=null)))return r}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,r){this.codewords[this.imageRowToCodewordIndex(i)]=r}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new yi;let r=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",r++);continue}i.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return i.toString()}}ar.MAX_NEARBY_DISTANCE=5;class lr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let r=this.values.get(i);r==null&&(r=0),r++,this.values.set(i,r)}getValue(){let i=-1,r=new Array;for(const[a,d]of this.values.entries()){const u={getKey:()=>a,getValue:()=>d};u.getValue()>i?(i=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===i&&r.push(u.getKey())}return Ee.toIntArray(r)}getConfidence(i){return this.values.get(i)}}class id extends ar{constructor(i,r){super(i),this._isLeft=r}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,i);let a=this.getBoundingBox(),d=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(d.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),E=-1,x=1,S=0;for(let b=f;b<p;b++){if(r[b]==null)continue;let R=r[b],P=R.getRowNumber()-E;if(P===0)S++;else if(P===1)x=Math.max(x,S),S=1,E=R.getRowNumber();else if(P<0||R.getRowNumber()>=i.getRowCount()||P>b)r[b]=null;else{let U;x>2?U=(x-2)*P:U=P;let z=U>=b;for(let G=1;G<=U&&!z;G++)z=r[b-G]!=null;z?r[b]=null:(E=R.getRowNumber(),S=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let r=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let d=a.getRowNumber();if(d>=r.length)continue;r[d]++}return r}adjustIncompleteIndicatorColumnRowNumbers(i){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),d=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(d.getY())),p=this.getCodewords(),E=-1;for(let x=u;x<f;x++){if(p[x]==null)continue;let S=p[x];S.setRowNumberAsRowIndicatorColumn();let b=S.getRowNumber()-E;b===0||(b===1?E=S.getRowNumber():S.getRowNumber()>=i.getRowCount()?p[x]=null:E=S.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),r=new lr,a=new lr,d=new lr,u=new lr;for(let p of i){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let E=p.getValue()%30,x=p.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:a.setValue(E*3+1);break;case 1:u.setValue(E/3),d.setValue(E%3);break;case 2:r.setValue(E+1);break}}if(r.getValue().length===0||a.getValue().length===0||d.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+d.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||a.getValue()[0]+d.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let f=new _n(r.getValue()[0],a.getValue()[0],d.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,f),f}removeIncorrectCodewords(i,r){for(let a=0;a<i.length;a++){let d=i[a];if(i[a]==null)continue;let u=d.getValue()%30,f=d.getRowNumber();if(f>r.getRowCount()){i[a]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(i[a]=null);break;case 2:u+1!==r.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dr{constructor(i,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ee.MAX_CODEWORDS_IN_BARCODE,r;do r=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let d=0;d<a.length;d++)a[d]!=null&&(a[d].hasValidRowNumber()||this.adjustRowNumbers(r,d,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&r[a]!=null&&i[a].getRowNumber()===r[a].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let u=this.detectionResultColumns[d].getCodewords()[a];u!=null&&(u.setRowNumber(i[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let d=r[a].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[a];p!=null&&(u=dr.adjustRowNumberIfValid(d,u,p),p.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let d=r[a].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[a];p!=null&&(u=dr.adjustRowNumberIfValid(d,u,p),p.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),r=0):++r),r}adjustRowNumbers(i,r,a){if(!this.detectionResultColumns[i-1])return;let d=a[r],u=this.detectionResultColumns[i-1].getCodewords(),f=u;this.detectionResultColumns[i+1]!=null&&(f=this.detectionResultColumns[i+1].getCodewords());let p=new Array(14);p[2]=u[r],p[3]=f[r],r>0&&(p[0]=a[r-1],p[4]=u[r-1],p[5]=f[r-1]),r>1&&(p[8]=a[r-2],p[10]=u[r-2],p[11]=f[r-2]),r<a.length-1&&(p[1]=a[r+1],p[6]=u[r+1],p[7]=f[r+1]),r<a.length-2&&(p[9]=a[r+2],p[12]=u[r+2],p[13]=f[r+2]);for(let E of p)if(dr.adjustRowNumber(d,E))return}static adjustRowNumber(i,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===i.getBucket()?(i.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,r){this.detectionResultColumns[i]=r}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new yi;for(let a=0;a<i.getCodewords().length;a++){r.format("CW %3d:",a);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[d].getCodewords()[a];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class Fo{constructor(i,r,a,d){this.rowNumber=Fo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Fo.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Fo.BARCODE_ROW_UNKNOWN=-1;class Un{static initialize(){for(let i=0;i<Ee.SYMBOL_TABLE.length;i++){let r=Ee.SYMBOL_TABLE[i],a=r&1;for(let d=0;d<Ee.BARS_IN_MODULE;d++){let u=0;for(;(r&1)===a;)u+=1,r>>=1;a=r&1,Un.RATIOS_TABLE[i]||(Un.RATIOS_TABLE[i]=new Array(Ee.BARS_IN_MODULE)),Un.RATIOS_TABLE[i][Ee.BARS_IN_MODULE-d-1]=Math.fround(u/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let r=Un.getDecodedCodewordValue(Un.sampleBitCounts(i));return r!==-1?r:Un.getClosestDecodedValue(i)}static sampleBitCounts(i){let r=Ce.sum(i),a=new Int32Array(Ee.BARS_IN_MODULE),d=0,u=0;for(let f=0;f<Ee.MODULES_IN_CODEWORD;f++){let p=r/(2*Ee.MODULES_IN_CODEWORD)+f*r/Ee.MODULES_IN_CODEWORD;u+i[d]<=p&&(u+=i[d],d++),a[d]++}return a}static getDecodedCodewordValue(i){let r=Un.getBitValue(i);return Ee.getCodeword(r)===-1?-1:r}static getBitValue(i){let r=0;for(let a=0;a<i.length;a++)for(let d=0;d<i[a];d++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(i){let r=Ce.sum(i),a=new Array(Ee.BARS_IN_MODULE);if(r>1)for(let f=0;f<a.length;f++)a[f]=Math.fround(i[f]/r);let d=Ro.MAX_VALUE,u=-1;this.bSymbolTableReady||Un.initialize();for(let f=0;f<Un.RATIOS_TABLE.length;f++){let p=0,E=Un.RATIOS_TABLE[f];for(let x=0;x<Ee.BARS_IN_MODULE;x++){let S=Math.fround(E[x]-a[x]);if(p+=Math.fround(S*S),p>=d)break}p<d&&(d=p,u=Ee.SYMBOL_TABLE[f])}return u}}Un.bSymbolTableReady=!1,Un.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(I=>new Array(Ee.BARS_IN_MODULE));class Ma{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class at{static parseLong(i,r=void 0){return parseInt(i,r)}}class od extends y{}od.kind="NullPointerException";class xi{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,r,a){if(i==null)throw new od;if(r<0||r>i.length||a<0||r+a>i.length||r+a<0)throw new _e;if(a===0)return;for(let d=0;d<a;d++)this.write(i[r+d])}flush(){}close(){}}class Qr extends y{}class rd extends xi{constructor(i=32){if(super(),this.count=0,i<0)throw new T("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Qr;a=B.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,r,a){if(r<0||r>i.length||a<0||r+a-i.length>0)throw new _e;this.ensureCapacity(this.count+a),j.arraycopy(i,r,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ct;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Ts(){if(typeof window<"u")return window.BigInt||null;if(typeof Os<"u")return Os.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Is;function Ji(I){if(typeof Is>"u"&&(Is=Ts()),Is===null)throw new Error("BigInt is not supported!");return Is(I)}function du(){let I=[];I[0]=Ji(1);let i=Ji(900);I[1]=i;for(let r=2;r<16;r++)I[r]=I[r-1]*i;return I}class q{static decode(i,r){let a=new Ue(""),d=ne.ISO8859_1;a.enableDecoding(d);let u=1,f=i[u++],p=new Ma;for(;u<i[0];){switch(f){case q.TEXT_COMPACTION_MODE_LATCH:u=q.textCompaction(i,u,a);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:u=q.byteCompaction(f,i,d,u,a);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[u++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:u=q.numericCompaction(i,u,a);break;case q.ECI_CHARSET:ne.getCharacterSetECIByValue(i[u++]);break;case q.ECI_GENERAL_PURPOSE:u+=2;break;case q.ECI_USER_DEFINED:u++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=q.decodeMacroBlock(i,u,p);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new K;default:u--,u=q.textCompaction(i,u,a);break}if(u<i.length)f=i[u++];else throw K.getFormatInstance()}if(a.length()===0)throw K.getFormatInstance();let E=new po(null,a.toString(),null,r);return E.setOther(p),E}static decodeMacroBlock(i,r,a){if(r+q.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw K.getFormatInstance();let d=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<q.NUMBER_OF_SEQUENCE_CODEWORDS;p++,r++)d[p]=i[r];a.setSegmentIndex(B.parseInt(q.decodeBase900toBase10(d,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ue;r=q.textCompaction(i,r,u),a.setFileId(u.toString());let f=-1;for(i[r]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=r+1);r<i[0];)switch(i[r]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,i[r]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new Ue;r=q.textCompaction(i,r+1,p),a.setFileName(p.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new Ue;r=q.textCompaction(i,r+1,E),a.setSender(E.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Ue;r=q.textCompaction(i,r+1,x),a.setAddressee(x.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new Ue;r=q.numericCompaction(i,r+1,S),a.setSegmentCount(B.parseInt(S.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new Ue;r=q.numericCompaction(i,r+1,b),a.setTimestamp(at.parseLong(b.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new Ue;r=q.numericCompaction(i,r+1,R),a.setChecksum(B.parseInt(R.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new Ue;r=q.numericCompaction(i,r+1,P),a.setFileSize(at.parseLong(P.toString()));break;default:throw K.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw K.getFormatInstance()}if(f!==-1){let p=r-f;a.isLastSegment()&&p--,a.setOptionalData(F.copyOfRange(i,f,f+p))}return r}static textCompaction(i,r,a){let d=new Int32Array((i[0]-r)*2),u=new Int32Array((i[0]-r)*2),f=0,p=!1;for(;r<i[0]&&!p;){let E=i[r++];if(E<q.TEXT_COMPACTION_MODE_LATCH)d[f]=E/30,d[f+1]=E%30,f+=2;else switch(E){case q.TEXT_COMPACTION_MODE_LATCH:d[f++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:r--,p=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[f]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=i[r++],u[f]=E,f++;break}}return q.decodeTextCompaction(d,u,f,a),r}static decodeTextCompaction(i,r,a,d){let u=Ct.ALPHA,f=Ct.ALPHA,p=0;for(;p<a;){let E=i[p],x="";switch(u){case Ct.ALPHA:if(E<26)x=String.fromCharCode(65+E);else switch(E){case 26:x=" ";break;case q.LL:u=Ct.LOWER;break;case q.ML:u=Ct.MIXED;break;case q.PS:f=u,u=Ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.LOWER:if(E<26)x=String.fromCharCode(97+E);else switch(E){case 26:x=" ";break;case q.AS:f=u,u=Ct.ALPHA_SHIFT;break;case q.ML:u=Ct.MIXED;break;case q.PS:f=u,u=Ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.MIXED:if(E<q.PL)x=q.MIXED_CHARS[E];else switch(E){case q.PL:u=Ct.PUNCT;break;case 26:x=" ";break;case q.LL:u=Ct.LOWER;break;case q.AL:u=Ct.ALPHA;break;case q.PS:f=u,u=Ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT:if(E<q.PAL)x=q.PUNCT_CHARS[E];else switch(E){case q.PAL:u=Ct.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(u=f,E<26)x=String.fromCharCode(65+E);else switch(E){case 26:x=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(u=f,E<q.PAL)x=q.PUNCT_CHARS[E];else switch(E){case q.PAL:u=Ct.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break}x!==""&&d.append(x),p++}}static byteCompaction(i,r,a,d,u){let f=new rd,p=0,E=0,x=!1;switch(i){case q.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),b=r[d++];for(;d<r[0]&&!x;)switch(S[p++]=b,E=900*E+b,b=r[d++],b){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:d--,x=!0;break;default:if(p%5===0&&p>0){for(let R=0;R<6;++R)f.write(Number(Ji(E)>>Ji(8*(5-R))));E=0,p=0}break}d===r[0]&&b<q.TEXT_COMPACTION_MODE_LATCH&&(S[p++]=b);for(let R=0;R<p;R++)f.write(S[R]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;d<r[0]&&!x;){let R=r[d++];if(R<q.TEXT_COMPACTION_MODE_LATCH)p++,E=900*E+R;else switch(R){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:d--,x=!0;break}if(p%5===0&&p>0){for(let P=0;P<6;++P)f.write(Number(Ji(E)>>Ji(8*(5-P))));E=0,p=0}}break}return u.append(Pe.decode(f.toByteArray(),a)),d}static numericCompaction(i,r,a){let d=0,u=!1,f=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;r<i[0]&&!u;){let p=i[r++];if(r===i[0]&&(u=!0),p<q.TEXT_COMPACTION_MODE_LATCH)f[d]=p,d++;else switch(p){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(d%q.MAX_NUMERIC_CODEWORDS===0||p===q.NUMERIC_COMPACTION_MODE_LATCH||u)&&d>0&&(a.append(q.decodeBase900toBase10(f,d)),d=0)}return r}static decodeBase900toBase10(i,r){let a=Ji(0);for(let u=0;u<r;u++)a+=q.EXP900[r-u-1]*Ji(i[u]);let d=a.toString();if(d.charAt(0)!=="1")throw new K;return d.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Ts()?du():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(i,r,a,d,u,f,p){let E=new Ei(i,r,a,d,u),x=null,S=null,b;for(let U=!0;;U=!1){if(r!=null&&(x=qe.getRowIndicatorColumn(i,E,r,!0,f,p)),d!=null&&(S=qe.getRowIndicatorColumn(i,E,d,!1,f,p)),b=qe.merge(x,S),b==null)throw ee.getNotFoundInstance();let z=b.getBoundingBox();if(U&&z!=null&&(z.getMinY()<E.getMinY()||z.getMaxY()>E.getMaxY()))E=z;else break}b.setBoundingBox(E);let R=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,x),b.setDetectionResultColumn(R,S);let P=x!=null;for(let U=1;U<=R;U++){let z=P?U:R-U;if(b.getDetectionResultColumn(z)!==void 0)continue;let G;z===0||z===R?G=new id(E,z===0):G=new ar(E),b.setDetectionResultColumn(z,G);let Q=-1,de=Q;for(let ue=E.getMinY();ue<=E.getMaxY();ue++){if(Q=qe.getStartColumn(b,z,ue,P),Q<0||Q>E.getMaxX()){if(de===-1)continue;Q=de}let se=qe.detectCodeword(i,E.getMinX(),E.getMaxX(),P,Q,ue,f,p);se!=null&&(G.setCodeword(ue,se),de=Q,f=Math.min(f,se.getWidth()),p=Math.max(p,se.getWidth()))}}return qe.createDecoderResult(b)}static merge(i,r){if(i==null&&r==null)return null;let a=qe.getBarcodeMetadata(i,r);if(a==null)return null;let d=Ei.merge(qe.adjustBoundingBox(i),qe.adjustBoundingBox(r));return new dr(a,d)}static adjustBoundingBox(i){if(i==null)return null;let r=i.getRowHeights();if(r==null)return null;let a=qe.getMax(r),d=0;for(let p of r)if(d+=a-p,p>0)break;let u=i.getCodewords();for(let p=0;d>0&&u[p]==null;p++)d--;let f=0;for(let p=r.length-1;p>=0&&(f+=a-r[p],!(r[p]>0));p--);for(let p=u.length-1;f>0&&u[p]==null;p--)f--;return i.getBoundingBox().addMissingRows(d,f,i.isLeft())}static getMax(i){let r=-1;for(let a of i)r=Math.max(r,a);return r}static getBarcodeMetadata(i,r){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let d;return r==null||(d=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==d.getColumnCount()&&a.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&a.getRowCount()!==d.getRowCount()?null:a}static getRowIndicatorColumn(i,r,a,d,u,f){let p=new id(r,d);for(let E=0;E<2;E++){let x=E===0?1:-1,S=Math.trunc(Math.trunc(a.getX()));for(let b=Math.trunc(Math.trunc(a.getY()));b<=r.getMaxY()&&b>=r.getMinY();b+=x){let R=qe.detectCodeword(i,0,i.getWidth(),d,S,b,u,f);R!=null&&(p.setCodeword(b,R),d?S=R.getStartX():S=R.getEndX())}}return p}static adjustCodewordCount(i,r){let a=r[0][1],d=a.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-qe.getNumberOfECCodeWords(i.getBarcodeECLevel());if(d.length===0){if(u<1||u>Ee.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();a.setValue(u)}else d[0]!==u&&a.setValue(u)}static createDecoderResult(i){let r=qe.createBarcodeMatrix(i);qe.adjustCodewordCount(i,r);let a=new Array,d=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],f=new Array;for(let E=0;E<i.getBarcodeRowCount();E++)for(let x=0;x<i.getBarcodeColumnCount();x++){let S=r[E][x+1].getValue(),b=E*i.getBarcodeColumnCount()+x;S.length===0?a.push(b):S.length===1?d[b]=S[0]:(f.push(b),u.push(S))}let p=new Array(u.length);for(let E=0;E<p.length;E++)p[E]=u[E];return qe.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),d,Ee.toIntArray(a),Ee.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(i,r,a,d,u){let f=new Int32Array(d.length),p=100;for(;p-- >0;){for(let E=0;E<f.length;E++)r[d[E]]=u[E][f[E]];try{return qe.decodeCodewords(r,i,a)}catch(E){if(!(E instanceof W))throw E}if(f.length===0)throw W.getChecksumInstance();for(let E=0;E<f.length;E++)if(f[E]<u[E].length-1){f[E]++;break}else if(f[E]=0,E===f.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(i){let r=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let d=0;d<r.length;d++)for(let u=0;u<r[d].length;u++)r[d][u]=new lr;let a=0;for(let d of i.getDetectionResultColumns()){if(d!=null){for(let u of d.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][a].setValue(u.getValue())}}}a++}return r}static isValidBarcodeColumn(i,r){return r>=0&&r<=i.getBarcodeColumnCount()+1}static getStartColumn(i,r,a,d){let u=d?1:-1,f=null;if(qe.isValidBarcodeColumn(i,r-u)&&(f=i.getDetectionResultColumn(r-u).getCodeword(a)),f!=null)return d?f.getEndX():f.getStartX();if(f=i.getDetectionResultColumn(r).getCodewordNearby(a),f!=null)return d?f.getStartX():f.getEndX();if(qe.isValidBarcodeColumn(i,r-u)&&(f=i.getDetectionResultColumn(r-u).getCodewordNearby(a)),f!=null)return d?f.getEndX():f.getStartX();let p=0;for(;qe.isValidBarcodeColumn(i,r-u);){r-=u;for(let E of i.getDetectionResultColumn(r).getCodewords())if(E!=null)return(d?E.getEndX():E.getStartX())+u*p*(E.getEndX()-E.getStartX());p++}return d?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,r,a,d,u,f,p,E){u=qe.adjustCodewordStartColumn(i,r,a,d,u,f);let x=qe.getModuleBitCount(i,r,a,d,u,f);if(x==null)return null;let S,b=Ce.sum(x);if(d)S=u+b;else{for(let U=0;U<x.length/2;U++){let z=x[U];x[U]=x[x.length-1-U],x[x.length-1-U]=z}S=u,u=S-b}if(!qe.checkCodewordSkew(b,p,E))return null;let R=Un.getDecodedValue(x),P=Ee.getCodeword(R);return P===-1?null:new Fo(u,S,qe.getCodewordBucketNumber(R),P)}static getModuleBitCount(i,r,a,d,u,f){let p=u,E=new Int32Array(8),x=0,S=d?1:-1,b=d;for(;(d?p<a:p>=r)&&x<E.length;)i.get(p,f)===b?(E[x]++,p+=S):(x++,b=!b);return x===E.length||p===(d?a:r)&&x===E.length-1?E:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,r,a,d,u,f){let p=u,E=d?-1:1;for(let x=0;x<2;x++){for(;(d?p>=r:p<a)&&d===i.get(p,f);){if(Math.abs(u-p)>qe.CODEWORD_SKEW_SIZE)return u;p+=E}E=-E,d=!d}return p}static checkCodewordSkew(i,r,a){return r-qe.CODEWORD_SKEW_SIZE<=i&&i<=a+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(i,r,a){if(i.length===0)throw K.getFormatInstance();let d=1<<r+1,u=qe.correctErrors(i,a,d);qe.verifyCodewordCount(i,d);let f=q.decode(i,""+r);return f.setErrorsCorrected(u),f.setErasures(a.length),f}static correctErrors(i,r,a){if(r!=null&&r.length>a/2+qe.MAX_ERRORS||a<0||a>qe.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return qe.errorCorrection.decode(i,a,r)}static verifyCodewordCount(i,r){if(i.length<4)throw K.getFormatInstance();let a=i[0];if(a>i.length)throw K.getFormatInstance();if(a===0)if(r<i.length)i[0]=i.length-r;else throw K.getFormatInstance()}static getBitCountForCodeword(i){let r=new Int32Array(8),a=0,d=r.length-1;for(;!((i&1)!==a&&(a=i&1,d--,d<0));)r[d]++,i>>=1;return r}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let r=new yi;for(let a=0;a<i.length;a++){r.format("Row %2d: ",a);for(let d=0;d<i[a].length;d++){let u=i[a][d];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new As;class En{decode(i,r=null){let a=En.decode(i,r,!1);if(a==null||a.length===0||a[0]==null)throw ee.getNotFoundInstance();return a[0]}decodeMultiple(i,r=null){try{return En.decode(i,r,!0)}catch(a){throw a instanceof K||a instanceof W?ee.getNotFoundInstance():a}}static decode(i,r,a){const d=new Array,u=Xe.detectMultiple(i,r,a);for(const f of u.getPoints()){const p=qe.decode(u.getBits(),f[4],f[5],f[6],f[7],En.getMinCodewordWidth(f),En.getMaxCodewordWidth(f)),E=new je(p.getText(),p.getRawBytes(),void 0,f,ae.PDF_417);E.putMetadata(vt.ERROR_CORRECTION_LEVEL,p.getECLevel());const x=p.getOther();x!=null&&E.putMetadata(vt.PDF417_EXTRA_METADATA,x),d.push(E)}return d.map(f=>f)}static getMaxWidth(i,r){return i==null||r==null?0:Math.trunc(Math.abs(i.getX()-r.getX()))}static getMinWidth(i,r){return i==null||r==null?B.MAX_VALUE:Math.trunc(Math.abs(i.getX()-r.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(En.getMaxWidth(i[0],i[4]),En.getMaxWidth(i[6],i[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(En.getMaxWidth(i[1],i[5]),En.getMaxWidth(i[7],i[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(En.getMinWidth(i[0],i[4]),En.getMinWidth(i[6],i[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(En.getMinWidth(i[1],i[5]),En.getMinWidth(i[7],i[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class Jn extends y{}Jn.kind="ReaderException";class sd{constructor(i,r){this.verbose=i===!0,r&&this.setHints(r)}decode(i,r){return r&&this.setHints(r),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const r=!o(i)&&i.get(ce.TRY_HARDER)===!0,a=o(i)?null:i.get(ce.POSSIBLE_FORMATS),d=new Array;if(!o(a)){const u=a.some(f=>f===ae.UPC_A||f===ae.UPC_E||f===ae.EAN_13||f===ae.EAN_8||f===ae.CODABAR||f===ae.CODE_39||f===ae.CODE_93||f===ae.CODE_128||f===ae.ITF||f===ae.RSS_14||f===ae.RSS_EXPANDED);u&&!r&&d.push(new yo(i,this.verbose)),a.includes(ae.QR_CODE)&&d.push(new mn),a.includes(ae.DATA_MATRIX)&&d.push(new wt),a.includes(ae.AZTEC)&&d.push(new Ke),a.includes(ae.PDF_417)&&d.push(new En),u&&r&&d.push(new yo(i,this.verbose))}d.length===0&&(r||d.push(new yo(i,this.verbose)),d.push(new mn),d.push(new wt),d.push(new Ke),d.push(new En),r&&d.push(new yo(i,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Jn("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(i,this.hints)}catch(a){if(a instanceof Jn)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class ad extends St{constructor(i=null,r=500){const a=new sd;a.setHints(i),super(a,r)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class xo extends St{constructor(i=500){super(new En,i)}}class ld extends St{constructor(i=500){super(new mn,i)}}var bs;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(bs||(bs={}));var $t=bs;class La{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new an(i,Int32Array.from([1])))}buildGenerator(i){const r=this.cachedGenerators;if(i>=r.length){let a=r[r.length-1];const d=this.field;for(let u=r.length;u<=i;u++){const f=a.multiply(new an(d,Int32Array.from([1,d.exp(u-1+d.getGeneratorBase())])));r.push(f),a=f}}return r[i]}encode(i,r){if(r===0)throw new T("No error correction bytes");const a=i.length-r;if(a<=0)throw new T("No data bytes provided");const d=this.buildGenerator(r),u=new Int32Array(a);j.arraycopy(i,0,u,0,a);let f=new an(this.field,u);f=f.multiplyByMonomial(r,1);const E=f.divide(d)[1].getCoefficients(),x=r-E.length;for(let S=0;S<x;S++)i[a+S]=0;j.arraycopy(E,0,i,a+x,E.length)}}class Ht{constructor(){}static applyMaskPenaltyRule1(i){return Ht.applyMaskPenaltyRule1Internal(i,!0)+Ht.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let r=0;const a=i.getArray(),d=i.getWidth(),u=i.getHeight();for(let f=0;f<u-1;f++){const p=a[f];for(let E=0;E<d-1;E++){const x=p[E];x===p[E+1]&&x===a[f+1][E]&&x===a[f+1][E+1]&&r++}}return Ht.N2*r}static applyMaskPenaltyRule3(i){let r=0;const a=i.getArray(),d=i.getWidth(),u=i.getHeight();for(let f=0;f<u;f++)for(let p=0;p<d;p++){const E=a[f];p+6<d&&E[p]===1&&E[p+1]===0&&E[p+2]===1&&E[p+3]===1&&E[p+4]===1&&E[p+5]===0&&E[p+6]===1&&(Ht.isWhiteHorizontal(E,p-4,p)||Ht.isWhiteHorizontal(E,p+7,p+11))&&r++,f+6<u&&a[f][p]===1&&a[f+1][p]===0&&a[f+2][p]===1&&a[f+3][p]===1&&a[f+4][p]===1&&a[f+5][p]===0&&a[f+6][p]===1&&(Ht.isWhiteVertical(a,p,f-4,f)||Ht.isWhiteVertical(a,p,f+7,f+11))&&r++}return r*Ht.N3}static isWhiteHorizontal(i,r,a){r=Math.max(r,0),a=Math.min(a,i.length);for(let d=r;d<a;d++)if(i[d]===1)return!1;return!0}static isWhiteVertical(i,r,a,d){a=Math.max(a,0),d=Math.min(d,i.length);for(let u=a;u<d;u++)if(i[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let r=0;const a=i.getArray(),d=i.getWidth(),u=i.getHeight();for(let E=0;E<u;E++){const x=a[E];for(let S=0;S<d;S++)x[S]===1&&r++}const f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(r*2-f)*10/f)*Ht.N4}static getDataMaskBit(i,r,a){let d,u;switch(i){case 0:d=a+r&1;break;case 1:d=a&1;break;case 2:d=r%3;break;case 3:d=(a+r)%3;break;case 4:d=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:u=a*r,d=(u&1)+u%3;break;case 6:u=a*r,d=(u&1)+u%3&1;break;case 7:u=a*r,d=u%3+(a+r&1)&1;break;default:throw new T("Invalid mask pattern: "+i)}return d===0}static applyMaskPenaltyRule1Internal(i,r){let a=0;const d=r?i.getHeight():i.getWidth(),u=r?i.getWidth():i.getHeight(),f=i.getArray();for(let p=0;p<d;p++){let E=0,x=-1;for(let S=0;S<u;S++){const b=r?f[p][S]:f[S][p];b===x?E++:(E>=5&&(a+=Ht.N1+(E-5)),E=1,x=b)}E>=5&&(a+=Ht.N1+(E-5))}return a}}Ht.N1=3,Ht.N2=3,Ht.N3=40,Ht.N4=10;class Kr{constructor(i,r){this.width=i,this.height=r;const a=new Array(r);for(let d=0;d!==r;d++)a[d]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,r){return this.bytes[r][i]}getArray(){return this.bytes}setNumber(i,r,a){this.bytes[r][i]=a}setBoolean(i,r,a){this.bytes[r][i]=a?1:0}clear(i){for(const r of this.bytes)F.fill(r,i)}equals(i){if(!(i instanceof Kr))return!1;const r=i;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,d=this.height;a<d;++a){const u=this.bytes[a],f=r.bytes[a];for(let p=0,E=this.width;p<E;++p)if(u[p]!==f[p])return!1}return!0}toString(){const i=new Ue;for(let r=0,a=this.height;r<a;++r){const d=this.bytes[r];for(let u=0,f=this.width;u<f;++u)switch(d[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Bo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new Ue;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Bo.NUM_MASK_PATTERNS}}Bo.NUM_MASK_PATTERNS=8;class At extends y{}At.kind="WriterException";class De{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,r,a,d,u){De.clearMatrix(u),De.embedBasicPatterns(a,u),De.embedTypeInfo(r,d,u),De.maybeEmbedVersionInfo(a,u),De.embedDataBits(i,d,u)}static embedBasicPatterns(i,r){De.embedPositionDetectionPatternsAndSeparators(r),De.embedDarkDotAtLeftBottomCorner(r),De.maybeEmbedPositionAdjustmentPatterns(i,r),De.embedTimingPatterns(r)}static embedTypeInfo(i,r,a){const d=new J;De.makeTypeInfoBits(i,r,d);for(let u=0,f=d.getSize();u<f;++u){const p=d.get(d.getSize()-1-u),E=De.TYPE_INFO_COORDINATES[u],x=E[0],S=E[1];if(a.setBoolean(x,S,p),u<8){const b=a.getWidth()-u-1;a.setBoolean(b,8,p)}else{const R=a.getHeight()-7+(u-8);a.setBoolean(8,R,p)}}}static maybeEmbedVersionInfo(i,r){if(i.getVersionNumber()<7)return;const a=new J;De.makeVersionInfoBits(i,a);let d=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const p=a.get(d);d--,r.setBoolean(u,r.getHeight()-11+f,p),r.setBoolean(r.getHeight()-11+f,u,p)}}static embedDataBits(i,r,a){let d=0,u=-1,f=a.getWidth()-1,p=a.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);p>=0&&p<a.getHeight();){for(let E=0;E<2;++E){const x=f-E;if(!De.isEmpty(a.get(x,p)))continue;let S;d<i.getSize()?(S=i.get(d),++d):S=!1,r!==255&&Ht.getDataMaskBit(r,x,p)&&(S=!S),a.setBoolean(x,p,S)}p+=u}u=-u,p+=u,f-=2}if(d!==i.getSize())throw new At("Not all bits consumed: "+d+"/"+i.getSize())}static findMSBSet(i){return 32-B.numberOfLeadingZeros(i)}static calculateBCHCode(i,r){if(r===0)throw new T("0 polynomial");const a=De.findMSBSet(r);for(i<<=a-1;De.findMSBSet(i)>=a;)i^=r<<De.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,r,a){if(!Bo.isValidMaskPattern(r))throw new At("Invalid mask pattern");const d=i.getBits()<<3|r;a.appendBits(d,5);const u=De.calculateBCHCode(d,De.TYPE_INFO_POLY);a.appendBits(u,10);const f=new J;if(f.appendBits(De.TYPE_INFO_MASK_PATTERN,15),a.xor(f),a.getSize()!==15)throw new At("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,r){r.appendBits(i.getVersionNumber(),6);const a=De.calculateBCHCode(i.getVersionNumber(),De.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new At("should not happen but we got: "+r.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let r=8;r<i.getWidth()-8;++r){const a=(r+1)%2;De.isEmpty(i.get(r,6))&&i.setNumber(r,6,a),De.isEmpty(i.get(6,r))&&i.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new At;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,r,a){for(let d=0;d<8;++d){if(!De.isEmpty(a.get(i+d,r)))throw new At;a.setNumber(i+d,r,0)}}static embedVerticalSeparationPattern(i,r,a){for(let d=0;d<7;++d){if(!De.isEmpty(a.get(i,r+d)))throw new At;a.setNumber(i,r+d,0)}}static embedPositionAdjustmentPattern(i,r,a){for(let d=0;d<5;++d){const u=De.POSITION_ADJUSTMENT_PATTERN[d];for(let f=0;f<5;++f)a.setNumber(i+f,r+d,u[f])}}static embedPositionDetectionPattern(i,r,a){for(let d=0;d<7;++d){const u=De.POSITION_DETECTION_PATTERN[d];for(let f=0;f<7;++f)a.setNumber(i+f,r+d,u[f])}}static embedPositionDetectionPatternsAndSeparators(i){const r=De.POSITION_DETECTION_PATTERN[0].length;De.embedPositionDetectionPattern(0,0,i),De.embedPositionDetectionPattern(i.getWidth()-r,0,i),De.embedPositionDetectionPattern(0,i.getWidth()-r,i);const a=8;De.embedHorizontalSeparationPattern(0,a-1,i),De.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),De.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const d=7;De.embedVerticalSeparationPattern(d,0,i),De.embedVerticalSeparationPattern(i.getHeight()-d-1,0,i),De.embedVerticalSeparationPattern(d,i.getHeight()-d,i)}static maybeEmbedPositionAdjustmentPatterns(i,r){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,d=De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,f=d.length;u!==f;u++){const p=d[u];if(p>=0)for(let E=0;E!==f;E++){const x=d[E];x>=0&&De.isEmpty(r.get(x,p))&&De.embedPositionAdjustmentPattern(x-2,p-2,r)}}}}De.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),De.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),De.VERSION_INFO_POLY=7973,De.TYPE_INFO_POLY=1335,De.TYPE_INFO_MASK_PATTERN=21522;class cu{constructor(i,r){this.dataBytes=i,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nt{constructor(){}static calculateMaskPenalty(i){return Ht.applyMaskPenaltyRule1(i)+Ht.applyMaskPenaltyRule2(i)+Ht.applyMaskPenaltyRule3(i)+Ht.applyMaskPenaltyRule4(i)}static encode(i,r,a=null){let d=Nt.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get($t.CHARACTER_SET)!==void 0;u&&(d=a.get($t.CHARACTER_SET).toString());const f=this.chooseMode(i,d),p=new J;if(f===Le.BYTE&&(u||Nt.DEFAULT_BYTE_MODE_ENCODING!==d)){const ue=ne.getCharacterSetECIByName(d);ue!==void 0&&this.appendECI(ue,p)}this.appendModeInfo(f,p);const E=new J;this.appendBytes(i,f,E,d);let x;if(a!==null&&a.get($t.QR_VERSION)!==void 0){const ue=Number.parseInt(a.get($t.QR_VERSION).toString(),10);x=me.getVersionForNumber(ue);const se=this.calculateBitsNeeded(f,p,E,x);if(!this.willFit(se,x,r))throw new At("Data too big for requested version")}else x=this.recommendVersion(r,f,p,E);const S=new J;S.appendBitArray(p);const b=f===Le.BYTE?E.getSizeInBytes():i.length;this.appendLengthInfo(b,x,f,S),S.appendBitArray(E);const R=x.getECBlocksForLevel(r),P=x.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(P,S);const U=this.interleaveWithECBytes(S,x.getTotalCodewords(),P,R.getNumBlocks()),z=new Bo;z.setECLevel(r),z.setMode(f),z.setVersion(x);const G=x.getDimensionForVersion(),Q=new Kr(G,G),de=this.chooseMaskPattern(U,r,x,Q);return z.setMaskPattern(de),De.buildMatrix(U,r,x,de,Q),z.setMatrix(Q),z}static recommendVersion(i,r,a,d){const u=this.calculateBitsNeeded(r,a,d,me.getVersionForNumber(1)),f=this.chooseVersion(u,i),p=this.calculateBitsNeeded(r,a,d,f);return this.chooseVersion(p,i)}static calculateBitsNeeded(i,r,a,d){return r.getSize()+i.getCharacterCountBits(d)+a.getSize()}static getAlphanumericCode(i){return i<Nt.ALPHANUMERIC_TABLE.length?Nt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,r=null){if(ne.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(i))return Le.KANJI;let a=!1,d=!1;for(let u=0,f=i.length;u<f;++u){const p=i.charAt(u);if(Nt.isDigit(p))a=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)d=!0;else return Le.BYTE}return d?Le.ALPHANUMERIC:a?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(i){let r;try{r=Pe.encode(i,ne.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let d=0;d<a;d+=2){const u=r[d]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,r,a,d){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<Bo.NUM_MASK_PATTERNS;p++){De.buildMatrix(i,r,a,p,d);let E=this.calculateMaskPenalty(d);E<u&&(u=E,f=p)}return f}static chooseVersion(i,r){for(let a=1;a<=40;a++){const d=me.getVersionForNumber(a);if(Nt.willFit(i,d,r))return d}throw new At("Data too big")}static willFit(i,r,a){const d=r.getTotalCodewords(),f=r.getECBlocksForLevel(a).getTotalECCodewords(),p=d-f,E=(i+7)/8;return p>=E}static terminateBits(i,r){const a=i*8;if(r.getSize()>a)throw new At("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let f=0;f<4&&r.getSize()<a;++f)r.appendBit(!1);const d=r.getSize()&7;if(d>0)for(let f=d;f<8;f++)r.appendBit(!1);const u=i-r.getSizeInBytes();for(let f=0;f<u;++f)r.appendBits(f&1?17:236,8);if(r.getSize()!==a)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,r,a,d,u,f){if(d>=a)throw new At("Block ID too large");const p=i%a,E=a-p,x=Math.floor(i/a),S=x+1,b=Math.floor(r/a),R=b+1,P=x-b,U=S-R;if(P!==U)throw new At("EC bytes mismatch");if(a!==E+p)throw new At("RS blocks mismatch");if(i!==(b+P)*E+(R+U)*p)throw new At("Total bytes mismatch");d<E?(u[0]=b,f[0]=P):(u[0]=R,f[0]=U)}static interleaveWithECBytes(i,r,a,d){if(i.getSizeInBytes()!==a)throw new At("Number of bits and data bytes does not match");let u=0,f=0,p=0;const E=new Array;for(let S=0;S<d;++S){const b=new Int32Array(1),R=new Int32Array(1);Nt.getNumDataBytesAndNumECBytesForBlockID(r,a,d,S,b,R);const P=b[0],U=new Uint8Array(P);i.toBytes(8*u,U,0,P);const z=Nt.generateECBytes(U,R[0]);E.push(new cu(U,z)),f=Math.max(f,P),p=Math.max(p,z.length),u+=b[0]}if(a!==u)throw new At("Data bytes does not match offset");const x=new J;for(let S=0;S<f;++S)for(const b of E){const R=b.getDataBytes();S<R.length&&x.appendBits(R[S],8)}for(let S=0;S<p;++S)for(const b of E){const R=b.getErrorCorrectionBytes();S<R.length&&x.appendBits(R[S],8)}if(r!==x.getSizeInBytes())throw new At("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(i,r){const a=i.length,d=new Int32Array(a+r);for(let f=0;f<a;f++)d[f]=i[f]&255;new La(st.QR_CODE_FIELD_256).encode(d,r);const u=new Uint8Array(r);for(let f=0;f<r;f++)u[f]=d[a+f];return u}static appendModeInfo(i,r){r.appendBits(i.getBits(),4)}static appendLengthInfo(i,r,a,d){const u=a.getCharacterCountBits(r);if(i>=1<<u)throw new At(i+" is bigger than "+((1<<u)-1));d.appendBits(i,u)}static appendBytes(i,r,a,d){switch(r){case Le.NUMERIC:Nt.appendNumericBytes(i,a);break;case Le.ALPHANUMERIC:Nt.appendAlphanumericBytes(i,a);break;case Le.BYTE:Nt.append8BitBytes(i,a,d);break;case Le.KANJI:Nt.appendKanjiBytes(i,a);break;default:throw new At("Invalid mode: "+r)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const r=Nt.getDigit(i);return r>=0&&r<=9}static appendNumericBytes(i,r){const a=i.length;let d=0;for(;d<a;){const u=Nt.getDigit(i.charAt(d));if(d+2<a){const f=Nt.getDigit(i.charAt(d+1)),p=Nt.getDigit(i.charAt(d+2));r.appendBits(u*100+f*10+p,10),d+=3}else if(d+1<a){const f=Nt.getDigit(i.charAt(d+1));r.appendBits(u*10+f,7),d+=2}else r.appendBits(u,4),d++}}static appendAlphanumericBytes(i,r){const a=i.length;let d=0;for(;d<a;){const u=Nt.getAlphanumericCode(i.charCodeAt(d));if(u===-1)throw new At;if(d+1<a){const f=Nt.getAlphanumericCode(i.charCodeAt(d+1));if(f===-1)throw new At;r.appendBits(u*45+f,11),d+=2}else r.appendBits(u,6),d++}}static append8BitBytes(i,r,a){let d;try{d=Pe.encode(i,a)}catch(u){throw new At(u)}for(let u=0,f=d.length;u!==f;u++){const p=d[u];r.appendBits(p,8)}}static appendKanjiBytes(i,r){let a;try{a=Pe.encode(i,ne.SJIS)}catch(u){throw new At(u)}const d=a.length;for(let u=0;u<d;u+=2){const f=a[u]&255,p=a[u+1]&255,E=f<<8&4294967295|p;let x=-1;if(E>=33088&&E<=40956?x=E-33088:E>=57408&&E<=60351&&(x=E-49472),x===-1)throw new At("Invalid byte sequence");const S=(x>>8)*192+(x&255);r.appendBits(S,13)}}static appendECI(i,r){r.appendBits(Le.ECI.getBits(),4),r.appendBits(i.getValue(),8)}}Nt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nt.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class vo{write(i,r,a,d=null){if(i.length===0)throw new T("Found empty contents");if(r<0||a<0)throw new T("Requested dimensions are too small: "+r+"x"+a);let u=tt.L,f=vo.QUIET_ZONE_SIZE;d!==null&&(d.get($t.ERROR_CORRECTION)!==void 0&&(u=tt.fromString(d.get($t.ERROR_CORRECTION).toString())),d.get($t.MARGIN)!==void 0&&(f=Number.parseInt(d.get($t.MARGIN).toString(),10)));const p=Nt.encode(i,u,d);return this.renderResult(p,r,a,f)}writeToDom(i,r,a,d,u=null){typeof i=="string"&&(i=document.querySelector(i));const f=this.write(r,a,d,u);i&&i.appendChild(f)}renderResult(i,r,a,d){const u=i.getMatrix();if(u===null)throw new Kn;const f=u.getWidth(),p=u.getHeight(),E=f+d*2,x=p+d*2,S=Math.max(r,E),b=Math.max(a,x),R=Math.min(Math.floor(S/E),Math.floor(b/x)),P=Math.floor((S-f*R)/2),U=Math.floor((b-p*R)/2),z=this.createSVGElement(S,b);for(let G=0,Q=U;G<p;G++,Q+=R)for(let de=0,ue=P;de<f;de++,ue+=R)if(u.get(de,G)===1){const se=this.createSvgRectElement(ue,Q,R,R);z.appendChild(se)}return z}createSVGElement(i,r){const a=document.createElementNS(vo.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(i,r,a,d){const u=document.createElementNS(vo.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",d.toString()),u.setAttributeNS(null,"fill","#000000"),u}}vo.QUIET_ZONE_SIZE=4,vo.SVG_NS="http://www.w3.org/2000/svg";class eo{encode(i,r,a,d,u){if(i.length===0)throw new T("Found empty contents");if(r!==ae.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(a<0||d<0)throw new T(`Requested dimensions are too small: ${a}x${d}`);let f=tt.L,p=eo.QUIET_ZONE_SIZE;u!==null&&(u.get($t.ERROR_CORRECTION)!==void 0&&(f=tt.fromString(u.get($t.ERROR_CORRECTION).toString())),u.get($t.MARGIN)!==void 0&&(p=Number.parseInt(u.get($t.MARGIN).toString(),10)));const E=Nt.encode(i,f,u);return eo.renderResult(E,a,d,p)}static renderResult(i,r,a,d){const u=i.getMatrix();if(u===null)throw new Kn;const f=u.getWidth(),p=u.getHeight(),E=f+d*2,x=p+d*2,S=Math.max(r,E),b=Math.max(a,x),R=Math.min(Math.floor(S/E),Math.floor(b/x)),P=Math.floor((S-f*R)/2),U=Math.floor((b-p*R)/2),z=new Ie(S,b);for(let G=0,Q=U;G<p;G++,Q+=R)for(let de=0,ue=P;de<f;de++,ue+=R)u.get(de,G)===1&&z.setRegion(ue,Q,R,R);return z}}eo.QUIET_ZONE_SIZE=4;class ko{encode(i,r,a,d,u){let f;switch(r){case ae.QR_CODE:f=new eo;break;default:throw new T("No encoder available for format "+r)}return f.encode(i,r,a,d,u)}}class Fi extends te{constructor(i,r,a,d,u,f,p,E){if(super(f,p),this.yuvData=i,this.dataWidth=r,this.dataHeight=a,this.left=d,this.top=u,d+f>r||u+p>a)throw new T("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(f,p)}getRow(i,r){if(i<0||i>=this.getHeight())throw new T("Requested row is outside the image: "+i);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const d=(i+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,d,r,0,a),r}getMatrix(){const i=this.getWidth(),r=this.getHeight();if(i===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=i*r,d=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return j.arraycopy(this.yuvData,u,d,0,a),d;for(let f=0;f<r;f++){const p=f*i;j.arraycopy(this.yuvData,u,d,p,i),u+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,r,a,d){return new Fi(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+r,a,d,!1)}renderThumbnail(){const i=this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*r),d=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<r;f++){const p=f*i;for(let E=0;E<i;E++){const x=d[u+E*Fi.THUMBNAIL_SCALE_FACTOR]&255;a[p+E]=4278190080|x*65793}u+=this.dataWidth*Fi.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,r){const a=this.yuvData;for(let d=0,u=this.top*this.dataWidth+this.left;d<r;d++,u+=this.dataWidth){const f=u+i/2;for(let p=u,E=u+i-1;p<f;p++,E--){const x=a[p];a[p]=a[E],a[E]=x}}}invert(){return new Me(this)}}Fi.THUMBNAIL_SCALE_FACTOR=2;class Uo extends te{constructor(i,r,a,d,u,f,p){if(super(r,a),this.dataWidth=d,this.dataHeight=u,this.left=f,this.top=p,i.BYTES_PER_ELEMENT===4){const E=r*a,x=new Uint8ClampedArray(E);for(let S=0;S<E;S++){const b=i[S],R=b>>16&255,P=b>>7&510,U=b&255;x[S]=(R+P+U)/4&255}this.luminances=x}else this.luminances=i;if(d===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=a),f===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(i,r){if(i<0||i>=this.getHeight())throw new T("Requested row is outside the image: "+i);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const d=(i+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,d,r,0,a),r}getMatrix(){const i=this.getWidth(),r=this.getHeight();if(i===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=i*r,d=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return j.arraycopy(this.luminances,u,d,0,a),d;for(let f=0;f<r;f++){const p=f*i;j.arraycopy(this.luminances,u,d,p,i),u+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,r,a,d){return new Uo(this.luminances,a,d,this.dataWidth,this.dataHeight,this.left+i,this.top+r)}invert(){return new Me(this)}}class ei extends ne{static forName(i){return this.getCharacterSetECIByName(i)}}class Ns{}Ns.ISO_8859_1=ne.ISO8859_1;class Oa{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class dd{static singletonList(i){return[i]}static min(i,r){return i.sort(r)[0]}}class Da{constructor(i){this.previous=i}getPrevious(){return this.previous}}class wo extends Da{constructor(i,r,a){super(i),this.value=r,this.bitCount=a}appendTo(i,r){i.appendBits(this.value,this.bitCount)}add(i,r){return new wo(this,i,r)}addBinaryShift(i,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new wo(this,i,r)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+B.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Pa extends wo{constructor(i,r,a){super(i,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(i,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(i,r){return new Pa(this,i,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function uu(I,i,r){return new Pa(I,i,r)}function cr(I,i,r){return new wo(I,i,r)}const hu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],fn=0,to=1,ai=2,Bi=3,ki=4,ur=new wo(null,0,0),Fa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function qr(I){for(let i of I)F.fill(i,-1);return I[fn][ki]=0,I[to][ki]=0,I[to][fn]=28,I[Bi][ki]=0,I[ai][ki]=0,I[ai][fn]=15,I}const Ba=qr(F.createInt32Array(6,6));class ti{constructor(i,r,a,d){this.token=i,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,r){let a=this.bitCount,d=this.token;if(i!==this.mode){let f=Fa[this.mode][i];d=cr(d,f&65535,f>>16),a+=f>>16}let u=i===ai?4:5;return d=cr(d,r,u),new ti(d,i,0,a+u)}shiftAndAppend(i,r){let a=this.token,d=this.mode===ai?4:5;return a=cr(a,Ba[this.mode][i],d),a=cr(a,r,5),new ti(a,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(i){let r=this.token,a=this.mode,d=this.bitCount;if(this.mode===ki||this.mode===ai){let p=Fa[a][fn];r=cr(r,p&65535,p>>16),d+=p>>16,a=fn}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new ti(r,a,this.binaryShiftByteCount+1,d+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(i+1)),f}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=uu(r,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ti(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let r=this.bitCount+(Fa[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?r+=ti.calculateBinaryShiftCost(i)-ti.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(r+=10),r<=i.bitCount}toBitArray(i){let r=[];for(let d=this.endBinaryShift(i.length).token;d!==null;d=d.getPrevious())r.unshift(d);let a=new J;for(const d of r)d.appendTo(a,i);return a}toString(){return ye.format("%s bits=%d bytes=%d",hu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ti.INITIAL_STATE=new ti(ur,fn,0,0);function fu(I){const i=ye.getCharCode(" "),r=ye.getCharCode("."),a=ye.getCharCode(",");I[fn][i]=1;const d=ye.getCharCode("Z"),u=ye.getCharCode("A");for(let R=u;R<=d;R++)I[fn][R]=R-u+2;I[to][i]=1;const f=ye.getCharCode("z"),p=ye.getCharCode("a");for(let R=p;R<=f;R++)I[to][R]=R-p+2;I[ai][i]=1;const E=ye.getCharCode("9"),x=ye.getCharCode("0");for(let R=x;R<=E;R++)I[ai][R]=R-x+2;I[ai][a]=12,I[ai][r]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<S.length;R++)I[Bi][ye.getCharCode(S[R])]=R;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<b.length;R++)ye.getCharCode(b[R])>0&&(I[ki][ye.getCharCode(b[R])]=R);return I}const Ui=fu(F.createInt32Array(5,256));class Co{constructor(i){this.text=i}encode(){const i=ye.getCharCode(" "),r=ye.getCharCode(`
`);let a=dd.singletonList(ti.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ye.getCharCode("\r"):f=p===r?2:0;break;case ye.getCharCode("."):f=p===i?3:0;break;case ye.getCharCode(","):f=p===i?4:0;break;case ye.getCharCode(":"):f=p===i?5:0;break;default:f=0}f>0?(a=Co.updateStateListForPair(a,u,f),u++):a=this.updateStateListForChar(a,u)}return dd.min(a,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,r){const a=[];for(let d of i)this.updateStateForChar(d,r,a);return Co.simplifyStates(a)}updateStateForChar(i,r,a){let d=this.text[r]&255,u=Ui[i.getMode()][d]>0,f=null;for(let p=0;p<=ki;p++){let E=Ui[p][d];if(E>0){if(f==null&&(f=i.endBinaryShift(r)),!u||p===i.getMode()||p===ai){const x=f.latchAndAppend(p,E);a.push(x)}if(!u&&Ba[i.getMode()][p]>=0){const x=f.shiftAndAppend(p,E);a.push(x)}}}if(i.getBinaryShiftByteCount()>0||Ui[i.getMode()][d]===0){let p=i.addBinaryShiftChar(r);a.push(p)}}static updateStateListForPair(i,r,a){const d=[];for(let u of i)this.updateStateForPair(u,r,a,d);return this.simplifyStates(d)}static updateStateForPair(i,r,a,d){let u=i.endBinaryShift(r);if(d.push(u.latchAndAppend(ki,a)),i.getMode()!==ki&&d.push(u.shiftAndAppend(ki,a)),a===3||a===4){let f=u.latchAndAppend(ai,16-a).latchAndAppend(ai,1);d.push(f)}if(i.getBinaryShiftByteCount()>0){let f=i.addBinaryShiftChar(r).addBinaryShiftChar(r+1);d.push(f)}}static simplifyStates(i){let r=[];for(const a of i){let d=!0;for(const u of r){if(u.isBetterThanOrEqualTo(a)){d=!1;break}a.isBetterThanOrEqualTo(u)&&(r=r.filter(f=>f!==u))}d&&r.push(a)}return r}}class ft{constructor(){}static encodeBytes(i){return ft.encode(i,ft.DEFAULT_EC_PERCENT,ft.DEFAULT_AZTEC_LAYERS)}static encode(i,r,a){let d=new Co(i).encode(),u=B.truncDivision(d.getSize()*r,100)+11,f=d.getSize()+u,p,E,x,S,b;if(a!==ft.DEFAULT_AZTEC_LAYERS){if(p=a<0,E=Math.abs(a),E>(p?ft.MAX_NB_BITS_COMPACT:ft.MAX_NB_BITS))throw new T(ye.format("Illegal value %s for layers",a));x=ft.totalBitsInLayer(E,p),S=ft.WORD_SIZE[E];let se=x-x%S;if(b=ft.stuffBits(d,S),b.getSize()+u>se)throw new T("Data to large for user specified layer");if(p&&b.getSize()>S*64)throw new T("Data to large for user specified layer")}else{S=0,b=null;for(let se=0;;se++){if(se>ft.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(p=se<=3,E=p?se+1:se,x=ft.totalBitsInLayer(E,p),f>x)continue;(b==null||S!==ft.WORD_SIZE[E])&&(S=ft.WORD_SIZE[E],b=ft.stuffBits(d,S));let nt=x-x%S;if(!(p&&b.getSize()>S*64)&&b.getSize()+u<=nt)break}}let R=ft.generateCheckWords(b,x,S),P=b.getSize()/S,U=ft.generateModeMessage(p,E,P),z=(p?11:14)+E*4,G=new Int32Array(z),Q;if(p){Q=z;for(let se=0;se<G.length;se++)G[se]=se}else{Q=z+1+2*B.truncDivision(B.truncDivision(z,2)-1,15);let se=B.truncDivision(z,2),nt=B.truncDivision(Q,2);for(let Qe=0;Qe<se;Qe++){let Wt=Qe+B.truncDivision(Qe,15);G[se-Qe-1]=nt-Wt-1,G[se+Qe]=nt+Wt+1}}let de=new Ie(Q);for(let se=0,nt=0;se<E;se++){let Qe=(E-se)*4+(p?9:12);for(let Wt=0;Wt<Qe;Wt++){let zn=Wt*2;for(let Hn=0;Hn<2;Hn++)R.get(nt+zn+Hn)&&de.set(G[se*2+Hn],G[se*2+Wt]),R.get(nt+Qe*2+zn+Hn)&&de.set(G[se*2+Wt],G[z-1-se*2-Hn]),R.get(nt+Qe*4+zn+Hn)&&de.set(G[z-1-se*2-Hn],G[z-1-se*2-Wt]),R.get(nt+Qe*6+zn+Hn)&&de.set(G[z-1-se*2-Wt],G[se*2+Hn])}nt+=Qe*8}if(ft.drawModeMessage(de,p,Q,U),p)ft.drawBullsEye(de,B.truncDivision(Q,2),5);else{ft.drawBullsEye(de,B.truncDivision(Q,2),7);for(let se=0,nt=0;se<B.truncDivision(z,2)-1;se+=15,nt+=16)for(let Qe=B.truncDivision(Q,2)&1;Qe<Q;Qe+=2)de.set(B.truncDivision(Q,2)-nt,Qe),de.set(B.truncDivision(Q,2)+nt,Qe),de.set(Qe,B.truncDivision(Q,2)-nt),de.set(Qe,B.truncDivision(Q,2)+nt)}let ue=new Oa;return ue.setCompact(p),ue.setSize(Q),ue.setLayers(E),ue.setCodeWords(P),ue.setMatrix(de),ue}static drawBullsEye(i,r,a){for(let d=0;d<a;d+=2)for(let u=r-d;u<=r+d;u++)i.set(u,r-d),i.set(u,r+d),i.set(r-d,u),i.set(r+d,u);i.set(r-a,r-a),i.set(r-a+1,r-a),i.set(r-a,r-a+1),i.set(r+a,r-a),i.set(r+a,r-a+1),i.set(r+a,r+a-1)}static generateModeMessage(i,r,a){let d=new J;return i?(d.appendBits(r-1,2),d.appendBits(a-1,6),d=ft.generateCheckWords(d,28,4)):(d.appendBits(r-1,5),d.appendBits(a-1,11),d=ft.generateCheckWords(d,40,4)),d}static drawModeMessage(i,r,a,d){let u=B.truncDivision(a,2);if(r)for(let f=0;f<7;f++){let p=u-3+f;d.get(f)&&i.set(p,u-5),d.get(f+7)&&i.set(u+5,p),d.get(20-f)&&i.set(p,u+5),d.get(27-f)&&i.set(u-5,p)}else for(let f=0;f<10;f++){let p=u-5+f+B.truncDivision(f,5);d.get(f)&&i.set(p,u-7),d.get(f+10)&&i.set(u+7,p),d.get(29-f)&&i.set(p,u+7),d.get(39-f)&&i.set(u-7,p)}}static generateCheckWords(i,r,a){let d=i.getSize()/a,u=new La(ft.getGF(a)),f=B.truncDivision(r,a),p=ft.bitsToWords(i,a,f);u.encode(p,f-d);let E=r%a,x=new J;x.appendBits(0,E);for(const S of Array.from(p))x.appendBits(S,a);return x}static bitsToWords(i,r,a){let d=new Int32Array(a),u,f;for(u=0,f=i.getSize()/r;u<f;u++){let p=0;for(let E=0;E<r;E++)p|=i.get(u*r+E)?1<<r-E-1:0;d[u]=p}return d}static getGF(i){switch(i){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new T("Unsupported word size "+i)}}static stuffBits(i,r){let a=new J,d=i.getSize(),u=(1<<r)-2;for(let f=0;f<d;f+=r){let p=0;for(let E=0;E<r;E++)(f+E>=d||i.get(f+E))&&(p|=1<<r-1-E);(p&u)===u?(a.appendBits(p&u,r),f--):p&u?a.appendBits(p,r):(a.appendBits(p|1,r),f--)}return a}static totalBitsInLayer(i,r){return((r?88:112)+16*i)*i}}ft.DEFAULT_EC_PERCENT=33,ft.DEFAULT_AZTEC_LAYERS=0,ft.MAX_NB_BITS=32,ft.MAX_NB_BITS_COMPACT=4,ft.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hr{encode(i,r,a,d){return this.encodeWithHints(i,r,a,d,null)}encodeWithHints(i,r,a,d,u){let f=Ns.ISO_8859_1,p=ft.DEFAULT_EC_PERCENT,E=ft.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has($t.CHARACTER_SET)&&(f=ei.forName(u.get($t.CHARACTER_SET).toString())),u.has($t.ERROR_CORRECTION)&&(p=B.parseInt(u.get($t.ERROR_CORRECTION).toString())),u.has($t.AZTEC_LAYERS)&&(E=B.parseInt(u.get($t.AZTEC_LAYERS).toString()))),hr.encodeLayers(i,r,a,d,f,p,E)}static encodeLayers(i,r,a,d,u,f,p){if(r!==ae.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let E=ft.encode(ye.getBytes(i,u),f,p);return hr.renderResult(E,a,d)}static renderResult(i,r,a){let d=i.getMatrix();if(d==null)throw new Kn;let u=d.getWidth(),f=d.getHeight(),p=Math.max(r,u),E=Math.max(a,f),x=Math.min(p/u,E/f),S=(p-u*x)/2,b=(E-f*x)/2,R=new Ie(p,E);for(let P=0,U=b;P<f;P++,U+=x)for(let z=0,G=S;z<u;z++,G+=x)d.get(z,P)&&R.setRegion(G,U,x,x);return R}}n.AbstractExpandedDecoder=Cs,n.ArgumentException=N,n.ArithmeticException=Mi,n.AztecCode=Oa,n.AztecCodeReader=Ke,n.AztecCodeWriter=hr,n.AztecDecoder=pt,n.AztecDetector=ct,n.AztecDetectorResult=ir,n.AztecEncoder=ft,n.AztecHighLevelEncoder=Co,n.AztecPoint=qt,n.BarcodeFormat=ae,n.Binarizer=X,n.BinaryBitmap=D,n.BitArray=J,n.BitMatrix=Ie,n.BitSource=sr,n.BrowserAztecCodeReader=Qi,n.BrowserBarcodeReader=jr,n.BrowserCodeReader=St,n.BrowserDatamatrixCodeReader=Ia,n.BrowserMultiFormatReader=ad,n.BrowserPDF417Reader=xo,n.BrowserQRCodeReader=ld,n.BrowserQRCodeSvgWriter=vo,n.CharacterSetECI=ne,n.ChecksumException=W,n.Code128Reader=re,n.Code39Reader=$e,n.DataMatrixDecodedBitStreamParser=$n,n.DataMatrixReader=wt,n.DecodeHintType=ce,n.DecoderResult=po,n.DefaultGridSampler=bt,n.DetectorResult=Mo,n.EAN13Reader=Ot,n.EncodeHintType=$t,n.Exception=y,n.FormatException=K,n.GenericGF=st,n.GenericGFPoly=an,n.GlobalHistogramBinarizer=Re,n.GridSampler=Fe,n.GridSamplerInstance=kn,n.HTMLCanvasElementLuminanceSource=le,n.HybridBinarizer=Be,n.ITFReader=Ne,n.IllegalArgumentException=T,n.IllegalStateException=Kn,n.InvertedLuminanceSource=Me,n.LuminanceSource=te,n.MathUtils=Ce,n.MultiFormatOneDReader=yo,n.MultiFormatReader=sd,n.MultiFormatWriter=ko,n.NotFoundException=ee,n.OneDReader=mt,n.PDF417DecodedBitStreamParser=q,n.PDF417DecoderErrorCorrection=As,n.PDF417Reader=En,n.PDF417ResultMetadata=Ma,n.PerspectiveTransform=ke,n.PlanarYUVLuminanceSource=Fi,n.QRCodeByteMatrix=Kr,n.QRCodeDataMask=In,n.QRCodeDecodedBitStreamParser=Mt,n.QRCodeDecoderErrorCorrectionLevel=tt,n.QRCodeDecoderFormatInformation=Tn,n.QRCodeEncoder=Nt,n.QRCodeEncoderQRCode=Bo,n.QRCodeMaskUtil=Ht,n.QRCodeMatrixUtil=De,n.QRCodeMode=Le,n.QRCodeReader=mn,n.QRCodeVersion=me,n.QRCodeWriter=eo,n.RGBLuminanceSource=Uo,n.RSS14Reader=Xt,n.RSSExpandedReader=ie,n.ReaderException=Jn,n.ReedSolomonDecoder=_o,n.ReedSolomonEncoder=La,n.ReedSolomonException=mo,n.Result=je,n.ResultMetadataType=vt,n.ResultPoint=we,n.StringUtils=ye,n.UnsupportedOperationException=Ye,n.VideoInputDevice=He,n.WhiteRectangleDetector=V,n.WriterException=At,n.ZXingArrays=F,n.ZXingCharset=ei,n.ZXingInteger=B,n.ZXingStandardCharsets=Ns,n.ZXingStringBuilder=Ue,n.ZXingStringEncoding=Pe,n.ZXingSystem=j,n.createAbstractExpandedDecoder=Vr,Object.defineProperty(n,"__esModule",{value:!0})})})(qh,qh.exports);var jt=qh.exports;const b4=Lc(jt),N4=G3({__proto__:null,default:b4},[jt]);var Tg=function(){function t(e,n,o){if(this.formatMap=new Map([[Se.QR_CODE,jt.BarcodeFormat.QR_CODE],[Se.AZTEC,jt.BarcodeFormat.AZTEC],[Se.CODABAR,jt.BarcodeFormat.CODABAR],[Se.CODE_39,jt.BarcodeFormat.CODE_39],[Se.CODE_93,jt.BarcodeFormat.CODE_93],[Se.CODE_128,jt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,jt.BarcodeFormat.MAXICODE],[Se.ITF,jt.BarcodeFormat.ITF],[Se.EAN_13,jt.BarcodeFormat.EAN_13],[Se.EAN_8,jt.BarcodeFormat.EAN_8],[Se.PDF_417,jt.BarcodeFormat.PDF_417],[Se.RSS_14,jt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,jt.BarcodeFormat.UPC_A],[Se.UPC_E,jt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!N4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=o;var l=this.createZXingFormats(e),c=new Map;c.set(jt.DecodeHintType.POSSIBLE_FORMATS,l),c.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=c}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(o,l){try{o(n.decode(e))}catch(c){l(c)}})},t.prototype.decode=function(e){var n=new jt.MultiFormatReader(this.verbose,this.hints),o=new jt.HTMLCanvasElementLuminanceSource(e),l=new jt.BinaryBitmap(new jt.HybridBinarizer(o)),c=n.decode(l);return{text:c.text,format:G2.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,o,l){e.set(n,o)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],o=0,l=e;o<l.length;o++){var c=l[o];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),R4=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(T){m(T)}}function C(N){try{y(o.throw(N))}catch(T){m(T)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},M4=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Ig=function(){function t(e,n,o){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=o;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return R4(this,void 0,void 0,function(){var n,o;return M4(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(n),[2,{text:o.rawValue,format:G2.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,o=0,l=0,c=e;l<c.length;l++){var m=c[l],v=m.boundingBox.width*m.boundingBox.height;v>o&&(o=v,n=m)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],o=0,l=e;o<l.length;o++){var c=l[o];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,o,l){e.set(n,o)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),bg=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(T){m(T)}}function C(N){try{y(o.throw(N))}catch(T){m(T)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},Ng=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},L4=function(){function t(e,n,o,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,n&&Ig.isSupported()?(this.primaryDecoder=new Ig(e,o,l),this.secondaryDecoder=new Tg(e,o,l)):this.primaryDecoder=new Tg(e,o,l)}return t.prototype.decodeAsync=function(e){return bg(this,void 0,void 0,function(){var n;return Ng(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return bg(this,void 0,void 0,function(){var n,o;return Ng(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(o=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw o;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,o=this.executionResults;n<o.length;n++){var l=o[n];e+=l}var c=e/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),ff=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),fc=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(T){m(T)}}function C(N){try{y(o.throw(N))}catch(T){m(T)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},gc=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Q2=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var o={advanced:[n]};return this.track.applyConstraints(o)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),O4=function(t){ff(e,t);function e(n,o){return t.call(this,n,o)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var o={};o[this.name]=n;var l={advanced:[o]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),o=n[this.name];return{min:o.min,max:o.max,step:o.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Q2),D4=function(t){ff(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(O4),P4=function(t){ff(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(Q2),F4=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new D4(this.track)},t.prototype.torchFeature=function(){return new P4(this.track)},t}(),B4=function(){function t(e,n,o){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var o=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(o,l),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,o,l){return fc(this,void 0,void 0,function(){var c,m;return gc(this,function(v){switch(v.label){case 0:return c=new t(e,n,l),o.aspectRatio?(m={aspectRatio:o.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:v.sent(),v.label=2;case 2:return c.setupSurface(),[2,c]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,o=function(){setTimeout(e,200),n.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return fc(this,void 0,void 0,function(){return gc(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,o){var l=e.mediaStream.getVideoTracks(),c=l.length,m=0;e.mediaStream.getVideoTracks().forEach(function(v){e.mediaStream.removeTrack(v),v.stop(),++m,m>=c&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new F4(this.getFirstTrackOrFail())},t}(),k4=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,o){return fc(this,void 0,void 0,function(){return gc(this,function(l){return[2,B4.create(e,this.mediaStream,n,o)]})})},t.create=function(e){return fc(this,void 0,void 0,function(){var n,o;return gc(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return o=l.sent(),[2,new t(o)]}})})},t}(),Rg=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(T){m(T)}}function C(N){try{y(o.throw(N))}catch(T){m(T)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},Mg=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},U4=function(){function t(){}return t.failIfNotSupported=function(){return Rg(this,void 0,void 0,function(){return Mg(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Rg(this,void 0,void 0,function(){return Mg(this,function(n){return[2,k4.create(e)]})})},t}(),z4=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(T){m(T)}}function C(N){try{y(o.throw(N))}catch(T){m(T)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},H4=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},W4=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Zs.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Zs.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return z4(this,void 0,void 0,function(){var e,n,o,l,c,m,v;return H4(this,function(C){switch(C.label){case 0:return e=function(y){for(var N=y.getVideoTracks(),T=0,D=N;T<D.length;T++){var W=D[T];W.enabled=!1,W.stop(),y.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=C.sent(),l=[],c=0,m=o;c<m.length;c++)v=m[c],v.kind==="videoinput"&&l.push({id:v.deviceId,label:v.label});return e(n),[2,l]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var o=function(c){for(var m=[],v=0,C=c;v<C.length;v++){var y=C[v];y.kind==="video"&&m.push({id:y.id,label:y.label})}e(m)},l=MediaStreamTrack;l.getSources(o)})},t}(),on;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(on||(on={}));var V4=function(){function t(){this.state=on.NOT_STARTED,this.onGoingTransactionNewState=on.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=on.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=on.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==on.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case on.UNKNOWN:throw"Transition from unknown is not allowed";case on.NOT_STARTED:this.failIfNewStateIs(e,[on.PAUSED]);break;case on.SCANNING:break;case on.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var o=0,l=n;o<l.length;o++){var c=l[o];if(e===c)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),j4=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===on.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==on.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===on.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===on.PAUSED},t}(),G4=function(){function t(){}return t.create=function(){return new j4(new V4)},t}(),Z4=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),vi=function(t){Z4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(ro),Y4=function(){function t(e,n){this.logger=n,this.fps=vi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=vi.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?X2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!To(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),Lg=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var o;typeof n=="boolean"?this.verbose=n===!0:n&&(o=n,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new Y2(this.verbose),this.qrcode=new L4(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=G4.create()}return t.prototype.start=function(e,n,o,l){var c=this;if(!e)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;l?m=l:m=this.verbose?this.logger.log:function(){};var v=Y4.create(n,this.logger);this.clearElement();var C=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=C,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:vi.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var T=this,D=this.stateManagerProxy.startTransition(on.SCANNING);return new Promise(function(W,X){var j=y?v.videoConstraints:T.createVideoConstraints(e);if(!j){D.cancel(),X("videoConstraints should be defined");return}var _e={};(!y||v.aspectRatio)&&(_e.aspectRatio=v.aspectRatio);var H={onRenderSurfaceReady:function(F,B){T.setupUi(F,B,v),T.isScanning=!0,T.foreverScan(v,o,m)}};U4.failIfNotSupported().then(function(F){F.create(j).then(function(B){return B.render(c.element,_e,H).then(function(J){T.renderedCamera=J,D.execute(),W(null)}).catch(function(J){D.cancel(),X(J)})}).catch(function(B){D.cancel(),X(Zs.errorGettingUserMedia(B))})}).catch(function(F){D.cancel(),X(Zs.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(on.PAUSED),this.showPausedState(),(To(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(on.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(on.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(e.element){var c=document.getElementById(vi.SHADED_REGION_ELEMENT_ID);c&&e.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),o(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(o){return o.decodedText})},t.prototype.scanFileV2=function(e,n){var o=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(To(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(e);var m=new Image;m.onload=function(){var v=m.width,C=m.height,y=document.getElementById(o.elementId),N=y.clientWidth?y.clientWidth:vi.DEFAULT_WIDTH,T=Math.max(y.clientHeight?y.clientHeight:C,vi.FILE_SCAN_MIN_HEIGHT),D=o.computeCanvasDrawConfig(v,C,N,T);if(n){var W=o.createCanvasElement(N,T,"qr-canvas-visible");W.style.display="inline-block",y.appendChild(W);var X=W.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=N,X.canvas.height=T,X.drawImage(m,0,0,v,C,D.x,D.y,D.width,D.height)}var j=vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,_e=Math.max(m.width,D.width),H=Math.max(m.height,D.height),F=_e+2*j,B=H+2*j,J=o.createCanvasElement(F,B);y.appendChild(J);var pe=J.getContext("2d");if(!pe)throw"Unable to get 2d context from canvas";pe.canvas.width=F,pe.canvas.height=B,pe.drawImage(m,0,0,v,C,j,j,_e,H);try{o.qrcode.decodeRobustlyAsync(J).then(function(ce){l(Sg.createFromQrcodeResult(ce))}).catch(c)}catch(ce){c("QR code parse error, error = ".concat(ce))}},m.onerror=c,m.onabort=c,m.onstalled=c,m.onsuspend=c,m.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return W4.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!X2.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],l=0,c=e.formatsToSupport;l<c.length;l++){var m=c[l];T4(m)?o.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(To(e))return!0;if(!To(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(To(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return To(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,o){var l=this,c=o.qrbox;this.validateQrboxConfig(c);var m=this.toQrdimensions(e,n,c),v=function(y){if(y<vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vi.MIN_QR_BOX_SIZE,"px.")},C=function(y){return y>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};v(m.width),v(m.height),m.width=C(m.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(e,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return o},t.prototype.setupUi=function(e,n,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,o);var l=To(o.qrbox)?{width:e,height:n}:o.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(e,n,l);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=o.isShadedBoxEnabled()&&c.height<=n,v={x:0,y:0,width:e,height:n},C=m?this.getShadedRegionBounds(e,n,c):v,y=this.createCanvasElement(C.width,C.height),N={willReadFrequently:!0},T=y.getContext("2d",N);T.canvas.width=C.width,T.canvas.height=C.height,this.element.append(y),m&&this.possiblyInsertShadingElement(this.element,e,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=T,this.canvasElement=y},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Zs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,Sg.createFromQrcodeResult(l)),o.possiblyUpdateShaders(!0),!0}).catch(function(l){o.possiblyUpdateShaders(!1);var c=Zs.codeParseError(l);return n(c,Z2.createFrom(c)),!1})},t.prototype.foreverScan=function(e,n,o){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),m=c.videoWidth/c.clientWidth,v=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*m,y=this.qrRegion.height*v,N=this.qrRegion.x*m,T=this.qrRegion.y*v;this.context.drawImage(c,N,T,C,y,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,n,o)},l.getTimeoutFps(e.fps))};this.scanContext(n,o).then(function(W){!W&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,o).finally(function(){D()})):D()}).catch(function(W){l.logger.logError("Error happend while scanning context",W),D()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",o="deviceId",l={user:!0,environment:!0},c="exact",m=function(X){if(X in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(X,"'")},v=Object.keys(e);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var C=Object.keys(e)[0];if(C!==n&&C!==o)throw"Only '".concat(n,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(C===n){var y=e.facingMode;if(typeof y=="string"){if(m(y))return{facingMode:y}}else if(typeof y=="object")if(c in y){if(m(y["".concat(c)]))return{facingMode:{exact:y["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var N=typeof y;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var T=e.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(c in T)return{deviceId:{exact:T["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var D=typeof T;throw"Invalid type of 'deviceId' = ".concat(D)}}}var W=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},t.prototype.computeCanvasDrawConfig=function(e,n,o,l){if(e<=o&&n<=l){var c=(o-e)/2,m=(l-n)/2;return{x:c,y:m,width:e,height:n}}else{var v=e,C=n;return e>o&&(n=o/e*n,e=o),n>l&&(e=l/n*e,n=l),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(C)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,o,l)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?vi.BORDER_SHADER_MATCH_COLOR:vi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,o){var l=e,c=n,m=document.createElement("canvas");return m.style.width="".concat(l,"px"),m.style.height="".concat(c,"px"),m.style.display="none",m.id=To(o)?"qr-canvas":o,m},t.prototype.getShadedRegionBounds=function(e,n,o){if(o.width>e||o.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-o.width)/2,y:(n-o.height)/2,width:o.width,height:o.height}},t.prototype.possiblyInsertShadingElement=function(e,n,o,l){if(!(n-l.width<1||o-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var m=(n-l.width)/2,v=(o-l.height)/2;if(c.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(vi.SHADED_REGION_ELEMENT_ID),n-l.width<11||o-l.height<11)this.hasBorderShaders=!1;else{var C=5,y=40;this.insertShaderBorders(c,y,C,-C,null,0,!0),this.insertShaderBorders(c,y,C,-C,null,0,!1),this.insertShaderBorders(c,y,C,null,-C,0,!0),this.insertShaderBorders(c,y,C,null,-C,0,!1),this.insertShaderBorders(c,C,y+C,-C,null,-C,!0),this.insertShaderBorders(c,C,y+C,null,-C,-C,!0),this.insertShaderBorders(c,C,y+C,-C,null,-C,!1),this.insertShaderBorders(c,C,y+C,null,-C,-C,!1),this.hasBorderShaders=!0}e.append(c)}},t.prototype.insertShaderBorders=function(e,n,o,l,c,m,v){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=vi.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(n,"px"),C.style.height="".concat(o,"px"),l!==null&&(C.style.top="".concat(l,"px")),c!==null&&(C.style.bottom="".concat(c,"px")),v?C.style.left="".concat(m,"px"):C.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),e.appendChild(C)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),gf="data:image/svg+xml;base64,",X4=gf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Q4=gf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Og=gf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",K4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Dg=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),q4=function(){function t(){this.data=Dg.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Dg.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),$4=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ag.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var o=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=Ag.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),J4=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Og,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return n.onHoverIn()},this.infoIcon.onmouseout=function(o){return n.onHoverOut()},this.infoIcon.onclick=function(o){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=K4,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Og,this.infoIcon.style.opacity="0.6")},t}(),ex=function(){function t(){var e=this;this.infoDiv=new $4,this.infoIcon=new J4(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),tx=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(T){m(T)}}function C(N){try{y(o.throw(N))}catch(T){m(T)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},nx=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Pg=function(){function t(){}return t.hasPermissions=function(){return tx(this,void 0,void 0,function(){var e,n,o,l;return nx(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=c.sent(),n=0,o=e;n<o.length;n++)if(l=o[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},t}(),mr=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var o=n[e];if(t.isCameraScanType(o))return!0}return!1},t.isCameraScanType=function(e){return e===Fr.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Fr.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ro.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ro.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var o=0,l=e;o<l.length;o++){var c=l[o];if(!ro.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return e},t}(),Si=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Go=function(){function t(){}return t.createElement=function(e,n){var o=document.createElement(e);return o.id=n,o.classList.add(Si.ALL_ELEMENT_CLASS),e==="button"&&o.setAttribute("type","button"),o},t}(),K2=function(t,e,n,o){function l(c){return c instanceof n?c:new n(function(m){m(c)})}return new(n||(n=Promise))(function(c,m){function v(N){try{y(o.next(N))}catch(T){m(T)}}function C(N){try{y(o.throw(N))}catch(T){m(T)}}function y(N){N.done?c(N.value):l(N.value).then(v,C)}y((o=o.apply(t,e||[])).next())})},q2=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(N){return C([y,N])}}function C(y){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Fg=function(){function t(e,n,o){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=o}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return K2(this,void 0,void 0,function(){var e,n;return q2(this,function(o){switch(o.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=o.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Tt.torchOffButton():Tt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var o=e?Tt.torchOnFailedMessage():Tt.torchOffFailedMessage();n&&(o+="; Error = "+n),this.onTorchActionFailureCallback(o)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),ix=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Go.createElement("button",Si.TORCH_BUTTON_ID),this.torchController=new Fg(e,this,n)}return t.prototype.render=function(e,n){var o=this;this.torchButton.innerText=Tt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return K2(o,void 0,void 0,function(){return q2(this,function(m){switch(m.label){case 0:return[4,l.torchController.flipState()];case 1:return m.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(Si.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(Si.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(Si.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(Si.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Fg(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Tt.torchOnButton(),this.torchController.reset()},t.create=function(e,n,o,l){var c=new t(n,l);return c.render(e,o),c},t}(),ox=function(){function t(e,n,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Go.createElement("button",Si.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(v){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Go.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(v){if(!(v==null||v.target==null)){var C=v.target;if(!(C.files&&C.files.length===0)){var y=C.files,N=y[0],T=N.name;c.setImageNameToButton(T),o(N)}}});var m=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(m),this.fileBasedScanRegion.addEventListener("dragenter",function(v){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(v){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(v){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(v){v.stopPropagation(),v.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var C=v.dataTransfer;if(C){var y=C.files;if(!y||y.length===0)return;for(var N=!1,T=0;T<y.length;++T){var D=y.item(T);if(D){var W=/image.*/;if(D.type.match(W)){N=!0;var X=D.name;c.setImageNameToButton(X),o(D),m.innerText=Tt.dragAndDropMessage();break}}}N||(m.innerText=Tt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Tt.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var o=e.substring(0,8),l=e.length,c=e.substring(l-8,l);e="".concat(o,"....").concat(c)}var m=Tt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=m},t.prototype.setInitialValueToButton=function(){var e=Tt.fileSelectionChooseImage()+" - "+Tt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,o){var l=new t(e,n,o);return l},t}(),rx=function(){function t(e){this.selectElement=Go.createElement("select",Si.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)n.style.display="none";else{var l=Tt.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,m=0,v=this.cameras;m<v.length;m++){var C=v[m],y=C.id,N=C.label==null?y:C.label;(!N||N==="")&&(N=[Tt.anonymousCameraPrefix(),c++].join(" "));var T=document.createElement("option");T.value=y,T.innerText=N,this.options.push(T),this.selectElement.appendChild(T)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,o=this.options;n<o.length;n++){var l=o[n];if(l.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var o=new t(n);return o.render(e),o},t}(),sx=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Go.createElement("input",Si.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=Tt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Tt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,o,l){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var o=new t;return o.render(e,n),o},t}(),wi;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(wi||(wi={}));function ax(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function lx(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var dx=function(){function t(e,n,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=o===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new mr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Y2(this.verbose),this.persistedDataManager=new q4,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,m){if(e)e(c,m);else{if(o.lastMatchFound===c)return;o.lastMatchFound=c,o.setHeaderMessage(Tt.lastMatch(c),wi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,m){n&&n(c,m)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Lg(this.getScanRegionId(),lx(this.config,this.verbose))},t.prototype.pause=function(e){(To(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var o=document.getElementById(e.elementId);o&&(o.innerHTML="",e.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,l){if(!e.html5Qrcode){o();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(c){if(!e.html5Qrcode){o();return}e.html5Qrcode.clear(),n(),o()}).catch(function(c){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(e.html5Qrcode.clear(),n(),o())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ro.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ro.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ro.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ro.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ro.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ro.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ro.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),o=this.getScanRegionId();n.id=o,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),mr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",e.appendChild(l),this.setupInitialDashboard(l)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var o=new ex;o.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,o){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Tt.cameraPermissionRequesting());var c=function(){o||l.createPermissionButton(e,n)};Lg.getCameras().then(function(m){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),m&&m.length>0?(e.removeChild(n),l.renderCameraSelection(m)):(l.setHeaderMessage(Tt.noCameraFound(),wi.STATUS_WARNING),c())}).catch(function(m){l.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:c(),l.setHeaderMessage(m,wi.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var o=this,l=Go.createElement("button",this.getCameraPermissionButtonId());l.innerText=Tt.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,o.createCameraListUi(e,n,l)}),n.appendChild(l)},t.prototype.createPermissionsUi=function(e,n){var o=this;if(mr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Pg.hasPermissions().then(function(l){l?o.createCameraListUi(e,n):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,n))}).catch(function(l){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=mr.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(o);var l=document.createElement("div");l.style.textAlign="center",o.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,l),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=mr.isFileScanType(this.currentScanType),o=this,l=function(c){if(!o.html5Qrcode)throw"html5Qrcode not defined";mr.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(Tt.loadingImage()),o.html5Qrcode.scanFileV2(c,!0).then(function(m){o.resetHeaderMessage(),o.qrCodeSuccessCallback(m.decodedText,m)}).catch(function(m){o.setHeaderMessage(m,wi.STATUS_WARNING),o.qrCodeErrorCallback(m,Z2.createFrom(m))}))};this.fileSelectionUi=ox.create(e,n,l)},t.prototype.renderCameraSelection=function(e){var n=this,o=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=sx.create(l,!1),m=function(j){var _e=j.zoomFeature();if(_e.isSupported()){c.setOnCameraZoomValueChangeCallback(function(F){_e.apply(F)});var H=1;n.config.defaultZoomValueIfSupported&&(H=n.config.defaultZoomValueIfSupported),H=I4(H,_e.min(),_e.max()),c.setValues(_e.min(),_e.max(),H,_e.step()),c.show()}},v=rx.create(l,e),C=document.createElement("span"),y=Go.createElement("button",Si.CAMERA_START_BUTTON_ID);y.innerText=Tt.scanButtonStartScanningText(),C.appendChild(y);var N=Go.createElement("button",Si.CAMERA_STOP_BUTTON_ID);N.innerText=Tt.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,C.appendChild(N);var T,D=function(j){if(!j.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(j.torchFeature()):T=ix.create(C,j.torchFeature(),{display:"none",marginLeft:"5px"},function(_e){o.setHeaderMessage(_e,wi.STATUS_WARNING)}),T.show()};l.appendChild(C);var W=function(j){j||(y.style.display="none"),y.innerText=Tt.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,j&&(y.style.display="inline-block")};if(y.addEventListener("click",function(j){y.innerText=Tt.scanButtonScanningStarting(),v.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var _e=v.getValue();o.persistedDataManager.setLastUsedCameraId(_e),o.html5Qrcode.start(_e,ax(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(H){N.disabled=!1,N.style.display="inline-block",W(!1);var F=o.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&D(F),n.config.showZoomSliderIfSupported===!0&&m(F)}).catch(function(H){o.showHideScanTypeSwapLink(!0),v.enable(),W(!0),o.setHeaderMessage(H,wi.STATUS_WARNING)})}),v.hasSingleItem()&&y.click(),N.addEventListener("click",function(j){if(!o.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,o.html5Qrcode.stop().then(function(_e){n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),v.enable(),y.disabled=!1,N.style.display="none",y.style.display="inline-block",T&&(T.reset(),T.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(_e){N.disabled=!1,o.setHeaderMessage(_e,wi.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var X=o.persistedDataManager.getLastUsedCameraId();v.hasValue(X)?(v.setValue(X),y.click()):o.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Tt.textIfCameraScanSelected(),o=Tt.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var m=Go.createElement("span",this.getDashboardSectionSwapLinkId());m.style.textDecoration="underline",m.style.cursor="pointer",m.innerText=mr.isCameraScanType(this.currentScanType)?n:o,m.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,mr.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),m.innerText=o,e.currentScanType=Fr.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),m.innerText=n,e.currentScanType=Fr.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),c.appendChild(m),l.appendChild(c)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Pg.hasPermissions().then(function(o){if(o){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(o){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=wi.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=e,o.style.display="block",n){case wi.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case wi.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case wi.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=X4,this.cameraScanImage.alt=Tt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Q4,this.fileScanImage.alt=Tt.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Si.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Si.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const cx="/Mapa-UC/assets/classroomLogo-caNNTX4V.png",ux="/Mapa-UC/assets/ScienceGroundFloorPlan-u3Hq3kSs.png",hx="/Mapa-UC/assets/Science1stFloorPlan-cZuwY7Va.png",fx="/Mapa-UC/assets/Science2ndFloorPlan-72T-1DP_.png",gx="/Mapa-UC/assets/Science3rdFloorPlan-DG-9qR6N.png",px="/Mapa-UC/assets/Science4thFloorPlan-n0v2x7vi.png",mx="/Mapa-UC/assets/Science5thFloorPlan-odnWyleo.png",_x="/Mapa-UC/assets/Science6thFloorPlan-jc5nS1Ve.png",Ex="/Mapa-UC/assets/CHTMEDS4thFloorPlan-SXuS3p5e.png",yx="/Mapa-UC/assets/CHTMEDS5thFloorPlan-2lXaBFnh.png",xx="/Mapa-UC/assets/CHTMEDS6thFloorPlan-4flSMV1H.png",vx="/Mapa-UC/assets/CHTMEDS7thFloorPlan-U3g_VClC.png",wx="/Mapa-UC/assets/CHTMEDS8thFloorPlan-LUttnYwy.png",Cx="/Mapa-UC/assets/CHTMEDS9thFloorPlan-n0rqRRQ3.png",Sx="/Mapa-UC/assets/EDS3rdFloorPlan-z-ADDSXX.png",Ax="/Mapa-UC/assets/CHTM10thFloorPlan-AjHahvk9.png",Tx="/Mapa-UC/assets/Main4thFloorPlan-bw2HetSW.png",Ix="/Mapa-UC/assets/Main5thFloorPlan-eJj4-ypF.png",bx="/Mapa-UC/assets/Main6thFloorPlan-8KO5DFSR.png",Nx="/Mapa-UC/assets/Main3rdFloorPlan-kLHqrfvM.png",Rx="/Mapa-UC/assets/Main2ndFloorPlan-URt7IMoz.png",Mx="/Mapa-UC/assets/MainGroundFloorPlan-DesrUAkl.png",Lx="/Mapa-UC/assets/leaveButton--kz3Hal_.png",Ox="/Mapa-UC/assets/BRS1stFloorPlan-HFWeZoi-.png",Dx="/Mapa-UC/assets/BRS2ndFloorPlan-P15QRV88.png",Px="/Mapa-UC/assets/BRS3rdFloorPlan-0XqkoP_w.png",Fx="/Mapa-UC/assets/BRS4thFloorPlan-ZHpzsnA-.png",Bx="/Mapa-UC/assets/BRS5thFloorPlan-Em2tRAoJ.png",kx="/Mapa-UC/assets/BRS6thFloorPlan-tiw_cL5j.png",Ux="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",zx="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",Hx="/Mapa-UC/assets/BRS9thFloorPlan-JtTiX9QW.png",Wx="/Mapa-UC/assets/BRS10thFloorPlan-jSdTOOTR.png";function Vx(t){let e=[];return t=="science2ndFloor"&&(e=[{id:0,lat:6.51,lon:.47},{id:1,lat:6.24,lon:.47},{lat:5.2,lon:.8,title:"office",building:"Science",floor:"2nd Floor",node:1,label:"classroomLogo"},{id:2,lat:6.75,lon:1},{lat:7.4,lon:.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:2,label:"classroomLogo"},{id:3,lat:6.51,lon:1},{id:6,lat:6.51,lon:1.8},{id:5,lat:6.24,lon:1.8},{lat:5.2,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:5,label:"classroomLogo"},{id:4,lat:6.75,lon:1.8},{lat:7.4,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:4,label:"classroomLogo"},{id:7,lat:6.51,lon:2.25},{id:8,lat:6.51,lon:2.38},{id:9,lat:6.24,lon:2.38},{lat:5.2,lon:2.26,title:"classRoom",building:"Science",floor:"2nd Floor",node:9,label:"classroomLogo"},{id:10,lat:6.51,lon:2.55},{id:14,lat:7.15,lon:2.55,label:"leaveButton",destination:"science1stFloor",desti:340,direction:"down"},{id:11,lat:7.5,lon:2.25},{id:12,lat:7.5,lon:2.55},{id:13,lat:7.41,lon:2.55,label:"leaveButton",destination:"science3rdFloor",desti:486,direction:"up"},{id:15,lat:6.75,lon:2.78},{lat:8.1,lon:2.8,title:"office",building:"Science",floor:"2nd Floor",node:15,label:"classroomLogo"},{id:16,lat:6.51,lon:2.78},{id:19,lat:6.51,lon:3.3},{id:18,lat:6.75,lon:3.3},{lat:7.25,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:18,label:"classroomLogo"},{id:20,lat:6.24,lon:3.3},{lat:5.9,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:20,label:"classroomLogo"},{id:22,lat:6.51,lon:4.1},{id:23,lat:6.24,lon:4.1},{lat:5.9,lon:4.16,title:"classRoom",building:"Science",floor:"2nd Floor",node:23,label:"classroomLogo"},{id:21,lat:6.75,lon:4.1},{lat:7.25,lon:4,title:"classRoom",building:"Science",floor:"2nd Floor",node:21,label:"classroomLogo"},{id:24,lat:6.51,lon:4.63},{id:25,lat:7.79,lon:4.63},{id:26,lat:7.79,lon:4.725},{lat:8.1,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:26,label:"classroomLogo"},{id:27,lat:7.79,lon:4.5},{lat:8.1,lon:3.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:27,label:"classroomLogo"},{id:28,lat:6.51,lon:5.3},{id:29,lat:6.75,lon:5.3},{lat:7.25,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:29,label:"classroomLogo"},{id:30,lat:6.24,lon:5.3},{lat:5.9,lon:5.25,title:"classRoom",building:"Science",floor:"2nd Floor",node:30,label:"classroomLogo"},{id:31,lat:6.51,lon:5.92},{id:33,lat:6.51,lon:6.3},{id:34,lat:6.51,lon:6.47},{id:32,lat:6.75,lon:6.3},{lat:7.5,lon:6.2,title:"",building:"Science",floor:"2nd Floor",node:32,label:"classroomLogo"},{id:35,lat:6.24,lon:6.47},{lat:5.9,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:35,label:"classroomLogo"},{id:37,lat:6.51,lon:6.8},{id:36,lat:6.75,lon:6.8},{lat:7.7,lon:6.75,title:"",building:"Science",floor:"2nd Floor",node:36,label:"classroomLogo"},{id:38,lat:6.51,lon:7.12},{id:39,lat:6.51,lon:7.4},{id:48,lat:5.05,lon:7.12},{id:47,lat:5.6,lon:7.21},{lat:5.5,lon:7.5,title:"facility",building:"Science",floor:"2nd Floor",node:47,label:"classroomLogo"},{id:46,lat:6,lon:7.3},{lat:6.05,lon:7.7,title:"facility",building:"Science",floor:"2nd Floor",node:46,label:"classroomLogo"},{id:40,lat:6.75,lon:7.4},{lat:7.7,lon:7.3,title:"",building:"Science",floor:"2nd Floor",node:40,label:"classroomLogo"},{id:41,lat:6.51,lon:7.65},{id:42,lat:6.63,lon:7.65},{id:45,lat:6.35,lon:7.65},{id:43,lat:6.63,lon:7.96},{id:44,lat:6.75,lon:7.96},{lat:7.25,lon:8.17,title:"classRoom",building:"Science",floor:"2nd Floor",node:44,label:"classroomLogo"},{id:49,lat:4.95,lon:5.92},{id:50,lat:4.95,lon:5.99},{lat:4.95,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:50,label:"classroomLogo"},{id:51,lat:4.2,lon:5.92},{id:52,lat:4.2,lon:5.99},{lat:4.25,lon:6.5,title:"classRoom",building:"Science",floor:"2nd Floor",node:52,label:"classroomLogo"},{id:53,lat:3.6,lon:5.92},{id:54,lat:3.31,lon:5.92},{lat:3,lon:5.75,title:"",building:"PE",floor:"2nd Floor",node:54,label:"classroomLogo"},{id:55,lat:3.6,lon:6.3},{id:56,lat:3.1,lon:6.3},{lat:2.75,lon:6.3,title:"",building:"PE",floor:"2nd Floor",node:56,label:"classroomLogo"},{id:57,lat:3.73,lon:6.3},{id:58,lat:3.73,lon:7.1},{id:59,lat:3.42,lon:7.1},{id:60,lat:3.6,lon:5.55},{id:61,lat:3.83,lon:5.55},{lat:4.4,lon:5.42,title:"classRoom",building:"Science",floor:"2nd Floor",node:61,label:"classroomLogo"},{id:62,lat:3.31,lon:5.25},{lat:3,lon:5.15,title:"",building:"PE",floor:"2nd Floor",node:62,label:"classroomLogo"},{id:63,lat:3.6,lon:5.05},{id:64,lat:3.83,lon:5.05},{lat:4.4,lon:4.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:64,label:"classroomLogo"},{id:66,lat:3.31,lon:4.65},{lat:3,lon:4.5,title:"",building:"PE",floor:"2nd Floor",node:66,label:"classroomLogo"},{id:82,lat:3.6,lon:5.25},{id:68,lat:3.83,lon:4.5},{lat:4.4,lon:4.38,title:"classRoom",building:"Science",floor:"2nd Floor",node:68,label:"classroomLogo"},{id:67,lat:3.6,lon:4.5},{id:65,lat:3.6,lon:4.65},{id:71,lat:3.31,lon:3.9},{lat:3,lon:3.8,title:"",building:"PE",floor:"2nd Floor",node:71,label:"classroomLogo"},{id:69,lat:3.6,lon:3.9},{id:70,lat:3.83,lon:3.9},{lat:4.4,lon:3.84,title:"classRoom",building:"Science",floor:"2nd Floor",node:70,label:"classroomLogo"},{id:73,lat:3.24,lon:3.33,label:"leaveButton",destination:"science1stFloor",desti:408,direction:"down"},{id:75,lat:3.24,lon:3.045},{id:74,lat:3.6,lon:3.045},{id:72,lat:3.6,lon:3.33},{id:76,lat:3.6,lon:2.78},{id:77,lat:3.15,lon:2.5,label:"leaveButton",destination:"BRS2ndFloor",desti:100},{id:78,lat:4.2,lon:2.78},{id:79,lat:4.2,lon:2.86},{lat:4.3,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:79,label:"classroomLogo"},{id:80,lat:4.95,lon:2.78},{id:81,lat:4.95,lon:2.86},{lat:5,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:81,label:"classroomLogo"},{id:90,lat:6.63,lon:8.51},{id:98,lat:6.63,lon:8.6},{id:91,lat:7.9,lon:9.05},{id:92,lat:7.9,lon:8.99},{lat:8,lon:8.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:92,label:"classroomLogo"},{id:95,lat:6.35,lon:8.2,label:"leaveButton",destination:"science3rdFloor",desti:678,direction:"up"},{id:17,lat:2.45,lon:3.045},{id:99,lat:2.45,lon:3.33},{id:84,lat:2.68,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:541,direction:"up"},{id:93,lat:3.21,lon:7.1,label:"leaveButton",destination:"science3rdFloor",desti:565,direction:"up"},{id:94,lat:3.42,lon:7,label:"leaveButton",destination:"science1stFloor",desti:401,direction:"down"},{id:87,lat:6.65,lon:.47},{id:88,lat:6.65,lon:.25,label:"leaveButton",destination:"main2ndFloor",desti:827,direction:"up"},{id:87,lat:6.38,lon:.47},{id:89,lat:6.35,lon:8.5,label:"leaveButton",destination:"science1stFloor",desti:387,direction:"down"},{id:86,lat:6.38,lon:.23,label:"leaveButton",destination:"mainGroundFloor",desti:1702,direction:"down"},{id:85,lat:6.38,lon:.47}]),t=="science1stFloor"&&(e=[{id:340,lat:7.63,lon:2.8,label:"leaveButton",destination:"science2ndFloor",desti:14,direction:"up"},{id:341,lat:7.73,lon:2.8},{id:342,lat:7.73,lon:2.5},{id:343,lat:6.6,lon:2.5},{id:344,lat:6.6,lon:2.65},{id:345,lat:6.3,lon:2.65},{lat:5.5,lon:2.55,title:"classRoom",building:"Science",floor:"1st Floor",node:345,label:"classroomLogo"},{id:346,lat:6.6,lon:2.8},{id:347,lat:7.28,lon:2.8,label:"leaveButton",destination:"scienceGroundFloor",desti:420,direction:"down"},{id:348,lat:6.6,lon:3.05},{id:349,lat:6.3,lon:3.05},{lat:5.5,lon:3.15,title:"classRoom",building:"Science",floor:"1st Floor",node:349,label:"classroomLogo"},{id:350,lat:6.6,lon:3.5},{id:351,lat:6.9,lon:3.5},{lat:7.9,lon:3.25,title:"classRoom",building:"Science",floor:"1st Floor",node:351,label:"classroomLogo"},{id:352,lat:6.3,lon:3.5},{lat:6.15,lon:3.3,title:"classRoom",building:"Science",floor:"1st Floor",node:352,label:"classroomLogo"},{id:353,lat:6.6,lon:3.96},{id:354,lat:6.3,lon:3.96},{lat:5.5,lon:3.69,title:"classRoom",building:"Science",floor:"1st Floor",node:354,label:"classroomLogo"},{id:355,lat:6.6,lon:4.05},{id:356,lat:6.9,lon:4.05},{lat:7.9,lon:4,title:"classRoom",building:"Science",floor:"1st Floor",node:356,label:"classroomLogo"},{id:357,lat:6.6,lon:4.4},{id:358,lat:6.3,lon:4.4},{lat:5.8,lon:4.3,title:"classRoom",building:"Science",floor:"1st Floor",node:358,label:"classroomLogo"},{id:359,lat:6.6,lon:4.75},{id:360,lat:6.9,lon:4.75},{lat:7.9,lon:4.5,title:"classRoom",building:"Science",floor:"1st Floor",node:360,label:"classroomLogo"},{id:361,lat:6.6,lon:5},{id:362,lat:6.6,lon:5.5},{id:363,lat:6.3,lon:5.5},{lat:5.8,lon:5.4,title:"classRoom",building:"Science",floor:"1st Floor",node:363,label:"classroomLogo"},{id:364,lat:6.6,lon:5.75},{id:365,lat:6.9,lon:5.75},{lat:7.9,lon:5.5,title:"classRoom",building:"Science",floor:"1st Floor",node:365,label:"classroomLogo"},{id:366,lat:6.6,lon:6.1},{id:367,lat:6.3,lon:6.1},{lat:5.8,lon:5.95,title:"classRoom",building:"Science",floor:"1st Floor",node:367,label:"classroomLogo"},{id:368,lat:6.6,lon:6.45},{id:369,lat:6.9,lon:6.45},{lat:7.9,lon:6.34,title:"classRoom",building:"Science",floor:"1st Floor",node:369,label:"classroomLogo"},{id:370,lat:6.6,lon:6.7},{id:371,lat:6.3,lon:6.7},{lat:5.8,lon:6.55,title:"classRoom",building:"Science",floor:"1st Floor",node:371,label:"classroomLogo"},{id:372,lat:6.6,lon:7.15},{id:373,lat:6.9,lon:7.15},{lat:7.9,lon:7,title:"classRoom",building:"Science",floor:"1st Floor",node:373,label:"classroomLogo"},{id:374,lat:6.6,lon:7.3},{id:375,lat:6.3,lon:7.3},{lat:5.8,lon:7.2,title:"classRoom",building:"Science",floor:"1st Floor",node:375,label:"classroomLogo"},{id:376,lat:6.6,lon:7.83},{id:377,lat:6.08,lon:7.83},{id:378,lat:6.08,lon:8},{lat:5.93,lon:8.4,title:"classRoom",building:"Science",floor:"1st Floor",node:378,label:"classroomLogo"},{id:379,lat:5.88,lon:7.83},{lat:5.2,lon:8,title:"classRoom",building:"Science",floor:"1st Floor",node:379,label:"classroomLogo"},{id:405,lat:6.6,lon:8.05},{id:406,lat:6.9,lon:8.05},{lat:7.9,lon:7.95,title:"classRoom",building:"Science",floor:"1st Floor",node:406,label:"classroomLogo"},{id:380,lat:6.6,lon:8.59},{id:407,lat:6.75,lon:8.59},{id:381,lat:6.9,lon:8.59},{lat:8.35,lon:8.65,title:"classRoom",building:"Science",floor:"1st Floor",node:381,label:"classroomLogo"},{id:382,lat:6.75,lon:8.82},{id:383,lat:6.75,lon:8.88},{id:384,lat:7.15,lon:8.82},{lat:7.7,lon:9,title:"classRoom",building:"Science",floor:"1st Floor",node:384,label:"classroomLogo"},{id:385,lat:6.6,lon:8.82},{id:386,lat:6.45,lon:8.82},{id:387,lat:6.45,lon:9.1,label:"leaveButton",destination:"science2ndFloor",desti:89,direction:"up"},{id:390,lat:6.75,lon:9.35},{id:391,lat:6.75,lon:9.45},{id:392,lat:6.45,lon:9.35},{id:393,lat:6.45,lon:9.3,label:"leaveButton",destination:"scienceGroundFloor",desti:466,direction:"down"},{id:394,lat:4.5,lon:5},{id:395,lat:4.5,lon:4.85},{lat:4.6,lon:4.4,title:"classRoom",building:"Science",floor:"1st Floor",node:395,label:"classroomLogo"},{id:396,lat:4.25,lon:5},{id:397,lat:4.25,lon:5.17},{lat:4.3,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:397,label:"classroomLogo"},{id:398,lat:3.9,lon:5},{id:399,lat:3.9,lon:5.17},{lat:3.9,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:399,label:"classroomLogo"},{id:400,lat:3.45,lon:5},{lat:2.6,lon:5,title:"classRoom",building:"Science",floor:"1st Floor",node:400,label:"classroomLogo"},{id:401,lat:3.45,lon:7.4,label:"leaveButton",destination:"science2ndFloor",desti:94,direction:"up"},{id:403,lat:3.45,lon:2.96},{id:404,lat:3.05,lon:2.75,label:"leaveButton",destination:"BRS1stFloor",desti:130},{id:410,lat:3.45,lon:3.35},{id:411,lat:2.4,lon:3.35},{id:412,lat:2.4,lon:3.67},{id:413,lat:2.55,lon:3.67,label:"leaveButton",destination:"science2ndFloor",desti:73,direction:"up"},{id:414,lat:3.45,lon:3.67},{id:415,lat:3.17,lon:3.67}]),t=="scienceGroundFloor"?e=[{id:420,lat:6.645,lon:1.35,label:"leaveButton",destination:"science1stFloor",desti:347,direction:"up"},{id:421,lat:6.76,lon:1.35},{lat:7,lon:1.28,title:"classRoom",building:"Science",floor:"Ground Floor",node:421},{id:422,lat:6.76,lon:.99},{id:425,lat:5.5,lon:.99},{id:424,lat:5.5,lon:.85},{lat:5.5,lon:.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:424,label:"classroomLogo"},{id:426,lat:5.5,lon:1.1},{id:427,lat:5.19,lon:1.1},{lat:4.6,lon:1,title:"classRoom",building:"Science",floor:"Ground Floor",node:427,label:"classroomLogo"},{id:428,lat:5.5,lon:1.36},{id:429,lat:5.82,lon:1.36},{id:430,lat:5.5,lon:1.85},{id:431,lat:5.82,lon:1.85},{lat:7,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:431,label:"classroomLogo"},{id:432,lat:5.19,lon:1.85},{lat:4.6,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:432,label:"classroomLogo"},{id:433,lat:5.5,lon:2.5},{id:434,lat:5.82,lon:2.5},{lat:7,lon:2.4,title:"classRoom",building:"Science",floor:"Ground Floor",node:434,label:"classroomLogo"},{id:435,lat:5.19,lon:2.5},{lat:4.6,lon:2.36,title:"classRoom",building:"Science",floor:"Ground Floor",node:435,label:"classroomLogo"},{id:436,lat:5.5,lon:3.2},{id:437,lat:5.82,lon:3.2},{lat:7,lon:3.1,title:"classRoom",building:"Science",floor:"Ground Floor",node:437,label:"classroomLogo"},{id:438,lat:5.5,lon:3.4},{id:439,lat:5.19,lon:3.4},{lat:4.6,lon:3.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:439,label:"classroomLogo"},{id:440,lat:5.5,lon:3.9},{id:441,lat:5.82,lon:3.9},{lat:7,lon:3.8,title:"classRoom",building:"Science",floor:"Ground Floor",node:441,label:"classroomLogo"},{id:442,lat:5.5,lon:4.45},{id:443,lat:5.19,lon:4.45},{lat:4.6,lon:4.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:443,label:"classroomLogo"},{id:444,lat:5.5,lon:4.6},{id:445,lat:5.82,lon:4.6},{lat:7,lon:4.5,title:"classRoom",building:"Science",floor:"Ground Floor",node:445,label:"classroomLogo"},{id:446,lat:5.5,lon:5.32},{id:447,lat:5.82,lon:5.32},{lat:7,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:447,label:"classroomLogo"},{id:448,lat:5.19,lon:5.32},{lat:4.6,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:448,label:"classroomLogo"},{id:449,lat:5.5,lon:6},{id:450,lat:5.82,lon:6},{lat:7,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:450,label:"classroomLogo"},{id:451,lat:5.19,lon:6},{lat:4.6,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:451,label:"classroomLogo"},{id:452,lat:5.5,lon:6.7},{id:453,lat:5.82,lon:6.7},{lat:7,lon:6.65,title:"classRoom",building:"Science",floor:"Ground Floor",node:453,label:"classroomLogo"},{id:454,lat:5.19,lon:6.7},{lat:4.68,lon:6.63,title:"classRoom",building:"Science",floor:"Ground Floor",node:454,label:"classroomLogo"},{id:455,lat:5.5,lon:6.9},{id:456,lat:5.34,lon:6.9},{id:457,lat:5.34,lon:7.2},{id:458,lat:5.19,lon:7.2},{lat:3.9,lon:7.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:458,label:"classroomLogo"},{id:459,lat:5.34,lon:7.4},{id:460,lat:5.45,lon:7.4},{lat:7,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:460,label:"classroomLogo"},{id:461,lat:5.34,lon:7.6},{id:462,lat:5.19,lon:7.6},{lat:4.68,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:462,label:"classroomLogo"},{id:463,lat:5.34,lon:8.6},{id:464,lat:5.65,lon:8.7},{id:465,lat:5.82,lon:8.7},{lat:7,lon:8.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:465,label:"classroomLogo"},{id:466,lat:5.65,lon:8.53,label:"leaveButton",destination:"science1stFloor",desti:393,direction:"up"}]:t=="science3rdFloor"?e=[{id:480,lat:7.35,lon:3.44,label:"leaveButton",destination:"science4thFloor",desti:615,direction:"up"},{id:481,lat:7.48,lon:3.44},{id:482,lat:7.48,lon:3.15},{id:483,lat:7.58,lon:3.15},{lat:7.9,lon:3.2,title:"classRoom",building:"Science",floor:"3rd Floor",node:483,label:"classroomLogo"},{id:484,lat:6.47,lon:3.15},{id:485,lat:6.47,lon:3.44},{id:486,lat:7.05,lon:3.44,label:"leaveButton",destination:"science2ndFloor",desti:13,direction:"down"},{id:487,lat:6.47,lon:3.65},{id:488,lat:8,lon:3.65},{id:489,lat:8,lon:3.73},{lat:8,lon:3.85,title:"classRoom",building:"PE",floor:"3rd Floor",node:489,label:"classroomLogo"},{id:490,lat:8.4,lon:3.65},{id:491,lat:8.4,lon:4.15},{id:492,lat:8.3,lon:4.15},{lat:8,lon:4.09,title:"classRoom",building:"PE",floor:"3rd Floor",node:492,label:"classroomLogo"},{id:493,lat:8.4,lon:4.4},{id:494,lat:8.3,lon:4.4},{lat:8,lon:4.33,title:"classRoom",building:"PE",floor:"3rd Floor",node:494,label:"classroomLogo"},{id:495,lat:8.4,lon:4.75},{id:496,lat:8.3,lon:4.75},{lat:8,lon:4.65,title:"classRoom",building:"PE",floor:"3rd Floor",node:496,label:"classroomLogo"},{id:497,lat:8.4,lon:5.3},{id:498,lat:8.3,lon:5.3},{lat:8,lon:5.26,title:"classRoom",building:"PE",floor:"3rd Floor",node:498,label:"classroomLogo"},{id:499,lat:8.4,lon:5.7},{id:500,lat:8.3,lon:5.7},{lat:8,lon:5.68,title:"classRoom",building:"PE",floor:"3rd Floor",node:500,label:"classroomLogo"},{id:501,lat:8.4,lon:6},{id:502,lat:8.3,lon:6},{lat:8,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:502,label:"classroomLogo"},{id:503,lat:8.4,lon:6.6},{id:504,lat:8.3,lon:6.6},{lat:8,lon:6.9,title:"classRoom",building:"PE",floor:"3rd Floor",node:504,label:"classroomLogo"},{id:505,lat:6.18,lon:3.15},{lat:5.7,lon:3,title:"classRoom",building:"Science",floor:"3rd Floor",node:505,label:"classroomLogo"},{id:506,lat:6.47,lon:2.65},{id:507,lat:6.7,lon:2.65},{lat:7.3,lon:2.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:507,label:"classroomLogo"},{id:508,lat:6.18,lon:2.65},{lat:5.7,lon:2.47,title:"classRoom",building:"Science",floor:"3rd Floor",node:508,label:"classroomLogo"},{id:509,lat:6.47,lon:1.4},{id:510,lat:6.7,lon:1.4},{lat:7.3,lon:1.4,title:"classRoom",building:"Science",floor:"3rd Floor",node:510,label:"classroomLogo"},{id:511,lat:6.47,lon:1},{id:512,lat:5.85,lon:.9},{id:513,lat:5.85,lon:.4,label:"leaveButton",destination:"main3rdFloor",desti:772},{id:514,lat:4.85,lon:.85},{id:515,lat:4.85,lon:1},{lat:5.4,lon:1.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:515,label:"classroomLogo"},{id:516,lat:4.7,lon:.85},{lat:4.35,lon:.95,title:"classRoom",building:"Science",floor:"3rd Floor",node:516,label:"classroomLogo"},{id:517,lat:4.85,lon:.69},{id:518,lat:3.65,lon:.51},{id:519,lat:3.65,lon:1.59},{id:520,lat:3.76,lon:1.59},{id:521,lat:3.65,lon:2.1},{id:522,lat:3.76,lon:2.1},{lat:4.35,lon:2.05,title:"classRoom",building:"Science",floor:"3rd Floor",node:522,label:"classroomLogo"},{id:523,lat:3.65,lon:2.5},{id:524,lat:3.55,lon:2.5},{id:525,lat:3.7,lon:2.5},{id:526,lat:3.7,lon:2.6,label:"leaveButton",destination:"science4thFloor",desti:674,direction:"up"},{id:527,lat:3.55,lon:3.44},{id:528,lat:4.5,lon:3.44},{id:529,lat:4.5,lon:3.12},{id:530,lat:4.4,lon:3.12},{lat:4.13,lon:2.9,title:"classRoom",building:"Science",floor:"3rd Floor",node:530,label:"classroomLogo"},{id:531,lat:4.5,lon:3},{lat:4.6,lon:2.5,title:"classRoom",building:"Science",floor:"3rd Floor",node:531,label:"classroomLogo"},{id:532,lat:3,lon:3.44,label:"leaveButton",destination:"BRS3rdFloor",desti:155},{id:533,lat:3.45,lon:3.68},{id:534,lat:4.3,lon:3.68},{id:535,lat:4.3,lon:3.73},{lat:4.25,lon:4.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:535,label:"classroomLogo"},{id:536,lat:3.45,lon:4},{id:537,lat:2.35,lon:4},{id:538,lat:2.35,lon:4.3},{id:539,lat:2.55,lon:4.3,label:"leaveButton",destination:"science4thFloor",desti:640,direction:"up"},{id:540,lat:3.45,lon:4.3},{id:541,lat:3.1,lon:4.3,label:"leaveButton",destination:"science2ndFloor",desti:84,direction:"down"},{id:542,lat:3.45,lon:4.65},{id:543,lat:3.16,lon:4.65},{lat:2.8,lon:4.55,title:"classRoom",building:"PE",floor:"3rd Floor",node:543,label:"classroomLogo"},{id:544,lat:3.45,lon:5.05},{id:545,lat:3.16,lon:5.05},{lat:2.8,lon:5,title:"classRoom",building:"PE",floor:"3rd Floor",node:545,label:"classroomLogo"},{id:546,lat:3.45,lon:5.2},{id:547,lat:3.77,lon:5.2},{lat:4.25,lon:5.1,title:"classRoom",building:"PE",floor:"3rd Floor",node:547,label:"classroomLogo"},{id:548,lat:3.45,lon:5.7},{id:549,lat:3.16,lon:5.7},{lat:2.7,lon:5.6,title:"classRoom",building:"PE",floor:"3rd Floor",node:549,label:"classroomLogo"},{id:550,lat:3.45,lon:6.16},{id:551,lat:3.77,lon:6.16},{lat:4.25,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:551,label:"classroomLogo"},{id:552,lat:3.45,lon:6.5},{id:553,lat:3.16,lon:6.5},{lat:2.7,lon:6.5,title:"classRoom",building:"PE",floor:"3rd Floor",node:553,label:"classroomLogo"},{id:554,lat:3.45,lon:6.85},{id:555,lat:3.77,lon:6.85},{lat:4.25,lon:6.63,title:"classRoom",building:"PE",floor:"3rd Floor",node:555,label:"classroomLogo"},{id:556,lat:3.45,lon:6.97},{id:557,lat:3,lon:6.97},{lat:2.7,lon:7.16,title:"classRoom",building:"PE",floor:"3rd Floor",node:557,label:"classroomLogo"},{id:558,lat:3.45,lon:7.45},{id:559,lat:3.77,lon:7.45},{lat:4.25,lon:7.4,title:"classRoom",building:"PE",floor:"3rd Floor",node:559,label:"classroomLogo"},{id:560,lat:3.45,lon:7.52},{id:561,lat:2.55,lon:7.52},{id:562,lat:2.55,lon:7.68},{id:563,lat:2.63,lon:7.68,label:"leaveButton",destination:"science4thFloor",desti:654,direction:"up"},{id:564,lat:3.45,lon:7.68},{id:565,lat:3.16,lon:7.68,label:"leaveButton",destination:"science2ndFloor",desti:93,direction:"down"},{id:567,lat:4.7,lon:8.1},{id:568,lat:4.7,lon:7.9},{id:569,lat:5,lon:8.6},{id:570,lat:5.4,lon:8.6},{id:571,lat:5.4,lon:8.53},{lat:5.4,lon:8.15,title:"classRoom",building:"Science",floor:"3rd Floor",node:571,label:"classroomLogo"},{id:572,lat:6.3,lon:8.6},{id:573,lat:6.57,lon:8.53},{lat:6.3,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:573,label:"classroomLogo"},{id:574,lat:6.3,lon:9.15},{id:575,lat:6.57,lon:9.18},{id:576,lat:6.57,lon:9.07,label:"leaveButton",destination:"science4thFloor",desti:655,direction:"up"},{id:577,lat:6.57,lon:8.6},{id:578,lat:6.57,lon:8.8,label:"leaveButton",destination:"science2ndFloor",desti:95,direction:"down"},{id:579,lat:6.9,lon:8.6},{id:580,lat:6.9,lon:8.2},{id:581,lat:7.02,lon:8.2},{lat:7.6,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:581,label:"classroomLogo"},{id:582,lat:6.9,lon:7.9},{id:583,lat:6.9,lon:8.75},{id:584,lat:7.02,lon:8.75},{lat:7.6,lon:8.65,title:"classRoom",building:"Science",floor:"3rd Floor",node:584,label:"classroomLogo"},{id:585,lat:6.9,lon:9.12},{id:586,lat:7.3,lon:9.12},{lat:7.8,lon:9.25,title:"classRoom",building:"Science",floor:"3rd Floor",node:586,label:"classroomLogo"}]:t=="science4thFloor"?e=[{id:610,lat:7.38,lon:3.33,label:"leaveButton",destination:"main5thFloor",desti:1002,direction:"up"},{id:611,lat:7.54,lon:3.33},{id:612,lat:7.54,lon:3.05},{id:682,lat:7.61,lon:3.05},{id:613,lat:6.5,lon:3.05},{id:614,lat:6.5,lon:3.33},{id:615,lat:7.12,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:480,direction:"down"},{id:616,lat:6.5,lon:2.75},{id:617,lat:6.18,lon:2.75},{lat:5.8,lon:2.65,title:"classRoom",building:"Science",floor:"4th Floor",node:617,label:"classroomLogo"},{id:618,lat:6.5,lon:2.6},{id:619,lat:6.75,lon:2.6},{lat:7.4,lon:2.45,title:"classRoom",building:"Science",floor:"4th Floor",node:619,label:"classroomLogo"},{id:620,lat:3.6,lon:3.33},{id:621,lat:3.6,lon:1.75},{id:622,lat:3.75,lon:1.75},{lat:4.3,lon:1.55,title:"classRoom",building:"Science",floor:"4th Floor",node:622,label:"classroomLogo"},{id:623,lat:3.6,lon:.3},{id:624,lat:3.2,lon:.25,label:"leaveButton",destination:"BRS4thFloor",desti:206},{id:625,lat:4,lon:.4},{id:626,lat:4,lon:.53},{lat:4.3,lon:.85,title:"classRoom",building:"Science",floor:"4th Floor",node:626,label:"classroomLogo"},{id:627,lat:5.5,lon:.7},{id:675,lat:6.4,lon:.9},{id:676,lat:6.4,lon:1.075},{lat:6.4,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:676,label:"classroomLogo"},{id:677,lat:6.65,lon:.95},{id:678,lat:6.65,lon:1.075},{lat:6.7,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:678,label:"classroomLogo"},{id:628,lat:5.5,lon:1.05},{lat:5.8,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:628,label:"classroomLogo"},{id:629,lat:7.85,lon:1.15,label:"leaveButton",destination:"main4thFloor",desti:737},{id:631,lat:7.85,lon:1.4},{id:632,lat:7.7,lon:1.4},{lat:7.4,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:632,label:"classroomLogo"},{id:633,lat:3.45,lon:3.45},{id:634,lat:2.95,lon:3.33,label:"leaveButton",destination:"BRS4thFloor",desti:180},{id:635,lat:3.45,lon:3.9},{id:636,lat:2.3,lon:3.9},{id:637,lat:2.3,lon:4.21},{id:638,lat:2.5,lon:4.21,label:"leaveButton",destination:"science5thFloor",desti:906,direction:"up"},{id:639,lat:3.45,lon:4.21},{id:640,lat:3.08,lon:4.21,label:"leaveButton",destination:"science3rdFloor",desti:539,direction:"down"},{id:641,lat:3.45,lon:4.75},{id:642,lat:3.15,lon:4.75},{lat:2.75,lon:4.7,title:"classRoom",building:"PE",floor:"4th Floor",node:642,label:"classroomLogo"},{id:643,lat:3.45,lon:5.6},{id:644,lat:3.15,lon:5.6},{lat:2.7,lon:5.55,title:"classRoom",building:"PE",floor:"4th Floor",node:644,label:"classroomLogo"},{id:645,lat:3.45,lon:6.45},{id:646,lat:3.15,lon:6.45},{lat:2.7,lon:6.45,title:"classRoom",building:"PE",floor:"4th Floor",node:646,label:"classroomLogo"},{id:647,lat:3.45,lon:6.94},{id:648,lat:2.95,lon:6.94},{lat:2.7,lon:7.1,title:"classRoom",building:"PE",floor:"4th Floor",node:648,label:"classroomLogo"},{id:649,lat:3.45,lon:7.47},{id:650,lat:2.5,lon:7.47},{id:651,lat:2.5,lon:7.66},{id:652,lat:2.6,lon:7.66,label:"leaveButton",destination:"science5thFloor",desti:929,direction:"up"},{id:653,lat:3.45,lon:7.66},{id:654,lat:3.13,lon:7.66,label:"leaveButton",destination:"science3rdFloor",desti:563,direction:"down"},{id:655,lat:6.6,lon:8.78,label:"leaveButton",destination:"science3rdFloor",desti:576,direction:"down"},{id:656,lat:6.6,lon:8.6},{id:657,lat:6.6,lon:8.51},{lat:6.65,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:657,label:"classroomLogo"},{id:658,lat:6.3,lon:8.6},{id:659,lat:6.3,lon:8.55},{id:660,lat:6.3,lon:9.1},{id:661,lat:6.6,lon:9.15},{id:662,lat:6.6,lon:9.05,label:"leaveButton",destination:"science5thFloor",desti:890,direction:"up"},{id:663,lat:6.05,lon:8.55},{id:664,lat:6.05,lon:8.65},{lat:5.85,lon:8.64,title:"classRoom",building:"Science",floor:"4th Floor",node:664,label:"classroomLogo"},{id:665,lat:6.05,lon:8.4},{lat:5.85,lon:8.03,title:"classRoom",building:"Science",floor:"4th Floor",node:665,label:"classroomLogo"},{id:666,lat:6.91,lon:8.6},{id:667,lat:6.91,lon:8.51},{lat:7.5,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:667,label:"classroomLogo"},{id:668,lat:6.91,lon:8.9},{id:669,lat:7.05,lon:8.9},{lat:7.8,lon:8.6,title:"classRoom",building:"Science",floor:"4th Floor",node:669,label:"classroomLogo"},{id:670,lat:6.91,lon:9.1},{id:671,lat:7.3,lon:9.1},{lat:7.8,lon:9.26,title:"classRoom",building:"Science",floor:"4th Floor",node:671,label:"classroomLogo"},{id:672,lat:3.6,lon:2.7},{id:673,lat:3.68,lon:2.7},{id:674,lat:3.68,lon:2.57,label:"leaveButton",destination:"science3rdFloor",desti:526,direction:"down"}]:t=="science5thFloor"?e=[{id:890,lat:7.2,lon:8.1,label:"leaveButton",destination:"science4thFloor",desti:662,direction:"down"},{id:891,lat:7.2,lon:7.4},{id:892,lat:7.7,lon:7.4},{lat:8.7,lon:7.2,title:"classRoom",building:"Science",floor:"5th Floor",node:893,label:"classroomLogo"},{id:893,lat:7.85,lon:7.4},{id:894,lat:7.7,lon:8.3},{id:895,lat:8.25,lon:8.3},{lat:8.95,lon:8.1,title:"classRoom",building:"Science",floor:"5th Floor",node:895,label:"classroomLogo"},{id:896,lat:7.7,lon:8.85},{id:897,lat:8.25,lon:8.85},{lat:8.95,lon:8.9,title:"classRoom",building:"Science",floor:"5th Floor",node:897,label:"classroomLogo"},{id:898,lat:6.8,lon:7.4},{id:899,lat:6.65,lon:7.4},{lat:6.1,lon:7.5,title:"classRoom",building:"Science",floor:"5th Floor",node:899,label:"classroomLogo"},{id:900,lat:6.8,lon:8.4,label:"leaveButton",destination:"science6thFloor",desti:950,direction:"up"},{id:903,lat:2.15,lon:.5,label:"leaveButton"},{id:904,lat:2.64,lon:.7},{id:905,lat:2.64,lon:1.7},{id:906,lat:2.3,lon:1.7,label:"leaveButton",destination:"science4thFloor",desti:638,direction:"down"},{id:907,lat:3.05,lon:1.7},{id:908,lat:3.05,lon:2.25,label:"leaveButton",destination:"science6thFloor",desti:965,direction:"up"},{id:910,lat:2.64,lon:2.5},{id:911,lat:2.38,lon:2.5},{lat:2,lon:2.4,title:"classRoom",building:"PE",floor:"5th Floor",node:911,label:"classroomLogo"},{id:912,lat:2.64,lon:3.5},{id:913,lat:2.38,lon:3.5},{lat:2,lon:3.35,title:"classRoom",building:"PE",floor:"5th Floor",node:913,label:"classroomLogo"},{id:914,lat:2.64,lon:3.7},{id:915,lat:3.05,lon:3.7},{id:916,lat:3.05,lon:4.3},{id:917,lat:2.88,lon:4.3},{lat:2.2,lon:4.2,title:"classRoom",building:"PE",floor:"5th Floor",node:917,label:"classroomLogo"},{id:918,lat:3.05,lon:5.15},{id:919,lat:2.88,lon:5.15},{lat:2.2,lon:5.05,title:"classRoom",building:"PE",floor:"5th Floor",node:919,label:"classroomLogo"},{id:920,lat:3.05,lon:5.7},{id:921,lat:2.88,lon:5.7},{lat:2.2,lon:5.7,title:"classRoom",building:"PE",floor:"5th Floor",node:921,label:"classroomLogo"},{id:922,lat:3.05,lon:5.98},{id:923,lat:2.88,lon:5.98},{lat:2.2,lon:5.98,title:"classRoom",building:"PE",floor:"5th Floor",node:923,label:"classroomLogo"},{id:924,lat:3.05,lon:6.28},{id:925,lat:1.5,lon:6.28},{id:926,lat:1.5,lon:6.51},{id:927,lat:1.65,lon:6.51,label:"leaveButton",destination:"science6thFloor",desti:964,direction:"up"},{id:928,lat:3.05,lon:6.51},{id:929,lat:2.35,lon:6.51,label:"leaveButton",destination:"science3thFloor",desti:652,direction:"down"}]:t=="science6thFloor"?e=[{id:950,lat:6.83,lon:8.06,label:"leaveButton",destination:"science5thFloor",desti:900,direction:"down"},{id:951,lat:6.83,lon:8.2},{id:952,lat:7.2,lon:8.27},{id:953,lat:7.3,lon:8.4},{lat:8.05,lon:8.4,title:"classRoom",building:"Science",floor:"6th Floor",node:953,label:"classroomLogo"},{id:954,lat:7.3,lon:8},{id:955,lat:7.3,lon:7.35},{id:956,lat:7.1,lon:7.35},{lat:6.2,lon:7.35,title:"classRoom",building:"Science",floor:"6th Floor",node:956,label:"classroomLogo"},{id:957,lat:7.3,lon:6.83},{id:958,lat:5.63,lon:6.83},{lat:5.2,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:958,label:"classroomLogo"},{id:959,lat:8,lon:8},{id:960,lat:8,lon:7.88},{lat:8.05,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:960,label:"classroomLogo"},{id:961,lat:9,lon:8},{id:962,lat:9,lon:8.12},{lat:9.1,lon:8.5,title:"classRoom",building:"Science",floor:"6th Floor",node:962,label:"classroomLogo"},{id:963,lat:9,lon:7.88},{lat:9.1,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:963,label:"classroomLogo"},{id:964,lat:2.35,lon:6.05,label:"leaveButton",destination:"science5thFloor",desti:927,direction:"down"},{id:965,lat:3.05,lon:2,label:"leaveButton",destination:"science5thFloor",desti:908,direction:"down"},{id:966,lat:3.05,lon:3},{id:967,lat:2.88,lon:3},{lat:2,lon:4,title:"classRoom",building:"PE",floor:"6th Floor",node:967,label:"classroomLogo"}]:t=="main4thFloor"?e=[{id:700,lat:7.1,lon:7.45,label:"leaveButton",destination:"BRS4thFloor",desti:207},{id:701,lat:5.83,lon:7.45},{id:702,lat:5.83,lon:7.6},{lat:6.5,lon:8.25,title:"classRoom",building:"Main",floor:"4th Floor",node:702,label:"classroomLogo"},{id:703,lat:5.1,lon:7.45},{id:704,lat:5.1,lon:7.6},{id:705,lat:4.74,lon:7.6},{lat:4,lon:7.9,title:"classRoom",building:"Main",floor:"4th Floor",node:705,label:"classroomLogo"},{id:706,lat:5.1,lon:9},{lat:5.1,lon:9.1,title:"classRoom",building:"Main",floor:"4th Floor",node:706},{id:707,lat:5.1,lon:6.98},{id:708,lat:6.9,lon:6.98},{id:709,lat:6.9,lon:6.5},{id:710,lat:6.65,lon:6.5,label:"leaveButton",destination:"main5thFloor",desti:1010,direction:"up"},{id:711,lat:5.1,lon:6.5},{id:712,lat:5.98,lon:6.5,label:"leaveButton",destination:"main3rdFloor",desti:750,direction:"down"},{id:713,lat:5.1,lon:6.2},{id:714,lat:4.74,lon:6.2},{lat:4,lon:6.2,title:"classRoom",building:"Main",floor:"4th Floor",node:714,label:"classroomLogo"},{id:715,lat:5.1,lon:5.7},{id:716,lat:5.45,lon:5.7},{lat:6.5,lon:5.6,title:"classRoom",building:"Main",floor:"4th Floor",node:716,label:"classroomLogo"},{id:719,lat:5.1,lon:4.2},{id:720,lat:5.45,lon:4.2},{lat:6.5,lon:4.1,title:"classRoom",building:"Main",floor:"4th Floor",node:720,label:"classroomLogo"},{id:721,lat:5.1,lon:3.7},{id:722,lat:4.74,lon:3.7},{lat:4,lon:3.65,title:"classRoom",building:"Main",floor:"4th Floor",node:722,label:"classroomLogo"},{id:723,lat:5.1,lon:2.75},{id:724,lat:4.74,lon:2.75},{lat:4,lon:2.1,title:"classRoom",building:"Main",floor:"4th Floor",node:724,label:"classroomLogo"},{id:725,lat:5.45,lon:2.75},{lat:6.5,lon:2.63,title:"classRoom",building:"Main",floor:"4th Floor",node:725,label:"classroomLogo"},{id:726,lat:5.1,lon:2.15},{id:727,lat:6.15,lon:2.15},{id:728,lat:6.33,lon:2.15},{lat:6.8,lon:1.8,title:"classRoom",building:"Main",floor:"4th Floor",node:728,label:"classroomLogo"},{id:729,lat:6.15,lon:2.05},{lat:6,lon:1.75,title:"classRoom",building:"Main",floor:"4th Floor",node:729,label:"classroomLogo"},{id:730,lat:5.1,lon:1.3},{id:731,lat:6.02,lon:.82,label:"leaveButton",destination:"main3rdFloor",desti:779,direction:"down"},{id:732,lat:6.9,lon:1.3},{id:733,lat:6.9,lon:.64},{id:734,lat:6.7,lon:.64},{id:735,lat:5.35,lon:1},{id:736,lat:5.35,lon:.68},{id:737,lat:7.1,lon:.16,label:"leaveButton",destination:"science4thFloor",desti:629}]:t=="main5thFloor"?e=[{id:1002,lat:8.5,lon:.6,label:"leaveButton",destination:"science4thFloor",desti:610,direction:"down"},{id:1003,lat:9,lon:1.5},{id:1004,lat:2.7,lon:3.7},{lat:4,lon:3.7,title:"classRoom",building:"Main",floor:"5th Floor",node:1007,label:"classroomLogo"},{id:1005,lat:2.7,lon:6.5},{id:1009,lat:2.7,lon:7},{id:1010,lat:3.48,lon:7,label:"leaveButton",destination:"main4thFloor",desti:710,direction:"down"},{id:1011,lat:2.7,lon:7.4},{id:1012,lat:4.08,lon:7.4},{lat:4.3,lon:7,title:"classRoom",building:"Main",floor:"5th Floor",node:1012,label:"classroomLogo"},{id:1013,lat:2.7,lon:7.8},{id:1014,lat:2.91,lon:7.8},{lat:3.7,lon:7.68,title:"classRoom",building:"Main",floor:"5th Floor",node:1014,label:"classroomLogo"},{id:1015,lat:2.23,lon:7.8},{lat:1.7,lon:8.1,title:"classRoom",building:"Main",floor:"5th Floor",node:1015,label:"classroomLogo"},{id:1016,lat:2.7,lon:8.8},{id:1017,lat:3.4,lon:8.9},{id:1018,lat:3.4,lon:8.69},{lat:3.7,lon:8.4,title:"classRoom",building:"Main",floor:"5th Floor",node:1018,label:"classroomLogo"},{id:1019,lat:4.15,lon:9,label:"leaveButton",destination:"main6thFloor",desti:1080,direction:"up"},{id:1020,lat:2.7,lon:9.3},{id:1021,lat:.65,lon:9},{id:1022,lat:.25,lon:8.7},{id:1023,lat:.25,lon:7.25},{id:1024,lat:0,lon:7.25,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1160}]:t=="main6thFloor"?e=[{id:1080,lat:6.89,lon:8.9,label:"leaveButton",destination:"main5thFloor",desti:1019,direction:"down"},{id:1081,lat:7.1,lon:8.9},{id:1082,lat:7.1,lon:8.3},{id:1083,lat:5.2,lon:8.3},{id:1084,lat:5.2,lon:8.03},{lat:5.2,lon:4.3,title:"classRoom",building:"Main",floor:"6th Floor",node:1084,label:"classroomLogo"}]:t=="main3rdFloor"?e=[{id:750,lat:7.05,lon:7,label:"leaveButton",destination:"main4thFloor",desti:712,direction:"up"},{id:751,lat:7.25,lon:7},{id:752,lat:7.25,lon:7.5},{id:753,lat:5.8,lon:7.5},{id:754,lat:5.8,lon:7.75},{lat:6.6,lon:8.8,title:"classRoom",building:"Main",floor:"3rd Floor",node:754,label:"classroomLogo"},{id:755,lat:5.8,lon:7},{id:756,lat:6.28,lon:7,label:"leaveButton",destination:"main2ndFloor",desti:800,direction:"down"},{id:757,lat:5.1,lon:7.5},{id:758,lat:5.1,lon:7.75},{lat:4.8,lon:8.5,title:"classRoom",building:"Main",floor:"3rd Floor",node:758,label:"classroomLogo"},{id:759,lat:5.1,lon:7},{id:760,lat:4.7,lon:7},{lat:3.7,lon:6.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:760,label:"classroomLogo"},{id:761,lat:5.1,lon:5.8},{id:762,lat:5.55,lon:5.8},{lat:6.6,lon:5.7,title:"classRoom",building:"Main",floor:"3rd Floor",node:762,label:"classroomLogo"},{id:763,lat:5.1,lon:4.8},{id:764,lat:4.7,lon:4.8},{lat:3.7,lon:4.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:764,label:"classroomLogo"},{id:765,lat:5.1,lon:4.1},{id:766,lat:5.55,lon:4.1},{lat:6.6,lon:3.75,title:"classRoom",building:"Main",floor:"3rd Floor",node:766,label:"classroomLogo"},{id:767,lat:5.1,lon:2.93},{id:768,lat:6.1,lon:2.93},{id:769,lat:6.1,lon:2.68},{lat:6.1,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:769,label:"classroomLogo"},{id:770,lat:7,lon:2.93},{id:771,lat:7,lon:2.68},{lat:7,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:771,label:"classroomLogo"},{id:772,lat:7.45,lon:2.93,label:"leaveButton",destination:"science3rdFloor",desti:513},{id:773,lat:5.1,lon:2.6},{id:774,lat:4.7,lon:2.6},{lat:3.7,lon:2.4,title:"classRoom",building:"Main",floor:"3rd Floor",node:774,label:"classroomLogo"},{id:775,lat:5.1,lon:1.2},{id:776,lat:6.25,lon:.65,label:"leaveButton",destination:"main2ndFloor",desti:833,direction:"down"},{id:777,lat:7.3,lon:1.2},{id:778,lat:7.3,lon:.4},{id:779,lat:7.09,lon:.4,label:"leaveButton",destination:"main4thFloor",desti:731,direction:"up"}]:t=="main2ndFloor"?e=[{id:800,lat:9.72,lon:6.24,label:"leaveButton",destination:"main3rdFloor",desti:756,direction:"up"},{id:801,lat:9.85,lon:6.24},{id:802,lat:9.85,lon:6.6},{id:803,lat:8.8,lon:6.6},{id:804,lat:8.8,lon:6.75},{lat:9.5,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:804,label:"classroomLogo"},{id:805,lat:8.25,lon:6.6},{id:806,lat:8.25,lon:6.75},{lat:8.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:806,label:"classroomLogo"},{id:807,lat:8.25,lon:6.11},{id:808,lat:8.57,lon:6.11},{lat:9.3,lon:6.15,title:"classRoom",building:"Main",floor:"2nd Floor",node:808,label:"classroomLogo"},{id:809,lat:8.25,lon:5.7},{id:810,lat:7.97,lon:5.7},{lat:7.3,lon:5.6,title:"classRoom",building:"Main",floor:"2nd Floor",node:810,label:"classroomLogo"},{id:811,lat:8.25,lon:5.45},{id:812,lat:8.57,lon:5.45},{lat:9.3,lon:5.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:812,label:"classroomLogo"},{id:813,lat:8.25,lon:4.65},{id:814,lat:7.97,lon:4.65},{lat:7.3,lon:4.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:814,label:"classroomLogo"},{id:815,lat:8.25,lon:4.29},{id:816,lat:8.57,lon:4.29},{lat:9.3,lon:4.2,title:"classRoom",building:"Main",floor:"2nd Floor",node:816,label:"classroomLogo"},{id:817,lat:8.25,lon:3.65},{id:818,lat:7.97,lon:3.65},{lat:7.3,lon:3.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:818,label:"classroomLogo"},{id:819,lat:8.25,lon:3},{id:820,lat:9.25,lon:3},{id:821,lat:9.25,lon:3.1},{lat:9.1,lon:3.33,title:"classRoom",building:"Main",floor:"2nd Floor",node:821,label:"classroomLogo"},{id:822,lat:9.35,lon:3},{lat:9.75,lon:3.25,title:"classRoom",building:"Main",floor:"2nd Floor",node:822,label:"classroomLogo"},{id:823,lat:8.25,lon:2.75},{id:824,lat:7.97,lon:2.75},{lat:7.3,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:824,label:"classroomLogo"},{id:825,lat:9.02,lon:2.75},{lat:9.55,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:825,label:"classroomLogo"},{id:826,lat:8.25,lon:2.34},{id:827,lat:8.62,lon:2.34,label:"leaveButton",destination:"science2ndFloor",desti:88,direction:"down"},{id:828,lat:8.25,lon:1.92},{id:829,lat:8.25,lon:1.7},{id:830,lat:8.57,lon:1.6},{lat:9.3,lon:1.43,title:"classRoom",building:"Main",floor:"2nd Floor",node:830,label:"classroomLogo"},{id:831,lat:9.85,lon:1.92},{id:832,lat:9.85,lon:1.5},{id:833,lat:9.6,lon:1.4,label:"leaveButton",destination:"main3rdFloor",desti:776,direction:"up"},{id:834,lat:6.15,lon:6.6},{id:835,lat:6.15,lon:6.75},{lat:6.25,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:835,label:"classroomLogo"},{id:836,lat:6.15,lon:6.23},{id:837,lat:5.6,lon:6.6},{id:838,lat:5.6,lon:6.75},{lat:5.7,lon:7.05,title:"classRoom",building:"Main",floor:"2nd Floor",node:838,label:"classroomLogo"},{id:839,lat:5.25,lon:6.6},{id:840,lat:5.25,lon:6.75},{id:841,lat:4.6,lon:6.6},{id:864,lat:4.6,lon:6.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.7,lon:5.75,title:"classRoom",building:"Main",floor:"2nd Floor",node:864},{id:842,lat:4.25,lon:6.6},{id:843,lat:4.25,lon:6.75},{lat:4.4,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:843,label:"classroomLogo"},{id:844,lat:3.95,lon:6.6},{id:845,lat:3.95,lon:6.23},{lat:4.5,lon:4.23,title:"classRoom",building:"EDS",floor:"2nd Floor",node:846,label:"classroomLogo"},{id:847,lat:3.3,lon:6.6},{id:848,lat:3.3,lon:6.2},{id:849,lat:2.95,lon:6.6},{id:850,lat:2.95,lon:6.75},{lat:3.3,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:850,label:"classroomLogo"},{id:851,lat:2.7,lon:6.6},{id:852,lat:2.7,lon:5.45},{id:853,lat:3.3,lon:5.45},{id:854,lat:3.3,lon:5.7,label:"leaveButton",destination:"EDS3rdFloor",desti:1225,direction:"up"},{id:855,lat:1.65,lon:6.6},{id:856,lat:1.65,lon:6.75},{lat:1.8,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:856,label:"classroomLogo"},{id:857,lat:1.65,lon:6.23},{id:858,lat:.7,lon:6.6},{id:859,lat:.7,lon:6.23},{id:861,lat:.3,lon:6.6},{id:862,lat:.3,lon:6.75},{lat:.55,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:862,label:"classroomLogo"},{id:865,lat:7.25,lon:6.6},{id:866,lat:7.25,lon:6.75},{lat:7.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:866,label:"classroomLogo"}]:t=="EDS3rdFloor"?e=[{id:1220,lat:4.34,lon:4.49,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1106,direction:"up"},{id:1221,lat:3.9,lon:4.49},{id:1222,lat:3.9,lon:5.25},{id:1223,lat:6,lon:5.25},{id:1224,lat:6,lon:4.49},{id:1225,lat:5.3,lon:4.49,label:"leaveButton",destination:"main2ndFloor",desti:854,direction:"down"},{id:1226,lat:6,lon:3.72},{id:1227,lat:4.1,lon:3.72},{id:1228,lat:4.1,lon:3.45},{lat:2.7,lon:2,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1228,label:"classroomLogo"},{id:1229,lat:3,lon:3.72},{id:1230,lat:3,lon:4.03},{lat:2.5,lon:4.7,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1230,label:"classroomLogo"},{id:1231,lat:2.15,lon:3.72},{lat:1.7,lon:3.6,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1231,label:"classroomLogo"},{id:1232,lat:6.46,lon:3.72},{lat:8.1,lon:3.6,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1232,label:"classroomLogo"},{id:1233,lat:6,lon:2.95},{id:1234,lat:5.38,lon:2.95,label:"elevator",elevatorBuilding:"EDS"},{lat:5,lon:2.8,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1234},{id:1235,lat:6,lon:2.1},{id:1236,lat:6.46,lon:2.1},{lat:8,lon:1.7,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1236,label:"classroomLogo"},{id:1237,lat:6,lon:6},{id:1238,lat:6.46,lon:6},{lat:8.1,lon:5.9,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1238,label:"classroomLogo"},{id:1239,lat:5.4,lon:6},{lat:4.8,lon:6.3,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1239,label:"classroomLogo"},{id:1240,lat:6,lon:7.55},{id:1241,lat:5.4,lon:7.55},{lat:4.9,lon:7.49,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1241,label:"classroomLogo"},{id:1242,lat:6,lon:8.45},{id:1243,lat:6.46,lon:8.45},{lat:8.7,lon:8,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1243,label:"classroomLogo"}]:t=="CHTMEDS4thFloor"?e=[{id:1100,lat:7.7,lon:2.6},{lat:7.8,lon:2.6,title:"classRoom",building:"EDS",floor:"4th Floor",node:1100},{id:1102,lat:6.9,lon:2.6},{id:1103,lat:6.9,lon:2.06},{lat:6.9,lon:1.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1103,label:"classroomLogo"},{id:1104,lat:4.95,lon:2.6},{id:1105,lat:4.95,lon:2.34},{id:1106,lat:4.5,lon:2.34,label:"leaveButton",destination:"EDS3rdFloor",desti:1220,direction:"down"},{id:1107,lat:4.95,lon:1.8},{id:1108,lat:3.35,lon:1.8},{id:1109,lat:3.35,lon:1.62},{lat:3.35,lon:.78,title:"classRoom",building:"EDS",floor:"4th Floor",node:1109,label:"classroomLogo"},{id:1110,lat:2.7,lon:1.8},{id:1111,lat:2.7,lon:2.01},{lat:2.3,lon:2.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1111,label:"classroomLogo"},{id:1112,lat:2.35,lon:1.8},{lat:1.85,lon:1.75,title:"classRoom",building:"EDS",floor:"4th Floor",node:1112,label:"classroomLogo"},{id:1113,lat:4.95,lon:1.5},{id:1114,lat:5.28,lon:1.5},{lat:5.7,lon:1.35,title:"classRoom",building:"EDS",floor:"4th Floor",node:1114,label:"classroomLogo"},{id:1115,lat:4.95,lon:1.32},{id:1116,lat:4.57,lon:1.32,label:"elevator",elevatorBuilding:"EDS"},{lat:4.25,lon:1.2,title:"classRoom",building:"EDS",floor:"4th Floor",node:1116,label:"classroomLogo"},{id:1117,lat:4.95,lon:.75},{id:1118,lat:5.28,lon:.75},{lat:6.5,lon:.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1118,label:"classroomLogo"},{id:1119,lat:4.95,lon:2.8},{id:1120,lat:3.5,lon:2.8},{id:1121,lat:3.5,lon:2.34},{id:1122,lat:3.88,lon:2.34,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1174,direction:"up"},{id:1123,lat:4.95,lon:3.65},{id:1124,lat:5.28,lon:3.65},{lat:6.5,lon:3.5,title:"classRoom",building:"EDS",floor:"4th Floor",node:1124,label:"classroomLogo"},{id:1125,lat:4.57,lon:3.65},{lat:3.8,lon:3.5,title:"classRoom",building:"EDS",floor:"4th Floor",node:1125,label:"classroomLogo"},{id:1126,lat:4.95,lon:4.5},{id:1127,lat:4.57,lon:4.5},{lat:4.1,lon:4.35,title:"classRoom",building:"EDS",floor:"4th Floor",node:1127,label:"classroomLogo"},{id:1128,lat:4.95,lon:5.05},{id:1129,lat:6.05,lon:5.05},{id:1130,lat:6.05,lon:5.65},{id:1131,lat:6.47,lon:5.65},{lat:7.4,lon:5.65,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1131,label:"classroomLogo"},{id:1132,lat:5.73,lon:5.65},{lat:5.35,lon:5.6,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1132,label:"classroomLogo"},{id:1133,lat:6.05,lon:6.15},{id:1134,lat:5.73,lon:6.15},{lat:4.6,lon:5.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1134,label:"classroomLogo"},{id:1135,lat:6.05,lon:7.1},{id:1136,lat:4.8,lon:7.1},{id:1137,lat:4.8,lon:6.65},{id:1149,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1194,direction:"up"},{id:1138,lat:6.75,lon:7.1},{id:1139,lat:7.3,lon:7.1},{id:1140,lat:7.3,lon:7.34},{lat:8.1,lon:7.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1140,label:"classroomLogo"},{id:1141,lat:6.75,lon:7.57},{id:1142,lat:6.47,lon:7.57,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.35,lon:7.4,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1142},{id:1143,lat:6.75,lon:7.9},{id:1144,lat:6.52,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1144,label:"classroomLogo"},{id:1145,lat:6.75,lon:8.4},{id:1146,lat:6.52,lon:8.4},{lat:6.35,lon:8.4,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1146,label:"classroomLogo"},{id:1147,lat:6.75,lon:8.8},{id:1148,lat:7.12,lon:8.8},{lat:8.1,lon:8.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1148,label:"classroomLogo"}]:t=="CHTMEDS5thFloor"?e=[{id:1160,lat:4.95,lon:0,label:"leaveButton",destination:"main5thFloor",desti:1024},{id:1161,lat:4.95,lon:.75},{id:1162,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1162,label:"classroomLogo"},{id:1163,lat:4.57,lon:.75},{id:1164,lat:4.95,lon:1.42},{id:1165,lat:4.57,lon:1.42,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.27,title:"classRoom",building:"EDS",floor:"5th Floor",node:1165,label:"classroomLogo"},{id:1166,lat:4.95,lon:1.9},{id:1167,lat:2.95,lon:1.9},{id:1168,lat:2.95,lon:1.7},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1168,label:"classroomLogo"},{id:1169,lat:2.95,lon:2.1},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"5th Floor",node:1169,label:"classroomLogo"},{id:1170,lat:2.42,lon:1.9},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1170,label:"classroomLogo"},{id:1171,lat:4.95,lon:2.15},{id:1172,lat:5.28,lon:2.15},{lat:6.8,lon:2.1,title:"classRoom",building:"EDS",floor:"5th Floor",node:1172,label:"classroomLogo"},{id:1173,lat:4.95,lon:2.39},{id:1174,lat:4.5,lon:2.39,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1122,direction:"down"},{id:1175,lat:4.95,lon:2.9},{id:1176,lat:3.5,lon:2.9},{id:1177,lat:3.5,lon:2.39},{id:1178,lat:3.88,lon:2.39,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1267,direction:"up"},{id:1179,lat:4.95,lon:3.65},{id:1180,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1180,label:"classroomLogo"},{id:1181,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1181,label:"classroomLogo"},{id:1182,lat:4.95,lon:4.5},{id:1183,lat:4.57,lon:4.5},{lat:4,lon:4.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1183,label:"classroomLogo"},{id:1184,lat:4.95,lon:5.2},{id:1185,lat:6.05,lon:5.2},{id:1186,lat:6.05,lon:6},{id:1187,lat:6.43,lon:6},{lat:7.1,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1187,label:"classroomLogo"},{id:1188,lat:5.71,lon:6},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1188,label:"classroomLogo"},{id:1189,lat:6.05,lon:6.75},{id:1190,lat:5.67,lon:6.75,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1149,direction:"down"},{id:1191,lat:6.05,lon:7.2},{id:1192,lat:4.8,lon:7.2},{id:1193,lat:4.8,lon:6.75},{id:1194,lat:5.07,lon:6.75,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1284,direction:"up"},{id:1195,lat:6.75,lon:7.2},{id:1196,lat:7.07,lon:7.2},{lat:7.9,lon:6.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1196,label:"classroomLogo"},{id:1197,lat:6.75,lon:7.65},{id:1198,lat:6.47,lon:7.65,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.5,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1198,label:"classroomLogo"},{id:1199,lat:6.75,lon:7.95},{id:1200,lat:6.47,lon:7.95},{lat:5.8,lon:7.65,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1200,label:"classroomLogo"},{id:1201,lat:7.07,lon:7.95},{lat:7.9,lon:7.8,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1201,label:"classroomLogo"},{id:1202,lat:6.75,lon:8.8},{id:1203,lat:7.07,lon:8.8},{lat:7.9,lon:8.9,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1203,label:"classroomLogo"},{id:1204,lat:6.47,lon:8.8}]:t=="CHTMEDS6thFloor"?e=[{id:1260,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1337,direction:"up"},{id:1261,lat:3.5,lon:2.32},{id:1262,lat:3.5,lon:2.8},{id:1263,lat:4.95,lon:2.8},{id:1264,lat:4.95,lon:2.55},{id:1265,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"6th Floor",node:1265,label:"classroomLogo"},{id:1266,lat:4.95,lon:2.32},{id:1267,lat:4.5,lon:2.32,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1122,direction:"down"},{id:1268,lat:4.95,lon:1.85},{id:1269,lat:2.88,lon:1.85},{id:1270,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"6th Floor",node:1270,label:"classroomLogo"},{id:1271,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"6th Floor",node:1271,label:"classroomLogo"},{id:1272,lat:2.88,lon:1.62},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"6th Floor",node:1272,label:"classroomLogo"},{id:1273,lat:4.95,lon:1.58},{id:1274,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"6th Floor",node:1274,label:"classroomLogo"},{id:1275,lat:4.95,lon:1.3},{id:1276,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"6th Floor",node:1276,label:"classroomLogo"},{id:1277,lat:4.95,lon:.75},{id:1278,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"6th Floor",node:1278,label:"classroomLogo"},{id:1279,lat:4.95,lon:3.65},{id:1280,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"6th Floor",node:1280,label:"classroomLogo"},{id:1281,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"6th Floor",node:1281,label:"classroomLogo"},{id:1282,lat:4.95,lon:4.5},{id:1283,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"6th Floor",node:1283,label:"classroomLogo"},{id:1284,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1362,direction:"up"},{id:1285,lat:4.8,lon:6.65},{id:1286,lat:4.8,lon:7.1},{id:1287,lat:6.05,lon:7.1},{id:1288,lat:6.05,lon:6.65},{id:1289,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1194,direction:"down"},{id:1290,lat:6.47,lon:7.6,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.45,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1198,label:"classroomLogo"},{id:1291,lat:4.95,lon:.5},{lat:4.95,lon:.13,title:"classRoom",building:"EDS",floor:"6th Floor",node:1291,label:"classroomLogo"},{id:1292,lat:4.57,lon:.75},{lat:4.3,lon:.5,title:"classRoom",building:"EDS",floor:"6th Floor",node:1292,label:"classroomLogo"}]:t=="CHTMEDS7thFloor"?e=[{id:1330,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1330,direction:"up"},{id:1331,lat:3.5,lon:2.32},{id:1332,lat:3.5,lon:2.8},{id:1333,lat:4.95,lon:2.8},{id:1334,lat:4.95,lon:2.55},{id:1335,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"7th Floor",node:1335,label:"classroomLogo"},{id:1336,lat:4.95,lon:2.32},{id:1337,lat:4.5,lon:2.32,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1122,direction:"down"},{id:1338,lat:4.95,lon:1.85},{id:1339,lat:2.88,lon:1.85},{id:1340,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"7th Floor",node:1340,label:"classroomLogo"},{id:1341,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"7th Floor",node:1341,label:"classroomLogo"},{id:1342,lat:2.88,lon:1.62},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"7th Floor",node:1342,label:"classroomLogo"},{id:1343,lat:4.95,lon:1.58},{id:1344,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"7th Floor",node:1344,label:"classroomLogo"},{id:1345,lat:4.95,lon:1.3},{id:1346,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"7th Floor",node:1346,label:"classroomLogo"},{id:1347,lat:4.95,lon:.75},{id:1348,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"7th Floor",node:1348,label:"classroomLogo"},{id:1349,lat:4.95,lon:.5},{lat:4.95,lon:.13,title:"classRoom",building:"EDS",floor:"7th Floor",node:1349,label:"classroomLogo"},{id:1350,lat:4.57,lon:.75},{lat:4.3,lon:.5,title:"classRoom",building:"EDS",floor:"7th Floor",node:1350,label:"classroomLogo"},{id:1351,lat:4.95,lon:3.65},{id:1352,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"7th Floor",node:1352,label:"classroomLogo"},{id:1353,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"7th Floor",node:1353,label:"classroomLogo"},{id:1354,lat:4.95,lon:4.5},{id:1355,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"7th Floor",node:1355,label:"classroomLogo"},{id:1356,lat:4.95,lon:5},{id:1357,lat:6.07,lon:5},{id:1358,lat:6.07,lon:5.85},{id:1359,lat:6.46,lon:5.85},{lat:7.4,lon:5.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1359,label:"classroomLogo"},{id:1360,lat:5.73,lon:5.85},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1360,label:"classroomLogo"},{id:1361,lat:6.07,lon:6.65},{id:1362,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1284,direction:"down"},{id:1363,lat:6.07,lon:7.1},{id:1364,lat:4.8,lon:7.1},{id:1365,lat:4.8,lon:6.65},{id:1366,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1453,direction:"up"},{id:1367,lat:6.81,lon:7.1},{id:1368,lat:7.13,lon:7.1},{lat:8,lon:6.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1368,label:"classroomLogo"},{id:1369,lat:6.81,lon:7.58},{id:1370,lat:6.49,lon:7.58,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.4,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1370},{id:1371,lat:6.81,lon:7.9},{id:1372,lat:7.13,lon:7.9},{lat:8,lon:7.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1372,label:"classroomLogo"},{id:1373,lat:6.51,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1373,label:"classroomLogo"},{id:1374,lat:6.81,lon:8.8},{id:1375,lat:7.13,lon:8.8},{lat:8,lon:8.9,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1375,label:"classroomLogo"},{id:1376,lat:6.51,lon:8.8},{lat:6.2,lon:8.4,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1376,label:"classroomLogo"}]:t=="CHTMEDS8thFloor"?e=[{id:1410,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1330,direction:"down"},{id:1452,lat:4.95,lon:2.32},{id:1411,lat:4.95,lon:1.85},{id:1412,lat:2.88,lon:1.85},{id:1413,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"8th Floor",node:1413,label:"classroomLogo"},{id:1414,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"8th Floor",node:1414,label:"classroomLogo"},{id:1415,lat:2.88,lon:1.62},{lat:3.3,lon:1,title:"classRoom",building:"EDS",floor:"8th Floor",node:1415,label:"classroomLogo"},{id:1416,lat:4.95,lon:1.58},{id:1417,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"8th Floor",node:1417,label:"classroomLogo"},{id:1418,lat:4.95,lon:1.3},{id:1419,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"8th Floor",node:1419},{id:1420,lat:4.95,lon:.75},{id:1421,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"8th Floor",node:1421,label:"classroomLogo"},{id:1422,lat:4.95,lon:.25},{id:1423,lat:2.5,lon:.25},{id:1424,lat:2.5,lon:.75},{id:1425,lat:2.75,lon:.75,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1500,direction:"up"},{id:1426,lat:4.95,lon:2.55},{id:1427,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"8th Floor",node:1427,label:"classroomLogo"},{id:1428,lat:4.95,lon:3.65},{id:1429,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"8th Floor",node:1429,label:"classroomLogo"},{id:1430,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"8th Floor",node:1430,label:"classroomLogo"},{id:1431,lat:4.95,lon:4.5},{id:1432,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"8th Floor",node:1432,label:"classroomLogo"},{id:1433,lat:4.95,lon:5},{id:1434,lat:6.07,lon:5},{id:1435,lat:6.07,lon:5.85},{id:1436,lat:6.46,lon:5.85},{lat:7.4,lon:5.7,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1436,label:"classroomLogo"},{id:1437,lat:5.73,lon:5.85},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1437,label:"classroomLogo"},{id:1438,lat:6.07,lon:6.65},{id:1453,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1366,direction:"down"},{id:1439,lat:6.07,lon:7.1},{id:1440,lat:4.8,lon:7.1},{id:1441,lat:4.8,lon:6.65},{id:1442,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1515,direction:"up"},{id:1443,lat:6.81,lon:7.1},{id:1444,lat:6.81,lon:7.4},{id:1445,lat:7.13,lon:7.4},{lat:8.3,lon:7.1,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1445,label:"classroomLogo"},{id:1454,lat:6.81,lon:7.58},{id:1446,lat:6.49,lon:7.58,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.4,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1446},{id:1455,lat:6.81,lon:7.9},{id:1456,lat:6.51,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1456,label:"classroomLogo"},{id:1447,lat:6.81,lon:8.4},{id:1448,lat:7.13,lon:8.4},{lat:8.3,lon:8.6,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1448,label:"classroomLogo"},{id:1449,lat:6.51,lon:8.4},{lat:6,lon:8.4,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1449,label:"classroomLogo"},{id:1450,lat:6.81,lon:9.1},{id:1451,lat:6.51,lon:9.1},{lat:6.2,lon:9,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1451,label:"classroomLogo"}]:t=="CHTMEDS9thFloor"?e=[{id:1500,lat:2.75,lon:.75,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1425,direction:"down"},{id:1501,lat:3.65,lon:.75},{id:1502,lat:3.65,lon:1.3},{id:1503,lat:3.65,lon:1.52},{lat:5.5,lon:2.6,title:"classRoom",building:"EDS",floor:"9th Floor",node:1503,label:"classroomLogo"},{id:1504,lat:2.35,lon:1.3},{lat:1.6,lon:1.3,title:"classRoom",building:"EDS",floor:"9th Floor",node:1504,label:"classroomLogo"},{id:1505,lat:4.2,lon:.75},{id:1506,lat:4.2,lon:1.05,label:"elevator",elevatorBuilding:"EDS"},{id:1507,lat:5.95,lon:.75},{id:1508,lat:5.95,lon:.515},{lat:6,lon:.2,title:"classRoom",building:"EDS",floor:"9th Floor",node:1508,label:"classroomLogo"},{id:1509,lat:6.23,lon:.75},{lat:6.55,lon:.4,title:"classRoom",building:"EDS",floor:"9th Floor",node:1509,label:"classroomLogo"},{id:1510,lat:5.05,lon:6.65,label:"leaveButton",destination:"CHTM10thFloor",desti:1600,direction:"up"},{id:1511,lat:4.7,lon:6.65},{id:1512,lat:4.7,lon:7.1},{id:1513,lat:6,lon:7.1},{id:1514,lat:6,lon:6.65},{id:1515,lat:5.68,lon:6.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1442,direction:"down"},{id:1516,lat:6.8,lon:7.1},{id:1517,lat:6.8,lon:6.65},{id:1518,lat:6.8,lon:6.4},{lat:6.8,lon:5.8,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1518,label:"classroomLogo"},{id:1519,lat:6.8,lon:7.55},{id:1520,lat:7.12,lon:7.55},{lat:8.2,lon:7.65,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1520,label:"classroomLogo"},{id:1521,lat:6.5,lon:7.55,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.44,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1521},{id:1522,lat:6.8,lon:7.9},{id:1523,lat:6.52,lon:7.9},{lat:5.8,lon:7.65,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1523,label:"classroomLogo"},{id:1524,lat:6.8,lon:8.4},{id:1525,lat:6.52,lon:8.4},{lat:6.2,lon:8.4,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1525,label:"classroomLogo"}]:t=="CHTM10thFloor"?e=[{id:1600,lat:2.2,lon:3.05,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1510,direction:"down"},{id:1601,lat:4,lon:3.05},{id:1602,lat:4,lon:3.5},{id:1603,lat:4.89,lon:3.5},{lat:7.5,lon:3.5,title:"classRoom",building:"CHTM",floor:"10th Floor",node:1603,label:"classroomLogo"},{id:1604,lat:4.89,lon:4.84,label:"elevator",elevatorBuilding:"CHTM"},{lat:4.5,lon:4.65,title:"classRoom",building:"CHTM",floor:"10th Floor",node:1604}]:t=="BRS1stFloor"?e=[{id:130,lat:8.3,lon:9.65,label:"leaveButton",destination:"science1stFloor",desti:404},{id:131,lat:5,lon:9.65},{id:132,lat:5,lon:8.1},{id:133,lat:5.38,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"1st Floor",node:133,label:"classroomLogo"},{id:134,lat:5,lon:7.1},{id:135,lat:4.66,lon:7.1},{lat:3.4,lon:7,title:"classRoom",building:"BRS",floor:"1st Floor",node:135,label:"classroomLogo"},{id:136,lat:5,lon:5.7},{id:137,lat:5.38,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"1st Floor",node:137,label:"classroomLogo"},{id:138,lat:5,lon:4.3},{id:139,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"1st Floor",node:139,label:"classroomLogo"},{id:140,lat:5,lon:4.17},{id:141,lat:5.4,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"1st Floor",node:141,label:"classroomLogo"},{id:142,lat:5,lon:3.1},{id:143,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"1st Floor",node:143},{id:144,lat:5,lon:1.5},{id:145,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"1st Floor",node:145,label:"classroomLogo"},{id:146,lat:5,lon:.7},{id:147,lat:6.6,lon:.7},{id:148,lat:6.6,lon:1.9},{id:149,lat:6.2,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:115,direction:"up"}]:t=="BRS2ndFloor"?e=[{id:100,lat:8.55,lon:9.65,label:"leaveButton",destination:"science2ndFloor",desti:77},{id:101,lat:5.25,lon:9.65},{id:102,lat:5.25,lon:8.1},{id:103,lat:5.6,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"2nd Floor",node:103,label:"classroomLogo"},{id:104,lat:5.25,lon:7.7},{id:105,lat:4.95,lon:7.7},{lat:3.5,lon:7.6,title:"classRoom",building:"BRS",floor:"2nd Floor",node:105,label:"classroomLogo"},{id:106,lat:5.25,lon:5.7},{id:107,lat:5.6,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:107,label:"classroomLogo"},{id:108,lat:5.25,lon:4.7},{id:109,lat:4.95,lon:4.7},{lat:3.5,lon:4.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:109,label:"classroomLogo"},{id:110,lat:5.25,lon:4.17},{id:111,lat:5.8,lon:4.17},{lat:6.9,lon:3.6,title:"facility",building:"BRS",floor:"2nd Floor",node:111,label:"classroomLogo"},{id:112,lat:5.25,lon:3.1},{id:113,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"",building:"BRS",floor:"2nd Floor",node:113},{id:114,lat:5.25,lon:1.9},{id:115,lat:5.6,lon:1.9,label:"leaveButton",destination:"BRS1stFloor",desti:149,direction:"down"},{id:116,lat:5.25,lon:1.6},{id:117,lat:4.95,lon:1.6},{lat:3.5,lon:1.4,title:"classRoom",building:"BRS",floor:"2nd Floor",node:117,label:"classroomLogo"},{id:118,lat:5.25,lon:.7},{id:119,lat:6.9,lon:.7},{id:120,lat:6.9,lon:1.9},{id:121,lat:6.5,lon:1.9,label:"leaveButton",destination:"BRS3rdFloor",desti:168,direction:"up"}]:t=="BRS3rdFloor"?e=[{id:155,lat:8.3,lon:9.65,label:"leaveButton",destination:"science3rdFloor",desti:532},{id:156,lat:5,lon:9.65},{id:157,lat:5,lon:7.8},{id:158,lat:4.66,lon:7.8},{lat:3.4,lon:7.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:158,label:"classroomLogo"},{id:159,lat:5,lon:7},{id:160,lat:5.38,lon:7},{lat:7,lon:6.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:160,label:"classroomLogo"},{id:161,lat:5,lon:4.3},{id:162,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"3rd Floor",node:162,label:"classroomLogo"},{id:163,lat:5,lon:4.17},{id:164,lat:5.5,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"3rd Floor",node:164,label:"classroomLogo"},{id:165,lat:5,lon:3.1},{id:166,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"3rd Floor",node:166},{id:167,lat:5,lon:1.9},{id:168,lat:5.38,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:121,direction:"down"},{id:169,lat:5,lon:1.5},{id:170,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"3rd Floor",node:170,label:"classroomLogo"},{id:171,lat:5,lon:.7},{id:172,lat:6.6,lon:.7},{id:173,lat:6.6,lon:1.9},{id:174,lat:6.26,lon:1.9,label:"leaveButton",destination:"BRS4thFloor",desti:197,direction:"up"}]:t=="BRS4thFloor"?e=[{id:202,lat:6.28,lon:2.95,label:"leaveButton",destination:"BRS5thFloor",desti:222,direction:"up"},{id:201,lat:6.6,lon:2.95},{id:200,lat:6.6,lon:1.9},{id:199,lat:5.22,lon:1.9},{id:198,lat:5.22,lon:2.45},{id:203,lat:4.9,lon:2.45},{id:204,lat:4.9,lon:1.9},{id:205,lat:4.9,lon:.85},{id:206,lat:5.6,lon:.85,label:"leaveButton",destination:"science4thFloor",desti:624},{id:207,lat:4.9,lon:.1,label:"leaveButton",destination:"main4thFloor",desti:700},{id:196,lat:5.22,lon:2.95},{id:197,lat:5.55,lon:2.95,label:"leaveButton",destination:"BRS3rdFloor",desti:174,direction:"down"},{id:194,lat:5.22,lon:4},{id:195,lat:5.55,lon:4,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:3.9,title:"classRoom",building:"BRS",floor:"4th Floor",node:195},{id:192,lat:5.22,lon:4.5},{id:193,lat:4.93,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:193,label:"classroomLogo"},{id:190,lat:5.22,lon:4.98},{id:191,lat:5.7,lon:4.98},{lat:6.8,lon:4.5,title:"classRoom",building:"BRS",floor:"4th Floor",node:191},{id:188,lat:5.22,lon:6.3},{id:189,lat:5.55,lon:6.3},{lat:6.8,lon:6,title:"classRoom",building:"BRS",floor:"4th Floor",node:189,label:"classroomLogo"},{id:186,lat:5.22,lon:6.55},{id:187,lat:4.93,lon:6.55},{lat:4,lon:6.4,title:"classRoom",building:"BRS",floor:"4th Floor",node:187,label:"classroomLogo"},{id:184,lat:5.22,lon:8.3},{id:185,lat:5.55,lon:8.3},{lat:6.8,lon:8,title:"classRoom",building:"BRS",floor:"4th Floor",node:185,label:"classroomLogo"},{id:182,lat:5.22,lon:8.5},{id:183,lat:4.93,lon:8.5},{lat:4,lon:8.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:183,label:"classroomLogo"},{id:181,lat:5.22,lon:9.67},{id:180,lat:8.05,lon:9.67,label:"leaveButton",destination:"science4thFloor",desti:634},{id:208,lat:1.9,lon:2.45},{lat:2,lon:2.45,title:"classRoom",building:"BRS",floor:"4th Floor",node:208}]:t=="BRS5thFloor"?e=[{id:215,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:237,direction:"up"},{id:216,lat:6.65,lon:1.88},{id:217,lat:6.65,lon:.65},{id:218,lat:4.95,lon:.65},{id:219,lat:4.95,lon:1.4},{id:220,lat:4.66,lon:1.4},{lat:3.3,lon:3.4,title:"classRoom",building:"BRS",floor:"5th Floor",node:220},{id:221,lat:4.95,lon:1.88},{id:222,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS4thFloor",desti:202,direction:"down"},{id:223,lat:4.95,lon:3.1},{id:224,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"5th Floor",node:224},{id:225,lat:4.95,lon:4.15},{id:226,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"5th Floor",node:226},{lat:7.5,lon:6.5,title:"classRoom",building:"BRS",floor:"5th Floor",node:227}]:t=="BRS6thFloor"?e=[{id:230,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:262,direction:"up"},{id:231,lat:6.65,lon:1.88},{id:232,lat:6.65,lon:.65},{id:233,lat:4.95,lon:.65},{id:234,lat:4.95,lon:1.2},{id:235,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"6th Floor",node:235},{id:236,lat:4.95,lon:1.88},{id:237,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS5thFloor",desti:215,direction:"down"},{id:238,lat:4.95,lon:3.1},{id:239,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"6th Floor",node:239},{id:240,lat:4.95,lon:4.15},{id:241,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"6th Floor",node:241},{id:242,lat:4.66,lon:4.15},{id:243,lat:4.95,lon:7},{id:244,lat:4.66,lon:7},{id:245,lat:5.4,lon:7},{lat:7.5,lon:6.8,title:"classRoom",building:"BRS",floor:"6th Floor",node:245},{id:246,lat:4.95,lon:9.65},{id:247,lat:5.4,lon:9.65},{lat:3.3,lon:5,title:"classRoom",building:"BRS",floor:"6th Floor",node:248}]:t=="BRS7thFloor"?e=[{id:255,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:287,direction:"up"},{id:256,lat:6.65,lon:1.88},{id:257,lat:6.65,lon:.65},{id:258,lat:4.95,lon:.65},{id:259,lat:4.95,lon:1.2},{id:260,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"7th Floor",node:260},{id:261,lat:4.95,lon:1.88},{id:262,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:230,direction:"down"},{id:263,lat:4.95,lon:3.1},{id:264,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:264},{id:265,lat:4.95,lon:3.5},{id:266,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"7th Floor",node:266},{id:267,lat:4.95,lon:4.15},{id:268,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"7th Floor",node:268},{id:269,lat:4.95,lon:5.8},{id:270,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:270},{id:271,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:271},{id:272,lat:4.95,lon:8.1},{id:273,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"7th Floor",node:273},{id:274,lat:4.95,lon:8.6},{id:275,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:275}]:t=="BRS8thFloor"?e=[{id:280,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS9thFloor",desti:312,direction:"up"},{id:281,lat:6.65,lon:1.88},{id:282,lat:6.65,lon:.65},{id:283,lat:4.95,lon:.65},{id:284,lat:4.95,lon:1.2},{id:285,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"8th Floor",node:285},{id:286,lat:4.95,lon:1.88},{id:287,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:255,direction:"down"},{id:288,lat:4.95,lon:3.1},{id:289,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:289},{id:290,lat:4.95,lon:3.5},{id:291,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"8th Floor",node:291},{id:292,lat:4.95,lon:4.15},{id:293,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"8th Floor",node:293},{id:294,lat:4.95,lon:5.8},{id:295,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:295},{id:296,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:296},{id:297,lat:4.95,lon:8.1},{id:298,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"8th Floor",node:298},{id:299,lat:4.95,lon:8.6},{id:300,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:300}]:t=="BRS9thFloor"?e=[{id:305,lat:6.4,lon:1,label:"leaveButton",destination:"BRS10thFloor",desti:1040,direction:"up"},{id:306,lat:6.65,lon:1},{id:307,lat:6.65,lon:.45},{id:308,lat:4.95,lon:.45},{id:309,lat:4.95,lon:1.2},{id:310,lat:4.43,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"9th Floor",node:310},{id:311,lat:4.95,lon:1.88},{id:312,lat:5.6,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:280,direction:"down"},{id:313,lat:4.95,lon:3.1},{id:314,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:2.9,title:"classRoom",building:"BRS",floor:"9th Floor",node:314},{id:315,lat:4.95,lon:3.5},{id:316,lat:4.43,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"9th Floor",node:316},{id:317,lat:4.95,lon:4.15},{id:318,lat:5.7,lon:4.15},{lat:6.8,lon:3.6,title:"classRoom",building:"BRS",floor:"9th Floor",node:318},{id:319,lat:4.95,lon:5.3},{id:320,lat:5.6,lon:5.3},{lat:7.5,lon:5,title:"classRoom",building:"BRS",floor:"9th Floor",node:320},{id:321,lat:4.95,lon:5.8},{id:322,lat:4.43,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"9th Floor",node:322},{id:323,lat:4.95,lon:7.2},{id:324,lat:5.6,lon:7.2},{lat:7.5,lon:7,title:"classRoom",building:"BRS",floor:"9th Floor",node:324},{id:325,lat:4.95,lon:8.1},{id:326,lat:4.43,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:326},{id:327,lat:4.95,lon:9.15},{id:328,lat:5.6,lon:9.15},{lat:7.5,lon:8.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:328}]:t=="BRS10thFloor"?e=[{id:1040,lat:5.6,lon:1,label:"leaveButton",destination:"BRS9thFloor",desti:305,direction:"down"},{id:1041,lat:5,lon:1},{id:1042,lat:5,lon:1.2},{id:1043,lat:4.4,lon:1.2},{lat:3.3,lon:1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1043,label:"classroomLogo"},{id:1044,lat:5,lon:1.9},{id:1061,lat:5.62,lon:1.9},{id:1045,lat:5,lon:3.1},{id:1046,lat:5.62,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"classRoom",building:"BRS",floor:"10th Floor",node:1046},{id:1047,lat:5,lon:3.5},{id:1048,lat:4.4,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"10th Floor",node:1048,label:"classroomLogo"},{id:1049,lat:5,lon:5.8},{id:1050,lat:3.88,lon:5.8},{lat:2.8,lon:5.55,title:"classRoom",building:"BRS",floor:"10th Floor",node:1050,label:"classroomLogo"},{id:1051,lat:5,lon:7.1},{id:1052,lat:5.62,lon:7.1},{lat:7.2,lon:7.1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1052,label:"classroomLogo"},{id:1053,lat:5,lon:8},{id:1054,lat:4.6,lon:8},{id:1055,lat:3.88,lon:8},{lat:2.8,lon:7.8,title:"classRoom",building:"BRS",floor:"10th Floor",node:1055,label:"classroomLogo"},{id:1056,lat:4.6,lon:9},{id:1057,lat:4.2,lon:9},{id:1058,lat:4.2,lon:9.23},{id:1059,lat:5.35,lon:9},{id:1060,lat:5.35,lon:9.23},{lat:7.2,lon:8.85,title:"classRoom",building:"BRS",floor:"10th Floor",node:1060,label:"classroomLogo"}]:t=="mainGroundFloor"&&(e=[{id:1700,lat:5.1,lon:.7},{lat:5.1,lon:.5,title:"classRoom",building:"Main",floor:"Ground Floor",node:1700},{id:1701,lat:5.1,lon:2.2},{id:1702,lat:6.2,lon:2.2,label:"leaveButton",destination:"science2ndFloor",desti:86,direction:"up"}]),e}function jx(){return["U1001","U1002","U1003","U1004","U1005","U1006","Legal Office","U104","U105","U102","U103","U101","MassCom E-Laboratory","U204","U203","U205","U202","U201","U304","U303","U302","U301","CITCS Multi-Media Room","Video Conference Room","U404","U405","U403","U402","U401","GATE 3","U501","General Collection Library","U601","U602","U603","U602","U603","MOOT COURT","COL Library","COL Faculty Office","Barrister Office","U701","U702","U703","U704","U705","U706","U801","U802","U803","U804","U805","U806","U901","U902","U903","U904","U905","U906","U907","F101A","Canao Restaurant & Creative Hall","F400","F401","F402","F405","Alumni Office","Medical Clinic","Occupational Safety & Health Office","TRIBU","VP for Academics & Research","F501","F502","F503","F504","F506","F701","F702","F703","F704","F705","F801","F802A","F801B","F803","F804","F805","CHTM Faculty Office","CBA Admin Staff/Faculty Office","CBA Consultation Room","CBA Dean Office","F901","F902","F903","Food&Beverage Dry Store & Supply Room","N2001","N2002","N2003","N2009","N2004","Nursing Arts Lab Supply","Building & Maintenance Office","Nursing Skills Lab","N3001","N3002","N3004","N3007","N3006","N3005","E-Learning","Facility Management Office","CITCS Open Lab","CYPRESS","N4001","N4003","N4004","N4007","N4005","Cashier","Registrar Extension","CAS Dean Office","CAS Faculty Office","GATE 2","N5001","N5003","N5004","N5007","N5005"," Graduate Program Library / Theses and Dissertations","CON Faculty Office","N6001","N6002","N6003","N6004","N6007","N6006","N6005","N6008","Public Affairs Office","Web&Graphics","CON Consultation Room","KAPATIRAN","N7001","N7002","N7003","N7004","N7005","N7006","N7007","N7008","N8001","N8002","N8003","N8004","N8005","N8006","N8007","Health Center","N9001","N9002","AUDITORIUM","Sanctuary","M201","M202","M203","M203b","M204","M206","M208","M209","M210","M211","COA Consultation","COA Faculty Office","COA Faculty Extension Office","Dental Clinic","Simulation Room","M301","M302","M303","M304","M305","M306","M307","CITCS Office","Multi-Media Room","M401","M402","M403","M404","M405","M406","M407","M408","BOT-HQ","Registrar","Vice-President for Administration Office","Accounting Office","Disbursing Office","President's Office","President's Office","GATE 1","M500","M501","M503","Main Library","Marketing Communications & Enrollment","Human Resources Dev. Office","THEATER","M601","GATE 5","G201","G202","G203","G204","G301","G308","G311","G312","G313","G314","G302","G303","G304","G305","G306","LMO Storage Room","Female Shower/Dressing Room","Male Shower/Dressing Room","Wellness Center","Dance Hall","Creative Production Office","Univeristy Student Council","The Alternatives","Physchological Testing Unit","Crime Scene Lab","Observation Room","Firing Range","G401","G402","G403","Combat Sports Gym","Office of Student Welfare Service","G502","G503","G504","Academic Director Office & Faculty Room","S002","S003","S007","S009","S011","S013","S015","S017","S019","S022","S021","S016","S014","S012","S010","S008","S006","S004","OneStop School Items","Logistic Management Office","Student Lounge","S107","S111","S116","S118","S121","S123","S120","S117","S115","S114","S113","S113b","S122","S112","S109","S109","S108","S106","S214","S213","S215","S216","S218","S243","S217","S220","S226","S227","S228","S229","S232","S238","S240","S242","S221","S225","S231","S233","S235","S237","S234","S236","S230","S224B","S224","S223","CEA Faculty Office","CpE Laboratory","CTE Dean Office","CTE faculty Office","CEA Computer Laboratory","Student Dev&Welfare office","Ideation Room","S314","S316","S312","S311","S309","S310","S307","S319","S318","S320","S321","S322","S315","S313","Research Service Office","ETEEAP","ITSS/MIS","Printing Service","S410","S409","S408","S406","S407","S413","S414","S415","S416","Office of Student Affairs & Services","Office of Quality Assurance","Architecture & FineArts Extension Office","S501","S502","S503","S504","S601","S602","S603","S604","S605","S606","Intergrated School Training & assesment Center","Registrar's Office for K, GS, JHS","Science Supply Room","Grade School & Junior High School Medical Clinic","Physics Faculty Room","Soil Mechanics/Material Testing Lab","Hydro/Fluid Mechanics Material Testing Lab","Integrated School Faculty Office","GATE 6"]}const Gx="/Mapa-UC/assets/UpArrow-YGzUSuWO.png",Zx="/Mapa-UC/assets/DownArrow-hW0x4lvo.png",Yx="/Mapa-UC/assets/instructions-WcyJBeM-.png";var Bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(t,e){if(!t)throw xa(e)},xa=function(t){return new Error("Firebase Database ("+$2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let l=t.charCodeAt(o);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++o)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Xx=function(t){const e=[];let n=0,o=0;for(;n<t.length;){const l=t[n++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=t[n++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=t[n++],m=t[n++],v=t[n++],C=((l&7)<<18|(c&63)<<12|(m&63)<<6|v&63)-65536;e[o++]=String.fromCharCode(55296+(C>>10)),e[o++]=String.fromCharCode(56320+(C&1023))}else{const c=t[n++],m=t[n++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|m&63)}}return e.join("")},pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<t.length;l+=3){const c=t[l],m=l+1<t.length,v=m?t[l+1]:0,C=l+2<t.length,y=C?t[l+2]:0,N=c>>2,T=(c&3)<<4|v>>4;let D=(v&15)<<2|y>>6,W=y&63;C||(W=64,m||(D=64)),o.push(n[N],n[T],n[D],n[W])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<t.length;){const c=n[t.charAt(l++)],v=l<t.length?n[t.charAt(l)]:0;++l;const y=l<t.length?n[t.charAt(l)]:64;++l;const T=l<t.length?n[t.charAt(l)]:64;if(++l,c==null||v==null||y==null||T==null)throw new Qx;const D=c<<2|v>>4;if(o.push(D),y!==64){const W=v<<4&240|y>>2;if(o.push(W),T!==64){const X=y<<6&192|T;o.push(X)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e_=function(t){const e=J2(t);return pf.encodeByteArray(e,!0)},pc=function(t){return e_(t).replace(/\./g,"")},$h=function(t){try{return pf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){return t_(void 0,t)}function t_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qx(n)||(t[n]=t_(t[n],e[n]));return t}function qx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=()=>$x().__FIREBASE_DEFAULTS__,e5=()=>{if(typeof process>"u"||typeof Bg>"u")return;const t=Bg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$h(t[1]);return e&&JSON.parse(e)},n_=()=>{try{return Jx()||e5()||t5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n5=t=>{var e,n;return(n=(e=n_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i5=t=>{const e=n5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},i_=()=>{var t;return(t=n_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",l=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pc(JSON.stringify(n)),pc(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(r5())}function s5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r_(){return $2.NODE_ADMIN===!0}function a5(){try{return typeof indexedDB=="object"}catch{return!1}}function l5(){return new Promise((t,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),t(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="FirebaseError";class Yl extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=d5,Object.setPrototypeOf(this,Yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s_.prototype.create)}}class s_{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],m=c?c5(c,o):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new Yl(l,v,o)}}function c5(t,e){return t.replace(u5,(n,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const u5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return JSON.parse(t)}function On(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(t){let e={},n={},o={},l="";try{const c=t.split(".");e=Ll($h(c[0])||""),n=Ll($h(c[1])||""),l=c[2],o=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:o,signature:l}},h5=function(t){const e=a_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},f5=function(t){const e=a_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mc(t,e,n){const o={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(o[l]=e.call(n,t[l],l,t));return o}function Jh(t,e){if(t===e)return!0;const n=Object.keys(t),o=Object.keys(e);for(const l of n){if(!o.includes(l))return!1;const c=t[l],m=e[l];if(Ug(c)&&Ug(m)){if(!Jh(c,m))return!1}else if(c!==m)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function Ug(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){const e=[];for(const[n,o]of Object.entries(t))Array.isArray(o)?o.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const o=this.W_;if(typeof e=="string")for(let T=0;T<16;T++)o[T]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let T=0;T<16;T++)o[T]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let T=16;T<80;T++){const D=o[T-3]^o[T-8]^o[T-14]^o[T-16];o[T]=(D<<1|D>>>31)&4294967295}let l=this.chain_[0],c=this.chain_[1],m=this.chain_[2],v=this.chain_[3],C=this.chain_[4],y,N;for(let T=0;T<80;T++){T<40?T<20?(y=v^c&(m^v),N=1518500249):(y=c^m^v,N=1859775393):T<60?(y=c&m|v&(c|m),N=2400959708):(y=c^m^v,N=3395469782);const D=(l<<5|l>>>27)+y+C+N+o[T]&4294967295;C=v,v=m,m=(c<<30|c>>>2)&4294967295,c=l,l=D}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+v&4294967295,this.chain_[4]=this.chain_[4]+C&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const o=n-this.blockSize;let l=0;const c=this.buf_;let m=this.inbuf_;for(;l<n;){if(m===0)for(;l<=o;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(c[m]=e.charCodeAt(l),++m,++l,m===this.blockSize){this.compress_(c),m=0;break}}else for(;l<n;)if(c[m]=e[l],++m,++l,m===this.blockSize){this.compress_(c),m=0;break}}this.inbuf_=m,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let c=24;c>=0;c-=8)e[o]=this.chain_[l]>>c&255,++o;return e}}function l_(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let l=t.charCodeAt(o);if(l>=55296&&l<=56319){const c=l-55296;o++,ge(o<t.length,"Surrogate pair missing trail surrogate.");const m=t.charCodeAt(o)-56320;l=65536+(c<<10)+m}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Kc=function(t){let e=0;for(let n=0;n<t.length;n++){const o=t.charCodeAt(n);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){return t&&t._delegate?t._delegate:t}class Ol{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new mf;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y5(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[c,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(c);o===v&&m.resolve(l)}return l}onInit(e,n){var o;const l=this.normalizeInstanceIdentifier(n),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(l,c);const m=this.instances.get(l);return m&&e(m,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:E5(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E5(t){return t===es?void 0:t}function y5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const v5={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},w5=Bt.INFO,C5={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},S5=(t,e,...n)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),l=C5[e];if(l)console[l](`[${o}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=w5,this._logHandler=S5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const A5=(t,e)=>e.some(n=>t instanceof n);let zg,Hg;function T5(){return zg||(zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I5(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,e1=new WeakMap,u_=new WeakMap,Wu=new WeakMap,_f=new WeakMap;function b5(t){const e=new Promise((n,o)=>{const l=()=>{t.removeEventListener("success",c),t.removeEventListener("error",m)},c=()=>{n(Mr(t.result)),l()},m=()=>{o(t.error),l()};t.addEventListener("success",c),t.addEventListener("error",m)});return e.then(n=>{n instanceof IDBCursor&&c_.set(n,t)}).catch(()=>{}),_f.set(e,t),e}function N5(t){if(e1.has(t))return;const e=new Promise((n,o)=>{const l=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",m),t.removeEventListener("abort",m)},c=()=>{n(),l()},m=()=>{o(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",c),t.addEventListener("error",m),t.addEventListener("abort",m)});e1.set(t,e)}let t1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R5(t){t1=t(t1)}function M5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=t.call(Vu(this),e,...n);return u_.set(o,e.sort?e.sort():[e]),Mr(o)}:I5().includes(t)?function(...e){return t.apply(Vu(this),e),Mr(c_.get(this))}:function(...e){return Mr(t.apply(Vu(this),e))}}function L5(t){return typeof t=="function"?M5(t):(t instanceof IDBTransaction&&N5(t),A5(t,T5())?new Proxy(t,t1):t)}function Mr(t){if(t instanceof IDBRequest)return b5(t);if(Wu.has(t))return Wu.get(t);const e=L5(t);return e!==t&&(Wu.set(t,e),_f.set(e,t)),e}const Vu=t=>_f.get(t);function O5(t,e,{blocked:n,upgrade:o,blocking:l,terminated:c}={}){const m=indexedDB.open(t,e),v=Mr(m);return o&&m.addEventListener("upgradeneeded",C=>{o(Mr(m.result),C.oldVersion,C.newVersion,Mr(m.transaction),C)}),n&&m.addEventListener("blocked",C=>n(C.oldVersion,C.newVersion,C)),v.then(C=>{c&&C.addEventListener("close",()=>c()),l&&C.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),v}const D5=["get","getKey","getAll","getAllKeys","count"],P5=["put","add","delete","clear"],ju=new Map;function Wg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ju.get(e))return ju.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,l=P5.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||D5.includes(n)))return;const c=async function(m,...v){const C=this.transaction(m,l?"readwrite":"readonly");let y=C.store;return o&&(y=y.index(v.shift())),(await Promise.all([y[n](...v),l&&C.done]))[0]};return ju.set(e,c),c}R5(t=>({...t,get:(e,n,o)=>Wg(e,n)||t.get(e,n,o),has:(e,n)=>!!Wg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B5(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function B5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n1="@firebase/app",Vg="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new d_("@firebase/app"),k5="@firebase/app-compat",U5="@firebase/analytics-compat",z5="@firebase/analytics",H5="@firebase/app-check-compat",W5="@firebase/app-check",V5="@firebase/auth",j5="@firebase/auth-compat",G5="@firebase/database",Z5="@firebase/database-compat",Y5="@firebase/functions",X5="@firebase/functions-compat",Q5="@firebase/installations",K5="@firebase/installations-compat",q5="@firebase/messaging",$5="@firebase/messaging-compat",J5="@firebase/performance",ev="@firebase/performance-compat",tv="@firebase/remote-config",nv="@firebase/remote-config-compat",iv="@firebase/storage",ov="@firebase/storage-compat",rv="@firebase/firestore",sv="@firebase/firestore-compat",av="firebase",lv="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="[DEFAULT]",dv={[n1]:"fire-core",[k5]:"fire-core-compat",[z5]:"fire-analytics",[U5]:"fire-analytics-compat",[W5]:"fire-app-check",[H5]:"fire-app-check-compat",[V5]:"fire-auth",[j5]:"fire-auth-compat",[G5]:"fire-rtdb",[Z5]:"fire-rtdb-compat",[Y5]:"fire-fn",[X5]:"fire-fn-compat",[Q5]:"fire-iid",[K5]:"fire-iid-compat",[q5]:"fire-fcm",[$5]:"fire-fcm-compat",[J5]:"fire-perf",[ev]:"fire-perf-compat",[tv]:"fire-rc",[nv]:"fire-rc-compat",[iv]:"fire-gcs",[ov]:"fire-gcs-compat",[rv]:"fire-fst",[sv]:"fire-fst-compat","fire-js":"fire-js",[av]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,o1=new Map;function cv(t,e){try{t.container.addComponent(e)}catch(n){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ec(t){const e=t.name;if(o1.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;o1.set(e,t);for(const n of _c.values())cv(n,t);return!0}function uv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lr=new s_("app","Firebase",hv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=lv;function h_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const o=Object.assign({name:i1,automaticDataCollectionEnabled:!1},e),l=o.name;if(typeof l!="string"||!l)throw Lr.create("bad-app-name",{appName:String(l)});if(n||(n=i_()),!n)throw Lr.create("no-options");const c=_c.get(l);if(c){if(Jh(n,c.options)&&Jh(o,c.config))return c;throw Lr.create("duplicate-app",{appName:l})}const m=new x5(l);for(const C of o1.values())m.addComponent(C);const v=new fv(n,o,m);return _c.set(l,v),v}function pv(t=i1){const e=_c.get(t);if(!e&&t===i1&&i_())return h_();if(!e)throw Lr.create("no-app",{appName:t});return e}function ta(t,e,n){var o;let l=(o=dv[t])!==null&&o!==void 0?o:t;n&&(l+=`-${n}`);const c=l.match(/\s|\//),m=e.match(/\s|\//);if(c||m){const v=[`Unable to register library "${l}" with version "${e}":`];c&&v.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&m&&v.push("and"),m&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(v.join(" "));return}Ec(new Ol(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="firebase-heartbeat-database",_v=1,Dl="firebase-heartbeat-store";let Gu=null;function f_(){return Gu||(Gu=O5(mv,_v,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Gu}async function Ev(t){try{const n=(await f_()).transaction(Dl),o=await n.objectStore(Dl).get(g_(t));return await n.done,o}catch(e){if(e instanceof Yl)gs.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(n.message)}}}async function jg(t,e){try{const o=(await f_()).transaction(Dl,"readwrite");await o.objectStore(Dl).put(e,g_(t)),await o.done}catch(n){if(n instanceof Yl)gs.warn(n.message);else{const o=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gs.warn(o.message)}}}function g_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=1024,xv=30*24*60*60*1e3;class vv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cv(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Gg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(m=>m.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(m=>{const v=new Date(m.date).valueOf();return Date.now()-v<=xv}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gg(),{heartbeatsToSend:o,unsentEntries:l}=wv(this._heartbeatsCache.heartbeats),c=pc(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}}function Gg(){return new Date().toISOString().substring(0,10)}function wv(t,e=yv){const n=[];let o=t.slice();for(const l of t){const c=n.find(m=>m.agent===l.agent);if(c){if(c.dates.push(l.date),Zg(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Zg(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class Cv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a5()?l5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ev(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return jg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return jg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Zg(t){return pc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){Ec(new Ol("platform-logger",e=>new F5(e),"PRIVATE")),Ec(new Ol("heartbeat",e=>new vv(e),"PRIVATE")),ta(n1,Vg,t),ta(n1,Vg,"esm2017"),ta("fire-js","")}Sv("");var Av="firebase",Tv="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(Av,Tv,"app");var Yg={};const Xg="@firebase/database",Qg="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_="";function Iv(t){p_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),On(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ll(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bv(e)}}catch{}return new Nv},rs=m_("localStorage"),r1=m_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new d_("@firebase/database"),Rv=function(){let t=1;return function(){return t++}}(),__=function(t){const e=m5(t),n=new p5;n.update(e);const o=n.digest();return pf.encodeByteArray(o)},Xl=function(...t){let e="";for(let n=0;n<t.length;n++){const o=t[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=Xl.apply(null,o):typeof o=="object"?e+=On(o):e+=o,e+=" "}return e};let ls=null,Kg=!0;const Mv=function(t,e){ge(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(na.logLevel=Bt.VERBOSE,ls=na.log.bind(na),e&&r1.set("logging_enabled",!0)):typeof t=="function"?ls=t:(ls=null,r1.remove("logging_enabled"))},Yn=function(...t){if(Kg===!0&&(Kg=!1,ls===null&&r1.get("logging_enabled")===!0&&Mv(!0)),ls){const e=Xl.apply(null,t);ls(e)}},Ql=function(t){return function(...e){Yn(t,...e)}},s1=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xl(...t);na.error(e)},Jo=function(...t){const e=`FIREBASE FATAL ERROR: ${Xl(...t)}`;throw na.error(e),new Error(e)},Ii=function(...t){const e="FIREBASE WARNING: "+Xl(...t);na.warn(e)},Lv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},E_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ov=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ga="[MIN_NAME]",ps="[MAX_NAME]",va=function(t,e){if(t===e)return 0;if(t===ga||e===ps)return-1;if(e===ga||t===ps)return 1;{const n=qg(t),o=qg(e);return n!==null?o!==null?n-o===0?t.length-e.length:n-o:-1:o!==null?1:t<e?-1:1}},Dv=function(t,e){return t===e?0:t<e?-1:1},Xa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+On(e))},Ef=function(t){if(typeof t!="object"||t===null)return On(t);const e=[];for(const o in t)e.push(o);e.sort();let n="{";for(let o=0;o<e.length;o++)o!==0&&(n+=","),n+=On(e[o]),n+=":",n+=Ef(t[e[o]]);return n+="}",n},y_=function(t,e){const n=t.length;if(n<=e)return[t];const o=[];for(let l=0;l<n;l+=e)l+e>n?o.push(t.substring(l,n)):o.push(t.substring(l,l+e));return o};function mi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const x_=function(t){ge(!E_(t),"Invalid JSON number");const e=11,n=52,o=(1<<e-1)-1;let l,c,m,v,C;t===0?(c=0,m=0,l=1/t===-1/0?1:0):(l=t<0,t=Math.abs(t),t>=Math.pow(2,1-o)?(v=Math.min(Math.floor(Math.log(t)/Math.LN2),o),c=v+o,m=Math.round(t*Math.pow(2,n-v)-Math.pow(2,n))):(c=0,m=Math.round(t/Math.pow(2,1-o-n))));const y=[];for(C=n;C;C-=1)y.push(m%2?1:0),m=Math.floor(m/2);for(C=e;C;C-=1)y.push(c%2?1:0),c=Math.floor(c/2);y.push(l?1:0),y.reverse();const N=y.join("");let T="";for(C=0;C<64;C+=8){let D=parseInt(N.substr(C,8),2).toString(16);D.length===1&&(D="0"+D),T=T+D}return T.toLowerCase()},Pv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Fv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Bv(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const o=new Error(t+" at "+e._path.toString()+": "+n);return o.code=t.toUpperCase(),o}const kv=new RegExp("^-?(0*)\\d{1,10}$"),Uv=-2147483648,zv=2147483647,qg=function(t){if(kv.test(t)){const e=Number(t);if(e>=Uv&&e<=zv)return e}return null},Kl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ii("Exception was thrown by user callback.",n),e},Math.floor(0))}},Hv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ul=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(o=>this.appCheck=o)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(o=>o.addTokenListener(e))}notifyForInvalidToken(){Ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,o){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ii(e)}}class ia{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ia.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="5",v_="v",w_="s",C_="r",S_="f",A_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T_="ls",I_="p",a1="ac",b_="websocket",N_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,o,l,c=!1,m="",v=!1,C=!1){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=c,this.persistenceKey=m,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=C,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function jv(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function M_(t,e,n){ge(typeof e=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let o;if(e===b_)o=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===N_)o=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);jv(t)&&(n.ns=t.namespace);const l=[];return mi(n,(c,m)=>{l.push(c+"="+m)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.counters_={}}incrementCounter(e,n=1){tr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Kx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu={},Yu={};function xf(t){const e=t.toString();return Zu[e]||(Zu[e]=new Gv),Zu[e]}function Zv(t,e){const n=t.toString();return Yu[n]||(Yu[n]=e()),Yu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Kl(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="start",Xv="close",Qv="pLPCommand",Kv="pRTLPCB",L_="id",O_="pw",D_="ser",qv="cb",$v="seg",Jv="ts",ew="d",tw="dframe",P_=1870,F_=30,nw=P_-F_,iw=25e3,ow=3e4;class Ys{constructor(e,n,o,l,c,m,v){this.connId=e,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=c,this.transportSessionId=m,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ql(e),this.stats_=xf(n),this.urlFn=C=>(this.appCheckToken&&(C[a1]=this.appCheckToken),M_(n,N_,C))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ow)),Ov(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vf((...c)=>{const[m,v,C,y,N]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===$g)this.id=v,this.password=C;else if(m===Xv)v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...c)=>{const[m,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(m,v)},()=>{this.onClosed_()},this.urlFn);const o={};o[$g]="t",o[D_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[qv]=this.scriptTagHolder.uniqueCallbackIdentifier),o[v_]=yf,this.transportSessionId&&(o[w_]=this.transportSessionId),this.lastSessionId&&(o[T_]=this.lastSessionId),this.applicationId&&(o[I_]=this.applicationId),this.appCheckToken&&(o[a1]=this.appCheckToken),typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(o[C_]=S_);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ys.forceAllow_=!0}static forceDisallow(){Ys.forceDisallow_=!0}static isAvailable(){return Ys.forceAllow_?!0:!Ys.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Pv()&&!Fv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=On(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=e_(n),l=y_(o,nw);for(let c=0;c<l.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[c]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[tw]="t",o[L_]=e,o[O_]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=On(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class vf{constructor(e,n,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Rv(),window[Qv+this.uniqueCallbackIdentifier]=e,window[Kv+this.uniqueCallbackIdentifier]=n,this.myIFrame=vf.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(v){Yn("frame writing exception"),v.stack&&Yn(v.stack),Yn(v)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yn("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[L_]=this.myID,e[O_]=this.myPW,e[D_]=this.currentSerial;let n=this.urlFn(e),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+F_+o.length<=P_;){const m=this.pendingSegs.shift();o=o+"&"+$v+l+"="+m.seg+"&"+Jv+l+"="+m.ts+"&"+ew+l+"="+m.d,l++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,o){this.pendingSegs.push({seg:e,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(iw)),c=()=>{clearTimeout(l),o()};this.addTag(e,c)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{Yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=16384,sw=45e3;let yc=null;typeof MozWebSocket<"u"?yc=MozWebSocket:typeof WebSocket<"u"&&(yc=WebSocket);class ao{constructor(e,n,o,l,c,m,v){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ql(this.connId),this.stats_=xf(n),this.connURL=ao.connectionURL_(n,m,v,l,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,o,l,c){const m={};return m[v_]=yf,typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(m[C_]=S_),n&&(m[w_]=n),o&&(m[T_]=o),l&&(m[a1]=l),c&&(m[I_]=c),M_(e,b_,m)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rs.set("previous_websocket_failure",!0);try{let o;r_(),this.mySock=new yc(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){ao.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&yc!==null&&!ao.forceDisallow_}static previouslyFailed(){return rs.isInMemoryStorage||rs.get("previous_websocket_failure")===!0}markConnectionHealthy(){rs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=Ll(n);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const n=On(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=y_(n,rw);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ao.responsesRequiredToBeHealthy=2;ao.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ys,ao]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ao&&ao.isAvailable();let o=n&&!ao.previouslyFailed();if(e.webSocketOnly&&(n||Ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ao];else{const l=this.transports_=[];for(const c of Pl.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);Pl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=6e4,lw=5e3,dw=10*1024,cw=100*1024,Xu="t",Jg="d",uw="s",ep="r",hw="e",tp="o",np="a",ip="n",op="p",fw="h";class gw{constructor(e,n,o,l,c,m,v,C,y,N){this.id=e,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=c,this.onMessage_=m,this.onReady_=v,this.onDisconnect_=C,this.onKill_=y,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ql("c:"+this.id+":"),this.transportManager_=new Pl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ul(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>cw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xu in e){const n=e[Xu];n===np?this.upgradeIfSecondaryHealthy_():n===ep?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xa("t",e),o=Xa("d",e);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:op,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:np,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ip,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xa("t",e),o=Xa("d",e);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xa(Xu,e);if(Jg in e){const o=e[Jg];if(n===fw){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===ip){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===uw?this.onConnectionShutdown_(o):n===ep?this.onReset_(o):n===hw?s1("Server Error: "+o):n===tp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):s1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,o=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yf!==o&&Ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),ul(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ul(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:op,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{put(e,n,o,l){}merge(e,n,o,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,o){}onDisconnectMerge(e,n,o){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(e,n,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:o});const l=this.getInitialEvent(e);l&&n.apply(o,l)}off(e,n,o){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let c=0;c<l.length;c++)if(l[c].callback===n&&(!o||o===l[c].context)){l.splice(c,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends k_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!o_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xc}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=32,sp=768;class Lt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function xt(){return new Lt("")}function lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Br(t){return t.pieces_.length-t.pieceNum_}function kt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Lt(t.pieces_,e)}function U_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function z_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function H_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Lt(e,0)}function vn(t,e){const n=[];for(let o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);if(e instanceof Lt)for(let o=e.pieceNum_;o<e.pieces_.length;o++)n.push(e.pieces_[o]);else{const o=e.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new Lt(n,0)}function dt(t){return t.pieceNum_>=t.pieces_.length}function ui(t,e){const n=lt(t),o=lt(e);if(n===null)return e;if(n===o)return ui(kt(t),kt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wf(t,e){if(Br(t)!==Br(e))return!1;for(let n=t.pieceNum_,o=e.pieceNum_;n<=t.pieces_.length;n++,o++)if(t.pieces_[n]!==e.pieces_[o])return!1;return!0}function lo(t,e){let n=t.pieceNum_,o=e.pieceNum_;if(Br(t)>Br(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[o])return!1;++n,++o}return!0}class mw{constructor(e,n){this.errorPrefix_=n,this.parts_=z_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Kc(this.parts_[o]);W_(this)}}function _w(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Kc(e),W_(t)}function Ew(t){const e=t.parts_.pop();t.byteLength_-=Kc(e),t.parts_.length>0&&(t.byteLength_-=1)}function W_(t){if(t.byteLength_>sp)throw new Error(t.errorPrefix_+"has a key path longer than "+sp+" bytes ("+t.byteLength_+").");if(t.parts_.length>rp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rp+") or object contains a cycle "+ts(t))}function ts(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends k_{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Cf}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=1e3,yw=60*5*1e3,ap=30*1e3,xw=1.3,vw=3e4,ww="server_kill",lp=3;class Xo extends B_{constructor(e,n,o,l,c,m,v,C){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=C,this.id=Xo.nextPersistentConnectionId_++,this.log_=Ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=yw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!r_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&xc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,o){const l=++this.requestNumber_,c={r:l,a:e,b:n};this.log_(On(c)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const n=new mf,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;m.s==="ok"?n.resolve(v):n.reject(v)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),n.promise}listen(e,n,o,l){this.initConnection_();const c=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+c),this.listens.has(m)||this.listens.set(m,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(m).has(c),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:n,query:e,tag:o};this.listens.get(m).set(c,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(e){const n=e.query,o=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+o+" for "+l);const c={p:o},m="q";e.tag&&(c.q=n._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(m,c,v=>{const C=v.d,y=v.s;Xo.warnOnListenWarnings_(C,n),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",v),y!=="ok"&&this.removeListen_(o,l),e.onComplete&&e.onComplete(y,C))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&tr(e,"w")){const o=fa(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',c=n._path.toString();Ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||f5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ap)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=h5(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,l=>{const c=l.s,m=l.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,o=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(e,n){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,n)}sendUnlisten_(e,n,o,l){this.log_("Unlisten on "+e+" for "+n);const c={p:e},m="n";l&&(c.q=o,c.t=l),this.sendRequest(m,c)}onDisconnectPut(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:o})}onDisconnectMerge(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:o})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,o,l){const c={p:n,d:o};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(e,n,o,l){this.putInternal("p",e,n,o,l)}merge(e,n,o,l){this.putInternal("m",e,n,o,l)}putInternal(e,n,o,l,c){this.initConnection_();const m={p:n,d:o};c!==void 0&&(m.h=c),this.outstandingPuts_.push({action:e,request:m,onComplete:l}),this.outstandingPutCount_++;const v=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(v):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,o,c=>{this.log_(n+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+On(e));const n=e.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):s1("Unrecognized action received from server: "+On(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vw&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Xo.nextConnectionId_++,c=this.lastSessionId;let m=!1,v=null;const C=function(){v?v.close():(m=!0,o())},y=function(T){ge(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(T)};this.realtime_={close:C,sendRequest:y};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,D]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);m?Yn("getToken() completed but was canceled"):(Yn("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=D&&D.token,v=new gw(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,o,W=>{Ii(W+" ("+this.repoInfo_.toString()+")"),this.interrupt(ww)},c))}catch(T){this.log_("Failed to get token: "+T),m||(this.repoInfo_.nodeAdmin&&Ii(T),C())}}}interrupt(e){Yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kg(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let o;n?o=n.map(c=>Ef(c)).join("$"):o="default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const o=new Lt(e).toString();let l;if(this.listens.has(o)){const c=this.listens.get(o);l=c.get(n),c.delete(n),c.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,n){Yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lp&&(this.reconnectDelay_=ap,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+p_.replace(/\./g,"-")]=1,o_()?e["framework.cordova"]=1:s5()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=xc.getInstance().currentlyOnline();return kg(this.interruptReasons_)&&e}}Xo.nextPersistentConnectionId_=0;Xo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new rt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const o=new rt(ga,e),l=new rt(ga,n);return this.compare(o,l)!==0}minPost(){return rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd;class V_ extends $c{static get __EMPTY_NODE(){return Nd}static set __EMPTY_NODE(e){Nd=e}compare(e,n){return va(e.name,n.name)}isDefinedOn(e){throw xa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return rt.MIN}maxPost(){return new rt(ps,Nd)}makePost(e,n){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new rt(e,Nd)}toString(){return".key"}}const oa=new V_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,o,l,c=null){this.isReverse_=l,this.resultGenerator_=c,this.nodeStack_=[];let m=1;for(;!e.isEmpty();)if(e=e,m=n?o(e.key,n):1,l&&(m*=-1),m<0)this.isReverse_?e=e.left:e=e.right;else if(m===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ln{constructor(e,n,o,l,c){this.key=e,this.value=n,this.color=o??Ln.RED,this.left=l??hi.EMPTY_NODE,this.right=c??hi.EMPTY_NODE}copy(e,n,o,l,c){return new Ln(e??this.key,n??this.value,o??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const c=o(e,l.key);return c<0?l=l.copy(null,null,null,l.left.insert(e,n,o),null):c===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return hi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let o,l;if(o=this,n(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(e,o.key)===0){if(o.right.isEmpty())return hi.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ln.RED=!0;Ln.BLACK=!1;class Cw{copy(e,n,o,l,c){return this}insert(e,n,o){return new Ln(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class hi{constructor(e,n=hi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new hi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ln.BLACK,null,null))}remove(e){return new hi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ln.BLACK,null,null))}get(e){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(e,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(e){let n,o=this.root_,l=null;for(;!o.isEmpty();)if(n=this.comparator_(e,o.key),n===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rd(this.root_,null,this.comparator_,!0,e)}}hi.EMPTY_NODE=new Cw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){return va(t.name,e.name)}function Sf(t,e){return va(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1;function Aw(t){l1=t}const j_=function(t){return typeof t=="number"?"number:"+x_(t):"string:"+t},G_=function(t){if(t.isLeafNode()){const e=t.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tr(e,".sv"),"Priority must be a string or number.")}else ge(t===l1||t.isEmpty(),"priority of unexpected type.");ge(t===l1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp;class Rn{constructor(e,n=Rn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),G_(this.priorityNode_)}static set __childrenNodeConstructor(e){dp=e}static get __childrenNodeConstructor(){return dp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dt(e)?this:lt(e)===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const o=lt(e);return o===null?n:n.isEmpty()&&o!==".priority"?this:(ge(o!==".priority"||Br(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Rn.__childrenNodeConstructor.EMPTY_NODE.updateChild(kt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+j_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=x_(this.value_):e+=this.value_,this.lazyHash_=__(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rn.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,o=typeof this.value_,l=Rn.VALUE_TYPE_ORDER.indexOf(n),c=Rn.VALUE_TYPE_ORDER.indexOf(o);return ge(l>=0,"Unknown leaf type: "+n),ge(c>=0,"Unknown leaf type: "+o),l===c?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_,Y_;function Tw(t){Z_=t}function Iw(t){Y_=t}class bw extends $c{compare(e,n){const o=e.node.getPriority(),l=n.node.getPriority(),c=o.compareTo(l);return c===0?va(e.name,n.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return rt.MIN}maxPost(){return new rt(ps,new Rn("[PRIORITY-POST]",Y_))}makePost(e,n){const o=Z_(e);return new rt(n,new Rn("[PRIORITY-POST]",o))}toString(){return".priority"}}const sn=new bw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=Math.log(2);class Rw{constructor(e){const n=c=>parseInt(Math.log(c)/Nw,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=o(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vc=function(t,e,n,o){t.sort(e);const l=function(C,y){const N=y-C;let T,D;if(N===0)return null;if(N===1)return T=t[C],D=n?n(T):T,new Ln(D,T.node,Ln.BLACK,null,null);{const W=parseInt(N/2,10)+C,X=l(C,W),j=l(W+1,y);return T=t[W],D=n?n(T):T,new Ln(D,T.node,Ln.BLACK,X,j)}},c=function(C){let y=null,N=null,T=t.length;const D=function(X,j){const _e=T-X,H=T;T-=X;const F=l(_e+1,H),B=t[_e],J=n?n(B):B;W(new Ln(J,B.node,j,null,F))},W=function(X){y?(y.left=X,y=X):(N=X,y=X)};for(let X=0;X<C.count;++X){const j=C.nextBitIsOne(),_e=Math.pow(2,C.count-(X+1));j?D(_e,Ln.BLACK):(D(_e,Ln.BLACK),D(_e,Ln.RED))}return N},m=new Rw(t.length),v=c(m);return new hi(o||e,v)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu;const Ls={};class Zo{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ge(Ls&&sn,"ChildrenNode.ts has not been loaded"),Qu=Qu||new Zo({".priority":Ls},{".priority":sn}),Qu}get(e){const n=fa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hi?n:null}hasIndex(e){return tr(this.indexSet_,e.toString())}addIndex(e,n){ge(e!==oa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const c=n.getIterator(rt.Wrap);let m=c.getNext();for(;m;)l=l||e.isDefinedOn(m.node),o.push(m),m=c.getNext();let v;l?v=vc(o,e.getCompare()):v=Ls;const C=e.toString(),y=Object.assign({},this.indexSet_);y[C]=e;const N=Object.assign({},this.indexes_);return N[C]=v,new Zo(N,y)}addToIndexes(e,n){const o=mc(this.indexes_,(l,c)=>{const m=fa(this.indexSet_,c);if(ge(m,"Missing index implementation for "+c),l===Ls)if(m.isDefinedOn(e.node)){const v=[],C=n.getIterator(rt.Wrap);let y=C.getNext();for(;y;)y.name!==e.name&&v.push(y),y=C.getNext();return v.push(e),vc(v,m.getCompare())}else return Ls;else{const v=n.get(e.name);let C=l;return v&&(C=C.remove(new rt(e.name,v))),C.insert(e,e.node)}});return new Zo(o,this.indexSet_)}removeFromIndexes(e,n){const o=mc(this.indexes_,l=>{if(l===Ls)return l;{const c=n.get(e.name);return c?l.remove(new rt(e.name,c)):l}});return new Zo(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;class Ze{constructor(e,n,o){this.children_=e,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&G_(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ka||(Ka=new Ze(new hi(Sf),null,Zo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ka}updatePriority(e){return this.children_.isEmpty()?this:new Ze(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ka:n}}getChild(e){const n=lt(e);return n===null?this:this.getImmediateChild(n).getChild(kt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const o=new rt(e,n);let l,c;n.isEmpty()?(l=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?Ka:this.priorityNode_;return new Ze(l,m,c)}}updateChild(e,n){const o=lt(e);if(o===null)return n;{ge(lt(e)!==".priority"||Br(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(kt(e),n);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let o=0,l=0,c=!0;if(this.forEachChild(sn,(m,v)=>{n[m]=v.val(e),o++,c&&Ze.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):c=!1}),!e&&c&&l<2*o){const m=[];for(const v in n)m[v]=n[v];return m}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+j_(this.getPriority().val())+":"),this.forEachChild(sn,(n,o)=>{const l=o.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":__(e)}return this.lazyHash_}getPredecessorChildName(e,n,o){const l=this.resolveIndex_(o);if(l){const c=l.getPredecessorKey(new rt(e,n));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new rt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new rt(n,this.children_.get(n)):null}forEachChild(e,n){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,rt.Wrap);let c=l.peek();for(;c!=null&&n.compare(c,e)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,rt.Wrap);let c=l.peek();for(;c!=null&&n.compare(c,e)>0;)l.getNext(),c=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ql?-1:0}withIndex(e){if(e===oa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ze(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===oa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(sn),l=n.getIterator(sn);let c=o.getNext(),m=l.getNext();for(;c&&m;){if(c.name!==m.name||!c.node.equals(m.node))return!1;c=o.getNext(),m=l.getNext()}return c===null&&m===null}else return!1;else return!1}}resolveIndex_(e){return e===oa?null:this.indexMap_.get(e.toString())}}Ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Mw extends Ze{constructor(){super(new hi(Sf),Ze.EMPTY_NODE,Zo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ze.EMPTY_NODE}isEmpty(){return!1}}const ql=new Mw;Object.defineProperties(rt,{MIN:{value:new rt(ga,Ze.EMPTY_NODE)},MAX:{value:new rt(ps,ql)}});V_.__EMPTY_NODE=Ze.EMPTY_NODE;Rn.__childrenNodeConstructor=Ze;Aw(ql);Iw(ql);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=!0;function Xn(t,e=null){if(t===null)return Ze.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rn(n,Xn(e))}if(!(t instanceof Array)&&Lw){const n=[];let o=!1;if(mi(t,(m,v)=>{if(m.substring(0,1)!=="."){const C=Xn(v);C.isEmpty()||(o=o||!C.getPriority().isEmpty(),n.push(new rt(m,C)))}}),n.length===0)return Ze.EMPTY_NODE;const c=vc(n,Sw,m=>m.name,Sf);if(o){const m=vc(n,sn.getCompare());return new Ze(c,Xn(e),new Zo({".priority":m},{".priority":sn}))}else return new Ze(c,Xn(e),Zo.Default)}else{let n=Ze.EMPTY_NODE;return mi(t,(o,l)=>{if(tr(t,o)&&o.substring(0,1)!=="."){const c=Xn(l);(c.isLeafNode()||!c.isEmpty())&&(n=n.updateImmediateChild(o,c))}}),n.updatePriority(Xn(e))}}Tw(Xn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends $c{constructor(e){super(),this.indexPath_=e,ge(!dt(e)&&lt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const o=this.extractChild(e.node),l=this.extractChild(n.node),c=o.compareTo(l);return c===0?va(e.name,n.name):c}makePost(e,n){const o=Xn(e),l=Ze.EMPTY_NODE.updateChild(this.indexPath_,o);return new rt(n,l)}maxPost(){const e=Ze.EMPTY_NODE.updateChild(this.indexPath_,ql);return new rt(ps,e)}toString(){return z_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends $c{compare(e,n){const o=e.node.compareTo(n.node);return o===0?va(e.name,n.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return rt.MIN}maxPost(){return rt.MAX}makePost(e,n){const o=Xn(e);return new rt(n,o)}toString(){return".value"}}const Pw=new Dw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){return{type:"value",snapshotNode:t}}function pa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Bl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Fw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.index_=e}updateChild(e,n,o,l,c,m){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=e.getImmediateChild(n);return v.getChild(l).equals(o.getChild(l))&&v.isEmpty()===o.isEmpty()||(m!=null&&(o.isEmpty()?e.hasChild(n)?m.trackChildChange(Fl(n,v)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?m.trackChildChange(pa(n,o)):m.trackChildChange(Bl(n,o,v))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(e,n,o){return o!=null&&(e.isLeafNode()||e.forEachChild(sn,(l,c)=>{n.hasChild(l)||o.trackChildChange(Fl(l,c))}),n.isLeafNode()||n.forEachChild(sn,(l,c)=>{if(e.hasChild(l)){const m=e.getImmediateChild(l);m.equals(c)||o.trackChildChange(Bl(l,c,m))}else o.trackChildChange(pa(l,c))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ze.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.indexedFilter_=new Af(e.getIndex()),this.index_=e.getIndex(),this.startPost_=kl.getStartPost_(e),this.endPost_=kl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&o}updateChild(e,n,o,l,c,m){return this.matches(new rt(n,o))||(o=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,o,l,c,m)}updateFullNode(e,n,o){n.isLeafNode()&&(n=Ze.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(Ze.EMPTY_NODE);const c=this;return n.forEachChild(sn,(m,v)=>{c.matches(new rt(m,v))||(l=l.updateImmediateChild(m,Ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new kl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,o,l,c,m){return this.rangedFilter_.matches(new rt(n,o))||(o=Ze.EMPTY_NODE),e.getImmediateChild(n).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,o,l,c,m):this.fullLimitUpdateChild_(e,n,o,c,m)}updateFullNode(e,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=Ze.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=Ze.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;c.hasNext()&&m<this.limit_;){const v=c.getNext();if(this.withinDirectionalStart(v))if(this.withinDirectionalEnd(v))l=l.updateImmediateChild(v.name,v.node),m++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(Ze.EMPTY_NODE);let c;this.reverse_?c=l.getReverseIterator(this.index_):c=l.getIterator(this.index_);let m=0;for(;c.hasNext();){const v=c.getNext();m<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?m++:l=l.updateImmediateChild(v.name,Ze.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,o,l,c){let m;if(this.reverse_){const T=this.index_.getCompare();m=(D,W)=>T(W,D)}else m=this.index_.getCompare();const v=e;ge(v.numChildren()===this.limit_,"");const C=new rt(n,o),y=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),N=this.rangedFilter_.matches(C);if(v.hasChild(n)){const T=v.getImmediateChild(n);let D=l.getChildAfterChild(this.index_,y,this.reverse_);for(;D!=null&&(D.name===n||v.hasChild(D.name));)D=l.getChildAfterChild(this.index_,D,this.reverse_);const W=D==null?1:m(D,C);if(N&&!o.isEmpty()&&W>=0)return c!=null&&c.trackChildChange(Bl(n,o,T)),v.updateImmediateChild(n,o);{c!=null&&c.trackChildChange(Fl(n,T));const j=v.updateImmediateChild(n,Ze.EMPTY_NODE);return D!=null&&this.rangedFilter_.matches(D)?(c!=null&&c.trackChildChange(pa(D.name,D.node)),j.updateImmediateChild(D.name,D.node)):j}}else return o.isEmpty()?e:N&&m(y,C)>=0?(c!=null&&(c.trackChildChange(Fl(y.name,y.node)),c.trackChildChange(pa(n,o))),v.updateImmediateChild(n,o).updateImmediateChild(y.name,Ze.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ga}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const e=new Tf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kw(t){return t.loadsAllData()?new Af(t.getIndex()):t.hasLimit()?new Bw(t):new kl(t)}function cp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sn?n="$priority":t.index_===Pw?n="$value":t.index_===oa?n="$key":(ge(t.index_ instanceof Ow,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=On(n),t.startSet_){const o=t.startAfterSet_?"startAfter":"startAt";e[o]=On(t.indexStartValue_),t.startNameSet_&&(e[o]+=","+On(t.indexStartName_))}if(t.endSet_){const o=t.endBeforeSet_?"endBefore":"endAt";e[o]=On(t.indexEndValue_),t.endNameSet_&&(e[o]+=","+On(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function up(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends B_{constructor(e,n,o,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Ql("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,o,l){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const m=wc.getListenId_(e,o),v={};this.listens_[m]=v;const C=cp(e._queryParams);this.restRequest_(c+".json",C,(y,N)=>{let T=N;if(y===404&&(T=null,y=null),y===null&&this.onDataUpdate_(c,T,!1,o),fa(this.listens_,m)===v){let D;y?y===401?D="permission_denied":D="rest_error:"+y:D="ok",l(D,null)}})}unlisten(e,n){const o=wc.getListenId_(e,n);delete this.listens_[o]}get(e){const n=cp(e._queryParams),o=e._path.toString(),l=new mf;return this.restRequest_(o+".json",n,(c,m)=>{let v=m;c===404&&(v=null,c=null),c===null?(this.onDataUpdate_(o,v,!1,null),l.resolve(v)):l.reject(new Error(v))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,c])=>{l&&l.accessToken&&(n.auth=l.accessToken),c&&c.token&&(n.ac=c.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+g5(n);this.log_("Sending REST request for "+m);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(o&&v.readyState===4){this.log_("REST Response for "+m+" received. status:",v.status,"response:",v.responseText);let C=null;if(v.status>=200&&v.status<300){try{C=Ll(v.responseText)}catch{Ii("Failed to parse JSON response for "+m+": "+v.responseText)}o(null,C)}else v.status!==401&&v.status!==404&&Ii("Got unsuccessful REST response for "+m+" Status: "+v.status),o(v.status);o=null}},v.open("GET",m,!0),v.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.rootNode_=Ze.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){return{value:null,children:new Map}}function Q_(t,e,n){if(dt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const o=lt(e);t.children.has(o)||t.children.set(o,Cc());const l=t.children.get(o);e=kt(e),Q_(l,e,n)}}function d1(t,e,n){t.value!==null?n(e,t.value):zw(t,(o,l)=>{const c=new Lt(e.toString()+"/"+o);d1(l,c,n)})}function zw(t,e){t.children.forEach((n,o)=>{e(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mi(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=10*1e3,Ww=30*1e3,Vw=5*60*1e3;class jw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hw(e);const o=hp+(Ww-hp)*Math.random();ul(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),n={};let o=!1;mi(e,(l,c)=>{c>0&&tr(this.statsToReport_,l)&&(n[l]=c,o=!0)}),o&&this.server_.reportStats(n),ul(this.reportStats_.bind(this),Math.floor(Math.random()*2*Vw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(co||(co={}));function K_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function If(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,o){this.path=e,this.affectedTree=n,this.revert=o,this.type=co.ACK_USER_WRITE,this.source=K_()}operationForChild(e){if(dt(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Lt(e));return new Sc(xt(),n,this.revert)}}else return ge(lt(this.path)===e,"operationForChild called for unrelated child."),new Sc(kt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.source=e,this.path=n,this.type=co.LISTEN_COMPLETE}operationForChild(e){return dt(this.path)?new Ul(this.source,xt()):new Ul(this.source,kt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,o){this.source=e,this.path=n,this.snap=o,this.type=co.OVERWRITE}operationForChild(e){return dt(this.path)?new ms(this.source,xt(),this.snap.getImmediateChild(e)):new ms(this.source,kt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,o){this.source=e,this.path=n,this.children=o,this.type=co.MERGE}operationForChild(e){if(dt(this.path)){const n=this.children.subtree(new Lt(e));return n.isEmpty()?null:n.value?new ms(this.source,xt(),n.value):new zl(this.source,xt(),n)}else return ge(lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zl(this.source,kt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,o){this.node_=e,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(dt(e))return this.isFullyInitialized()&&!this.filtered_;const n=lt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zw(t,e,n,o){const l=[],c=[];return e.forEach(m=>{m.type==="child_changed"&&t.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&c.push(Fw(m.childName,m.snapshotNode))}),qa(t,l,"child_removed",e,o,n),qa(t,l,"child_added",e,o,n),qa(t,l,"child_moved",c,o,n),qa(t,l,"child_changed",e,o,n),qa(t,l,"value",e,o,n),l}function qa(t,e,n,o,l,c){const m=o.filter(v=>v.type===n);m.sort((v,C)=>Xw(t,v,C)),m.forEach(v=>{const C=Yw(t,v,c);l.forEach(y=>{y.respondsTo(v.type)&&e.push(y.createEvent(C,t.query_))})})}function Yw(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Xw(t,e,n){if(e.childName==null||n.childName==null)throw xa("Should only compare child_ events.");const o=new rt(e.childName,e.snapshotNode),l=new rt(n.childName,n.snapshotNode);return t.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e){return{eventCache:t,serverCache:e}}function hl(t,e,n,o){return Jc(new _s(e,n,o),t.serverCache)}function q_(t,e,n,o){return Jc(t.eventCache,new _s(e,n,o))}function c1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Es(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku;const Qw=()=>(Ku||(Ku=new hi(Dv)),Ku);class Gt{constructor(e,n=Qw()){this.value=e,this.children=n}static fromObject(e){let n=new Gt(null);return mi(e,(o,l)=>{n=n.set(new Lt(o),l)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:xt(),value:this.value};if(dt(e))return null;{const o=lt(e),l=this.children.get(o);if(l!==null){const c=l.findRootMostMatchingPathAndValue(kt(e),n);return c!=null?{path:vn(new Lt(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(dt(e))return this;{const n=lt(e),o=this.children.get(n);return o!==null?o.subtree(kt(e)):new Gt(null)}}set(e,n){if(dt(e))return new Gt(n,this.children);{const o=lt(e),c=(this.children.get(o)||new Gt(null)).set(kt(e),n),m=this.children.insert(o,c);return new Gt(this.value,m)}}remove(e){if(dt(e))return this.children.isEmpty()?new Gt(null):new Gt(null,this.children);{const n=lt(e),o=this.children.get(n);if(o){const l=o.remove(kt(e));let c;return l.isEmpty()?c=this.children.remove(n):c=this.children.insert(n,l),this.value===null&&c.isEmpty()?new Gt(null):new Gt(this.value,c)}else return this}}get(e){if(dt(e))return this.value;{const n=lt(e),o=this.children.get(n);return o?o.get(kt(e)):null}}setTree(e,n){if(dt(e))return n;{const o=lt(e),c=(this.children.get(o)||new Gt(null)).setTree(kt(e),n);let m;return c.isEmpty()?m=this.children.remove(o):m=this.children.insert(o,c),new Gt(this.value,m)}}fold(e){return this.fold_(xt(),e)}fold_(e,n){const o={};return this.children.inorderTraversal((l,c)=>{o[l]=c.fold_(vn(e,l),n)}),n(e,this.value,o)}findOnPath(e,n){return this.findOnPath_(e,xt(),n)}findOnPath_(e,n,o){const l=this.value?o(n,this.value):!1;if(l)return l;if(dt(e))return null;{const c=lt(e),m=this.children.get(c);return m?m.findOnPath_(kt(e),vn(n,c),o):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,xt(),n)}foreachOnPath_(e,n,o){if(dt(e))return this;{this.value&&o(n,this.value);const l=lt(e),c=this.children.get(l);return c?c.foreachOnPath_(kt(e),vn(n,l),o):new Gt(null)}}foreach(e){this.foreach_(xt(),e)}foreach_(e,n){this.children.inorderTraversal((o,l)=>{l.foreach_(vn(e,o),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,o)=>{o.value&&e(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.writeTree_=e}static empty(){return new fo(new Gt(null))}}function fl(t,e,n){if(dt(e))return new fo(new Gt(n));{const o=t.writeTree_.findRootMostValueAndPath(e);if(o!=null){const l=o.path;let c=o.value;const m=ui(l,e);return c=c.updateChild(m,n),new fo(t.writeTree_.set(l,c))}else{const l=new Gt(n),c=t.writeTree_.setTree(e,l);return new fo(c)}}}function fp(t,e,n){let o=t;return mi(n,(l,c)=>{o=fl(o,vn(e,l),c)}),o}function gp(t,e){if(dt(e))return fo.empty();{const n=t.writeTree_.setTree(e,new Gt(null));return new fo(n)}}function u1(t,e){return vs(t,e)!=null}function vs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ui(n.path,e)):null}function pp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sn,(o,l)=>{e.push(new rt(o,l))}):t.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&e.push(new rt(o,l.value))}),e}function Or(t,e){if(dt(e))return t;{const n=vs(t,e);return n!=null?new fo(new Gt(n)):new fo(t.writeTree_.subtree(e))}}function h1(t){return t.writeTree_.isEmpty()}function ma(t,e){return $_(xt(),t.writeTree_,e)}function $_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let o=null;return e.children.inorderTraversal((l,c)=>{l===".priority"?(ge(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):n=$_(vn(t,l),c,n)}),!n.getChild(t).isEmpty()&&o!==null&&(n=n.updateChild(vn(t,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e){return n3(e,t)}function Kw(t,e,n,o,l){ge(o>t.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),t.allWrites.push({path:e,snap:n,writeId:o,visible:l}),l&&(t.visibleWrites=fl(t.visibleWrites,e,n)),t.lastWriteId=o}function qw(t,e){for(let n=0;n<t.allWrites.length;n++){const o=t.allWrites[n];if(o.writeId===e)return o}return null}function $w(t,e){const n=t.allWrites.findIndex(v=>v.writeId===e);ge(n>=0,"removeWrite called with nonexistent writeId.");const o=t.allWrites[n];t.allWrites.splice(n,1);let l=o.visible,c=!1,m=t.allWrites.length-1;for(;l&&m>=0;){const v=t.allWrites[m];v.visible&&(m>=n&&Jw(v,o.path)?l=!1:lo(o.path,v.path)&&(c=!0)),m--}if(l){if(c)return eC(t),!0;if(o.snap)t.visibleWrites=gp(t.visibleWrites,o.path);else{const v=o.children;mi(v,C=>{t.visibleWrites=gp(t.visibleWrites,vn(o.path,C))})}return!0}else return!1}function Jw(t,e){if(t.snap)return lo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&lo(vn(t.path,n),e))return!0;return!1}function eC(t){t.visibleWrites=J_(t.allWrites,tC,xt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function tC(t){return t.visible}function J_(t,e,n){let o=fo.empty();for(let l=0;l<t.length;++l){const c=t[l];if(e(c)){const m=c.path;let v;if(c.snap)lo(n,m)?(v=ui(n,m),o=fl(o,v,c.snap)):lo(m,n)&&(v=ui(m,n),o=fl(o,xt(),c.snap.getChild(v)));else if(c.children){if(lo(n,m))v=ui(n,m),o=fp(o,v,c.children);else if(lo(m,n))if(v=ui(m,n),dt(v))o=fp(o,xt(),c.children);else{const C=fa(c.children,lt(v));if(C){const y=C.getChild(kt(v));o=fl(o,xt(),y)}}}else throw xa("WriteRecord should have .snap or .children")}}return o}function e3(t,e,n,o,l){if(!o&&!l){const c=vs(t.visibleWrites,e);if(c!=null)return c;{const m=Or(t.visibleWrites,e);if(h1(m))return n;if(n==null&&!u1(m,xt()))return null;{const v=n||Ze.EMPTY_NODE;return ma(m,v)}}}else{const c=Or(t.visibleWrites,e);if(!l&&h1(c))return n;if(!l&&n==null&&!u1(c,xt()))return null;{const m=function(y){return(y.visible||l)&&(!o||!~o.indexOf(y.writeId))&&(lo(y.path,e)||lo(e,y.path))},v=J_(t.allWrites,m,e),C=n||Ze.EMPTY_NODE;return ma(v,C)}}}function nC(t,e,n){let o=Ze.EMPTY_NODE;const l=vs(t.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(sn,(c,m)=>{o=o.updateImmediateChild(c,m)}),o;if(n){const c=Or(t.visibleWrites,e);return n.forEachChild(sn,(m,v)=>{const C=ma(Or(c,new Lt(m)),v);o=o.updateImmediateChild(m,C)}),pp(c).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}else{const c=Or(t.visibleWrites,e);return pp(c).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}}function iC(t,e,n,o,l){ge(o||l,"Either existingEventSnap or existingServerSnap must exist");const c=vn(e,n);if(u1(t.visibleWrites,c))return null;{const m=Or(t.visibleWrites,c);return h1(m)?l.getChild(n):ma(m,l.getChild(n))}}function oC(t,e,n,o){const l=vn(e,n),c=vs(t.visibleWrites,l);if(c!=null)return c;if(o.isCompleteForChild(n)){const m=Or(t.visibleWrites,l);return ma(m,o.getNode().getImmediateChild(n))}else return null}function rC(t,e){return vs(t.visibleWrites,e)}function sC(t,e,n,o,l,c,m){let v;const C=Or(t.visibleWrites,e),y=vs(C,xt());if(y!=null)v=y;else if(n!=null)v=ma(C,n);else return[];if(v=v.withIndex(m),!v.isEmpty()&&!v.isLeafNode()){const N=[],T=m.getCompare(),D=c?v.getReverseIteratorFrom(o,m):v.getIteratorFrom(o,m);let W=D.getNext();for(;W&&N.length<l;)T(W,o)!==0&&N.push(W),W=D.getNext();return N}else return[]}function aC(){return{visibleWrites:fo.empty(),allWrites:[],lastWriteId:-1}}function Ac(t,e,n,o){return e3(t.writeTree,t.treePath,e,n,o)}function Rf(t,e){return nC(t.writeTree,t.treePath,e)}function mp(t,e,n,o){return iC(t.writeTree,t.treePath,e,n,o)}function Tc(t,e){return rC(t.writeTree,vn(t.treePath,e))}function lC(t,e,n,o,l,c){return sC(t.writeTree,t.treePath,e,n,o,l,c)}function Mf(t,e,n){return oC(t.writeTree,t.treePath,e,n)}function t3(t,e){return n3(vn(t.treePath,e),t.writeTree)}function n3(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,o=e.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const c=l.type;if(n==="child_added"&&c==="child_removed")this.changeMap.set(o,Bl(o,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&c==="child_changed")this.changeMap.set(o,Fl(o,l.oldSnap));else if(n==="child_changed"&&c==="child_added")this.changeMap.set(o,pa(o,e.snapshotNode));else if(n==="child_changed"&&c==="child_changed")this.changeMap.set(o,Bl(o,e.snapshotNode,l.oldSnap));else throw xa("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{getCompleteChild(e){return null}getChildAfterChild(e,n,o){return null}}const i3=new cC;class Lf{constructor(e,n,o=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new _s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mf(this.writes_,e,o)}}getChildAfterChild(e,n,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Es(this.viewCache_),c=lC(this.writes_,l,n,1,o,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){return{filter:t}}function hC(t,e){ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function fC(t,e,n,o,l){const c=new dC;let m,v;if(n.type===co.OVERWRITE){const y=n;y.source.fromUser?m=f1(t,e,y.path,y.snap,o,l,c):(ge(y.source.fromServer,"Unknown source."),v=y.source.tagged||e.serverCache.isFiltered()&&!dt(y.path),m=Ic(t,e,y.path,y.snap,o,l,v,c))}else if(n.type===co.MERGE){const y=n;y.source.fromUser?m=pC(t,e,y.path,y.children,o,l,c):(ge(y.source.fromServer,"Unknown source."),v=y.source.tagged||e.serverCache.isFiltered(),m=g1(t,e,y.path,y.children,o,l,v,c))}else if(n.type===co.ACK_USER_WRITE){const y=n;y.revert?m=EC(t,e,y.path,o,l,c):m=mC(t,e,y.path,y.affectedTree,o,l,c)}else if(n.type===co.LISTEN_COMPLETE)m=_C(t,e,n.path,o,c);else throw xa("Unknown operation type: "+n.type);const C=c.getChanges();return gC(e,m,C),{viewCache:m,changes:C}}function gC(t,e,n){const o=e.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=c1(t);(n.length>0||!t.eventCache.isFullyInitialized()||l&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&n.push(X_(c1(e)))}}function o3(t,e,n,o,l,c){const m=e.eventCache;if(Tc(o,n)!=null)return e;{let v,C;if(dt(n))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=Es(e),N=y instanceof Ze?y:Ze.EMPTY_NODE,T=Rf(o,N);v=t.filter.updateFullNode(e.eventCache.getNode(),T,c)}else{const y=Ac(o,Es(e));v=t.filter.updateFullNode(e.eventCache.getNode(),y,c)}else{const y=lt(n);if(y===".priority"){ge(Br(n)===1,"Can't have a priority with additional path components");const N=m.getNode();C=e.serverCache.getNode();const T=mp(o,n,N,C);T!=null?v=t.filter.updatePriority(N,T):v=m.getNode()}else{const N=kt(n);let T;if(m.isCompleteForChild(y)){C=e.serverCache.getNode();const D=mp(o,n,m.getNode(),C);D!=null?T=m.getNode().getImmediateChild(y).updateChild(N,D):T=m.getNode().getImmediateChild(y)}else T=Mf(o,y,e.serverCache);T!=null?v=t.filter.updateChild(m.getNode(),y,T,N,l,c):v=m.getNode()}}return hl(e,v,m.isFullyInitialized()||dt(n),t.filter.filtersNodes())}}function Ic(t,e,n,o,l,c,m,v){const C=e.serverCache;let y;const N=m?t.filter:t.filter.getIndexedFilter();if(dt(n))y=N.updateFullNode(C.getNode(),o,null);else if(N.filtersNodes()&&!C.isFiltered()){const W=C.getNode().updateChild(n,o);y=N.updateFullNode(C.getNode(),W,null)}else{const W=lt(n);if(!C.isCompleteForPath(n)&&Br(n)>1)return e;const X=kt(n),_e=C.getNode().getImmediateChild(W).updateChild(X,o);W===".priority"?y=N.updatePriority(C.getNode(),_e):y=N.updateChild(C.getNode(),W,_e,X,i3,null)}const T=q_(e,y,C.isFullyInitialized()||dt(n),N.filtersNodes()),D=new Lf(l,T,c);return o3(t,T,n,l,D,v)}function f1(t,e,n,o,l,c,m){const v=e.eventCache;let C,y;const N=new Lf(l,e,c);if(dt(n))y=t.filter.updateFullNode(e.eventCache.getNode(),o,m),C=hl(e,y,!0,t.filter.filtersNodes());else{const T=lt(n);if(T===".priority")y=t.filter.updatePriority(e.eventCache.getNode(),o),C=hl(e,y,v.isFullyInitialized(),v.isFiltered());else{const D=kt(n),W=v.getNode().getImmediateChild(T);let X;if(dt(D))X=o;else{const j=N.getCompleteChild(T);j!=null?U_(D)===".priority"&&j.getChild(H_(D)).isEmpty()?X=j:X=j.updateChild(D,o):X=Ze.EMPTY_NODE}if(W.equals(X))C=e;else{const j=t.filter.updateChild(v.getNode(),T,X,D,N,m);C=hl(e,j,v.isFullyInitialized(),t.filter.filtersNodes())}}}return C}function _p(t,e){return t.eventCache.isCompleteForChild(e)}function pC(t,e,n,o,l,c,m){let v=e;return o.foreach((C,y)=>{const N=vn(n,C);_p(e,lt(N))&&(v=f1(t,v,N,y,l,c,m))}),o.foreach((C,y)=>{const N=vn(n,C);_p(e,lt(N))||(v=f1(t,v,N,y,l,c,m))}),v}function Ep(t,e,n){return n.foreach((o,l)=>{e=e.updateChild(o,l)}),e}function g1(t,e,n,o,l,c,m,v){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let C=e,y;dt(n)?y=o:y=new Gt(null).setTree(n,o);const N=e.serverCache.getNode();return y.children.inorderTraversal((T,D)=>{if(N.hasChild(T)){const W=e.serverCache.getNode().getImmediateChild(T),X=Ep(t,W,D);C=Ic(t,C,new Lt(T),X,l,c,m,v)}}),y.children.inorderTraversal((T,D)=>{const W=!e.serverCache.isCompleteForChild(T)&&D.value===null;if(!N.hasChild(T)&&!W){const X=e.serverCache.getNode().getImmediateChild(T),j=Ep(t,X,D);C=Ic(t,C,new Lt(T),j,l,c,m,v)}}),C}function mC(t,e,n,o,l,c,m){if(Tc(l,n)!=null)return e;const v=e.serverCache.isFiltered(),C=e.serverCache;if(o.value!=null){if(dt(n)&&C.isFullyInitialized()||C.isCompleteForPath(n))return Ic(t,e,n,C.getNode().getChild(n),l,c,v,m);if(dt(n)){let y=new Gt(null);return C.getNode().forEachChild(oa,(N,T)=>{y=y.set(new Lt(N),T)}),g1(t,e,n,y,l,c,v,m)}else return e}else{let y=new Gt(null);return o.foreach((N,T)=>{const D=vn(n,N);C.isCompleteForPath(D)&&(y=y.set(N,C.getNode().getChild(D)))}),g1(t,e,n,y,l,c,v,m)}}function _C(t,e,n,o,l){const c=e.serverCache,m=q_(e,c.getNode(),c.isFullyInitialized()||dt(n),c.isFiltered());return o3(t,m,n,o,i3,l)}function EC(t,e,n,o,l,c){let m;if(Tc(o,n)!=null)return e;{const v=new Lf(o,e,l),C=e.eventCache.getNode();let y;if(dt(n)||lt(n)===".priority"){let N;if(e.serverCache.isFullyInitialized())N=Ac(o,Es(e));else{const T=e.serverCache.getNode();ge(T instanceof Ze,"serverChildren would be complete if leaf node"),N=Rf(o,T)}N=N,y=t.filter.updateFullNode(C,N,c)}else{const N=lt(n);let T=Mf(o,N,e.serverCache);T==null&&e.serverCache.isCompleteForChild(N)&&(T=C.getImmediateChild(N)),T!=null?y=t.filter.updateChild(C,N,T,kt(n),v,c):e.eventCache.getNode().hasChild(N)?y=t.filter.updateChild(C,N,Ze.EMPTY_NODE,kt(n),v,c):y=C,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(m=Ac(o,Es(e)),m.isLeafNode()&&(y=t.filter.updateFullNode(y,m,c)))}return m=e.serverCache.isFullyInitialized()||Tc(o,xt())!=null,hl(e,y,m,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Af(o.getIndex()),c=kw(o);this.processor_=uC(c);const m=n.serverCache,v=n.eventCache,C=l.updateFullNode(Ze.EMPTY_NODE,m.getNode(),null),y=c.updateFullNode(Ze.EMPTY_NODE,v.getNode(),null),N=new _s(C,m.isFullyInitialized(),l.filtersNodes()),T=new _s(y,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=Jc(T,N),this.eventGenerator_=new Gw(this.query_)}get query(){return this.query_}}function xC(t){return t.viewCache_.serverCache.getNode()}function vC(t,e){const n=Es(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!dt(e)&&!n.getImmediateChild(lt(e)).isEmpty())?n.getChild(e):null}function yp(t){return t.eventRegistrations_.length===0}function wC(t,e){t.eventRegistrations_.push(e)}function xp(t,e,n){const o=[];if(n){ge(e==null,"A cancel should cancel all event registrations.");const l=t.query._path;t.eventRegistrations_.forEach(c=>{const m=c.createCancelEvent(n,l);m&&o.push(m)})}if(e){let l=[];for(let c=0;c<t.eventRegistrations_.length;++c){const m=t.eventRegistrations_[c];if(!m.matches(e))l.push(m);else if(e.hasAnyCallback()){l=l.concat(t.eventRegistrations_.slice(c+1));break}}t.eventRegistrations_=l}else t.eventRegistrations_=[];return o}function vp(t,e,n,o){e.type===co.MERGE&&e.source.queryId!==null&&(ge(Es(t.viewCache_),"We should always have a full cache before handling merges"),ge(c1(t.viewCache_),"Missing event cache, even though we have a server cache"));const l=t.viewCache_,c=fC(t.processor_,l,e,n,o);return hC(t.processor_,c.viewCache),ge(c.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,r3(t,c.changes,c.viewCache.eventCache.getNode(),null)}function CC(t,e){const n=t.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sn,(c,m)=>{o.push(pa(c,m))}),n.isFullyInitialized()&&o.push(X_(n.getNode())),r3(t,o,n.getNode(),e)}function r3(t,e,n,o){const l=o?[o]:t.eventRegistrations_;return Zw(t.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc;class SC{constructor(){this.views=new Map}}function AC(t){ge(!bc,"__referenceConstructor has already been defined"),bc=t}function TC(){return ge(bc,"Reference.ts has not been loaded"),bc}function IC(t){return t.views.size===0}function Of(t,e,n,o){const l=e.source.queryId;if(l!==null){const c=t.views.get(l);return ge(c!=null,"SyncTree gave us an op for an invalid query."),vp(c,e,n,o)}else{let c=[];for(const m of t.views.values())c=c.concat(vp(m,e,n,o));return c}}function bC(t,e,n,o,l){const c=e._queryIdentifier,m=t.views.get(c);if(!m){let v=Ac(n,l?o:null),C=!1;v?C=!0:o instanceof Ze?(v=Rf(n,o),C=!1):(v=Ze.EMPTY_NODE,C=!1);const y=Jc(new _s(v,C,!1),new _s(o,l,!1));return new yC(e,y)}return m}function NC(t,e,n,o,l,c){const m=bC(t,e,o,l,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,m),wC(m,n),CC(m,n)}function RC(t,e,n,o){const l=e._queryIdentifier,c=[];let m=[];const v=kr(t);if(l==="default")for(const[C,y]of t.views.entries())m=m.concat(xp(y,n,o)),yp(y)&&(t.views.delete(C),y.query._queryParams.loadsAllData()||c.push(y.query));else{const C=t.views.get(l);C&&(m=m.concat(xp(C,n,o)),yp(C)&&(t.views.delete(l),C.query._queryParams.loadsAllData()||c.push(C.query)))}return v&&!kr(t)&&c.push(new(TC())(e._repo,e._path)),{removed:c,events:m}}function s3(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ra(t,e){let n=null;for(const o of t.views.values())n=n||vC(o,e);return n}function a3(t,e){if(e._queryParams.loadsAllData())return eu(t);{const o=e._queryIdentifier;return t.views.get(o)}}function l3(t,e){return a3(t,e)!=null}function kr(t){return eu(t)!=null}function eu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;function MC(t){ge(!Nc,"__referenceConstructor has already been defined"),Nc=t}function LC(){return ge(Nc,"Reference.ts has not been loaded"),Nc}let OC=1;class wp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Gt(null),this.pendingWriteTree_=aC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DC(t,e,n,o,l){return Kw(t.pendingWriteTree_,e,n,o,l),l?$l(t,new ms(K_(),e,n)):[]}function Xs(t,e,n=!1){const o=qw(t.pendingWriteTree_,e);if($w(t.pendingWriteTree_,e)){let c=new Gt(null);return o.snap!=null?c=c.set(xt(),!0):mi(o.children,m=>{c=c.set(new Lt(m),!0)}),$l(t,new Sc(o.path,c,n))}else return[]}function tu(t,e,n){return $l(t,new ms(If(),e,n))}function PC(t,e,n){const o=Gt.fromObject(n);return $l(t,new zl(If(),e,o))}function FC(t,e){return $l(t,new Ul(If(),e))}function BC(t,e,n){const o=Df(t,n);if(o){const l=Pf(o),c=l.path,m=l.queryId,v=ui(c,e),C=new Ul(bf(m),v);return Ff(t,c,C)}else return[]}function p1(t,e,n,o,l=!1){const c=e._path,m=t.syncPointTree_.get(c);let v=[];if(m&&(e._queryIdentifier==="default"||l3(m,e))){const C=RC(m,e,n,o);IC(m)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const y=C.removed;if(v=C.events,!l){const N=y.findIndex(D=>D._queryParams.loadsAllData())!==-1,T=t.syncPointTree_.findOnPath(c,(D,W)=>kr(W));if(N&&!T){const D=t.syncPointTree_.subtree(c);if(!D.isEmpty()){const W=zC(D);for(let X=0;X<W.length;++X){const j=W[X],_e=j.query,H=h3(t,j);t.listenProvider_.startListening(gl(_e),Rc(t,_e),H.hashFn,H.onComplete)}}}!T&&y.length>0&&!o&&(N?t.listenProvider_.stopListening(gl(e),null):y.forEach(D=>{const W=t.queryToTagMap.get(nu(D));t.listenProvider_.stopListening(gl(D),W)}))}HC(t,y)}return v}function kC(t,e,n,o){const l=Df(t,o);if(l!=null){const c=Pf(l),m=c.path,v=c.queryId,C=ui(m,e),y=new ms(bf(v),C,n);return Ff(t,m,y)}else return[]}function UC(t,e,n,o){const l=Df(t,o);if(l){const c=Pf(l),m=c.path,v=c.queryId,C=ui(m,e),y=Gt.fromObject(n),N=new zl(bf(v),C,y);return Ff(t,m,N)}else return[]}function Cp(t,e,n,o=!1){const l=e._path;let c=null,m=!1;t.syncPointTree_.foreachOnPath(l,(D,W)=>{const X=ui(D,l);c=c||ra(W,X),m=m||kr(W)});let v=t.syncPointTree_.get(l);v?(m=m||kr(v),c=c||ra(v,xt())):(v=new SC,t.syncPointTree_=t.syncPointTree_.set(l,v));let C;c!=null?C=!0:(C=!1,c=Ze.EMPTY_NODE,t.syncPointTree_.subtree(l).foreachChild((W,X)=>{const j=ra(X,xt());j&&(c=c.updateImmediateChild(W,j))}));const y=l3(v,e);if(!y&&!e._queryParams.loadsAllData()){const D=nu(e);ge(!t.queryToTagMap.has(D),"View does not exist, but we have a tag");const W=WC();t.queryToTagMap.set(D,W),t.tagToQueryMap.set(W,D)}const N=Nf(t.pendingWriteTree_,l);let T=NC(v,e,n,N,c,C);if(!y&&!m&&!o){const D=a3(v,e);T=T.concat(VC(t,e,D))}return T}function d3(t,e,n){const l=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(m,v)=>{const C=ui(m,e),y=ra(v,C);if(y)return y});return e3(l,e,c,n,!0)}function $l(t,e){return c3(e,t.syncPointTree_,null,Nf(t.pendingWriteTree_,xt()))}function c3(t,e,n,o){if(dt(t.path))return u3(t,e,n,o);{const l=e.get(xt());n==null&&l!=null&&(n=ra(l,xt()));let c=[];const m=lt(t.path),v=t.operationForChild(m),C=e.children.get(m);if(C&&v){const y=n?n.getImmediateChild(m):null,N=t3(o,m);c=c.concat(c3(v,C,y,N))}return l&&(c=c.concat(Of(l,t,o,n))),c}}function u3(t,e,n,o){const l=e.get(xt());n==null&&l!=null&&(n=ra(l,xt()));let c=[];return e.children.inorderTraversal((m,v)=>{const C=n?n.getImmediateChild(m):null,y=t3(o,m),N=t.operationForChild(m);N&&(c=c.concat(u3(N,v,C,y)))}),l&&(c=c.concat(Of(l,t,o,n))),c}function h3(t,e){const n=e.query,o=Rc(t,n);return{hashFn:()=>(xC(e)||Ze.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?BC(t,n._path,o):FC(t,n._path);{const c=Bv(l,n);return p1(t,n,null,c)}}}}function Rc(t,e){const n=nu(e);return t.queryToTagMap.get(n)}function nu(t){return t._path.toString()+"$"+t._queryIdentifier}function Df(t,e){return t.tagToQueryMap.get(e)}function Pf(t){const e=t.indexOf("$");return ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Lt(t.substr(0,e))}}function Ff(t,e,n){const o=t.syncPointTree_.get(e);ge(o,"Missing sync point for query tag that we're tracking");const l=Nf(t.pendingWriteTree_,e);return Of(o,n,l,null)}function zC(t){return t.fold((e,n,o)=>{if(n&&kr(n))return[eu(n)];{let l=[];return n&&(l=s3(n)),mi(o,(c,m)=>{l=l.concat(m)}),l}})}function gl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(LC())(t._repo,t._path):t}function HC(t,e){for(let n=0;n<e.length;++n){const o=e[n];if(!o._queryParams.loadsAllData()){const l=nu(o),c=t.queryToTagMap.get(l);t.queryToTagMap.delete(l),t.tagToQueryMap.delete(c)}}}function WC(){return OC++}function VC(t,e,n){const o=e._path,l=Rc(t,e),c=h3(t,n),m=t.listenProvider_.startListening(gl(e),l,c.hashFn,c.onComplete),v=t.syncPointTree_.subtree(o);if(l)ge(!kr(v.value),"If we're adding a query, it shouldn't be shadowed");else{const C=v.fold((y,N,T)=>{if(!dt(y)&&N&&kr(N))return[eu(N).query];{let D=[];return N&&(D=D.concat(s3(N).map(W=>W.query))),mi(T,(W,X)=>{D=D.concat(X)}),D}});for(let y=0;y<C.length;++y){const N=C[y];t.listenProvider_.stopListening(gl(N),Rc(t,N))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bf(n)}node(){return this.node_}}class kf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=vn(this.path_,e);return new kf(this.syncTree_,n)}node(){return d3(this.syncTree_,this.path_)}}const jC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sp=function(t,e,n){if(!t||typeof t!="object")return t;if(ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ZC(t[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+t)}},ZC=function(t,e,n){t.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const o=t.increment;typeof o!="number"&&ge(!1,"Unexpected increment value: "+o);const l=e.node();if(ge(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return typeof m!="number"?o:m+o},YC=function(t,e,n,o){return Uf(e,new kf(n,t),o)},XC=function(t,e,n){return Uf(t,new Bf(e),n)};function Uf(t,e,n){const o=t.getPriority().val(),l=Sp(o,e.getImmediateChild(".priority"),n);let c;if(t.isLeafNode()){const m=t,v=Sp(m.getValue(),e,n);return v!==m.getValue()||l!==m.getPriority().val()?new Rn(v,Xn(l)):t}else{const m=t;return c=m,l!==m.getPriority().val()&&(c=c.updatePriority(new Rn(l))),m.forEachChild(sn,(v,C)=>{const y=Uf(C,e.getImmediateChild(v),n);y!==C&&(c=c.updateImmediateChild(v,y))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e="",n=null,o={children:{},childCount:0}){this.name=e,this.parent=n,this.node=o}}function Hf(t,e){let n=e instanceof Lt?e:new Lt(e),o=t,l=lt(n);for(;l!==null;){const c=fa(o.node.children,l)||{children:{},childCount:0};o=new zf(l,o,c),n=kt(n),l=lt(n)}return o}function wa(t){return t.node.value}function f3(t,e){t.node.value=e,m1(t)}function g3(t){return t.node.childCount>0}function QC(t){return wa(t)===void 0&&!g3(t)}function iu(t,e){mi(t.node.children,(n,o)=>{e(new zf(n,t,o))})}function p3(t,e,n,o){n&&!o&&e(t),iu(t,l=>{p3(l,e,!0,o)}),n&&o&&e(t)}function KC(t,e,n){let o=n?t:t.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function Jl(t){return new Lt(t.parent===null?t.name:Jl(t.parent)+"/"+t.name)}function m1(t){t.parent!==null&&qC(t.parent,t.name,t)}function qC(t,e,n){const o=QC(n),l=tr(t.node.children,e);o&&l?(delete t.node.children[e],t.node.childCount--,m1(t)):!o&&!l&&(t.node.children[e]=n.node,t.node.childCount++,m1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=/[\[\].#$\/\u0000-\u001F\u007F]/,JC=/[\[\].#$\u0000-\u001F\u007F]/,qu=10*1024*1024,m3=function(t){return typeof t=="string"&&t.length!==0&&!$C.test(t)},_3=function(t){return typeof t=="string"&&t.length!==0&&!JC.test(t)},e6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_3(t)},E3=function(t,e,n){const o=n instanceof Lt?new mw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ts(o));if(typeof e=="function")throw new Error(t+"contains a function "+ts(o)+" with contents = "+e.toString());if(E_(e))throw new Error(t+"contains "+e.toString()+" "+ts(o));if(typeof e=="string"&&e.length>qu/3&&Kc(e)>qu)throw new Error(t+"contains a string greater than "+qu+" utf8 bytes "+ts(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,c=!1;if(mi(e,(m,v)=>{if(m===".value")l=!0;else if(m!==".priority"&&m!==".sv"&&(c=!0,!m3(m)))throw new Error(t+" contains an invalid key ("+m+") "+ts(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_w(o,m),E3(t,v,o),Ew(o)}),l&&c)throw new Error(t+' contains ".value" child '+ts(o)+" in addition to actual children.")}},y3=function(t,e,n,o){if(!(o&&n===void 0)&&!_3(n))throw new Error(l_(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},t6=function(t,e,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),y3(t,e,n,o)},n6=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!m3(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!e6(n))throw new Error(l_(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function x3(t,e){let n=null;for(let o=0;o<e.length;o++){const l=e[o],c=l.getPath();n!==null&&!wf(c,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:c}),n.events.push(l)}n&&t.eventLists_.push(n)}function v3(t,e,n){x3(t,n),w3(t,o=>wf(o,e))}function ws(t,e,n){x3(t,n),w3(t,o=>lo(o,e)||lo(e,o))}function w3(t,e){t.recursionDepth_++;let n=!0;for(let o=0;o<t.eventLists_.length;o++){const l=t.eventLists_[o];if(l){const c=l.path;e(c)?(o6(t.eventLists_[o]),t.eventLists_[o]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function o6(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const o=n.getEventRunner();ls&&Yn("event: "+n.toString()),Kl(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="repo_interrupt",s6=25;class a6{constructor(e,n,o,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new i6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cc(),this.transactionQueueTree_=new zf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function l6(t,e,n){if(t.stats_=xf(t.repoInfo_),t.forceRestClient_||Hv())t.server_=new wc(t.repoInfo_,(o,l,c,m)=>{Ap(t,o,l,c,m)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Tp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{On(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}t.persistentConnection_=new Xo(t.repoInfo_,e,(o,l,c,m)=>{Ap(t,o,l,c,m)},o=>{Tp(t,o)},o=>{c6(t,o)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(o=>{t.server_.refreshAuthToken(o)}),t.appCheckProvider_.addTokenChangeListener(o=>{t.server_.refreshAppCheckToken(o.token)}),t.statsReporter_=Zv(t.repoInfo_,()=>new jw(t.stats_,t.server_)),t.infoData_=new Uw,t.infoSyncTree_=new wp({startListening:(o,l,c,m)=>{let v=[];const C=t.infoData_.getNode(o._path);return C.isEmpty()||(v=tu(t.infoSyncTree_,o._path,C),setTimeout(()=>{m("ok")},0)),v},stopListening:()=>{}}),Wf(t,"connected",!1),t.serverSyncTree_=new wp({startListening:(o,l,c,m)=>(t.server_.listen(o,c,l,(v,C)=>{const y=m(v,C);ws(t.eventQueue_,o._path,y)}),[]),stopListening:(o,l)=>{t.server_.unlisten(o,l)}})}function d6(t){const n=t.infoData_.getNode(new Lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function C3(t){return jC({timestamp:d6(t)})}function Ap(t,e,n,o,l){t.dataUpdateCount++;const c=new Lt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let m=[];if(l)if(o){const C=mc(n,y=>Xn(y));m=UC(t.serverSyncTree_,c,C,l)}else{const C=Xn(n);m=kC(t.serverSyncTree_,c,C,l)}else if(o){const C=mc(n,y=>Xn(y));m=PC(t.serverSyncTree_,c,C)}else{const C=Xn(n);m=tu(t.serverSyncTree_,c,C)}let v=c;m.length>0&&(v=jf(t,c)),ws(t.eventQueue_,v,m)}function Tp(t,e){Wf(t,"connected",e),e===!1&&h6(t)}function c6(t,e){mi(e,(n,o)=>{Wf(t,n,o)})}function Wf(t,e,n){const o=new Lt("/.info/"+e),l=Xn(n);t.infoData_.updateSnapshot(o,l);const c=tu(t.infoSyncTree_,o,l);ws(t.eventQueue_,o,c)}function u6(t){return t.nextWriteId_++}function h6(t){S3(t,"onDisconnectEvents");const e=C3(t),n=Cc();d1(t.onDisconnect_,xt(),(l,c)=>{const m=YC(l,c,t.serverSyncTree_,e);Q_(n,l,m)});let o=[];d1(n,xt(),(l,c)=>{o=o.concat(tu(t.serverSyncTree_,l,c));const m=_6(t,l);jf(t,m)}),t.onDisconnect_=Cc(),ws(t.eventQueue_,xt(),o)}function f6(t,e,n){let o;lt(e._path)===".info"?o=Cp(t.infoSyncTree_,e,n):o=Cp(t.serverSyncTree_,e,n),v3(t.eventQueue_,e._path,o)}function Ip(t,e,n){let o;lt(e._path)===".info"?o=p1(t.infoSyncTree_,e,n):o=p1(t.serverSyncTree_,e,n),v3(t.eventQueue_,e._path,o)}function g6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(r6)}function S3(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yn(n,...e)}function A3(t,e,n){return d3(t.serverSyncTree_,e,n)||Ze.EMPTY_NODE}function Vf(t,e=t.transactionQueueTree_){if(e||ou(t,e),wa(e)){const n=I3(t,e);ge(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&p6(t,Jl(e),n)}else g3(e)&&iu(e,n=>{Vf(t,n)})}function p6(t,e,n){const o=n.map(y=>y.currentWriteId),l=A3(t,e,o);let c=l;const m=l.hash();for(let y=0;y<n.length;y++){const N=n[y];ge(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const T=ui(e,N.path);c=c.updateChild(T,N.currentOutputSnapshotRaw)}const v=c.val(!0),C=e;t.server_.put(C.toString(),v,y=>{S3(t,"transaction put response",{path:C.toString(),status:y});let N=[];if(y==="ok"){const T=[];for(let D=0;D<n.length;D++)n[D].status=2,N=N.concat(Xs(t.serverSyncTree_,n[D].currentWriteId)),n[D].onComplete&&T.push(()=>n[D].onComplete(null,!0,n[D].currentOutputSnapshotResolved)),n[D].unwatcher();ou(t,Hf(t.transactionQueueTree_,e)),Vf(t,t.transactionQueueTree_),ws(t.eventQueue_,e,N);for(let D=0;D<T.length;D++)Kl(T[D])}else{if(y==="datastale")for(let T=0;T<n.length;T++)n[T].status===3?n[T].status=4:n[T].status=0;else{Ii("transaction at "+C.toString()+" failed: "+y);for(let T=0;T<n.length;T++)n[T].status=4,n[T].abortReason=y}jf(t,e)}},m)}function jf(t,e){const n=T3(t,e),o=Jl(n),l=I3(t,n);return m6(t,l,o),o}function m6(t,e,n){if(e.length===0)return;const o=[];let l=[];const m=e.filter(v=>v.status===0).map(v=>v.currentWriteId);for(let v=0;v<e.length;v++){const C=e[v],y=ui(n,C.path);let N=!1,T;if(ge(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),C.status===4)N=!0,T=C.abortReason,l=l.concat(Xs(t.serverSyncTree_,C.currentWriteId,!0));else if(C.status===0)if(C.retryCount>=s6)N=!0,T="maxretry",l=l.concat(Xs(t.serverSyncTree_,C.currentWriteId,!0));else{const D=A3(t,C.path,m);C.currentInputSnapshot=D;const W=e[v].update(D.val());if(W!==void 0){E3("transaction failed: Data returned ",W,C.path);let X=Xn(W);typeof W=="object"&&W!=null&&tr(W,".priority")||(X=X.updatePriority(D.getPriority()));const _e=C.currentWriteId,H=C3(t),F=XC(X,D,H);C.currentOutputSnapshotRaw=X,C.currentOutputSnapshotResolved=F,C.currentWriteId=u6(t),m.splice(m.indexOf(_e),1),l=l.concat(DC(t.serverSyncTree_,C.path,F,C.currentWriteId,C.applyLocally)),l=l.concat(Xs(t.serverSyncTree_,_e,!0))}else N=!0,T="nodata",l=l.concat(Xs(t.serverSyncTree_,C.currentWriteId,!0))}ws(t.eventQueue_,n,l),l=[],N&&(e[v].status=2,function(D){setTimeout(D,Math.floor(0))}(e[v].unwatcher),e[v].onComplete&&(T==="nodata"?o.push(()=>e[v].onComplete(null,!1,e[v].currentInputSnapshot)):o.push(()=>e[v].onComplete(new Error(T),!1,null))))}ou(t,t.transactionQueueTree_);for(let v=0;v<o.length;v++)Kl(o[v]);Vf(t,t.transactionQueueTree_)}function T3(t,e){let n,o=t.transactionQueueTree_;for(n=lt(e);n!==null&&wa(o)===void 0;)o=Hf(o,n),e=kt(e),n=lt(e);return o}function I3(t,e){const n=[];return b3(t,e,n),n.sort((o,l)=>o.order-l.order),n}function b3(t,e,n){const o=wa(e);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);iu(e,l=>{b3(t,l,n)})}function ou(t,e){const n=wa(e);if(n){let o=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[o]=n[l],o++);n.length=o,f3(e,n.length>0?n:void 0)}iu(e,o=>{ou(t,o)})}function _6(t,e){const n=Jl(T3(t,e)),o=Hf(t.transactionQueueTree_,e);return KC(o,l=>{$u(t,l)}),$u(t,o),p3(o,l=>{$u(t,l)}),n}function $u(t,e){const n=wa(e);if(n){const o=[];let l=[],c=-1;for(let m=0;m<n.length;m++)n[m].status===3||(n[m].status===1?(ge(c===m-1,"All SENT items should be at beginning of queue."),c=m,n[m].status=3,n[m].abortReason="set"):(ge(n[m].status===0,"Unexpected transaction status in abort"),n[m].unwatcher(),l=l.concat(Xs(t.serverSyncTree_,n[m].currentWriteId,!0)),n[m].onComplete&&o.push(n[m].onComplete.bind(null,new Error("set"),!1,null))));c===-1?f3(e,void 0):n.length=c+1,ws(t.eventQueue_,Jl(e),l);for(let m=0;m<o.length;m++)Kl(o[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){let e="";const n=t.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function y6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Ii(`Invalid query segment '${n}' in query '${t}'`)}return e}const bp=function(t,e){const n=x6(t),o=n.namespace;n.domain==="firebase.com"&&Jo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&Jo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lv();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new R_(n.host,n.secure,o,l,e,"",o!==n.subdomain),path:new Lt(n.pathString)}},x6=function(t){let e="",n="",o="",l="",c="",m=!0,v="https",C=443;if(typeof t=="string"){let y=t.indexOf("//");y>=0&&(v=t.substring(0,y-1),t=t.substring(y+2));let N=t.indexOf("/");N===-1&&(N=t.length);let T=t.indexOf("?");T===-1&&(T=t.length),e=t.substring(0,Math.min(N,T)),N<T&&(l=E6(t.substring(N,T)));const D=y6(t.substring(Math.min(t.length,T)));y=e.indexOf(":"),y>=0?(m=v==="https"||v==="wss",C=parseInt(e.substring(y+1),10)):y=e.length;const W=e.slice(0,y);if(W.toLowerCase()==="localhost")n="localhost";else if(W.split(".").length<=2)n=W;else{const X=e.indexOf(".");o=e.substring(0,X).toLowerCase(),n=e.substring(X+1),c=o}"ns"in D&&(c=D.ns)}return{host:e,port:C,domain:n,subdomain:o,secure:m,scheme:v,pathString:l,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,o,l){this.eventType=e,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+On(this.snapshot.exportVal())}}class R3{constructor(e,n,o){this.eventRegistration=e,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,o,l){this._repo=e,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return dt(this._path)?null:U_(this._path)}get ref(){return new nr(this._repo,this._path)}get _queryIdentifier(){const e=up(this._queryParams),n=Ef(e);return n==="{}"?"default":n}get _queryObject(){return up(this._queryParams)}isEqual(e){if(e=qc(e),!(e instanceof Gf))return!1;const n=this._repo===e._repo,o=wf(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+pw(this._path)}}class nr extends Gf{constructor(e,n){super(e,n,new Tf,!1)}get parent(){const e=H_(this._path);return e===null?null:new nr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Hl{constructor(e,n,o){this._node=e,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Lt(e),o=Mc(this.ref,e);return new Hl(this._node.getChild(n),o,sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>e(new Hl(l,Mc(this.ref,o),sn)))}hasChild(e){const n=new Lt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ju(t,e){return t=qc(t),t._checkNotDeleted("ref"),e!==void 0?Mc(t._root,e):t._root}function Mc(t,e){return t=qc(t),lt(t._path)===null?t6("child","path",e,!1):y3("child","path",e,!1),new nr(t._repo,vn(t._path,e))}class Zf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const o=n._queryParams.getIndex();return new N3("value",this,new Hl(e.snapshotNode,new nr(n._repo,n._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new R3(this,e,n):null}matches(e){return e instanceof Zf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Yf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new R3(this,e,n):null}createEvent(e,n){ge(e.childName!=null,"Child events should have a childName.");const o=Mc(new nr(n._repo,n._path),e.childName),l=n._queryParams.getIndex();return new N3(e.type,this,new Hl(e.snapshotNode,o,l),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Yf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function w6(t,e,n,o,l){let c;if(typeof o=="object"&&(c=void 0,l=o),typeof o=="function"&&(c=o),l&&l.onlyOnce){const C=n,y=(N,T)=>{Ip(t._repo,t,v),C(N,T)};y.userCallback=n.userCallback,y.context=n.context,n=y}const m=new v6(n,c||void 0),v=e==="value"?new Zf(m):new Yf(e,m);return f6(t._repo,t,v),()=>Ip(t._repo,t,v)}function eh(t,e,n,o){return w6(t,"value",e,n,o)}AC(nr);MC(nr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="FIREBASE_DATABASE_EMULATOR_HOST",_1={};let S6=!1;function A6(t,e,n,o){t.repoInfo_=new R_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),o&&(t.authTokenProvider_=o)}function T6(t,e,n,o,l){let c=o||t.options.databaseURL;c===void 0&&(t.options.projectId||Jo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yn("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let m=bp(c,l),v=m.repoInfo,C,y;typeof process<"u"&&Yg&&(y=Yg[C6]),y?(C=!0,c=`http://${y}?ns=${v.namespace}`,m=bp(c,l),v=m.repoInfo):C=!m.repoInfo.secure;const N=l&&C?new ia(ia.OWNER):new Vv(t.name,t.options,e);n6("Invalid Firebase Database URL",m),dt(m.path)||Jo("Database URL must point to the root of a Firebase Database (not including a child path).");const T=b6(v,t,N,new Wv(t.name,n));return new N6(T,t)}function I6(t,e){const n=_1[e];(!n||n[t.key]!==t)&&Jo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),g6(t),delete n[t.key]}function b6(t,e,n,o){let l=_1[e.name];l||(l={},_1[e.name]=l);let c=l[t.toURLString()];return c&&Jo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new a6(t,S6,n,o),l[t.toURLString()]=c,c}class N6{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(l6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nr(this._repo,xt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(I6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Jo("Cannot call "+e+" on a deleted database.")}}function R6(t=pv(),e){const n=uv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const o=i5("database");o&&M6(n,...o)}return n}function M6(t,e,n,o={}){t=qc(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Jo("Cannot call useEmulator() after instance has already been initialized.");const l=t._repoInternal;let c;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&Jo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new ia(ia.OWNER);else if(o.mockUserToken){const m=typeof o.mockUserToken=="string"?o.mockUserToken:o5(o.mockUserToken,t.app.options.projectId);c=new ia(m)}A6(l,e,n,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){Iv(gv),Ec(new Ol("database",(e,{instanceIdentifier:n})=>{const o=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return T6(o,l,c,n)},"PUBLIC").setMultipleInstances(!0)),ta(Xg,Qg,t),ta(Xg,Qg,"esm2017")}Xo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Xo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};L6();const O6={apiKey:"AIzaSyBwM78rh1iYKCnJlW1-oYwB4dZbrRFdz-c",authDomain:"roomorientationdata.firebaseapp.com",databaseURL:"https://roomorientationdata-default-rtdb.firebaseio.com",projectId:"roomorientationdata",storageBucket:"roomorientationdata.appspot.com",messagingSenderId:"99942721154",appId:"1:99942721154:web:18939bfc42074d9316769b"},D6=h_(O6),th=R6(D6);function M3({style:t}){const[e,n]=nn.useState(""),[o,l]=nn.useState(""),[c,m]=nn.useState(!1),[v,C]=nn.useState(!1),y=nn.useRef(null),[N,T]=nn.useState(!1),[D,W]=nn.useState(!1);nn.useState(!1);const[X,j]=nn.useState(!1),[_e,H]=nn.useState(!1),[F,B]=nn.useState(!1),[J,pe]=nn.useState(""),[ce,K]=nn.useState(!1);nn.useState(!1);const fe=()=>{console.log("tangaga"),event.preventDefault();const V=new dx("reader",{qrbox:{width:300,height:300},fps:20}),Fe=bt=>{console.log("QR Code Value Detected:",bt),n(bt),K(!1),V.clear()},ke=bt=>{console.error(bt)};ce?(V.clear(),K(!1)):(K(!0),V.render(Fe,ke))},ne=V=>{const{value:Fe}=V.target;pe(Fe)},Ye=()=>{T(!N),W(!N)};let Pe=[],ye;const Ue=nn.useRef(null);nn.useEffect(()=>{Ue.current=Gn.map("map",{center:[0,-.09],zoom:13,zoomControl:!1,crs:Gn.CRS.EPSG3395}),Ue.current.setView([10,10],3);const V=()=>{m(!1),C(!1)};return document.body.addEventListener("click",V),()=>{Ue.current.remove(),document.body.removeEventListener("click",V)}},[]);const Ie=V=>{let Fe=[{url:V,bounds:V==="main2ndFloorPlan"||V==="main5thFloorPlan"?[[0,0],[12,15]]:[[0,0],[10,10]]}];Ue.current.eachLayer(function(ke){ke instanceof Gn.ImageOverlay&&Ue.current.removeLayer(ke)}),Fe.forEach(function(ke){Gn.imageOverlay(ke.url,ke.bounds).addTo(Ue.current)})};function ee(V){V==="science2ndFloor"?Ie(fx):V==="science3rdFloor"?Ie(gx):V==="main4thFloor"?Ie(Tx):V==="main5thFloor"?Ie(Ix):V==="main6thFloor"?Ie(bx):V==="main3rdFloor"?Ie(Nx):V==="main2ndFloor"?Ie(Rx):V==="mainGroundFloor"?Ie(Mx):V==="science4thFloor"?Ie(px):V==="science5thFloor"?Ie(mx):V==="science6thFloor"?Ie(_x):V==="science1stFloor"?Ie(hx):V==="scienceGroundFloor"?Ie(ux):V==="CHTMEDS4thFloor"?Ie(Ex):V==="CHTMEDS5thFloor"?Ie(yx):V==="CHTMEDS6thFloor"?Ie(xx):V==="CHTMEDS7thFloor"?Ie(vx):V==="CHTMEDS8thFloor"?Ie(wx):V==="CHTMEDS9thFloor"?Ie(Cx):V==="EDS3rdFloor"?Ie(Sx):V==="CHTM10thFloor"?Ie(Ax):V==="BRS1stFloor"?Ie(Ox):V==="BRS2ndFloor"?Ie(Dx):V==="BRS3rdFloor"?Ie(Px):V==="BRS4thFloor"?Ie(Fx):V==="BRS5thFloor"?Ie(Bx):V==="BRS6thFloor"?Ie(kx):V==="BRS7thFloor"?Ie(Ux):V==="BRS8thFloor"?Ie(zx):V==="BRS9thFloor"?Ie(Hx):V==="BRS10thFloor"&&Ie(Wx)}const Re=V=>{Be(),te(),le(V),Ro(V),ee(V),ae(Pe)},Be=()=>{Ue.current.eachLayer(V=>{V instanceof Gn.Marker&&Ue.current.removeLayer(V)})},te=()=>{Ue.current.eachLayer(V=>{V instanceof Gn.Polyline&&Ue.current.removeLayer(V)})};let Me=[];const le=V=>{Me=Vx(V),He(Ue.current,Me)},He=(V,Fe)=>{Fe.forEach(ke=>{ze(ke,V)})},ze=(V,Fe)=>{if(!Fe){console.error("Map not defined. Cannot add marker.");return}function ke(ct,Ke){if(Ke==="BRS")switch(ct){case 1:Re("BRS1stFloor");break;case 2:Re("BRS2ndFloor");break;case 3:Re("BRS3rdFloor");break;case 4:Re("BRS4thFloor");break;case 5:Re("BRS5thFloor");break;case 6:Re("BRS6thFloor");break;case 7:Re("BRS7thFloor");break;case 8:Re("BRS8thFloor");break;case 9:Re("BRS9thFloor");break;case 10:Re("BRS10thFloor");break}else if(Ke==="EDS"||Ke==="CHTM")switch(ct){case 2:Re("main2ndFloor");break;case 3:Re("EDS3rdFloor");break;case 4:Re("CHTMEDS4thFloor");break;case 5:Re("CHTMEDS5thFloor");break;case 6:Re("CHTMEDS6thFloor");break;case 7:Re("CHTMEDS7thFloor");break;case 8:Re("CHTMEDS8thFloor");break;case 9:Re("CHTMEDS9thFloor");break;case 10:Re("CHTM10thFloor");break}}if(Object.prototype.hasOwnProperty.call(V,"label")){const ct=Gn.marker([V.lat,V.lon]).addTo(Fe);let Ke;if(V.label==="leaveButton"&&(V.direction==="up"?Ke=Gx:V.direction==="down"?Ke=Zx:Ke=Lx,ct.bindPopup(`Node ${V.id}`),ct.setIcon(Gn.icon({iconUrl:Ke,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]})),ct.on("click",()=>{Be(),Re(V.destination);let Je=(Yt=>Me.find(un=>un.id===Yt))(V.desti);Ue.current.flyTo([Je.lat,Je.lon],8,{duration:1,easeLinearity:.5})})),V.label==="classroomLogo"&&(V.node===1&&ct.bindPopup('<iframe src="https://www.uc-bcf.edu.ph/college/of/engineering-and-architecture" width="500" height="300" style="overflow-x: auto; overflow-y: hidden; zoom: 0.8;"></iframe>',{maxWidth:600,maxHeight:200}),ct.setIcon(Gn.icon({iconUrl:cx,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}))),V.label==="elevator"){ct.bindPopup(`Node ${V.id}`),ct.setIcon(Gn.icon({iconUrl:yg,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}));let Ne;V.elevatorBuilding==="BRS"?Ne=[{id:1,node:143},{id:2,node:113},{id:3,node:166},{id:4,node:195},{id:5,node:224},{id:6,node:239},{id:7,node:264},{id:8,node:289},{id:9,node:314},{id:10,node:1046}]:V.elevatorBuilding==="EDS"?Ne=[{id:2,node:864},{id:3,node:1234},{id:4,node:1116},{id:5,node:1165},{id:6,node:1276},{id:7,node:1346},{id:8,node:1419},{id:9,node:1506}]:V.elevatorBuilding==="CHTM"&&(Ne=[{id:4,node:1142},{id:5,node:1198},{id:6,node:1290},{id:7,node:1370},{id:8,node:1446},{id:9,node:1521},{id:10,node:1604}]),ct.on("click",()=>{let Je,Yt;for(let We=0;We<Pe.length;We++)for(let Ot=0;Ot<Ne.length;Ot++)Pe[We]===Ne[Ot].node&&(Je=Ne[Ot].id);console.log(Pe);let un=!1;for(let We=0;We<Pe.length;We++){for(let Ot=0;Ot<Ne.length;Ot++)if(Pe[We]===Ne[Ot].node){un=!0,Yt=Ne[Ot].id;break}if(un)break}let Li=document.createElement("div");for(let We=Ne[0].id;We<=Ne[Ne.length-1].id;We++){let Ot=document.createElement("button");Ot.textContent=We,Ot.addEventListener("click",()=>{ke(We,V.elevatorBuilding)}),We===Yt&&(Ot.style.border="none"),We===Je&&(Ot.style.backgroundColor="red"),Li.appendChild(Ot)}ct.getPopup().setContent(Li),ct.openPopup()})}let Qi="Your Current Location: ",mt="Your Destination: ",re=Pe[0],$e=Pe[Pe.length-1];V.id===re&&ct.bindPopup(`<strong>${Qi}</strong> Room: ${V.roomID}`),V.id===$e&&(ct.bindPopup(`<strong>${mt}</strong> Room: ${V.roomID}`),ct.openPopup())}const bt=(ct,Ke,Qi,mt)=>new Promise((re,$e)=>{if(Qi==="roomID"){const Ne=Ju(th,ct);eh(Ne,Je=>{const Yt=Je.val();for(let un=1;un<=35;un++)if(Yt&&Yt[Ke]&&Yt[Ke].length>0&&Yt[Ke][un].node===mt){const Li=Yt[Ke][un].roomID;re(Li)}})}else $e("Type is not 'roomID'")}),kn=(ct,Ke,Qi,mt)=>new Promise((re,$e)=>{if(Qi==="roomID"){const Ne=Ju(th,ct);eh(Ne,Je=>{const Yt=Je.val();for(let un=1;un<=35;un++)if(Yt&&Yt[Ke]&&Yt[Ke].length>0&&Yt[Ke][un].node===mt){const Li=Yt[Ke][un].cat;re(Li)}})}else $e("Type is not 'roomID'")});if(Object.prototype.hasOwnProperty.call(V,"title")){var qt=Gn.latLng(V.lat,V.lon);kn(V.building,V.floor,"roomID",V.node).then(ct=>{bt(V.building,V.floor,"roomID",V.node).then(Ke=>{ct===""?Gn.marker(qt,{icon:Gn.divIcon({html:`<strong> ${ct} </strong> ${Ke}`,className:"text-below-marker"})}).addTo(Fe):Gn.marker(qt,{icon:Gn.divIcon({html:`<strong> ${ct}: </strong> ${Ke}`,className:"text-below-marker"})}).addTo(Fe)}).catch(Ke=>{console.error("Error:",Ke)})}).catch(ct=>{console.error("Error:",ct)})}it(Pe,Me)},St=(V,Fe)=>{for(let ke=0;ke<V.length;ke++)for(let bt=0;bt<Fe.length;bt++)if(V[ke]===Fe[bt].id)return console.log("ehe:",V[ke]),Fe[bt].id},je=V=>Me.find(Fe=>Fe.id===V),it=(V,Fe)=>{const ke=je(St(V,Fe));ke&&Ue.current.flyTo([ke.lat,ke.lon],8,{duration:1,easeLinearity:.5})},ae=V=>{for(let Fe=0;Fe<V.length-1;Fe++){const ke=je(V[Fe]),bt=je(V[Fe+1]);ke&&bt&&cn(Ue.current,ke,bt)}},cn=(V,Fe,ke)=>{const bt=[[Fe.lat,Fe.lon],[ke.lat,ke.lon]];Gn.polyline(bt,{weight:"4",color:"red"}).addTo(V)},vt=jx(),po=V=>{const{value:Fe}=V.target;n(Fe),m(Fe.trim().length>0)},Xi=V=>{const{value:Fe}=V.target;l(Fe),C(Fe.trim().length>0)},an=(V,Fe)=>{Fe?(n(V),m(!1)):(l(V),C(!1))},Mi=V=>{V.preventDefault();const Fe=ke=>new Promise((bt,kn)=>{const qt=["BRS","Science","EDS","Main","PE","CHTM"];for(let ct=0;ct<qt.length;ct++){const Ke=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"],Qi=Ju(th,qt[ct]);eh(Qi,mt=>{const re=mt.val();for(let $e=0;$e<Ke.length;$e++)for(let Ne=1;Ne<=35;Ne++)if(re&&re[Ke[$e]]&&re[Ke[$e]][Ne])if(re[Ke[$e]][Ne].roomID.toLowerCase()===ke.toLowerCase()||re[Ke[$e]][Ne].roomID.toUpperCase()===ke.toUpperCase()||re[Ke[$e]][Ne].cat.toLowerCase()===ke.toLowerCase()||re[Ke[$e]][Ne].cat.toUpperCase()===ke.toUpperCase()){let Je=re[Ke[$e]][Ne].node;console.log("Node: ",re[Ke[$e]][Ne].node,"Cat: ",re[Ke[$e]][Ne].cat),bt(Je);return}else console.log("wala data");else console.log("sa ",re[Ke[$e]][Ne],"wala")},mt=>{kn(mt)})}});_e&&(console.log("fac:",F),Fe(e).then(ke=>{Fe(o).then(bt=>{console.log("tagmga",bt),Pe=xg("enterDestination",String(ke),String(bt),N,X),ye=vg("enterDestination",String(ke),String(bt),N,X),Re(ye)})})),F&&(console.log("HAHAHAHA"),Fe(e).then(ke=>{Pe=xg("enterFindFacility",ke,J,N,X),ye=vg("enterFindFacility",ke,J,N,X),Re(ye)}))},st=vt.filter(V=>V.toLowerCase().indexOf(e.toLowerCase())!==-1),mo=vt.filter(V=>V.toLowerCase().indexOf(o.toLowerCase())!==-1),[Kn,_o]=nn.useState(""),Kt=V=>{const{value:Fe}=V.target;_o(Fe),Fe==="Enter Destination"?(H(!0),B(!1)):(H(!1),B(!0))},[pt,Ce]=nn.useState(""),Ro=V=>{V=="science2ndFloor"?Ce("Science Building 2nd Floor, PE Building 1st Floor"):V=="science3rdFloor"?Ce("Science Building 3rd Floor, PE Building 3rd Floor"):V=="science4thFloor"?Ce("Science Building 4th Floor, PE Building 4th Floor"):V=="science5thFloor"?Ce("Science Building 5th Floor, PE Building 5th Floor"):V=="science6thFloor"?Ce("Science Building 6th Floor, PE Building 6th Floor"):V=="CHTMEDS4thFloor"?Ce("EDS Building 4th Floor, CHTM Building 4th Floor"):V=="CHTMEDS5thFloor"?Ce("EDS Building 5th Floor, CHTM Building 5th Floor"):V=="CHTMEDS6thFloor"?Ce("EDS Building 6th Floor, CHTM Building 6th Floor"):V=="CHTMEDS7thFloor"?Ce("EDS Building 7th Floor, CHTM Building 7th Floor"):V=="CHTMEDS8thFloor"?Ce("EDS Building 8th Floor, CHTM Building 8th Floor"):V=="CHTMEDS9thFloor"?Ce("EDS Building 9th Floor, CHTM Building 9th Floor"):V=="EDS3rdFloor"?Ce("EDS Building 3rd Floor"):V=="CHTM10thFloor"?Ce("CHTM Building 10th Floor"):V=="main4thFloor"?Ce("Main Building 4th Floor"):V=="main5thFloor"?Ce("Main Building 5th Floor"):V=="main6thFloor"?Ce("Main Building 6th Floor"):V=="main3rdFloor"?Ce("Main Building 3rd Floor"):V=="mainGroundFloor"?Ce("Main Building Ground Floor"):V=="main2ndFloor"?Ce("Main Building 2nd Floor, EDS Building 2nd Floor"):V=="science1stFloor"?Ce("Science Building 1st Floor, PE Building Ground Floor"):V=="scienceGroundFloor"?Ce("Science Building Ground Floor"):V=="BRS1stFloor"?Ce("BRS Building 1st Floor"):V=="BRS2ndFloor"?Ce("BRS Building 2nd Floor"):V=="BRS3rdFloor"?Ce("BRS Building 3rd Floor"):V=="BRS4thFloor"?Ce("BRS Building 4th Floor"):V=="BRS5thFloor"?Ce("BRS Building 5th Floor"):V=="BRS6thFloor"?Ce("BRS Building 6th Floor"):V=="BRS7thFloor"?Ce("BRS Building 7th Floor"):V=="BRS8thFloor"?Ce("BRS Building 8th Floor"):V=="BRS9thFloor"?Ce("BRS Building 9th Floor"):V=="BRS10thFloor"&&Ce("BRS Building 10th Floor")},[we,Mo]=nn.useState(!1),ir=()=>{Mo(!we)};return Oe.jsxs("div",{style:t,ref:y,children:[Oe.jsx("div",{children:we&&Oe.jsx("div",{className:"popup-container",children:Oe.jsxs("div",{className:"popup-content",children:[Oe.jsx("span",{className:"exit-button",onClick:ir,children:"X"}),Oe.jsx("img",{src:Yx,style:{},alt:"Placeholder Image"})]})})}),Oe.jsx("div",{id:"reader",style:{display:ce?"block":"none"}}),Oe.jsx("div",{id:"result"}),Oe.jsxs("div",{className:"sticky-div",children:[Oe.jsx("div",{children:Oe.jsx("button",{onClick:ir,className:"direction",children:"Instructions/Legends"})}),Oe.jsx("div",{children:Oe.jsxs("select",{value:Kn,onChange:Kt,className:"pickButton",children:[Oe.jsx("option",{defaultValue:"",children:"Choose Destination"}),Oe.jsx("option",{value:"Enter Destination",children:"Enter Destination"}),Oe.jsx("option",{value:"Find Closest Facility",children:"Find Facility/Office"})]})}),Oe.jsx("div",{style:{display:_e||F?"block":"none"},children:Oe.jsx("form",{children:Oe.jsxs("div",{style:{display:"flex",borderBottom:"4px solid #0c380c"},children:[Oe.jsxs("span",{style:{flex:"70%",background:"#0c380c"},children:[Oe.jsxs("div",{style:{display:"flex"},children:[Oe.jsx("div",{style:{flex:"100%"},children:Oe.jsx("label",{children:Oe.jsx("input",{className:"InputBox",placeholder:"Enter Your Current Location",type:"text",name:"currentPost",value:e,onChange:po})})}),Oe.jsx("div",{children:Oe.jsx("button",{className:"qrButton",onClick:fe,children:"QR"})})]}),c&&Oe.jsx("ul",{className:"Suggestions",children:st.map((V,Fe)=>Oe.jsx("li",{onClick:()=>an(V,!0),children:V},Fe))}),Oe.jsx("label",{children:Oe.jsx("input",{className:"InputBox",placeholder:"Enter Your Destination",type:"text",name:"destination",value:o,onChange:Xi,style:{display:_e?"block":"none"}})}),v&&Oe.jsx("ul",{className:"Suggestions",children:mo.map((V,Fe)=>Oe.jsx("li",{onClick:()=>an(V,!1),children:V},Fe))}),Oe.jsxs("select",{style:{display:_e?"none":"block"},className:"InputBox",id:"selectFac",value:J,onChange:ne,children:[Oe.jsx("option",{children:"Select Facility"}),Oe.jsx("option",{children:"CR(WOMEN)"}),Oe.jsx("option",{children:"CR(MEN)"}),Oe.jsx("option",{children:"Gymnasium"}),Oe.jsx("option",{children:"Student Lounge"}),Oe.jsx("option",{children:"Sanctuary"}),Oe.jsx("option",{children:"Auditorium"}),Oe.jsx("option",{children:"Canao Hall"})]})]}),Oe.jsx("span",{style:{flex:"30%",background:"#0c380c",borderLeft:"2px solid #0c380c",borderRight:"2px solid #0c380c",borderTop:"1px solid #0c380c"},children:Oe.jsxs("div",{children:[Oe.jsx("div",{style:{display:"flex",justifyContent:"center"},children:Oe.jsxs("div",{className:`CheckboxDiv ${D?"clicked":""}`,onClick:Ye,children:[Oe.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:N,onChange:()=>{}}),Oe.jsx("img",{src:yg,className:"checkbox-image",alt:"Elevator Logo"})]})}),Oe.jsx("div",{children:Oe.jsx("button",{title:"Locate",className:"Locatebuttons",onClick:Mi,children:" Locate"})})]})})]})})}),Oe.jsx("div",{className:"currentPosition",style:{},children:Oe.jsxs("h4",{style:{textAlign:"center",margin:"5px",opacity:"0.6",borderRadius:"60px"},children:[" ",pt]})})]}),Oe.jsx("div",{id:"map",style:{width:"100%",height:"1000px"}})]})}M3.propTypes={style:C4.object};function P6(){return Oe.jsx(Oe.Fragment,{children:Oe.jsx(M3,{})})}nh.createRoot(document.getElementById("root")).render(Oe.jsx(aE.StrictMode,{children:Oe.jsx(P6,{})}));
