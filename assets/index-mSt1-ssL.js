(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function n(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function s(d){if(d.ep)return;d.ep=!0;const g=n(d);fetch(d.href,g)}})();var Ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o2={exports:{}},bc={},r2={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),g3=Symbol.for("react.portal"),p3=Symbol.for("react.fragment"),m3=Symbol.for("react.strict_mode"),_3=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),x3=Symbol.for("react.context"),y3=Symbol.for("react.forward_ref"),w3=Symbol.for("react.suspense"),v3=Symbol.for("react.memo"),C3=Symbol.for("react.lazy"),Yf=Symbol.iterator;function S3(t){return t===null||typeof t!="object"?null:(t=Yf&&t[Yf]||t["@@iterator"],typeof t=="function"?t:null)}var s2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l2=Object.assign,a2={};function ul(t,e,n){this.props=t,this.context=e,this.refs=a2,this.updater=n||s2}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d2(){}d2.prototype=ul.prototype;function nh(t,e,n){this.props=t,this.context=e,this.refs=a2,this.updater=n||s2}var ih=nh.prototype=new d2;ih.constructor=nh;l2(ih,ul.prototype);ih.isPureReactComponent=!0;var Kf=Array.isArray,c2=Object.prototype.hasOwnProperty,oh={current:null},u2={key:!0,ref:!0,__self:!0,__source:!0};function h2(t,e,n){var s,d={},g=null,_=null;if(e!=null)for(s in e.ref!==void 0&&(_=e.ref),e.key!==void 0&&(g=""+e.key),e)c2.call(e,s)&&!u2.hasOwnProperty(s)&&(d[s]=e[s]);var w=arguments.length-2;if(w===1)d.children=n;else if(1<w){for(var v=Array(w),b=0;b<w;b++)v[b]=arguments[b+2];d.children=v}if(t&&t.defaultProps)for(s in w=t.defaultProps,w)d[s]===void 0&&(d[s]=w[s]);return{$$typeof:Ba,type:t,key:g,ref:_,props:d,_owner:oh.current}}function b3(t,e){return{$$typeof:Ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ba}function A3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qf=/\/+/g;function ou(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A3(""+t.key):e.toString(36)}function bd(t,e,n,s,d){var g=typeof t;(g==="undefined"||g==="boolean")&&(t=null);var _=!1;if(t===null)_=!0;else switch(g){case"string":case"number":_=!0;break;case"object":switch(t.$$typeof){case Ba:case g3:_=!0}}if(_)return _=t,d=d(_),t=s===""?"."+ou(_,0):s,Kf(d)?(n="",t!=null&&(n=t.replace(qf,"$&/")+"/"),bd(d,e,n,"",function(b){return b})):d!=null&&(rh(d)&&(d=b3(d,n+(!d.key||_&&_.key===d.key?"":(""+d.key).replace(qf,"$&/")+"/")+t)),e.push(d)),1;if(_=0,s=s===""?".":s+":",Kf(t))for(var w=0;w<t.length;w++){g=t[w];var v=s+ou(g,w);_+=bd(g,e,n,v,d)}else if(v=S3(t),typeof v=="function")for(t=v.call(t),w=0;!(g=t.next()).done;)g=g.value,v=s+ou(g,w++),_+=bd(g,e,n,v,d);else if(g==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return _}function sd(t,e,n){if(t==null)return t;var s=[],d=0;return bd(t,s,"","",function(g){return e.call(n,g,d++)}),s}function I3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ai={current:null},Ad={transition:null},T3={ReactCurrentDispatcher:ai,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:oh};xt.Children={map:sd,forEach:function(t,e,n){sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sd(t,function(){e++}),e},toArray:function(t){return sd(t,function(e){return e})||[]},only:function(t){if(!rh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=ul;xt.Fragment=p3;xt.Profiler=_3;xt.PureComponent=nh;xt.StrictMode=m3;xt.Suspense=w3;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T3;xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=l2({},t.props),d=t.key,g=t.ref,_=t._owner;if(e!=null){if(e.ref!==void 0&&(g=e.ref,_=oh.current),e.key!==void 0&&(d=""+e.key),t.type&&t.type.defaultProps)var w=t.type.defaultProps;for(v in e)c2.call(e,v)&&!u2.hasOwnProperty(v)&&(s[v]=e[v]===void 0&&w!==void 0?w[v]:e[v])}var v=arguments.length-2;if(v===1)s.children=n;else if(1<v){w=Array(v);for(var b=0;b<v;b++)w[b]=arguments[b+2];s.children=w}return{$$typeof:Ba,type:t.type,key:d,ref:g,props:s,_owner:_}};xt.createContext=function(t){return t={$$typeof:x3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E3,_context:t},t.Consumer=t};xt.createElement=h2;xt.createFactory=function(t){var e=h2.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:y3,render:t}};xt.isValidElement=rh;xt.lazy=function(t){return{$$typeof:C3,_payload:{_status:-1,_result:t},_init:I3}};xt.memo=function(t,e){return{$$typeof:v3,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xt.useCallback=function(t,e){return ai.current.useCallback(t,e)};xt.useContext=function(t){return ai.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return ai.current.useDeferredValue(t)};xt.useEffect=function(t,e){return ai.current.useEffect(t,e)};xt.useId=function(){return ai.current.useId()};xt.useImperativeHandle=function(t,e,n){return ai.current.useImperativeHandle(t,e,n)};xt.useInsertionEffect=function(t,e){return ai.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return ai.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return ai.current.useMemo(t,e)};xt.useReducer=function(t,e,n){return ai.current.useReducer(t,e,n)};xt.useRef=function(t){return ai.current.useRef(t)};xt.useState=function(t){return ai.current.useState(t)};xt.useSyncExternalStore=function(t,e,n){return ai.current.useSyncExternalStore(t,e,n)};xt.useTransition=function(){return ai.current.useTransition()};xt.version="18.2.0";r2.exports=xt;var zt=r2.exports;const R3=th(zt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3=zt,L3=Symbol.for("react.element"),O3=Symbol.for("react.fragment"),M3=Object.prototype.hasOwnProperty,P3=N3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F3={key:!0,ref:!0,__self:!0,__source:!0};function f2(t,e,n){var s,d={},g=null,_=null;n!==void 0&&(g=""+n),e.key!==void 0&&(g=""+e.key),e.ref!==void 0&&(_=e.ref);for(s in e)M3.call(e,s)&&!F3.hasOwnProperty(s)&&(d[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)d[s]===void 0&&(d[s]=e[s]);return{$$typeof:L3,type:t,key:g,ref:_,props:d,_owner:P3.current}}bc.Fragment=O3;bc.jsx=f2;bc.jsxs=f2;o2.exports=bc;var Re=o2.exports,Uu={},g2={exports:{}},Oi={},p2={exports:{}},m2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,Me){var de=ie.length;ie.push(Me);e:for(;0<de;){var ze=de-1>>>1,ke=ie[ze];if(0<d(ke,Me))ie[ze]=Me,ie[de]=ke,de=ze;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var Me=ie[0],de=ie.pop();if(de!==Me){ie[0]=de;e:for(var ze=0,ke=ie.length,je=ke>>>1;ze<je;){var We=2*(ze+1)-1,Be=ie[We],te=We+1,fn=ie[te];if(0>d(Be,de))te<ke&&0>d(fn,Be)?(ie[ze]=fn,ie[te]=de,ze=te):(ie[ze]=Be,ie[We]=de,ze=We);else if(te<ke&&0>d(fn,de))ie[ze]=fn,ie[te]=de,ze=te;else break e}}return Me}function d(ie,Me){var de=ie.sortIndex-Me.sortIndex;return de!==0?de:ie.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;t.unstable_now=function(){return g.now()}}else{var _=Date,w=_.now();t.unstable_now=function(){return _.now()-w}}var v=[],b=[],M=1,N=null,F=3,V=!1,$=!1,X=!1,Ne=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var Me=n(b);Me!==null;){if(Me.callback===null)s(b);else if(Me.startTime<=ie)s(b),Me.sortIndex=Me.expirationTime,e(v,Me);else break;Me=n(b)}}function J(ie){if(X=!1,B(ie),!$)if(n(v)!==null)$=!0,ot(Ee);else{var Me=n(b);Me!==null&&Fe(J,Me.startTime-ie)}}function Ee(ie,Me){$=!1,X&&(X=!1,W(pe),pe=-1),V=!0;var de=F;try{for(B(Me),N=n(v);N!==null&&(!(N.expirationTime>Me)||ie&&!Qe());){var ze=N.callback;if(typeof ze=="function"){N.callback=null,F=N.priorityLevel;var ke=ze(N.expirationTime<=Me);Me=t.unstable_now(),typeof ke=="function"?N.callback=ke:N===n(v)&&s(v),B(Me)}else s(v);N=n(v)}if(N!==null)var je=!0;else{var We=n(b);We!==null&&Fe(J,We.startTime-Me),je=!1}return je}finally{N=null,F=de,V=!1}}var ge=!1,K=null,pe=-1,oe=5,Oe=-1;function Qe(){return!(t.unstable_now()-Oe<oe)}function Ce(){if(K!==null){var ie=t.unstable_now();Oe=ie;var Me=!0;try{Me=K(!0,ie)}finally{Me?it():(ge=!1,K=null)}}else ge=!1}var it;if(typeof D=="function")it=function(){D(Ce)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,ee=Ct.port2;Ct.port1.onmessage=Ce,it=function(){ee.postMessage(null)}}else it=function(){Ne(Ce,0)};function ot(ie){K=ie,ge||(ge=!0,it())}function Fe(ie,Me){pe=Ne(function(){ie(t.unstable_now())},Me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){$||V||($=!0,ot(Ee))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return n(v)},t.unstable_next=function(ie){switch(F){case 1:case 2:case 3:var Me=3;break;default:Me=F}var de=F;F=Me;try{return ie()}finally{F=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,Me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=F;F=ie;try{return Me()}finally{F=de}},t.unstable_scheduleCallback=function(ie,Me,de){var ze=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,ie){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,ie={id:M++,callback:Me,priorityLevel:ie,startTime:de,expirationTime:ke,sortIndex:-1},de>ze?(ie.sortIndex=de,e(b,ie),n(v)===null&&ie===n(b)&&(X?(W(pe),pe=-1):X=!0,Fe(J,de-ze))):(ie.sortIndex=ke,e(v,ie),$||V||($=!0,ot(Ee))),ie},t.unstable_shouldYield=Qe,t.unstable_wrapCallback=function(ie){var Me=F;return function(){var de=F;F=Me;try{return ie.apply(this,arguments)}finally{F=de}}}})(m2);p2.exports=m2;var D3=p2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2=zt,Li=D3;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E2=new Set,ua={};function gs(t,e){el(t,e),el(t+"Capture",e)}function el(t,e){for(ua[t]=e,t=0;t<e.length;t++)E2.add(e[t])}var Go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,k3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qf={},$f={};function B3(t){return Wu.call($f,t)?!0:Wu.call(Qf,t)?!1:k3.test(t)?$f[t]=!0:(Qf[t]=!0,!1)}function z3(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function H3(t,e,n,s){if(e===null||typeof e>"u"||z3(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function di(t,e,n,s,d,g,_){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=g,this.removeEmptyString=_}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new di(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new di(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new di(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new di(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new di(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new di(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new di(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new di(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new di(t,5,!1,t.toLowerCase(),null,!1,!1)});var sh=/[\-:]([a-z])/g;function lh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sh,lh);Un[e]=new di(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sh,lh);Un[e]=new di(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sh,lh);Un[e]=new di(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new di(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new di(t,1,!1,t.toLowerCase(),null,!0,!0)});function ah(t,e,n,s){var d=Un.hasOwnProperty(e)?Un[e]:null;(d!==null?d.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(H3(e,n,d,s)&&(n=null),s||d===null?B3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):d.mustUseProperty?t[d.propertyName]=n===null?d.type===3?!1:"":n:(e=d.attributeName,s=d.attributeNamespace,n===null?t.removeAttribute(e):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Ko=_2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ld=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),dh=Symbol.for("react.strict_mode"),Vu=Symbol.for("react.profiler"),x2=Symbol.for("react.provider"),y2=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),Gu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),uh=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),w2=Symbol.for("react.offscreen"),Jf=Symbol.iterator;function Ml(t){return t===null||typeof t!="object"?null:(t=Jf&&t[Jf]||t["@@iterator"],typeof t=="function"?t:null)}var an=Object.assign,ru;function Yl(t){if(ru===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ru=e&&e[1]||""}return`
`+ru+t}var su=!1;function lu(t,e){if(!t||su)return"";su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(b){var s=b}Reflect.construct(t,[],e)}else{try{e.call()}catch(b){s=b}t.call(e.prototype)}else{try{throw Error()}catch(b){s=b}t()}}catch(b){if(b&&s&&typeof b.stack=="string"){for(var d=b.stack.split(`
`),g=s.stack.split(`
`),_=d.length-1,w=g.length-1;1<=_&&0<=w&&d[_]!==g[w];)w--;for(;1<=_&&0<=w;_--,w--)if(d[_]!==g[w]){if(_!==1||w!==1)do if(_--,w--,0>w||d[_]!==g[w]){var v=`
`+d[_].replace(" at new "," at ");return t.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",t.displayName)),v}while(1<=_&&0<=w);break}}}finally{su=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yl(t):""}function U3(t){switch(t.tag){case 5:return Yl(t.type);case 16:return Yl("Lazy");case 13:return Yl("Suspense");case 19:return Yl("SuspenseList");case 0:case 2:case 15:return t=lu(t.type,!1),t;case 11:return t=lu(t.type.render,!1),t;case 1:return t=lu(t.type,!0),t;default:return""}}function ju(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Rs:return"Portal";case Vu:return"Profiler";case dh:return"StrictMode";case Gu:return"Suspense";case Zu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y2:return(t.displayName||"Context")+".Consumer";case x2:return(t._context.displayName||"Context")+".Provider";case ch:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uh:return e=t.displayName||null,e!==null?e:ju(t.type)||"Memo";case dr:e=t._payload,t=t._init;try{return ju(t(e))}catch{}}return null}function W3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ju(e);case 8:return e===dh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V3(t){var e=v2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,g=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return d.call(this)},set:function(_){s=""+_,g.call(this,_)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ad(t){t._valueTracker||(t._valueTracker=V3(t))}function C2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=v2(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xu(t,e){var n=e.checked;return an({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function e0(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S2(t,e){e=e.checked,e!=null&&ah(t,"checked",e,!1)}function Yu(t,e){S2(t,e);var n=Ar(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ku(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ku(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function t0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ku(t,e,n){(e!=="number"||kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kl=Array.isArray;function Vs(t,e,n,s){if(t=t.options,e){e={};for(var d=0;d<n.length;d++)e["$"+n[d]]=!0;for(n=0;n<t.length;n++)d=e.hasOwnProperty("$"+t[n].value),t[n].selected!==d&&(t[n].selected=d),d&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,d=0;d<t.length;d++){if(t[d].value===n){t[d].selected=!0,s&&(t[d].defaultSelected=!0);return}e!==null||t[d].disabled||(e=t[d])}e!==null&&(e.selected=!0)}}function qu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return an({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function n0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Kl(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function b2(t,e){var n=Ar(e.value),s=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function i0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,I2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,d){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,d)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G3=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(t){G3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$l[e]=$l[t]})});function T2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$l.hasOwnProperty(t)&&$l[t]?(""+e).trim():e+"px"}function R2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,d=T2(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,d):t[n]=d}}var Z3=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(t,e){if(e){if(Z3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Ju(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function hh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var t1=null,Gs=null,Zs=null;function o0(t){if(t=Ua(t)){if(typeof t1!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Nc(e),t1(t.stateNode,t.type,e))}}function N2(t){Gs?Zs?Zs.push(t):Zs=[t]:Gs=t}function L2(){if(Gs){var t=Gs,e=Zs;if(Zs=Gs=null,o0(t),e)for(t=0;t<e.length;t++)o0(e[t])}}function O2(t,e){return t(e)}function M2(){}var au=!1;function P2(t,e,n){if(au)return t(e,n);au=!0;try{return O2(t,e,n)}finally{au=!1,(Gs!==null||Zs!==null)&&(M2(),L2())}}function fa(t,e){var n=t.stateNode;if(n===null)return null;var s=Nc(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var n1=!1;if(Go)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){n1=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{n1=!1}function j3(t,e,n,s,d,g,_,w,v){var b=Array.prototype.slice.call(arguments,3);try{e.apply(n,b)}catch(M){this.onError(M)}}var Jl=!1,Bd=null,zd=!1,i1=null,X3={onError:function(t){Jl=!0,Bd=t}};function Y3(t,e,n,s,d,g,_,w,v){Jl=!1,Bd=null,j3.apply(X3,arguments)}function K3(t,e,n,s,d,g,_,w,v){if(Y3.apply(this,arguments),Jl){if(Jl){var b=Bd;Jl=!1,Bd=null}else throw Error(fe(198));zd||(zd=!0,i1=b)}}function ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r0(t){if(ps(t)!==t)throw Error(fe(188))}function q3(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,s=e;;){var d=n.return;if(d===null)break;var g=d.alternate;if(g===null){if(s=d.return,s!==null){n=s;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===n)return r0(d),t;if(g===s)return r0(d),e;g=g.sibling}throw Error(fe(188))}if(n.return!==s.return)n=d,s=g;else{for(var _=!1,w=d.child;w;){if(w===n){_=!0,n=d,s=g;break}if(w===s){_=!0,s=d,n=g;break}w=w.sibling}if(!_){for(w=g.child;w;){if(w===n){_=!0,n=g,s=d;break}if(w===s){_=!0,s=g,n=d;break}w=w.sibling}if(!_)throw Error(fe(189))}}if(n.alternate!==s)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function D2(t){return t=q3(t),t!==null?k2(t):null}function k2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k2(t);if(e!==null)return e;t=t.sibling}return null}var B2=Li.unstable_scheduleCallback,s0=Li.unstable_cancelCallback,Q3=Li.unstable_shouldYield,$3=Li.unstable_requestPaint,hn=Li.unstable_now,J3=Li.unstable_getCurrentPriorityLevel,fh=Li.unstable_ImmediatePriority,z2=Li.unstable_UserBlockingPriority,Hd=Li.unstable_NormalPriority,e4=Li.unstable_LowPriority,H2=Li.unstable_IdlePriority,Ac=null,Ao=null;function t4(t){if(Ao&&typeof Ao.onCommitFiberRoot=="function")try{Ao.onCommitFiberRoot(Ac,t,void 0,(t.current.flags&128)===128)}catch{}}var co=Math.clz32?Math.clz32:o4,n4=Math.log,i4=Math.LN2;function o4(t){return t>>>=0,t===0?32:31-(n4(t)/i4|0)|0}var cd=64,ud=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,d=t.suspendedLanes,g=t.pingedLanes,_=n&268435455;if(_!==0){var w=_&~d;w!==0?s=ql(w):(g&=_,g!==0&&(s=ql(g)))}else _=n&~d,_!==0?s=ql(_):g!==0&&(s=ql(g));if(s===0)return 0;if(e!==0&&e!==s&&!(e&d)&&(d=s&-s,g=e&-e,d>=g||d===16&&(g&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-co(e),d=1<<n,s|=t[n],e&=~d;return s}function r4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s4(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes;0<g;){var _=31-co(g),w=1<<_,v=d[_];v===-1?(!(w&n)||w&s)&&(d[_]=r4(w,e)):v<=e&&(t.expiredLanes|=w),g&=~w}}function o1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U2(){var t=cd;return cd<<=1,!(cd&4194240)&&(cd=64),t}function du(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-co(e),t[e]=n}function l4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var d=31-co(n),g=1<<d;e[d]=0,s[d]=-1,t[d]=-1,n&=~g}}function gh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-co(n),d=1<<s;d&e|t[s]&e&&(t[s]|=e),n&=~d}}var Ft=0;function W2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V2,ph,G2,Z2,j2,r1=!1,hd=[],pr=null,mr=null,_r=null,ga=new Map,pa=new Map,ur=[],a4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(e.pointerId)}}function Fl(t,e,n,s,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:g,targetContainers:[d]},e!==null&&(e=Ua(e),e!==null&&ph(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,d!==null&&e.indexOf(d)===-1&&e.push(d),t)}function d4(t,e,n,s,d){switch(e){case"focusin":return pr=Fl(pr,t,e,n,s,d),!0;case"dragenter":return mr=Fl(mr,t,e,n,s,d),!0;case"mouseover":return _r=Fl(_r,t,e,n,s,d),!0;case"pointerover":var g=d.pointerId;return ga.set(g,Fl(ga.get(g)||null,t,e,n,s,d)),!0;case"gotpointercapture":return g=d.pointerId,pa.set(g,Fl(pa.get(g)||null,t,e,n,s,d)),!0}return!1}function X2(t){var e=Qr(t.target);if(e!==null){var n=ps(e);if(n!==null){if(e=n.tag,e===13){if(e=F2(n),e!==null){t.blockedOn=e,j2(t.priority,function(){G2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=s1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);e1=s,n.target.dispatchEvent(s),e1=null}else return e=Ua(n),e!==null&&ph(e),t.blockedOn=n,!1;e.shift()}return!0}function a0(t,e,n){Id(t)&&n.delete(e)}function c4(){r1=!1,pr!==null&&Id(pr)&&(pr=null),mr!==null&&Id(mr)&&(mr=null),_r!==null&&Id(_r)&&(_r=null),ga.forEach(a0),pa.forEach(a0)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,r1||(r1=!0,Li.unstable_scheduleCallback(Li.unstable_NormalPriority,c4)))}function ma(t){function e(d){return Dl(d,t)}if(0<hd.length){Dl(hd[0],t);for(var n=1;n<hd.length;n++){var s=hd[n];s.blockedOn===t&&(s.blockedOn=null)}}for(pr!==null&&Dl(pr,t),mr!==null&&Dl(mr,t),_r!==null&&Dl(_r,t),ga.forEach(e),pa.forEach(e),n=0;n<ur.length;n++)s=ur[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)X2(n),n.blockedOn===null&&ur.shift()}var js=Ko.ReactCurrentBatchConfig,Wd=!0;function u4(t,e,n,s){var d=Ft,g=js.transition;js.transition=null;try{Ft=1,mh(t,e,n,s)}finally{Ft=d,js.transition=g}}function h4(t,e,n,s){var d=Ft,g=js.transition;js.transition=null;try{Ft=4,mh(t,e,n,s)}finally{Ft=d,js.transition=g}}function mh(t,e,n,s){if(Wd){var d=s1(t,e,n,s);if(d===null)xu(t,e,s,Vd,n),l0(t,s);else if(d4(d,t,e,n,s))s.stopPropagation();else if(l0(t,s),e&4&&-1<a4.indexOf(t)){for(;d!==null;){var g=Ua(d);if(g!==null&&V2(g),g=s1(t,e,n,s),g===null&&xu(t,e,s,Vd,n),g===d)break;d=g}d!==null&&s.stopPropagation()}else xu(t,e,s,null,n)}}var Vd=null;function s1(t,e,n,s){if(Vd=null,t=hh(s),t=Qr(t),t!==null)if(e=ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vd=t,null}function Y2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J3()){case fh:return 1;case z2:return 4;case Hd:case e4:return 16;case H2:return 536870912;default:return 16}default:return 16}}var fr=null,_h=null,Td=null;function K2(){if(Td)return Td;var t,e=_h,n=e.length,s,d="value"in fr?fr.value:fr.textContent,g=d.length;for(t=0;t<n&&e[t]===d[t];t++);var _=n-t;for(s=1;s<=_&&e[n-s]===d[g-s];s++);return Td=d.slice(t,1<s?1-s:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fd(){return!0}function d0(){return!1}function Mi(t){function e(n,s,d,g,_){this._reactName=n,this._targetInst=d,this.type=s,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(n=t[w],this[w]=n?n(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?fd:d0,this.isPropagationStopped=d0,this}return an(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=Mi(hl),Ha=an({},hl,{view:0,detail:0}),f4=Mi(Ha),cu,uu,kl,Ic=an({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kl&&(kl&&t.type==="mousemove"?(cu=t.screenX-kl.screenX,uu=t.screenY-kl.screenY):uu=cu=0,kl=t),cu)},movementY:function(t){return"movementY"in t?t.movementY:uu}}),c0=Mi(Ic),g4=an({},Ic,{dataTransfer:0}),p4=Mi(g4),m4=an({},Ha,{relatedTarget:0}),hu=Mi(m4),_4=an({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),E4=Mi(_4),x4=an({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y4=Mi(x4),w4=an({},hl,{data:0}),u0=Mi(w4),v4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=S4[t])?!!e[t]:!1}function xh(){return b4}var A4=an({},Ha,{key:function(t){if(t.key){var e=v4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I4=Mi(A4),T4=an({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h0=Mi(T4),R4=an({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),N4=Mi(R4),L4=an({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),O4=Mi(L4),M4=an({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P4=Mi(M4),F4=[9,13,27,32],yh=Go&&"CompositionEvent"in window,ea=null;Go&&"documentMode"in document&&(ea=document.documentMode);var D4=Go&&"TextEvent"in window&&!ea,q2=Go&&(!yh||ea&&8<ea&&11>=ea),f0=" ",g0=!1;function Q2(t,e){switch(t){case"keyup":return F4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function k4(t,e){switch(t){case"compositionend":return $2(e);case"keypress":return e.which!==32?null:(g0=!0,f0);case"textInput":return t=e.data,t===f0&&g0?null:t;default:return null}}function B4(t,e){if(Ls)return t==="compositionend"||!yh&&Q2(t,e)?(t=K2(),Td=_h=fr=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q2&&e.locale!=="ko"?null:e.data;default:return null}}var z4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z4[t.type]:e==="textarea"}function J2(t,e,n,s){N2(s),e=Gd(e,"onChange"),0<e.length&&(n=new Eh("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var ta=null,_a=null;function H4(t){cp(t,0)}function Tc(t){var e=Ps(t);if(C2(e))return t}function U4(t,e){if(t==="change")return e}var ep=!1;if(Go){var fu;if(Go){var gu="oninput"in document;if(!gu){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),gu=typeof m0.oninput=="function"}fu=gu}else fu=!1;ep=fu&&(!document.documentMode||9<document.documentMode)}function _0(){ta&&(ta.detachEvent("onpropertychange",tp),_a=ta=null)}function tp(t){if(t.propertyName==="value"&&Tc(_a)){var e=[];J2(e,_a,t,hh(t)),P2(H4,e)}}function W4(t,e,n){t==="focusin"?(_0(),ta=e,_a=n,ta.attachEvent("onpropertychange",tp)):t==="focusout"&&_0()}function V4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(_a)}function G4(t,e){if(t==="click")return Tc(e)}function Z4(t,e){if(t==="input"||t==="change")return Tc(e)}function j4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:j4;function Ea(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var d=n[s];if(!Wu.call(e,d)||!fo(t[d],e[d]))return!1}return!0}function E0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=E0(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E0(n)}}function np(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?np(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ip(){for(var t=window,e=kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kd(t.document)}return e}function wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X4(t){var e=ip(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&np(n.ownerDocument.documentElement,n)){if(s!==null&&wh(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var d=n.textContent.length,g=Math.min(s.start,d);s=s.end===void 0?g:Math.min(s.end,d),!t.extend&&g>s&&(d=s,s=g,g=d),d=x0(n,g);var _=x0(n,s);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(d.node,d.offset),t.removeAllRanges(),g>s?(t.addRange(e),t.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y4=Go&&"documentMode"in document&&11>=document.documentMode,Os=null,l1=null,na=null,a1=!1;function y0(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a1||Os==null||Os!==kd(s)||(s=Os,"selectionStart"in s&&wh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),na&&Ea(na,s)||(na=s,s=Gd(l1,"onSelect"),0<s.length&&(e=new Eh("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Os)))}function gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},pu={},op={};Go&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Rc(t){if(pu[t])return pu[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in op)return pu[t]=e[n];return t}var rp=Rc("animationend"),sp=Rc("animationiteration"),lp=Rc("animationstart"),ap=Rc("transitionend"),dp=new Map,w0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,e){dp.set(t,e),gs(e,[t])}for(var mu=0;mu<w0.length;mu++){var _u=w0[mu],K4=_u.toLowerCase(),q4=_u[0].toUpperCase()+_u.slice(1);Nr(K4,"on"+q4)}Nr(rp,"onAnimationEnd");Nr(sp,"onAnimationIteration");Nr(lp,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(ap,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function v0(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,K3(s,e,void 0,t),t.currentTarget=null}function cp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],d=s.event;s=s.listeners;e:{var g=void 0;if(e)for(var _=s.length-1;0<=_;_--){var w=s[_],v=w.instance,b=w.currentTarget;if(w=w.listener,v!==g&&d.isPropagationStopped())break e;v0(d,w,b),g=v}else for(_=0;_<s.length;_++){if(w=s[_],v=w.instance,b=w.currentTarget,w=w.listener,v!==g&&d.isPropagationStopped())break e;v0(d,w,b),g=v}}}if(zd)throw t=i1,zd=!1,i1=null,t}function qt(t,e){var n=e[f1];n===void 0&&(n=e[f1]=new Set);var s=t+"__bubble";n.has(s)||(up(e,t,2,!1),n.add(s))}function Eu(t,e,n){var s=0;e&&(s|=4),up(n,t,s,e)}var pd="_reactListening"+Math.random().toString(36).slice(2);function xa(t){if(!t[pd]){t[pd]=!0,E2.forEach(function(n){n!=="selectionchange"&&(Q4.has(n)||Eu(n,!1,t),Eu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pd]||(e[pd]=!0,Eu("selectionchange",!1,e))}}function up(t,e,n,s){switch(Y2(e)){case 1:var d=u4;break;case 4:d=h4;break;default:d=mh}n=d.bind(null,e,n,t),d=void 0,!n1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(d=!0),s?d!==void 0?t.addEventListener(e,n,{capture:!0,passive:d}):t.addEventListener(e,n,!0):d!==void 0?t.addEventListener(e,n,{passive:d}):t.addEventListener(e,n,!1)}function xu(t,e,n,s,d){var g=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var _=s.tag;if(_===3||_===4){var w=s.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(_===4)for(_=s.return;_!==null;){var v=_.tag;if((v===3||v===4)&&(v=_.stateNode.containerInfo,v===d||v.nodeType===8&&v.parentNode===d))return;_=_.return}for(;w!==null;){if(_=Qr(w),_===null)return;if(v=_.tag,v===5||v===6){s=g=_;continue e}w=w.parentNode}}s=s.return}P2(function(){var b=g,M=hh(n),N=[];e:{var F=dp.get(t);if(F!==void 0){var V=Eh,$=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":V=I4;break;case"focusin":$="focus",V=hu;break;case"focusout":$="blur",V=hu;break;case"beforeblur":case"afterblur":V=hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=c0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=p4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=N4;break;case rp:case sp:case lp:V=E4;break;case ap:V=O4;break;case"scroll":V=f4;break;case"wheel":V=P4;break;case"copy":case"cut":case"paste":V=y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=h0}var X=(e&4)!==0,Ne=!X&&t==="scroll",W=X?F!==null?F+"Capture":null:F;X=[];for(var D=b,B;D!==null;){B=D;var J=B.stateNode;if(B.tag===5&&J!==null&&(B=J,W!==null&&(J=fa(D,W),J!=null&&X.push(ya(D,J,B)))),Ne)break;D=D.return}0<X.length&&(F=new V(F,$,null,n,M),N.push({event:F,listeners:X}))}}if(!(e&7)){e:{if(F=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",F&&n!==e1&&($=n.relatedTarget||n.fromElement)&&(Qr($)||$[Zo]))break e;if((V||F)&&(F=M.window===M?M:(F=M.ownerDocument)?F.defaultView||F.parentWindow:window,V?($=n.relatedTarget||n.toElement,V=b,$=$?Qr($):null,$!==null&&(Ne=ps($),$!==Ne||$.tag!==5&&$.tag!==6)&&($=null)):(V=null,$=b),V!==$)){if(X=c0,J="onMouseLeave",W="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(X=h0,J="onPointerLeave",W="onPointerEnter",D="pointer"),Ne=V==null?F:Ps(V),B=$==null?F:Ps($),F=new X(J,D+"leave",V,n,M),F.target=Ne,F.relatedTarget=B,J=null,Qr(M)===b&&(X=new X(W,D+"enter",$,n,M),X.target=B,X.relatedTarget=Ne,J=X),Ne=J,V&&$)t:{for(X=V,W=$,D=0,B=X;B;B=As(B))D++;for(B=0,J=W;J;J=As(J))B++;for(;0<D-B;)X=As(X),D--;for(;0<B-D;)W=As(W),B--;for(;D--;){if(X===W||W!==null&&X===W.alternate)break t;X=As(X),W=As(W)}X=null}else X=null;V!==null&&C0(N,F,V,X,!1),$!==null&&Ne!==null&&C0(N,Ne,$,X,!0)}}e:{if(F=b?Ps(b):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var Ee=U4;else if(p0(F))if(ep)Ee=Z4;else{Ee=V4;var ge=W4}else(V=F.nodeName)&&V.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(Ee=G4);if(Ee&&(Ee=Ee(t,b))){J2(N,Ee,n,M);break e}ge&&ge(t,F,b),t==="focusout"&&(ge=F._wrapperState)&&ge.controlled&&F.type==="number"&&Ku(F,"number",F.value)}switch(ge=b?Ps(b):window,t){case"focusin":(p0(ge)||ge.contentEditable==="true")&&(Os=ge,l1=b,na=null);break;case"focusout":na=l1=Os=null;break;case"mousedown":a1=!0;break;case"contextmenu":case"mouseup":case"dragend":a1=!1,y0(N,n,M);break;case"selectionchange":if(Y4)break;case"keydown":case"keyup":y0(N,n,M)}var K;if(yh)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ls?Q2(t,n)&&(pe="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(pe="onCompositionStart");pe&&(q2&&n.locale!=="ko"&&(Ls||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ls&&(K=K2()):(fr=M,_h="value"in fr?fr.value:fr.textContent,Ls=!0)),ge=Gd(b,pe),0<ge.length&&(pe=new u0(pe,t,null,n,M),N.push({event:pe,listeners:ge}),K?pe.data=K:(K=$2(n),K!==null&&(pe.data=K)))),(K=D4?k4(t,n):B4(t,n))&&(b=Gd(b,"onBeforeInput"),0<b.length&&(M=new u0("onBeforeInput","beforeinput",null,n,M),N.push({event:M,listeners:b}),M.data=K))}cp(N,e)})}function ya(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gd(t,e){for(var n=e+"Capture",s=[];t!==null;){var d=t,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=fa(t,n),g!=null&&s.unshift(ya(t,g,d)),g=fa(t,e),g!=null&&s.push(ya(t,g,d))),t=t.return}return s}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C0(t,e,n,s,d){for(var g=e._reactName,_=[];n!==null&&n!==s;){var w=n,v=w.alternate,b=w.stateNode;if(v!==null&&v===s)break;w.tag===5&&b!==null&&(w=b,d?(v=fa(n,g),v!=null&&_.unshift(ya(n,v,w))):d||(v=fa(n,g),v!=null&&_.push(ya(n,v,w)))),n=n.return}_.length!==0&&t.push({event:e,listeners:_})}var $4=/\r\n?/g,J4=/\u0000|\uFFFD/g;function S0(t){return(typeof t=="string"?t:""+t).replace($4,`
`).replace(J4,"")}function md(t,e,n){if(e=S0(e),S0(t)!==e&&n)throw Error(fe(425))}function Zd(){}var d1=null,c1=null;function u1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h1=typeof setTimeout=="function"?setTimeout:void 0,eE=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,tE=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(t){return b0.resolve(null).then(t).catch(nE)}:h1;function nE(t){setTimeout(function(){throw t})}function yu(t,e){var n=e,s=0;do{var d=n.nextSibling;if(t.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(s===0){t.removeChild(d),ma(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=d}while(n);ma(e)}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),bo="__reactFiber$"+fl,wa="__reactProps$"+fl,Zo="__reactContainer$"+fl,f1="__reactEvents$"+fl,iE="__reactListeners$"+fl,oE="__reactHandles$"+fl;function Qr(t){var e=t[bo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zo]||n[bo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A0(t);t!==null;){if(n=t[bo])return n;t=A0(t)}return e}t=n,n=t.parentNode}return null}function Ua(t){return t=t[bo]||t[Zo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Nc(t){return t[wa]||null}var g1=[],Fs=-1;function Lr(t){return{current:t}}function $t(t){0>Fs||(t.current=g1[Fs],g1[Fs]=null,Fs--)}function jt(t,e){Fs++,g1[Fs]=t.current,t.current=e}var Ir={},$n=Lr(Ir),_i=Lr(!1),os=Ir;function tl(t,e){var n=t.type.contextTypes;if(!n)return Ir;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in n)d[g]=e[g];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=d),d}function Ei(t){return t=t.childContextTypes,t!=null}function jd(){$t(_i),$t($n)}function I0(t,e,n){if($n.current!==Ir)throw Error(fe(168));jt($n,e),jt(_i,n)}function hp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var d in s)if(!(d in e))throw Error(fe(108,W3(t)||"Unknown",d));return an({},n,s)}function Xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,os=$n.current,jt($n,t),jt(_i,_i.current),!0}function T0(t,e,n){var s=t.stateNode;if(!s)throw Error(fe(169));n?(t=hp(t,e,os),s.__reactInternalMemoizedMergedChildContext=t,$t(_i),$t($n),jt($n,t)):$t(_i),jt(_i,n)}var Bo=null,Lc=!1,wu=!1;function fp(t){Bo===null?Bo=[t]:Bo.push(t)}function rE(t){Lc=!0,fp(t)}function Or(){if(!wu&&Bo!==null){wu=!0;var t=0,e=Ft;try{var n=Bo;for(Ft=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Bo=null,Lc=!1}catch(d){throw Bo!==null&&(Bo=Bo.slice(t+1)),B2(fh,Or),d}finally{Ft=e,wu=!1}}return null}var Ds=[],ks=0,Yd=null,Kd=0,Vi=[],Gi=0,rs=null,zo=1,Ho="";function Xr(t,e){Ds[ks++]=Kd,Ds[ks++]=Yd,Yd=t,Kd=e}function gp(t,e,n){Vi[Gi++]=zo,Vi[Gi++]=Ho,Vi[Gi++]=rs,rs=t;var s=zo;t=Ho;var d=32-co(s)-1;s&=~(1<<d),n+=1;var g=32-co(e)+d;if(30<g){var _=d-d%5;g=(s&(1<<_)-1).toString(32),s>>=_,d-=_,zo=1<<32-co(e)+d|n<<d|s,Ho=g+t}else zo=1<<g|n<<d|s,Ho=t}function vh(t){t.return!==null&&(Xr(t,1),gp(t,1,0))}function Ch(t){for(;t===Yd;)Yd=Ds[--ks],Ds[ks]=null,Kd=Ds[--ks],Ds[ks]=null;for(;t===rs;)rs=Vi[--Gi],Vi[Gi]=null,Ho=Vi[--Gi],Vi[Gi]=null,zo=Vi[--Gi],Vi[Gi]=null}var Ri=null,Ti=null,nn=!1,ro=null;function pp(t,e){var n=Zi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ri=t,Ti=Er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ri=t,Ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rs!==null?{id:zo,overflow:Ho}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ri=t,Ti=null,!0):!1;default:return!1}}function p1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function m1(t){if(nn){var e=Ti;if(e){var n=e;if(!R0(t,e)){if(p1(t))throw Error(fe(418));e=Er(n.nextSibling);var s=Ri;e&&R0(t,e)?pp(s,n):(t.flags=t.flags&-4097|2,nn=!1,Ri=t)}}else{if(p1(t))throw Error(fe(418));t.flags=t.flags&-4097|2,nn=!1,Ri=t}}}function N0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ri=t}function _d(t){if(t!==Ri)return!1;if(!nn)return N0(t),nn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u1(t.type,t.memoizedProps)),e&&(e=Ti)){if(p1(t))throw mp(),Error(fe(418));for(;e;)pp(t,e),e=Er(e.nextSibling)}if(N0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ti=Er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ti=null}}else Ti=Ri?Er(t.stateNode.nextSibling):null;return!0}function mp(){for(var t=Ti;t;)t=Er(t.nextSibling)}function nl(){Ti=Ri=null,nn=!1}function Sh(t){ro===null?ro=[t]:ro.push(t)}var sE=Ko.ReactCurrentBatchConfig;function io(t,e){if(t&&t.defaultProps){e=an({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qd=Lr(null),Qd=null,Bs=null,bh=null;function Ah(){bh=Bs=Qd=null}function Ih(t){var e=qd.current;$t(qd),t._currentValue=e}function _1(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){Qd=t,bh=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gi=!0),t.firstContext=null)}function Xi(t){var e=t._currentValue;if(bh!==t)if(t={context:t,memoizedValue:e,next:null},Bs===null){if(Qd===null)throw Error(fe(308));Bs=t,Qd.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return e}var $r=null;function Th(t){$r===null?$r=[t]:$r.push(t)}function _p(t,e,n,s){var d=e.interleaved;return d===null?(n.next=n,Th(e)):(n.next=d.next,d.next=n),e.interleaved=n,jo(t,s)}function jo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cr=!1;function Rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ep(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,At&2){var d=s.pending;return d===null?e.next=e:(e.next=d.next,d.next=e),s.pending=e,jo(t,n)}return d=s.interleaved,d===null?(e.next=e,Th(s)):(e.next=d.next,d.next=e),s.interleaved=e,jo(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,gh(t,n)}}function L0(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var d=null,g=null;if(n=n.firstBaseUpdate,n!==null){do{var _={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};g===null?d=g=_:g=g.next=_,n=n.next}while(n!==null);g===null?d=g=e:g=g.next=e}else d=g=e;n={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $d(t,e,n,s){var d=t.updateQueue;cr=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var v=w,b=v.next;v.next=null,_===null?g=b:_.next=b,_=v;var M=t.alternate;M!==null&&(M=M.updateQueue,w=M.lastBaseUpdate,w!==_&&(w===null?M.firstBaseUpdate=b:w.next=b,M.lastBaseUpdate=v))}if(g!==null){var N=d.baseState;_=0,M=b=v=null,w=g;do{var F=w.lane,V=w.eventTime;if((s&F)===F){M!==null&&(M=M.next={eventTime:V,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var $=t,X=w;switch(F=e,V=n,X.tag){case 1:if($=X.payload,typeof $=="function"){N=$.call(V,N,F);break e}N=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=X.payload,F=typeof $=="function"?$.call(V,N,F):$,F==null)break e;N=an({},N,F);break e;case 2:cr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,F=d.effects,F===null?d.effects=[w]:F.push(w))}else V={eventTime:V,lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},M===null?(b=M=V,v=N):M=M.next=V,_|=F;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;F=w,w=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);if(M===null&&(v=N),d.baseState=v,d.firstBaseUpdate=b,d.lastBaseUpdate=M,e=d.shared.interleaved,e!==null){d=e;do _|=d.lane,d=d.next;while(d!==e)}else g===null&&(d.shared.lanes=0);ls|=_,t.lanes=_,t.memoizedState=N}}function O0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],d=s.callback;if(d!==null){if(s.callback=null,s=n,typeof d!="function")throw Error(fe(191,d));d.call(s)}}}var xp=new _2.Component().refs;function E1(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:an({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Oc={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=li(),d=wr(t),g=Wo(s,d);g.payload=e,n!=null&&(g.callback=n),e=xr(t,g,d),e!==null&&(uo(e,t,d,s),Nd(e,t,d))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=li(),d=wr(t),g=Wo(s,d);g.tag=1,g.payload=e,n!=null&&(g.callback=n),e=xr(t,g,d),e!==null&&(uo(e,t,d,s),Nd(e,t,d))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=li(),s=wr(t),d=Wo(n,s);d.tag=2,e!=null&&(d.callback=e),e=xr(t,d,s),e!==null&&(uo(e,t,s,n),Nd(e,t,s))}};function M0(t,e,n,s,d,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,g,_):e.prototype&&e.prototype.isPureReactComponent?!Ea(n,s)||!Ea(d,g):!0}function yp(t,e,n){var s=!1,d=Ir,g=e.contextType;return typeof g=="object"&&g!==null?g=Xi(g):(d=Ei(e)?os:$n.current,s=e.contextTypes,g=(s=s!=null)?tl(t,d):Ir),e=new e(n,g),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oc,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=g),e}function P0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Oc.enqueueReplaceState(e,e.state,null)}function x1(t,e,n,s){var d=t.stateNode;d.props=n,d.state=t.memoizedState,d.refs=xp,Rh(t);var g=e.contextType;typeof g=="object"&&g!==null?d.context=Xi(g):(g=Ei(e)?os:$n.current,d.context=tl(t,g)),d.state=t.memoizedState,g=e.getDerivedStateFromProps,typeof g=="function"&&(E1(t,e,g,n),d.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(e=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),e!==d.state&&Oc.enqueueReplaceState(d,d.state,null),$d(t,n,d,s),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var s=n.stateNode}if(!s)throw Error(fe(147,t));var d=s,g=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===g?e.ref:(e=function(_){var w=d.refs;w===xp&&(w=d.refs={}),_===null?delete w[g]:w[g]=_},e._stringRef=g,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Ed(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F0(t){var e=t._init;return e(t._payload)}function wp(t){function e(W,D){if(t){var B=W.deletions;B===null?(W.deletions=[D],W.flags|=16):B.push(D)}}function n(W,D){if(!t)return null;for(;D!==null;)e(W,D),D=D.sibling;return null}function s(W,D){for(W=new Map;D!==null;)D.key!==null?W.set(D.key,D):W.set(D.index,D),D=D.sibling;return W}function d(W,D){return W=vr(W,D),W.index=0,W.sibling=null,W}function g(W,D,B){return W.index=B,t?(B=W.alternate,B!==null?(B=B.index,B<D?(W.flags|=2,D):B):(W.flags|=2,D)):(W.flags|=1048576,D)}function _(W){return t&&W.alternate===null&&(W.flags|=2),W}function w(W,D,B,J){return D===null||D.tag!==6?(D=Tu(B,W.mode,J),D.return=W,D):(D=d(D,B),D.return=W,D)}function v(W,D,B,J){var Ee=B.type;return Ee===Ns?M(W,D,B.props.children,J,B.key):D!==null&&(D.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===dr&&F0(Ee)===D.type)?(J=d(D,B.props),J.ref=Bl(W,D,B),J.return=W,J):(J=Dd(B.type,B.key,B.props,null,W.mode,J),J.ref=Bl(W,D,B),J.return=W,J)}function b(W,D,B,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Ru(B,W.mode,J),D.return=W,D):(D=d(D,B.children||[]),D.return=W,D)}function M(W,D,B,J,Ee){return D===null||D.tag!==7?(D=ns(B,W.mode,J,Ee),D.return=W,D):(D=d(D,B),D.return=W,D)}function N(W,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Tu(""+D,W.mode,B),D.return=W,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ld:return B=Dd(D.type,D.key,D.props,null,W.mode,B),B.ref=Bl(W,null,D),B.return=W,B;case Rs:return D=Ru(D,W.mode,B),D.return=W,D;case dr:var J=D._init;return N(W,J(D._payload),B)}if(Kl(D)||Ml(D))return D=ns(D,W.mode,B,null),D.return=W,D;Ed(W,D)}return null}function F(W,D,B,J){var Ee=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ee!==null?null:w(W,D,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ld:return B.key===Ee?v(W,D,B,J):null;case Rs:return B.key===Ee?b(W,D,B,J):null;case dr:return Ee=B._init,F(W,D,Ee(B._payload),J)}if(Kl(B)||Ml(B))return Ee!==null?null:M(W,D,B,J,null);Ed(W,B)}return null}function V(W,D,B,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number")return W=W.get(B)||null,w(D,W,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ld:return W=W.get(J.key===null?B:J.key)||null,v(D,W,J,Ee);case Rs:return W=W.get(J.key===null?B:J.key)||null,b(D,W,J,Ee);case dr:var ge=J._init;return V(W,D,B,ge(J._payload),Ee)}if(Kl(J)||Ml(J))return W=W.get(B)||null,M(D,W,J,Ee,null);Ed(D,J)}return null}function $(W,D,B,J){for(var Ee=null,ge=null,K=D,pe=D=0,oe=null;K!==null&&pe<B.length;pe++){K.index>pe?(oe=K,K=null):oe=K.sibling;var Oe=F(W,K,B[pe],J);if(Oe===null){K===null&&(K=oe);break}t&&K&&Oe.alternate===null&&e(W,K),D=g(Oe,D,pe),ge===null?Ee=Oe:ge.sibling=Oe,ge=Oe,K=oe}if(pe===B.length)return n(W,K),nn&&Xr(W,pe),Ee;if(K===null){for(;pe<B.length;pe++)K=N(W,B[pe],J),K!==null&&(D=g(K,D,pe),ge===null?Ee=K:ge.sibling=K,ge=K);return nn&&Xr(W,pe),Ee}for(K=s(W,K);pe<B.length;pe++)oe=V(K,W,pe,B[pe],J),oe!==null&&(t&&oe.alternate!==null&&K.delete(oe.key===null?pe:oe.key),D=g(oe,D,pe),ge===null?Ee=oe:ge.sibling=oe,ge=oe);return t&&K.forEach(function(Qe){return e(W,Qe)}),nn&&Xr(W,pe),Ee}function X(W,D,B,J){var Ee=Ml(B);if(typeof Ee!="function")throw Error(fe(150));if(B=Ee.call(B),B==null)throw Error(fe(151));for(var ge=Ee=null,K=D,pe=D=0,oe=null,Oe=B.next();K!==null&&!Oe.done;pe++,Oe=B.next()){K.index>pe?(oe=K,K=null):oe=K.sibling;var Qe=F(W,K,Oe.value,J);if(Qe===null){K===null&&(K=oe);break}t&&K&&Qe.alternate===null&&e(W,K),D=g(Qe,D,pe),ge===null?Ee=Qe:ge.sibling=Qe,ge=Qe,K=oe}if(Oe.done)return n(W,K),nn&&Xr(W,pe),Ee;if(K===null){for(;!Oe.done;pe++,Oe=B.next())Oe=N(W,Oe.value,J),Oe!==null&&(D=g(Oe,D,pe),ge===null?Ee=Oe:ge.sibling=Oe,ge=Oe);return nn&&Xr(W,pe),Ee}for(K=s(W,K);!Oe.done;pe++,Oe=B.next())Oe=V(K,W,pe,Oe.value,J),Oe!==null&&(t&&Oe.alternate!==null&&K.delete(Oe.key===null?pe:Oe.key),D=g(Oe,D,pe),ge===null?Ee=Oe:ge.sibling=Oe,ge=Oe);return t&&K.forEach(function(Ce){return e(W,Ce)}),nn&&Xr(W,pe),Ee}function Ne(W,D,B,J){if(typeof B=="object"&&B!==null&&B.type===Ns&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ld:e:{for(var Ee=B.key,ge=D;ge!==null;){if(ge.key===Ee){if(Ee=B.type,Ee===Ns){if(ge.tag===7){n(W,ge.sibling),D=d(ge,B.props.children),D.return=W,W=D;break e}}else if(ge.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===dr&&F0(Ee)===ge.type){n(W,ge.sibling),D=d(ge,B.props),D.ref=Bl(W,ge,B),D.return=W,W=D;break e}n(W,ge);break}else e(W,ge);ge=ge.sibling}B.type===Ns?(D=ns(B.props.children,W.mode,J,B.key),D.return=W,W=D):(J=Dd(B.type,B.key,B.props,null,W.mode,J),J.ref=Bl(W,D,B),J.return=W,W=J)}return _(W);case Rs:e:{for(ge=B.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){n(W,D.sibling),D=d(D,B.children||[]),D.return=W,W=D;break e}else{n(W,D);break}else e(W,D);D=D.sibling}D=Ru(B,W.mode,J),D.return=W,W=D}return _(W);case dr:return ge=B._init,Ne(W,D,ge(B._payload),J)}if(Kl(B))return $(W,D,B,J);if(Ml(B))return X(W,D,B,J);Ed(W,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(n(W,D.sibling),D=d(D,B),D.return=W,W=D):(n(W,D),D=Tu(B,W.mode,J),D.return=W,W=D),_(W)):n(W,D)}return Ne}var il=wp(!0),vp=wp(!1),Wa={},Io=Lr(Wa),va=Lr(Wa),Ca=Lr(Wa);function Jr(t){if(t===Wa)throw Error(fe(174));return t}function Nh(t,e){switch(jt(Ca,e),jt(va,t),jt(Io,Wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qu(e,t)}$t(Io),jt(Io,e)}function ol(){$t(Io),$t(va),$t(Ca)}function Cp(t){Jr(Ca.current);var e=Jr(Io.current),n=Qu(e,t.type);e!==n&&(jt(va,t),jt(Io,n))}function Lh(t){va.current===t&&($t(Io),$t(va))}var sn=Lr(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vu=[];function Oh(){for(var t=0;t<vu.length;t++)vu[t]._workInProgressVersionPrimary=null;vu.length=0}var Ld=Ko.ReactCurrentDispatcher,Cu=Ko.ReactCurrentBatchConfig,ss=0,ln=null,Sn=null,Mn=null,ec=!1,ia=!1,Sa=0,lE=0;function jn(){throw Error(fe(321))}function Mh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fo(t[n],e[n]))return!1;return!0}function Ph(t,e,n,s,d,g){if(ss=g,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?uE:hE,t=n(s,d),ia){g=0;do{if(ia=!1,Sa=0,25<=g)throw Error(fe(301));g+=1,Mn=Sn=null,e.updateQueue=null,Ld.current=fE,t=n(s,d)}while(ia)}if(Ld.current=tc,e=Sn!==null&&Sn.next!==null,ss=0,Mn=Sn=ln=null,ec=!1,e)throw Error(fe(300));return t}function Fh(){var t=Sa!==0;return Sa=0,t}function So(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?ln.memoizedState=Mn=t:Mn=Mn.next=t,Mn}function Yi(){if(Sn===null){var t=ln.alternate;t=t!==null?t.memoizedState:null}else t=Sn.next;var e=Mn===null?ln.memoizedState:Mn.next;if(e!==null)Mn=e,Sn=t;else{if(t===null)throw Error(fe(310));Sn=t,t={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Mn===null?ln.memoizedState=Mn=t:Mn=Mn.next=t}return Mn}function ba(t,e){return typeof e=="function"?e(t):e}function Su(t){var e=Yi(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var s=Sn,d=s.baseQueue,g=n.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}s.baseQueue=d=g,n.pending=null}if(d!==null){g=d.next,s=s.baseState;var w=_=null,v=null,b=g;do{var M=b.lane;if((ss&M)===M)v!==null&&(v=v.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),s=b.hasEagerState?b.eagerState:t(s,b.action);else{var N={lane:M,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};v===null?(w=v=N,_=s):v=v.next=N,ln.lanes|=M,ls|=M}b=b.next}while(b!==null&&b!==g);v===null?_=s:v.next=w,fo(s,e.memoizedState)||(gi=!0),e.memoizedState=s,e.baseState=_,e.baseQueue=v,n.lastRenderedState=s}if(t=n.interleaved,t!==null){d=t;do g=d.lane,ln.lanes|=g,ls|=g,d=d.next;while(d!==t)}else d===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bu(t){var e=Yi(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var s=n.dispatch,d=n.pending,g=e.memoizedState;if(d!==null){n.pending=null;var _=d=d.next;do g=t(g,_.action),_=_.next;while(_!==d);fo(g,e.memoizedState)||(gi=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),n.lastRenderedState=g}return[g,s]}function Sp(){}function bp(t,e){var n=ln,s=Yi(),d=e(),g=!fo(s.memoizedState,d);if(g&&(s.memoizedState=d,gi=!0),s=s.queue,Dh(Tp.bind(null,n,s,t),[t]),s.getSnapshot!==e||g||Mn!==null&&Mn.memoizedState.tag&1){if(n.flags|=2048,Aa(9,Ip.bind(null,n,s,d,e),void 0,null),Dn===null)throw Error(fe(349));ss&30||Ap(n,e,d)}return d}function Ap(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ip(t,e,n,s){e.value=n,e.getSnapshot=s,Rp(e)&&Np(t)}function Tp(t,e,n){return n(function(){Rp(e)&&Np(t)})}function Rp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fo(t,n)}catch{return!0}}function Np(t){var e=jo(t,1);e!==null&&uo(e,t,1,-1)}function D0(t){var e=So();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},e.queue=t,t=t.dispatch=cE.bind(null,ln,t),[e.memoizedState,t]}function Aa(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Lp(){return Yi().memoizedState}function Od(t,e,n,s){var d=So();ln.flags|=t,d.memoizedState=Aa(1|e,n,void 0,s===void 0?null:s)}function Mc(t,e,n,s){var d=Yi();s=s===void 0?null:s;var g=void 0;if(Sn!==null){var _=Sn.memoizedState;if(g=_.destroy,s!==null&&Mh(s,_.deps)){d.memoizedState=Aa(e,n,g,s);return}}ln.flags|=t,d.memoizedState=Aa(1|e,n,g,s)}function k0(t,e){return Od(8390656,8,t,e)}function Dh(t,e){return Mc(2048,8,t,e)}function Op(t,e){return Mc(4,2,t,e)}function Mp(t,e){return Mc(4,4,t,e)}function Pp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fp(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4,4,Pp.bind(null,e,t),n)}function kh(){}function Dp(t,e){var n=Yi();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Mh(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function kp(t,e){var n=Yi();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Mh(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Bp(t,e,n){return ss&21?(fo(n,e)||(n=U2(),ln.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gi=!0),t.memoizedState=n)}function aE(t,e){var n=Ft;Ft=n!==0&&4>n?n:4,t(!0);var s=Cu.transition;Cu.transition={};try{t(!1),e()}finally{Ft=n,Cu.transition=s}}function zp(){return Yi().memoizedState}function dE(t,e,n){var s=wr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Hp(t))Up(e,n);else if(n=_p(t,e,n,s),n!==null){var d=li();uo(n,t,s,d),Wp(n,e,s)}}function cE(t,e,n){var s=wr(t),d={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hp(t))Up(e,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var _=e.lastRenderedState,w=g(_,n);if(d.hasEagerState=!0,d.eagerState=w,fo(w,_)){var v=e.interleaved;v===null?(d.next=d,Th(e)):(d.next=v.next,v.next=d),e.interleaved=d;return}}catch{}finally{}n=_p(t,e,d,s),n!==null&&(d=li(),uo(n,t,s,d),Wp(n,e,s))}}function Hp(t){var e=t.alternate;return t===ln||e!==null&&e===ln}function Up(t,e){ia=ec=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Wp(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,gh(t,n)}}var tc={readContext:Xi,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},uE={readContext:Xi,useCallback:function(t,e){return So().memoizedState=[t,e===void 0?null:e],t},useContext:Xi,useEffect:k0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,Pp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=So();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=So();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=dE.bind(null,ln,t),[s.memoizedState,t]},useRef:function(t){var e=So();return t={current:t},e.memoizedState=t},useState:D0,useDebugValue:kh,useDeferredValue:function(t){return So().memoizedState=t},useTransition:function(){var t=D0(!1),e=t[0];return t=aE.bind(null,t[1]),So().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ln,d=So();if(nn){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Dn===null)throw Error(fe(349));ss&30||Ap(s,e,n)}d.memoizedState=n;var g={value:n,getSnapshot:e};return d.queue=g,k0(Tp.bind(null,s,g,t),[t]),s.flags|=2048,Aa(9,Ip.bind(null,s,g,n,e),void 0,null),n},useId:function(){var t=So(),e=Dn.identifierPrefix;if(nn){var n=Ho,s=zo;n=(s&~(1<<32-co(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hE={readContext:Xi,useCallback:Dp,useContext:Xi,useEffect:Dh,useImperativeHandle:Fp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:kp,useReducer:Su,useRef:Lp,useState:function(){return Su(ba)},useDebugValue:kh,useDeferredValue:function(t){var e=Yi();return Bp(e,Sn.memoizedState,t)},useTransition:function(){var t=Su(ba)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:Sp,useSyncExternalStore:bp,useId:zp,unstable_isNewReconciler:!1},fE={readContext:Xi,useCallback:Dp,useContext:Xi,useEffect:Dh,useImperativeHandle:Fp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:kp,useReducer:bu,useRef:Lp,useState:function(){return bu(ba)},useDebugValue:kh,useDeferredValue:function(t){var e=Yi();return Sn===null?e.memoizedState=t:Bp(e,Sn.memoizedState,t)},useTransition:function(){var t=bu(ba)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:Sp,useSyncExternalStore:bp,useId:zp,unstable_isNewReconciler:!1};function rl(t,e){try{var n="",s=e;do n+=U3(s),s=s.return;while(s);var d=n}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:e,stack:d,digest:null}}function Au(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gE=typeof WeakMap=="function"?WeakMap:Map;function Vp(t,e,n){n=Wo(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){ic||(ic=!0,N1=s),y1(t,e)},n}function Gp(t,e,n){n=Wo(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var d=e.value;n.payload=function(){return s(d)},n.callback=function(){y1(t,e)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(n.callback=function(){y1(t,e),typeof s!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var _=e.stack;this.componentDidCatch(e.value,{componentStack:_!==null?_:""})}),n}function B0(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new gE;var d=new Set;s.set(e,d)}else d=s.get(e),d===void 0&&(d=new Set,s.set(e,d));d.has(n)||(d.add(n),t=TE.bind(null,t,e,n),e.then(t,t))}function z0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H0(t,e,n,s,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wo(-1,1),e.tag=2,xr(n,e,1))),n.lanes|=1),t)}var pE=Ko.ReactCurrentOwner,gi=!1;function si(t,e,n,s){e.child=t===null?vp(e,null,n,s):il(e,t.child,n,s)}function U0(t,e,n,s,d){n=n.render;var g=e.ref;return Xs(e,d),s=Ph(t,e,n,s,g,d),n=Fh(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~d,Xo(t,e,d)):(nn&&n&&vh(e),e.flags|=1,si(t,e,s,d),e.child)}function W0(t,e,n,s,d){if(t===null){var g=n.type;return typeof g=="function"&&!Zh(g)&&g.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=g,Zp(t,e,g,s,d)):(t=Dd(n.type,null,s,e,e.mode,d),t.ref=e.ref,t.return=e,e.child=t)}if(g=t.child,!(t.lanes&d)){var _=g.memoizedProps;if(n=n.compare,n=n!==null?n:Ea,n(_,s)&&t.ref===e.ref)return Xo(t,e,d)}return e.flags|=1,t=vr(g,s),t.ref=e.ref,t.return=e,e.child=t}function Zp(t,e,n,s,d){if(t!==null){var g=t.memoizedProps;if(Ea(g,s)&&t.ref===e.ref)if(gi=!1,e.pendingProps=s=g,(t.lanes&d)!==0)t.flags&131072&&(gi=!0);else return e.lanes=t.lanes,Xo(t,e,d)}return w1(t,e,n,s,d)}function jp(t,e,n){var s=e.pendingProps,d=s.children,g=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Hs,Ii),Ii|=n;else{if(!(n&1073741824))return t=g!==null?g.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Hs,Ii),Ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=g!==null?g.baseLanes:n,jt(Hs,Ii),Ii|=s}else g!==null?(s=g.baseLanes|n,e.memoizedState=null):s=n,jt(Hs,Ii),Ii|=s;return si(t,e,d,n),e.child}function Xp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function w1(t,e,n,s,d){var g=Ei(n)?os:$n.current;return g=tl(e,g),Xs(e,d),n=Ph(t,e,n,s,g,d),s=Fh(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~d,Xo(t,e,d)):(nn&&s&&vh(e),e.flags|=1,si(t,e,n,d),e.child)}function V0(t,e,n,s,d){if(Ei(n)){var g=!0;Xd(e)}else g=!1;if(Xs(e,d),e.stateNode===null)Md(t,e),yp(e,n,s),x1(e,n,s,d),s=!0;else if(t===null){var _=e.stateNode,w=e.memoizedProps;_.props=w;var v=_.context,b=n.contextType;typeof b=="object"&&b!==null?b=Xi(b):(b=Ei(n)?os:$n.current,b=tl(e,b));var M=n.getDerivedStateFromProps,N=typeof M=="function"||typeof _.getSnapshotBeforeUpdate=="function";N||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==s||v!==b)&&P0(e,_,s,b),cr=!1;var F=e.memoizedState;_.state=F,$d(e,s,_,d),v=e.memoizedState,w!==s||F!==v||_i.current||cr?(typeof M=="function"&&(E1(e,n,M,s),v=e.memoizedState),(w=cr||M0(e,n,w,s,F,v,b))?(N||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(e.flags|=4194308)):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=v),_.props=s,_.state=v,_.context=b,s=w):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{_=e.stateNode,Ep(t,e),w=e.memoizedProps,b=e.type===e.elementType?w:io(e.type,w),_.props=b,N=e.pendingProps,F=_.context,v=n.contextType,typeof v=="object"&&v!==null?v=Xi(v):(v=Ei(n)?os:$n.current,v=tl(e,v));var V=n.getDerivedStateFromProps;(M=typeof V=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==N||F!==v)&&P0(e,_,s,v),cr=!1,F=e.memoizedState,_.state=F,$d(e,s,_,d);var $=e.memoizedState;w!==N||F!==$||_i.current||cr?(typeof V=="function"&&(E1(e,n,V,s),$=e.memoizedState),(b=cr||M0(e,n,b,s,F,$,v)||!1)?(M||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(s,$,v),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(s,$,v)),typeof _.componentDidUpdate=="function"&&(e.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=$),_.props=s,_.state=$,_.context=v,s=b):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(e.flags|=1024),s=!1)}return v1(t,e,n,s,g,d)}function v1(t,e,n,s,d,g){Xp(t,e);var _=(e.flags&128)!==0;if(!s&&!_)return d&&T0(e,n,!1),Xo(t,e,g);s=e.stateNode,pE.current=e;var w=_&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&_?(e.child=il(e,t.child,null,g),e.child=il(e,null,w,g)):si(t,e,w,g),e.memoizedState=s.state,d&&T0(e,n,!0),e.child}function Yp(t){var e=t.stateNode;e.pendingContext?I0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I0(t,e.context,!1),Nh(t,e.containerInfo)}function G0(t,e,n,s,d){return nl(),Sh(d),e.flags|=256,si(t,e,n,s),e.child}var C1={dehydrated:null,treeContext:null,retryLane:0};function S1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kp(t,e,n){var s=e.pendingProps,d=sn.current,g=!1,_=(e.flags&128)!==0,w;if((w=_)||(w=t!==null&&t.memoizedState===null?!1:(d&2)!==0),w?(g=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),jt(sn,d&1),t===null)return m1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(_=s.children,t=s.fallback,g?(s=e.mode,g=e.child,_={mode:"hidden",children:_},!(s&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Dc(_,s,0,null),t=ns(t,s,n,null),g.return=e,t.return=e,g.sibling=t,e.child=g,e.child.memoizedState=S1(n),e.memoizedState=C1,t):Bh(e,_));if(d=t.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return mE(t,e,_,s,w,d,n);if(g){g=s.fallback,_=e.mode,d=t.child,w=d.sibling;var v={mode:"hidden",children:s.children};return!(_&1)&&e.child!==d?(s=e.child,s.childLanes=0,s.pendingProps=v,e.deletions=null):(s=vr(d,v),s.subtreeFlags=d.subtreeFlags&14680064),w!==null?g=vr(w,g):(g=ns(g,_,n,null),g.flags|=2),g.return=e,s.return=e,s.sibling=g,e.child=s,s=g,g=e.child,_=t.child.memoizedState,_=_===null?S1(n):{baseLanes:_.baseLanes|n,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=t.childLanes&~n,e.memoizedState=C1,s}return g=t.child,t=g.sibling,s=vr(g,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Bh(t,e){return e=Dc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,n,s){return s!==null&&Sh(s),il(e,t.child,null,n),t=Bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mE(t,e,n,s,d,g,_){if(n)return e.flags&256?(e.flags&=-257,s=Au(Error(fe(422))),xd(t,e,_,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(g=s.fallback,d=e.mode,s=Dc({mode:"visible",children:s.children},d,0,null),g=ns(g,d,_,null),g.flags|=2,s.return=e,g.return=e,s.sibling=g,e.child=s,e.mode&1&&il(e,t.child,null,_),e.child.memoizedState=S1(_),e.memoizedState=C1,g);if(!(e.mode&1))return xd(t,e,_,null);if(d.data==="$!"){if(s=d.nextSibling&&d.nextSibling.dataset,s)var w=s.dgst;return s=w,g=Error(fe(419)),s=Au(g,s,void 0),xd(t,e,_,s)}if(w=(_&t.childLanes)!==0,gi||w){if(s=Dn,s!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(s.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,jo(t,d),uo(s,t,d,-1))}return Gh(),s=Au(Error(fe(421))),xd(t,e,_,s)}return d.data==="$?"?(e.flags|=128,e.child=t.child,e=RE.bind(null,t),d._reactRetry=e,null):(t=g.treeContext,Ti=Er(d.nextSibling),Ri=e,nn=!0,ro=null,t!==null&&(Vi[Gi++]=zo,Vi[Gi++]=Ho,Vi[Gi++]=rs,zo=t.id,Ho=t.overflow,rs=e),e=Bh(e,s.children),e.flags|=4096,e)}function Z0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),_1(t.return,e,n)}function Iu(t,e,n,s,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:d}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=n,g.tailMode=d)}function qp(t,e,n){var s=e.pendingProps,d=s.revealOrder,g=s.tail;if(si(t,e,s.children,n),s=sn.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z0(t,n,e);else if(t.tag===19)Z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(jt(sn,s),!(e.mode&1))e.memoizedState=null;else switch(d){case"forwards":for(n=e.child,d=null;n!==null;)t=n.alternate,t!==null&&Jd(t)===null&&(d=n),n=n.sibling;n=d,n===null?(d=e.child,e.child=null):(d=n.sibling,n.sibling=null),Iu(e,!1,d,n,g);break;case"backwards":for(n=null,d=e.child,e.child=null;d!==null;){if(t=d.alternate,t!==null&&Jd(t)===null){e.child=d;break}t=d.sibling,d.sibling=n,n=d,d=t}Iu(e,!0,n,null,g);break;case"together":Iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _E(t,e,n){switch(e.tag){case 3:Yp(e),nl();break;case 5:Cp(e);break;case 1:Ei(e.type)&&Xd(e);break;case 4:Nh(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,d=e.memoizedProps.value;jt(qd,s._currentValue),s._currentValue=d;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(jt(sn,sn.current&1),e.flags|=128,null):n&e.child.childLanes?Kp(t,e,n):(jt(sn,sn.current&1),t=Xo(t,e,n),t!==null?t.sibling:null);jt(sn,sn.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return qp(t,e,n);e.flags|=128}if(d=e.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),jt(sn,sn.current),s)break;return null;case 22:case 23:return e.lanes=0,jp(t,e,n)}return Xo(t,e,n)}var Qp,b1,$p,Jp;Qp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};b1=function(){};$p=function(t,e,n,s){var d=t.memoizedProps;if(d!==s){t=e.stateNode,Jr(Io.current);var g=null;switch(n){case"input":d=Xu(t,d),s=Xu(t,s),g=[];break;case"select":d=an({},d,{value:void 0}),s=an({},s,{value:void 0}),g=[];break;case"textarea":d=qu(t,d),s=qu(t,s),g=[];break;default:typeof d.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Zd)}$u(n,s);var _;n=null;for(b in d)if(!s.hasOwnProperty(b)&&d.hasOwnProperty(b)&&d[b]!=null)if(b==="style"){var w=d[b];for(_ in w)w.hasOwnProperty(_)&&(n||(n={}),n[_]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ua.hasOwnProperty(b)?g||(g=[]):(g=g||[]).push(b,null));for(b in s){var v=s[b];if(w=d!=null?d[b]:void 0,s.hasOwnProperty(b)&&v!==w&&(v!=null||w!=null))if(b==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||v&&v.hasOwnProperty(_)||(n||(n={}),n[_]="");for(_ in v)v.hasOwnProperty(_)&&w[_]!==v[_]&&(n||(n={}),n[_]=v[_])}else n||(g||(g=[]),g.push(b,n)),n=v;else b==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,w=w?w.__html:void 0,v!=null&&w!==v&&(g=g||[]).push(b,v)):b==="children"?typeof v!="string"&&typeof v!="number"||(g=g||[]).push(b,""+v):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ua.hasOwnProperty(b)?(v!=null&&b==="onScroll"&&qt("scroll",t),g||w===v||(g=[])):(g=g||[]).push(b,v))}n&&(g=g||[]).push("style",n);var b=g;(e.updateQueue=b)&&(e.flags|=4)}};Jp=function(t,e,n,s){n!==s&&(e.flags|=4)};function zl(t,e){if(!nn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var d=t.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags&14680064,s|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function EE(t,e,n){var s=e.pendingProps;switch(Ch(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Ei(e.type)&&jd(),Xn(e),null;case 3:return s=e.stateNode,ol(),$t(_i),$t($n),Oh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(_d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(M1(ro),ro=null))),b1(t,e),Xn(e),null;case 5:Lh(e);var d=Jr(Ca.current);if(n=e.type,t!==null&&e.stateNode!=null)$p(t,e,n,s,d),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(fe(166));return Xn(e),null}if(t=Jr(Io.current),_d(e)){s=e.stateNode,n=e.type;var g=e.memoizedProps;switch(s[bo]=e,s[wa]=g,t=(e.mode&1)!==0,n){case"dialog":qt("cancel",s),qt("close",s);break;case"iframe":case"object":case"embed":qt("load",s);break;case"video":case"audio":for(d=0;d<Ql.length;d++)qt(Ql[d],s);break;case"source":qt("error",s);break;case"img":case"image":case"link":qt("error",s),qt("load",s);break;case"details":qt("toggle",s);break;case"input":e0(s,g),qt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!g.multiple},qt("invalid",s);break;case"textarea":n0(s,g),qt("invalid",s)}$u(n,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var w=g[_];_==="children"?typeof w=="string"?s.textContent!==w&&(g.suppressHydrationWarning!==!0&&md(s.textContent,w,t),d=["children",w]):typeof w=="number"&&s.textContent!==""+w&&(g.suppressHydrationWarning!==!0&&md(s.textContent,w,t),d=["children",""+w]):ua.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&qt("scroll",s)}switch(n){case"input":ad(s),t0(s,g,!0);break;case"textarea":ad(s),i0(s);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(s.onclick=Zd)}s=d,e.updateQueue=s,s!==null&&(e.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=_.createElement(n,{is:s.is}):(t=_.createElement(n),n==="select"&&(_=t,s.multiple?_.multiple=!0:s.size&&(_.size=s.size))):t=_.createElementNS(t,n),t[bo]=e,t[wa]=s,Qp(t,e,!1,!1),e.stateNode=t;e:{switch(_=Ju(n,s),n){case"dialog":qt("cancel",t),qt("close",t),d=s;break;case"iframe":case"object":case"embed":qt("load",t),d=s;break;case"video":case"audio":for(d=0;d<Ql.length;d++)qt(Ql[d],t);d=s;break;case"source":qt("error",t),d=s;break;case"img":case"image":case"link":qt("error",t),qt("load",t),d=s;break;case"details":qt("toggle",t),d=s;break;case"input":e0(t,s),d=Xu(t,s),qt("invalid",t);break;case"option":d=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},d=an({},s,{value:void 0}),qt("invalid",t);break;case"textarea":n0(t,s),d=qu(t,s),qt("invalid",t);break;default:d=s}$u(n,d),w=d;for(g in w)if(w.hasOwnProperty(g)){var v=w[g];g==="style"?R2(t,v):g==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&I2(t,v)):g==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&ha(t,v):typeof v=="number"&&ha(t,""+v):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ua.hasOwnProperty(g)?v!=null&&g==="onScroll"&&qt("scroll",t):v!=null&&ah(t,g,v,_))}switch(n){case"input":ad(t),t0(t,s,!1);break;case"textarea":ad(t),i0(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Ar(s.value));break;case"select":t.multiple=!!s.multiple,g=s.value,g!=null?Vs(t,!!s.multiple,g,!1):s.defaultValue!=null&&Vs(t,!!s.multiple,s.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=Zd)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)Jp(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(fe(166));if(n=Jr(Ca.current),Jr(Io.current),_d(e)){if(s=e.stateNode,n=e.memoizedProps,s[bo]=e,(g=s.nodeValue!==n)&&(t=Ri,t!==null))switch(t.tag){case 3:md(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&md(s.nodeValue,n,(t.mode&1)!==0)}g&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[bo]=e,e.stateNode=s}return Xn(e),null;case 13:if($t(sn),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nn&&Ti!==null&&e.mode&1&&!(e.flags&128))mp(),nl(),e.flags|=98560,g=!1;else if(g=_d(e),s!==null&&s.dehydrated!==null){if(t===null){if(!g)throw Error(fe(318));if(g=e.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(fe(317));g[bo]=e}else nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),g=!1}else ro!==null&&(M1(ro),ro=null),g=!0;if(!g)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||sn.current&1?An===0&&(An=3):Gh())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return ol(),b1(t,e),t===null&&xa(e.stateNode.containerInfo),Xn(e),null;case 10:return Ih(e.type._context),Xn(e),null;case 17:return Ei(e.type)&&jd(),Xn(e),null;case 19:if($t(sn),g=e.memoizedState,g===null)return Xn(e),null;if(s=(e.flags&128)!==0,_=g.rendering,_===null)if(s)zl(g,!1);else{if(An!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(_=Jd(t),_!==null){for(e.flags|=128,zl(g,!1),s=_.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)g=n,t=s,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,t=_.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(sn,sn.current&1|2),e.child}t=t.sibling}g.tail!==null&&hn()>sl&&(e.flags|=128,s=!0,zl(g,!1),e.lanes=4194304)}else{if(!s)if(t=Jd(_),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!nn)return Xn(e),null}else 2*hn()-g.renderingStartTime>sl&&n!==1073741824&&(e.flags|=128,s=!0,zl(g,!1),e.lanes=4194304);g.isBackwards?(_.sibling=e.child,e.child=_):(n=g.last,n!==null?n.sibling=_:e.child=_,g.last=_)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=hn(),e.sibling=null,n=sn.current,jt(sn,s?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return Vh(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Ii&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function xE(t,e){switch(Ch(e),e.tag){case 1:return Ei(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ol(),$t(_i),$t($n),Oh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lh(e),null;case 13:if($t(sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(sn),null;case 4:return ol(),null;case 10:return Ih(e.type._context),null;case 22:case 23:return Vh(),null;case 24:return null;default:return null}}var yd=!1,Kn=!1,yE=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){dn(t,e,s)}else n.current=null}function A1(t,e,n){try{n()}catch(s){dn(t,e,s)}}var j0=!1;function wE(t,e){if(d1=Wd,t=ip(),wh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var d=s.anchorOffset,g=s.focusNode;s=s.focusOffset;try{n.nodeType,g.nodeType}catch{n=null;break e}var _=0,w=-1,v=-1,b=0,M=0,N=t,F=null;t:for(;;){for(var V;N!==n||d!==0&&N.nodeType!==3||(w=_+d),N!==g||s!==0&&N.nodeType!==3||(v=_+s),N.nodeType===3&&(_+=N.nodeValue.length),(V=N.firstChild)!==null;)F=N,N=V;for(;;){if(N===t)break t;if(F===n&&++b===d&&(w=_),F===g&&++M===s&&(v=_),(V=N.nextSibling)!==null)break;N=F,F=N.parentNode}N=V}n=w===-1||v===-1?null:{start:w,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(c1={focusedElem:t,selectionRange:n},Wd=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var $=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if($!==null){var X=$.memoizedProps,Ne=$.memoizedState,W=e.stateNode,D=W.getSnapshotBeforeUpdate(e.elementType===e.type?X:io(e.type,X),Ne);W.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(J){dn(e,e.return,J)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return $=j0,j0=!1,$}function oa(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&t)===t){var g=d.destroy;d.destroy=void 0,g!==void 0&&A1(e,n,g)}d=d.next}while(d!==s)}}function Pc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function I1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function em(t){var e=t.alternate;e!==null&&(t.alternate=null,em(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bo],delete e[wa],delete e[f1],delete e[iE],delete e[oE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tm(t){return t.tag===5||t.tag===3||t.tag===4}function X0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function T1(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zd));else if(s!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}function R1(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(R1(t,e,n),t=t.sibling;t!==null;)R1(t,e,n),t=t.sibling}var zn=null,oo=!1;function ar(t,e,n){for(n=n.child;n!==null;)nm(t,e,n),n=n.sibling}function nm(t,e,n){if(Ao&&typeof Ao.onCommitFiberUnmount=="function")try{Ao.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 5:Kn||zs(n,e);case 6:var s=zn,d=oo;zn=null,ar(t,e,n),zn=s,oo=d,zn!==null&&(oo?(t=zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(oo?(t=zn,n=n.stateNode,t.nodeType===8?yu(t.parentNode,n):t.nodeType===1&&yu(t,n),ma(t)):yu(zn,n.stateNode));break;case 4:s=zn,d=oo,zn=n.stateNode.containerInfo,oo=!0,ar(t,e,n),zn=s,oo=d;break;case 0:case 11:case 14:case 15:if(!Kn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){d=s=s.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&A1(n,e,_),d=d.next}while(d!==s)}ar(t,e,n);break;case 1:if(!Kn&&(zs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(w){dn(n,e,w)}ar(t,e,n);break;case 21:ar(t,e,n);break;case 22:n.mode&1?(Kn=(s=Kn)||n.memoizedState!==null,ar(t,e,n),Kn=s):ar(t,e,n);break;default:ar(t,e,n)}}function Y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yE),e.forEach(function(s){var d=NE.bind(null,t,s);n.has(s)||(n.add(s),s.then(d,d))})}}function no(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var d=n[s];try{var g=t,_=e,w=_;e:for(;w!==null;){switch(w.tag){case 5:zn=w.stateNode,oo=!1;break e;case 3:zn=w.stateNode.containerInfo,oo=!0;break e;case 4:zn=w.stateNode.containerInfo,oo=!0;break e}w=w.return}if(zn===null)throw Error(fe(160));nm(g,_,d),zn=null,oo=!1;var v=d.alternate;v!==null&&(v.return=null),d.return=null}catch(b){dn(d,e,b)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)im(e,t),e=e.sibling}function im(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(no(e,t),Co(t),s&4){try{oa(3,t,t.return),Pc(3,t)}catch(X){dn(t,t.return,X)}try{oa(5,t,t.return)}catch(X){dn(t,t.return,X)}}break;case 1:no(e,t),Co(t),s&512&&n!==null&&zs(n,n.return);break;case 5:if(no(e,t),Co(t),s&512&&n!==null&&zs(n,n.return),t.flags&32){var d=t.stateNode;try{ha(d,"")}catch(X){dn(t,t.return,X)}}if(s&4&&(d=t.stateNode,d!=null)){var g=t.memoizedProps,_=n!==null?n.memoizedProps:g,w=t.type,v=t.updateQueue;if(t.updateQueue=null,v!==null)try{w==="input"&&g.type==="radio"&&g.name!=null&&S2(d,g),Ju(w,_);var b=Ju(w,g);for(_=0;_<v.length;_+=2){var M=v[_],N=v[_+1];M==="style"?R2(d,N):M==="dangerouslySetInnerHTML"?I2(d,N):M==="children"?ha(d,N):ah(d,M,N,b)}switch(w){case"input":Yu(d,g);break;case"textarea":b2(d,g);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var V=g.value;V!=null?Vs(d,!!g.multiple,V,!1):F!==!!g.multiple&&(g.defaultValue!=null?Vs(d,!!g.multiple,g.defaultValue,!0):Vs(d,!!g.multiple,g.multiple?[]:"",!1))}d[wa]=g}catch(X){dn(t,t.return,X)}}break;case 6:if(no(e,t),Co(t),s&4){if(t.stateNode===null)throw Error(fe(162));d=t.stateNode,g=t.memoizedProps;try{d.nodeValue=g}catch(X){dn(t,t.return,X)}}break;case 3:if(no(e,t),Co(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(e.containerInfo)}catch(X){dn(t,t.return,X)}break;case 4:no(e,t),Co(t);break;case 13:no(e,t),Co(t),d=t.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Uh=hn())),s&4&&Y0(t);break;case 22:if(M=n!==null&&n.memoizedState!==null,t.mode&1?(Kn=(b=Kn)||M,no(e,t),Kn=b):no(e,t),Co(t),s&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!M&&t.mode&1)for(Ae=t,M=t.child;M!==null;){for(N=Ae=M;Ae!==null;){switch(F=Ae,V=F.child,F.tag){case 0:case 11:case 14:case 15:oa(4,F,F.return);break;case 1:zs(F,F.return);var $=F.stateNode;if(typeof $.componentWillUnmount=="function"){s=F,n=F.return;try{e=s,$.props=e.memoizedProps,$.state=e.memoizedState,$.componentWillUnmount()}catch(X){dn(s,n,X)}}break;case 5:zs(F,F.return);break;case 22:if(F.memoizedState!==null){q0(N);continue}}V!==null?(V.return=F,Ae=V):q0(N)}M=M.sibling}e:for(M=null,N=t;;){if(N.tag===5){if(M===null){M=N;try{d=N.stateNode,b?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(w=N.stateNode,v=N.memoizedProps.style,_=v!=null&&v.hasOwnProperty("display")?v.display:null,w.style.display=T2("display",_))}catch(X){dn(t,t.return,X)}}}else if(N.tag===6){if(M===null)try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(X){dn(t,t.return,X)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===t)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===t)break e;for(;N.sibling===null;){if(N.return===null||N.return===t)break e;M===N&&(M=null),N=N.return}M===N&&(M=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:no(e,t),Co(t),s&4&&Y0(t);break;case 21:break;default:no(e,t),Co(t)}}function Co(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tm(n)){var s=n;break e}n=n.return}throw Error(fe(160))}switch(s.tag){case 5:var d=s.stateNode;s.flags&32&&(ha(d,""),s.flags&=-33);var g=X0(t);R1(t,g,d);break;case 3:case 4:var _=s.stateNode.containerInfo,w=X0(t);T1(t,w,_);break;default:throw Error(fe(161))}}catch(v){dn(t,t.return,v)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vE(t,e,n){Ae=t,om(t)}function om(t,e,n){for(var s=(t.mode&1)!==0;Ae!==null;){var d=Ae,g=d.child;if(d.tag===22&&s){var _=d.memoizedState!==null||yd;if(!_){var w=d.alternate,v=w!==null&&w.memoizedState!==null||Kn;w=yd;var b=Kn;if(yd=_,(Kn=v)&&!b)for(Ae=d;Ae!==null;)_=Ae,v=_.child,_.tag===22&&_.memoizedState!==null?Q0(d):v!==null?(v.return=_,Ae=v):Q0(d);for(;g!==null;)Ae=g,om(g),g=g.sibling;Ae=d,yd=w,Kn=b}K0(t)}else d.subtreeFlags&8772&&g!==null?(g.return=d,Ae=g):K0(t)}}function K0(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kn||Pc(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Kn)if(n===null)s.componentDidMount();else{var d=e.elementType===e.type?n.memoizedProps:io(e.type,n.memoizedProps);s.componentDidUpdate(d,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var g=e.updateQueue;g!==null&&O0(e,g,s);break;case 3:var _=e.updateQueue;if(_!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O0(e,_,n)}break;case 5:var w=e.stateNode;if(n===null&&e.flags&4){n=w;var v=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var b=e.alternate;if(b!==null){var M=b.memoizedState;if(M!==null){var N=M.dehydrated;N!==null&&ma(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Kn||e.flags&512&&I1(e)}catch(F){dn(e,e.return,F)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function q0(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function Q0(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pc(4,e)}catch(v){dn(e,n,v)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var d=e.return;try{s.componentDidMount()}catch(v){dn(e,d,v)}}var g=e.return;try{I1(e)}catch(v){dn(e,g,v)}break;case 5:var _=e.return;try{I1(e)}catch(v){dn(e,_,v)}}}catch(v){dn(e,e.return,v)}if(e===t){Ae=null;break}var w=e.sibling;if(w!==null){w.return=e.return,Ae=w;break}Ae=e.return}}var CE=Math.ceil,nc=Ko.ReactCurrentDispatcher,zh=Ko.ReactCurrentOwner,ji=Ko.ReactCurrentBatchConfig,At=0,Dn=null,_n=null,Hn=0,Ii=0,Hs=Lr(0),An=0,Ia=null,ls=0,Fc=0,Hh=0,ra=null,fi=null,Uh=0,sl=1/0,ko=null,ic=!1,N1=null,yr=null,wd=!1,gr=null,oc=0,sa=0,L1=null,Pd=-1,Fd=0;function li(){return At&6?hn():Pd!==-1?Pd:Pd=hn()}function wr(t){return t.mode&1?At&2&&Hn!==0?Hn&-Hn:sE.transition!==null?(Fd===0&&(Fd=U2()),Fd):(t=Ft,t!==0||(t=window.event,t=t===void 0?16:Y2(t.type)),t):1}function uo(t,e,n,s){if(50<sa)throw sa=0,L1=null,Error(fe(185));za(t,n,s),(!(At&2)||t!==Dn)&&(t===Dn&&(!(At&2)&&(Fc|=n),An===4&&hr(t,Hn)),xi(t,s),n===1&&At===0&&!(e.mode&1)&&(sl=hn()+500,Lc&&Or()))}function xi(t,e){var n=t.callbackNode;s4(t,e);var s=Ud(t,t===Dn?Hn:0);if(s===0)n!==null&&s0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&s0(n),e===1)t.tag===0?rE($0.bind(null,t)):fp($0.bind(null,t)),tE(function(){!(At&6)&&Or()}),n=null;else{switch(W2(s)){case 1:n=fh;break;case 4:n=z2;break;case 16:n=Hd;break;case 536870912:n=H2;break;default:n=Hd}n=hm(n,rm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rm(t,e){if(Pd=-1,Fd=0,At&6)throw Error(fe(327));var n=t.callbackNode;if(Ys()&&t.callbackNode!==n)return null;var s=Ud(t,t===Dn?Hn:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=rc(t,s);else{e=s;var d=At;At|=2;var g=lm();(Dn!==t||Hn!==e)&&(ko=null,sl=hn()+500,ts(t,e));do try{AE();break}catch(w){sm(t,w)}while(!0);Ah(),nc.current=g,At=d,_n!==null?e=0:(Dn=null,Hn=0,e=An)}if(e!==0){if(e===2&&(d=o1(t),d!==0&&(s=d,e=O1(t,d))),e===1)throw n=Ia,ts(t,0),hr(t,s),xi(t,hn()),n;if(e===6)hr(t,s);else{if(d=t.current.alternate,!(s&30)&&!SE(d)&&(e=rc(t,s),e===2&&(g=o1(t),g!==0&&(s=g,e=O1(t,g))),e===1))throw n=Ia,ts(t,0),hr(t,s),xi(t,hn()),n;switch(t.finishedWork=d,t.finishedLanes=s,e){case 0:case 1:throw Error(fe(345));case 2:Yr(t,fi,ko);break;case 3:if(hr(t,s),(s&130023424)===s&&(e=Uh+500-hn(),10<e)){if(Ud(t,0)!==0)break;if(d=t.suspendedLanes,(d&s)!==s){li(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=h1(Yr.bind(null,t,fi,ko),e);break}Yr(t,fi,ko);break;case 4:if(hr(t,s),(s&4194240)===s)break;for(e=t.eventTimes,d=-1;0<s;){var _=31-co(s);g=1<<_,_=e[_],_>d&&(d=_),s&=~g}if(s=d,s=hn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*CE(s/1960))-s,10<s){t.timeoutHandle=h1(Yr.bind(null,t,fi,ko),s);break}Yr(t,fi,ko);break;case 5:Yr(t,fi,ko);break;default:throw Error(fe(329))}}}return xi(t,hn()),t.callbackNode===n?rm.bind(null,t):null}function O1(t,e){var n=ra;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=rc(t,e),t!==2&&(e=fi,fi=n,e!==null&&M1(e)),t}function M1(t){fi===null?fi=t:fi.push.apply(fi,t)}function SE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var d=n[s],g=d.getSnapshot;d=d.value;try{if(!fo(g(),d))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~Hh,e&=~Fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-co(e),s=1<<n;t[n]=-1,e&=~s}}function $0(t){if(At&6)throw Error(fe(327));Ys();var e=Ud(t,0);if(!(e&1))return xi(t,hn()),null;var n=rc(t,e);if(t.tag!==0&&n===2){var s=o1(t);s!==0&&(e=s,n=O1(t,s))}if(n===1)throw n=Ia,ts(t,0),hr(t,e),xi(t,hn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,fi,ko),xi(t,hn()),null}function Wh(t,e){var n=At;At|=1;try{return t(e)}finally{At=n,At===0&&(sl=hn()+500,Lc&&Or())}}function as(t){gr!==null&&gr.tag===0&&!(At&6)&&Ys();var e=At;At|=1;var n=ji.transition,s=Ft;try{if(ji.transition=null,Ft=1,t)return t()}finally{Ft=s,ji.transition=n,At=e,!(At&6)&&Or()}}function Vh(){Ii=Hs.current,$t(Hs)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eE(n)),_n!==null)for(n=_n.return;n!==null;){var s=n;switch(Ch(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&jd();break;case 3:ol(),$t(_i),$t($n),Oh();break;case 5:Lh(s);break;case 4:ol();break;case 13:$t(sn);break;case 19:$t(sn);break;case 10:Ih(s.type._context);break;case 22:case 23:Vh()}n=n.return}if(Dn=t,_n=t=vr(t.current,null),Hn=Ii=e,An=0,Ia=null,Hh=Fc=ls=0,fi=ra=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],s=n.interleaved,s!==null){n.interleaved=null;var d=s.next,g=n.pending;if(g!==null){var _=g.next;g.next=d,s.next=_}n.pending=s}$r=null}return t}function sm(t,e){do{var n=_n;try{if(Ah(),Ld.current=tc,ec){for(var s=ln.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}ec=!1}if(ss=0,Mn=Sn=ln=null,ia=!1,Sa=0,zh.current=null,n===null||n.return===null){An=1,Ia=e,_n=null;break}e:{var g=t,_=n.return,w=n,v=e;if(e=Hn,w.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var b=v,M=w,N=M.tag;if(!(M.mode&1)&&(N===0||N===11||N===15)){var F=M.alternate;F?(M.updateQueue=F.updateQueue,M.memoizedState=F.memoizedState,M.lanes=F.lanes):(M.updateQueue=null,M.memoizedState=null)}var V=z0(_);if(V!==null){V.flags&=-257,H0(V,_,w,g,e),V.mode&1&&B0(g,b,e),e=V,v=b;var $=e.updateQueue;if($===null){var X=new Set;X.add(v),e.updateQueue=X}else $.add(v);break e}else{if(!(e&1)){B0(g,b,e),Gh();break e}v=Error(fe(426))}}else if(nn&&w.mode&1){var Ne=z0(_);if(Ne!==null){!(Ne.flags&65536)&&(Ne.flags|=256),H0(Ne,_,w,g,e),Sh(rl(v,w));break e}}g=v=rl(v,w),An!==4&&(An=2),ra===null?ra=[g]:ra.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,e&=-e,g.lanes|=e;var W=Vp(g,v,e);L0(g,W);break e;case 1:w=v;var D=g.type,B=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(yr===null||!yr.has(B)))){g.flags|=65536,e&=-e,g.lanes|=e;var J=Gp(g,w,e);L0(g,J);break e}}g=g.return}while(g!==null)}dm(n)}catch(Ee){e=Ee,_n===n&&n!==null&&(_n=n=n.return);continue}break}while(!0)}function lm(){var t=nc.current;return nc.current=tc,t===null?tc:t}function Gh(){(An===0||An===3||An===2)&&(An=4),Dn===null||!(ls&268435455)&&!(Fc&268435455)||hr(Dn,Hn)}function rc(t,e){var n=At;At|=2;var s=lm();(Dn!==t||Hn!==e)&&(ko=null,ts(t,e));do try{bE();break}catch(d){sm(t,d)}while(!0);if(Ah(),At=n,nc.current=s,_n!==null)throw Error(fe(261));return Dn=null,Hn=0,An}function bE(){for(;_n!==null;)am(_n)}function AE(){for(;_n!==null&&!Q3();)am(_n)}function am(t){var e=um(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?dm(t):_n=e,zh.current=null}function dm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xE(n,e),n!==null){n.flags&=32767,_n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{An=6,_n=null;return}}else if(n=EE(n,e,Ii),n!==null){_n=n;return}if(e=e.sibling,e!==null){_n=e;return}_n=e=t}while(e!==null);An===0&&(An=5)}function Yr(t,e,n){var s=Ft,d=ji.transition;try{ji.transition=null,Ft=1,IE(t,e,n,s)}finally{ji.transition=d,Ft=s}return null}function IE(t,e,n,s){do Ys();while(gr!==null);if(At&6)throw Error(fe(327));n=t.finishedWork;var d=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var g=n.lanes|n.childLanes;if(l4(t,g),t===Dn&&(_n=Dn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wd||(wd=!0,hm(Hd,function(){return Ys(),null})),g=(n.flags&15990)!==0,n.subtreeFlags&15990||g){g=ji.transition,ji.transition=null;var _=Ft;Ft=1;var w=At;At|=4,zh.current=null,wE(t,n),im(n,t),X4(c1),Wd=!!d1,c1=d1=null,t.current=n,vE(n),$3(),At=w,Ft=_,ji.transition=g}else t.current=n;if(wd&&(wd=!1,gr=t,oc=d),g=t.pendingLanes,g===0&&(yr=null),t4(n.stateNode),xi(t,hn()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)d=e[n],s(d.value,{componentStack:d.stack,digest:d.digest});if(ic)throw ic=!1,t=N1,N1=null,t;return oc&1&&t.tag!==0&&Ys(),g=t.pendingLanes,g&1?t===L1?sa++:(sa=0,L1=t):sa=0,Or(),null}function Ys(){if(gr!==null){var t=W2(oc),e=ji.transition,n=Ft;try{if(ji.transition=null,Ft=16>t?16:t,gr===null)var s=!1;else{if(t=gr,gr=null,oc=0,At&6)throw Error(fe(331));var d=At;for(At|=4,Ae=t.current;Ae!==null;){var g=Ae,_=g.child;if(Ae.flags&16){var w=g.deletions;if(w!==null){for(var v=0;v<w.length;v++){var b=w[v];for(Ae=b;Ae!==null;){var M=Ae;switch(M.tag){case 0:case 11:case 15:oa(8,M,g)}var N=M.child;if(N!==null)N.return=M,Ae=N;else for(;Ae!==null;){M=Ae;var F=M.sibling,V=M.return;if(em(M),M===b){Ae=null;break}if(F!==null){F.return=V,Ae=F;break}Ae=V}}}var $=g.alternate;if($!==null){var X=$.child;if(X!==null){$.child=null;do{var Ne=X.sibling;X.sibling=null,X=Ne}while(X!==null)}}Ae=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,Ae=_;else e:for(;Ae!==null;){if(g=Ae,g.flags&2048)switch(g.tag){case 0:case 11:case 15:oa(9,g,g.return)}var W=g.sibling;if(W!==null){W.return=g.return,Ae=W;break e}Ae=g.return}}var D=t.current;for(Ae=D;Ae!==null;){_=Ae;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,Ae=B;else e:for(_=D;Ae!==null;){if(w=Ae,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Pc(9,w)}}catch(Ee){dn(w,w.return,Ee)}if(w===_){Ae=null;break e}var J=w.sibling;if(J!==null){J.return=w.return,Ae=J;break e}Ae=w.return}}if(At=d,Or(),Ao&&typeof Ao.onPostCommitFiberRoot=="function")try{Ao.onPostCommitFiberRoot(Ac,t)}catch{}s=!0}return s}finally{Ft=n,ji.transition=e}}return!1}function J0(t,e,n){e=rl(n,e),e=Vp(t,e,1),t=xr(t,e,1),e=li(),t!==null&&(za(t,1,e),xi(t,e))}function dn(t,e,n){if(t.tag===3)J0(t,t,n);else for(;e!==null;){if(e.tag===3){J0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(yr===null||!yr.has(s))){t=rl(n,t),t=Gp(e,t,1),e=xr(e,t,1),t=li(),e!==null&&(za(e,1,t),xi(e,t));break}}e=e.return}}function TE(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=li(),t.pingedLanes|=t.suspendedLanes&n,Dn===t&&(Hn&n)===n&&(An===4||An===3&&(Hn&130023424)===Hn&&500>hn()-Uh?ts(t,0):Hh|=n),xi(t,e)}function cm(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var n=li();t=jo(t,e),t!==null&&(za(t,e,n),xi(t,n))}function RE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cm(t,n)}function NE(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,d=t.memoizedState;d!==null&&(n=d.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(fe(314))}s!==null&&s.delete(e),cm(t,n)}var um;um=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_i.current)gi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gi=!1,_E(t,e,n);gi=!!(t.flags&131072)}else gi=!1,nn&&e.flags&1048576&&gp(e,Kd,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Md(t,e),t=e.pendingProps;var d=tl(e,$n.current);Xs(e,n),d=Ph(null,e,s,t,d,n);var g=Fh();return e.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ei(s)?(g=!0,Xd(e)):g=!1,e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Rh(e),d.updater=Oc,e.stateNode=d,d._reactInternals=e,x1(e,s,t,n),e=v1(null,e,s,!0,g,n)):(e.tag=0,nn&&g&&vh(e),si(null,e,d,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,d=s._init,s=d(s._payload),e.type=s,d=e.tag=OE(s),t=io(s,t),d){case 0:e=w1(null,e,s,t,n);break e;case 1:e=V0(null,e,s,t,n);break e;case 11:e=U0(null,e,s,t,n);break e;case 14:e=W0(null,e,s,io(s.type,t),n);break e}throw Error(fe(306,s,""))}return e;case 0:return s=e.type,d=e.pendingProps,d=e.elementType===s?d:io(s,d),w1(t,e,s,d,n);case 1:return s=e.type,d=e.pendingProps,d=e.elementType===s?d:io(s,d),V0(t,e,s,d,n);case 3:e:{if(Yp(e),t===null)throw Error(fe(387));s=e.pendingProps,g=e.memoizedState,d=g.element,Ep(t,e),$d(e,s,null,n);var _=e.memoizedState;if(s=_.element,g.isDehydrated)if(g={element:s,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){d=rl(Error(fe(423)),e),e=G0(t,e,s,n,d);break e}else if(s!==d){d=rl(Error(fe(424)),e),e=G0(t,e,s,n,d);break e}else for(Ti=Er(e.stateNode.containerInfo.firstChild),Ri=e,nn=!0,ro=null,n=vp(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),s===d){e=Xo(t,e,n);break e}si(t,e,s,n)}e=e.child}return e;case 5:return Cp(e),t===null&&m1(e),s=e.type,d=e.pendingProps,g=t!==null?t.memoizedProps:null,_=d.children,u1(s,d)?_=null:g!==null&&u1(s,g)&&(e.flags|=32),Xp(t,e),si(t,e,_,n),e.child;case 6:return t===null&&m1(e),null;case 13:return Kp(t,e,n);case 4:return Nh(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=il(e,null,s,n):si(t,e,s,n),e.child;case 11:return s=e.type,d=e.pendingProps,d=e.elementType===s?d:io(s,d),U0(t,e,s,d,n);case 7:return si(t,e,e.pendingProps,n),e.child;case 8:return si(t,e,e.pendingProps.children,n),e.child;case 12:return si(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,d=e.pendingProps,g=e.memoizedProps,_=d.value,jt(qd,s._currentValue),s._currentValue=_,g!==null)if(fo(g.value,_)){if(g.children===d.children&&!_i.current){e=Xo(t,e,n);break e}}else for(g=e.child,g!==null&&(g.return=e);g!==null;){var w=g.dependencies;if(w!==null){_=g.child;for(var v=w.firstContext;v!==null;){if(v.context===s){if(g.tag===1){v=Wo(-1,n&-n),v.tag=2;var b=g.updateQueue;if(b!==null){b=b.shared;var M=b.pending;M===null?v.next=v:(v.next=M.next,M.next=v),b.pending=v}}g.lanes|=n,v=g.alternate,v!==null&&(v.lanes|=n),_1(g.return,n,e),w.lanes|=n;break}v=v.next}}else if(g.tag===10)_=g.type===e.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(fe(341));_.lanes|=n,w=_.alternate,w!==null&&(w.lanes|=n),_1(_,n,e),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===e){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}si(t,e,d.children,n),e=e.child}return e;case 9:return d=e.type,s=e.pendingProps.children,Xs(e,n),d=Xi(d),s=s(d),e.flags|=1,si(t,e,s,n),e.child;case 14:return s=e.type,d=io(s,e.pendingProps),d=io(s.type,d),W0(t,e,s,d,n);case 15:return Zp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,d=e.pendingProps,d=e.elementType===s?d:io(s,d),Md(t,e),e.tag=1,Ei(s)?(t=!0,Xd(e)):t=!1,Xs(e,n),yp(e,s,d),x1(e,s,d,n),v1(null,e,s,!0,t,n);case 19:return qp(t,e,n);case 22:return jp(t,e,n)}throw Error(fe(156,e.tag))};function hm(t,e){return B2(t,e)}function LE(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(t,e,n,s){return new LE(t,e,n,s)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OE(t){if(typeof t=="function")return Zh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ch)return 11;if(t===uh)return 14}return 2}function vr(t,e){var n=t.alternate;return n===null?(n=Zi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dd(t,e,n,s,d,g){var _=2;if(s=t,typeof t=="function")Zh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case Ns:return ns(n.children,d,g,e);case dh:_=8,d|=8;break;case Vu:return t=Zi(12,n,e,d|2),t.elementType=Vu,t.lanes=g,t;case Gu:return t=Zi(13,n,e,d),t.elementType=Gu,t.lanes=g,t;case Zu:return t=Zi(19,n,e,d),t.elementType=Zu,t.lanes=g,t;case w2:return Dc(n,d,g,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x2:_=10;break e;case y2:_=9;break e;case ch:_=11;break e;case uh:_=14;break e;case dr:_=16,s=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Zi(_,n,e,d),e.elementType=t,e.type=s,e.lanes=g,e}function ns(t,e,n,s){return t=Zi(7,t,s,e),t.lanes=n,t}function Dc(t,e,n,s){return t=Zi(22,t,s,e),t.elementType=w2,t.lanes=n,t.stateNode={isHidden:!1},t}function Tu(t,e,n){return t=Zi(6,t,null,e),t.lanes=n,t}function Ru(t,e,n){return e=Zi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ME(t,e,n,s,d){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=du(0),this.expirationTimes=du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=du(0),this.identifierPrefix=s,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function jh(t,e,n,s,d,g,_,w,v){return t=new ME(t,e,n,w,v),e===1?(e=1,g===!0&&(e|=8)):e=0,g=Zi(3,null,null,e),t.current=g,g.stateNode=t,g.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rh(g),t}function PE(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function fm(t){if(!t)return Ir;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(Ei(n))return hp(t,n,e)}return e}function gm(t,e,n,s,d,g,_,w,v){return t=jh(n,s,!0,t,d,g,_,w,v),t.context=fm(null),n=t.current,s=li(),d=wr(n),g=Wo(s,d),g.callback=e??null,xr(n,g,d),t.current.lanes=d,za(t,d,s),xi(t,s),t}function kc(t,e,n,s){var d=e.current,g=li(),_=wr(d);return n=fm(n),e.context===null?e.context=n:e.pendingContext=n,e=Wo(g,_),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=xr(d,e,_),t!==null&&(uo(t,d,_,g),Nd(t,d,_)),_}function sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xh(t,e){eg(t,e),(t=t.alternate)&&eg(t,e)}function FE(){return null}var pm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yh(t){this._internalRoot=t}Bc.prototype.render=Yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));kc(t,e,null,null)};Bc.prototype.unmount=Yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;as(function(){kc(null,t,null,null)}),e[Zo]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Z2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ur.length&&e!==0&&e<ur[n].priority;n++);ur.splice(n,0,t),n===0&&X2(t)}};function Kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tg(){}function DE(t,e,n,s,d){if(d){if(typeof s=="function"){var g=s;s=function(){var b=sc(_);g.call(b)}}var _=gm(e,s,t,0,null,!1,!1,"",tg);return t._reactRootContainer=_,t[Zo]=_.current,xa(t.nodeType===8?t.parentNode:t),as(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof s=="function"){var w=s;s=function(){var b=sc(v);w.call(b)}}var v=jh(t,0,!1,null,null,!1,!1,"",tg);return t._reactRootContainer=v,t[Zo]=v.current,xa(t.nodeType===8?t.parentNode:t),as(function(){kc(e,v,n,s)}),v}function Hc(t,e,n,s,d){var g=n._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var w=d;d=function(){var v=sc(_);w.call(v)}}kc(e,_,t,d)}else _=DE(n,e,t,d,s);return sc(_)}V2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ql(e.pendingLanes);n!==0&&(gh(e,n|1),xi(e,hn()),!(At&6)&&(sl=hn()+500,Or()))}break;case 13:as(function(){var s=jo(t,1);if(s!==null){var d=li();uo(s,t,1,d)}}),Xh(t,1)}};ph=function(t){if(t.tag===13){var e=jo(t,134217728);if(e!==null){var n=li();uo(e,t,134217728,n)}Xh(t,134217728)}};G2=function(t){if(t.tag===13){var e=wr(t),n=jo(t,e);if(n!==null){var s=li();uo(n,t,e,s)}Xh(t,e)}};Z2=function(){return Ft};j2=function(t,e){var n=Ft;try{return Ft=t,e()}finally{Ft=n}};t1=function(t,e,n){switch(e){case"input":if(Yu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var d=Nc(s);if(!d)throw Error(fe(90));C2(s),Yu(s,d)}}}break;case"textarea":b2(t,n);break;case"select":e=n.value,e!=null&&Vs(t,!!n.multiple,e,!1)}};O2=Wh;M2=as;var kE={usingClientEntryPoint:!1,Events:[Ua,Ps,Nc,N2,L2,Wh]},Hl={findFiberByHostInstance:Qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BE={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D2(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||FE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{Ac=vd.inject(BE),Ao=vd}catch{}}Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kE;Oi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(e))throw Error(fe(200));return PE(t,e,null,n)};Oi.createRoot=function(t,e){if(!Kh(t))throw Error(fe(299));var n=!1,s="",d=pm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=jh(t,1,!1,null,null,n,!1,s,d),t[Zo]=e.current,xa(t.nodeType===8?t.parentNode:t),new Yh(e)};Oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=D2(e),t=t===null?null:t.stateNode,t};Oi.flushSync=function(t){return as(t)};Oi.hydrate=function(t,e,n){if(!zc(e))throw Error(fe(200));return Hc(null,t,e,!0,n)};Oi.hydrateRoot=function(t,e,n){if(!Kh(t))throw Error(fe(405));var s=n!=null&&n.hydratedSources||null,d=!1,g="",_=pm;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),e=gm(e,null,t,1,n??null,d,!1,g,_),t[Zo]=e.current,xa(t),s)for(t=0;t<s.length;t++)n=s[t],d=n._getVersion,d=d(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,d]:e.mutableSourceEagerHydrationData.push(n,d);return new Bc(e)};Oi.render=function(t,e,n){if(!zc(e))throw Error(fe(200));return Hc(null,t,e,!1,n)};Oi.unmountComponentAtNode=function(t){if(!zc(t))throw Error(fe(40));return t._reactRootContainer?(as(function(){Hc(null,null,t,!1,function(){t._reactRootContainer=null,t[Zo]=null})}),!0):!1};Oi.unstable_batchedUpdates=Wh;Oi.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!zc(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Hc(t,e,n,!1,s)};Oi.version="18.2.0-next-9e3b772b8-20220608";function mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mm)}catch(t){console.error(t)}}mm(),g2.exports=Oi;var zE=g2.exports,ng=zE;Uu.createRoot=ng.createRoot,Uu.hydrateRoot=ng.hydrateRoot;var _m={exports:{}},HE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UE=HE,WE=UE;function Em(){}function xm(){}xm.resetWarningCache=Em;var VE=function(){function t(s,d,g,_,w,v){if(v!==WE){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xm,resetWarningCache:Em};return n.PropTypes=n,n};_m.exports=VE();var GE=_m.exports;const ZE=th(GE),ig="/Mapa-UC/assets/elevatorLogo-30_jZ6Gw.png",jE="/Mapa-UC/assets/emergencyExit-bK8ZRk4K.png";var P1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,s){s(e)})(Ts,function(n){var s="1.9.4";function d(r){var h,m,y,S;for(m=1,y=arguments.length;m<y;m++){S=arguments[m];for(h in S)r[h]=S[h]}return r}var g=Object.create||function(){function r(){}return function(h){return r.prototype=h,new r}}();function _(r,h){var m=Array.prototype.slice;if(r.bind)return r.bind.apply(r,m.call(arguments,1));var y=m.call(arguments,2);return function(){return r.apply(h,y.length?y.concat(m.call(arguments)):arguments)}}var w=0;function v(r){return"_leaflet_id"in r||(r._leaflet_id=++w),r._leaflet_id}function b(r,h,m){var y,S,R,k;return k=function(){y=!1,S&&(R.apply(m,S),S=!1)},R=function(){y?S=arguments:(r.apply(m,arguments),setTimeout(k,h),y=!0)},R}function M(r,h,m){var y=h[1],S=h[0],R=y-S;return r===y&&m?r:((r-S)%R+R)%R+S}function N(){return!1}function F(r,h){if(h===!1)return r;var m=Math.pow(10,h===void 0?6:h);return Math.round(r*m)/m}function V(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function $(r){return V(r).split(/\s+/)}function X(r,h){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?g(r.options):{});for(var m in h)r.options[m]=h[m];return r.options}function Ne(r,h,m){var y=[];for(var S in r)y.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(r[S]));return(!h||h.indexOf("?")===-1?"?":"&")+y.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function D(r,h){return r.replace(W,function(m,y){var S=h[y];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(h)),S})}var B=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function J(r,h){for(var m=0;m<r.length;m++)if(r[m]===h)return m;return-1}var Ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ge(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var K=0;function pe(r){var h=+new Date,m=Math.max(0,16-(h-K));return K=h+m,window.setTimeout(r,m)}var oe=window.requestAnimationFrame||ge("RequestAnimationFrame")||pe,Oe=window.cancelAnimationFrame||ge("CancelAnimationFrame")||ge("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Qe(r,h,m){if(m&&oe===pe)r.call(h);else return oe.call(window,_(r,h))}function Ce(r){r&&Oe.call(window,r)}var it={__proto__:null,extend:d,create:g,bind:_,get lastId(){return w},stamp:v,throttle:b,wrapNum:M,falseFn:N,formatNum:F,trim:V,splitWords:$,setOptions:X,getParamString:Ne,template:D,isArray:B,indexOf:J,emptyImageUrl:Ee,requestFn:oe,cancelFn:Oe,requestAnimFrame:Qe,cancelAnimFrame:Ce};function Ct(){}Ct.extend=function(r){var h=function(){X(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=h.__super__=this.prototype,y=g(m);y.constructor=h,h.prototype=y;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return r.statics&&d(h,r.statics),r.includes&&(ee(r.includes),d.apply(null,[y].concat(r.includes))),d(y,r),delete y.statics,delete y.includes,y.options&&(y.options=m.options?g(m.options):{},d(y.options,r.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,k=y._initHooks.length;R<k;R++)y._initHooks[R].call(this)}},h},Ct.include=function(r){var h=this.prototype.options;return d(this.prototype,r),r.options&&(this.prototype.options=h,this.mergeOptions(r.options)),this},Ct.mergeOptions=function(r){return d(this.prototype.options,r),this},Ct.addInitHook=function(r){var h=Array.prototype.slice.call(arguments,1),m=typeof r=="function"?r:function(){this[r].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function ee(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=B(r)?r:[r];for(var h=0;h<r.length;h++)r[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ot={on:function(r,h,m){if(typeof r=="object")for(var y in r)this._on(y,r[y],h);else{r=$(r);for(var S=0,R=r.length;S<R;S++)this._on(r[S],h,m)}return this},off:function(r,h,m){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var y in r)this._off(y,r[y],h);else{r=$(r);for(var S=arguments.length===1,R=0,k=r.length;R<k;R++)S?this._off(r[R]):this._off(r[R],h,m)}return this},_on:function(r,h,m,y){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(r,h,m)===!1){m===this&&(m=void 0);var S={fn:h,ctx:m};y&&(S.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(S)}},_off:function(r,h,m){var y,S,R;if(this._events&&(y=this._events[r],!!y)){if(arguments.length===1){if(this._firingCount)for(S=0,R=y.length;S<R;S++)y[S].fn=N;delete this._events[r];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var k=this._listens(r,h,m);if(k!==!1){var j=y[k];this._firingCount&&(j.fn=N,this._events[r]=y=y.slice()),y.splice(k,1)}}},fire:function(r,h,m){if(!this.listens(r,m))return this;var y=d({},h,{type:r,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[r];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,k=S.length;R<k;R++){var j=S[R],Q=j.fn;j.once&&this.off(r,Q,j.ctx),Q.call(j.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(r,h,m,y){typeof r!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(y=!!h,S=void 0,m=void 0);var R=this._events&&this._events[r];if(R&&R.length&&this._listens(r,S,m)!==!1)return!0;if(y){for(var k in this._eventParents)if(this._eventParents[k].listens(r,h,m,y))return!0}return!1},_listens:function(r,h,m){if(!this._events)return!1;var y=this._events[r]||[];if(!h)return!!y.length;m===this&&(m=void 0);for(var S=0,R=y.length;S<R;S++)if(y[S].fn===h&&y[S].ctx===m)return S;return!1},once:function(r,h,m){if(typeof r=="object")for(var y in r)this._on(y,r[y],h,!0);else{r=$(r);for(var S=0,R=r.length;S<R;S++)this._on(r[S],h,m,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[v(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[v(r)],this},_propagateEvent:function(r){for(var h in this._eventParents)this._eventParents[h].fire(r.type,d({layer:r.target,propagatedFrom:r.target},r),!0)}};ot.addEventListener=ot.on,ot.removeEventListener=ot.clearAllEventListeners=ot.off,ot.addOneTimeEventListener=ot.once,ot.fireEvent=ot.fire,ot.hasEventListeners=ot.listens;var Fe=Ct.extend(ot);function ie(r,h,m){this.x=m?Math.round(r):r,this.y=m?Math.round(h):h}var Me=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(r){return this.clone()._add(de(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(de(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ie(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ie(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(r){r=de(r);var h=r.x-this.x,m=r.y-this.y;return Math.sqrt(h*h+m*m)},equals:function(r){return r=de(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=de(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+F(this.x)+", "+F(this.y)+")"}};function de(r,h,m){return r instanceof ie?r:B(r)?new ie(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ie(r.x,r.y):new ie(r,h,m)}function ze(r,h){if(r)for(var m=h?[r,h]:r,y=0,S=m.length;y<S;y++)this.extend(m[y])}ze.prototype={extend:function(r){var h,m;if(!r)return this;if(r instanceof ie||typeof r[0]=="number"||"x"in r)h=m=de(r);else if(r=ke(r),h=r.min,m=r.max,!h||!m)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=m.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(r){return de((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return de(this.min.x,this.max.y)},getTopRight:function(){return de(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var h,m;return typeof r[0]=="number"||r instanceof ie?r=de(r):r=ke(r),r instanceof ze?(h=r.min,m=r.max):h=m=r,h.x>=this.min.x&&m.x<=this.max.x&&h.y>=this.min.y&&m.y<=this.max.y},intersects:function(r){r=ke(r);var h=this.min,m=this.max,y=r.min,S=r.max,R=S.x>=h.x&&y.x<=m.x,k=S.y>=h.y&&y.y<=m.y;return R&&k},overlaps:function(r){r=ke(r);var h=this.min,m=this.max,y=r.min,S=r.max,R=S.x>h.x&&y.x<m.x,k=S.y>h.y&&y.y<m.y;return R&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var h=this.min,m=this.max,y=Math.abs(h.x-m.x)*r,S=Math.abs(h.y-m.y)*r;return ke(de(h.x-y,h.y-S),de(m.x+y,m.y+S))},equals:function(r){return r?(r=ke(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ke(r,h){return!r||r instanceof ze?r:new ze(r,h)}function je(r,h){if(r)for(var m=h?[r,h]:r,y=0,S=m.length;y<S;y++)this.extend(m[y])}je.prototype={extend:function(r){var h=this._southWest,m=this._northEast,y,S;if(r instanceof Be)y=r,S=r;else if(r instanceof je){if(y=r._southWest,S=r._northEast,!y||!S)return this}else return r?this.extend(te(r)||We(r)):this;return!h&&!m?(this._southWest=new Be(y.lat,y.lng),this._northEast=new Be(S.lat,S.lng)):(h.lat=Math.min(y.lat,h.lat),h.lng=Math.min(y.lng,h.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(r){var h=this._southWest,m=this._northEast,y=Math.abs(h.lat-m.lat)*r,S=Math.abs(h.lng-m.lng)*r;return new je(new Be(h.lat-y,h.lng-S),new Be(m.lat+y,m.lng+S))},getCenter:function(){return new Be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Be(this.getNorth(),this.getWest())},getSouthEast:function(){return new Be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Be||"lat"in r?r=te(r):r=We(r);var h=this._southWest,m=this._northEast,y,S;return r instanceof je?(y=r.getSouthWest(),S=r.getNorthEast()):y=S=r,y.lat>=h.lat&&S.lat<=m.lat&&y.lng>=h.lng&&S.lng<=m.lng},intersects:function(r){r=We(r);var h=this._southWest,m=this._northEast,y=r.getSouthWest(),S=r.getNorthEast(),R=S.lat>=h.lat&&y.lat<=m.lat,k=S.lng>=h.lng&&y.lng<=m.lng;return R&&k},overlaps:function(r){r=We(r);var h=this._southWest,m=this._northEast,y=r.getSouthWest(),S=r.getNorthEast(),R=S.lat>h.lat&&y.lat<m.lat,k=S.lng>h.lng&&y.lng<m.lng;return R&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,h){return r?(r=We(r),this._southWest.equals(r.getSouthWest(),h)&&this._northEast.equals(r.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function We(r,h){return r instanceof je?r:new je(r,h)}function Be(r,h,m){if(isNaN(r)||isNaN(h))throw new Error("Invalid LatLng object: ("+r+", "+h+")");this.lat=+r,this.lng=+h,m!==void 0&&(this.alt=+m)}Be.prototype={equals:function(r,h){if(!r)return!1;r=te(r);var m=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return m<=(h===void 0?1e-9:h)},toString:function(r){return"LatLng("+F(this.lat,r)+", "+F(this.lng,r)+")"},distanceTo:function(r){return He.distance(this,te(r))},wrap:function(){return He.wrapLatLng(this)},toBounds:function(r){var h=180*r/40075017,m=h/Math.cos(Math.PI/180*this.lat);return We([this.lat-h,this.lng-m],[this.lat+h,this.lng+m])},clone:function(){return new Be(this.lat,this.lng,this.alt)}};function te(r,h,m){return r instanceof Be?r:B(r)&&typeof r[0]!="object"?r.length===3?new Be(r[0],r[1],r[2]):r.length===2?new Be(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Be(r.lat,"lng"in r?r.lng:r.lon,r.alt):h===void 0?null:new Be(r,h,m)}var fn={latLngToPoint:function(r,h){var m=this.projection.project(r),y=this.scale(h);return this.transformation._transform(m,y)},pointToLatLng:function(r,h){var m=this.scale(h),y=this.transformation.untransform(r,m);return this.projection.unproject(y)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var h=this.projection.bounds,m=this.scale(r),y=this.transformation.transform(h.min,m),S=this.transformation.transform(h.max,m);return new ze(y,S)},infinite:!1,wrapLatLng:function(r){var h=this.wrapLng?M(r.lng,this.wrapLng,!0):r.lng,m=this.wrapLat?M(r.lat,this.wrapLat,!0):r.lat,y=r.alt;return new Be(m,h,y)},wrapLatLngBounds:function(r){var h=r.getCenter(),m=this.wrapLatLng(h),y=h.lat-m.lat,S=h.lng-m.lng;if(y===0&&S===0)return r;var R=r.getSouthWest(),k=r.getNorthEast(),j=new Be(R.lat-y,R.lng-S),Q=new Be(k.lat-y,k.lng-S);return new je(j,Q)}},He=d({},fn,{wrapLng:[-180,180],R:6371e3,distance:function(r,h){var m=Math.PI/180,y=r.lat*m,S=h.lat*m,R=Math.sin((h.lat-r.lat)*m/2),k=Math.sin((h.lng-r.lng)*m/2),j=R*R+Math.cos(y)*Math.cos(S)*k*k,Q=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*Q}}),Ki=6378137,qi={R:Ki,MAX_LATITUDE:85.0511287798,project:function(r){var h=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,r.lat),-m),S=Math.sin(y*h);return new ie(this.R*r.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(r){var h=180/Math.PI;return new Be((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*h,r.x*h/this.R)},bounds:function(){var r=Ki*Math.PI;return new ze([-r,-r],[r,r])}()};function Jt(r,h,m,y){if(B(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=h,this._c=m,this._d=y}Jt.prototype={transform:function(r,h){return this._transform(r.clone(),h)},_transform:function(r,h){return h=h||1,r.x=h*(this._a*r.x+this._b),r.y=h*(this._c*r.y+this._d),r},untransform:function(r,h){return h=h||1,new ie((r.x/h-this._b)/this._a,(r.y/h-this._d)/this._c)}};function Pi(r,h,m,y){return new Jt(r,h,m,y)}var ut=d({},He,{code:"EPSG:3857",projection:qi,transformation:function(){var r=.5/(Math.PI*qi.R);return Pi(r,.5,-r,.5)}()}),go=d({},ut,{code:"EPSG:900913"});function Jn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Fi(r,h){var m="",y,S,R,k,j,Q;for(y=0,R=r.length;y<R;y++){for(j=r[y],S=0,k=j.length;S<k;S++)Q=j[S],m+=(S?"L":"M")+Q.x+" "+Q.y;m+=h?ce.svg?"z":"x":""}return m||"M0 0"}var on=document.documentElement.style,St="ActiveXObject"in window,ht=St&&!document.addEventListener,To="msLaunchUri"in navigator&&!("documentMode"in document),Se=rt("webkit"),po=rt("android"),Mr=rt("android 2")||rt("android 3"),wi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pr=po&&rt("Google")&&wi<537&&!("AudioNode"in window),kn=!!window.opera,Fr=!To&&rt("chrome"),vi=rt("gecko")&&!Se&&!kn&&!St,En=!Fr&&rt("safari"),ft=rt("phantom"),Ro="OTransition"in on,Es=navigator.platform.indexOf("Win")===0,Xt=St&&"transition"in on,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mr,en="MozPerspective"in on,Tt=!window.L_DISABLE_3D&&(Xt||me||en)&&!Ro&&!ft,Rt=typeof orientation<"u"||rt("mobile"),mo=Rt&&Se,$o=Rt&&me,Dr=!window.PointerEvent&&window.MSPointerEvent,gt=!!(window.PointerEvent||Dr),Ci="ontouchstart"in window||!!window.TouchEvent,kr=!window.L_NO_TOUCH&&(Ci||gt),H=Rt&&kn,re=Rt&&vi,Ie=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,be=function(){var r=!1;try{var h=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",N,h),window.removeEventListener("testPassiveEventSupport",N,h)}catch{}return r}(),De=function(){return!!document.createElement("canvas").getContext}(),wt=!!(document.createElementNS&&Jn("svg").createSVGRect),Ue=!!wt&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),at=!wt&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var h=r.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Je=navigator.platform.indexOf("Mac")===0,Bn=navigator.platform.indexOf("Linux")===0;function rt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var ce={ie:St,ielt9:ht,edge:To,webkit:Se,android:po,android23:Mr,androidStock:Pr,opera:kn,chrome:Fr,gecko:vi,safari:En,phantom:ft,opera12:Ro,win:Es,ie3d:Xt,webkit3d:me,gecko3d:en,any3d:Tt,mobile:Rt,mobileWebkit:mo,mobileWebkit3d:$o,msPointer:Dr,pointer:gt,touch:kr,touchNative:Ci,mobileOpera:H,mobileGecko:re,retina:Ie,passiveEvents:be,canvas:De,svg:wt,vml:at,inlineSvg:Ue,mac:Je,linux:Bn},we=ce.msPointer?"MSPointerDown":"pointerdown",ne=ce.msPointer?"MSPointerMove":"pointermove",Xe=ce.msPointer?"MSPointerUp":"pointerup",nt=ce.msPointer?"MSPointerCancel":"pointercancel",Lt={touchstart:we,touchmove:ne,touchend:Xe,touchcancel:nt},et={touchstart:_o,touchmove:Br,touchend:Br,touchcancel:Br},Ye={},No=!1;function ci(r,h,m){return h==="touchstart"&&Ut(),et[h]?(m=et[h].bind(this,m),r.addEventListener(Lt[h],m,!1),m):(console.warn("wrong event specified:",h),N)}function ei(r,h,m){if(!Lt[h]){console.warn("wrong event specified:",h);return}r.removeEventListener(Lt[h],m,!1)}function _l(r){Ye[r.pointerId]=r}function Di(r){Ye[r.pointerId]&&(Ye[r.pointerId]=r)}function In(r){delete Ye[r.pointerId]}function Ut(){No||(document.addEventListener(we,_l,!0),document.addEventListener(ne,Di,!0),document.addEventListener(Xe,In,!0),document.addEventListener(nt,In,!0),No=!0)}function Br(r,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var m in Ye)h.touches.push(Ye[m]);h.changedTouches=[h],r(h)}}function _o(r,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&yn(h),Br(r,h)}function El(r){var h={},m,y;for(y in r)m=r[y],h[y]=m&&m.bind?m.bind(r):m;return r=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var se=200;function qc(r,h){r.addEventListener("dblclick",h);var m=0,y;function S(R){if(R.detail!==1){y=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var k=er(R);if(!(k.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!k.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var j=Date.now();j-m<=se?(y++,y===2&&h(El(R))):y=1,m=j}}}return r.addEventListener("click",S),{dblclick:h,simDblclick:S}}function tn(r,h){r.removeEventListener("dblclick",h.dblclick),r.removeEventListener("click",h.simDblclick)}var Eo=Z(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zr=Z(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bt=zr==="webkitTransition"||zr==="OTransition"?zr+"End":"transitionend";function vt(r){return typeof r=="string"?document.getElementById(r):r}function tt(r,h){var m=r.style[h]||r.currentStyle&&r.currentStyle[h];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(r,null);m=y?y[h]:null}return m==="auto"?null:m}function Et(r,h,m){var y=document.createElement(r);return y.className=h||"",m&&m.appendChild(y),y}function kt(r){var h=r.parentNode;h&&h.removeChild(r)}function Jo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Wt(r){var h=r.parentNode;h&&h.lastChild!==r&&h.appendChild(r)}function ti(r){var h=r.parentNode;h&&h.firstChild!==r&&h.insertBefore(r,h.firstChild)}function xl(r,h){if(r.classList!==void 0)return r.classList.contains(h);var m=Qi(r);return m.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(m)}function Te(r,h){if(r.classList!==void 0)for(var m=$(h),y=0,S=m.length;y<S;y++)r.classList.add(m[y]);else if(!xl(r,h)){var R=Qi(r);yl(r,(R?R+" ":"")+h)}}function Ot(r,h){r.classList!==void 0?r.classList.remove(h):yl(r,V((" "+Qi(r)+" ").replace(" "+h+" "," ")))}function yl(r,h){r.className.baseVal===void 0?r.className=h:r.className.baseVal=h}function Qi(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function st(r,h){"opacity"in r.style?r.style.opacity=h:"filter"in r.style&&Tn(r,h)}function Tn(r,h){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=r.filters.item(y)}catch{if(h===1)return}h=Math.round(h*100),m?(m.Enabled=h!==100,m.Opacity=h):r.style.filter+=" progid:"+y+"(opacity="+h+")"}function Z(r){for(var h=document.documentElement.style,m=0;m<r.length;m++)if(r[m]in h)return r[m];return!1}function O(r,h,m){var y=h||new ie(0,0);r.style[Eo]=(ce.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function xe(r,h){r._leaflet_pos=h,ce.any3d?O(r,h):(r.style.left=h.x+"px",r.style.top=h.y+"px")}function Vt(r){return r._leaflet_pos||new ie(0,0)}var Rn,Hr,Ur;if("onselectstart"in document)Rn=function(){Ge(window,"selectstart",yn)},Hr=function(){ye(window,"selectstart",yn)};else{var Nn=Z(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rn=function(){if(Nn){var r=document.documentElement.style;Ur=r[Nn],r[Nn]="none"}},Hr=function(){Nn&&(document.documentElement.style[Nn]=Ur,Ur=void 0)}}function Le(){Ge(window,"dragstart",yn)}function Bt(){ye(window,"dragstart",yn)}var Wr,wl;function Vr(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Lo(),Wr=r,wl=r.style.outlineStyle,r.style.outlineStyle="none",Ge(window,"keydown",Lo))}function Lo(){Wr&&(Wr.style.outlineStyle=wl,Wr=void 0,wl=void 0,ye(window,"keydown",Lo))}function xs(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function vl(r){var h=r.getBoundingClientRect();return{x:h.width/r.offsetWidth||1,y:h.height/r.offsetHeight||1,boundingClientRect:h}}var gn={__proto__:null,TRANSFORM:Eo,TRANSITION:zr,TRANSITION_END:bt,get:vt,getStyle:tt,create:Et,remove:kt,empty:Jo,toFront:Wt,toBack:ti,hasClass:xl,addClass:Te,removeClass:Ot,setClass:yl,getClass:Qi,setOpacity:st,testProp:Z,setTransform:O,setPosition:xe,getPosition:Vt,get disableTextSelection(){return Rn},get enableTextSelection(){return Hr},disableImageDrag:Le,enableImageDrag:Bt,preventOutline:Vr,restoreOutline:Lo,getSizedParentNode:xs,getScale:vl};function Ge(r,h,m,y){if(h&&typeof h=="object")for(var S in h)un(r,S,h[S],m);else{h=$(h);for(var R=0,k=h.length;R<k;R++)un(r,h[R],m,y)}return this}var xn="_leaflet_events";function ye(r,h,m,y){if(arguments.length===1)qa(r),delete r[xn];else if(h&&typeof h=="object")for(var S in h)Cl(r,S,h[S],m);else if(h=$(h),arguments.length===2)qa(r,function(j){return J(h,j)!==-1});else for(var R=0,k=h.length;R<k;R++)Cl(r,h[R],m,y);return this}function qa(r,h){for(var m in r[xn]){var y=m.split(/\d/)[0];(!h||h(y))&&Cl(r,y,null,null,m)}}var Ke={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function un(r,h,m,y){var S=h+v(m)+(y?"_"+v(y):"");if(r[xn]&&r[xn][S])return this;var R=function(j){return m.call(y||r,j||window.event)},k=R;!ce.touchNative&&ce.pointer&&h.indexOf("touch")===0?R=ci(r,h,R):ce.touch&&h==="dblclick"?R=qc(r,R):"addEventListener"in r?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?r.addEventListener(Ke[h]||h,R,ce.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(R=function(j){j=j||window.event,Oo(r,j)&&k(j)},r.addEventListener(Ke[h],R,!1)):r.addEventListener(h,k,!1):r.attachEvent("on"+h,R),r[xn]=r[xn]||{},r[xn][S]=R}function Cl(r,h,m,y,S){S=S||h+v(m)+(y?"_"+v(y):"");var R=r[xn]&&r[xn][S];if(!R)return this;!ce.touchNative&&ce.pointer&&h.indexOf("touch")===0?ei(r,h,R):ce.touch&&h==="dblclick"?tn(r,R):"removeEventListener"in r?r.removeEventListener(Ke[h]||h,R,!1):r.detachEvent("on"+h,R),r[xn][S]=null}function $i(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ys(r){return un(r,"wheel",$i),this}function Si(r){return Ge(r,"mousedown touchstart dblclick contextmenu",$i),r._leaflet_disable_click=!0,this}function yn(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function bi(r){return yn(r),$i(r),this}function er(r){if(r.composedPath)return r.composedPath();for(var h=[],m=r.target;m;)h.push(m),m=m.parentNode;return h}function tr(r,h){if(!h)return new ie(r.clientX,r.clientY);var m=vl(h),y=m.boundingClientRect;return new ie((r.clientX-y.left)/m.x-h.clientLeft,(r.clientY-y.top)/m.y-h.clientTop)}var Qa=ce.linux&&ce.chrome?window.devicePixelRatio:ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nr(r){return ce.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Qa:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Oo(r,h){var m=h.relatedTarget;if(!m)return!0;try{for(;m&&m!==r;)m=m.parentNode}catch{return!1}return m!==r}var Wn={__proto__:null,on:Ge,off:ye,stopPropagation:$i,disableScrollPropagation:ys,disableClickPropagation:Si,preventDefault:yn,stop:bi,getPropagationPath:er,getMousePosition:tr,getWheelDelta:nr,isExternalTarget:Oo,addListener:Ge,removeListener:ye},Sl=Fe.extend({run:function(r,h,m,y){this.stop(),this._el=r,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Vt(r),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Qe(this._animate,this),this._step()},_step:function(r){var h=+new Date-this._startTime,m=this._duration*1e3;h<m?this._runFrame(this._easeOut(h/m),r):(this._runFrame(1),this._complete())},_runFrame:function(r,h){var m=this._startPos.add(this._offset.multiplyBy(r));h&&m._round(),xe(this._el,m),this.fire("step")},_complete:function(){Ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),pt=Fe.extend({options:{crs:ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,h){h=X(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(te(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zr&&ce.any3d&&!ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,bt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,h,m){if(h=h===void 0?this._zoom:this._limitZoom(h),r=this._limitCenter(te(r),h,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=d({animate:m.animate},m.zoom),m.pan=d({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,h,m.zoom):this._tryAnimatedPan(r,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(r,h,m.pan&&m.pan.noMoveStart),this},setZoom:function(r,h){return this._loaded?this.setView(this.getCenter(),r,{zoom:h}):(this._zoom=r,this)},zoomIn:function(r,h){return r=r||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,h)},zoomOut:function(r,h){return r=r||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,h)},setZoomAround:function(r,h,m){var y=this.getZoomScale(h),S=this.getSize().divideBy(2),R=r instanceof ie?r:this.latLngToContainerPoint(r),k=R.subtract(S).multiplyBy(1-1/y),j=this.containerPointToLatLng(S.add(k));return this.setView(j,h,{zoom:m})},_getBoundsCenterZoom:function(r,h){h=h||{},r=r.getBounds?r.getBounds():We(r);var m=de(h.paddingTopLeft||h.padding||[0,0]),y=de(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(r,!1,m.add(y));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:r.getCenter(),zoom:S};var R=y.subtract(m).divideBy(2),k=this.project(r.getSouthWest(),S),j=this.project(r.getNorthEast(),S),Q=this.unproject(k.add(j).divideBy(2).add(R),S);return{center:Q,zoom:S}},fitBounds:function(r,h){if(r=We(r),!r.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(r,h);return this.setView(m.center,m.zoom,h)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,h){return this.setView(r,this._zoom,{pan:h})},panBy:function(r,h){if(r=de(r).round(),h=h||{},!r.x&&!r.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Te(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,m,h.duration||.25,h.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,h,m){if(m=m||{},m.animate===!1||!ce.any3d)return this.setView(r,h,m);this._stop();var y=this.project(this.getCenter()),S=this.project(r),R=this.getSize(),k=this._zoom;r=te(r),h=h===void 0?k:h;var j=Math.max(R.x,R.y),Q=j*this.getZoomScale(k,h),le=S.distanceTo(y)||1,ve=1.42,Ve=ve*ve;function dt(mn){var rd=mn?-1:1,c3=mn?Q:j,u3=Q*Q-j*j+rd*Ve*Ve*le*le,h3=2*c3*Ve*le,iu=u3/h3,Xf=Math.sqrt(iu*iu+1)-iu,f3=Xf<1e-9?-18:Math.log(Xf);return f3}function ri(mn){return(Math.exp(mn)-Math.exp(-mn))/2}function Ln(mn){return(Math.exp(mn)+Math.exp(-mn))/2}function Wi(mn){return ri(mn)/Ln(mn)}var hi=dt(0);function bs(mn){return j*(Ln(hi)/Ln(hi+ve*mn))}function s3(mn){return j*(Ln(hi)*Wi(hi+ve*mn)-ri(hi))/Ve}function l3(mn){return 1-Math.pow(1-mn,1.5)}var a3=Date.now(),Zf=(dt(1)-hi)/ve,d3=m.duration?1e3*m.duration:1e3*Zf*.8;function jf(){var mn=(Date.now()-a3)/d3,rd=l3(mn)*Zf;mn<=1?(this._flyToFrame=Qe(jf,this),this._move(this.unproject(y.add(S.subtract(y).multiplyBy(s3(rd)/le)),k),this.getScaleZoom(j/bs(rd),k),{flyTo:!0})):this._move(r,h)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),jf.call(this),this},flyToBounds:function(r,h){var m=this._getBoundsCenterZoom(r,h);return this.flyTo(m.center,m.zoom,h)},setMaxBounds:function(r){return r=We(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var h=this.options.minZoom;return this.options.minZoom=r,this._loaded&&h!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var h=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&h!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,h){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,We(r));return m.equals(y)||this.panTo(y,h),this._enforcingBounds=!1,this},panInside:function(r,h){h=h||{};var m=de(h.paddingTopLeft||h.padding||[0,0]),y=de(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(r),k=this.getPixelBounds(),j=ke([k.min.add(m),k.max.subtract(y)]),Q=j.getSize();if(!j.contains(R)){this._enforcingBounds=!0;var le=R.subtract(j.getCenter()),ve=j.extend(R).getSize().subtract(Q);S.x+=le.x<0?-ve.x:ve.x,S.y+=le.y<0?-ve.y:ve.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=d({animate:!1,pan:!0},r===!0?{animate:!0}:r);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=h.divideBy(2).round(),S=m.divideBy(2).round(),R=y.subtract(S);return!R.x&&!R.y?this:(r.animate&&r.pan?this.panBy(R):(r.pan&&this._rawPanBy(R),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=d({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=_(this._handleGeolocationResponse,this),m=_(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,m,r):navigator.geolocation.getCurrentPosition(h,m,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var h=r.code,m=r.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var h=r.coords.latitude,m=r.coords.longitude,y=new Be(h,m),S=y.toBounds(r.coords.accuracy*2),R=this._locateOptions;if(R.setView){var k=this.getBoundsZoom(S);this.setView(y,R.maxZoom?Math.min(k,R.maxZoom):k)}var j={latlng:y,bounds:S,timestamp:r.timestamp};for(var Q in r.coords)typeof r.coords[Q]=="number"&&(j[Q]=r.coords[Q]);this.fire("locationfound",j)}},addHandler:function(r,h){if(!h)return this;var m=this[r]=new h(this);return this._handlers.push(m),this.options[r]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)kt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,h){var m="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),y=Et("div",m,h||this._mapPane);return r&&(this._panes[r]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),h=this.unproject(r.getBottomLeft()),m=this.unproject(r.getTopRight());return new je(h,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,h,m){r=We(r),m=de(m||[0,0]);var y=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),k=r.getNorthWest(),j=r.getSouthEast(),Q=this.getSize().subtract(m),le=ke(this.project(j,y),this.project(k,y)).getSize(),ve=ce.any3d?this.options.zoomSnap:1,Ve=Q.x/le.x,dt=Q.y/le.y,ri=h?Math.max(Ve,dt):Math.min(Ve,dt);return y=this.getScaleZoom(ri,y),ve&&(y=Math.round(y/(ve/100))*(ve/100),y=h?Math.ceil(y/ve)*ve:Math.floor(y/ve)*ve),Math.max(S,Math.min(R,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,h){var m=this._getTopLeftPoint(r,h);return new ze(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,h){var m=this.options.crs;return h=h===void 0?this._zoom:h,m.scale(r)/m.scale(h)},getScaleZoom:function(r,h){var m=this.options.crs;h=h===void 0?this._zoom:h;var y=m.zoom(r*m.scale(h));return isNaN(y)?1/0:y},project:function(r,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(te(r),h)},unproject:function(r,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(de(r),h)},layerPointToLatLng:function(r){var h=de(r).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(r){var h=this.project(te(r))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(te(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(We(r))},distance:function(r,h){return this.options.crs.distance(te(r),te(h))},containerPointToLayerPoint:function(r){return de(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return de(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var h=this.containerPointToLayerPoint(de(r));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(r)))},mouseEventToContainerPoint:function(r){return tr(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var h=this._container=vt(r);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ge(h,"scroll",this._onScroll,this),this._containerId=v(h)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&ce.any3d,Te(r,"leaflet-container"+(ce.touch?" leaflet-touch":"")+(ce.retina?" leaflet-retina":"")+(ce.ielt9?" leaflet-oldie":"")+(ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=tt(r,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xe(this._mapPane,new ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Te(r.markerPane,"leaflet-zoom-hide"),Te(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,h,m){xe(this._mapPane,new ie(0,0));var y=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,m)._move(r,h)._moveEnd(S),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(r,h){return r&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(r,h,m,y){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),y?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){xe(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[v(this._container)]=this;var h=r?ye:Ge;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),ce.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ce(this._resizeRequest),this._resizeRequest=Qe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,h){for(var m=[],y,S=h==="mouseout"||h==="mouseover",R=r.target||r.srcElement,k=!1;R;){if(y=this._targets[v(R)],y&&(h==="click"||h==="preclick")&&this._draggableMoved(y)){k=!0;break}if(y&&y.listens(h,!0)&&(S&&!Oo(R,r)||(m.push(y),S))||R===this._container)break;R=R.parentNode}return!m.length&&!k&&!S&&this.listens(h,!0)&&(m=[this]),m},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var h=r.target||r.srcElement;if(!(!this._loaded||h._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(h))){var m=r.type;m==="mousedown"&&Vr(h),this._fireDOMEvent(r,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,h,m){if(r.type==="click"){var y=d({},r);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var S=this._findEventTargets(r,h);if(m){for(var R=[],k=0;k<m.length;k++)m[k].listens(h,!0)&&R.push(m[k]);S=R.concat(S)}if(S.length){h==="contextmenu"&&yn(r);var j=S[0],Q={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var le=j.getLatLng&&(!j._radius||j._radius<=10);Q.containerPoint=le?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(r),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=le?j.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(k=0;k<S.length;k++)if(S[k].fire(h,Q,!0),Q.originalEvent._stopped||S[k].options.bubblingMouseEvents===!1&&J(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,h=this._handlers.length;r<h;r++)this._handlers[r].disable()},whenReady:function(r,h){return this._loaded?r.call(h||this,{target:this}):this.on("load",r,h),this},_getMapPanePos:function(){return Vt(this._mapPane)||new ie(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,h){var m=r&&h!==void 0?this._getNewPixelOrigin(r,h):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,h){var m=this.getSize()._divideBy(2);return this.project(r,h)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,h,m){var y=this._getNewPixelOrigin(m,h);return this.project(r,h)._subtract(y)},_latLngBoundsToNewLayerBounds:function(r,h,m){var y=this._getNewPixelOrigin(m,h);return ke([this.project(r.getSouthWest(),h)._subtract(y),this.project(r.getNorthWest(),h)._subtract(y),this.project(r.getSouthEast(),h)._subtract(y),this.project(r.getNorthEast(),h)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,h,m){if(!m)return r;var y=this.project(r,h),S=this.getSize().divideBy(2),R=new ze(y.subtract(S),y.add(S)),k=this._getBoundsOffset(R,m,h);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?r:this.unproject(y.add(k),h)},_limitOffset:function(r,h){if(!h)return r;var m=this.getPixelBounds(),y=new ze(m.min.add(r),m.max.add(r));return r.add(this._getBoundsOffset(y,h))},_getBoundsOffset:function(r,h,m){var y=ke(this.project(h.getNorthEast(),m),this.project(h.getSouthWest(),m)),S=y.min.subtract(r.min),R=y.max.subtract(r.max),k=this._rebound(S.x,-R.x),j=this._rebound(S.y,-R.y);return new ie(k,j)},_rebound:function(r,h){return r+h>0?Math.round(r-h)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(h))},_limitZoom:function(r){var h=this.getMinZoom(),m=this.getMaxZoom(),y=ce.any3d?this.options.zoomSnap:1;return y&&(r=Math.round(r/y)*y),Math.max(h,Math.min(m,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,h){var m=this._getCenterOffset(r)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,h),!0)},_createAnimProxy:function(){var r=this._proxy=Et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(h){var m=Eo,y=this._proxy.style[m];O(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),h=this.getZoom();O(this._proxy,this.project(r,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,h,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(h),S=this._getCenterOffset(r)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(S)?!1:(Qe(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(r,h,!0)},this),!0)},_animateZoom:function(r,h,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=h,Te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:h,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $a(r,h){return new pt(r,h)}var Ai=Ct.extend({options:{position:"topright"},initialize:function(r){X(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var h=this._map;return h&&h.removeControl(this),this.options.position=r,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var h=this._container=this.onAdd(r),m=this.getPosition(),y=r._controlCorners[m];return Te(h,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(h,y.firstChild):y.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Gr=function(r){return new Ai(r)};pt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},h="leaflet-",m=this._controlContainer=Et("div",h+"control-container",this._container);function y(S,R){var k=h+S+" "+h+R;r[S+R]=Et("div",k,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)kt(this._controlCorners[r]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ja=Ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,h,m,y){return m<y?-1:y<m?1:0}},initialize:function(r,h,m){X(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in r)this._addLayer(r[y],y);for(y in h)this._addLayer(h[y],y,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ai.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,h){return this._addLayer(r,h),this._map?this._update():this},addOverlay:function(r,h){return this._addLayer(r,h,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var h=this._getLayer(v(r));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",h=this._container=Et("div",r),m=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Si(h),ys(h);var y=this._section=Et("section",r+"-list");m&&(this._map.on("click",this.collapse,this),Ge(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Et("a",r+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ge(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){yn(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Et("div",r+"-base",y),this._separator=Et("div",r+"-separator",y),this._overlaysList=Et("div",r+"-overlays",y),h.appendChild(y)},_getLayer:function(r){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&v(this._layers[h].layer)===r)return this._layers[h]},_addLayer:function(r,h,m){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:h,overlay:m}),this.options.sortLayers&&this._layers.sort(_(function(y,S){return this.options.sortFunction(y.layer,S.layer,y.name,S.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jo(this._baseLayersList),Jo(this._overlaysList),this._layerControlInputs=[];var r,h,m,y,S=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),h=h||y.overlay,r=r||!y.overlay,S+=y.overlay?0:1;return this.options.hideSingleBase&&(r=r&&S>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=h&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var h=this._getLayer(v(r.target)),m=h.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;m&&this._map.fire(m,h)},_createRadioElement:function(r,h){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(h?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(r){var h=document.createElement("label"),m=this._map.hasLayer(r.layer),y;r.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(y),y.layerId=v(r.layer),Ge(y,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+r.name;var R=document.createElement("span");h.appendChild(R),R.appendChild(y),R.appendChild(S);var k=r.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,h,m,y=[],S=[];this._handlingClick=!0;for(var R=r.length-1;R>=0;R--)h=r[R],m=this._getLayer(h.layerId).layer,h.checked?y.push(m):h.checked||S.push(m);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<y.length;R++)this._map.hasLayer(y[R])||this._map.addLayer(y[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,h,m,y=this._map.getZoom(),S=r.length-1;S>=0;S--)h=r[S],m=this._getLayer(h.layerId).layer,h.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Ge(r,"click",yn),this.expand();var h=this;setTimeout(function(){ye(r,"click",yn),h._preventClick=!1})}}),Mt=function(r,h,m){return new Ja(r,h,m)},ws=Ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var h="leaflet-control-zoom",m=Et("div",h+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,h+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,h+"-out",m,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,h,m,y,S){var R=Et("a",m,y);return R.innerHTML=r,R.href="#",R.title=h,R.setAttribute("role","button"),R.setAttribute("aria-label",h),Si(R),Ge(R,"click",bi),Ge(R,"click",S,this),Ge(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var r=this._map,h="leaflet-disabled";Ot(this._zoomInButton,h),Ot(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Te(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Te(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});pt.mergeOptions({zoomControl:!0}),pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ws,this.addControl(this.zoomControl))});var vs=function(r){return new ws(r)},Ji=Ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var h="leaflet-control-scale",m=Et("div",h),y=this.options;return this._addScales(y,h+"-line",m),r.on(y.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),m},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,h,m){r.metric&&(this._mScale=Et("div",h,m)),r.imperial&&(this._iScale=Et("div",h,m))},_update:function(){var r=this._map,h=r.getSize().y/2,m=r.distance(r.containerPointToLatLng([0,h]),r.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(m)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var h=this._getRoundNum(r),m=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,m,h/r)},_updateImperial:function(r){var h=r*3.2808399,m,y,S;h>5280?(m=h/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(r,h,m){r.style.width=Math.round(this.options.maxWidth*m)+"px",r.innerHTML=h},_getRoundNum:function(r){var h=Math.pow(10,(Math.floor(r)+"").length-1),m=r/h;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,h*m}}),Qc=function(r){return new Ji(r)},q='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$e=Ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ce.inlineSvg?q+" ":"")+"Leaflet</a>"},initialize:function(r){X(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Et("div","leaflet-control-attribution"),Si(this._container);for(var h in r._layers)r._layers[h].getAttribution&&this.addAttribution(r._layers[h].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var h in this._attributions)this._attributions[h]&&r.push(h);var m=[];this.options.prefix&&m.push(this.options.prefix),r.length&&m.push(r.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});pt.mergeOptions({attributionControl:!0}),pt.addInitHook(function(){this.options.attributionControl&&new $e().addTo(this)});var wn=function(r){return new $e(r)};Ai.Layers=Ja,Ai.Zoom=ws,Ai.Scale=Ji,Ai.Attribution=$e,Gr.layers=Mt,Gr.zoom=vs,Gr.scale=Qc,Gr.attribution=wn;var ni=Ct.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(r,h){return r.addHandler(h,this),this};var ed={Events:ot},td=ce.touch?"touchstart mousedown":"mousedown",xo=Fe.extend({options:{clickTolerance:3},initialize:function(r,h,m,y){X(this,y),this._element=r,this._dragStartTarget=h||r,this._preventOutline=m},enable:function(){this._enabled||(Ge(this._dragStartTarget,td,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xo._dragging===this&&this.finishDrag(!0),ye(this._dragStartTarget,td,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!xl(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){xo._dragging===this&&this.finishDrag();return}if(!(xo._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(xo._dragging=this,this._preventOutline&&Vr(this._element),Le(),Rn(),!this._moving)){this.fire("down");var h=r.touches?r.touches[0]:r,m=xs(this._element);this._startPoint=new ie(h.clientX,h.clientY),this._startPos=Vt(this._element),this._parentScale=vl(m);var y=r.type==="mousedown";Ge(document,y?"mousemove":"touchmove",this._onMove,this),Ge(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var h=r.touches&&r.touches.length===1?r.touches[0]:r,m=new ie(h.clientX,h.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,yn(r),this._moved||(this.fire("dragstart"),this._moved=!0,Te(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),xe(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ot(document.body,"leaflet-dragging"),this._lastTarget&&(Ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ye(document,"mousemove touchmove",this._onMove,this),ye(document,"mouseup touchend touchcancel",this._onUp,this),Bt(),Hr();var h=this._moved&&this._moving;this._moving=!1,xo._dragging=!1,h&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function nd(r,h,m){var y,S=[1,4,2,8],R,k,j,Q,le,ve,Ve,dt;for(R=0,ve=r.length;R<ve;R++)r[R]._code=Po(r[R],h);for(j=0;j<4;j++){for(Ve=S[j],y=[],R=0,ve=r.length,k=ve-1;R<ve;k=R++)Q=r[R],le=r[k],Q._code&Ve?le._code&Ve||(dt=eo(le,Q,Ve,h,m),dt._code=Po(dt,h),y.push(dt)):(le._code&Ve&&(dt=eo(le,Q,Ve,h,m),dt._code=Po(dt,h),y.push(dt)),y.push(Q));r=y}return r}function Cs(r,h){var m,y,S,R,k,j,Q,le,ve;if(!r||r.length===0)throw new Error("latlngs not passed");ii(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ve=te([0,0]),dt=We(r),ri=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());ri<1700&&(Ve=rn(r));var Ln=r.length,Wi=[];for(m=0;m<Ln;m++){var hi=te(r[m]);Wi.push(h.project(te([hi.lat-Ve.lat,hi.lng-Ve.lng])))}for(j=Q=le=0,m=0,y=Ln-1;m<Ln;y=m++)S=Wi[m],R=Wi[y],k=S.y*R.x-R.y*S.x,Q+=(S.x+R.x)*k,le+=(S.y+R.y)*k,j+=k*3;j===0?ve=Wi[0]:ve=[Q/j,le/j];var bs=h.unproject(de(ve));return te([bs.lat+Ve.lat,bs.lng+Ve.lng])}function rn(r){for(var h=0,m=0,y=0,S=0;S<r.length;S++){var R=te(r[S]);h+=R.lat,m+=R.lng,y++}return te([h/y,m/y])}var bl={__proto__:null,clipPolygon:nd,polygonCenter:Cs,centroid:rn};function Yt(r,h){if(!h||!r.length)return r.slice();var m=h*h;return r=$c(r,m),r=Pt(r,m),r}function Zr(r,h,m){return Math.sqrt(Fo(r,h,m,!0))}function Mo(r,h,m){return Fo(r,h,m)}function Pt(r,h){var m=r.length,y=typeof Uint8Array<"u"?Uint8Array:Array,S=new y(m);S[0]=S[m-1]=1,Pe(r,S,h,0,m-1);var R,k=[];for(R=0;R<m;R++)S[R]&&k.push(r[R]);return k}function Pe(r,h,m,y,S){var R=0,k,j,Q;for(j=y+1;j<=S-1;j++)Q=Fo(r[j],r[y],r[S],!0),Q>R&&(k=j,R=Q);R>m&&(h[k]=1,Pe(r,h,m,y,k),Pe(r,h,m,k,S))}function $c(r,h){for(var m=[r[0]],y=1,S=0,R=r.length;y<R;y++)ki(r[y],r[S])>h&&(m.push(r[y]),S=y);return S<R-1&&m.push(r[R-1]),m}var Dt;function yo(r,h,m,y,S){var R=y?Dt:Po(r,m),k=Po(h,m),j,Q,le;for(Dt=k;;){if(!(R|k))return[r,h];if(R&k)return!1;j=R||k,Q=eo(r,h,j,m,S),le=Po(Q,m),j===R?(r=Q,R=le):(h=Q,k=le)}}function eo(r,h,m,y,S){var R=h.x-r.x,k=h.y-r.y,j=y.min,Q=y.max,le,ve;return m&8?(le=r.x+R*(Q.y-r.y)/k,ve=Q.y):m&4?(le=r.x+R*(j.y-r.y)/k,ve=j.y):m&2?(le=Q.x,ve=r.y+k*(Q.x-r.x)/R):m&1&&(le=j.x,ve=r.y+k*(j.x-r.x)/R),new ie(le,ve,S)}function Po(r,h){var m=0;return r.x<h.min.x?m|=1:r.x>h.max.x&&(m|=2),r.y<h.min.y?m|=4:r.y>h.max.y&&(m|=8),m}function ki(r,h){var m=h.x-r.x,y=h.y-r.y;return m*m+y*y}function Fo(r,h,m,y){var S=h.x,R=h.y,k=m.x-S,j=m.y-R,Q=k*k+j*j,le;return Q>0&&(le=((r.x-S)*k+(r.y-R)*j)/Q,le>1?(S=m.x,R=m.y):le>0&&(S+=k*le,R+=j*le)),k=r.x-S,j=r.y-R,y?k*k+j*j:new ie(S,R)}function ii(r){return!B(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Ss(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ii(r)}function Al(r,h){var m,y,S,R,k,j,Q,le;if(!r||r.length===0)throw new Error("latlngs not passed");ii(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ve=te([0,0]),Ve=We(r),dt=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());dt<1700&&(ve=rn(r));var ri=r.length,Ln=[];for(m=0;m<ri;m++){var Wi=te(r[m]);Ln.push(h.project(te([Wi.lat-ve.lat,Wi.lng-ve.lng])))}for(m=0,y=0;m<ri-1;m++)y+=Ln[m].distanceTo(Ln[m+1])/2;if(y===0)le=Ln[0];else for(m=0,R=0;m<ri-1;m++)if(k=Ln[m],j=Ln[m+1],S=k.distanceTo(j),R+=S,R>y){Q=(R-y)/S,le=[j.x-Q*(j.x-k.x),j.y-Q*(j.y-k.y)];break}var hi=h.unproject(de(le));return te([hi.lat+ve.lat,hi.lng+ve.lng])}var id={__proto__:null,simplify:Yt,pointToSegmentDistance:Zr,closestPointOnSegment:Mo,clipSegment:yo,_getEdgeIntersection:eo,_getBitCode:Po,_sqClosestPointOnSegment:Fo,isFlat:ii,_flat:Ss,polylineCenter:Al},Il={project:function(r){return new ie(r.lng,r.lat)},unproject:function(r){return new Be(r.y,r.x)},bounds:new ze([-180,-90],[180,90])},wo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ze([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var h=Math.PI/180,m=this.R,y=r.lat*h,S=this.R_MINOR/m,R=Math.sqrt(1-S*S),k=R*Math.sin(y),j=Math.tan(Math.PI/4-y/2)/Math.pow((1-k)/(1+k),R/2);return y=-m*Math.log(Math.max(j,1e-10)),new ie(r.lng*h*m,y)},unproject:function(r){for(var h=180/Math.PI,m=this.R,y=this.R_MINOR/m,S=Math.sqrt(1-y*y),R=Math.exp(-r.y/m),k=Math.PI/2-2*Math.atan(R),j=0,Q=.1,le;j<15&&Math.abs(Q)>1e-7;j++)le=S*Math.sin(k),le=Math.pow((1-le)/(1+le),S/2),Q=Math.PI/2-2*Math.atan(R*le)-k,k+=Q;return new Be(k*h,r.x*h/m)}},Tl={__proto__:null,LonLat:Il,Mercator:wo,SphericalMercator:qi},Jc=d({},He,{code:"EPSG:3395",projection:wo,transformation:function(){var r=.5/(Math.PI*wo.R);return Pi(r,.5,-r,.5)}()}),ir=d({},He,{code:"EPSG:4326",projection:Il,transformation:Pi(1/180,1,-1/180,.5)}),eu=d({},fn,{projection:Il,transformation:Pi(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,h){var m=h.lng-r.lng,y=h.lat-r.lat;return Math.sqrt(m*m+y*y)},infinite:!0});fn.Earth=He,fn.EPSG3395=Jc,fn.EPSG3857=ut,fn.EPSG900913=go,fn.EPSG4326=ir,fn.Simple=eu;var pn=Fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[v(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[v(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var h=r.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var m=this.getEvents();h.on(m,this),this.once("remove",function(){h.off(m,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});pt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var h=v(r);return this._layers[h]?this:(this._layers[h]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var h=v(r);return this._layers[h]?(this._loaded&&r.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return v(r)in this._layers},eachLayer:function(r,h){for(var m in this._layers)r.call(h,this._layers[m]);return this},_addLayers:function(r){r=r?B(r)?r:[r]:[];for(var h=0,m=r.length;h<m;h++)this.addLayer(r[h])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[v(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var h=v(r);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,h=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var S=this._zoomBoundLayers[y].options;r=S.minZoom===void 0?r:Math.min(r,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=r===1/0?void 0:r,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var to=pn.extend({initialize:function(r,h){X(this,h),this._layers={};var m,y;if(r)for(m=0,y=r.length;m<y;m++)this.addLayer(r[m])},addLayer:function(r){var h=this.getLayerId(r);return this._layers[h]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var h=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(r){var h=typeof r=="number"?r:this.getLayerId(r);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var h=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[r]&&y[r].apply(y,h);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,h){for(var m in this._layers)r.call(h,this._layers[m]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return v(r)}}),ui=function(r,h){return new to(r,h)},Bi=to.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),to.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),to.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new je;for(var h in this._layers){var m=this._layers[h];r.extend(m.getBounds?m.getBounds():m.getLatLng())}return r}}),zi=function(r,h){return new Bi(r,h)},or=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){X(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,h){var m=this._getIconUrl(r);if(!m){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(y,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(r,h){var m=this.options,y=m[h+"Size"];typeof y=="number"&&(y=[y,y]);var S=de(y),R=de(h==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));r.className="leaflet-marker-"+h+" "+(m.className||""),R&&(r.style.marginLeft=-R.x+"px",r.style.marginTop=-R.y+"px"),S&&(r.style.width=S.x+"px",r.style.height=S.y+"px")},_createImg:function(r,h){return h=h||document.createElement("img"),h.src=r,h},_getIconUrl:function(r){return ce.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Rl(r){return new or(r)}var jr=or.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof jr.imagePath!="string"&&(jr.imagePath=this._detectIconPath()),(this.options.imagePath||jr.imagePath)+or.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var h=function(m,y,S){var R=y.exec(m);return R&&R[S]};return r=h(r,/^url\((['"])?(.+)\1\)$/,2),r&&h(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Et("div","leaflet-default-icon-path",document.body),h=tt(r,"background-image")||tt(r,"backgroundImage");if(document.body.removeChild(r),h=this._stripUrl(h),h)return h;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Nl=ni.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new xo(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Te(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var h=this._marker,m=h._map,y=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=Vt(h._icon),k=m.getPixelBounds(),j=m.getPixelOrigin(),Q=ke(k.min._subtract(j).add(S),k.max._subtract(j).subtract(S));if(!Q.contains(R)){var le=de((Math.max(Q.max.x,R.x)-Q.max.x)/(k.max.x-Q.max.x)-(Math.min(Q.min.x,R.x)-Q.min.x)/(k.min.x-Q.min.x),(Math.max(Q.max.y,R.y)-Q.max.y)/(k.max.y-Q.max.y)-(Math.min(Q.min.y,R.y)-Q.min.y)/(k.min.y-Q.min.y)).multiplyBy(y);m.panBy(le,{animate:!1}),this._draggable._newPos._add(le),this._draggable._startPos._add(le),xe(h._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Qe(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ce(this._panRequest),this._panRequest=Qe(this._adjustPan.bind(this,r)))},_onDrag:function(r){var h=this._marker,m=h._shadow,y=Vt(h._icon),S=h._map.layerPointToLatLng(y);m&&xe(m,y),h._latlng=S,r.latlng=S,r.oldLatLng=this._oldLatLng,h.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),oi=pn.extend({options:{icon:new jr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,h){X(this,h),this._latlng=te(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var h=this._latlng;return this._latlng=te(r),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=r.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,r.title&&(m.title=r.title),m.tagName==="IMG"&&(m.alt=r.alt||"")),Te(m,h),r.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(m,"focus",this._panOnFocus,this);var S=r.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(Te(S,h),S.alt=""),this._shadow=S,r.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(this._icon,"focus",this._panOnFocus,this),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&xe(this._icon,r),this._shadow&&xe(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var h=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Nl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Nl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&st(this._icon,r),this._shadow&&st(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var h=this.options.icon.options,m=h.iconSize?de(h.iconSize):de(0,0),y=h.iconAnchor?de(h.iconAnchor):de(0,0);r.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tu(r,h){return new oi(r,h)}var Hi=pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return X(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vo=Hi.extend({options:{fill:!0,radius:10},initialize:function(r,h){X(this,h),this._latlng=te(r),this._radius=this.options.radius},setLatLng:function(r){var h=this._latlng;return this._latlng=te(r),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var h=r&&r.radius||this._radius;return Hi.prototype.setStyle.call(this,r),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,h=this._radiusY||r,m=this._clickTolerance(),y=[r+m,h+m];this._pxBounds=new ze(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yt(r,h){return new vo(r,h)}var rr=vo.extend({initialize:function(r,h,m){if(typeof h=="number"&&(h=d({},m,{radius:h})),X(this,h),this._latlng=te(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new je(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Hi.prototype.setStyle,_project:function(){var r=this._latlng.lng,h=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===He.distance){var S=Math.PI/180,R=this._mRadius/He.R/S,k=m.project([h+R,r]),j=m.project([h-R,r]),Q=k.add(j).divideBy(2),le=m.unproject(Q).lat,ve=Math.acos((Math.cos(R*S)-Math.sin(h*S)*Math.sin(le*S))/(Math.cos(h*S)*Math.cos(le*S)))/S;(isNaN(ve)||ve===0)&&(ve=R/Math.cos(Math.PI/180*h)),this._point=Q.subtract(m.getPixelOrigin()),this._radius=isNaN(ve)?0:Q.x-m.project([le,r-ve]).x,this._radiusY=Q.y-k.y}else{var Ve=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ve).x}this._updateBounds()}});function A(r,h,m){return new rr(r,h,m)}var i=Hi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,h){X(this,h),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var h=1/0,m=null,y=Fo,S,R,k=0,j=this._parts.length;k<j;k++)for(var Q=this._parts[k],le=1,ve=Q.length;le<ve;le++){S=Q[le-1],R=Q[le];var Ve=y(r,S,R,!0);Ve<h&&(h=Ve,m=y(r,S,R))}return m&&(m.distance=Math.sqrt(h)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Al(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,h){return h=h||this._defaultShape(),r=te(r),h.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new je,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return ii(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var h=[],m=ii(r),y=0,S=r.length;y<S;y++)m?(h[y]=te(r[y]),this._bounds.extend(h[y])):h[y]=this._convertLatLngs(r[y]);return h},_project:function(){var r=new ze;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),h=new ie(r,r);this._rawPxBounds&&(this._pxBounds=new ze([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(r,h,m){var y=r[0]instanceof Be,S=r.length,R,k;if(y){for(k=[],R=0;R<S;R++)k[R]=this._map.latLngToLayerPoint(r[R]),m.extend(k[R]);h.push(k)}else for(R=0;R<S;R++)this._projectLatlngs(r[R],h,m)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,m,y,S,R,k,j,Q;for(m=0,S=0,R=this._rings.length;m<R;m++)for(Q=this._rings[m],y=0,k=Q.length;y<k-1;y++)j=yo(Q[y],Q[y+1],r,y,!0),j&&(h[S]=h[S]||[],h[S].push(j[0]),(j[1]!==Q[y+1]||y===k-2)&&(h[S].push(j[1]),S++))}},_simplifyPoints:function(){for(var r=this._parts,h=this.options.smoothFactor,m=0,y=r.length;m<y;m++)r[m]=Yt(r[m],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,h){var m,y,S,R,k,j,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(m=0,R=this._parts.length;m<R;m++)for(j=this._parts[m],y=0,k=j.length,S=k-1;y<k;S=y++)if(!(!h&&y===0)&&Zr(r,j[S],j[y])<=Q)return!0;return!1}});function o(r,h){return new i(r,h)}i._flat=Ss;var l=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var h=i.prototype._convertLatLngs.call(this,r),m=h.length;return m>=2&&h[0]instanceof Be&&h[0].equals(h[m-1])&&h.pop(),h},_setLatLngs:function(r){i.prototype._setLatLngs.call(this,r),ii(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ii(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,h=this.options.weight,m=new ie(h,h);if(r=new ze(r.min.subtract(m),r.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,S=this._rings.length,R;y<S;y++)R=nd(this._rings[y],r,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var h=!1,m,y,S,R,k,j,Q,le;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(R=0,Q=this._parts.length;R<Q;R++)for(m=this._parts[R],k=0,le=m.length,j=le-1;k<le;j=k++)y=m[k],S=m[j],y.y>r.y!=S.y>r.y&&r.x<(S.x-y.x)*(r.y-y.y)/(S.y-y.y)+y.x&&(h=!h);return h||i.prototype._containsPoint.call(this,r,!0)}});function a(r,h){return new l(r,h)}var u=Bi.extend({initialize:function(r,h){X(this,h),this._layers={},r&&this.addData(r)},addData:function(r){var h=B(r)?r:r.features,m,y,S;if(h){for(m=0,y=h.length;m<y;m++)S=h[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(r))return this;var k=f(r,R);return k?(k.feature=P(r),k.defaultOptions=k.options,this.resetStyle(k),R.onEachFeature&&R.onEachFeature(r,k),this.addLayer(k)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=d({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(h){this._setLayerStyle(h,r)},this)},_setLayerStyle:function(r,h){r.setStyle&&(typeof h=="function"&&(h=h(r.feature)),r.setStyle(h))}});function f(r,h){var m=r.type==="Feature"?r.geometry:r,y=m?m.coordinates:null,S=[],R=h&&h.pointToLayer,k=h&&h.coordsToLatLng||E,j,Q,le,ve;if(!y&&!m)return null;switch(m.type){case"Point":return j=k(y),p(R,r,j,h);case"MultiPoint":for(le=0,ve=y.length;le<ve;le++)j=k(y[le]),S.push(p(R,r,j,h));return new Bi(S);case"LineString":case"MultiLineString":return Q=x(y,m.type==="LineString"?0:1,k),new i(Q,h);case"Polygon":case"MultiPolygon":return Q=x(y,m.type==="Polygon"?1:2,k),new l(Q,h);case"GeometryCollection":for(le=0,ve=m.geometries.length;le<ve;le++){var Ve=f({geometry:m.geometries[le],type:"Feature",properties:r.properties},h);Ve&&S.push(Ve)}return new Bi(S);case"FeatureCollection":for(le=0,ve=m.features.length;le<ve;le++){var dt=f(m.features[le],h);dt&&S.push(dt)}return new Bi(S);default:throw new Error("Invalid GeoJSON object.")}}function p(r,h,m,y){return r?r(h,m):new oi(m,y&&y.markersInheritOptions&&y)}function E(r){return new Be(r[1],r[0],r[2])}function x(r,h,m){for(var y=[],S=0,R=r.length,k;S<R;S++)k=h?x(r[S],h-1,m):(m||E)(r[S]),y.push(k);return y}function C(r,h){return r=te(r),r.alt!==void 0?[F(r.lng,h),F(r.lat,h),F(r.alt,h)]:[F(r.lng,h),F(r.lat,h)]}function I(r,h,m,y){for(var S=[],R=0,k=r.length;R<k;R++)S.push(h?I(r[R],ii(r[R])?0:h-1,m,y):C(r[R],y));return!h&&m&&S.length>0&&S.push(S[0].slice()),S}function T(r,h){return r.feature?d({},r.feature,{geometry:h}):P(h)}function P(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var z={toGeoJSON:function(r){return T(this,{type:"Point",coordinates:C(this.getLatLng(),r)})}};oi.include(z),rr.include(z),vo.include(z),i.include({toGeoJSON:function(r){var h=!ii(this._latlngs),m=I(this._latlngs,h?1:0,!1,r);return T(this,{type:(h?"Multi":"")+"LineString",coordinates:m})}}),l.include({toGeoJSON:function(r){var h=!ii(this._latlngs),m=h&&!ii(this._latlngs[0]),y=I(this._latlngs,m?2:h?1:0,!0,r);return h||(y=[y]),T(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),to.include({toMultiPoint:function(r){var h=[];return this.eachLayer(function(m){h.push(m.toGeoJSON(r).geometry.coordinates)}),T(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(r){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(r);var m=h==="GeometryCollection",y=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(r);if(m)y.push(R.geometry);else{var k=P(R);k.type==="FeatureCollection"?y.push.apply(y,k.features):y.push(k)}}}),m?T(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function U(r,h){return new u(r,h)}var G=U,Y=pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,h,m){this._url=r,this._bounds=We(h),X(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Wt(this._image),this},bringToBack:function(){return this._map&&ti(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=We(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",h=this._image=r?this._url:Et("img");if(Te(h,"leaflet-image-layer"),this._zoomAnimated&&Te(h,"leaflet-zoom-animated"),this.options.className&&Te(h,this.options.className),h.onselectstart=N,h.onmousemove=N,h.onload=_(this.fire,this,"load"),h.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(r){var h=this._map.getZoomScale(r.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;O(this._image,m,h)},_reset:function(){var r=this._image,h=new ze(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=h.getSize();xe(r,h.min),r.style.width=m.x+"px",r.style.height=m.y+"px"},_updateOpacity:function(){st(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ue=function(r,h,m){return new Y(r,h,m)},he=Y.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",h=this._image=r?this._url:Et("video");if(Te(h,"leaflet-image-layer"),this._zoomAnimated&&Te(h,"leaflet-zoom-animated"),this.options.className&&Te(h,this.options.className),h.onselectstart=N,h.onmousemove=N,h.onloadeddata=_(this.fire,this,"load"),r){for(var m=h.getElementsByTagName("source"),y=[],S=0;S<m.length;S++)y.push(m[S].src);this._url=m.length>0?y:[h.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var k=Et("source");k.src=this._url[R],h.appendChild(k)}}});function ae(r,h,m){return new he(r,h,m)}var lt=Y.extend({_initImage:function(){var r=this._image=this._url;Te(r,"leaflet-image-layer"),this._zoomAnimated&&Te(r,"leaflet-zoom-animated"),this.options.className&&Te(r,this.options.className),r.onselectstart=N,r.onmousemove=N}});function qe(r,h,m){return new lt(r,h,m)}var Kt=pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,h){r&&(r instanceof Be||B(r))?(this._latlng=te(r),X(this,h)):(X(this,r),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&st(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&st(this._container,1),this.bringToFront(),this.options.interactive&&(Te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(st(this._container,0),this._removeTimeout=setTimeout(_(kt,void 0,this._container),200)):kt(this._container),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=te(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wt(this._container),this},bringToBack:function(){return this._map&&ti(this._container),this},_prepareOpen:function(r){var h=this._source;if(!h._map)return!1;if(h instanceof Bi){h=null;var m=this._source._layers;for(var y in m)if(m[y]._map){h=m[y];break}if(!h)return!1;this._source=h}if(!r)if(h.getCenter)r=h.getCenter();else if(h.getLatLng)r=h.getLatLng();else if(h.getBounds)r=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")r.innerHTML=h;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),h=de(this.options.offset),m=this._getAnchor();this._zoomAnimated?xe(this._container,r.add(m)):h=h.add(r).add(m);var y=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=y+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});pt.include({_initOverlay:function(r,h,m,y){var S=h;return S instanceof r||(S=new r(y).setContent(h)),m&&S.setLatLng(m),S}}),pn.include({_initOverlay:function(r,h,m,y){var S=m;return S instanceof r?(X(S,y),S._source=this):(S=h&&!y?h:new r(y,this),S.setContent(m)),S}});var Vn=Kt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Kt.prototype.openOn.call(this,r)},onAdd:function(r){Kt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Hi||this._source.on("preclick",$i))},onRemove:function(r){Kt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Hi||this._source.off("preclick",$i))},getEvents:function(){var r=Kt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",h=this._container=Et("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Et("div",r+"-content-wrapper",h);if(this._contentNode=Et("div",r+"-content",m),Si(h),ys(this._contentNode),Ge(h,"contextmenu",$i),this._tipContainer=Et("div",r+"-tip-container",h),this._tip=Et("div",r+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Et("a",r+"-close-button",h);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(y,"click",function(S){yn(S),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,h=r.style;h.width="",h.whiteSpace="nowrap";var m=r.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),h.width=m+1+"px",h.whiteSpace="",h.height="";var y=r.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&y>S?(h.height=S+"px",Te(r,R)):Ot(r,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var h=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),m=this._getAnchor();xe(this._container,h.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,h=parseInt(tt(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+h,y=this._containerWidth,S=new ie(this._containerLeft,-m-this._containerBottom);S._add(Vt(this._container));var R=r.layerPointToContainerPoint(S),k=de(this.options.autoPanPadding),j=de(this.options.autoPanPaddingTopLeft||k),Q=de(this.options.autoPanPaddingBottomRight||k),le=r.getSize(),ve=0,Ve=0;R.x+y+Q.x>le.x&&(ve=R.x+y-le.x+Q.x),R.x-ve-j.x<0&&(ve=R.x-j.x),R.y+m+Q.y>le.y&&(Ve=R.y+m-le.y+Q.y),R.y-Ve-j.y<0&&(Ve=R.y-j.y),(ve||Ve)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([ve,Ve]))}},_getAnchor:function(){return de(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gn=function(r,h){return new Vn(r,h)};pt.mergeOptions({closePopupOnClick:!0}),pt.include({openPopup:function(r,h,m){return this._initOverlay(Vn,r,h,m).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),pn.include({bindPopup:function(r,h){return this._popup=this._initOverlay(Vn,this._popup,r,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){bi(r);var h=r.layer||r.target;if(this._popup._source===h&&!(h instanceof Hi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=h,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var It=Kt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Kt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Kt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Kt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",h=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Et("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var h,m,y=this._map,S=this._container,R=y.latLngToContainerPoint(y.getCenter()),k=y.layerPointToContainerPoint(r),j=this.options.direction,Q=S.offsetWidth,le=S.offsetHeight,ve=de(this.options.offset),Ve=this._getAnchor();j==="top"?(h=Q/2,m=le):j==="bottom"?(h=Q/2,m=0):j==="center"?(h=Q/2,m=le/2):j==="right"?(h=0,m=le/2):j==="left"?(h=Q,m=le/2):k.x<R.x?(j="right",h=0,m=le/2):(j="left",h=Q+(ve.x+Ve.x)*2,m=le/2),r=r.subtract(de(h,m,!0)).add(ve).add(Ve),Ot(S,"leaflet-tooltip-right"),Ot(S,"leaflet-tooltip-left"),Ot(S,"leaflet-tooltip-top"),Ot(S,"leaflet-tooltip-bottom"),Te(S,"leaflet-tooltip-"+j),xe(S,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&st(this._container,r)},_animateZoom:function(r){var h=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(h)},_getAnchor:function(){return de(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vn=function(r,h){return new It(r,h)};pt.include({openTooltip:function(r,h,m){return this._initOverlay(It,r,h,m).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),pn.include({bindTooltip:function(r,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(It,this._tooltip,r,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var h=r?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[h](m),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var h=typeof r.getElement=="function"&&r.getElement();h&&(Ge(h,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Ge(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var h=typeof r.getElement=="function"&&r.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var h=r.latlng,m,y;this._tooltip.options.sticky&&r.originalEvent&&(m=this._map.mouseEventToContainerPoint(r.originalEvent),y=this._map.containerPointToLayerPoint(m),h=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(h)}});var Zn=or.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var h=r&&r.tagName==="DIV"?r:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Jo(h),h.appendChild(m.html)):h.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=de(m.bgPos);h.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function sr(r){return new Zn(r)}or.Default=jr;var Ui=pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){X(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),kt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ie?r:new ie(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var h=this.getPane().children,m=-r(-1/0,1/0),y=0,S=h.length,R;y<S;y++)R=h[y].style.zIndex,h[y]!==this._container&&R&&(m=r(m,+R));isFinite(m)&&(this.options.zIndex=m+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ce.ielt9){st(this._container,this.options.opacity);var r=+new Date,h=!1,m=!1;for(var y in this._tiles){var S=this._tiles[y];if(!(!S.current||!S.loaded)){var R=Math.min(1,(r-S.loaded)/200);st(S.el,R),R<1?h=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),h&&(Ce(this._fadeFrame),this._fadeFrame=Qe(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=Et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,h=this.options.maxZoom;if(r!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===r?(this._levels[m].el.style.zIndex=h-Math.abs(r-m),this._onUpdateLevel(m)):(kt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[r],S=this._map;return y||(y=this._levels[r]={},y.el=Et("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=h,y.origin=S.project(S.unproject(S.getPixelOrigin()),r).round(),y.zoom=r,this._setZoomTransform(y,S.getCenter(),S.getZoom()),N(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var r,h,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)h=this._tiles[r],h.retain=h.current;for(r in this._tiles)if(h=this._tiles[r],h.current&&!h.active){var y=h.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var h in this._tiles)this._tiles[h].coords.z===r&&this._removeTile(h)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)kt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,h,m,y){var S=Math.floor(r/2),R=Math.floor(h/2),k=m-1,j=new ie(+S,+R);j.z=+k;var Q=this._tileCoordsToKey(j),le=this._tiles[Q];return le&&le.active?(le.retain=!0,!0):(le&&le.loaded&&(le.retain=!0),k>y?this._retainParent(S,R,k,y):!1)},_retainChildren:function(r,h,m,y){for(var S=2*r;S<2*r+2;S++)for(var R=2*h;R<2*h+2;R++){var k=new ie(S,R);k.z=m+1;var j=this._tileCoordsToKey(k),Q=this._tiles[j];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);m+1<y&&this._retainChildren(S,R,m+1,y)}},_resetView:function(r){var h=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var h=this.options;return h.minNativeZoom!==void 0&&r<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<r?h.maxNativeZoom:r},_setView:function(r,h,m,y){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!y||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(r),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(r,h)},_setZoomTransforms:function(r,h){for(var m in this._levels)this._setZoomTransform(this._levels[m],r,h)},_setZoomTransform:function(r,h,m){var y=this._map.getZoomScale(m,r.zoom),S=r.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(h,m)).round();ce.any3d?O(r.el,S,y):xe(r.el,S)},_resetGrid:function(){var r=this._map,h=r.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,h.wrapLng[0]],y).x/m.x),Math.ceil(r.project([0,h.wrapLng[1]],y).x/m.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([h.wrapLat[0],0],y).y/m.x),Math.ceil(r.project([h.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var h=this._map,m=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),y=h.getZoomScale(m,this._tileZoom),S=h.project(r,this._tileZoom).floor(),R=h.getSize().divideBy(y*2);return new ze(S.subtract(R),S.add(R))},_update:function(r){var h=this._map;if(h){var m=this._clampZoom(h.getZoom());if(r===void 0&&(r=h.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(r),S=this._pxBoundsToTileRange(y),R=S.getCenter(),k=[],j=this.options.keepBuffer,Q=new ze(S.getBottomLeft().subtract([j,-j]),S.getTopRight().add([j,-j]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var le in this._tiles){var ve=this._tiles[le].coords;(ve.z!==this._tileZoom||!Q.contains(new ie(ve.x,ve.y)))&&(this._tiles[le].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(r,m);return}for(var Ve=S.min.y;Ve<=S.max.y;Ve++)for(var dt=S.min.x;dt<=S.max.x;dt++){var ri=new ie(dt,Ve);if(ri.z=this._tileZoom,!!this._isValidTile(ri)){var Ln=this._tiles[this._tileCoordsToKey(ri)];Ln?Ln.current=!0:k.push(ri)}}if(k.sort(function(hi,bs){return hi.distanceTo(R)-bs.distanceTo(R)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wi=document.createDocumentFragment();for(dt=0;dt<k.length;dt++)this._addTile(k[dt],Wi);this._level.el.appendChild(Wi)}}}},_isValidTile:function(r){var h=this._map.options.crs;if(!h.infinite){var m=this._globalTileRange;if(!h.wrapLng&&(r.x<m.min.x||r.x>m.max.x)||!h.wrapLat&&(r.y<m.min.y||r.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(r);return We(this.options.bounds).overlaps(y)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var h=this._map,m=this.getTileSize(),y=r.scaleBy(m),S=y.add(m),R=h.unproject(y,r.z),k=h.unproject(S,r.z);return[R,k]},_tileCoordsToBounds:function(r){var h=this._tileCoordsToNwSe(r),m=new je(h[0],h[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var h=r.split(":"),m=new ie(+h[0],+h[1]);return m.z=+h[2],m},_removeTile:function(r){var h=this._tiles[r];h&&(kt(h.el),delete this._tiles[r],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Te(r,"leaflet-tile");var h=this.getTileSize();r.style.width=h.x+"px",r.style.height=h.y+"px",r.onselectstart=N,r.onmousemove=N,ce.ielt9&&this.options.opacity<1&&st(r,this.options.opacity)},_addTile:function(r,h){var m=this._getTilePos(r),y=this._tileCoordsToKey(r),S=this.createTile(this._wrapCoords(r),_(this._tileReady,this,r));this._initTile(S),this.createTile.length<2&&Qe(_(this._tileReady,this,r,null,S)),xe(S,m),this._tiles[y]={el:S,coords:r,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:r})},_tileReady:function(r,h,m){h&&this.fire("tileerror",{error:h,tile:m,coords:r});var y=this._tileCoordsToKey(r);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(st(m.el,0),Ce(this._fadeFrame),this._fadeFrame=Qe(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),h||(Te(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ce.ielt9||!this._map._fadeAnimated?Qe(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var h=new ie(this._wrapX?M(r.x,this._wrapX):r.x,this._wrapY?M(r.y,this._wrapY):r.y);return h.z=r.z,h},_pxBoundsToTileRange:function(r){var h=this.getTileSize();return new ze(r.min.unscaleBy(h).floor(),r.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function nu(r){return new Ui(r)}var lr=Ui.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,h){this._url=r,h=X(this,h),h.detectRetina&&ce.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,h){return this._url===r&&h===void 0&&(h=!0),this._url=r,h||this.redraw(),this},createTile:function(r,h){var m=document.createElement("img");return Ge(m,"load",_(this._tileOnLoad,this,h,m)),Ge(m,"error",_(this._tileOnError,this,h,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(r),m},getTileUrl:function(r){var h={r:ce.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-r.y;this.options.tms&&(h.y=m),h["-y"]=m}return D(this._url,d(h,this.options))},_tileOnLoad:function(r,h){ce.ielt9?setTimeout(_(r,this,null,h),0):r(null,h)},_tileOnError:function(r,h,m){var y=this.options.errorTileUrl;y&&h.getAttribute("src")!==y&&(h.src=y),r(m,h)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,h=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(r=h-r),r+y},_getSubdomain:function(r){var h=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var r,h;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(h=this._tiles[r].el,h.onload=N,h.onerror=N,!h.complete)){h.src=Ee;var m=this._tiles[r].coords;kt(h),delete this._tiles[r],this.fire("tileabort",{tile:h,coords:m})}},_removeTile:function(r){var h=this._tiles[r];if(h)return h.el.setAttribute("src",Ee),Ui.prototype._removeTile.call(this,r)},_tileReady:function(r,h,m){if(!(!this._map||m&&m.getAttribute("src")===Ee))return Ui.prototype._tileReady.call(this,r,h,m)}});function Of(r,h){return new lr(r,h)}var Mf=lr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,h){this._url=r;var m=d({},this.defaultWmsParams);for(var y in h)y in this.options||(m[y]=h[y]);h=X(this,h);var S=h.detectRetina&&ce.retina?2:1,R=this.getTileSize();m.width=R.x*S,m.height=R.y*S,this.wmsParams=m},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,lr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var h=this._tileCoordsToNwSe(r),m=this._crs,y=ke(m.project(h[0]),m.project(h[1])),S=y.min,R=y.max,k=(this._wmsVersion>=1.3&&this._crs===ir?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),j=lr.prototype.getTileUrl.call(this,r);return j+Ne(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(r,h){return d(this.wmsParams,r),h||this.redraw(),this}});function t3(r,h){return new Mf(r,h)}lr.WMS=Mf,Of.wms=t3;var Do=pn.extend({options:{padding:.1},initialize:function(r){X(this,r),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,h){var m=this._map.getZoomScale(h,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),R=y.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(r,h));ce.any3d?O(this._container,R,m):xe(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,h=this._map.getSize(),m=this._map.containerPointToLayerPoint(h.multiplyBy(-r)).round();this._bounds=new ze(m,m.add(h.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pf=Do.extend({options:{tolerance:0},getEvents:function(){var r=Do.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Do.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Ge(r,"mousemove",this._onMouseMove,this),Ge(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ce(this._redrawRequest),delete this._ctx,kt(this._container),ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var h in this._layers)r=this._layers[h],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Do.prototype._update.call(this);var r=this._bounds,h=this._container,m=r.getSize(),y=ce.retina?2:1;xe(h,r.min),h.width=y*m.x,h.height=y*m.y,h.style.width=m.x+"px",h.style.height=m.y+"px",ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Do.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[v(r)]=r;var h=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var h=r._order,m=h.next,y=h.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete r._order,delete this._layers[v(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var h=r.options.dashArray.split(/[, ]+/),m=[],y,S;for(S=0;S<h.length;S++){if(y=Number(h[S]),isNaN(y))return;m.push(y)}r.options._dashArray=m}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Qe(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var h=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ze,this._redrawBounds.extend(r._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(r._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var h=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,h=this._redrawBounds;if(this._ctx.save(),h){var m=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)r=y.layer,(!h||r._pxBounds&&r._pxBounds.intersects(h))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,h){if(this._drawing){var m,y,S,R,k=r._parts,j=k.length,Q=this._ctx;if(j){for(Q.beginPath(),m=0;m<j;m++){for(y=0,S=k[m].length;y<S;y++)R=k[m][y],Q[y?"lineTo":"moveTo"](R.x,R.y);h&&Q.closePath()}this._fillStroke(Q,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var h=r._point,m=this._ctx,y=Math.max(Math.round(r._radius),1),S=(Math.max(Math.round(r._radiusY),1)||y)/y;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(h.x,h.y/S,y,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,r)}},_fillStroke:function(r,h){var m=h.options;m.fill&&(r.globalAlpha=m.fillOpacity,r.fillStyle=m.fillColor||m.color,r.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(r.setLineDash&&r.setLineDash(h.options&&h.options._dashArray||[]),r.globalAlpha=m.opacity,r.lineWidth=m.weight,r.strokeStyle=m.color,r.lineCap=m.lineCap,r.lineJoin=m.lineJoin,r.stroke())},_onClick:function(r){for(var h=this._map.mouseEventToLayerPoint(r),m,y,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(h)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,h)}},_handleMouseOut:function(r){var h=this._hoveredLayer;h&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([h],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,h){if(!this._mouseHoverThrottled){for(var m,y,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(h)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(r),y&&(Te(this._container,"leaflet-interactive"),this._fireEvent([y],r,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,h,m){this._map._fireDOMEvent(h,m||h.type,r)},_bringToFront:function(r){var h=r._order;if(h){var m=h.next,y=h.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(r)}},_bringToBack:function(r){var h=r._order;if(h){var m=h.next,y=h.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(r)}}});function Ff(r){return ce.canvas?new Pf(r):null}var Ll=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),n3={_initContainer:function(){this._container=Et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Do.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var h=r._container=Ll("shape");Te(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",r._path=Ll("path"),h.appendChild(r._path),this._updateStyle(r),this._layers[v(r)]=r},_addPath:function(r){var h=r._container;this._container.appendChild(h),r.options.interactive&&r.addInteractiveTarget(h)},_removePath:function(r){var h=r._container;kt(h),r.removeInteractiveTarget(h),delete this._layers[v(r)]},_updateStyle:function(r){var h=r._stroke,m=r._fill,y=r.options,S=r._container;S.stroked=!!y.stroke,S.filled=!!y.fill,y.stroke?(h||(h=r._stroke=Ll("stroke")),S.appendChild(h),h.weight=y.weight+"px",h.color=y.color,h.opacity=y.opacity,y.dashArray?h.dashStyle=B(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=y.lineCap.replace("butt","flat"),h.joinstyle=y.lineJoin):h&&(S.removeChild(h),r._stroke=null),y.fill?(m||(m=r._fill=Ll("fill")),S.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(S.removeChild(m),r._fill=null)},_updateCircle:function(r){var h=r._point.round(),m=Math.round(r._radius),y=Math.round(r._radiusY||m);this._setPath(r,r._empty()?"M0 0":"AL "+h.x+","+h.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(r,h){r._path.v=h},_bringToFront:function(r){Wt(r._container)},_bringToBack:function(r){ti(r._container)}},od=ce.vml?Ll:Jn,Ol=Do.extend({_initContainer:function(){this._container=od("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=od("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Do.prototype._update.call(this);var r=this._bounds,h=r.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,m.setAttribute("width",h.x),m.setAttribute("height",h.y)),xe(m,r.min),m.setAttribute("viewBox",[r.min.x,r.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(r){var h=r._path=od("path");r.options.className&&Te(h,r.options.className),r.options.interactive&&Te(h,"leaflet-interactive"),this._updateStyle(r),this._layers[v(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){kt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[v(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var h=r._path,m=r.options;h&&(m.stroke?(h.setAttribute("stroke",m.color),h.setAttribute("stroke-opacity",m.opacity),h.setAttribute("stroke-width",m.weight),h.setAttribute("stroke-linecap",m.lineCap),h.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?h.setAttribute("stroke-dasharray",m.dashArray):h.removeAttribute("stroke-dasharray"),m.dashOffset?h.setAttribute("stroke-dashoffset",m.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),m.fill?(h.setAttribute("fill",m.fillColor||m.color),h.setAttribute("fill-opacity",m.fillOpacity),h.setAttribute("fill-rule",m.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(r,h){this._setPath(r,Fi(r._parts,h))},_updateCircle:function(r){var h=r._point,m=Math.max(Math.round(r._radius),1),y=Math.max(Math.round(r._radiusY),1)||m,S="a"+m+","+y+" 0 1,0 ",R=r._empty()?"M0 0":"M"+(h.x-m)+","+h.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(r,R)},_setPath:function(r,h){r._path.setAttribute("d",h)},_bringToFront:function(r){Wt(r._path)},_bringToBack:function(r){ti(r._path)}});ce.vml&&Ol.include(n3);function Df(r){return ce.svg||ce.vml?new Ol(r):null}pt.include({getRenderer:function(r){var h=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var h=this._paneRenderers[r];return h===void 0&&(h=this._createRenderer({pane:r}),this._paneRenderers[r]=h),h},_createRenderer:function(r){return this.options.preferCanvas&&Ff(r)||Df(r)}});var kf=l.extend({initialize:function(r,h){l.prototype.initialize.call(this,this._boundsToLatLngs(r),h)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=We(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function i3(r,h){return new kf(r,h)}Ol.create=od,Ol.pointsToPath=Fi,u.geometryToLayer=f,u.coordsToLatLng=E,u.coordsToLatLngs=x,u.latLngToCoords=C,u.latLngsToCoords=I,u.getFeature=T,u.asFeature=P,pt.mergeOptions({boxZoom:!0});var Bf=ni.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rn(),Le(),this._startPoint=this._map.mouseEventToContainerPoint(r),Ge(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Et("div","leaflet-zoom-box",this._container),Te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var h=new ze(this._point,this._startPoint),m=h.getSize();xe(this._box,h.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(kt(this._box),Ot(this._container,"leaflet-crosshair")),Hr(),Bt(),ye(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var h=new je(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pt.addInitHook("addHandler","boxZoom",Bf),pt.mergeOptions({doubleClickZoom:!0});var zf=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var h=this._map,m=h.getZoom(),y=h.options.zoomDelta,S=r.originalEvent.shiftKey?m-y:m+y;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(r.containerPoint,S)}});pt.addInitHook("addHandler","doubleClickZoom",zf),pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Hf=ni.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new xo(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ot(this._map._container,"leaflet-grab"),Ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=We(this._map.options.maxBounds);this._offsetLimit=ke(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var h=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(h),this._prunePositions(h)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,h){return r-(r-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;r.x<h.min.x&&(r.x=this._viscousLimit(r.x,h.min.x)),r.y<h.min.y&&(r.y=this._viscousLimit(r.y,h.min.y)),r.x>h.max.x&&(r.x=this._viscousLimit(r.x,h.max.x)),r.y>h.max.y&&(r.y=this._viscousLimit(r.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,h=Math.round(r/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,S=(y-h+m)%r+h-m,R=(y+h+m)%r-h-m,k=Math.abs(S+m)<Math.abs(R+m)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(r){var h=this._map,m=h.options,y=!m.inertia||r.noInertia||this._times.length<2;if(h.fire("dragend",r),y)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,k=m.easeLinearity,j=S.multiplyBy(k/R),Q=j.distanceTo([0,0]),le=Math.min(m.inertiaMaxSpeed,Q),ve=j.multiplyBy(le/Q),Ve=le/(m.inertiaDeceleration*k),dt=ve.multiplyBy(-Ve/2).round();!dt.x&&!dt.y?h.fire("moveend"):(dt=h._limitOffset(dt,h.options.maxBounds),Qe(function(){h.panBy(dt,{duration:Ve,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});pt.addInitHook("addHandler","dragging",Hf),pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Uf=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Ge(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,h=document.documentElement,m=r.scrollTop||h.scrollTop,y=r.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var h=this._panKeys={},m=this.keyCodes,y,S;for(y=0,S=m.left.length;y<S;y++)h[m.left[y]]=[-1*r,0];for(y=0,S=m.right.length;y<S;y++)h[m.right[y]]=[r,0];for(y=0,S=m.down.length;y<S;y++)h[m.down[y]]=[0,r];for(y=0,S=m.up.length;y<S;y++)h[m.up[y]]=[0,-1*r]},_setZoomDelta:function(r){var h=this._zoomKeys={},m=this.keyCodes,y,S;for(y=0,S=m.zoomIn.length;y<S;y++)h[m.zoomIn[y]]=r;for(y=0,S=m.zoomOut.length;y<S;y++)h[m.zoomOut[y]]=-r},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var h=r.keyCode,m=this._map,y;if(h in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[h],r.shiftKey&&(y=de(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(de(y),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(S)}else m.panBy(y)}else if(h in this._zoomKeys)m.setZoom(m.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;bi(r)}}});pt.addInitHook("addHandler","keyboard",Uf),pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wf=ni.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var h=nr(r),m=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),y),bi(r)},_performZoom:function(){var r=this._map,h=r.getZoom(),m=this._map.options.zoomSnap||0;r._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,R=m?Math.ceil(S/m)*m:S,k=r._limitZoom(h+(this._delta>0?R:-R))-h;this._delta=0,this._startTime=null,k&&(r.options.scrollWheelZoom==="center"?r.setZoom(h+k):r.setZoomAround(this._lastMousePos,h+k))}});pt.addInitHook("addHandler","scrollWheelZoom",Wf);var o3=600;pt.mergeOptions({tapHold:ce.touchNative&&ce.safari&&ce.mobile,tapTolerance:15});var Vf=ni.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var h=r.touches[0];this._startPos=this._newPos=new ie(h.clientX,h.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",yn),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),o3),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ye(document,"touchend",yn),ye(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)},_onMove:function(r){var h=r.touches[0];this._newPos=new ie(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,h){var m=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});m._simulated=!0,h.target.dispatchEvent(m)}});pt.addInitHook("addHandler","tapHold",Vf),pt.mergeOptions({touchZoom:ce.touch,bounceAtZoomLimits:!0});var Gf=ni.extend({addHooks:function(){Te(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var h=this._map;if(!(!r.touches||r.touches.length!==2||h._animatingZoom||this._zooming)){var m=h.mouseEventToContainerPoint(r.touches[0]),y=h.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),yn(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var h=this._map,m=h.mouseEventToContainerPoint(r.touches[0]),y=h.mouseEventToContainerPoint(r.touches[1]),S=m.distanceTo(y)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),Ce(this._animRequest);var k=_(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Qe(k,this,!0),yn(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ce(this._animRequest),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pt.addInitHook("addHandler","touchZoom",Gf),pt.BoxZoom=Bf,pt.DoubleClickZoom=zf,pt.Drag=Hf,pt.Keyboard=Uf,pt.ScrollWheelZoom=Wf,pt.TapHold=Vf,pt.TouchZoom=Gf,n.Bounds=ze,n.Browser=ce,n.CRS=fn,n.Canvas=Pf,n.Circle=rr,n.CircleMarker=vo,n.Class=Ct,n.Control=Ai,n.DivIcon=Zn,n.DivOverlay=Kt,n.DomEvent=Wn,n.DomUtil=gn,n.Draggable=xo,n.Evented=Fe,n.FeatureGroup=Bi,n.GeoJSON=u,n.GridLayer=Ui,n.Handler=ni,n.Icon=or,n.ImageOverlay=Y,n.LatLng=Be,n.LatLngBounds=je,n.Layer=pn,n.LayerGroup=to,n.LineUtil=id,n.Map=pt,n.Marker=oi,n.Mixin=ed,n.Path=Hi,n.Point=ie,n.PolyUtil=bl,n.Polygon=l,n.Polyline=i,n.Popup=Vn,n.PosAnimation=Sl,n.Projection=Tl,n.Rectangle=kf,n.Renderer=Do,n.SVG=Ol,n.SVGOverlay=lt,n.TileLayer=lr,n.Tooltip=It,n.Transformation=Jt,n.Util=it,n.VideoOverlay=he,n.bind=_,n.bounds=ke,n.canvas=Ff,n.circle=A,n.circleMarker=yt,n.control=Gr,n.divIcon=sr,n.extend=d,n.featureGroup=zi,n.geoJSON=U,n.geoJson=G,n.gridLayer=nu,n.icon=Rl,n.imageOverlay=ue,n.latLng=te,n.latLngBounds=We,n.layerGroup=ui,n.map=$a,n.marker=tu,n.point=de,n.polygon=a,n.polyline=o,n.popup=Gn,n.rectangle=i3,n.setOptions=X,n.stamp=v,n.svg=Df,n.svgOverlay=qe,n.tileLayer=Of,n.tooltip=vn,n.transformation=Pi,n.version=s,n.videoOverlay=ae;var r3=window.L;n.noConflict=function(){return window.L=r3,this},window.L=n})})(P1,P1.exports);var XE=P1.exports;const Yn=th(XE);class YE{constructor(e){this.V=e,this.adj=new Array(e).fill().map(()=>[]),this.parent=new Array(e).fill(-1),this.nodeCategories=new Array(e).fill("default"),this.nodeBuilding=new Array(e).fill(""),this.arrayPath=[]}addEdge(e,n,s){this.adj[e].push([n,s]),this.adj[n].push([e,s])}setNodeCategory(e,n){this.nodeCategories[e]=n}setNodeBuilding(e,n){this.nodeBuilding[e]=n}findClosestCategory(e,n,s,d,g){const _=new Array(this.V).fill(Number.POSITIVE_INFINITY),w=new Set;for(w.add([0,e]),_[e]=0;w.size>0;){const M=[...w].reduce((F,V)=>F[0]<V[0]?F:V);w.delete(M);const N=M[1];for(const[F,V]of this.adj[N])!s&&this.nodeCategories[F]==="elevator"||!d&&this.nodeCategories[F]==="emergencyExit"||(g==="Main"||g==="Science"?(c.setNodeCategory(706,"Exit"),c.setNodeCategory(98,"Exit"),c.setNodeCategory(3001,"Exit"),c.setNodeCategory(1700,"Exit")):g==="BRS"?c.setNodeCategory(208,"Exit"):(g==="EDS"||g==="CHTM")&&c.setNodeCategory(1100,"Exit"),_[F]>_[N]+V&&(_[F]!==Number.POSITIVE_INFINITY&&w.delete([_[F],F]),_[F]=_[N]+V,w.add([_[F],F]),this.parent[F]=N))}let v=-1,b=Number.POSITIVE_INFINITY;for(let M=0;M<this.V;M++)_[M]<b&&this.nodeCategories[M]===n&&(b=_[M],v=M);return b!==Number.POSITIVE_INFINITY?(console.log(`Closest Node of Category ${n} from Room ${e} is Room ${v} at a distance of ${b}.`),console.log("Path: "),this.printPath(v),console.log("Array Path:",this.arrayPath)):console.log(`No node of Category ${n} found from Room ${e}`),[b,v]}printPath(e){if(this.arrayPath=[],console.log(`Current Node: ${e}`),e===-1){console.log("Terminating recursion");return}this.printPath(this.parent[e]),console.log(`${e} -> `),this.arrayPath.push(Number(e))}shortestPath(e,n,s,d){const g=new Array(this.V).fill(Number.POSITIVE_INFINITY),_=new Set;for(_.add([0,e]),g[e]=0;_.size>0;){const w=[..._].reduce((b,M)=>b[0]<M[0]?b:M);_.delete(w);const v=w[1];for(const[b,M]of this.adj[v])!d&&this.nodeCategories[b]==="emergencyExit"||!s&&this.nodeCategories[b]==="elevator"||g[b]>g[v]+M&&(g[b]!==Number.POSITIVE_INFINITY&&_.delete([g[b],b]),g[b]=g[v]+M,_.add([g[b],b]),this.parent[b]=v)}g[n]===Number.POSITIVE_INFINITY?console.log(`No node found at Room ${n} from Room ${e}`):(console.log(`Room ${n} from Room ${e} is ${g[n]} units away.`),console.log("Path: "),this.printPath(n))}}function og(t,e,n,s,d,g){if(console.log("Wlaa: ",e,n),c.parent=new Array(qh).fill(-1),c.arrayPath=[],t==="enterDestination")return c.shortestPath(e,n,s,d),c.arrayPath;if(t==="enterFindFacility")return c.findClosestCategory(e,n,s,d,g),c.arrayPath}function rg(t,e,n,s,d,g){if(c.parent=new Array(qh).fill(-1),c.arrayPath=[],t==="enterDestination")return c.shortestPath(e,n,s,d),c.nodeBuilding[c.arrayPath[0]];if(t==="enterFindFacility")return c.findClosestCategory(e,n,s,d,g),c.nodeBuilding[c.arrayPath[0]]}const qh=1e4,c=new YE(qh);c.setNodeCategory(378,"CR(MEN)");c.setNodeCategory(379,"CR(WOMEN)");c.setNodeCategory(381,"Logistic Management Office");c.setNodeCategory(400,"Student Lounge");c.setNodeCategory(5,"CTE Faculty Office");c.setNodeCategory(4,"CTE Dean Office");c.setNodeCategory(46,"CR(MEN)");c.setNodeCategory(47,"CR(WOMEN)");c.setNodeCategory(15,"Student Dev&Welfare Office");c.setNodeCategory(56,"CR(WOMEN)");c.setNodeCategory(1,"CEA Faculty Office");c.setNodeCategory(530,"CR(WOMEN)");c.setNodeCategory(531,"CR(MEN)");c.setNodeCategory(515,"ITSS/MIS");c.setNodeCategory(507,"Research Service Office");c.setNodeCategory(483,"ETEEAP");c.setNodeCategory(543,"Creative Production Office");c.setNodeCategory(547,"LMO Storage Room");c.setNodeCategory(551,"Female Shower/Dressing Room");c.setNodeCategory(555,"Male Shower/Dressing Room");c.setNodeCategory(557,"CR(MEN)");c.setNodeCategory(504,"Firing Range");c.setNodeCategory(498,"Crime Scene Lab");c.setNodeCategory(496,"Phychological Testing Unit");c.setNodeCategory(494,"The Alternatives");c.setNodeCategory(492,"University Student Council");c.setNodeCategory(559,"Wellness Center");c.setNodeCategory(487,"Gymnasium");c.setNodeCategory(619,"Office of Quality Assurance");c.setNodeCategory(617,"Office of Student Affairs & Services");c.setNodeCategory(648,"CR(WOMEN)");c.setNodeCategory(676,"CR(WOMEN)");c.setNodeCategory(678,"CR(MEN)");c.setNodeCategory(665,"CR(WOMEN)");c.setNodeCategory(664,"CR(MEN)");c.setNodeCategory(657,"Architecture & Fine Arts Extension Office");c.setNodeCategory(921,"CR(WOMEN)");c.setNodeCategory(923,"CR(MEN)");c.setNodeCategory(911,"Office of Student Walfare Service");c.setNodeCategory(967,"Academic Director Office & Faculty Office");c.setNodeCategory(822,"CR(WOMEN)");c.setNodeCategory(821,"CR(MEN)");c.setNodeCategory(830,"Dental Clinic");c.setNodeCategory(808,"COA Consultation");c.setNodeCategory(804,"COA Faculty Office");c.setNodeCategory(806,"COA Faculty Extension Office");c.setNodeCategory(862,"Building & Maintenance Office");c.setNodeCategory(825,"Simulation Room");c.setNodeCategory(758,"CITCS Faculty Office");c.setNodeCategory(754,"Multi-Media Room");c.setNodeCategory(771,"CR(WOMEN)");c.setNodeCategory(769,"CR(MEN)");c.setNodeCategory(728,"CR(WOMEN)");c.setNodeCategory(729,"CR(MEN)");c.setNodeCategory(725,"Disbursing Office");c.setNodeCategory(720,"Accounting Office");c.setNodeCategory(716,"Vice-President for Administration Office");c.setNodeCategory(705,"BOT-HQ");c.setNodeCategory(714,"Registrar");c.setNodeCategory(722,"EVP Office");c.setNodeCategory(724,"President Office");c.setNodeCategory(1007,"Main Library");c.setNodeCategory(1014,"Marketing Communications & Enrollment");c.setNodeCategory(1015,"Human Resources dev. Office");c.setNodeCategory(1018,"Legal Office");c.setNodeCategory(1084,"Theater");c.setNodeCategory(1236,"CR(WOMEN)");c.setNodeCategory(1241,"CR(MEN)");c.setNodeCategory(1231,"CYPRESS");c.setNodeCategory(1230,"CITCS Open Lab");c.setNodeCategory(1118,"CR(WOMEN)");c.setNodeCategory(1127,"CR(MEN)");c.setNodeCategory(1109,"CAS Faculty Office");c.setNodeCategory(1112,"CAS Dean Office");c.setNodeCategory(1114,"Cashier");c.setNodeCategory(1103,"Regiatrar Extension");c.setNodeCategory(1132,"Alumni Office");c.setNodeCategory(1134,"Medical Clinic");c.setNodeCategory(1140,"Occupational Safety & Health Office");c.setNodeCategory(1148,"TRIBU");c.setNodeCategory(1144,"CR(MEN)");c.setNodeCategory(1146,"Vice-President for Academic & Research");c.setNodeCategory(1162,"CR(WOMEN)");c.setNodeCategory(1183,"CR(MEN)");c.setNodeCategory(1200,"CR(WOMEN)");c.setNodeCategory(1170,"CON Faculty Office");c.setNodeCategory(1172,"Graduate Program Library/Theses and Dissertations");c.setNodeCategory(1278,"CR(WOMEN)");c.setNodeCategory(1283,"CR(MEN)");c.setNodeCategory(1291,"Web & Graphics");c.setNodeCategory(1292,"Public Affairs Office");c.setNodeCategory(1348,"CR(WOMEN)");c.setNodeCategory(1355,"CR(MEN)");c.setNodeCategory(1349,"KAPATIRAN");c.setNodeCategory(1350,"CON Cosultation Room");c.setNodeCategory(1373,"CR(WOMEN)");c.setNodeCategory(1421,"CR(WOMEN)");c.setNodeCategory(1432,"CR(MEN)");c.setNodeCategory(1415,"Health Center");c.setNodeCategory(1445,"CHTM Faculty Office");c.setNodeCategory(1448,"CBA Admin Staff/Faculty Office");c.setNodeCategory(1451,"CBA Consultation Room");c.setNodeCategory(1449,"CBA Dean Office");c.setNodeCategory(1456,"CR(WOMEN)");c.setNodeCategory(1509,"CR(WOMEN)");c.setNodeCategory(1508,"CR(MEN)");c.setNodeCategory(1504,"Sanctuary");c.setNodeCategory(8250,"Auditorium");c.setNodeCategory(8360,"Canao Hall");c.setNodeCategory(135,"MassCom E-Laboratory");c.setNodeCategory(141,"CR(WOMEN)");c.setNodeCategory(111,"CR(MEN)");c.setNodeCategory(164,"CR(WOMEN)");c.setNodeCategory(160,"CITCS Multi-Media Room");c.setNodeCategory(191,"CR(MEN)");c.setNodeCategory(226,"CR(WOMEN)");c.setNodeCategory(220,"General Collection Library");c.setNodeCategory(241,"CR(MEN)");c.setNodeCategory(245,"COL Faculty Office");c.setNodeCategory(242,"COL Library");c.setNodeCategory(268,"CR(WOMEN)");c.setNodeCategory(293,"CR(MEN)");c.setNodeCategory(318,"CR(WOMEN)");c.setNodeCategory(1061,"CR(MEN)");c.addEdge(393,466,1);c.addEdge(420,347,1);c.addEdge(420,421,1);c.addEdge(4e3,421,1);c.addEdge(4e3,3e3,1);c.addEdge(422,421,1);c.addEdge(422,425,1);c.addEdge(424,425,1);c.addEdge(426,425,1);c.addEdge(426,427,1);c.addEdge(426,428,1);c.addEdge(429,428,1);c.addEdge(430,428,1);c.addEdge(430,431,1);c.addEdge(430,432,1);c.addEdge(430,433,1);c.addEdge(434,433,1);c.addEdge(435,433,1);c.addEdge(436,433,1);c.addEdge(436,437,1);c.addEdge(436,438,1);c.addEdge(439,438,1);c.addEdge(440,438,1);c.addEdge(440,441,1);c.addEdge(440,442,1);c.addEdge(443,442,1);c.addEdge(442,444,1);c.addEdge(445,444,1);c.addEdge(446,444,1);c.addEdge(446,447,1);c.addEdge(446,448,1);c.addEdge(446,449,1);c.addEdge(450,449,1);c.addEdge(451,449,1);c.addEdge(452,449,1);c.addEdge(452,453,1);c.addEdge(452,454,1);c.addEdge(452,455,1);c.addEdge(456,455,1);c.addEdge(456,457,1);c.addEdge(458,457,1);c.addEdge(459,457,1);c.addEdge(459,460,1);c.addEdge(459,461,1);c.addEdge(462,461,1);c.addEdge(463,461,1);c.addEdge(463,464,1);c.addEdge(465,464,1);c.addEdge(466,464,1);c.addEdge(340,14,1);c.addEdge(340,341,1);c.addEdge(342,341,1);c.addEdge(342,343,1);c.addEdge(344,343,1);c.addEdge(344,345,1);c.addEdge(344,346,1);c.addEdge(347,346,1);c.addEdge(3008,3e3,1);c.addEdge(3001,3e3,1);c.addEdge(3001,3002,1);c.addEdge(3003,3002,1);c.addEdge(3003,3007,2e3);c.addEdge(3006,3007,2e3);c.addEdge(3006,3005,1);c.addEdge(3004,3005,1);c.addEdge(348,346,1);c.addEdge(348,349,1);c.addEdge(348,350,1);c.addEdge(351,350,1);c.addEdge(352,350,1);c.addEdge(353,350,1);c.addEdge(353,354,1);c.addEdge(353,355,1);c.addEdge(356,355,1);c.addEdge(357,355,1);c.addEdge(357,358,1);c.addEdge(357,359,1);c.addEdge(360,359,1);c.addEdge(361,359,1);c.addEdge(361,362,1);c.addEdge(363,362,1);c.addEdge(364,362,1);c.addEdge(364,365,1);c.addEdge(364,366,1);c.addEdge(367,366,1);c.addEdge(368,366,1);c.addEdge(368,369,1);c.addEdge(368,370,1);c.addEdge(371,370,1);c.addEdge(372,370,1);c.addEdge(372,373,1);c.addEdge(372,374,1);c.addEdge(375,374,1);c.addEdge(376,374,1);c.addEdge(376,377,1);c.addEdge(378,377,1);c.addEdge(379,377,1);c.addEdge(376,405,1);c.addEdge(406,405,1);c.addEdge(380,405,1);c.addEdge(380,407,1);c.addEdge(381,407,1);c.addEdge(382,407,1);c.addEdge(382,383,1);c.addEdge(382,384,1);c.addEdge(380,385,1);c.addEdge(386,385,1);c.addEdge(386,387,1);c.addEdge(383,402,1);c.addEdge(390,402,1);c.addEdge(390,391,1);c.addEdge(392,391,1);c.addEdge(392,393,1);c.addEdge(394,361,5);c.addEdge(394,395,1);c.addEdge(394,396,1);c.addEdge(397,396,1);c.addEdge(398,396,1);c.addEdge(398,399,1);c.addEdge(398,400,1);c.addEdge(401,400,5);c.addEdge(414,400,1);c.addEdge(414,415,1);c.addEdge(414,410,1);c.addEdge(403,410,1);c.addEdge(411,410,1);c.addEdge(411,412,1);c.addEdge(413,412,1);c.addEdge(413,73,1);c.addEdge(403,404,1);c.addEdge(130,404,1);c.addEdge(0,85,1);c.addEdge(0,87,1);c.addEdge(88,87,1);c.addEdge(1,85,1);c.addEdge(86,85,1);c.addEdge(0,3,1);c.addEdge(3,2,1);c.addEdge(3,6,1);c.addEdge(4,6,1);c.addEdge(5,6,1);c.addEdge(7,6,1);c.addEdge(7,11,1);c.addEdge(12,11,1);c.addEdge(12,13,1);c.addEdge(7,8,1);c.addEdge(9,8,1);c.addEdge(10,8,1);c.addEdge(10,14,1);c.addEdge(10,16,1);c.addEdge(15,16,1);c.addEdge(19,16,1);c.addEdge(19,18,1);c.addEdge(19,20,1);c.addEdge(19,22,1);c.addEdge(21,22,1);c.addEdge(23,22,1);c.addEdge(24,22,1);c.addEdge(24,25,1);c.addEdge(26,25,1);c.addEdge(27,25,1);c.addEdge(24,28,1);c.addEdge(29,28,1);c.addEdge(30,28,1);c.addEdge(31,28,1);c.addEdge(31,33,1);c.addEdge(32,33,1);c.addEdge(34,33,1);c.addEdge(34,35,1);c.addEdge(34,37,1);c.addEdge(36,37,1);c.addEdge(38,37,1);c.addEdge(38,46,1);c.addEdge(38,47,1);c.addEdge(38,48,1);c.addEdge(38,39,1);c.addEdge(40,39,1);c.addEdge(41,39,1);c.addEdge(41,45,1);c.addEdge(95,45,1);c.addEdge(41,42,1);c.addEdge(43,42,1);c.addEdge(44,43,1);c.addEdge(31,49,1);c.addEdge(50,49,1);c.addEdge(51,49,1);c.addEdge(51,52,1);c.addEdge(51,53,1);c.addEdge(54,53,1);c.addEdge(55,53,1);c.addEdge(55,56,1);c.addEdge(55,57,1);c.addEdge(58,57,1);c.addEdge(58,59,1);c.addEdge(60,53,1);c.addEdge(60,61,1);c.addEdge(60,82,1);c.addEdge(63,82,1);c.addEdge(62,82,1);c.addEdge(63,65,.5);c.addEdge(66,65,1);c.addEdge(64,63,1);c.addEdge(67,65,.5);c.addEdge(67,68,1);c.addEdge(67,69,.5);c.addEdge(70,69,1);c.addEdge(71,69,1);c.addEdge(72,69,.5);c.addEdge(72,73,1);c.addEdge(72,74,.5);c.addEdge(75,74,1);c.addEdge(75,17,1);c.addEdge(99,17,1);c.addEdge(99,84,1);c.addEdge(76,74,.5);c.addEdge(77,76,1);c.addEdge(78,76,1);c.addEdge(78,79,1);c.addEdge(78,80,1);c.addEdge(81,80,1);c.addEdge(16,80,1);c.addEdge(59,94,1);c.addEdge(59,93,1);c.addEdge(401,94,1);c.addEdge(98,89,1);c.addEdge(387,89,1);c.addEdge(98,90,1);c.addEdge(98,91,1);c.addEdge(92,91,1);c.addEdge(83,90,1);c.addEdge(83,43,1);c.addEdge(38,2e3,1);c.addEdge(486,13,1);c.addEdge(480,481,1);c.addEdge(482,481,1);c.addEdge(482,483,1);c.addEdge(482,484,1);c.addEdge(505,484,1);c.addEdge(485,484,1);c.addEdge(485,486,1);c.addEdge(485,487,1);c.addEdge(488,487,1);c.addEdge(488,489,1);c.addEdge(488,490,1);c.addEdge(491,490,1);c.addEdge(491,492,1);c.addEdge(491,493,1);c.addEdge(494,493,1);c.addEdge(495,493,1);c.addEdge(495,496,1);c.addEdge(495,497,1);c.addEdge(498,497,1);c.addEdge(499,497,1);c.addEdge(499,500,1);c.addEdge(499,501,1);c.addEdge(502,501,1);c.addEdge(503,501,1);c.addEdge(503,504,1);c.addEdge(506,484,1);c.addEdge(506,507,1);c.addEdge(506,508,1);c.addEdge(506,509,1);c.addEdge(510,509,1);c.addEdge(511,509,1);c.addEdge(511,512,1);c.addEdge(513,512,1);c.addEdge(514,512,1);c.addEdge(514,515,1);c.addEdge(514,516,1);c.addEdge(514,517,1);c.addEdge(518,517,1);c.addEdge(518,519,7);c.addEdge(520,519,1);c.addEdge(521,519,1);c.addEdge(521,522,1);c.addEdge(521,523,1);c.addEdge(524,523,1);c.addEdge(525,523,1);c.addEdge(525,526,1);c.addEdge(674,526,1);c.addEdge(524,527,4);c.addEdge(528,527,1);c.addEdge(528,529,1);c.addEdge(528,485,5);c.addEdge(530,529,1);c.addEdge(531,529,1);c.addEdge(532,527,1);c.addEdge(533,527,1);c.addEdge(533,534,1);c.addEdge(534,535,1);c.addEdge(533,536,1);c.addEdge(537,536,1);c.addEdge(537,538,1);c.addEdge(539,538,1);c.addEdge(540,536,1);c.addEdge(540,541,1);c.addEdge(540,542,1);c.addEdge(543,542,1);c.addEdge(544,542,1);c.addEdge(544,545,1);c.addEdge(544,546,1);c.addEdge(547,546,1);c.addEdge(548,546,1);c.addEdge(548,549,1);c.addEdge(548,550,1);c.addEdge(551,550,1);c.addEdge(552,550,1);c.addEdge(552,553,1);c.addEdge(552,554,1);c.addEdge(555,554,1);c.addEdge(556,554,1);c.addEdge(556,557,1);c.addEdge(556,558,1);c.addEdge(559,558,1);c.addEdge(560,558,1);c.addEdge(560,561,1);c.addEdge(562,561,1);c.addEdge(562,563,1);c.addEdge(560,564,1);c.addEdge(565,564,1);c.addEdge(567,564,3);c.addEdge(567,568,1);c.addEdge(567,569,2);c.addEdge(570,569,1);c.addEdge(570,571,1);c.addEdge(570,572,3);c.addEdge(572,574,1);c.addEdge(575,574,1);c.addEdge(575,576,1);c.addEdge(572,577,1);c.addEdge(573,577,1);c.addEdge(578,577,1);c.addEdge(579,577,1);c.addEdge(579,580,1);c.addEdge(581,580,1);c.addEdge(582,580,1);c.addEdge(579,583,1);c.addEdge(584,583,1);c.addEdge(585,583,1);c.addEdge(585,586,1);c.addEdge(578,95,1);c.addEdge(541,84,1);c.addEdge(565,93,1);c.addEdge(532,155,1);c.addEdge(9e3,574,.1);c.addEdge(9e3,9001,.1);c.addEdge(9002,9001,.1);c.addEdge(9002,9003,.1);c.addEdge(9012,9003,.1);c.setNodeCategory(9003,"emergencyExit");c.addEdge(615,480,1);c.addEdge(610,611,1);c.addEdge(612,611,1);c.addEdge(612,682,1);c.addEdge(612,613,1);c.addEdge(614,613,1);c.addEdge(614,615,1);c.addEdge(614,620,5);c.addEdge(616,613,1);c.addEdge(616,617,1);c.addEdge(616,618,1);c.addEdge(619,618,1);c.addEdge(621,672,3);c.addEdge(620,672,1);c.addEdge(673,672,1);c.addEdge(673,674,1);c.addEdge(621,622,1);c.addEdge(621,623,8);c.addEdge(624,623,1);c.addEdge(625,623,.1);c.addEdge(625,626,.1);c.addEdge(625,627,.1);c.addEdge(628,627,.1);c.addEdge(675,627,.1);c.addEdge(675,676,.1);c.addEdge(675,677,.1);c.addEdge(678,677,.1);c.addEdge(629,677,.1);c.addEdge(629,737,1);c.addEdge(629,631,1);c.addEdge(632,631,1);c.addEdge(633,620,1);c.addEdge(633,634,1);c.addEdge(633,635,1);c.addEdge(636,635,1);c.addEdge(636,637,1);c.addEdge(638,637,1);c.addEdge(639,635,1);c.addEdge(639,640,1);c.addEdge(639,641,1);c.addEdge(642,641,1);c.addEdge(643,641,1);c.addEdge(643,644,1);c.addEdge(643,645,1);c.addEdge(646,645,1);c.addEdge(647,645,1);c.addEdge(647,648,1);c.addEdge(647,649,1);c.addEdge(650,649,1);c.addEdge(650,651,1);c.addEdge(652,651,1);c.addEdge(653,649,1);c.addEdge(653,654,1);c.addEdge(655,656,1);c.addEdge(657,656,1);c.addEdge(658,656,1);c.addEdge(658,659,1);c.addEdge(663,659,1);c.addEdge(663,664,1);c.addEdge(663,665,1);c.addEdge(658,660,1);c.addEdge(661,660,1);c.addEdge(661,662,1);c.addEdge(656,666,1);c.addEdge(667,666,1);c.addEdge(668,666,1);c.addEdge(668,669,1);c.addEdge(668,670,1);c.addEdge(671,670,1);c.addEdge(655,576,1);c.addEdge(654,563,1);c.addEdge(640,539,1);c.addEdge(634,180,1);c.addEdge(624,206,.1);c.addEdge(9010,660,.1);c.addEdge(9010,9011,.1);c.addEdge(9012,9011,.1);c.addEdge(9010,9013,.1);c.addEdge(9014,9013,.1);c.addEdge(9014,9015,.1);c.addEdge(9022,9015,.1);c.setNodeCategory(9002,"emergencyExit");c.setNodeCategory(9015,"emergencyExit");c.addEdge(638,906,1);c.addEdge(927,964,1);c.addEdge(662,890,1);c.addEdge(891,890,1);c.addEdge(891,892,1);c.addEdge(893,892,1);c.addEdge(894,892,1);c.addEdge(894,895,1);c.addEdge(894,896,1);c.addEdge(897,896,1);c.addEdge(891,898,1);c.addEdge(899,898,1);c.addEdge(900,898,1);c.addEdge(903,904,1);c.addEdge(903,8449,1);c.addEdge(905,904,1);c.addEdge(905,906,1);c.addEdge(905,907,1);c.addEdge(907,908,1);c.addEdge(905,910,1);c.addEdge(911,910,1);c.addEdge(912,910,1);c.addEdge(912,913,1);c.addEdge(912,914,1);c.addEdge(915,914,1);c.addEdge(915,916,1);c.addEdge(917,916,1);c.addEdge(918,916,1);c.addEdge(918,919,1);c.addEdge(918,920,1);c.addEdge(921,920,1);c.addEdge(922,920,1);c.addEdge(922,923,1);c.addEdge(922,924,1);c.addEdge(925,924,1);c.addEdge(925,926,1);c.addEdge(927,926,1);c.addEdge(928,924,1);c.addEdge(928,929,1);c.addEdge(900,9090,1);c.addEdge(9091,9090,1);c.addEdge(9020,900,.1);c.addEdge(9020,9021,.1);c.addEdge(9022,9021,.1);c.addEdge(9020,9023,.1);c.addEdge(9024,9023,.1);c.addEdge(9024,9025,.1);c.addEdge(9032,9025,.1);c.setNodeCategory(9002,"emergencyExit");c.setNodeCategory(9015,"emergencyExit");c.addEdge(950,9091,1);c.addEdge(950,951,1);c.addEdge(952,951,1);c.addEdge(952,953,1);c.addEdge(952,954,1);c.addEdge(955,954,1);c.addEdge(956,955,1);c.addEdge(957,955,1);c.addEdge(957,958,1);c.addEdge(959,954,1);c.addEdge(959,960,1);c.addEdge(959,961,1);c.addEdge(962,961,1);c.addEdge(963,961,1);c.addEdge(965,966,1);c.addEdge(967,966,1);c.addEdge(964,927,1);c.addEdge(965,908,1);c.addEdge(9030,951,.1);c.addEdge(9030,9031,.1);c.addEdge(9032,9031,.1);c.setNodeCategory(9032,"emergencyExit");c.addEdge(1002,610,1);c.addEdge(1002,1003,1);c.addEdge(1008,1003,1);c.addEdge(1008,1007,10);c.addEdge(1006,1007,10);c.addEdge(1006,1005,1);c.addEdge(1004,1003,10);c.addEdge(1004,1005,5);c.addEdge(1009,1005,1);c.addEdge(1009,1010,1);c.addEdge(710,1010,1);c.addEdge(1009,1011,1);c.addEdge(1012,1011,1);c.addEdge(1013,1011,1);c.addEdge(1013,1014,1);c.addEdge(1013,1015,1);c.addEdge(1013,1016,1);c.addEdge(1017,1016,1);c.addEdge(1017,1018,1);c.addEdge(1017,1019,1);c.addEdge(1020,1016,1);c.addEdge(1020,1021,1);c.addEdge(1022,1021,1);c.addEdge(1022,1023,1);c.addEdge(1024,1023,1);c.addEdge(1020,8510,.1);c.addEdge(8511,8510,.1);c.addEdge(8511,8512,.1);c.addEdge(8513,8510,.1);c.addEdge(8513,8514,.1);c.addEdge(8515,8514,.1);c.addEdge(8515,8516,.1);c.addEdge(8521,8516,.1);c.setNodeCategory(8512,"emergencyExit");c.setNodeCategory(8516,"emergencyExit");c.addEdge(1080,1019,1);c.addEdge(1080,1081,1);c.addEdge(1082,1081,1);c.addEdge(1082,1083,1);c.addEdge(1084,1083,1);c.addEdge(8520,1083,.1);c.addEdge(8521,8520,.1);c.setNodeCategory(8521,"emergencyExit");c.addEdge(700,207,1);c.addEdge(700,701,1);c.addEdge(702,701,1);c.addEdge(703,701,1);c.addEdge(703,704,1);c.addEdge(705,704,1);c.addEdge(706,704,1);c.addEdge(703,707,1);c.addEdge(708,707,1);c.addEdge(708,709,1);c.addEdge(710,709,1);c.addEdge(707,711,1);c.addEdge(712,711,1);c.addEdge(713,711,1);c.addEdge(713,714,1);c.addEdge(713,715,1);c.addEdge(716,715,1);c.addEdge(719,715,1);c.addEdge(719,720,1);c.addEdge(719,721,1);c.addEdge(722,721,1);c.addEdge(723,721,1);c.addEdge(723,724,1);c.addEdge(723,725,1);c.addEdge(723,726,1);c.addEdge(727,726,1);c.addEdge(727,728,1);c.addEdge(727,729,1);c.addEdge(730,726,1);c.addEdge(730,735,1);c.addEdge(731,735,1);c.addEdge(736,735,1);c.addEdge(736,737,10);c.addEdge(730,732,1);c.addEdge(733,732,1);c.addEdge(733,734,1);c.addEdge(706,8504,.1);c.addEdge(8500,8504,.1);c.addEdge(8500,8501,.1);c.addEdge(8502,8501,.1);c.addEdge(8502,8503,.1);c.addEdge(8503,8512,.1);c.setNodeCategory(8503,"emergencyExit");c.setNodeCategory(8500,"emergencyExit");c.addEdge(750,712,1);c.addEdge(750,751,1);c.addEdge(752,751,1);c.addEdge(752,753,1);c.addEdge(754,753,1);c.addEdge(755,753,1);c.addEdge(755,756,1);c.addEdge(757,753,1);c.addEdge(757,758,1);c.addEdge(757,759,1);c.addEdge(755,759,1);c.addEdge(760,759,1);c.addEdge(761,759,1);c.addEdge(761,762,1);c.addEdge(761,763,1);c.addEdge(764,763,1);c.addEdge(765,763,1);c.addEdge(765,766,1);c.addEdge(765,767,1);c.addEdge(768,767,1);c.addEdge(768,769,1);c.addEdge(768,770,1);c.addEdge(771,770,1);c.addEdge(772,770,1);c.addEdge(773,767,1);c.addEdge(774,773,1);c.addEdge(773,775,1);c.addEdge(776,775,1);c.addEdge(776,833,1);c.addEdge(777,775,1);c.addEdge(777,778,1);c.addEdge(779,778,1);c.addEdge(779,731,1);c.addEdge(772,513,1);c.setNodeCategory(864,"elevator");c.addEdge(827,88,1);c.addEdge(756,800,1);c.addEdge(801,800,1);c.addEdge(801,802,1);c.addEdge(803,802,1);c.addEdge(803,804,1);c.addEdge(803,805,1);c.addEdge(806,805,1);c.addEdge(807,805,1);c.addEdge(807,808,1);c.addEdge(807,809,1);c.addEdge(810,809,1);c.addEdge(811,809,1);c.addEdge(811,812,1);c.addEdge(811,813,1);c.addEdge(814,813,1);c.addEdge(815,813,1);c.addEdge(815,816,1);c.addEdge(815,817,1);c.addEdge(818,817,1);c.addEdge(819,817,1);c.addEdge(819,820,1);c.addEdge(821,820,1);c.addEdge(822,820,1);c.addEdge(819,823,1);c.addEdge(824,823,1);c.addEdge(825,823,1);c.addEdge(826,823,1);c.addEdge(826,827,1);c.addEdge(826,828,1);c.addEdge(829,828,1);c.addEdge(829,830,1);c.addEdge(831,828,1);c.addEdge(831,832,1);c.addEdge(833,832,1);c.addEdge(805,865,1);c.addEdge(866,865,1);c.addEdge(834,865,1);c.addEdge(834,835,1);c.addEdge(834,836,1);c.addEdge(834,837,1);c.addEdge(838,837,1);c.addEdge(839,837,1);c.addEdge(839,840,1);c.addEdge(839,841,1);c.addEdge(864,841,1);c.addEdge(842,841,1);c.addEdge(842,843,1);c.addEdge(842,844,1);c.addEdge(845,844,1);c.addEdge(845,846,5);c.addEdge(847,844,1);c.addEdge(847,848,1);c.addEdge(847,849,1);c.addEdge(850,849,1);c.addEdge(851,849,1);c.addEdge(851,855,1);c.addEdge(851,852,1);c.addEdge(853,852,1);c.addEdge(853,854,1);c.addEdge(856,855,1);c.addEdge(857,855,1);c.addEdge(857,846,5);c.addEdge(8100,855,1);c.addEdge(858,859,1);c.addEdge(858,861,1);c.addEdge(862,861,1);c.addEdge(860,8100,1);c.addEdge(858,8100,1);c.addEdge(860,8003,1);c.setNodeCategory(860,"emergencyExit");c.setNodeCategory(8003,"emergencyExit");c.addEdge(1142,1198,1);c.addEdge(1290,1198,1);c.addEdge(1290,1370,1);c.addEdge(1446,1370,1);c.addEdge(1446,1521,1);c.addEdge(1604,1521,1);c.addEdge(864,1234,1);c.addEdge(1116,1234,1);c.addEdge(1116,1165,1);c.addEdge(1276,1165,1);c.addEdge(1276,1346,1);c.addEdge(1419,1346,1);c.addEdge(1419,1506,1);c.addEdge(143,113,1);c.addEdge(166,113,1);c.addEdge(166,195,1);c.addEdge(224,195,1);c.addEdge(224,239,1);c.addEdge(264,239,1);c.addEdge(289,264,1);c.addEdge(289,314,1);c.addEdge(1046,314,1);c.setNodeCategory(143,"elevator");c.addEdge(115,149,1);c.addEdge(130,131,1);c.addEdge(132,131,1);c.addEdge(132,133,1);c.addEdge(132,134,1);c.addEdge(135,134,1);c.addEdge(136,134,1);c.addEdge(136,137,1);c.addEdge(136,138,1);c.addEdge(139,138,1);c.addEdge(140,138,1);c.addEdge(140,141,1);c.addEdge(140,142,1);c.addEdge(143,142,1);c.addEdge(144,142,1);c.addEdge(144,145,1);c.addEdge(144,146,1);c.addEdge(147,146,1);c.addEdge(147,148,1);c.addEdge(149,148,1);c.addEdge(143,113,1);c.addEdge(8400,131,.1);c.addEdge(8400,8401,.1);c.addEdge(8402,8401,.1);c.addEdge(8402,8412,.1);c.setNodeCategory(8402,"emergencyExit");c.setNodeCategory(113,"elevator");c.addEdge(77,100,1);c.addEdge(101,100,1);c.addEdge(101,102,1);c.addEdge(103,102,1);c.addEdge(104,102,1);c.addEdge(104,105,1);c.addEdge(104,106,1);c.addEdge(107,106,1);c.addEdge(108,106,1);c.addEdge(108,109,1);c.addEdge(108,110,1);c.addEdge(111,110,1);c.addEdge(112,110,1);c.addEdge(112,113,1);c.addEdge(112,114,1);c.addEdge(115,114,1);c.addEdge(116,114,1);c.addEdge(116,117,1);c.addEdge(116,118,1);c.addEdge(119,118,1);c.addEdge(119,120,1);c.addEdge(121,120,1);c.addEdge(8410,101,.1);c.addEdge(8410,8411,.1);c.addEdge(8412,8411,.1);c.addEdge(8410,8413,.1);c.addEdge(8414,8413,.1);c.addEdge(8414,8415,.1);c.addEdge(8416,8415,.1);c.addEdge(8416,8422,.1);c.setNodeCategory(8412,"emergencyExit");c.setNodeCategory(8416,"emergencyExit");c.setNodeCategory(166,"elevator");c.addEdge(168,121,1);c.addEdge(155,156,1);c.addEdge(157,156,1);c.addEdge(157,158,1);c.addEdge(157,159,1);c.addEdge(160,159,1);c.addEdge(161,159,1);c.addEdge(161,162,1);c.addEdge(161,163,1);c.addEdge(164,163,1);c.addEdge(165,163,1);c.addEdge(165,166,1);c.addEdge(165,167,1);c.addEdge(168,167,1);c.addEdge(167,169,1);c.addEdge(170,169,1);c.addEdge(171,169,1);c.addEdge(171,172,1);c.addEdge(173,172,1);c.addEdge(173,174,1);c.addEdge(8420,156,.1);c.addEdge(8420,8421,.1);c.addEdge(8422,8421,.1);c.addEdge(8423,8420,.1);c.addEdge(8423,8424,.1);c.addEdge(8425,8424,.1);c.addEdge(8425,8426,.1);c.addEdge(8432,8426,.1);c.setNodeCategory(8422,"emergencyExit");c.setNodeCategory(8426,"emergencyExit");c.setNodeCategory(195,"elevator");c.addEdge(197,174,1);c.addEdge(202,201,1);c.addEdge(200,201,1);c.addEdge(200,199,1);c.addEdge(200,199,1);c.addEdge(198,199,.5);c.addEdge(198,203,1);c.addEdge(204,203,.5);c.addEdge(208,203,1);c.addEdge(204,199,.5);c.addEdge(204,205,1);c.addEdge(206,205,1);c.addEdge(207,205,1);c.addEdge(198,196,.5);c.addEdge(197,196,1);c.addEdge(194,196,1);c.addEdge(194,195,1);c.addEdge(194,192,.5);c.addEdge(193,192,1);c.addEdge(190,192,.5);c.addEdge(190,191,1);c.addEdge(190,188,1);c.addEdge(189,188,1);c.addEdge(186,188,.5);c.addEdge(186,187,1);c.addEdge(186,184,1);c.addEdge(185,184,1);c.addEdge(182,184,.5);c.addEdge(182,183,1);c.addEdge(182,181,1);c.addEdge(181,180,1);c.addEdge(8430,181,.1);c.addEdge(8430,8431,.1);c.addEdge(8432,8431,.1);c.addEdge(8433,8430,.1);c.addEdge(8433,8434,.1);c.addEdge(8435,8434,.1);c.addEdge(8435,8436,.1);c.addEdge(8442,8436,.1);c.setNodeCategory(8447,"emergencyExit");c.setNodeCategory(8442,"emergencyExit");c.setNodeCategory(8446,"emergencyExit");c.setNodeCategory(224,"elevator");c.addEdge(202,222,1);c.addEdge(215,216,1);c.addEdge(217,216,1);c.addEdge(217,218,1);c.addEdge(219,218,1);c.addEdge(219,220,1);c.addEdge(219,221,1);c.addEdge(222,221,1);c.addEdge(223,221,1);c.addEdge(223,224,1);c.addEdge(223,225,1);c.addEdge(226,225,1);c.addEdge(220,3390,.1);c.addEdge(8448,3390,.1);c.addEdge(8448,8447,.1);c.addEdge(8449,8447,.1);c.addEdge(8440,8447,.1);c.addEdge(8440,8441,.1);c.addEdge(8442,8441,.1);c.addEdge(8443,8440,.1);c.addEdge(8443,8444,.1);c.addEdge(8445,8444,.1);c.addEdge(8445,8446,.1);c.addEdge(8452,8446,.1);c.setNodeCategory(8432,"emergencyExit");c.setNodeCategory(8436,"emergencyExit");c.setNodeCategory(239,"elevator");c.addEdge(215,237,1);c.addEdge(230,231,1);c.addEdge(232,231,1);c.addEdge(232,233,1);c.addEdge(234,233,1);c.addEdge(234,235,1);c.addEdge(234,236,1);c.addEdge(237,236,1);c.addEdge(238,236,1);c.addEdge(238,239,1);c.addEdge(238,240,1);c.addEdge(241,240,1);c.addEdge(242,240,1);c.addEdge(243,240,1);c.addEdge(243,244,1);c.addEdge(243,245,1);c.addEdge(243,246,1);c.addEdge(247,246,1);c.addEdge(8450,246,.1);c.addEdge(8450,8451,.1);c.addEdge(8452,8451,.1);c.addEdge(8453,8450,.1);c.addEdge(8453,8454,.1);c.addEdge(8455,8454,.1);c.addEdge(8455,8456,.1);c.addEdge(8462,8456,.1);c.setNodeCategory(8452,"emergencyExit");c.setNodeCategory(8456,"emergencyExit");c.setNodeCategory(264,"elevator");c.addEdge(262,230,1);c.addEdge(255,256,1);c.addEdge(257,256,1);c.addEdge(257,258,1);c.addEdge(259,258,1);c.addEdge(259,260,1);c.addEdge(259,261,1);c.addEdge(262,261,1);c.addEdge(263,261,1);c.addEdge(263,264,1);c.addEdge(263,265,1);c.addEdge(266,265,1);c.addEdge(267,265,1);c.addEdge(267,268,1);c.addEdge(267,269,1);c.addEdge(270,269,1);c.addEdge(271,269,1);c.addEdge(272,269,1);c.addEdge(272,273,1);c.addEdge(272,274,1);c.addEdge(275,274,1);c.addEdge(274,8467,.1);c.addEdge(8460,8467,.1);c.addEdge(8460,8461,.1);c.addEdge(8462,8461,.1);c.addEdge(8463,8460,.1);c.addEdge(8463,8464,.1);c.addEdge(8465,8464,.1);c.addEdge(8465,8466,.1);c.addEdge(8472,8466,.1);c.setNodeCategory(8462,"emergencyExit");c.setNodeCategory(8466,"emergencyExit");c.setNodeCategory(289,"elevator");c.addEdge(287,255,1);c.addEdge(280,281,1);c.addEdge(282,281,1);c.addEdge(282,283,1);c.addEdge(284,283,1);c.addEdge(284,285,1);c.addEdge(284,286,1);c.addEdge(287,286,1);c.addEdge(288,286,1);c.addEdge(288,289,1);c.addEdge(288,290,1);c.addEdge(290,291,1);c.addEdge(290,292,1);c.addEdge(293,292,1);c.addEdge(294,292,1);c.addEdge(294,295,1);c.addEdge(294,296,1);c.addEdge(294,297,1);c.addEdge(298,297,1);c.addEdge(299,297,1);c.addEdge(299,300,1);c.addEdge(299,8477,.1);c.addEdge(8470,8477,.1);c.addEdge(8470,8471,.1);c.addEdge(8472,8471,.1);c.addEdge(8473,8470,.1);c.addEdge(8473,8474,.1);c.addEdge(8475,8474,.1);c.addEdge(8475,8476,.1);c.addEdge(8482,8476,.1);c.setNodeCategory(8472,"emergencyExit");c.setNodeCategory(8476,"emergencyExit");c.setNodeCategory(314,"elevator");c.addEdge(312,280,1);c.addEdge(306,305,1);c.addEdge(306,307,1);c.addEdge(308,307,1);c.addEdge(308,309,1);c.addEdge(310,309,1);c.addEdge(311,309,1);c.addEdge(311,312,1);c.addEdge(311,313,1);c.addEdge(314,313,1);c.addEdge(315,313,1);c.addEdge(315,316,1);c.addEdge(315,317,1);c.addEdge(318,317,1);c.addEdge(319,317,1);c.addEdge(319,320,1);c.addEdge(319,321,1);c.addEdge(322,321,1);c.addEdge(323,321,1);c.addEdge(323,324,1);c.addEdge(323,325,1);c.addEdge(326,325,1);c.addEdge(327,325,1);c.addEdge(327,328,1);c.addEdge(327,8487,.1);c.addEdge(8480,8487,.1);c.addEdge(8480,8481,.1);c.addEdge(8482,8481,.1);c.addEdge(8483,8480,.1);c.addEdge(8483,8484,.1);c.addEdge(8485,8484,.1);c.addEdge(8485,8486,.1);c.addEdge(8492,8486,.1);c.setNodeCategory(8482,"emergencyExit");c.setNodeCategory(8486,"emergencyExit");c.setNodeCategory(1070,"elevator");c.addEdge(305,1040,1);c.addEdge(1041,1040,1);c.addEdge(1041,1042,1);c.addEdge(1043,1042,1);c.addEdge(1044,1042,1);c.addEdge(1044,1061,1);c.addEdge(1044,1045,1);c.addEdge(1046,1045,1);c.addEdge(1047,1045,1);c.addEdge(1047,1049,1);c.addEdge(1050,1049,1);c.addEdge(1051,1049,1);c.addEdge(1051,1052,1);c.addEdge(1051,1053,1);c.addEdge(1054,1053,1);c.addEdge(1054,1055,1);c.addEdge(1054,1056,1);c.addEdge(1057,1056,1);c.addEdge(1059,1056,1);c.addEdge(1059,1060,1);c.addEdge(1057,8493,.1);c.addEdge(8490,8493,.1);c.addEdge(8490,8491,.1);c.addEdge(8492,8491,.1);c.setNodeCategory(8492,"emergencyExit");c.setNodeCategory(1290,"elevator");c.setNodeCategory(1276,"elevator");c.addEdge(1260,1261,1);c.addEdge(1262,1261,1);c.addEdge(1262,1263,1);c.addEdge(1264,1263,1);c.addEdge(1264,1265,1);c.addEdge(1264,1266,1);c.addEdge(1267,1266,1);c.addEdge(1267,1178,1);c.addEdge(1268,1266,1);c.addEdge(1268,1269,1);c.addEdge(1270,1269,1);c.addEdge(1271,1269,1);c.addEdge(1272,1269,1);c.addEdge(1268,1273,1);c.addEdge(1274,1273,1);c.addEdge(1275,1273,1);c.addEdge(1275,1276,1);c.addEdge(1275,1277,1);c.addEdge(1278,1277,1);c.addEdge(1291,1277,1);c.addEdge(1292,1277,1);c.addEdge(1279,1263,1);c.addEdge(1279,1280,1);c.addEdge(1279,1281,1);c.addEdge(1279,1282,1);c.addEdge(1283,1282,1);c.addEdge(1284,1285,1);c.addEdge(1286,1285,1);c.addEdge(1286,1287,1);c.addEdge(1288,1287,1);c.addEdge(1288,1289,1);c.addEdge(1194,1289,1);c.addEdge(8220,1282,1);c.addEdge(8220,1279,1);c.addEdge(8220,8221,.1);c.addEdge(8222,8221,.1);c.addEdge(8222,8223,.1);c.addEdge(8224,8221,.1);c.addEdge(8224,8225,.1);c.addEdge(8225,8226,.1);c.addEdge(8233,8226,.1);c.addEdge(8216,8223,.1);c.addEdge(8320,8321,.1);c.addEdge(8322,8321,.1);c.addEdge(8322,8323,.1);c.addEdge(8324,8323,.1);c.addEdge(8324,8325,.1);c.addEdge(8333,8325,.1);c.setNodeCategory(8320,"emergencyExit");c.setNodeCategory(8325,"emergencyExit");c.setNodeCategory(8223,"emergencyExit");c.setNodeCategory(8226,"emergencyExit");c.setNodeCategory(1198,"elevator");c.setNodeCategory(1165,"elevator");c.addEdge(1160,1024,1);c.addEdge(1160,1161,1);c.addEdge(1162,1161,1);c.addEdge(1163,1161,1);c.addEdge(1164,1161,1);c.addEdge(1164,1165,1);c.addEdge(1164,1166,1);c.addEdge(1167,1166,1);c.addEdge(1167,1168,1);c.addEdge(1167,1169,1);c.addEdge(1167,1170,1);c.addEdge(1171,1166,1);c.addEdge(1171,1172,1);c.addEdge(1171,1173,1);c.addEdge(1174,1173,1);c.addEdge(1175,1173,1);c.addEdge(1175,1176,1);c.addEdge(1177,1176,1);c.addEdge(1177,1178,1);c.addEdge(1175,1179,1);c.addEdge(1180,1179,1);c.addEdge(1181,1179,1);c.addEdge(1182,1179,1);c.addEdge(1182,1183,1);c.addEdge(1182,1184,1);c.addEdge(1185,1184,1);c.addEdge(1185,1186,1);c.addEdge(1187,1186,1);c.addEdge(1188,1186,1);c.addEdge(1189,1186,1);c.addEdge(1189,1190,1);c.addEdge(1189,1191,1);c.addEdge(1192,1191,1);c.addEdge(1192,1193,1);c.addEdge(1194,1193,1);c.addEdge(1195,1191,1);c.addEdge(1195,1196,1);c.addEdge(1195,1197,1);c.addEdge(1198,1197,1);c.addEdge(1199,1197,1);c.addEdge(1199,1200,1);c.addEdge(1199,1201,1);c.addEdge(1199,1202,1);c.addEdge(1203,1202,1);c.addEdge(1204,1202,1);c.addEdge(1179,8210,1);c.addEdge(1182,8210,1);c.addEdge(8211,8210,.1);c.addEdge(8211,8212,.1);c.addEdge(8213,8212,.1);c.addEdge(8211,8214,.1);c.addEdge(8215,8214,.1);c.addEdge(8215,8216,.1);c.addEdge(8213,8206,.1);c.addEdge(1202,8310,.1);c.addEdge(8311,8310,.1);c.addEdge(8311,8312,.1);c.addEdge(8313,8312,.1);c.addEdge(8311,8314,.1);c.addEdge(8315,8314,.1);c.addEdge(8315,8316,.1);c.addEdge(8320,8316,.1);c.setNodeCategory(8313,"emergencyExit");c.setNodeCategory(8316,"emergencyExit");c.setNodeCategory(8213,"emergencyExit");c.setNodeCategory(8216,"emergencyExit");c.setNodeCategory(1142,"elevator");c.setNodeCategory(1116,"elevator");c.addEdge(1100,1102,1);c.addEdge(1103,1102,1);c.addEdge(1104,1102,1);c.addEdge(1104,1105,1);c.addEdge(1106,1105,1);c.addEdge(1107,1105,1);c.addEdge(1107,1108,1);c.addEdge(1109,1108,1);c.addEdge(1110,1108,1);c.addEdge(1110,1111,1);c.addEdge(1110,1112,1);c.addEdge(1107,1113,1);c.addEdge(1114,1113,1);c.addEdge(1115,1113,1);c.addEdge(1115,1116,1);c.addEdge(1115,1117,1);c.addEdge(1118,1117,1);c.addEdge(1104,1119,1);c.addEdge(1120,1119,1);c.addEdge(1120,1121,1);c.addEdge(1122,1121,1);c.addEdge(1123,1119,1);c.addEdge(1123,1124,1);c.addEdge(1123,1125,1);c.addEdge(1123,1126,1);c.addEdge(1127,1126,1);c.addEdge(1128,1126,1);c.addEdge(1128,1129,1);c.addEdge(1130,1129,1);c.addEdge(1130,1131,1);c.addEdge(1130,1132,1);c.addEdge(1130,1133,1);c.addEdge(1134,1133,1);c.addEdge(1135,1133,1);c.addEdge(1135,1136,1);c.addEdge(1137,1136,1);c.addEdge(1137,1149,1);c.addEdge(1190,1149,1);c.addEdge(1135,1138,1);c.addEdge(1139,1138,1);c.addEdge(1139,1140,1);c.addEdge(1138,1141,1);c.addEdge(1142,1141,1);c.addEdge(1143,1141,1);c.addEdge(1143,1144,1);c.addEdge(1143,1145,1);c.addEdge(1146,1145,1);c.addEdge(1147,1145,1);c.addEdge(1147,1148,1);c.addEdge(1122,1174,1);c.addEdge(8200,1126,1);c.addEdge(8200,1123,1);c.addEdge(8200,8201,.1);c.addEdge(8202,8201,.1);c.addEdge(8202,8203,.1);c.addEdge(8204,8201,.1);c.addEdge(8204,8205,.1);c.addEdge(8206,8205,.1);c.addEdge(1147,8300,.1);c.addEdge(8301,8300,.1);c.addEdge(8301,8302,.1);c.addEdge(8303,8302,.1);c.addEdge(8303,8313,.1);c.setNodeCategory(8303,"emergencyExit");c.setNodeCategory(8203,"emergencyExit");c.setNodeCategory(8206,"emergencyExit");c.setNodeCategory(1370,"elevator");c.setNodeCategory(1346,"elevator");c.addEdge(1330,1331,1);c.addEdge(1332,1331,1);c.addEdge(1332,1333,1);c.addEdge(1334,1333,1);c.addEdge(1334,1335,1);c.addEdge(1334,1336,1);c.addEdge(1337,1336,1);c.addEdge(1338,1336,1);c.addEdge(1338,1339,1);c.addEdge(1340,1339,1);c.addEdge(1341,1339,1);c.addEdge(1341,1339,1);c.addEdge(1338,1343,1);c.addEdge(1344,1343,1);c.addEdge(1343,1345,1);c.addEdge(1346,1345,1);c.addEdge(1347,1345,1);c.addEdge(1347,1348,1);c.addEdge(1347,1349,1);c.addEdge(1347,1350,1);c.addEdge(1333,1351,1);c.addEdge(1352,1351,1);c.addEdge(1353,1351,1);c.addEdge(1354,1351,1);c.addEdge(1354,1355,1);c.addEdge(1356,1354,1);c.addEdge(1356,1357,1);c.addEdge(1358,1357,1);c.addEdge(1358,1359,1);c.addEdge(1358,1360,1);c.addEdge(1358,1361,1);c.addEdge(1362,1361,1);c.addEdge(1363,1361,1);c.addEdge(1363,1364,1);c.addEdge(1365,1364,1);c.addEdge(1365,1366,1);c.addEdge(1363,1367,1);c.addEdge(1368,1367,1);c.addEdge(1369,1367,1);c.addEdge(1369,1370,1);c.addEdge(1369,1371,1);c.addEdge(1372,1371,1);c.addEdge(1373,1371,1);c.addEdge(1374,1371,1);c.addEdge(1374,1375,1);c.addEdge(1374,1376,1);c.addEdge(1337,1260,1);c.addEdge(1362,1284,1);c.addEdge(8230,1354,.1);c.addEdge(8230,1351,.1);c.addEdge(8230,8231,.1);c.addEdge(8232,8231,.1);c.addEdge(8232,8233,.1);c.addEdge(8234,8231,.1);c.addEdge(8234,8235,.1);c.addEdge(8236,8235,.1);c.addEdge(8236,8243,.1);c.addEdge(8330,1374,.1);c.addEdge(8330,8331,.1);c.addEdge(8332,8331,.1);c.addEdge(8332,8333,.1);c.addEdge(8334,8331,.1);c.addEdge(8334,8335,.1);c.addEdge(8336,8335,.1);c.addEdge(8336,8343,.1);c.setNodeCategory(8333,"emergencyExit");c.setNodeCategory(8336,"emergencyExit");c.setNodeCategory(8233,"emergencyExit");c.setNodeCategory(8236,"emergencyExit");c.setNodeCategory(1446,"elevator");c.setNodeCategory(1419,"elevator");c.addEdge(1366,1453,1);c.addEdge(1330,1410,1);c.addEdge(1452,1410,1);c.addEdge(1452,1411,1);c.addEdge(1412,1411,1);c.addEdge(1412,1413,1);c.addEdge(1412,1414,1);c.addEdge(1412,1415,1);c.addEdge(1416,1411,1);c.addEdge(1416,1417,1);c.addEdge(1416,1418,1);c.addEdge(1419,1418,1);c.addEdge(1420,1418,1);c.addEdge(1420,1421,1);c.addEdge(1420,1422,1);c.addEdge(1423,1422,1);c.addEdge(1423,1424,1);c.addEdge(1425,1424,1);c.addEdge(1452,1426,1);c.addEdge(1427,1426,1);c.addEdge(1428,1426,1);c.addEdge(1428,1429,1);c.addEdge(1428,1430,1);c.addEdge(1428,1431,1);c.addEdge(1432,1431,1);c.addEdge(1433,1431,1);c.addEdge(1433,1434,1);c.addEdge(1435,1434,1);c.addEdge(1435,1436,1);c.addEdge(1435,1437,1);c.addEdge(1435,1438,1);c.addEdge(1453,1438,1);c.addEdge(1439,1438,1);c.addEdge(1439,1440,1);c.addEdge(1441,1440,1);c.addEdge(1442,1441,1);c.addEdge(1439,1443,1);c.addEdge(1444,1443,1);c.addEdge(1444,1445,1);c.addEdge(1444,1454,1);c.addEdge(1446,1454,1);c.addEdge(1455,1454,1);c.addEdge(1455,1456,1);c.addEdge(1455,1447,1);c.addEdge(1448,1447,1);c.addEdge(1449,1447,1);c.addEdge(1450,1447,1);c.addEdge(1451,1450,1);c.addEdge(8240,1431,.1);c.addEdge(8240,1428,.1);c.addEdge(8240,8241,.1);c.addEdge(8242,8241,.1);c.addEdge(8242,8243,.1);c.addEdge(8241,8244,.1);c.addEdge(8245,8244,.1);c.addEdge(8245,8246,.1);c.addEdge(8257,8246,.1);c.addEdge(8340,1450,.1);c.addEdge(8340,8341,.1);c.addEdge(8342,8341,.1);c.addEdge(8342,8343,.1);c.addEdge(8344,8341,.1);c.addEdge(8344,8345,.1);c.addEdge(8346,8345,.1);c.addEdge(8346,8353,.1);c.setNodeCategory(8246,"emergencyExit");c.setNodeCategory(8243,"emergencyExit");c.setNodeCategory(1506,"elevator");c.setNodeCategory(1521,"elevator");c.addEdge(1425,1500,1);c.addEdge(1442,1515,1);c.addEdge(1501,1500,1);c.addEdge(1501,1502,1);c.addEdge(1503,1502,1);c.addEdge(1504,1502,1);c.addEdge(1501,1505,1);c.addEdge(1506,1505,1);c.addEdge(1507,1505,1);c.addEdge(1507,1508,1);c.addEdge(1507,1509,1);c.addEdge(1510,1511,1);c.addEdge(1512,1511,1);c.addEdge(1512,1513,1);c.addEdge(1514,1513,1);c.addEdge(1516,1513,1);c.addEdge(1514,1515,1);c.addEdge(1517,1516,1);c.addEdge(1517,1514,1);c.addEdge(1517,1518,1);c.addEdge(1519,1516,1);c.addEdge(1519,1520,1);c.addEdge(1519,1521,1);c.addEdge(1519,1522,1);c.addEdge(1523,1522,1);c.addEdge(1524,1522,1);c.addEdge(1524,1525,1);c.addEdge(8257,8256,.1);c.addEdge(8255,8256,.1);c.addEdge(8255,8254,.1);c.addEdge(8253,8254,.1);c.addEdge(8253,8252,.1);c.addEdge(8251,8252,.1);c.addEdge(8261,8251,.1);c.addEdge(8261,8250,.1);c.addEdge(1503,8260,.1);c.addEdge(8250,8260,.1);c.addEdge(8350,1524,.1);c.addEdge(8350,8351,.1);c.addEdge(8352,8351,.1);c.addEdge(8352,8353,.1);c.addEdge(8354,8351,.1);c.addEdge(8354,8355,.1);c.addEdge(8356,8355,.1);c.addEdge(8356,8363,.1);c.setNodeCategory(8353,"emergencyExit");c.setNodeCategory(8356,"emergencyExit");c.setNodeCategory(8257,"emergencyExit");c.setNodeCategory(1234,"elevator");c.addEdge(1220,1106,1);c.addEdge(1220,1221,1);c.addEdge(1222,1221,1);c.addEdge(1222,1223,1);c.addEdge(1224,1223,1);c.addEdge(1224,1225,1);c.addEdge(1224,1226,1);c.addEdge(1227,1226,1);c.addEdge(1227,1228,1);c.addEdge(1227,1229,1);c.addEdge(1230,1229,1);c.addEdge(1231,1229,1);c.addEdge(1232,1226,1);c.addEdge(1233,1226,1);c.addEdge(1233,1234,1);c.addEdge(1233,1235,1);c.addEdge(1236,1235,1);c.addEdge(1237,1223,1);c.addEdge(1237,1239,1);c.addEdge(1237,1238,1);c.addEdge(1237,1240,1);c.addEdge(1241,1240,1);c.addEdge(1242,1240,1);c.addEdge(1242,1243,1);c.addEdge(854,1225,1);c.addEdge(1237,8e3,1);c.addEdge(1240,8e3,1);c.addEdge(8001,8e3,.1);c.addEdge(8001,8002,.1);c.addEdge(8003,8002,.1);c.addEdge(8001,8004,.1);c.addEdge(8005,8004,.1);c.addEdge(8005,8006,.1);c.addEdge(8203,8006,.1);c.setNodeCategory(8003,"emergencyExit");c.setNodeCategory(8006,"emergencyExit");c.setNodeCategory(1604,"elevator");c.addEdge(1600,1510,1);c.addEdge(1600,1601,1);c.addEdge(1602,1601,1);c.addEdge(1602,1603,1);c.addEdge(1604,1603,1);c.addEdge(8360,1603,.1);c.addEdge(8360,8361,.1);c.addEdge(8362,8361,.1);c.addEdge(8362,8363,.1);c.setNodeCategory(8363,"emergencyExit");c.addEdge(1700,1701,1);c.addEdge(1702,1701,1);c.addEdge(1702,86,1);c.addEdge(1700,1703,1);c.addEdge(1704,1703,1);c.addEdge(1704,3004,1);for(let t=0;t<=99;t++)c.setNodeBuilding(t,"science2ndFloor");for(let t=340;t<=419;t++)c.setNodeBuilding(t,"science1stFloor");for(let t=3e3;t<=3999;t++)c.setNodeBuilding(t,"science1stFloor");for(let t=480;t<=600;t++)c.setNodeBuilding(t,"science3rdFloor");for(let t=610;t<=690;t++)c.setNodeBuilding(t,"science4thFloor");for(let t=700;t<=740;t++)c.setNodeBuilding(t,"main4thFloor");for(let t=750;t<=790;t++)c.setNodeBuilding(t,"main3rdFloor");for(let t=800;t<=880;t++)c.setNodeBuilding(t,"main2ndFloor");for(let t=890;t<=940;t++)c.setNodeBuilding(t,"science5thFloor");for(let t=950;t<=980;t++)c.setNodeBuilding(t,"science6thFloor");for(let t=1e3;t<=1030;t++)c.setNodeBuilding(t,"main5thFloor");for(let t=1080;t<=1090;t++)c.setNodeBuilding(t,"main6thFloor");for(let t=1160;t<=1210;t++)c.setNodeBuilding(t,"CHTMEDS5thFloor");for(let t=1100;t<=1159;t++)c.setNodeBuilding(t,"CHTMEDS4thFloor");for(let t=1260;t<=1320;t++)c.setNodeBuilding(t,"CHTMEDS6thFloor");for(let t=1330;t<=1400;t++)c.setNodeBuilding(t,"CHTMEDS7thFloor");for(let t=1410;t<=1480;t++)c.setNodeBuilding(t,"CHTMEDS8thFloor");c.setNodeBuilding(8360,"CHTM10thFloor");c.setNodeBuilding(8250,"CHTMEDS9thFloor");for(let t=1500;t<=1550;t++)c.setNodeBuilding(t,"CHTMEDS9thFloor");for(let t=1220;t<=1250;t++)c.setNodeBuilding(t,"EDS3rdFloor");for(let t=1600;t<=1650;t++)c.setNodeBuilding(t,"EDS10thFloor");for(let t=420;t<=480;t++)c.setNodeBuilding(t,"scienceGroundFloor");for(let t=126;t<=150;t++)c.setNodeBuilding(t,"BRS1stFloor");for(let t=100;t<=125;t++)c.setNodeBuilding(t,"BRS2ndFloor");for(let t=155;t<=175;t++)c.setNodeBuilding(t,"BRS3rdFloor");for(let t=175;t<=210;t++)c.setNodeBuilding(t,"BRS4thFloor");for(let t=215;t<=229;t++)c.setNodeBuilding(t,"BRS5thFloor");for(let t=230;t<=250;t++)c.setNodeBuilding(t,"BRS6thFloor");for(let t=255;t<=279;t++)c.setNodeBuilding(t,"BRS7thFloor");for(let t=280;t<=300;t++)c.setNodeBuilding(t,"BRS8thFloor");for(let t=305;t<=330;t++)c.setNodeBuilding(t,"BRS9thFloor");for(let t=1040;t<=1060;t++)c.setNodeBuilding(t,"BRS10thFloor");for(let t=1600;t<=1670;t++)c.setNodeBuilding(t,"CHTM10thFloor");for(let t=1700;t<=1710;t++)c.setNodeBuilding(t,"mainGroundFloor");var Cn;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Cn||(Cn={}));Cn.QR_CODE,Cn.AZTEC,Cn.CODABAR,Cn.CODE_39,Cn.CODE_93,Cn.CODE_128,Cn.DATA_MATRIX,Cn.MAXICODE,Cn.ITF,Cn.EAN_13,Cn.EAN_8,Cn.PDF_417,Cn.RSS_14,Cn.RSS_EXPANDED,Cn.UPC_A,Cn.UPC_E,Cn.UPC_EAN_EXTENSION;var sg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(sg||(sg={}));var lc;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(lc||(lc={}));var KE=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[lc.SCAN_TYPE_CAMERA,lc.SCAN_TYPE_FILE],t}(),lg;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(lg||(lg={}));var ag={exports:{}};(function(t,e){(function(n,s){s(e)})(Ts,function(n){function s(A){return A==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,i){A.__proto__=i}||function(A,i){for(var o in i)i.hasOwnProperty(o)&&(A[o]=i[o])};function g(A,i){d(A,i);function o(){this.constructor=A}A.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function _(A,i){var o=Object.setPrototypeOf;o?o(A,i):A.__proto__=i}function w(A,i){i===void 0&&(i=A.constructor);var o=Error.captureStackTrace;o&&o(A,i)}var v=function(A){g(i,A);function i(o){var l=this.constructor,a=A.call(this,o)||this;return Object.defineProperty(a,"name",{value:l.name,enumerable:!1}),_(a,l.prototype),w(a),a}return i}(Error);class b extends v{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}b.kind="Exception";class M extends b{}M.kind="ArgumentException";class N extends b{}N.kind="IllegalArgumentException";class F{constructor(i){if(this.binarizer=i,i===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,l,a){const u=this.binarizer.getLuminanceSource().crop(i,o,l,a);return new F(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new F(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new F(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class V extends b{static getChecksumInstance(){return new V}}V.kind="ChecksumException";class ${constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class X{static arraycopy(i,o,l,a,u){for(;u--;)l[a++]=i[o++]}static currentTimeMillis(){return Date.now()}}class Ne extends b{}Ne.kind="IndexOutOfBoundsException";class W extends Ne{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}W.kind="ArrayIndexOutOfBoundsException";class D{static fill(i,o){for(let l=0,a=i.length;l<a;l++)i[l]=o}static fillWithin(i,o,l,a){D.rangeCheck(i.length,o,l);for(let u=o;u<l;u++)i[u]=a}static rangeCheck(i,o,l){if(o>l)throw new N("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new W(o);if(l>i)throw new W(l)}static asList(...i){return i}static create(i,o,l){return Array.from({length:i}).map(u=>Array.from({length:o}).fill(l))}static createInt32Array(i,o,l){return Array.from({length:i}).map(u=>Int32Array.from({length:o}).fill(l))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let l=0,a=i.length;l<a;l++)if(i[l]!==o[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const l of i)o=31*o+l;return o}static fillUint8Array(i,o){for(let l=0;l!==i.length;l++)i[l]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const l=new Uint8Array(o);return l.set(i),l}return i.slice(0,o)}static copyOfRange(i,o,l){const a=l-o,u=new Int32Array(a);return X.arraycopy(i,o,u,0,a),u}static binarySearch(i,o,l){l===void 0&&(l=D.numberComparator);let a=0,u=i.length-1;for(;a<=u;){const f=u+a>>1,p=l(o,i[f]);if(p>0)a=f+1;else if(p<0)u=f-1;else return f}return-a-1}static numberComparator(i,o){return i-o}}class B{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let l=31;return o=i<<16,o!==0&&(l-=16,i=o),o=i<<8,o!==0&&(l-=8,i=o),o=i<<4,o!==0&&(l-=4,i=o),o=i<<2,o!==0&&(l-=2,i=o),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=J.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=J.makeArray(i);X.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const l=this.bits;let a=Math.floor(i/32),u=l[a];u&=~((1<<(i&31))-1);const f=l.length;for(;u===0;){if(++a===f)return o;u=l[a]}const p=a*32+B.numberOfTrailingZeros(u);return p>o?o:p}getNextUnset(i){const o=this.size;if(i>=o)return o;const l=this.bits;let a=Math.floor(i/32),u=~l[a];u&=~((1<<(i&31))-1);const f=l.length;for(;u===0;){if(++a===f)return o;u=~l[a]}const p=a*32+B.numberOfTrailingZeros(u);return p>o?o:p}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new N;if(o===i)return;o--;const l=Math.floor(i/32),a=Math.floor(o/32),u=this.bits;for(let f=l;f<=a;f++){const p=f>l?0:i&31,x=(2<<(f<a?31:o&31))-(1<<p);u[f]|=x}}clear(){const i=this.bits.length,o=this.bits;for(let l=0;l<i;l++)o[l]=0}isRange(i,o,l){if(o<i||i<0||o>this.size)throw new N;if(o===i)return!0;o--;const a=Math.floor(i/32),u=Math.floor(o/32),f=this.bits;for(let p=a;p<=u;p++){const E=p>a?0:i&31,C=(2<<(p<u?31:o&31))-(1<<E)&4294967295;if((f[p]&C)!==(l?C:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new N("Sizes don't match");const o=this.bits;for(let l=0,a=o.length;l<a;l++)o[l]^=i.bits[l]}toBytes(i,o,l,a){for(let u=0;u<a;u++){let f=0;for(let p=0;p<8;p++)this.get(i)&&(f|=1<<7-p),i++;o[l+u]=f}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,a=this.bits;for(let u=0;u<l;u++){let f=a[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,i[o-u]=f}if(this.size!==l*32){const u=l*32-this.size;let f=i[0]>>>u;for(let p=1;p<l;p++){const E=i[p];f|=E<<32-u,i[p-1]=f,f=E>>>u}i[l-1]=f}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof J))return!1;const o=i;return this.size===o.size&&D.equals(this.bits,o.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let i="";for(let o=0,l=this.size;o<l;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new J(this.size,this.bits.slice())}}var Ee;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ee||(Ee={}));var ge=Ee;class K extends b{static getFormatInstance(){return new K}}K.kind="FormatException";var pe;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(pe||(pe={}));class oe{constructor(i,o,l,...a){this.valueIdentifier=i,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=a,oe.VALUE_IDENTIFIER_TO_ECI.set(i,this),oe.NAME_TO_ECI.set(l,this);const u=this.values;for(let f=0,p=u.length;f!==p;f++){const E=u[f];oe.VALUES_TO_ECI.set(E,this)}for(const f of a)oe.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new K("incorect value");const o=oe.VALUES_TO_ECI.get(i);if(o===void 0)throw new K("incorect value");return o}static getCharacterSetECIByName(i){const o=oe.NAME_TO_ECI.get(i);if(o===void 0)throw new K("incorect value");return o}equals(i){if(!(i instanceof oe))return!1;const o=i;return this.getName()===o.getName()}}oe.VALUE_IDENTIFIER_TO_ECI=new Map,oe.VALUES_TO_ECI=new Map,oe.NAME_TO_ECI=new Map,oe.Cp437=new oe(pe.Cp437,Int32Array.from([0,2]),"Cp437"),oe.ISO8859_1=new oe(pe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),oe.ISO8859_2=new oe(pe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),oe.ISO8859_3=new oe(pe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),oe.ISO8859_4=new oe(pe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),oe.ISO8859_5=new oe(pe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),oe.ISO8859_6=new oe(pe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),oe.ISO8859_7=new oe(pe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),oe.ISO8859_8=new oe(pe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),oe.ISO8859_9=new oe(pe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),oe.ISO8859_10=new oe(pe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),oe.ISO8859_11=new oe(pe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),oe.ISO8859_13=new oe(pe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),oe.ISO8859_14=new oe(pe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),oe.ISO8859_15=new oe(pe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),oe.ISO8859_16=new oe(pe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),oe.SJIS=new oe(pe.SJIS,20,"SJIS","Shift_JIS"),oe.Cp1250=new oe(pe.Cp1250,21,"Cp1250","windows-1250"),oe.Cp1251=new oe(pe.Cp1251,22,"Cp1251","windows-1251"),oe.Cp1252=new oe(pe.Cp1252,23,"Cp1252","windows-1252"),oe.Cp1256=new oe(pe.Cp1256,24,"Cp1256","windows-1256"),oe.UnicodeBigUnmarked=new oe(pe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),oe.UTF8=new oe(pe.UTF8,26,"UTF8","UTF-8"),oe.ASCII=new oe(pe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),oe.Big5=new oe(pe.Big5,28,"Big5"),oe.GB18030=new oe(pe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),oe.EUC_KR=new oe(pe.EUC_KR,30,"EUC_KR","EUC-KR");class Oe extends b{}Oe.kind="UnsupportedOperationException";class Qe{static decode(i,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!Qe.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof oe?i:oe.getCharacterSetECIByName(i)}static decodeFallback(i,o){const l=this.encodingCharacterSet(o);if(Qe.isDecodeFallbackSupported(l)){let a="";for(let u=0,f=i.length;u<f;u++){let p=i[u].toString(16);p.length<2&&(p="0"+p),a+="%"+p}return decodeURIComponent(a)}if(l.equals(oe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Oe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(oe.UTF8)||i.equals(oe.ISO8859_1)||i.equals(oe.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),a=[];for(let u=0;u<l.length;u++)a.push(l[u].charCodeAt(0));return new Uint8Array(a)}}class Ce{static castAsNonUtf8Char(i,o=null){const l=o?o.getName():this.ISO88591;return Qe.decode(new Uint8Array([i]),l)}static guessEncoding(i,o){if(o!=null&&o.get(ge.CHARACTER_SET)!==void 0)return o.get(ge.CHARACTER_SET).toString();const l=i.length;let a=!0,u=!0,f=!0,p=0,E=0,x=0,C=0,I=0,T=0,P=0,z=0,U=0,G=0,Y=0;const ue=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let he=0;he<l&&(a||u||f);he++){const ae=i[he]&255;f&&(p>0?ae&128?p--:f=!1:ae&128&&(ae&64?(p++,ae&32?(p++,ae&16?(p++,ae&8?f=!1:C++):x++):E++):f=!1)),a&&(ae>127&&ae<160?a=!1:ae>159&&(ae<192||ae===215||ae===247)&&Y++),u&&(I>0?ae<64||ae===127||ae>252?u=!1:I--:ae===128||ae===160||ae>239?u=!1:ae>160&&ae<224?(T++,z=0,P++,P>U&&(U=P)):ae>127?(I++,P=0,z++,z>G&&(G=z)):(P=0,z=0))}return f&&p>0&&(f=!1),u&&I>0&&(u=!1),f&&(ue||E+x+C>0)?Ce.UTF8:u&&(Ce.ASSUME_SHIFT_JIS||U>=3||G>=3)?Ce.SHIFT_JIS:a&&u?U===2&&T===2||Y*10>=l?Ce.SHIFT_JIS:Ce.ISO88591:a?Ce.ISO88591:u?Ce.SHIFT_JIS:f?Ce.UTF8:Ce.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let l=-1;function a(f,p,E,x,C,I){if(f==="%%")return"%";if(o[++l]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,P;switch(I){case"s":P=o[l];break;case"c":P=o[l][0];break;case"f":P=parseFloat(o[l]).toFixed(f);break;case"p":P=parseFloat(o[l]).toPrecision(f);break;case"e":P=parseFloat(o[l]).toExponential(f);break;case"x":P=parseInt(o[l]).toString(T||16);break;case"d":P=parseFloat(parseInt(o[l],T||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(T);let z=parseInt(E),U=E&&E[0]+""=="0"?"0":" ";for(;P.length<z;)P=p!==void 0?P+U:U+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,a)}static getBytes(i,o){return Qe.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}Ce.SHIFT_JIS=oe.SJIS.getName(),Ce.GB2312="GB2312",Ce.ISO88591=oe.ISO8859_1.getName(),Ce.EUC_JP="EUC_JP",Ce.UTF8=oe.UTF8.getName(),Ce.PLATFORM_DEFAULT_ENCODING=Ce.UTF8,Ce.ASSUME_SHIFT_JIS=!1;class it{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Ce.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,l){for(let a=o;o<o+l;a++)this.append(i[a]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class Ct{constructor(i,o,l,a){if(this.width=i,this.height=o,this.rowSize=l,this.bits=a,o==null&&(o=i),this.height=o,i<1||o<1)throw new N("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,l=i[0].length,a=new Ct(l,o);for(let u=0;u<o;u++){const f=i[u];for(let p=0;p<l;p++)f[p]&&a.set(p,u)}return a}static parseFromString(i,o,l){if(i===null)throw new N("stringRepresentation cannot be null");const a=new Array(i.length);let u=0,f=0,p=-1,E=0,x=0;for(;x<i.length;)if(i.charAt(x)===`
`||i.charAt(x)==="\r"){if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new N("row lengths do not match");f=u,E++}x++}else if(i.substring(x,x+o.length)===o)x+=o.length,a[u]=!0,u++;else if(i.substring(x,x+l.length)===l)x+=l.length,a[u]=!1,u++;else throw new N("illegal character encountered: "+i.substring(x));if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new N("row lengths do not match");E++}const C=new Ct(p,E);for(let I=0;I<u;I++)a[I]&&C.set(Math.floor(I%p),Math.floor(I/p));return C}get(i,o){const l=o*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new N("input matrix dimensions do not match");const o=new J(Math.floor(this.width/32)+1),l=this.rowSize,a=this.bits;for(let u=0,f=this.height;u<f;u++){const p=u*l,E=i.getRow(u,o).getBitArray();for(let x=0;x<l;x++)a[p+x]^=E[x]}}clear(){const i=this.bits,o=i.length;for(let l=0;l<o;l++)i[l]=0}setRegion(i,o,l,a){if(o<0||i<0)throw new N("Left and top must be nonnegative");if(a<1||l<1)throw new N("Height and width must be at least 1");const u=i+l,f=o+a;if(f>this.height||u>this.width)throw new N("The region must fit inside the matrix");const p=this.rowSize,E=this.bits;for(let x=o;x<f;x++){const C=x*p;for(let I=i;I<u;I++)E[C+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new J(this.width):o.clear();const l=this.rowSize,a=this.bits,u=i*l;for(let f=0;f<l;f++)o.setBulk(f*32,a[u+f]);return o}setRow(i,o){X.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let l=new J(i),a=new J(i);for(let u=0,f=Math.floor((o+1)/2);u<f;u++)l=this.getRow(u,l),a=this.getRow(o-1-u,a),l.reverse(),a.reverse(),this.setRow(u,a),this.setRow(o-1-u,l)}getEnclosingRectangle(){const i=this.width,o=this.height,l=this.rowSize,a=this.bits;let u=i,f=o,p=-1,E=-1;for(let x=0;x<o;x++)for(let C=0;C<l;C++){const I=a[x*l+C];if(I!==0){if(x<f&&(f=x),x>E&&(E=x),C*32<u){let T=0;for(;!(I<<31-T&4294967295);)T++;C*32+T<u&&(u=C*32+T)}if(C*32+31>p){let T=31;for(;!(I>>>T);)T--;C*32+T>p&&(p=C*32+T)}}}return p<u||E<f?null:Int32Array.from([u,f,p-u+1,E-f+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const a=l/i;let u=l%i*32;const f=o[l];let p=0;for(;!(f<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,a])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const a=Math.floor(l/i);let u=Math.floor(l%i)*32;const f=o[l];let p=31;for(;!(f>>>p);)p--;return u+=p,Int32Array.from([u,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Ct))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&D.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+D.hashCode(this.bits),i}toString(i="X ",o="  ",l=`
`){return this.buildToString(i,o,l)}buildToString(i,o,l){let a=new it;for(let u=0,f=this.height;u<f;u++){for(let p=0,E=this.width;p<E;p++)a.append(this.get(p,u)?i:o);a.append(l)}return a.toString()}clone(){return new Ct(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends b{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class ot extends ${constructor(i){super(i),this.luminances=ot.EMPTY,this.buckets=new Int32Array(ot.LUMINANCE_BUCKETS)}getBlackRow(i,o){const l=this.getLuminanceSource(),a=l.getWidth();o==null||o.getSize()<a?o=new J(a):o.clear(),this.initArrays(a);const u=l.getRow(i,this.luminances),f=this.buckets;for(let E=0;E<a;E++)f[(u[E]&255)>>ot.LUMINANCE_SHIFT]++;const p=ot.estimateBlackPoint(f);if(a<3)for(let E=0;E<a;E++)(u[E]&255)<p&&o.set(E);else{let E=u[0]&255,x=u[1]&255;for(let C=1;C<a-1;C++){const I=u[C+1]&255;(x*4-E-I)/2<p&&o.set(C),E=x,x=I}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight(),a=new Ct(o,l);this.initArrays(o);const u=this.buckets;for(let E=1;E<5;E++){const x=Math.floor(l*E/5),C=i.getRow(x,this.luminances),I=Math.floor(o*4/5);for(let T=Math.floor(o/5);T<I;T++){const P=C[T]&255;u[P>>ot.LUMINANCE_SHIFT]++}}const f=ot.estimateBlackPoint(u),p=i.getMatrix();for(let E=0;E<l;E++){const x=E*o;for(let C=0;C<o;C++)(p[x+C]&255)<f&&a.set(C,E)}return a}createBinarizer(i){return new ot(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let l=0;l<ot.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(i){const o=i.length;let l=0,a=0,u=0;for(let C=0;C<o;C++)i[C]>u&&(a=C,u=i[C]),i[C]>l&&(l=i[C]);let f=0,p=0;for(let C=0;C<o;C++){const I=C-a,T=i[C]*I*I;T>p&&(f=C,p=T)}if(a>f){const C=a;a=f,f=C}if(f-a<=o/16)throw new ee;let E=f-1,x=-1;for(let C=f-1;C>a;C--){const I=C-a,T=I*I*(f-C)*(l-i[C]);T>x&&(E=C,x=T)}return E<<ot.LUMINANCE_SHIFT}}ot.LUMINANCE_BITS=5,ot.LUMINANCE_SHIFT=8-ot.LUMINANCE_BITS,ot.LUMINANCE_BUCKETS=1<<ot.LUMINANCE_BITS,ot.EMPTY=Uint8ClampedArray.from([0]);class Fe extends ot{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight();if(o>=Fe.MINIMUM_DIMENSION&&l>=Fe.MINIMUM_DIMENSION){const a=i.getMatrix();let u=o>>Fe.BLOCK_SIZE_POWER;o&Fe.BLOCK_SIZE_MASK&&u++;let f=l>>Fe.BLOCK_SIZE_POWER;l&Fe.BLOCK_SIZE_MASK&&f++;const p=Fe.calculateBlackPoints(a,u,f,o,l),E=new Ct(o,l);Fe.calculateThresholdForBlock(a,u,f,o,l,p,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Fe(i)}static calculateThresholdForBlock(i,o,l,a,u,f,p){const E=u-Fe.BLOCK_SIZE,x=a-Fe.BLOCK_SIZE;for(let C=0;C<l;C++){let I=C<<Fe.BLOCK_SIZE_POWER;I>E&&(I=E);const T=Fe.cap(C,2,l-3);for(let P=0;P<o;P++){let z=P<<Fe.BLOCK_SIZE_POWER;z>x&&(z=x);const U=Fe.cap(P,2,o-3);let G=0;for(let ue=-2;ue<=2;ue++){const he=f[T+ue];G+=he[U-2]+he[U-1]+he[U]+he[U+1]+he[U+2]}const Y=G/25;Fe.thresholdBlock(i,z,I,Y,a,p)}}}static cap(i,o,l){return i<o?o:i>l?l:i}static thresholdBlock(i,o,l,a,u,f){for(let p=0,E=l*u+o;p<Fe.BLOCK_SIZE;p++,E+=u)for(let x=0;x<Fe.BLOCK_SIZE;x++)(i[E+x]&255)<=a&&f.set(o+x,l+p)}static calculateBlackPoints(i,o,l,a,u){const f=u-Fe.BLOCK_SIZE,p=a-Fe.BLOCK_SIZE,E=new Array(l);for(let x=0;x<l;x++){E[x]=new Int32Array(o);let C=x<<Fe.BLOCK_SIZE_POWER;C>f&&(C=f);for(let I=0;I<o;I++){let T=I<<Fe.BLOCK_SIZE_POWER;T>p&&(T=p);let P=0,z=255,U=0;for(let Y=0,ue=C*a+T;Y<Fe.BLOCK_SIZE;Y++,ue+=a){for(let he=0;he<Fe.BLOCK_SIZE;he++){const ae=i[ue+he]&255;P+=ae,ae<z&&(z=ae),ae>U&&(U=ae)}if(U-z>Fe.MIN_DYNAMIC_RANGE)for(Y++,ue+=a;Y<Fe.BLOCK_SIZE;Y++,ue+=a)for(let he=0;he<Fe.BLOCK_SIZE;he++)P+=i[ue+he]&255}let G=P>>Fe.BLOCK_SIZE_POWER*2;if(U-z<=Fe.MIN_DYNAMIC_RANGE&&(G=z/2,x>0&&I>0)){const Y=(E[x-1][I]+2*E[x][I-1]+E[x-1][I-1])/4;z<Y&&(G=Y)}E[x][I]=G}}return E}}Fe.BLOCK_SIZE_POWER=3,Fe.BLOCK_SIZE=1<<Fe.BLOCK_SIZE_POWER,Fe.BLOCK_SIZE_MASK=Fe.BLOCK_SIZE-1,Fe.MINIMUM_DIMENSION=Fe.BLOCK_SIZE*5,Fe.MIN_DYNAMIC_RANGE=24;class ie{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,l,a){throw new Oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Oe("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new it;for(let l=0;l<this.height;l++){const a=this.getRow(l,i);for(let u=0;u<this.width;u++){const f=a[u]&255;let p;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",o.append(p)}o.append(`
`)}return o.toString()}}class Me extends ie{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const l=this.delegate.getRow(i,o),a=this.getWidth();for(let u=0;u<a;u++)l[u]=255-(l[u]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let a=0;a<o;a++)l[a]=255-(i[a]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,l,a){return new Me(this.delegate.crop(i,o,l,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class de extends ie{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=de.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return de.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,l){const a=new Uint8ClampedArray(o*l);for(let u=0,f=0,p=i.length;u<p;u+=4,f++){let E;if(i[u+3]===0)E=255;else{const C=i[u],I=i[u+1],T=i[u+2];E=306*C+601*I+117*T+512>>10}a[f]=E}return a}getRow(i,o){if(i<0||i>=this.getHeight())throw new N("Requested row is outside the image: "+i);const l=this.getWidth(),a=i*l;return o===null?o=this.buffer.slice(a,a+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(a,a+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,l,a){return super.crop(i,o,l,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),l=o.getContext("2d"),a=i*de.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(a))*u+Math.abs(Math.sin(a))*f),E=Math.ceil(Math.abs(Math.sin(a))*u+Math.abs(Math.cos(a))*f);return o.width=p,o.height=E,l.translate(p/2,E/2),l.rotate(a),l.drawImage(this.canvas,u/-2,f/-2),this.buffer=de.makeBufferFromCanvasImageData(o),this}invert(){return new Me(this)}}de.DEGREE_TO_RADIANS=Math.PI/180;class ze{constructor(i,o,l){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ke=(globalThis||Ts||self||window||void 0)&&(globalThis||Ts||self||window||void 0).__awaiter||function(A,i,o,l){function a(u){return u instanceof o?u:new o(function(f){f(u)})}return new(o||(o=Promise))(function(u,f){function p(C){try{x(l.next(C))}catch(I){f(I)}}function E(C){try{x(l.throw(C))}catch(I){f(I)}}function x(C){C.done?u(C.value):a(C.value).then(p,E)}x((l=l.apply(A,i||[])).next())})};class je{constructor(i,o=500,l){this.reader=i,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return ke(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of i){const a=l.kind==="video"?"videoinput":l.kind;if(a!=="videoinput")continue;const u=l.deviceId||l.id,f=l.label||`Video device ${o.length+1}`,p=l.groupId,E={deviceId:u,label:f,kind:a,groupId:p};o.push(E)}return o})}getVideoInputDevices(){return ke(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ze(o.deviceId,o.label))})}findDeviceById(i){return ke(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return ke(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return ke(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const a={video:l};return yield this.decodeOnceFromConstraints(a,o)})}decodeOnceFromConstraints(i,o){return ke(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(i,o){return ke(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,o,l){return ke(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,l)})}decodeFromVideoDevice(i,o,l){return ke(this,void 0,void 0,function*(){let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const u={video:a};return yield this.decodeFromConstraints(u,o,l)})}decodeFromConstraints(i,o,l){return ke(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(a,o,l)})}decodeFromStream(i,o,l){return ke(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(a,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return ke(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((o,l)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return ke(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const l=document.getElementById(i);if(!l)throw new M(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new M(`element with id '${i}' must be an ${o} element`);return l}decodeFromImage(i,o){if(!i&&!o)throw new M("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new M("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,l){if(i===void 0&&o===void 0)throw new M("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new M("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(i){if(!i)throw new M("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new M("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=i,l}decodeFromVideoUrl(i){if(!i)throw new M("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=i,l}decodeFromVideoUrlContinuously(i,o){if(!i)throw new M("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(l,o);return l.src=i,a}_decodeOnLoadImage(i){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return ke(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return ke(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,l=!0){this._stopAsyncDecode=!1;const a=(u,f)=>{if(this._stopAsyncDecode){f(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(i);u(p)}catch(p){const E=o&&p instanceof ee,C=(p instanceof V||p instanceof K)&&l;if(E||C)return setTimeout(a,this._timeBetweenDecodingAttempts,u,f);f(p)}};return new Promise((u,f)=>a(u,f))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(i);o(a,null),setTimeout(l,this.timeBetweenScansMillis)}catch(a){o(null,a);const u=a instanceof V||a instanceof K,f=a instanceof ee;(u||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,l){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),l=new de(o),a=new Fe(l);return new F(a)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,a;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,a=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,a=i.naturalHeight||i.height)),o.style.width=l+"px",o.style.height=a+"px",o.width=l,o.height=a,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class We{constructor(i,o,l=o==null?0:8*o.length,a,u,f=X.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=l,this.resultPoints=a,this.format=u,this.timestamp=f,this.text=i,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=a,this.format=u,this.resultMetadata=null,f==null?this.timestamp=X.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(o.length+i.length);X.arraycopy(o,0,l,0,o.length),X.arraycopy(i,0,l,o.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Be;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Be||(Be={}));var te=Be,fn;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fn||(fn={}));var He=fn;class Ki{constructor(i,o,l,a,u=-1,f=-1){this.rawBytes=i,this.text=o,this.byteSegments=l,this.ecLevel=a,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class qi{exp(i){return this.expTable[i]}log(i){if(i===0)throw new N;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class Jt{constructor(i,o){if(o.length===0)throw new N;this.field=i;const l=o.length;if(l>1&&o[0]===0){let a=1;for(;a<l&&o[a]===0;)a++;a===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-a),X.arraycopy(o,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(i===1){l=0;for(let f=0,p=o.length;f!==p;f++){const E=o[f];l=qi.addOrSubtract(l,E)}return l}l=o[0];const a=o.length,u=this.field;for(let f=1;f<a;f++)l=qi.addOrSubtract(u.multiply(i,l),o[f]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){const f=o;o=l,l=f}let a=new Int32Array(l.length);const u=l.length-o.length;X.arraycopy(l,0,a,0,u);for(let f=u;f<l.length;f++)a[f]=qi.addOrSubtract(o[f-u],l[f]);return new Jt(this.field,a)}multiply(i){if(!this.field.equals(i.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,a=i.coefficients,u=a.length,f=new Int32Array(l+u-1),p=this.field;for(let E=0;E<l;E++){const x=o[E];for(let C=0;C<u;C++)f[E+C]=qi.addOrSubtract(f[E+C],p.multiply(x,a[C]))}return new Jt(p,f)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,l=this.field,a=new Int32Array(o),u=this.coefficients;for(let f=0;f<o;f++)a[f]=l.multiply(u[f],i);return new Jt(l,a)}multiplyByMonomial(i,o){if(i<0)throw new N;if(o===0)return this.field.getZero();const l=this.coefficients,a=l.length,u=new Int32Array(a+i),f=this.field;for(let p=0;p<a;p++)u[p]=f.multiply(l[p],o);return new Jt(f,u)}divide(i){if(!this.field.equals(i.field))throw new N("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new N("Divide by 0");const o=this.field;let l=o.getZero(),a=this;const u=i.getCoefficient(i.getDegree()),f=o.inverse(u);for(;a.getDegree()>=i.getDegree()&&!a.isZero();){const p=a.getDegree()-i.getDegree(),E=o.multiply(a.getCoefficient(a.getDegree()),f),x=i.multiplyByMonomial(p,E),C=o.buildMonomial(p,E);l=l.addOrSubtract(C),a=a.addOrSubtract(x)}return[l,a]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),o===0||l!==1){const a=this.field.log(l);a===0?i+="1":a===1?i+="a":(i+="a^",i+=a)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Pi extends b{}Pi.kind="ArithmeticException";class ut extends qi{constructor(i,o,l){super(),this.primitive=i,this.size=o,this.generatorBase=l;const a=new Int32Array(o);let u=1;for(let p=0;p<o;p++)a[p]=u,u*=2,u>=o&&(u^=i,u&=o-1);this.expTable=a;const f=new Int32Array(o);for(let p=0;p<o-1;p++)f[a[p]]=p;this.logTable=f,this.zero=new Jt(this,Int32Array.from([0])),this.one=new Jt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new N;if(o===0)return this.zero;const l=new Int32Array(i+1);return l[0]=o,new Jt(this,l)}inverse(i){if(i===0)throw new Pi;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}ut.AZTEC_DATA_12=new ut(4201,4096,1),ut.AZTEC_DATA_10=new ut(1033,1024,1),ut.AZTEC_DATA_6=new ut(67,64,1),ut.AZTEC_PARAM=new ut(19,16,1),ut.QR_CODE_FIELD_256=new ut(285,256,0),ut.DATA_MATRIX_FIELD_256=new ut(301,256,1),ut.AZTEC_DATA_8=ut.DATA_MATRIX_FIELD_256,ut.MAXICODE_FIELD_64=ut.AZTEC_DATA_6;class go extends b{}go.kind="ReedSolomonException";class Jn extends b{}Jn.kind="IllegalStateException";class Fi{constructor(i){this.field=i}decode(i,o){const l=this.field,a=new Jt(l,i),u=new Int32Array(o);let f=!0;for(let P=0;P<o;P++){const z=a.evaluateAt(l.exp(P+l.getGeneratorBase()));u[u.length-1-P]=z,z!==0&&(f=!1)}if(f)return;const p=new Jt(l,u),E=this.runEuclideanAlgorithm(l.buildMonomial(o,1),p,o),x=E[0],C=E[1],I=this.findErrorLocations(x),T=this.findErrorMagnitudes(C,I);for(let P=0;P<I.length;P++){const z=i.length-1-l.log(I[P]);if(z<0)throw new go("Bad error location");i[z]=ut.addOrSubtract(i[z],T[P])}}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){const P=i;i=o,o=P}const a=this.field;let u=i,f=o,p=a.getZero(),E=a.getOne();for(;f.getDegree()>=(l/2|0);){let P=u,z=p;if(u=f,p=E,u.isZero())throw new go("r_{i-1} was zero");f=P;let U=a.getZero();const G=u.getCoefficient(u.getDegree()),Y=a.inverse(G);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const ue=f.getDegree()-u.getDegree(),he=a.multiply(f.getCoefficient(f.getDegree()),Y);U=U.addOrSubtract(a.buildMonomial(ue,he)),f=f.addOrSubtract(u.multiplyByMonomial(ue,he))}if(E=U.multiply(p).addOrSubtract(z),f.getDegree()>=u.getDegree())throw new Jn("Division algorithm failed to reduce polynomial?")}const x=E.getCoefficient(0);if(x===0)throw new go("sigmaTilde(0) was zero");const C=a.inverse(x),I=E.multiplyScalar(C),T=f.multiplyScalar(C);return[I,T]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(o);let a=0;const u=this.field;for(let f=1;f<u.getSize()&&a<o;f++)i.evaluateAt(f)===0&&(l[a]=u.inverse(f),a++);if(a!==o)throw new go("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,o){const l=o.length,a=new Int32Array(l),u=this.field;for(let f=0;f<l;f++){const p=u.inverse(o[f]);let E=1;for(let x=0;x<l;x++)if(f!==x){const C=u.multiply(o[x],p),I=C&1?C&-2:C|1;E=u.multiply(E,I)}a[f]=u.multiply(i.evaluateAt(p),u.inverse(E)),u.getGeneratorBase()!==0&&(a[f]=u.multiply(a[f],p))}return a}}var on;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(on||(on={}));class St{decode(i){this.ddata=i;let o=i.getBits(),l=this.extractBits(o),a=this.correctBits(l),u=St.convertBoolArrayToByteArray(a),f=St.getEncodedData(a),p=new Ki(u,f,null,null);return p.setNumBits(a.length),p}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,l=on.UPPER,a=on.UPPER,u="",f=0;for(;f<o;)if(a===on.BINARY){if(o-f<5)break;let p=St.readCode(i,f,5);if(f+=5,p===0){if(o-f<11)break;p=St.readCode(i,f,11)+31,f+=11}for(let E=0;E<p;E++){if(o-f<8){f=o;break}const x=St.readCode(i,f,8);u+=Ce.castAsNonUtf8Char(x),f+=8}a=l}else{let p=a===on.DIGIT?4:5;if(o-f<p)break;let E=St.readCode(i,f,p);f+=p;let x=St.getCharacter(a,E);x.startsWith("CTRL_")?(l=a,a=St.getTable(x.charAt(5)),x.charAt(6)==="L"&&(l=a)):(u+=x,a=l)}return u}static getTable(i){switch(i){case"L":return on.LOWER;case"P":return on.PUNCT;case"M":return on.MIXED;case"D":return on.DIGIT;case"B":return on.BINARY;case"U":default:return on.UPPER}}static getCharacter(i,o){switch(i){case on.UPPER:return St.UPPER_TABLE[o];case on.LOWER:return St.LOWER_TABLE[o];case on.MIXED:return St.MIXED_TABLE[o];case on.PUNCT:return St.PUNCT_TABLE[o];case on.DIGIT:return St.DIGIT_TABLE[o];default:throw new Jn("Bad table")}}correctBits(i){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=ut.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=ut.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=ut.AZTEC_DATA_10):(l=12,o=ut.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),u=i.length/l;if(u<a)throw new K;let f=i.length%l,p=new Int32Array(u);for(let T=0;T<u;T++,f+=l)p[T]=St.readCode(i,f,l);try{new Fi(o).decode(p,u-a)}catch(T){throw new K(T)}let E=(1<<l)-1,x=0;for(let T=0;T<a;T++){let P=p[T];if(P===0||P===E)throw new K;(P===1||P===E-1)&&x++}let C=new Array(a*l-x),I=0;for(let T=0;T<a;T++){let P=p[T];if(P===1||P===E-1)C.fill(P>1,I,I+l-1),I+=l-1;else for(let z=l-1;z>=0;--z)C[I++]=(P&1<<z)!==0}return C}extractBits(i){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),a=(o?11:14)+l*4,u=new Int32Array(a),f=new Array(this.totalBitsInLayer(l,o));if(o)for(let p=0;p<u.length;p++)u[p]=p;else{let p=a+1+2*B.truncDivision(B.truncDivision(a,2)-1,15),E=a/2,x=B.truncDivision(p,2);for(let C=0;C<E;C++){let I=C+B.truncDivision(C,15);u[E-C-1]=x-I-1,u[E+C]=x+I+1}}for(let p=0,E=0;p<l;p++){let x=(l-p)*4+(o?9:12),C=p*2,I=a-1-C;for(let T=0;T<x;T++){let P=T*2;for(let z=0;z<2;z++)f[E+P+z]=i.get(u[C+z],u[C+T]),f[E+2*x+P+z]=i.get(u[C+T],u[I-z]),f[E+4*x+P+z]=i.get(u[I-z],u[I-T]),f[E+6*x+P+z]=i.get(u[I-T],u[C+z])}E+=x*8}return f}static readCode(i,o,l){let a=0;for(let u=o;u<o+l;u++)a<<=1,i[u]&&(a|=1);return a}static readByte(i,o){let l=i.length-o;return l>=8?St.readCode(i,o,8):St.readCode(i,o,l)<<8-l}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let l=0;l<o.length;l++)o[l]=St.readByte(i,8*l);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ht{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,l,a){const u=i-l,f=o-a;return Math.sqrt(u*u+f*f)}static sum(i){let o=0;for(let l=0,a=i.length;l!==a;l++){const u=i[l];o+=u}return o}}class To{static floatToIntBits(i){return i}}To.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Se){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*To.floatToIntBits(this.x)+To.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),a=this.distance(i[0],i[2]);let u,f,p;if(l>=o&&l>=a?(f=i[0],u=i[1],p=i[2]):a>=l&&a>=o?(f=i[1],u=i[0],p=i[2]):(f=i[2],u=i[0],p=i[1]),this.crossProductZ(u,f,p)<0){const E=u;u=p,p=E}i[0]=u,i[1]=f,i[2]=p}static distance(i,o){return ht.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,l){const a=o.x,u=o.y;return(l.x-a)*(i.y-u)-(l.y-u)*(i.x-a)}}class po{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Mr extends po{constructor(i,o,l,a,u){super(i,o),this.compact=l,this.nbDatablocks=a,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class wi{constructor(i,o,l,a){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=wi.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),a==null&&(a=i.getHeight()/2|0);const u=o/2|0;if(this.leftInit=l-u,this.rightInit=l+u,this.upInit=a-u,this.downInit=a+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let i=this.leftInit,o=this.rightInit,l=this.upInit,a=this.downInit,u=!1,f=!0,p=!1,E=!1,x=!1,C=!1,I=!1;const T=this.width,P=this.height;for(;f;){f=!1;let z=!0;for(;(z||!E)&&o<T;)z=this.containsBlackPoint(l,a,o,!1),z?(o++,f=!0,E=!0):E||o++;if(o>=T){u=!0;break}let U=!0;for(;(U||!x)&&a<P;)U=this.containsBlackPoint(i,o,a,!0),U?(a++,f=!0,x=!0):x||a++;if(a>=P){u=!0;break}let G=!0;for(;(G||!C)&&i>=0;)G=this.containsBlackPoint(l,a,i,!1),G?(i--,f=!0,C=!0):C||i--;if(i<0){u=!0;break}let Y=!0;for(;(Y||!I)&&l>=0;)Y=this.containsBlackPoint(i,o,l,!0),Y?(l--,f=!0,I=!0):I||l--;if(l<0){u=!0;break}f&&(p=!0)}if(!u&&p){const z=o-i;let U=null;for(let he=1;U===null&&he<z;he++)U=this.getBlackPointOnSegment(i,a-he,i+he,a);if(U==null)throw new ee;let G=null;for(let he=1;G===null&&he<z;he++)G=this.getBlackPointOnSegment(i,l+he,i+he,l);if(G==null)throw new ee;let Y=null;for(let he=1;Y===null&&he<z;he++)Y=this.getBlackPointOnSegment(o,l+he,o-he,l);if(Y==null)throw new ee;let ue=null;for(let he=1;ue===null&&he<z;he++)ue=this.getBlackPointOnSegment(o,a-he,o-he,a);if(ue==null)throw new ee;return this.centerEdges(ue,U,Y,G)}else throw new ee}getBlackPointOnSegment(i,o,l,a){const u=ht.round(ht.distance(i,o,l,a)),f=(l-i)/u,p=(a-o)/u,E=this.image;for(let x=0;x<u;x++){const C=ht.round(i+x*f),I=ht.round(o+x*p);if(E.get(C,I))return new Se(C,I)}return null}centerEdges(i,o,l,a){const u=i.getX(),f=i.getY(),p=o.getX(),E=o.getY(),x=l.getX(),C=l.getY(),I=a.getX(),T=a.getY(),P=wi.CORR;return u<this.width/2?[new Se(I-P,T+P),new Se(p+P,E+P),new Se(x-P,C-P),new Se(u+P,f-P)]:[new Se(I+P,T+P),new Se(p+P,E-P),new Se(x-P,C+P),new Se(u-P,f-P)]}containsBlackPoint(i,o,l,a){const u=this.image;if(a){for(let f=i;f<=o;f++)if(u.get(f,l))return!0}else for(let f=i;f<=o;f++)if(u.get(l,f))return!0;return!1}}wi.INIT_SIZE=10,wi.CORR=1;class Pr{static checkAndNudgePoints(i,o){const l=i.getWidth(),a=i.getHeight();let u=!0;for(let f=0;f<o.length&&u;f+=2){const p=Math.floor(o[f]),E=Math.floor(o[f+1]);if(p<-1||p>l||E<-1||E>a)throw new ee;u=!1,p===-1?(o[f]=0,u=!0):p===l&&(o[f]=l-1,u=!0),E===-1?(o[f+1]=0,u=!0):E===a&&(o[f+1]=a-1,u=!0)}u=!0;for(let f=o.length-2;f>=0&&u;f-=2){const p=Math.floor(o[f]),E=Math.floor(o[f+1]);if(p<-1||p>l||E<-1||E>a)throw new ee;u=!1,p===-1?(o[f]=0,u=!0):p===l&&(o[f]=l-1,u=!0),E===-1?(o[f+1]=0,u=!0):E===a&&(o[f+1]=a-1,u=!0)}}}class kn{constructor(i,o,l,a,u,f,p,E,x){this.a11=i,this.a21=o,this.a31=l,this.a12=a,this.a22=u,this.a32=f,this.a13=p,this.a23=E,this.a33=x}static quadrilateralToQuadrilateral(i,o,l,a,u,f,p,E,x,C,I,T,P,z,U,G){const Y=kn.quadrilateralToSquare(i,o,l,a,u,f,p,E);return kn.squareToQuadrilateral(x,C,I,T,P,z,U,G).times(Y)}transformPoints(i){const o=i.length,l=this.a11,a=this.a12,u=this.a13,f=this.a21,p=this.a22,E=this.a23,x=this.a31,C=this.a32,I=this.a33;for(let T=0;T<o;T+=2){const P=i[T],z=i[T+1],U=u*P+E*z+I;i[T]=(l*P+f*z+x)/U,i[T+1]=(a*P+p*z+C)/U}}transformPointsWithValues(i,o){const l=this.a11,a=this.a12,u=this.a13,f=this.a21,p=this.a22,E=this.a23,x=this.a31,C=this.a32,I=this.a33,T=i.length;for(let P=0;P<T;P++){const z=i[P],U=o[P],G=u*z+E*U+I;i[P]=(l*z+f*U+x)/G,o[P]=(a*z+p*U+C)/G}}static squareToQuadrilateral(i,o,l,a,u,f,p,E){const x=i-l+u-p,C=o-a+f-E;if(x===0&&C===0)return new kn(l-i,u-l,i,a-o,f-a,o,0,0,1);{const I=l-u,T=p-u,P=a-f,z=E-f,U=I*z-T*P,G=(x*z-T*C)/U,Y=(I*C-x*P)/U;return new kn(l-i+G*l,p-i+Y*p,i,a-o+G*a,E-o+Y*E,o,G,Y,1)}}static quadrilateralToSquare(i,o,l,a,u,f,p,E){return kn.squareToQuadrilateral(i,o,l,a,u,f,p,E).buildAdjoint()}buildAdjoint(){return new kn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new kn(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Fr extends Pr{sampleGrid(i,o,l,a,u,f,p,E,x,C,I,T,P,z,U,G,Y,ue,he){const ae=kn.quadrilateralToQuadrilateral(a,u,f,p,E,x,C,I,T,P,z,U,G,Y,ue,he);return this.sampleGridWithTransform(i,o,l,ae)}sampleGridWithTransform(i,o,l,a){if(o<=0||l<=0)throw new ee;const u=new Ct(o,l),f=new Float32Array(2*o);for(let p=0;p<l;p++){const E=f.length,x=p+.5;for(let C=0;C<E;C+=2)f[C]=C/2+.5,f[C+1]=x;a.transformPoints(f),Pr.checkAndNudgePoints(i,f);try{for(let C=0;C<E;C+=2)i.get(Math.floor(f[C]),Math.floor(f[C+1]))&&u.set(C/2,p)}catch{throw new ee}}return u}}class vi{static setGridSampler(i){vi.gridSampler=i}static getInstance(){return vi.gridSampler}}vi.gridSampler=new Fr;class En{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new Se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ft{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(i){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let a=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),u=this.getMatrixCornerPoints(l);return new Mr(a,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ee;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(l,o);let a=0;for(let f=0;f<4;f++){let p=l[(this.shift+f)%4];this.compact?(a<<=7,a+=p>>1&127):(a<<=10,a+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,o){let l=0;i.forEach((a,u,f)=>{let p=(a>>o-2<<1)+(a&1);l=(l<<3)+p}),l=((l&1)<<11)+(l>>1);for(let a=0;a<4;a++)if(B.bitCount(l^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new ee}getCorrectedParameterData(i,o){let l,a;o?(l=7,a=2):(l=10,a=4);let u=l-a,f=new Int32Array(l);for(let E=l-1;E>=0;--E)f[E]=i&15,i>>=4;try{new Fi(ut.AZTEC_PARAM).decode(f,u)}catch{throw new ee}let p=0;for(let E=0;E<a;E++)p=(p<<4)+f[E];return p}getBullsEyeCorners(i){let o=i,l=i,a=i,u=i,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(o,f,1,-1),T=this.getFirstDifferent(l,f,1,1),P=this.getFirstDifferent(a,f,-1,1),z=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(z,I)*this.nbCenterLayers/(this.distancePoint(u,o)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(I,T,P,z))break}o=I,l=T,a=P,u=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let p=new Se(o.getX()+.5,o.getY()-.5),E=new Se(l.getX()+.5,l.getY()+.5),x=new Se(a.getX()-.5,a.getY()+.5),C=new Se(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,E,x,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,l,a;try{let p=new wi(this.image).detect();i=p[0],o=p[1],l=p[2],a=p[3]}catch{let E=this.image.getWidth()/2,x=this.image.getHeight()/2;i=this.getFirstDifferent(new En(E+7,x-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new En(E+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new En(E-7,x+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new En(E-7,x-7),!1,-1,-1).toResultPoint()}let u=ht.round((i.getX()+a.getX()+o.getX()+l.getX())/4),f=ht.round((i.getY()+a.getY()+o.getY()+l.getY())/4);try{let p=new wi(this.image,15,u,f).detect();i=p[0],o=p[1],l=p[2],a=p[3]}catch{i=this.getFirstDifferent(new En(u+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new En(u+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new En(u-7,f+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new En(u-7,f-7),!1,-1,-1).toResultPoint()}return u=ht.round((i.getX()+a.getX()+o.getX()+l.getX())/4),f=ht.round((i.getY()+a.getY()+o.getY()+l.getY())/4),new En(u,f)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,l,a,u){let f=vi.getInstance(),p=this.getDimension(),E=p/2-this.nbCenterLayers,x=p/2+this.nbCenterLayers;return f.sampleGrid(i,p,p,E,E,x,E,x,x,E,x,o.getX(),o.getY(),l.getX(),l.getY(),a.getX(),a.getY(),u.getX(),u.getY())}sampleLine(i,o,l){let a=0,u=this.distanceResultPoint(i,o),f=u/l,p=i.getX(),E=i.getY(),x=f*(o.getX()-i.getX())/u,C=f*(o.getY()-i.getY())/u;for(let I=0;I<l;I++)this.image.get(ht.round(p+I*x),ht.round(E+I*C))&&(a|=1<<l-I-1);return a}isWhiteOrBlackRectangle(i,o,l,a){let u=3;i=new En(i.getX()-u,i.getY()+u),o=new En(o.getX()-u,o.getY()-u),l=new En(l.getX()+u,l.getY()-u),a=new En(a.getX()+u,a.getY()+u);let f=this.getColor(a,i);if(f===0)return!1;let p=this.getColor(i,o);return p!==f||(p=this.getColor(o,l),p!==f)?!1:(p=this.getColor(l,a),p===f)}getColor(i,o){let l=this.distancePoint(i,o),a=(o.getX()-i.getX())/l,u=(o.getY()-i.getY())/l,f=0,p=i.getX(),E=i.getY(),x=this.image.get(i.getX(),i.getY()),C=Math.ceil(l);for(let T=0;T<C;T++)p+=a,E+=u,this.image.get(ht.round(p),ht.round(E))!==x&&f++;let I=f/l;return I>.1&&I<.9?0:I<=.1===x?1:-1}getFirstDifferent(i,o,l,a){let u=i.getX()+l,f=i.getY()+a;for(;this.isValid(u,f)&&this.image.get(u,f)===o;)u+=l,f+=a;for(u-=l,f-=a;this.isValid(u,f)&&this.image.get(u,f)===o;)u+=l;for(u-=l;this.isValid(u,f)&&this.image.get(u,f)===o;)f+=a;return f-=a,new En(u,f)}expandSquare(i,o,l){let a=l/(2*o),u=i[0].getX()-i[2].getX(),f=i[0].getY()-i[2].getY(),p=(i[0].getX()+i[2].getX())/2,E=(i[0].getY()+i[2].getY())/2,x=new Se(p+a*u,E+a*f),C=new Se(p-a*u,E-a*f);u=i[1].getX()-i[3].getX(),f=i[1].getY()-i[3].getY(),p=(i[1].getX()+i[3].getX())/2,E=(i[1].getY()+i[3].getY())/2;let I=new Se(p+a*u,E+a*f),T=new Se(p-a*u,E-a*f);return[x,I,C,T]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=ht.round(i.getX()),l=ht.round(i.getY());return this.isValid(o,l)}distancePoint(i,o){return ht.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return ht.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Ro{decode(i,o=null){let l=null,a=new ft(i.getBlackMatrix()),u=null,f=null;try{let C=a.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(o,u),f=new St().decode(C)}catch(C){l=C}if(f==null)try{let C=a.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(o,u),f=new St().decode(C)}catch(C){throw l??C}let p=new We(f.getText(),f.getRawBytes(),f.getNumBits(),u,te.AZTEC,X.currentTimeMillis()),E=f.getByteSegments();E!=null&&p.putMetadata(He.BYTE_SEGMENTS,E);let x=f.getECLevel();return x!=null&&p.putMetadata(He.ERROR_CORRECTION_LEVEL,x),p}reportFoundResultPoints(i,o){if(i!=null){let l=i.get(ge.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((a,u,f)=>{l.foundPossibleResultPoint(a)})}}reset(){}}class Es extends je{constructor(i=500){super(new Ro,i)}}class Xt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(ge.TRY_HARDER)===!0&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),f=this.doDecode(u,o),p=f.getResultMetadata();let E=270;p!==null&&p.get(He.ORIENTATION)===!0&&(E=E+p.get(He.ORIENTATION)%360),f.putMetadata(He.ORIENTATION,E);const x=f.getResultPoints();if(x!==null){const C=u.getHeight();for(let I=0;I<x.length;I++)x[I]=new Se(C-x[I].getY()-1,x[I].getX())}return f}else throw new ee}}reset(){}doDecode(i,o){const l=i.getWidth(),a=i.getHeight();let u=new J(l);const f=o&&o.get(ge.TRY_HARDER)===!0,p=Math.max(1,a>>(f?8:5));let E;f?E=a:E=15;const x=Math.trunc(a/2);for(let C=0;C<E;C++){const I=Math.trunc((C+1)/2),T=(C&1)===0,P=x+p*(T?I:-I);if(P<0||P>=a)break;try{u=i.getBlackRow(P,u)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(u.reverse(),o&&o.get(ge.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;o.forEach((G,Y)=>U.set(Y,G)),U.delete(ge.NEED_RESULT_POINT_CALLBACK),o=U}try{const U=this.decodeRow(P,u,o);if(z===1){U.putMetadata(He.ORIENTATION,180);const G=U.getResultPoints();G!==null&&(G[0]=new Se(l-G[0].getX()-1,G[0].getY()),G[1]=new Se(l-G[1].getX()-1,G[1].getY()))}return U}catch{}}}throw new ee}static recordPattern(i,o,l){const a=l.length;for(let x=0;x<a;x++)l[x]=0;const u=i.getSize();if(o>=u)throw new ee;let f=!i.get(o),p=0,E=o;for(;E<u;){if(i.get(E)!==f)l[p]++;else{if(++p===a)break;l[p]=1,f=!f}E++}if(!(p===a||p===a-1&&E===u))throw new ee}static recordPatternInReverse(i,o,l){let a=l.length,u=i.get(o);for(;o>0&&a>=0;)i.get(--o)!==u&&(a--,u=!u);if(a>=0)throw new ee;Xt.recordPattern(i,o+1,l)}static patternMatchVariance(i,o,l){const a=i.length;let u=0,f=0;for(let x=0;x<a;x++)u+=i[x],f+=o[x];if(u<f)return Number.POSITIVE_INFINITY;const p=u/f;l*=p;let E=0;for(let x=0;x<a;x++){const C=i[x],I=o[x]*p,T=C>I?C-I:I-C;if(T>l)return Number.POSITIVE_INFINITY;E+=T}return E/u}}class me extends Xt{static findStartPattern(i){const o=i.getSize(),l=i.getNextSet(0);let a=0,u=Int32Array.from([0,0,0,0,0,0]),f=l,p=!1;const E=6;for(let x=l;x<o;x++)if(i.get(x)!==p)u[a]++;else{if(a===E-1){let C=me.MAX_AVG_VARIANCE,I=-1;for(let T=me.CODE_START_A;T<=me.CODE_START_C;T++){const P=Xt.patternMatchVariance(u,me.CODE_PATTERNS[T],me.MAX_INDIVIDUAL_VARIANCE);P<C&&(C=P,I=T)}if(I>=0&&i.isRange(Math.max(0,f-(x-f)/2),f,!1))return Int32Array.from([f,x,I]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[a-1]=0,u[a]=0,a--}else a++;u[a]=1,p=!p}throw new ee}static decodeCode(i,o,l){Xt.recordPattern(i,l,o);let a=me.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<me.CODE_PATTERNS.length;f++){const p=me.CODE_PATTERNS[f],E=this.patternMatchVariance(o,p,me.MAX_INDIVIDUAL_VARIANCE);E<a&&(a=E,u=f)}if(u>=0)return u;throw new ee}decodeRow(i,o,l){const a=l&&l.get(ge.ASSUME_GS1)===!0,u=me.findStartPattern(o),f=u[2];let p=0;const E=new Uint8Array(20);E[p++]=f;let x;switch(f){case me.CODE_START_A:x=me.CODE_CODE_A;break;case me.CODE_START_B:x=me.CODE_CODE_B;break;case me.CODE_START_C:x=me.CODE_CODE_C;break;default:throw new K}let C=!1,I=!1,T="",P=u[0],z=u[1];const U=Int32Array.from([0,0,0,0,0,0]);let G=0,Y=0,ue=f,he=0,ae=!0,lt=!1,qe=!1;for(;!C;){const Ui=I;switch(I=!1,G=Y,Y=me.decodeCode(o,U,z),E[p++]=Y,Y!==me.CODE_STOP&&(ae=!0),Y!==me.CODE_STOP&&(he++,ue+=he*Y),P=z,z+=U.reduce((nu,lr)=>nu+lr,0),Y){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new K}switch(x){case me.CODE_CODE_A:if(Y<64)qe===lt?T+=String.fromCharCode(32+Y):T+=String.fromCharCode(32+Y+128),qe=!1;else if(Y<96)qe===lt?T+=String.fromCharCode(Y-64):T+=String.fromCharCode(Y+64),qe=!1;else switch(Y!==me.CODE_STOP&&(ae=!1),Y){case me.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!lt&&qe?(lt=!0,qe=!1):lt&&qe?(lt=!1,qe=!1):qe=!0;break;case me.CODE_SHIFT:I=!0,x=me.CODE_CODE_B;break;case me.CODE_CODE_B:x=me.CODE_CODE_B;break;case me.CODE_CODE_C:x=me.CODE_CODE_C;break;case me.CODE_STOP:C=!0;break}break;case me.CODE_CODE_B:if(Y<96)qe===lt?T+=String.fromCharCode(32+Y):T+=String.fromCharCode(32+Y+128),qe=!1;else switch(Y!==me.CODE_STOP&&(ae=!1),Y){case me.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!lt&&qe?(lt=!0,qe=!1):lt&&qe?(lt=!1,qe=!1):qe=!0;break;case me.CODE_SHIFT:I=!0,x=me.CODE_CODE_A;break;case me.CODE_CODE_A:x=me.CODE_CODE_A;break;case me.CODE_CODE_C:x=me.CODE_CODE_C;break;case me.CODE_STOP:C=!0;break}break;case me.CODE_CODE_C:if(Y<100)Y<10&&(T+="0"),T+=Y;else switch(Y!==me.CODE_STOP&&(ae=!1),Y){case me.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case me.CODE_CODE_A:x=me.CODE_CODE_A;break;case me.CODE_CODE_B:x=me.CODE_CODE_B;break;case me.CODE_STOP:C=!0;break}break}Ui&&(x=x===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const Kt=z-P;if(z=o.getNextUnset(z),!o.isRange(z,Math.min(o.getSize(),z+(z-P)/2),!1))throw new ee;if(ue-=he*G,ue%103!==G)throw new V;const Vn=T.length;if(Vn===0)throw new ee;Vn>0&&ae&&(x===me.CODE_CODE_C?T=T.substring(0,Vn-2):T=T.substring(0,Vn-1));const Gn=(u[1]+u[0])/2,It=P+Kt/2,vn=E.length,Zn=new Uint8Array(vn);for(let Ui=0;Ui<vn;Ui++)Zn[Ui]=E[Ui];const sr=[new Se(Gn,i),new Se(It,i)];return new We(T,Zn,0,sr,te.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class en extends Xt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,l){let a=this.counters;a.fill(0),this.decodeRowResult="";let u=en.findAsteriskPattern(o,a),f=o.getNextSet(u[1]),p=o.getSize(),E,x;do{en.recordPattern(o,f,a);let U=en.toNarrowWidePattern(a);if(U<0)throw new ee;E=en.patternToChar(U),this.decodeRowResult+=E,x=f;for(let G of a)f+=G;f=o.getNextSet(f)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let U of a)C+=U;let I=f-x-C;if(f!==p&&I*2<C)throw new ee;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,G=0;for(let Y=0;Y<U;Y++)G+=en.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(U)!==en.ALPHABET_STRING.charAt(G%43))throw new V;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new ee;let T;this.extendedMode?T=en.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let P=(u[1]+u[0])/2,z=x+C/2;return new We(T,null,0,[new Se(P,i),new Se(z,i)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let l=i.getSize(),a=i.getNextSet(0),u=0,f=a,p=!1,E=o.length;for(let x=a;x<l;x++)if(i.get(x)!==p)o[u]++;else{if(u===E-1){if(this.toNarrowWidePattern(o)===en.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=o[0]+o[1],o.copyWithin(0,2,2+u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new ee}static toNarrowWidePattern(i){let o=i.length,l=0,a;do{let u=2147483647;for(let E of i)E<u&&E>l&&(u=E);l=u,a=0;let f=0,p=0;for(let E=0;E<o;E++){let x=i[E];x>l&&(p|=1<<o-1-E,a++,f+=x)}if(a===3){for(let E=0;E<o&&a>0;E++){let x=i[E];if(x>l&&(a--,x*2>=f))return-1}return p}}while(a>3);return-1}static patternToChar(i){for(let o=0;o<en.CHARACTER_ENCODINGS.length;o++)if(en.CHARACTER_ENCODINGS[o]===i)return en.ALPHABET_STRING.charAt(o);if(i===en.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(i){let o=i.length,l="";for(let a=0;a<o;a++){let u=i.charAt(a);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=i.charAt(a+1),p="\0";switch(u){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new K;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new K;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="";else throw new K;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new K;break}l+=p,a++}else l+=u}return l}}en.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",en.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],en.ASTERISK_ENCODING=148;class Tt extends Xt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,l){let a=this.decodeStart(o),u=this.decodeEnd(o),f=new it;Tt.decodeMiddle(o,a[1],u[0],f);let p=f.toString(),E=null;l!=null&&(E=l.get(ge.ALLOWED_LENGTHS)),E==null&&(E=Tt.DEFAULT_ALLOWED_LENGTHS);let x=p.length,C=!1,I=0;for(let z of E){if(x===z){C=!0;break}z>I&&(I=z)}if(!C&&x>I&&(C=!0),!C)throw new K;const T=[new Se(a[1],i),new Se(u[0],i)];return new We(p,null,0,T,te.ITF,new Date().getTime())}static decodeMiddle(i,o,l,a){let u=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),f.fill(0),p.fill(0);o<l;){Xt.recordPattern(i,o,u);for(let x=0;x<5;x++){let C=2*x;f[x]=u[C],p[x]=u[C+1]}let E=Tt.decodeDigit(f);a.append(E.toString()),E=this.decodeDigit(p),a.append(E.toString()),u.forEach(function(x){o+=x})}}decodeStart(i){let o=Tt.skipWhiteSpace(i),l=Tt.findGuardPattern(i,o,Tt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let a=o-1;l>0&&a>=0&&!i.get(a);a--)l--;if(l!==0)throw new ee}static skipWhiteSpace(i){const o=i.getSize(),l=i.getNextSet(0);if(l===o)throw new ee;return l}decodeEnd(i){i.reverse();try{let o=Tt.skipWhiteSpace(i),l;try{l=Tt.findGuardPattern(i,o,Tt.END_PATTERN_REVERSED[0])}catch(u){u instanceof ee&&(l=Tt.findGuardPattern(i,o,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let a=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-a,l}finally{i.reverse()}}static findGuardPattern(i,o,l){let a=l.length,u=new Int32Array(a),f=i.getSize(),p=!1,E=0,x=o;u.fill(0);for(let C=o;C<f;C++)if(i.get(C)!==p)u[E]++;else{if(E===a-1){if(Xt.patternMatchVariance(u,l,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[x,C];x+=u[0]+u[1],X.arraycopy(u,2,u,0,E-1),u[E-1]=0,u[E]=0,E--}else E++;u[E]=1,p=!p}throw new ee}static decodeDigit(i){let o=Tt.MAX_AVG_VARIANCE,l=-1,a=Tt.PATTERNS.length;for(let u=0;u<a;u++){let f=Tt.PATTERNS[u],p=Xt.patternMatchVariance(i,f,Tt.MAX_INDIVIDUAL_VARIANCE);p<o?(o=p,l=u):p===o&&(l=-1)}if(l>=0)return l%10;throw new ee}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Rt extends Xt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,l,a=0,u=Int32Array.from([0,0,0]);for(;!o;){u=Int32Array.from([0,0,0]),l=Rt.findGuardPattern(i,a,!1,this.START_END_PATTERN,u);let f=l[0];a=l[1];let p=f-(a-f);p>=0&&(o=i.isRange(p,f,!1))}return l}static checkChecksum(i){return Rt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return Rt.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let a=o-1;a>=0;a-=2){let u=i.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new K;l+=u}l*=3;for(let a=o-2;a>=0;a-=2){let u=i.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new K;l+=u}return(1e3-l)%10}static decodeEnd(i,o){return Rt.findGuardPattern(i,o,!1,Rt.START_END_PATTERN,new Int32Array(Rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,l,a){return this.findGuardPattern(i,o,l,a,new Int32Array(a.length))}static findGuardPattern(i,o,l,a,u){let f=i.getSize();o=l?i.getNextUnset(o):i.getNextSet(o);let p=0,E=o,x=a.length,C=l;for(let I=o;I<f;I++)if(i.get(I)!==C)u[p]++;else{if(p===x-1){if(Xt.patternMatchVariance(u,a,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return Int32Array.from([E,I]);E+=u[0]+u[1];let T=u.slice(2,u.length-1);for(let P=0;P<p-1;P++)u[P]=T[P];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,C=!C}throw new ee}static decodeDigit(i,o,l,a){this.recordPattern(i,l,o);let u=this.MAX_AVG_VARIANCE,f=-1,p=a.length;for(let E=0;E<p;E++){let x=a[E],C=Xt.patternMatchVariance(o,x,Rt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,f=E)}if(f>=0)return f;throw new ee}}Rt.MAX_AVG_VARIANCE=.48,Rt.MAX_INDIVIDUAL_VARIANCE=.7,Rt.START_END_PATTERN=Int32Array.from([1,1,1]),Rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class mo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let a=this.decodeRowStringBuffer,u=this.decodeMiddle(o,l,a),f=a.toString(),p=mo.parseExtensionString(f),E=[new Se((l[0]+l[1])/2,i),new Se(u,i)],x=new We(f,null,0,E,te.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(i,o,l){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),f=o[1],p=0;for(let x=0;x<5&&f<u;x++){let C=Rt.decodeDigit(i,a,f,Rt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let I of a)f+=I;C>=10&&(p|=1<<4-x),x!==4&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==5)throw new ee;let E=this.determineCheckDigit(p);if(mo.extensionChecksum(l.toString())!==E)throw new ee;return f}static extensionChecksum(i){let o=i.length,l=0;for(let a=o-2;a>=0;a-=2)l+=i.charAt(a).charCodeAt(0)-48;l*=3;for(let a=o-1;a>=0;a-=2)l+=i.charAt(a).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(i){if(i.length!==5)return null;let o=mo.parseExtension5String(i);return o==null?null:new Map([[He.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(i.substring(1)),a=(l/100).toString(),u=l%100,f=u<10?"0"+u:u.toString();return o+a+"."+f}}class $o{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let a=this.decodeRowStringBuffer,u=this.decodeMiddle(o,l,a),f=a.toString(),p=$o.parseExtensionString(f),E=[new Se((l[0]+l[1])/2,i),new Se(u,i)],x=new We(f,null,0,E,te.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(i,o,l){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),f=o[1],p=0;for(let E=0;E<2&&f<u;E++){let x=Rt.decodeDigit(i,a,f,Rt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+x%10);for(let C of a)f+=C;x>=10&&(p|=1<<1-E),E!==1&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==2)throw new ee;if(parseInt(l.toString())%4!==p)throw new ee;return f}static parseExtensionString(i){return i.length!==2?null:new Map([[He.ISSUE_NUMBER,parseInt(i)]])}}class Dr{static decodeRow(i,o,l){let a=Rt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new mo().decodeRow(i,o,a)}catch{return new $o().decodeRow(i,o,a)}}}Dr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class gt extends Rt{constructor(){super(),this.decodeRowStringBuffer="",gt.L_AND_G_PATTERNS=gt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=gt.L_PATTERNS[i-10],l=new Int32Array(o.length);for(let a=0;a<o.length;a++)l[a]=o[o.length-a-1];gt.L_AND_G_PATTERNS[i]=l}}decodeRow(i,o,l){let a=gt.findStartGuardPattern(o),u=l==null?null:l.get(ge.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ae=new Se((a[0]+a[1])/2,i);u.foundPossibleResultPoint(ae)}let f=this.decodeMiddle(o,a,this.decodeRowStringBuffer),p=f.rowOffset,E=f.resultString;if(u!=null){const ae=new Se(p,i);u.foundPossibleResultPoint(ae)}let x=this.decodeEnd(o,p);if(u!=null){const ae=new Se((x[0]+x[1])/2,i);u.foundPossibleResultPoint(ae)}let C=x[1],I=C+(C-x[0]);if(I>=o.getSize()||!o.isRange(C,I,!1))throw new ee;let T=E.toString();if(T.length<8)throw new K;if(!gt.checkChecksum(T))throw new V;let P=(a[1]+a[0])/2,z=(x[1]+x[0])/2,U=this.getBarcodeFormat(),G=[new Se(P,i),new Se(z,i)],Y=new We(T,null,0,G,U,new Date().getTime()),ue=0;try{let ae=Dr.decodeRow(i,o,x[1]);Y.putMetadata(He.UPC_EAN_EXTENSION,ae.getText()),Y.putAllMetadata(ae.getResultMetadata()),Y.addResultPoints(ae.getResultPoints()),ue=ae.getText().length}catch{}let he=l==null?null:l.get(ge.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ae=!1;for(let lt in he)if(ue.toString()===lt){ae=!0;break}if(!ae)throw new ee}return Y}decodeEnd(i,o){return gt.findGuardPattern(i,o,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return gt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return gt.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let a=o-1;a>=0;a-=2){let u=i.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new K;l+=u}l*=3;for(let a=o-2;a>=0;a-=2){let u=i.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new K;l+=u}return(1e3-l)%10}}class Ci extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),f=o[1],p=0;for(let x=0;x<6&&f<u;x++){let C=gt.decodeDigit(i,a,f,gt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let I of a)f+=I;C>=10&&(p|=1<<5-x)}l=Ci.determineFirstDigit(l,p),f=gt.findGuardPattern(i,f,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<u;x++){let C=gt.decodeDigit(i,a,f,gt.L_PATTERNS);l+=String.fromCharCode(48+C);for(let I of a)f+=I}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(i,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new ee}}Ci.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class kr extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),f=o[1];for(let E=0;E<4&&f<u;E++){let x=gt.decodeDigit(i,a,f,gt.L_PATTERNS);l+=String.fromCharCode(48+x);for(let C of a)f+=C}f=gt.findGuardPattern(i,f,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&f<u;E++){let x=gt.decodeDigit(i,a,f,gt.L_PATTERNS);l+=String.fromCharCode(48+x);for(let C of a)f+=C}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return te.EAN_8}}class H extends gt{constructor(){super(...arguments),this.ean13Reader=new Ci}getBarcodeFormat(){return te.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,l))}decodeMiddle(i,o,l){return this.ean13Reader.decodeMiddle(i,o,l)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let l=new We(o.substring(1),null,null,i.getResultPoints(),te.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new ee}reset(){this.ean13Reader.reset()}}class re extends gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,l){const a=this.decodeMiddleCounters.map(x=>x);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const u=i.getSize();let f=o[1],p=0;for(let x=0;x<6&&f<u;x++){const C=re.decodeDigit(i,a,f,re.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let I of a)f+=I;C>=10&&(p|=1<<5-x)}let E=re.determineNumSysAndCheckDigit(l,p);return{rowOffset:f,resultString:E}}decodeEnd(i,o){return re.findGuardPatternWithoutCounters(i,o,!0,re.MIDDLE_END_PATTERN)}checkChecksum(i){return gt.checkChecksum(re.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let l=0;l<=1;l++)for(let a=0;a<10;a++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][a]){let u=String.fromCharCode(48+l),f=String.fromCharCode(48+a);return u+i+f}throw ee.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),l=new it;l.append(i.charAt(0));let a=o[5];switch(a){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(a),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(a);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}re.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),re.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ie extends Xt{constructor(i){super();let o=i==null?null:i.get(ge.POSSIBLE_FORMATS),l=[];s(o)?(l.push(new Ci),l.push(new H),l.push(new kr),l.push(new re)):(o.indexOf(te.EAN_13)>-1&&l.push(new Ci),o.indexOf(te.UPC_A)>-1&&l.push(new H),o.indexOf(te.EAN_8)>-1&&l.push(new kr),o.indexOf(te.UPC_E)>-1&&l.push(new re)),this.readers=l}decodeRow(i,o,l){for(let a of this.readers)try{const u=a.decodeRow(i,o,l),f=u.getBarcodeFormat()===te.EAN_13&&u.getText().charAt(0)==="0",p=l==null?null:l.get(ge.POSSIBLE_FORMATS),E=p==null||p.includes(te.UPC_A);if(f&&E){const x=u.getRawBytes(),C=new We(u.getText().substring(1),x,x?x.length:null,u.getResultPoints(),te.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new ee}reset(){for(let i of this.readers)i.reset()}}class be extends Xt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let l=0;l<o.length;l++)if(Xt.patternMatchVariance(i,o[l],be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return l;throw new ee}static count(i){return ht.sum(new Int32Array(i))}static increment(i,o){let l=0,a=o[0];for(let u=1;u<i.length;u++)o[u]>a&&(a=o[u],l=u);i[l]++}static decrement(i,o){let l=0,a=o[0];for(let u=1;u<i.length;u++)o[u]<a&&(a=o[u],l=u);i[l]--}static isFinderPattern(i){let o=i[0]+i[1],l=o+i[2]+i[3],a=o/l;if(a>=be.MIN_FINDER_PATTERN_RATIO&&a<=be.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of i)p>f&&(f=p),p<u&&(u=p);return f<10*u}return!1}}be.MAX_AVG_VARIANCE=.2,be.MAX_INDIVIDUAL_VARIANCE=.45,be.MIN_FINDER_PATTERN_RATIO=9.5/12,be.MAX_FINDER_PATTERN_RATIO=12.5/14;class De{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof De))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wt{constructor(i,o,l,a,u){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Se(l,u)),this.resultPoints.push(new Se(a,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof wt))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class Ue{constructor(){}static getRSSvalue(i,o,l){let a=0;for(let E of i)a+=E;let u=0,f=0,p=i.length;for(let E=0;E<p-1;E++){let x;for(x=1,f|=1<<E;x<i[E];x++,f&=~(1<<E)){let C=Ue.combins(a-x-1,p-E-2);if(l&&f===0&&a-x-(p-E-1)>=p-E-1&&(C-=Ue.combins(a-x-(p-E),p-E-2)),p-E-1>1){let I=0;for(let T=a-x-(p-E-2);T>o;T--)I+=Ue.combins(a-x-T-1,p-E-3);C-=I*(p-1-E)}else a-x>o&&C--;u+=C}a-=x}return u}static combins(i,o){let l,a;i-o>o?(a=o,l=i-o):(a=i-o,l=o);let u=1,f=1;for(let p=i;p>l;p--)u*=p,f<=a&&(u/=f,f++);for(;f<=a;)u/=f,f++;return u}}class at{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let l=12*o,a=new J(l),u=0,p=i[0].getRightChar().getValue();for(let E=11;E>=0;--E)p&1<<E&&a.set(u),u++;for(let E=1;E<i.length;++E){let x=i[E],C=x.getLeftChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&a.set(u),u++;if(x.getRightChar()!=null){let I=x.getRightChar().getValue();for(let T=11;T>=0;--T)I&1<<T&&a.set(u),u++}}return a}}class Je{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Bn{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class rt extends Bn{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===rt.FNC1}}rt.FNC1="$";class ce extends Bn{constructor(i,o,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class we extends Bn{constructor(i,o,l){if(super(i),o<0||o>10||l<0||l>10)throw new K;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===we.FNC1}isSecondDigitFNC1(){return this.secondDigit===we.FNC1}isAnyFNC1(){return this.firstDigit===we.FNC1||this.secondDigit===we.FNC1}}we.FNC1=10;class ne{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ee;let o=i.substring(0,2);for(let u of ne.TWO_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(2,u[2],i):ne.processFixedAI(2,u[1],i);if(i.length<3)throw new ee;let l=i.substring(0,3);for(let u of ne.THREE_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(3,u[2],i):ne.processFixedAI(3,u[1],i);for(let u of ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,u[2],i):ne.processFixedAI(4,u[1],i);if(i.length<4)throw new ee;let a=i.substring(0,4);for(let u of ne.FOUR_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,u[2],i):ne.processFixedAI(4,u[1],i);throw new ee}static processFixedAI(i,o,l){if(l.length<i)throw new ee;let a=l.substring(0,i);if(l.length<i+o)throw new ee;let u=l.substring(i,i+o),f=l.substring(i+o),p="("+a+")"+u,E=ne.parseFieldsInGeneralPurpose(f);return E==null?p:p+E}static processVariableAI(i,o,l){let a=l.substring(0,i),u;l.length<i+o?u=l.length:u=i+o;let f=l.substring(i,u),p=l.substring(u),E="("+a+")"+f,x=ne.parseFieldsInGeneralPurpose(p);return x==null?E:E+x}}ne.VARIABLE_LENGTH=[],ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ne.VARIABLE_LENGTH,20],["22",ne.VARIABLE_LENGTH,29],["30",ne.VARIABLE_LENGTH,8],["37",ne.VARIABLE_LENGTH,8],["90",ne.VARIABLE_LENGTH,30],["91",ne.VARIABLE_LENGTH,30],["92",ne.VARIABLE_LENGTH,30],["93",ne.VARIABLE_LENGTH,30],["94",ne.VARIABLE_LENGTH,30],["95",ne.VARIABLE_LENGTH,30],["96",ne.VARIABLE_LENGTH,30],["97",ne.VARIABLE_LENGTH,3],["98",ne.VARIABLE_LENGTH,30],["99",ne.VARIABLE_LENGTH,30]],ne.THREE_DIGIT_DATA_LENGTH=[["240",ne.VARIABLE_LENGTH,30],["241",ne.VARIABLE_LENGTH,30],["242",ne.VARIABLE_LENGTH,6],["250",ne.VARIABLE_LENGTH,30],["251",ne.VARIABLE_LENGTH,30],["253",ne.VARIABLE_LENGTH,17],["254",ne.VARIABLE_LENGTH,20],["400",ne.VARIABLE_LENGTH,30],["401",ne.VARIABLE_LENGTH,30],["402",17],["403",ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ne.VARIABLE_LENGTH,20],["421",ne.VARIABLE_LENGTH,15],["422",3],["423",ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ne.VARIABLE_LENGTH,15],["391",ne.VARIABLE_LENGTH,18],["392",ne.VARIABLE_LENGTH,15],["393",ne.VARIABLE_LENGTH,18],["703",ne.VARIABLE_LENGTH,30]],ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ne.VARIABLE_LENGTH,20],["8003",ne.VARIABLE_LENGTH,30],["8004",ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ne.VARIABLE_LENGTH,30],["8008",ne.VARIABLE_LENGTH,12],["8018",18],["8020",ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ne.VARIABLE_LENGTH,70],["8200",ne.VARIABLE_LENGTH,70]];class Xe{constructor(i){this.buffer=new it,this.information=i}decodeAllCodes(i,o){let l=o,a=null;do{let u=this.decodeGeneralPurposeField(l,a),f=ne.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&i.append(f),u.isRemaining()?a=""+u.getRemainingValue():a=null,l===u.getNewPosition())break;l=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new we(this.information.getSize(),we.FNC1,we.FNC1):new we(this.information.getSize(),u-1,we.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),l=(o-8)/11,a=(o-8)%11;return new we(i+7,l,a)}extractNumericValueFromBitArray(i,o){return Xe.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,l){let a=0;for(let u=0;u<l;++u)i.get(o+u)&&(a|=1<<l-u-1);return a}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new ce(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new ce(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new ce(this.current.getPosition(),this.buffer.toString()):o=new ce(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Je(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new ce(this.current.getPosition(),this.buffer.toString());return new Je(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Je(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new ce(this.current.getPosition(),this.buffer.toString());return new Je(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Je(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new ce(this.current.getPosition(),this.buffer.toString());return new Je(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Je(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,8);return a>=232&&a<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new rt(i+5,rt.FNC1);if(o>=5&&o<15)return new rt(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new rt(i+7,""+(l+1));if(l>=90&&l<116)return new rt(i+7,""+(l+7));let a=this.extractNumericValueFromBitArray(i,8),u;switch(a){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new K}return new rt(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new rt(i+5,rt.FNC1);if(o>=5&&o<15)return new rt(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new rt(i+6,""+(l+33));let a;switch(l){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Jn("Decoding invalid alphanumeric value: "+l)}return new rt(i+6,a)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class nt{constructor(i){this.information=i,this.generalDecoder=new Xe(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Lt extends nt{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,l)}encodeCompressedGtinWithoutAI(i,o,l){for(let a=0;a<4;++a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*a,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}Lt.appendCheckDigit(i,l)}static appendCheckDigit(i,o){let l=0;for(let a=0;a<13;a++){let u=i.charAt(a+o).charCodeAt(0)-48;l+=a&1?u:3*u}l=10-l%10,l===10&&(l=0),i.append(l)}}Lt.GTIN_SIZE=40;class et extends Lt{constructor(i){super(i)}parseInformation(){let i=new it;i.append("(01)");let o=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,et.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,et.HEADER_SIZE+44)}}et.HEADER_SIZE=4;class Ye extends nt{constructor(i){super(i)}parseInformation(){let i=new it;return this.getGeneralDecoder().decodeAllCodes(i,Ye.HEADER_SIZE)}}Ye.HEADER_SIZE=5;class No extends Lt{constructor(i){super(i)}encodeCompressedWeight(i,o,l){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(i,a);let u=this.checkWeight(a),f=1e5;for(let p=0;p<5;++p)u/f===0&&i.append("0"),f/=10;i.append(u)}}class ci extends No{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=ci.HEADER_SIZE+No.GTIN_SIZE+ci.WEIGHT_SIZE)throw new ee;let i=new it;return this.encodeCompressedGtin(i,ci.HEADER_SIZE),this.encodeCompressedWeight(i,ci.HEADER_SIZE+No.GTIN_SIZE,ci.WEIGHT_SIZE),i.toString()}}ci.HEADER_SIZE=5,ci.WEIGHT_SIZE=15;class ei extends ci{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class _l extends ci{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Di extends Lt{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Di.HEADER_SIZE+Lt.GTIN_SIZE)throw new ee;let i=new it;this.encodeCompressedGtin(i,Di.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Di.HEADER_SIZE+Lt.GTIN_SIZE,Di.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Di.HEADER_SIZE+Lt.GTIN_SIZE+Di.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}Di.HEADER_SIZE=8,Di.LAST_DIGIT_SIZE=2;class In extends Lt{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<In.HEADER_SIZE+Lt.GTIN_SIZE)throw new ee;let i=new it;this.encodeCompressedGtin(i,In.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+Lt.GTIN_SIZE,In.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+Lt.GTIN_SIZE+In.LAST_DIGIT_SIZE,In.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let a=this.getGeneralDecoder().decodeGeneralPurposeField(In.HEADER_SIZE+Lt.GTIN_SIZE+In.LAST_DIGIT_SIZE+In.FIRST_THREE_DIGITS_SIZE,null);return i.append(a.getNewString()),i.toString()}}In.HEADER_SIZE=8,In.LAST_DIGIT_SIZE=2,In.FIRST_THREE_DIGITS_SIZE=10;class Ut extends No{constructor(i,o,l){super(i),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE+Ut.DATE_SIZE)throw new ee;let i=new it;return this.encodeCompressedGtin(i,Ut.HEADER_SIZE),this.encodeCompressedWeight(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE,Ut.WEIGHT_SIZE),this.encodeCompressedDate(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Ut.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let a=l%32;l/=32;let u=l%12+1;l/=12;let f=l;f/10==0&&i.append("0"),i.append(f),u/10==0&&i.append("0"),i.append(u),a/10==0&&i.append("0"),i.append(a)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}Ut.HEADER_SIZE=8,Ut.WEIGHT_SIZE=20,Ut.DATE_SIZE=16;function Br(A){try{if(A.get(1))return new et(A);if(!A.get(2))return new Ye(A);switch(Xe.extractNumericValueFromBitArray(A,1,4)){case 4:return new ei(A);case 5:return new _l(A)}switch(Xe.extractNumericValueFromBitArray(A,1,5)){case 12:return new Di(A);case 13:return new In(A)}switch(Xe.extractNumericValueFromBitArray(A,1,7)){case 56:return new Ut(A,"310","11");case 57:return new Ut(A,"320","11");case 58:return new Ut(A,"310","13");case 59:return new Ut(A,"320","13");case 60:return new Ut(A,"310","15");case 61:return new Ut(A,"320","15");case 62:return new Ut(A,"310","17");case 63:return new Ut(A,"320","17")}}catch(i){throw console.log(i),new Jn("unknown decoder: "+A)}}class _o{constructor(i,o,l,a){this.leftchar=i,this.rightchar=o,this.finderpattern=l,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof _o?_o.equalsOrNull(i.leftchar,o.leftchar)&&_o.equalsOrNull(i.rightchar,o.rightchar)&&_o.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:_o.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class El{constructor(i,o,l){this.pairs=i,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof El?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let l;return i.forEach((a,u)=>{o.forEach(f=>{a.getLeftChar().getValue()===f.getLeftChar().getValue()&&a.getRightChar().getValue()===f.getRightChar().getValue()&&a.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class se extends be{constructor(i){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,l){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(i,o))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(u){if(u instanceof ee){if(!this.pairs.length)throw new ee;l=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(i,!1),a){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ee}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let l=o;l<this.rows.length;l++){let a=this.rows[l];this.pairs.length=0;for(let f of i)this.pairs.push(f.getPairs());if(this.pairs.push(a.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(a);try{return this.checkRows(u,l+1)}catch(f){this.verbose&&console.log(f)}}throw new ee}static isValidSequence(i){for(let o of se.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let l=!0;for(let a=0;a<i.length;a++)if(i[a].getFinderPattern().getValue()!=o[a]){l=!1;break}if(l)return!0}return!1}storeRow(i,o){let l=0,a=!1,u=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>i){u=f.isEquivalent(this.pairs);break}a=f.isEquivalent(this.pairs),l++}u||a||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new El(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let l of o)if(l.getPairs().length!==i.length){for(let a of l.getPairs())for(let u of i)if(_o.equals(a,u))break}}static isPartialRow(i,o){for(let l of o){let a=!0;for(let u of i){let f=!1;for(let p of l.getPairs())if(u.equals(p)){f=!0;break}if(!f){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=at.buildBitArray(i),a=Br(o).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),f=i[i.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],f[0],f[1]];return new We(a,null,null,p,te.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let a=l.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let E=this.pairs.get(p);a+=E.getLeftChar().getChecksumPortion(),u++;let x=E.getRightChar();x!=null&&(a+=x.getChecksumPortion(),u++)}return a%=211,211*(u-4)+a==o.getValue()}static getNextSecondBar(i,o){let l;return i.get(o)?(l=i.getNextUnset(o),l=i.getNextSet(l)):(l=i.getNextSet(o),l=i.getNextUnset(l)),l}retrieveNextPair(i,o,l){let a=o.length%2==0;this.startFromEven&&(a=!a);let u,f=!0,p=-1;do this.findNextPair(i,o,p),u=this.parseFoundFinderPattern(i,l,a),u==null?p=se.getNextSecondBar(i,this.startEnd[0]):f=!1;while(f);let E=this.decodeDataCharacter(i,u,a,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let x;try{x=this.decodeDataCharacter(i,u,a,!1)}catch(C){x=null,this.verbose&&console.log(C)}return new _o(E,x,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,l){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),f;l>=0?f=l:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let p=o.length%2!=0;this.startFromEven&&(p=!p);let E=!1;for(;f<u&&(E=!i.get(f),!!E);)f++;let x=0,C=f;for(let I=f;I<u;I++)if(i.get(I)!=E)a[x]++;else{if(x==3){if(p&&se.reverseCounters(a),se.isFinderPattern(a)){this.startEnd[0]=C,this.startEnd[1]=I;return}p&&se.reverseCounters(a),C+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,E=!E}throw new ee}static reverseCounters(i){let o=i.length;for(let l=0;l<o/2;++l){let a=i[l];i[l]=i[o-l-1],i[o-l-1]=a}}parseFoundFinderPattern(i,o,l){let a,u,f;if(l){let x=this.startEnd[0]-1;for(;x>=0&&!i.get(x);)x--;x++,a=this.startEnd[0]-x,u=x,f=this.startEnd[1]}else u=this.startEnd[0],f=i.getNextUnset(this.startEnd[1]+1),a=f-this.startEnd[1];let p=this.getDecodeFinderCounters();X.arraycopy(p,0,p,1,p.length-1),p[0]=a;let E;try{E=this.parseFinderValue(p,se.FINDER_PATTERNS)}catch{return null}return new wt(E,[u,f],u,f,o)}decodeDataCharacter(i,o,l,a){let u=this.getDataCharacterCounters();for(let It=0;It<u.length;It++)u[It]=0;if(a)se.recordPatternInReverse(i,o.getStartEnd()[0],u);else{se.recordPattern(i,o.getStartEnd()[1],u);for(let It=0,vn=u.length-1;It<vn;It++,vn--){let Zn=u[It];u[It]=u[vn],u[vn]=Zn}}let f=17,p=ht.sum(new Int32Array(u))/f,E=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(p-E)/E>.3)throw new ee;let x=this.getOddCounts(),C=this.getEvenCounts(),I=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let It=0;It<u.length;It++){let vn=1*u[It]/p,Zn=vn+.5;if(Zn<1){if(vn<.3)throw new ee;Zn=1}else if(Zn>8){if(vn>8.7)throw new ee;Zn=8}let sr=It/2;It&1?(C[sr]=Zn,T[sr]=vn-Zn):(x[sr]=Zn,I[sr]=vn-Zn)}this.adjustOddEvenCounts(f);let P=4*o.getValue()+(l?0:2)+(a?0:1)-1,z=0,U=0;for(let It=x.length-1;It>=0;It--){if(se.isNotA1left(o,l,a)){let vn=se.WEIGHTS[P][2*It];U+=x[It]*vn}z+=x[It]}let G=0;for(let It=C.length-1;It>=0;It--)if(se.isNotA1left(o,l,a)){let vn=se.WEIGHTS[P][2*It+1];G+=C[It]*vn}let Y=U+G;if(z&1||z>13||z<4)throw new ee;let ue=(13-z)/2,he=se.SYMBOL_WIDEST[ue],ae=9-he,lt=Ue.getRSSvalue(x,he,!0),qe=Ue.getRSSvalue(C,ae,!1),Kt=se.EVEN_TOTAL_SUBSET[ue],Vn=se.GSUM[ue],Gn=lt*Kt+qe+Vn;return new De(Gn,Y)}static isNotA1left(i,o,l){return!(i.getValue()==0&&o&&l)}adjustOddEvenCounts(i){let o=ht.sum(new Int32Array(this.getOddCounts())),l=ht.sum(new Int32Array(this.getEvenCounts())),a=!1,u=!1;o>13?u=!0:o<4&&(a=!0);let f=!1,p=!1;l>13?p=!0:l<4&&(f=!0);let E=o+l-i,x=(o&1)==1,C=(l&1)==0;if(E==1)if(x){if(C)throw new ee;u=!0}else{if(!C)throw new ee;p=!0}else if(E==-1)if(x){if(C)throw new ee;a=!0}else{if(!C)throw new ee;f=!0}else if(E==0){if(x){if(!C)throw new ee;o<l?(a=!0,p=!0):(u=!0,f=!0)}else if(C)throw new ee}else throw new ee;if(a){if(u)throw new ee;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new ee;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class qc extends De{constructor(i,o,l){super(i,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tn extends be{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,l){const a=this.decodePair(o,!1,i,l);tn.addOrTally(this.possibleLeftPairs,a),o.reverse();let u=this.decodePair(o,!0,i,l);tn.addOrTally(this.possibleRightPairs,u),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&tn.checkChecksum(f,p))return tn.constructResult(f,p)}throw new ee}static addOrTally(i,o){if(o==null)return;let l=!1;for(let a of i)if(a.getValue()===o.getValue()){a.incrementCount(),l=!0;break}l||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let l=4537077*i.getValue()+o.getValue(),a=new String(l).toString(),u=new it;for(let x=13-a.length;x>0;x--)u.append("0");u.append(a);let f=0;for(let x=0;x<13;x++){let C=u.charAt(x).charCodeAt(0)-48;f+=x&1?C:3*C}f=10-f%10,f===10&&(f=0),u.append(f.toString());let p=i.getFinderPattern().getResultPoints(),E=o.getFinderPattern().getResultPoints();return new We(u.toString(),null,0,[p[0],p[1],E[0],E[1]],te.RSS_14,new Date().getTime())}static checkChecksum(i,o){let l=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,a=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,l===a}decodePair(i,o,l,a){try{let u=this.findFinderPattern(i,o),f=this.parseFoundFinderPattern(i,l,o,u),p=a==null?null:a.get(ge.NEED_RESULT_POINT_CALLBACK);if(p!=null){let C=(u[0]+u[1])/2;o&&(C=i.getSize()-1-C),p.foundPossibleResultPoint(new Se(C,l))}let E=this.decodeDataCharacter(i,f,!0),x=this.decodeDataCharacter(i,f,!1);return new qc(1597*E.getValue()+x.getValue(),E.getChecksumPortion()+4*x.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(i,o,l){let a=this.getDataCharacterCounters();for(let G=0;G<a.length;G++)a[G]=0;if(l)Xt.recordPatternInReverse(i,o.getStartEnd()[0],a);else{Xt.recordPattern(i,o.getStartEnd()[1]+1,a);for(let G=0,Y=a.length-1;G<Y;G++,Y--){let ue=a[G];a[G]=a[Y],a[Y]=ue}}let u=l?16:15,f=ht.sum(new Int32Array(a))/u,p=this.getOddCounts(),E=this.getEvenCounts(),x=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let G=0;G<a.length;G++){let Y=a[G]/f,ue=Math.floor(Y+.5);ue<1?ue=1:ue>8&&(ue=8);let he=Math.floor(G/2);G&1?(E[he]=ue,C[he]=Y-ue):(p[he]=ue,x[he]=Y-ue)}this.adjustOddEvenCounts(l,u);let I=0,T=0;for(let G=p.length-1;G>=0;G--)T*=9,T+=p[G],I+=p[G];let P=0,z=0;for(let G=E.length-1;G>=0;G--)P*=9,P+=E[G],z+=E[G];let U=T+3*P;if(l){if(I&1||I>12||I<4)throw new ee;let G=(12-I)/2,Y=tn.OUTSIDE_ODD_WIDEST[G],ue=9-Y,he=Ue.getRSSvalue(p,Y,!1),ae=Ue.getRSSvalue(E,ue,!0),lt=tn.OUTSIDE_EVEN_TOTAL_SUBSET[G],qe=tn.OUTSIDE_GSUM[G];return new De(he*lt+ae+qe,U)}else{if(z&1||z>10||z<4)throw new ee;let G=(10-z)/2,Y=tn.INSIDE_ODD_WIDEST[G],ue=9-Y,he=Ue.getRSSvalue(p,Y,!0),ae=Ue.getRSSvalue(E,ue,!1),lt=tn.INSIDE_ODD_TOTAL_SUBSET[G],qe=tn.INSIDE_GSUM[G];return new De(ae*lt+he+qe,U)}}findFinderPattern(i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let a=i.getSize(),u=!1,f=0;for(;f<a&&(u=!i.get(f),o!==u);)f++;let p=0,E=f;for(let x=f;x<a;x++)if(i.get(x)!==u)l[p]++;else{if(p===3){if(be.isFinderPattern(l))return[E,x];E+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,u=!u}throw new ee}parseFoundFinderPattern(i,o,l,a){let u=i.get(a[0]),f=a[0]-1;for(;f>=0&&u!==i.get(f);)f--;f++;const p=a[0]-f,E=this.getDecodeFinderCounters(),x=new Int32Array(E.length);X.arraycopy(E,0,x,1,E.length-1),x[0]=p;const C=this.parseFinderValue(x,tn.FINDER_PATTERNS);let I=f,T=a[1];return l&&(I=i.getSize()-1-I,T=i.getSize()-1-T),new wt(C,[f,a[1]],I,T,o)}adjustOddEvenCounts(i,o){let l=ht.sum(new Int32Array(this.getOddCounts())),a=ht.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,p=!1,E=!1;i?(l>12?f=!0:l<4&&(u=!0),a>12?E=!0:a<4&&(p=!0)):(l>11?f=!0:l<5&&(u=!0),a>10?E=!0:a<4&&(p=!0));let x=l+a-o,C=(l&1)===(i?1:0),I=(a&1)===1;if(x===1)if(C){if(I)throw new ee;f=!0}else{if(!I)throw new ee;E=!0}else if(x===-1)if(C){if(I)throw new ee;u=!0}else{if(!I)throw new ee;p=!0}else if(x===0){if(C){if(!I)throw new ee;l<a?(u=!0,E=!0):(f=!0,p=!0)}else if(I)throw new ee}else throw new ee;if(u){if(f)throw new ee;be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(E)throw new ee;be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tn.OUTSIDE_GSUM=[0,161,961,2015,2715],tn.INSIDE_GSUM=[0,336,1036,1516],tn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tn.INSIDE_ODD_WIDEST=[2,4,6,8],tn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Eo extends Xt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const l=i?i.get(ge.POSSIBLE_FORMATS):null,a=i&&i.get(ge.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(te.EAN_13)||l.includes(te.UPC_A)||l.includes(te.EAN_8)||l.includes(te.UPC_E))&&this.readers.push(new Ie(i)),l.includes(te.CODE_39)&&this.readers.push(new en(a)),l.includes(te.CODE_128)&&this.readers.push(new me),l.includes(te.ITF)&&this.readers.push(new Tt),l.includes(te.RSS_14)&&this.readers.push(new tn),l.includes(te.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new Ie(i)),this.readers.push(new en),this.readers.push(new Ie(i)),this.readers.push(new me),this.readers.push(new Tt),this.readers.push(new tn),this.readers.push(new se(this.verbose)))}decodeRow(i,o,l){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(i,o,l)}catch{}throw new ee}reset(){this.readers.forEach(i=>i.reset())}}class zr extends je{constructor(i=500,o){super(new Eo(o),i,o)}}class bt{constructor(i,o,l){this.ecCodewords=i,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class vt{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(i,o,l,a,u,f){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=u,this.ecBlocks=f;let p=0;const E=f.getECCodewords(),x=f.getECBlocks();for(let C of x)p+=C.getCount()*(C.getDataCodewords()+E);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new K;for(let l of tt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===o)return l;throw new K}toString(){return""+this.versionNumber}static buildVersions(){return[new tt(1,10,10,8,8,new bt(5,new vt(1,3))),new tt(2,12,12,10,10,new bt(7,new vt(1,5))),new tt(3,14,14,12,12,new bt(10,new vt(1,8))),new tt(4,16,16,14,14,new bt(12,new vt(1,12))),new tt(5,18,18,16,16,new bt(14,new vt(1,18))),new tt(6,20,20,18,18,new bt(18,new vt(1,22))),new tt(7,22,22,20,20,new bt(20,new vt(1,30))),new tt(8,24,24,22,22,new bt(24,new vt(1,36))),new tt(9,26,26,24,24,new bt(28,new vt(1,44))),new tt(10,32,32,14,14,new bt(36,new vt(1,62))),new tt(11,36,36,16,16,new bt(42,new vt(1,86))),new tt(12,40,40,18,18,new bt(48,new vt(1,114))),new tt(13,44,44,20,20,new bt(56,new vt(1,144))),new tt(14,48,48,22,22,new bt(68,new vt(1,174))),new tt(15,52,52,24,24,new bt(42,new vt(2,102))),new tt(16,64,64,14,14,new bt(56,new vt(2,140))),new tt(17,72,72,16,16,new bt(36,new vt(4,92))),new tt(18,80,80,18,18,new bt(48,new vt(4,114))),new tt(19,88,88,20,20,new bt(56,new vt(4,144))),new tt(20,96,96,22,22,new bt(68,new vt(4,174))),new tt(21,104,104,24,24,new bt(56,new vt(6,136))),new tt(22,120,120,18,18,new bt(68,new vt(6,175))),new tt(23,132,132,20,20,new bt(62,new vt(8,163))),new tt(24,144,144,22,22,new bt(62,new vt(8,156),new vt(2,155))),new tt(25,8,18,6,16,new bt(7,new vt(1,5))),new tt(26,8,32,6,14,new bt(11,new vt(1,10))),new tt(27,12,26,10,24,new bt(14,new vt(1,16))),new tt(28,12,36,10,16,new bt(18,new vt(1,22))),new tt(29,16,36,14,16,new bt(24,new vt(1,32))),new tt(30,16,48,14,22,new bt(28,new vt(1,49)))]}}tt.VERSIONS=tt.buildVersions();class Et{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new K;this.version=Et.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Ct(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),l=i.getWidth();return tt.getVersionForDimensions(o,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,a=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,E=!1,x=!1,C=!1;do if(l===u&&a===0&&!p)i[o++]=this.readCorner1(u,f)&255,l-=2,a+=2,p=!0;else if(l===u-2&&a===0&&f&3&&!E)i[o++]=this.readCorner2(u,f)&255,l-=2,a+=2,E=!0;else if(l===u+4&&a===2&&!(f&7)&&!x)i[o++]=this.readCorner3(u,f)&255,l-=2,a+=2,x=!0;else if(l===u-2&&a===0&&(f&7)===4&&!C)i[o++]=this.readCorner4(u,f)&255,l-=2,a+=2,C=!0;else{do l<u&&a>=0&&!this.readMappingMatrix.get(a,l)&&(i[o++]=this.readUtah(l,a,u,f)&255),l-=2,a+=2;while(l>=0&&a<f);l+=1,a+=3;do l>=0&&a<f&&!this.readMappingMatrix.get(a,l)&&(i[o++]=this.readUtah(l,a,u,f)&255),l+=2,a-=2;while(l<u&&a>=0);l+=3,a+=1}while(l<u||a<f);if(o!==this.version.getTotalCodewords())throw new K;return i}readModule(i,o,l,a){return i<0&&(i+=l,o+=4-(l+4&7)),o<0&&(o+=a,i+=4-(a+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,l,a){let u=0;return this.readModule(i-2,o-2,l,a)&&(u|=1),u<<=1,this.readModule(i-2,o-1,l,a)&&(u|=1),u<<=1,this.readModule(i-1,o-2,l,a)&&(u|=1),u<<=1,this.readModule(i-1,o-1,l,a)&&(u|=1),u<<=1,this.readModule(i-1,o,l,a)&&(u|=1),u<<=1,this.readModule(i,o-2,l,a)&&(u|=1),u<<=1,this.readModule(i,o-1,l,a)&&(u|=1),u<<=1,this.readModule(i,o,l,a)&&(u|=1),u}readCorner1(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,1,i,o)&&(l|=1),l<<=1,this.readModule(i-1,2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}readCorner2(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-4,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner3(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-3,i,o)&&(l|=1),l<<=1,this.readModule(1,o-2,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner4(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new N("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=o/a|0,p=l/u|0,E=f*a,x=p*u,C=new Ct(x,E);for(let I=0;I<f;++I){const T=I*a;for(let P=0;P<p;++P){const z=P*u;for(let U=0;U<a;++U){const G=I*(a+2)+1+U,Y=T+U;for(let ue=0;ue<u;++ue){const he=P*(u+2)+1+ue;if(i.get(he,G)){const ae=z+ue;C.set(ae,Y)}}}}}return C}}class kt{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const l=o.getECBlocks();let a=0;const u=l.getECBlocks();for(let U of u)a+=U.getCount();const f=new Array(a);let p=0;for(let U of u)for(let G=0;G<U.getCount();G++){const Y=U.getDataCodewords(),ue=l.getECCodewords()+Y;f[p++]=new kt(Y,new Uint8Array(ue))}const x=f[0].codewords.length-l.getECCodewords(),C=x-1;let I=0;for(let U=0;U<C;U++)for(let G=0;G<p;G++)f[G].codewords[U]=i[I++];const T=o.getVersionNumber()===24,P=T?8:p;for(let U=0;U<P;U++)f[U].codewords[x-1]=i[I++];const z=f[0].codewords.length;for(let U=x;U<z;U++)for(let G=0;G<p;G++){const Y=T?(G+8)%p:G,ue=T&&Y>7?U-1:U;f[Y].codewords[ue]=i[I++]}if(I!==i.length)throw new N;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jo{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new N(""+i);let o=0,l=this.bitOffset,a=this.byteOffset;const u=this.bytes;if(l>0){const f=8-l,p=i<f?i:f,E=f-p,x=255>>8-p<<E;o=(u[a]&x)>>E,i-=p,l+=p,l===8&&(l=0,a++)}if(i>0){for(;i>=8;)o=o<<8|u[a]&255,a++,i-=8;if(i>0){const f=8-i,p=255>>f<<f;o=o<<i|(u[a]&p)>>f,l+=i}}return this.bitOffset=l,this.byteOffset=a,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Wt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Wt||(Wt={}));class ti{static decode(i){const o=new Jo(i),l=new it,a=new it,u=new Array;let f=Wt.ASCII_ENCODE;do if(f===Wt.ASCII_ENCODE)f=this.decodeAsciiSegment(o,l,a);else{switch(f){case Wt.C40_ENCODE:this.decodeC40Segment(o,l);break;case Wt.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Wt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Wt.BASE256_ENCODE:this.decodeBase256Segment(o,l,u);break;default:throw new K}f=Wt.ASCII_ENCODE}while(f!==Wt.PAD_ENCODE&&o.available()>0);return a.length()>0&&l.append(a.toString()),new Ki(i,l.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,o,l){let a=!1;do{let u=i.readBits(8);if(u===0)throw new K;if(u<=128)return a&&(u+=128),o.append(String.fromCharCode(u-1)),Wt.ASCII_ENCODE;if(u===129)return Wt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&o.append("0"),o.append(""+f)}else switch(u){case 230:return Wt.C40_ENCODE;case 231:return Wt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Wt.ANSIX12_ENCODE;case 239:return Wt.TEXT_ENCODE;case 240:return Wt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new K;break}}while(i.available()>0);return Wt.ASCII_ENCODE}static decodeC40Segment(i,o){let l=!1;const a=[];let u=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),a);for(let p=0;p<3;p++){const E=a[p];switch(u){case 0:if(E<3)u=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[E];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else throw new K;break;case 1:l?(o.append(String.fromCharCode(E+128)),l=!1):o.append(String.fromCharCode(E)),u=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[E];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else switch(E){case 27:o.append("");break;case 30:l=!0;break;default:throw new K}u=0;break;case 3:l?(o.append(String.fromCharCode(E+224)),l=!1):o.append(String.fromCharCode(E+96)),u=0;break;default:throw new K}}}while(i.available()>0)}static decodeTextSegment(i,o){let l=!1,a=[],u=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),a);for(let p=0;p<3;p++){const E=a[p];switch(u){case 0:if(E<3)u=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[E];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else throw new K;break;case 1:l?(o.append(String.fromCharCode(E+128)),l=!1):o.append(String.fromCharCode(E)),u=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[E];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else switch(E){case 27:o.append("");break;case 30:l=!0;break;default:throw new K}u=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[E];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x),u=0}else throw new K;break;default:throw new K}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const l=[];do{if(i.available()===8)return;const a=i.readBits(8);if(a===254)return;this.parseTwoBytes(a,i.readBits(8),l);for(let u=0;u<3;u++){const f=l[u];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new K;break}}}while(i.available()>0)}static parseTwoBytes(i,o,l){let a=(i<<8)+o-1,u=Math.floor(a/1600);l[0]=u,a-=u*1600,u=Math.floor(a/40),l[1]=u,l[2]=a-u*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let a=i.readBits(6);if(a===31){const u=8-i.getBitOffset();u!==8&&i.readBits(u);return}a&32||(a|=64),o.append(String.fromCharCode(a))}}while(i.available()>0)}static decodeBase256Segment(i,o,l){let a=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),a++);let f;if(u===0?f=i.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(i.readBits(8),a++),f<0)throw new K;const p=new Uint8Array(f);for(let E=0;E<f;E++){if(i.available()<8)throw new K;p[E]=this.unrandomize255State(i.readBits(8),a++)}l.push(p);try{o.append(Qe.decode(p,Ce.ISO88591))}catch(E){throw new Jn("Platform does not support required encoding: "+E.message)}}static unrandomize255State(i,o){const l=149*o%255+1,a=i-l;return a>=0?a:a+256}}ti.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ti.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ti.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ti.TEXT_SHIFT2_SET_CHARS=ti.C40_SHIFT2_SET_CHARS,ti.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class xl{constructor(){this.rsDecoder=new Fi(ut.DATA_MATRIX_FIELD_256)}decode(i){const o=new Et(i),l=o.getVersion(),a=o.readCodewords(),u=kt.getDataBlocks(a,l);let f=0;for(let x of u)f+=x.getNumDataCodewords();const p=new Uint8Array(f),E=u.length;for(let x=0;x<E;x++){const C=u[x],I=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(I,T);for(let P=0;P<T;P++)p[P*E+x]=I[P]}return ti.decode(p)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new V}for(let a=0;a<o;a++)i[a]=l[a]}}class Te{constructor(i){this.image=i,this.rectangleDetector=new wi(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const l=o[0],a=o[1],u=o[2],f=o[3];let p=this.transitionsBetween(l,f)+1,E=this.transitionsBetween(u,f)+1;(p&1)===1&&(p+=1),(E&1)===1&&(E+=1),4*p<7*E&&4*E<7*p&&(p=E=Math.max(p,E));let x=Te.sampleGrid(this.image,l,a,u,f,p,E);return new po(x,[l,a,u,f])}static shiftPoint(i,o,l){let a=(o.getX()-i.getX())/(l+1),u=(o.getY()-i.getY())/(l+1);return new Se(i.getX()+a,i.getY()+u)}static moveAway(i,o,l){let a=i.getX(),u=i.getY();return a<o?a-=1:a+=1,u<l?u-=1:u+=1,new Se(a,u)}detectSolid1(i){let o=i[0],l=i[1],a=i[3],u=i[2],f=this.transitionsBetween(o,l),p=this.transitionsBetween(l,a),E=this.transitionsBetween(a,u),x=this.transitionsBetween(u,o),C=f,I=[u,o,l,a];return C>p&&(C=p,I[0]=o,I[1]=l,I[2]=a,I[3]=u),C>E&&(C=E,I[0]=l,I[1]=a,I[2]=u,I[3]=o),C>x&&(I[0]=a,I[1]=u,I[2]=o,I[3]=l),I}detectSolid2(i){let o=i[0],l=i[1],a=i[2],u=i[3],f=this.transitionsBetween(o,u),p=Te.shiftPoint(l,a,(f+1)*4),E=Te.shiftPoint(a,l,(f+1)*4),x=this.transitionsBetween(p,o),C=this.transitionsBetween(E,u);return x<C?(i[0]=o,i[1]=l,i[2]=a,i[3]=u):(i[0]=l,i[1]=a,i[2]=u,i[3]=o),i}correctTopRight(i){let o=i[0],l=i[1],a=i[2],u=i[3],f=this.transitionsBetween(o,u),p=this.transitionsBetween(l,u),E=Te.shiftPoint(o,l,(p+1)*4),x=Te.shiftPoint(a,l,(f+1)*4);f=this.transitionsBetween(E,u),p=this.transitionsBetween(x,u);let C=new Se(u.getX()+(a.getX()-l.getX())/(f+1),u.getY()+(a.getY()-l.getY())/(f+1)),I=new Se(u.getX()+(o.getX()-l.getX())/(p+1),u.getY()+(o.getY()-l.getY())/(p+1));if(!this.isValid(C))return this.isValid(I)?I:null;if(!this.isValid(I))return C;let T=this.transitionsBetween(E,C)+this.transitionsBetween(x,C),P=this.transitionsBetween(E,I)+this.transitionsBetween(x,I);return T>P?C:I}shiftToModuleCenter(i){let o=i[0],l=i[1],a=i[2],u=i[3],f=this.transitionsBetween(o,u)+1,p=this.transitionsBetween(a,u)+1,E=Te.shiftPoint(o,l,p*4),x=Te.shiftPoint(a,l,f*4);f=this.transitionsBetween(E,u)+1,p=this.transitionsBetween(x,u)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);let C=(o.getX()+l.getX()+a.getX()+u.getX())/4,I=(o.getY()+l.getY()+a.getY()+u.getY())/4;o=Te.moveAway(o,C,I),l=Te.moveAway(l,C,I),a=Te.moveAway(a,C,I),u=Te.moveAway(u,C,I);let T,P;return E=Te.shiftPoint(o,l,p*4),E=Te.shiftPoint(E,u,f*4),T=Te.shiftPoint(l,o,p*4),T=Te.shiftPoint(T,a,f*4),x=Te.shiftPoint(a,u,p*4),x=Te.shiftPoint(x,l,f*4),P=Te.shiftPoint(u,a,p*4),P=Te.shiftPoint(P,o,f*4),[E,T,x,P]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,l,a,u,f,p){return vi.getInstance().sampleGrid(i,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,o.getX(),o.getY(),u.getX(),u.getY(),a.getX(),a.getY(),l.getX(),l.getY())}transitionsBetween(i,o){let l=Math.trunc(i.getX()),a=Math.trunc(i.getY()),u=Math.trunc(o.getX()),f=Math.trunc(o.getY()),p=Math.abs(f-a)>Math.abs(u-l);if(p){let U=l;l=a,a=U,U=u,u=f,f=U}let E=Math.abs(u-l),x=Math.abs(f-a),C=-E/2,I=a<f?1:-1,T=l<u?1:-1,P=0,z=this.image.get(p?a:l,p?l:a);for(let U=l,G=a;U!==u;U+=T){let Y=this.image.get(p?G:U,p?U:G);if(Y!==z&&(P++,z=Y),C+=x,C>0){if(G===f)break;G+=I,C-=E}}return P}}class Ot{constructor(){this.decoder=new xl}decode(i,o=null){let l,a;if(o!=null&&o.has(ge.PURE_BARCODE)){const x=Ot.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(x),a=Ot.NO_POINTS}else{const x=new Te(i.getBlackMatrix()).detect();l=this.decoder.decode(x.getBits()),a=x.getPoints()}const u=l.getRawBytes(),f=new We(l.getText(),u,8*u.length,a,te.DATA_MATRIX,X.currentTimeMillis()),p=l.getByteSegments();p!=null&&f.putMetadata(He.BYTE_SEGMENTS,p);const E=l.getECLevel();return E!=null&&f.putMetadata(He.ERROR_CORRECTION_LEVEL,E),f}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o==null||l==null)throw new ee;const a=this.moduleSize(o,i);let u=o[1];const f=l[1];let p=o[0];const x=(l[0]-p+1)/a,C=(f-u+1)/a;if(x<=0||C<=0)throw new ee;const I=a/2;u+=I,p+=I;const T=new Ct(x,C);for(let P=0;P<C;P++){const z=u+P*a;for(let U=0;U<x;U++)i.get(p+U*a,z)&&T.set(U,P)}return T}static moduleSize(i,o){const l=o.getWidth();let a=i[0];const u=i[1];for(;a<l&&o.get(a,u);)a++;if(a===l)throw new ee;const f=a-i[0];if(f===0)throw new ee;return f}}Ot.NO_POINTS=[];class yl extends je{constructor(i=500){super(new Ot,i)}}var Qi;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(Qi||(Qi={}));class st{constructor(i,o,l){this.value=i,this.stringValue=o,this.bits=l,st.FOR_BITS.set(l,this),st.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return st.L;case"M":return st.M;case"Q":return st.Q;case"H":return st.H;default:throw new M(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof st))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=st.FOR_BITS.size)throw new N;return st.FOR_BITS.get(i)}}st.FOR_BITS=new Map,st.FOR_VALUE=new Map,st.L=new st(Qi.L,"L",1),st.M=new st(Qi.M,"M",0),st.Q=new st(Qi.Q,"Q",3),st.H=new st(Qi.H,"H",2);class Tn{constructor(i){this.errorCorrectionLevel=st.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return B.bitCount(i^o)}static decodeFormatInformation(i,o){const l=Tn.doDecodeFormatInformation(i,o);return l!==null?l:Tn.doDecodeFormatInformation(i^Tn.FORMAT_INFO_MASK_QR,o^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let l=Number.MAX_SAFE_INTEGER,a=0;for(const u of Tn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===i||f===o)return new Tn(u[1]);let p=Tn.numBitsDiffering(i,f);p<l&&(a=u[1],l=p),i!==o&&(p=Tn.numBitsDiffering(o,f),p<l&&(a=u[1],l=p))}return l<=3?new Tn(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Tn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const l of o)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(i,o,...l){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=l;let a=0;const u=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const p of f)a+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new K;try{return this.getVersionForNumber((i-17)/4)}catch{throw new K}}static getVersionForNumber(i){if(i<1||i>40)throw new N;return xe.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,l=0;for(let a=0;a<xe.VERSION_DECODE_INFO.length;a++){const u=xe.VERSION_DECODE_INFO[a];if(u===i)return xe.getVersionForNumber(a+7);const f=Tn.numBitsDiffering(i,u);f<o&&(l=a+7,o=f)}return o<=3?xe.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new Ct(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let a=0;a<l;a++){const u=this.alignmentPatternCenters[a]-2;for(let f=0;f<l;f++)a===0&&(f===0||f===l-1)||a===l-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new Z(7,new O(1,19)),new Z(10,new O(1,16)),new Z(13,new O(1,13)),new Z(17,new O(1,9))),new xe(2,Int32Array.from([6,18]),new Z(10,new O(1,34)),new Z(16,new O(1,28)),new Z(22,new O(1,22)),new Z(28,new O(1,16))),new xe(3,Int32Array.from([6,22]),new Z(15,new O(1,55)),new Z(26,new O(1,44)),new Z(18,new O(2,17)),new Z(22,new O(2,13))),new xe(4,Int32Array.from([6,26]),new Z(20,new O(1,80)),new Z(18,new O(2,32)),new Z(26,new O(2,24)),new Z(16,new O(4,9))),new xe(5,Int32Array.from([6,30]),new Z(26,new O(1,108)),new Z(24,new O(2,43)),new Z(18,new O(2,15),new O(2,16)),new Z(22,new O(2,11),new O(2,12))),new xe(6,Int32Array.from([6,34]),new Z(18,new O(2,68)),new Z(16,new O(4,27)),new Z(24,new O(4,19)),new Z(28,new O(4,15))),new xe(7,Int32Array.from([6,22,38]),new Z(20,new O(2,78)),new Z(18,new O(4,31)),new Z(18,new O(2,14),new O(4,15)),new Z(26,new O(4,13),new O(1,14))),new xe(8,Int32Array.from([6,24,42]),new Z(24,new O(2,97)),new Z(22,new O(2,38),new O(2,39)),new Z(22,new O(4,18),new O(2,19)),new Z(26,new O(4,14),new O(2,15))),new xe(9,Int32Array.from([6,26,46]),new Z(30,new O(2,116)),new Z(22,new O(3,36),new O(2,37)),new Z(20,new O(4,16),new O(4,17)),new Z(24,new O(4,12),new O(4,13))),new xe(10,Int32Array.from([6,28,50]),new Z(18,new O(2,68),new O(2,69)),new Z(26,new O(4,43),new O(1,44)),new Z(24,new O(6,19),new O(2,20)),new Z(28,new O(6,15),new O(2,16))),new xe(11,Int32Array.from([6,30,54]),new Z(20,new O(4,81)),new Z(30,new O(1,50),new O(4,51)),new Z(28,new O(4,22),new O(4,23)),new Z(24,new O(3,12),new O(8,13))),new xe(12,Int32Array.from([6,32,58]),new Z(24,new O(2,92),new O(2,93)),new Z(22,new O(6,36),new O(2,37)),new Z(26,new O(4,20),new O(6,21)),new Z(28,new O(7,14),new O(4,15))),new xe(13,Int32Array.from([6,34,62]),new Z(26,new O(4,107)),new Z(22,new O(8,37),new O(1,38)),new Z(24,new O(8,20),new O(4,21)),new Z(22,new O(12,11),new O(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new Z(30,new O(3,115),new O(1,116)),new Z(24,new O(4,40),new O(5,41)),new Z(20,new O(11,16),new O(5,17)),new Z(24,new O(11,12),new O(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new Z(22,new O(5,87),new O(1,88)),new Z(24,new O(5,41),new O(5,42)),new Z(30,new O(5,24),new O(7,25)),new Z(24,new O(11,12),new O(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new Z(24,new O(5,98),new O(1,99)),new Z(28,new O(7,45),new O(3,46)),new Z(24,new O(15,19),new O(2,20)),new Z(30,new O(3,15),new O(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new Z(28,new O(1,107),new O(5,108)),new Z(28,new O(10,46),new O(1,47)),new Z(28,new O(1,22),new O(15,23)),new Z(28,new O(2,14),new O(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new Z(30,new O(5,120),new O(1,121)),new Z(26,new O(9,43),new O(4,44)),new Z(28,new O(17,22),new O(1,23)),new Z(28,new O(2,14),new O(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new Z(28,new O(3,113),new O(4,114)),new Z(26,new O(3,44),new O(11,45)),new Z(26,new O(17,21),new O(4,22)),new Z(26,new O(9,13),new O(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new Z(28,new O(3,107),new O(5,108)),new Z(26,new O(3,41),new O(13,42)),new Z(30,new O(15,24),new O(5,25)),new Z(28,new O(15,15),new O(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new Z(28,new O(4,116),new O(4,117)),new Z(26,new O(17,42)),new Z(28,new O(17,22),new O(6,23)),new Z(30,new O(19,16),new O(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new Z(28,new O(2,111),new O(7,112)),new Z(28,new O(17,46)),new Z(30,new O(7,24),new O(16,25)),new Z(24,new O(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new Z(30,new O(4,121),new O(5,122)),new Z(28,new O(4,47),new O(14,48)),new Z(30,new O(11,24),new O(14,25)),new Z(30,new O(16,15),new O(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new Z(30,new O(6,117),new O(4,118)),new Z(28,new O(6,45),new O(14,46)),new Z(30,new O(11,24),new O(16,25)),new Z(30,new O(30,16),new O(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new Z(26,new O(8,106),new O(4,107)),new Z(28,new O(8,47),new O(13,48)),new Z(30,new O(7,24),new O(22,25)),new Z(30,new O(22,15),new O(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new Z(28,new O(10,114),new O(2,115)),new Z(28,new O(19,46),new O(4,47)),new Z(28,new O(28,22),new O(6,23)),new Z(30,new O(33,16),new O(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new Z(30,new O(8,122),new O(4,123)),new Z(28,new O(22,45),new O(3,46)),new Z(30,new O(8,23),new O(26,24)),new Z(30,new O(12,15),new O(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new O(3,117),new O(10,118)),new Z(28,new O(3,45),new O(23,46)),new Z(30,new O(4,24),new O(31,25)),new Z(30,new O(11,15),new O(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new O(7,116),new O(7,117)),new Z(28,new O(21,45),new O(7,46)),new Z(30,new O(1,23),new O(37,24)),new Z(30,new O(19,15),new O(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new O(5,115),new O(10,116)),new Z(28,new O(19,47),new O(10,48)),new Z(30,new O(15,24),new O(25,25)),new Z(30,new O(23,15),new O(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new O(13,115),new O(3,116)),new Z(28,new O(2,46),new O(29,47)),new Z(30,new O(42,24),new O(1,25)),new Z(30,new O(23,15),new O(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new O(17,115)),new Z(28,new O(10,46),new O(23,47)),new Z(30,new O(10,24),new O(35,25)),new Z(30,new O(19,15),new O(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new O(17,115),new O(1,116)),new Z(28,new O(14,46),new O(21,47)),new Z(30,new O(29,24),new O(19,25)),new Z(30,new O(11,15),new O(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new O(13,115),new O(6,116)),new Z(28,new O(14,46),new O(23,47)),new Z(30,new O(44,24),new O(7,25)),new Z(30,new O(59,16),new O(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new O(12,121),new O(7,122)),new Z(28,new O(12,47),new O(26,48)),new Z(30,new O(39,24),new O(14,25)),new Z(30,new O(22,15),new O(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new O(6,121),new O(14,122)),new Z(28,new O(6,47),new O(34,48)),new Z(30,new O(46,24),new O(10,25)),new Z(30,new O(2,15),new O(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new O(17,122),new O(4,123)),new Z(28,new O(29,46),new O(14,47)),new Z(30,new O(49,24),new O(10,25)),new Z(30,new O(24,15),new O(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new O(4,122),new O(18,123)),new Z(28,new O(13,46),new O(32,47)),new Z(30,new O(48,24),new O(14,25)),new Z(30,new O(42,15),new O(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new O(20,117),new O(4,118)),new Z(28,new O(40,47),new O(7,48)),new Z(30,new O(43,24),new O(22,25)),new Z(30,new O(10,15),new O(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new O(19,118),new O(6,119)),new Z(28,new O(18,47),new O(31,48)),new Z(30,new O(34,24),new O(34,25)),new Z(30,new O(20,15),new O(61,16)))];var Vt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Vt||(Vt={}));class Rn{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let l=0;l<o;l++)for(let a=0;a<o;a++)this.isMasked(l,a)&&i.flip(a,l)}}Rn.values=new Map([[Vt.DATA_MASK_000,new Rn(Vt.DATA_MASK_000,(A,i)=>(A+i&1)===0)],[Vt.DATA_MASK_001,new Rn(Vt.DATA_MASK_001,(A,i)=>(A&1)===0)],[Vt.DATA_MASK_010,new Rn(Vt.DATA_MASK_010,(A,i)=>i%3===0)],[Vt.DATA_MASK_011,new Rn(Vt.DATA_MASK_011,(A,i)=>(A+i)%3===0)],[Vt.DATA_MASK_100,new Rn(Vt.DATA_MASK_100,(A,i)=>(Math.floor(A/2)+Math.floor(i/3)&1)===0)],[Vt.DATA_MASK_101,new Rn(Vt.DATA_MASK_101,(A,i)=>A*i%6===0)],[Vt.DATA_MASK_110,new Rn(Vt.DATA_MASK_110,(A,i)=>A*i%6<3)],[Vt.DATA_MASK_111,new Rn(Vt.DATA_MASK_111,(A,i)=>(A+i+A*i%3&1)===0)]]);class Hr{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new K;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const o=this.bitMatrix.getHeight();let l=0;const a=o-7;for(let u=o-1;u>=a;u--)l=this.copyBit(8,u,l);for(let u=o-8;u<o;u++)l=this.copyBit(u,8,l);if(this.parsedFormatInfo=Tn.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new K}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return xe.getVersionForNumber(o);let l=0;const a=i-11;for(let f=5;f>=0;f--)for(let p=i-9;p>=a;p--)l=this.copyBit(p,f,l);let u=xe.decodeVersionInformation(l);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;l=0;for(let f=5;f>=0;f--)for(let p=i-9;p>=a;p--)l=this.copyBit(f,p,l);if(u=xe.decodeVersionInformation(l),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new K}copyBit(i,o,l){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),l=Rn.values.get(i.getDataMask()),a=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,a);const u=o.buildFunctionPattern();let f=!0;const p=new Uint8Array(o.getTotalCodewords());let E=0,x=0,C=0;for(let I=a-1;I>0;I-=2){I===6&&I--;for(let T=0;T<a;T++){const P=f?a-1-T:T;for(let z=0;z<2;z++)u.get(I-z,P)||(C++,x<<=1,this.bitMatrix.get(I-z,P)&&(x|=1),C===8&&(p[E++]=x,C=0,x=0))}f=!f}if(E!==o.getTotalCodewords())throw new K;return p}remask(){if(this.parsedFormatInfo===null)return;const i=Rn.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,l=i.getWidth();o<l;o++)for(let a=o+1,u=i.getHeight();a<u;a++)i.get(o,a)!==i.get(a,o)&&(i.flip(a,o),i.flip(o,a))}}class Ur{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,l){if(i.length!==o.getTotalCodewords())throw new N;const a=o.getECBlocksForLevel(l);let u=0;const f=a.getECBlocks();for(const z of f)u+=z.getCount();const p=new Array(u);let E=0;for(const z of f)for(let U=0;U<z.getCount();U++){const G=z.getDataCodewords(),Y=a.getECCodewordsPerBlock()+G;p[E++]=new Ur(G,new Uint8Array(Y))}const x=p[0].codewords.length;let C=p.length-1;for(;C>=0&&p[C].codewords.length!==x;)C--;C++;const I=x-a.getECCodewordsPerBlock();let T=0;for(let z=0;z<I;z++)for(let U=0;U<E;U++)p[U].codewords[z]=i[T++];for(let z=C;z<E;z++)p[z].codewords[I]=i[T++];const P=p[0].codewords.length;for(let z=I;z<P;z++)for(let U=0;U<E;U++){const G=U<C?z:z+1;p[U].codewords[G]=i[T++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Nn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Nn||(Nn={}));class Le{constructor(i,o,l,a){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=a,Le.FOR_BITS.set(a,this),Le.FOR_VALUE.set(i,this)}static forBits(i){const o=Le.FOR_BITS.get(i);if(o===void 0)throw new N;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Le))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(Nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(Nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(Nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(Nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(Nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(Nn.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(Nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(Nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(Nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(Nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Bt{static decode(i,o,l,a){const u=new Jo(i);let f=new it;const p=new Array;let E=-1,x=-1;try{let C=null,I=!1,T;do{if(u.available()<4)T=Le.TERMINATOR;else{const P=u.readBits(4);T=Le.forBits(P)}switch(T){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:I=!0;break;case Le.STRUCTURED_APPEND:if(u.available()<16)throw new K;E=u.readBits(8),x=u.readBits(8);break;case Le.ECI:const P=Bt.parseECIValue(u);if(C=oe.getCharacterSetECIByValue(P),C===null)throw new K;break;case Le.HANZI:const z=u.readBits(4),U=u.readBits(T.getCharacterCountBits(o));z===Bt.GB2312_SUBSET&&Bt.decodeHanziSegment(u,f,U);break;default:const G=u.readBits(T.getCharacterCountBits(o));switch(T){case Le.NUMERIC:Bt.decodeNumericSegment(u,f,G);break;case Le.ALPHANUMERIC:Bt.decodeAlphanumericSegment(u,f,G,I);break;case Le.BYTE:Bt.decodeByteSegment(u,f,G,C,p,a);break;case Le.KANJI:Bt.decodeKanjiSegment(u,f,G);break;default:throw new K}break}}while(T!==Le.TERMINATOR)}catch{throw new K}return new Ki(i,f.toString(),p.length===0?null:p,l===null?null:l.toString(),E,x)}static decodeHanziSegment(i,o,l){if(l*13>i.available())throw new K;const a=new Uint8Array(2*l);let u=0;for(;l>0;){const f=i.readBits(13);let p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,a[u]=p>>8&255,a[u+1]=p&255,u+=2,l--}try{o.append(Qe.decode(a,Ce.GB2312))}catch(f){throw new K(f)}}static decodeKanjiSegment(i,o,l){if(l*13>i.available())throw new K;const a=new Uint8Array(2*l);let u=0;for(;l>0;){const f=i.readBits(13);let p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,a[u]=p>>8,a[u+1]=p,u+=2,l--}try{o.append(Qe.decode(a,Ce.SHIFT_JIS))}catch(f){throw new K(f)}}static decodeByteSegment(i,o,l,a,u,f){if(8*l>i.available())throw new K;const p=new Uint8Array(l);for(let x=0;x<l;x++)p[x]=i.readBits(8);let E;a===null?E=Ce.guessEncoding(p,f):E=a.getName();try{o.append(Qe.decode(p,E))}catch(x){throw new K(x)}u.push(p)}static toAlphaNumericChar(i){if(i>=Bt.ALPHANUMERIC_CHARS.length)throw new K;return Bt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,l,a){const u=o.length();for(;l>1;){if(i.available()<11)throw new K;const f=i.readBits(11);o.append(Bt.toAlphaNumericChar(Math.floor(f/45))),o.append(Bt.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(i.available()<6)throw new K;o.append(Bt.toAlphaNumericChar(i.readBits(6)))}if(a)for(let f=u;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(i,o,l){for(;l>=3;){if(i.available()<10)throw new K;const a=i.readBits(10);if(a>=1e3)throw new K;o.append(Bt.toAlphaNumericChar(Math.floor(a/100))),o.append(Bt.toAlphaNumericChar(Math.floor(a/10)%10)),o.append(Bt.toAlphaNumericChar(a%10)),l-=3}if(l===2){if(i.available()<7)throw new K;const a=i.readBits(7);if(a>=100)throw new K;o.append(Bt.toAlphaNumericChar(Math.floor(a/10))),o.append(Bt.toAlphaNumericChar(a%10))}else if(l===1){if(i.available()<4)throw new K;const a=i.readBits(4);if(a>=10)throw new K;o.append(Bt.toAlphaNumericChar(a))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=i.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=i.readBits(16);return(o&31)<<16&4294967295|l}throw new K}}Bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Bt.GB2312_SUBSET=1;class Wr{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class wl{constructor(){this.rsDecoder=new Fi(ut.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(Ct.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const l=new Hr(i);let a=null;try{return this.decodeBitMatrixParser(l,o)}catch(u){a=u}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const u=this.decodeBitMatrixParser(l,o);return u.setOther(new Wr(!0)),u}catch(u){throw a!==null?a:u}}decodeBitMatrixParser(i,o){const l=i.readVersion(),a=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),f=Ur.getDataBlocks(u,l,a);let p=0;for(const C of f)p+=C.getNumDataCodewords();const E=new Uint8Array(p);let x=0;for(const C of f){const I=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(I,T);for(let P=0;P<T;P++)E[x++]=I[P]}return Bt.decode(E,l,a,o)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new V}for(let a=0;a<o;a++)i[a]=l[a]}}class Vr extends Se{constructor(i,o,l){super(i,o),this.estimatedModuleSize=l}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const a=Math.abs(i-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const a=(this.getX()+o)/2,u=(this.getY()+i)/2,f=(this.estimatedModuleSize+l)/2;return new Vr(a,u,f)}}class Lo{constructor(i,o,l,a,u,f,p){this.image=i,this.startX=o,this.startY=l,this.width=a,this.height=u,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=this.width,a=i+l,u=this.startY+o/2,f=new Int32Array(3),p=this.image;for(let E=0;E<o;E++){const x=u+(E&1?-Math.floor((E+1)/2):Math.floor((E+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=i;for(;C<a&&!p.get(C,x);)C++;let I=0;for(;C<a;){if(p.get(C,x))if(I===1)f[1]++;else if(I===2){if(this.foundPatternCross(f)){const T=this.handlePossibleCenter(f,x,C);if(T!==null)return T}f[0]=f[2],f[1]=1,f[2]=0,I=1}else f[++I]++;else I===1&&I++,f[I]++;C++}if(this.foundPatternCross(f)){const T=this.handlePossibleCenter(f,x,a);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,l=o/2;for(let a=0;a<3;a++)if(Math.abs(o-i[a])>=l)return!1;return!0}crossCheckVertical(i,o,l,a){const u=this.image,f=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let E=i;for(;E>=0&&u.get(o,E)&&p[1]<=l;)p[1]++,E--;if(E<0||p[1]>l)return NaN;for(;E>=0&&!u.get(o,E)&&p[0]<=l;)p[0]++,E--;if(p[0]>l)return NaN;for(E=i+1;E<f&&u.get(o,E)&&p[1]<=l;)p[1]++,E++;if(E===f||p[1]>l)return NaN;for(;E<f&&!u.get(o,E)&&p[2]<=l;)p[2]++,E++;if(p[2]>l)return NaN;const x=p[0]+p[1]+p[2];return 5*Math.abs(x-a)>=2*a?NaN:this.foundPatternCross(p)?Lo.centerFromEnd(p,E):NaN}handlePossibleCenter(i,o,l){const a=i[0]+i[1]+i[2],u=Lo.centerFromEnd(i,l),f=this.crossCheckVertical(o,u,2*i[1],a);if(!isNaN(f)){const p=(i[0]+i[1]+i[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(p,f,u))return x.combineEstimate(f,u,p);const E=new Vr(u,f,p);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class xs extends Se{constructor(i,o,l,a){super(i,o),this.estimatedModuleSize=l,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const a=Math.abs(i-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const a=this.count+1,u=(this.count*this.getX()+o)/a,f=(this.count*this.getY()+i)/a,p=(this.count*this.estimatedModuleSize+l)/a;return new xs(u,f,p,a)}}class vl{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gn{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(ge.TRY_HARDER)!==void 0,l=i!=null&&i.get(ge.PURE_BARCODE)!==void 0,a=this.image,u=a.getHeight(),f=a.getWidth();let p=Math.floor(3*u/(4*gn.MAX_MODULES));(p<gn.MIN_SKIP||o)&&(p=gn.MIN_SKIP);let E=!1;const x=new Int32Array(5);for(let I=p-1;I<u&&!E;I+=p){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let P=0;P<f;P++)if(a.get(P,I))(T&1)===1&&T++,x[T]++;else if(T&1)x[T]++;else if(T===4)if(gn.foundPatternCross(x)){if(this.handlePossibleCenter(x,I,P,l)===!0)if(p=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>x[2]&&(I+=U-x[2]-p,P=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;gn.foundPatternCross(x)&&this.handlePossibleCenter(x,I,f,l)===!0&&(p=x[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Se.orderBestPatterns(C),new vl(C)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let u=0;u<5;u++){const f=i[u];if(f===0)return!1;o+=f}if(o<7)return!1;const l=o/7,a=l/2;return Math.abs(l-i[0])<a&&Math.abs(l-i[1])<a&&Math.abs(3*l-i[2])<3*a&&Math.abs(l-i[3])<a&&Math.abs(l-i[4])<a}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,l,a){const u=this.getCrossCheckStateCount();let f=0;const p=this.image;for(;i>=f&&o>=f&&p.get(o-f,i-f);)u[2]++,f++;if(i<f||o<f)return!1;for(;i>=f&&o>=f&&!p.get(o-f,i-f)&&u[1]<=l;)u[1]++,f++;if(i<f||o<f||u[1]>l)return!1;for(;i>=f&&o>=f&&p.get(o-f,i-f)&&u[0]<=l;)u[0]++,f++;if(u[0]>l)return!1;const E=p.getHeight(),x=p.getWidth();for(f=1;i+f<E&&o+f<x&&p.get(o+f,i+f);)u[2]++,f++;if(i+f>=E||o+f>=x)return!1;for(;i+f<E&&o+f<x&&!p.get(o+f,i+f)&&u[3]<l;)u[3]++,f++;if(i+f>=E||o+f>=x||u[3]>=l)return!1;for(;i+f<E&&o+f<x&&p.get(o+f,i+f)&&u[4]<l;)u[4]++,f++;if(u[4]>=l)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-a)<2*a&&gn.foundPatternCross(u)}crossCheckVertical(i,o,l,a){const u=this.image,f=u.getHeight(),p=this.getCrossCheckStateCount();let E=i;for(;E>=0&&u.get(o,E);)p[2]++,E--;if(E<0)return NaN;for(;E>=0&&!u.get(o,E)&&p[1]<=l;)p[1]++,E--;if(E<0||p[1]>l)return NaN;for(;E>=0&&u.get(o,E)&&p[0]<=l;)p[0]++,E--;if(p[0]>l)return NaN;for(E=i+1;E<f&&u.get(o,E);)p[2]++,E++;if(E===f)return NaN;for(;E<f&&!u.get(o,E)&&p[3]<l;)p[3]++,E++;if(E===f||p[3]>=l)return NaN;for(;E<f&&u.get(o,E)&&p[4]<l;)p[4]++,E++;if(p[4]>=l)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-a)>=2*a?NaN:gn.foundPatternCross(p)?gn.centerFromEnd(p,E):NaN}crossCheckHorizontal(i,o,l,a){const u=this.image,f=u.getWidth(),p=this.getCrossCheckStateCount();let E=i;for(;E>=0&&u.get(E,o);)p[2]++,E--;if(E<0)return NaN;for(;E>=0&&!u.get(E,o)&&p[1]<=l;)p[1]++,E--;if(E<0||p[1]>l)return NaN;for(;E>=0&&u.get(E,o)&&p[0]<=l;)p[0]++,E--;if(p[0]>l)return NaN;for(E=i+1;E<f&&u.get(E,o);)p[2]++,E++;if(E===f)return NaN;for(;E<f&&!u.get(E,o)&&p[3]<l;)p[3]++,E++;if(E===f||p[3]>=l)return NaN;for(;E<f&&u.get(E,o)&&p[4]<l;)p[4]++,E++;if(p[4]>=l)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-a)>=a?NaN:gn.foundPatternCross(p)?gn.centerFromEnd(p,E):NaN}handlePossibleCenter(i,o,l,a){const u=i[0]+i[1]+i[2]+i[3]+i[4];let f=gn.centerFromEnd(i,l),p=this.crossCheckVertical(o,Math.floor(f),i[2],u);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),i[2],u),!isNaN(f)&&(!a||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),i[2],u)))){const E=u/7;let x=!1;const C=this.possibleCenters;for(let I=0,T=C.length;I<T;I++){const P=C[I];if(P.aboutEquals(E,p,f)){C[I]=P.combineEstimate(p,f,E),x=!0;break}}if(!x){const I=new xs(f,p,E);C.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=gn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=gn.CENTER_QUORUM&&(i++,o+=f.getEstimatedModuleSize());if(i<3)return!1;const a=o/l;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-a);return u<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ee;const o=this.possibleCenters;let l;if(i>3){let a=0,u=0;for(const E of this.possibleCenters){const x=E.getEstimatedModuleSize();a+=x,u+=x*x}l=a/i;let f=Math.sqrt(u/i-l*l);o.sort((E,x)=>{const C=Math.abs(x.getEstimatedModuleSize()-l),I=Math.abs(E.getEstimatedModuleSize()-l);return C<I?-1:C>I?1:0});const p=Math.max(.2*l,f);for(let E=0;E<o.length&&o.length>3;E++){const x=o[E];Math.abs(x.getEstimatedModuleSize()-l)>p&&(o.splice(E,1),E--)}}if(o.length>3){let a=0;for(const u of o)a+=u.getEstimatedModuleSize();l=a/o.length,o.sort((u,f)=>{if(f.getCount()===u.getCount()){const p=Math.abs(f.getEstimatedModuleSize()-l),E=Math.abs(u.getEstimatedModuleSize()-l);return p<E?1:p>E?-1:0}else return f.getCount()-u.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}gn.CENTER_QUORUM=2,gn.MIN_SKIP=3,gn.MAX_MODULES=57;class Ge{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(ge.NEED_RESULT_POINT_CALLBACK);const l=new gn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const o=i.getTopLeft(),l=i.getTopRight(),a=i.getBottomLeft(),u=this.calculateModuleSize(o,l,a);if(u<1)throw new ee("No pattern found in proccess finder.");const f=Ge.computeDimension(o,l,a,u),p=xe.getProvisionalVersionForDimension(f),E=p.getDimensionForVersion()-7;let x=null;if(p.getAlignmentPatternCenters().length>0){const P=l.getX()-o.getX()+a.getX(),z=l.getY()-o.getY()+a.getY(),U=1-3/E,G=Math.floor(o.getX()+U*(P-o.getX())),Y=Math.floor(o.getY()+U*(z-o.getY()));for(let ue=4;ue<=16;ue<<=1)try{x=this.findAlignmentInRegion(u,G,Y,ue);break}catch(he){if(!(he instanceof ee))throw he}}const C=Ge.createTransform(o,l,a,x,f),I=Ge.sampleGrid(this.image,C,f);let T;return x===null?T=[a,o,l]:T=[a,o,l,x],new po(I,T)}static createTransform(i,o,l,a,u){const f=u-3.5;let p,E,x,C;return a!==null?(p=a.getX(),E=a.getY(),x=f-3,C=x):(p=o.getX()-i.getX()+l.getX(),E=o.getY()-i.getY()+l.getY(),x=f,C=f),kn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,x,C,3.5,f,i.getX(),i.getY(),o.getX(),o.getY(),p,E,l.getX(),l.getY())}static sampleGrid(i,o,l){return vi.getInstance().sampleGridWithTransform(i,l,l,o)}static computeDimension(i,o,l,a){const u=ht.round(Se.distance(i,o)/a),f=ht.round(Se.distance(i,l)/a);let p=Math.floor((u+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new ee("Dimensions could be not found.")}return p}calculateModuleSize(i,o,l){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?a/7:isNaN(a)?l/7:(l+a)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,l,a){let u=this.sizeOfBlackWhiteBlackRun(i,o,l,a),f=1,p=i-(l-i);p<0?(f=i/(i-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-i)/(p-i),p=this.image.getWidth()-1);let E=Math.floor(o-(a-o)*f);return f=1,E<0?(f=o/(o-E),E=0):E>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(E-o),E=this.image.getHeight()-1),p=Math.floor(i+(p-i)*f),u+=this.sizeOfBlackWhiteBlackRun(i,o,p,E),u-1}sizeOfBlackWhiteBlackRun(i,o,l,a){const u=Math.abs(a-o)>Math.abs(l-i);if(u){let P=i;i=o,o=P,P=l,l=a,a=P}const f=Math.abs(l-i),p=Math.abs(a-o);let E=-f/2;const x=i<l?1:-1,C=o<a?1:-1;let I=0;const T=l+x;for(let P=i,z=o;P!==T;P+=x){const U=u?z:P,G=u?P:z;if(I===1===this.image.get(U,G)){if(I===2)return ht.distance(P,z,i,o);I++}if(E+=p,E>0){if(z===a)break;z+=C,E-=f}}return I===2?ht.distance(l+x,a,i,o):NaN}findAlignmentInRegion(i,o,l,a){const u=Math.floor(a*i),f=Math.max(0,o-u),p=Math.min(this.image.getWidth()-1,o+u);if(p-f<i*3)throw new ee("Alignment top exceeds estimated module size.");const E=Math.max(0,l-u),x=Math.min(this.image.getHeight()-1,l+u);if(x-E<i*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Lo(this.image,f,E,p-f,x-E,i,this.resultPointCallback).find()}}class xn{constructor(){this.decoder=new wl}getDecoder(){return this.decoder}decode(i,o){let l,a;if(o!=null&&o.get(ge.PURE_BARCODE)!==void 0){const E=xn.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(E,o),a=xn.NO_POINTS}else{const E=new Ge(i.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(E.getBits(),o),a=E.getPoints()}l.getOther()instanceof Wr&&l.getOther().applyMirroredCorrection(a);const u=new We(l.getText(),l.getRawBytes(),void 0,a,te.QR_CODE,void 0),f=l.getByteSegments();f!==null&&u.putMetadata(He.BYTE_SEGMENTS,f);const p=l.getECLevel();return p!==null&&u.putMetadata(He.ERROR_CORRECTION_LEVEL,p),l.hasStructuredAppend()&&(u.putMetadata(He.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),u.putMetadata(He.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o===null||l===null)throw new ee;const a=this.moduleSize(o,i);let u=o[1],f=l[1],p=o[0],E=l[0];if(p>=E||u>=f)throw new ee;if(f-u!==E-p&&(E=p+(f-u),E>=i.getWidth()))throw new ee;const x=Math.round((E-p+1)/a),C=Math.round((f-u+1)/a);if(x<=0||C<=0)throw new ee;if(C!==x)throw new ee;const I=Math.floor(a/2);u+=I,p+=I;const T=p+Math.floor((x-1)*a)-E;if(T>0){if(T>I)throw new ee;p-=T}const P=u+Math.floor((C-1)*a)-f;if(P>0){if(P>I)throw new ee;u-=P}const z=new Ct(x,C);for(let U=0;U<C;U++){const G=u+Math.floor(U*a);for(let Y=0;Y<x;Y++)i.get(p+Math.floor(Y*a),G)&&z.set(Y,U)}return z}static moduleSize(i,o){const l=o.getHeight(),a=o.getWidth();let u=i[0],f=i[1],p=!0,E=0;for(;u<a&&f<l;){if(p!==o.get(u,f)){if(++E===5)break;p=!p}u++,f++}if(u===a||f===l)throw new ee;return(u-i[0])/7}}xn.NO_POINTS=new Array;class ye{PDF417Common(){}static getBitCountSum(i){return ht.sum(i)}static toIntArray(i){if(i==null||!i.length)return ye.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let l=0;for(const a of i)o[l++]=a;return o}static getCodeword(i){const o=D.binarySearch(ye.SYMBOL_TABLE,i&262143);return o<0?-1:(ye.CODEWORD_TABLE[o]-1)%ye.NUMBER_OF_CODEWORDS}}ye.NUMBER_OF_CODEWORDS=929,ye.MAX_CODEWORDS_IN_BARCODE=ye.NUMBER_OF_CODEWORDS-1,ye.MIN_ROWS_IN_BARCODE=3,ye.MAX_ROWS_IN_BARCODE=90,ye.MODULES_IN_CODEWORD=17,ye.MODULES_IN_STOP_PATTERN=18,ye.BARS_IN_MODULE=8,ye.EMPTY_INT_ARRAY=new Int32Array([]),ye.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ye.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class qa{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(i,o,l){let a=i.getBlackMatrix(),u=Ke.detect(l,a);return u.length||(a=a.clone(),a.rotate180(),u=Ke.detect(l,a)),new qa(a,u)}static detect(i,o){const l=new Array;let a=0,u=0,f=!1;for(;a<o.getHeight();){const p=Ke.findVertices(o,a,u);if(p[0]==null&&p[3]==null){if(!f)break;f=!1,u=0;for(const E of l)E[1]!=null&&(a=Math.trunc(Math.max(a,E[1].getY()))),E[3]!=null&&(a=Math.max(a,Math.trunc(E[3].getY())));a+=Ke.ROW_STEP;continue}if(f=!0,l.push(p),!i)break;p[2]!=null?(u=Math.trunc(p[2].getX()),a=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),a=Math.trunc(p[4].getY()))}return l}static findVertices(i,o,l){const a=i.getHeight(),u=i.getWidth(),f=new Array(8);return Ke.copyToResult(f,Ke.findRowsWithPattern(i,a,u,o,l,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),Ke.copyToResult(f,Ke.findRowsWithPattern(i,a,u,o,l,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),f}static copyToResult(i,o,l){for(let a=0;a<l.length;a++)i[l[a]]=o[a]}static findRowsWithPattern(i,o,l,a,u,f){const p=new Array(4);let E=!1;const x=new Int32Array(f.length);for(;a<o;a+=Ke.ROW_STEP){let I=Ke.findGuardPattern(i,u,a,l,!1,f,x);if(I!=null){for(;a>0;){const T=Ke.findGuardPattern(i,u,--a,l,!1,f,x);if(T!=null)I=T;else{a++;break}}p[0]=new Se(I[0],a),p[1]=new Se(I[1],a),E=!0;break}}let C=a+1;if(E){let I=0,T=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;C<o;C++){const P=Ke.findGuardPattern(i,T[0],C,l,!1,f,x);if(P!=null&&Math.abs(T[0]-P[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(T[1]-P[1])<Ke.MAX_PATTERN_DRIFT)T=P,I=0;else{if(I>Ke.SKIPPED_ROW_COUNT_MAX)break;I++}}C-=I+1,p[2]=new Se(T[0],C),p[3]=new Se(T[1],C)}return C-a<Ke.BARCODE_MIN_HEIGHT&&D.fill(p,null),p}static findGuardPattern(i,o,l,a,u,f,p){D.fillWithin(p,0,p.length,0);let E=o,x=0;for(;i.get(E,l)&&E>0&&x++<Ke.MAX_PIXEL_DRIFT;)E--;let C=E,I=0,T=f.length;for(let P=u;C<a;C++)if(i.get(C,l)!==P)p[I]++;else{if(I===T-1){if(Ke.patternMatchVariance(p,f,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([E,C]);E+=p[0]+p[1],X.arraycopy(p,2,p,0,I-1),p[I-1]=0,p[I]=0,I--}else I++;p[I]=1,P=!P}return I===T-1&&Ke.patternMatchVariance(p,f,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([E,C-1]):null}static patternMatchVariance(i,o,l){let a=i.length,u=0,f=0;for(let x=0;x<a;x++)u+=i[x],f+=o[x];if(u<f)return 1/0;let p=u/f;l*=p;let E=0;for(let x=0;x<a;x++){let C=i[x],I=o[x]*p,T=C>I?C-I:I-C;if(T>l)return 1/0;E+=T}return E/u}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class un{constructor(i,o){if(o.length===0)throw new N;this.field=i;let l=o.length;if(l>1&&o[0]===0){let a=1;for(;a<l&&o[a]===0;)a++;a===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-a),X.arraycopy(o,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let a=0;for(let u of this.coefficients)a=this.field.add(a,u);return a}let o=this.coefficients[0],l=this.coefficients.length;for(let a=1;a<l;a++)o=this.field.add(this.field.multiply(i,o),this.coefficients[a]);return o}add(i){if(!this.field.equals(i.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){let f=o;o=l,l=f}let a=new Int32Array(l.length),u=l.length-o.length;X.arraycopy(l,0,a,0,u);for(let f=u;f<l.length;f++)a[f]=this.field.add(o[f-u],l[f]);return new un(this.field,a)}subtract(i){if(!this.field.equals(i.field))throw new N("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof un?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new un(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,a=i.coefficients,u=a.length,f=new Int32Array(l+u-1);for(let p=0;p<l;p++){let E=o[p];for(let x=0;x<u;x++)f[p+x]=this.field.add(f[p+x],this.field.multiply(E,a[x]))}return new un(this.field,f)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new un(this.field,o)}multiplyScalar(i){if(i===0)return new un(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let a=0;a<o;a++)l[a]=this.field.multiply(this.coefficients[a],i);return new un(this.field,l)}multiplyByMonomial(i,o){if(i<0)throw new N;if(o===0)return new un(this.field,new Int32Array([0]));let l=this.coefficients.length,a=new Int32Array(l+i);for(let u=0;u<l;u++)a[u]=this.field.multiply(this.coefficients[u],o);return new un(this.field,a)}toString(){let i=new it;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(o===0||l!==1)&&i.append(l),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class Cl{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new N;return this.logTable[i]}inverse(i){if(i===0)throw new Pi;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class $i extends Cl{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let a=0;a<i;a++)this.expTable[a]=l,l=l*o%i;for(let a=0;a<i-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new un(this,new Int32Array([0])),this.one=new un(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new N;if(o===0)return this.zero;let l=new Int32Array(i+1);return l[0]=o,new un(this,l)}}$i.PDF417_GF=new $i(ye.NUMBER_OF_CODEWORDS,3);class ys{constructor(){this.field=$i.PDF417_GF}decode(i,o,l){let a=new un(this.field,i),u=new Int32Array(o),f=!1;for(let z=o;z>0;z--){let U=a.evaluateAt(this.field.exp(z));u[o-z]=U,U!==0&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(l!=null)for(const z of l){let U=this.field.exp(i.length-1-z),G=new un(this.field,new Int32Array([this.field.subtract(0,U),1]));p=p.multiply(G)}let E=new un(this.field,u),x=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),E,o),C=x[0],I=x[1],T=this.findErrorLocations(C),P=this.findErrorMagnitudes(I,C,T);for(let z=0;z<T.length;z++){let U=i.length-1-this.field.log(T[z]);if(U<0)throw V.getChecksumInstance();i[U]=this.field.subtract(i[U],P[z])}return T.length}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){let T=i;i=o,o=T}let a=i,u=o,f=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(l/2);){let T=a,P=f;if(a=u,f=p,a.isZero())throw V.getChecksumInstance();u=T;let z=this.field.getZero(),U=a.getCoefficient(a.getDegree()),G=this.field.inverse(U);for(;u.getDegree()>=a.getDegree()&&!u.isZero();){let Y=u.getDegree()-a.getDegree(),ue=this.field.multiply(u.getCoefficient(u.getDegree()),G);z=z.add(this.field.buildMonomial(Y,ue)),u=u.subtract(a.multiplyByMonomial(Y,ue))}p=z.multiply(f).subtract(P).negative()}let E=p.getCoefficient(0);if(E===0)throw V.getChecksumInstance();let x=this.field.inverse(E),C=p.multiply(x),I=u.multiply(x);return[C,I]}findErrorLocations(i){let o=i.getDegree(),l=new Int32Array(o),a=0;for(let u=1;u<this.field.getSize()&&a<o;u++)i.evaluateAt(u)===0&&(l[a]=this.field.inverse(u),a++);if(a!==o)throw V.getChecksumInstance();return l}findErrorMagnitudes(i,o,l){let a=o.getDegree(),u=new Int32Array(a);for(let x=1;x<=a;x++)u[a-x]=this.field.multiply(x,o.getCoefficient(x));let f=new un(this.field,u),p=l.length,E=new Int32Array(p);for(let x=0;x<p;x++){let C=this.field.inverse(l[x]),I=this.field.subtract(0,i.evaluateAt(C)),T=this.field.inverse(f.evaluateAt(C));E[x]=this.field.multiply(I,T)}return E}}class Si{constructor(i,o,l,a,u){i instanceof Si?this.constructor_2(i):this.constructor_1(i,o,l,a,u)}constructor_1(i,o,l,a,u){const f=o==null||l==null,p=a==null||u==null;if(f&&p)throw new ee;f?(o=new Se(0,a.getY()),l=new Se(0,u.getY())):p&&(a=new Se(i.getWidth()-1,o.getY()),u=new Se(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=o,this.bottomLeft=l,this.topRight=a,this.bottomRight=u,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(a.getX(),u.getX())),this.minY=Math.trunc(Math.min(o.getY(),a.getY())),this.maxY=Math.trunc(Math.max(l.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Si(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,l){let a=this.topLeft,u=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(i>0){let E=l?this.topLeft:this.topRight,x=Math.trunc(E.getY()-i);x<0&&(x=0);let C=new Se(E.getX(),x);l?a=C:f=C}if(o>0){let E=l?this.bottomLeft:this.bottomRight,x=Math.trunc(E.getY()+o);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let C=new Se(E.getX(),x);l?u=C:p=C}return new Si(this.image,a,u,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yn{constructor(i,o,l,a){this.columnCount=i,this.errorCorrectionLevel=a,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class bi{constructor(){this.buffer=""}static form(i,o){let l=-1;function a(f,p,E,x,C,I){if(f==="%%")return"%";if(o[++l]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,P;switch(I){case"s":P=o[l];break;case"c":P=o[l][0];break;case"f":P=parseFloat(o[l]).toFixed(f);break;case"p":P=parseFloat(o[l]).toPrecision(f);break;case"e":P=parseFloat(o[l]).toExponential(f);break;case"x":P=parseInt(o[l]).toString(T||16);break;case"d":P=parseFloat(parseInt(o[l],T||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(T);let z=parseInt(E),U=E&&E[0]+""=="0"?"0":" ";for(;P.length<z;)P=p!==void 0?P+U:U+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,a)}format(i,...o){this.buffer+=bi.form(i,o)}toString(){return this.buffer}}class er{constructor(i){this.boundingBox=new Si(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let l=1;l<er.MAX_NEARBY_DISTANCE;l++){let a=this.imageRowToCodewordIndex(i)-l;if(a>=0&&(o=this.codewords[a],o!=null)||(a=this.imageRowToCodewordIndex(i)+l,a<this.codewords.length&&(o=this.codewords[a],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new bi;let o=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return i.toString()}}er.MAX_NEARBY_DISTANCE=5;class tr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[l,a]of this.values.entries()){const u={getKey:()=>l,getValue:()=>a};u.getValue()>i?(i=u.getValue(),o=[],o.push(u.getKey())):u.getValue()===i&&o.push(u.getKey())}return ye.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class Qa extends er{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let l=this.getBoundingBox(),a=this._isLeft?l.getTopLeft():l.getTopRight(),u=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),E=-1,x=1,C=0;for(let I=f;I<p;I++){if(o[I]==null)continue;let T=o[I],P=T.getRowNumber()-E;if(P===0)C++;else if(P===1)x=Math.max(x,C),C=1,E=T.getRowNumber();else if(P<0||T.getRowNumber()>=i.getRowCount()||P>I)o[I]=null;else{let z;x>2?z=(x-2)*P:z=P;let U=z>=I;for(let G=1;G<=z&&!U;G++)U=o[I-G]!=null;U?o[I]=null:(E=T.getRowNumber(),C=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let a=l.getRowNumber();if(a>=o.length)continue;o[a]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),a=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),p=this.getCodewords(),E=-1;for(let x=u;x<f;x++){if(p[x]==null)continue;let C=p[x];C.setRowNumberAsRowIndicatorColumn();let I=C.getRowNumber()-E;I===0||(I===1?E=C.getRowNumber():C.getRowNumber()>=i.getRowCount()?p[x]=null:E=C.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new tr,l=new tr,a=new tr,u=new tr;for(let p of i){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let E=p.getValue()%30,x=p.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:l.setValue(E*3+1);break;case 1:u.setValue(E/3),a.setValue(E%3);break;case 2:o.setValue(E+1);break}}if(o.getValue().length===0||l.getValue().length===0||a.getValue().length===0||u.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+a.getValue()[0]<ye.MIN_ROWS_IN_BARCODE||l.getValue()[0]+a.getValue()[0]>ye.MAX_ROWS_IN_BARCODE)return null;let f=new yn(o.getValue()[0],l.getValue()[0],a.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,f),f}removeIncorrectCodewords(i,o){for(let l=0;l<i.length;l++){let a=i[l];if(i[l]==null)continue;let u=a.getValue()%30,f=a.getRowNumber();if(f>o.getRowCount()){i[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==o.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(u/3)!==o.getErrorCorrectionLevel()||u%3!==o.getRowCountLowerPart())&&(i[l]=null);break;case 2:u+1!==o.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class nr{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=ye.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let a=0;a<l.length;a++)l[a]!=null&&(l[a].hasValidRowNumber()||this.adjustRowNumbers(o,a,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&o[l]!=null&&i[l].getRowNumber()===o[l].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let u=this.detectionResultColumns[a].getCodewords()[l];u!=null&&(u.setRowNumber(i[l].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let a=o[l].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[l];p!=null&&(u=nr.adjustRowNumberIfValid(a,u,p),p.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let a=o[l].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[l];p!=null&&(u=nr.adjustRowNumberIfValid(a,u,p),p.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,l){if(!this.detectionResultColumns[i-1])return;let a=l[o],u=this.detectionResultColumns[i-1].getCodewords(),f=u;this.detectionResultColumns[i+1]!=null&&(f=this.detectionResultColumns[i+1].getCodewords());let p=new Array(14);p[2]=u[o],p[3]=f[o],o>0&&(p[0]=l[o-1],p[4]=u[o-1],p[5]=f[o-1]),o>1&&(p[8]=l[o-2],p[10]=u[o-2],p[11]=f[o-2]),o<l.length-1&&(p[1]=l[o+1],p[6]=u[o+1],p[7]=f[o+1]),o<l.length-2&&(p[9]=l[o+2],p[12]=u[o+2],p[13]=f[o+2]);for(let E of p)if(nr.adjustRowNumber(a,E))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new bi;for(let l=0;l<i.getCodewords().length;l++){o.format("CW %3d:",l);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){o.format("    |   ");continue}let u=this.detectionResultColumns[a].getCodewords()[l];if(u==null){o.format("    |   ");continue}o.format(" %3d|%3d",u.getRowNumber(),u.getValue())}o.format("%n")}return o.toString()}}class Oo{constructor(i,o,l,a){this.rowNumber=Oo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Oo.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Oo.BARCODE_ROW_UNKNOWN=-1;class Wn{static initialize(){for(let i=0;i<ye.SYMBOL_TABLE.length;i++){let o=ye.SYMBOL_TABLE[i],l=o&1;for(let a=0;a<ye.BARS_IN_MODULE;a++){let u=0;for(;(o&1)===l;)u+=1,o>>=1;l=o&1,Wn.RATIOS_TABLE[i]||(Wn.RATIOS_TABLE[i]=new Array(ye.BARS_IN_MODULE)),Wn.RATIOS_TABLE[i][ye.BARS_IN_MODULE-a-1]=Math.fround(u/ye.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Wn.getDecodedCodewordValue(Wn.sampleBitCounts(i));return o!==-1?o:Wn.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=ht.sum(i),l=new Int32Array(ye.BARS_IN_MODULE),a=0,u=0;for(let f=0;f<ye.MODULES_IN_CODEWORD;f++){let p=o/(2*ye.MODULES_IN_CODEWORD)+f*o/ye.MODULES_IN_CODEWORD;u+i[a]<=p&&(u+=i[a],a++),l[a]++}return l}static getDecodedCodewordValue(i){let o=Wn.getBitValue(i);return ye.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let l=0;l<i.length;l++)for(let a=0;a<i[l];a++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=ht.sum(i),l=new Array(ye.BARS_IN_MODULE);if(o>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(i[f]/o);let a=To.MAX_VALUE,u=-1;this.bSymbolTableReady||Wn.initialize();for(let f=0;f<Wn.RATIOS_TABLE.length;f++){let p=0,E=Wn.RATIOS_TABLE[f];for(let x=0;x<ye.BARS_IN_MODULE;x++){let C=Math.fround(E[x]-l[x]);if(p+=Math.fround(C*C),p>=a)break}p<a&&(a=p,u=ye.SYMBOL_TABLE[f])}return u}}Wn.bSymbolTableReady=!1,Wn.RATIOS_TABLE=new Array(ye.SYMBOL_TABLE.length).map(A=>new Array(ye.BARS_IN_MODULE));class Sl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class pt{static parseLong(i,o=void 0){return parseInt(i,o)}}class $a extends b{}$a.kind="NullPointerException";class Ai{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,l){if(i==null)throw new $a;if(o<0||o>i.length||l<0||o+l>i.length||o+l<0)throw new Ne;if(l===0)return;for(let a=0;a<l;a++)this.write(i[o+a])}flush(){}close(){}}class Gr extends b{}class Ja extends Ai{constructor(i=32){if(super(),this.count=0,i<0)throw new N("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Gr;l=B.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,l){if(o<0||o>i.length||l<0||o+l-i.length>0)throw new Ne;this.ensureCapacity(this.count+l),X.arraycopy(i,o,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Mt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function ws(){if(typeof window<"u")return window.BigInt||null;if(typeof Ts<"u")return Ts.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vs;function Ji(A){if(typeof vs>"u"&&(vs=ws()),vs===null)throw new Error("BigInt is not supported!");return vs(A)}function Qc(){let A=[];A[0]=Ji(1);let i=Ji(900);A[1]=i;for(let o=2;o<16;o++)A[o]=A[o-1]*i;return A}class q{static decode(i,o){let l=new it(""),a=oe.ISO8859_1;l.enableDecoding(a);let u=1,f=i[u++],p=new Sl;for(;u<i[0];){switch(f){case q.TEXT_COMPACTION_MODE_LATCH:u=q.textCompaction(i,u,l);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:u=q.byteCompaction(f,i,a,u,l);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:u=q.numericCompaction(i,u,l);break;case q.ECI_CHARSET:oe.getCharacterSetECIByValue(i[u++]);break;case q.ECI_GENERAL_PURPOSE:u+=2;break;case q.ECI_USER_DEFINED:u++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=q.decodeMacroBlock(i,u,p);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new K;default:u--,u=q.textCompaction(i,u,l);break}if(u<i.length)f=i[u++];else throw K.getFormatInstance()}if(l.length()===0)throw K.getFormatInstance();let E=new Ki(null,l.toString(),null,o);return E.setOther(p),E}static decodeMacroBlock(i,o,l){if(o+q.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw K.getFormatInstance();let a=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<q.NUMBER_OF_SEQUENCE_CODEWORDS;p++,o++)a[p]=i[o];l.setSegmentIndex(B.parseInt(q.decodeBase900toBase10(a,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new it;o=q.textCompaction(i,o,u),l.setFileId(u.toString());let f=-1;for(i[o]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<i[0];)switch(i[o]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new it;o=q.textCompaction(i,o+1,p),l.setFileName(p.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new it;o=q.textCompaction(i,o+1,E),l.setSender(E.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new it;o=q.textCompaction(i,o+1,x),l.setAddressee(x.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new it;o=q.numericCompaction(i,o+1,C),l.setSegmentCount(B.parseInt(C.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new it;o=q.numericCompaction(i,o+1,I),l.setTimestamp(pt.parseLong(I.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new it;o=q.numericCompaction(i,o+1,T),l.setChecksum(B.parseInt(T.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new it;o=q.numericCompaction(i,o+1,P),l.setFileSize(pt.parseLong(P.toString()));break;default:throw K.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw K.getFormatInstance()}if(f!==-1){let p=o-f;l.isLastSegment()&&p--,l.setOptionalData(D.copyOfRange(i,f,f+p))}return o}static textCompaction(i,o,l){let a=new Int32Array((i[0]-o)*2),u=new Int32Array((i[0]-o)*2),f=0,p=!1;for(;o<i[0]&&!p;){let E=i[o++];if(E<q.TEXT_COMPACTION_MODE_LATCH)a[f]=E/30,a[f+1]=E%30,f+=2;else switch(E){case q.TEXT_COMPACTION_MODE_LATCH:a[f++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:o--,p=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[f]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=i[o++],u[f]=E,f++;break}}return q.decodeTextCompaction(a,u,f,l),o}static decodeTextCompaction(i,o,l,a){let u=Mt.ALPHA,f=Mt.ALPHA,p=0;for(;p<l;){let E=i[p],x="";switch(u){case Mt.ALPHA:if(E<26)x=String.fromCharCode(65+E);else switch(E){case 26:x=" ";break;case q.LL:u=Mt.LOWER;break;case q.ML:u=Mt.MIXED;break;case q.PS:f=u,u=Mt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.LOWER:if(E<26)x=String.fromCharCode(97+E);else switch(E){case 26:x=" ";break;case q.AS:f=u,u=Mt.ALPHA_SHIFT;break;case q.ML:u=Mt.MIXED;break;case q.PS:f=u,u=Mt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.MIXED:if(E<q.PL)x=q.MIXED_CHARS[E];else switch(E){case q.PL:u=Mt.PUNCT;break;case 26:x=" ";break;case q.LL:u=Mt.LOWER;break;case q.AL:u=Mt.ALPHA;break;case q.PS:f=u,u=Mt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.PUNCT:if(E<q.PAL)x=q.PUNCT_CHARS[E];else switch(E){case q.PAL:u=Mt.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(u=f,E<26)x=String.fromCharCode(65+E);else switch(E){case 26:x=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(u=f,E<q.PAL)x=q.PUNCT_CHARS[E];else switch(E){case q.PAL:u=Mt.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break}x!==""&&a.append(x),p++}}static byteCompaction(i,o,l,a,u){let f=new Ja,p=0,E=0,x=!1;switch(i){case q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),I=o[a++];for(;a<o[0]&&!x;)switch(C[p++]=I,E=900*E+I,I=o[a++],I){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:a--,x=!0;break;default:if(p%5===0&&p>0){for(let T=0;T<6;++T)f.write(Number(Ji(E)>>Ji(8*(5-T))));E=0,p=0}break}a===o[0]&&I<q.TEXT_COMPACTION_MODE_LATCH&&(C[p++]=I);for(let T=0;T<p;T++)f.write(C[T]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;a<o[0]&&!x;){let T=o[a++];if(T<q.TEXT_COMPACTION_MODE_LATCH)p++,E=900*E+T;else switch(T){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:a--,x=!0;break}if(p%5===0&&p>0){for(let P=0;P<6;++P)f.write(Number(Ji(E)>>Ji(8*(5-P))));E=0,p=0}}break}return u.append(Qe.decode(f.toByteArray(),l)),a}static numericCompaction(i,o,l){let a=0,u=!1,f=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!u;){let p=i[o++];if(o===i[0]&&(u=!0),p<q.TEXT_COMPACTION_MODE_LATCH)f[a]=p,a++;else switch(p){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:o--,u=!0;break}(a%q.MAX_NUMERIC_CODEWORDS===0||p===q.NUMERIC_COMPACTION_MODE_LATCH||u)&&a>0&&(l.append(q.decodeBase900toBase10(f,a)),a=0)}return o}static decodeBase900toBase10(i,o){let l=Ji(0);for(let u=0;u<o;u++)l+=q.EXP900[o-u-1]*Ji(i[u]);let a=l.toString();if(a.charAt(0)!=="1")throw new K;return a.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=ws()?Qc():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $e{constructor(){}static decode(i,o,l,a,u,f,p){let E=new Si(i,o,l,a,u),x=null,C=null,I;for(let z=!0;;z=!1){if(o!=null&&(x=$e.getRowIndicatorColumn(i,E,o,!0,f,p)),a!=null&&(C=$e.getRowIndicatorColumn(i,E,a,!1,f,p)),I=$e.merge(x,C),I==null)throw ee.getNotFoundInstance();let U=I.getBoundingBox();if(z&&U!=null&&(U.getMinY()<E.getMinY()||U.getMaxY()>E.getMaxY()))E=U;else break}I.setBoundingBox(E);let T=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,x),I.setDetectionResultColumn(T,C);let P=x!=null;for(let z=1;z<=T;z++){let U=P?z:T-z;if(I.getDetectionResultColumn(U)!==void 0)continue;let G;U===0||U===T?G=new Qa(E,U===0):G=new er(E),I.setDetectionResultColumn(U,G);let Y=-1,ue=Y;for(let he=E.getMinY();he<=E.getMaxY();he++){if(Y=$e.getStartColumn(I,U,he,P),Y<0||Y>E.getMaxX()){if(ue===-1)continue;Y=ue}let ae=$e.detectCodeword(i,E.getMinX(),E.getMaxX(),P,Y,he,f,p);ae!=null&&(G.setCodeword(he,ae),ue=Y,f=Math.min(f,ae.getWidth()),p=Math.max(p,ae.getWidth()))}}return $e.createDecoderResult(I)}static merge(i,o){if(i==null&&o==null)return null;let l=$e.getBarcodeMetadata(i,o);if(l==null)return null;let a=Si.merge($e.adjustBoundingBox(i),$e.adjustBoundingBox(o));return new nr(l,a)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let l=$e.getMax(o),a=0;for(let p of o)if(a+=l-p,p>0)break;let u=i.getCodewords();for(let p=0;a>0&&u[p]==null;p++)a--;let f=0;for(let p=o.length-1;p>=0&&(f+=l-o[p],!(o[p]>0));p--);for(let p=u.length-1;f>0&&u[p]==null;p--)f--;return i.getBoundingBox().addMissingRows(a,f,i.isLeft())}static getMax(i){let o=-1;for(let l of i)o=Math.max(o,l);return o}static getBarcodeMetadata(i,o){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let a;return o==null||(a=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==a.getColumnCount()&&l.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&l.getRowCount()!==a.getRowCount()?null:l}static getRowIndicatorColumn(i,o,l,a,u,f){let p=new Qa(o,a);for(let E=0;E<2;E++){let x=E===0?1:-1,C=Math.trunc(Math.trunc(l.getX()));for(let I=Math.trunc(Math.trunc(l.getY()));I<=o.getMaxY()&&I>=o.getMinY();I+=x){let T=$e.detectCodeword(i,0,i.getWidth(),a,C,I,u,f);T!=null&&(p.setCodeword(I,T),a?C=T.getStartX():C=T.getEndX())}}return p}static adjustCodewordCount(i,o){let l=o[0][1],a=l.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-$e.getNumberOfECCodeWords(i.getBarcodeECLevel());if(a.length===0){if(u<1||u>ye.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();l.setValue(u)}else a[0]!==u&&l.setValue(u)}static createDecoderResult(i){let o=$e.createBarcodeMatrix(i);$e.adjustCodewordCount(i,o);let l=new Array,a=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],f=new Array;for(let E=0;E<i.getBarcodeRowCount();E++)for(let x=0;x<i.getBarcodeColumnCount();x++){let C=o[E][x+1].getValue(),I=E*i.getBarcodeColumnCount()+x;C.length===0?l.push(I):C.length===1?a[I]=C[0]:(f.push(I),u.push(C))}let p=new Array(u.length);for(let E=0;E<p.length;E++)p[E]=u[E];return $e.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),a,ye.toIntArray(l),ye.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(i,o,l,a,u){let f=new Int32Array(a.length),p=100;for(;p-- >0;){for(let E=0;E<f.length;E++)o[a[E]]=u[E][f[E]];try{return $e.decodeCodewords(o,i,l)}catch(E){if(!(E instanceof V))throw E}if(f.length===0)throw V.getChecksumInstance();for(let E=0;E<f.length;E++)if(f[E]<u[E].length-1){f[E]++;break}else if(f[E]=0,E===f.length-1)throw V.getChecksumInstance()}throw V.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let a=0;a<o.length;a++)for(let u=0;u<o[a].length;u++)o[a][u]=new tr;let l=0;for(let a of i.getDetectionResultColumns()){if(a!=null){for(let u of a.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][l].setValue(u.getValue())}}}l++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,l,a){let u=a?1:-1,f=null;if($e.isValidBarcodeColumn(i,o-u)&&(f=i.getDetectionResultColumn(o-u).getCodeword(l)),f!=null)return a?f.getEndX():f.getStartX();if(f=i.getDetectionResultColumn(o).getCodewordNearby(l),f!=null)return a?f.getStartX():f.getEndX();if($e.isValidBarcodeColumn(i,o-u)&&(f=i.getDetectionResultColumn(o-u).getCodewordNearby(l)),f!=null)return a?f.getEndX():f.getStartX();let p=0;for(;$e.isValidBarcodeColumn(i,o-u);){o-=u;for(let E of i.getDetectionResultColumn(o).getCodewords())if(E!=null)return(a?E.getEndX():E.getStartX())+u*p*(E.getEndX()-E.getStartX());p++}return a?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,l,a,u,f,p,E){u=$e.adjustCodewordStartColumn(i,o,l,a,u,f);let x=$e.getModuleBitCount(i,o,l,a,u,f);if(x==null)return null;let C,I=ht.sum(x);if(a)C=u+I;else{for(let z=0;z<x.length/2;z++){let U=x[z];x[z]=x[x.length-1-z],x[x.length-1-z]=U}C=u,u=C-I}if(!$e.checkCodewordSkew(I,p,E))return null;let T=Wn.getDecodedValue(x),P=ye.getCodeword(T);return P===-1?null:new Oo(u,C,$e.getCodewordBucketNumber(T),P)}static getModuleBitCount(i,o,l,a,u,f){let p=u,E=new Int32Array(8),x=0,C=a?1:-1,I=a;for(;(a?p<l:p>=o)&&x<E.length;)i.get(p,f)===I?(E[x]++,p+=C):(x++,I=!I);return x===E.length||p===(a?l:o)&&x===E.length-1?E:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,l,a,u,f){let p=u,E=a?-1:1;for(let x=0;x<2;x++){for(;(a?p>=o:p<l)&&a===i.get(p,f);){if(Math.abs(u-p)>$e.CODEWORD_SKEW_SIZE)return u;p+=E}E=-E,a=!a}return p}static checkCodewordSkew(i,o,l){return o-$e.CODEWORD_SKEW_SIZE<=i&&i<=l+$e.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,l){if(i.length===0)throw K.getFormatInstance();let a=1<<o+1,u=$e.correctErrors(i,l,a);$e.verifyCodewordCount(i,a);let f=q.decode(i,""+o);return f.setErrorsCorrected(u),f.setErasures(l.length),f}static correctErrors(i,o,l){if(o!=null&&o.length>l/2+$e.MAX_ERRORS||l<0||l>$e.MAX_EC_CODEWORDS)throw V.getChecksumInstance();return $e.errorCorrection.decode(i,l,o)}static verifyCodewordCount(i,o){if(i.length<4)throw K.getFormatInstance();let l=i[0];if(l>i.length)throw K.getFormatInstance();if(l===0)if(o<i.length)i[0]=i.length-o;else throw K.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),l=0,a=o.length-1;for(;!((i&1)!==l&&(l=i&1,a--,a<0));)o[a]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return $e.getCodewordBucketNumber($e.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new bi;for(let l=0;l<i.length;l++){o.format("Row %2d: ",l);for(let a=0;a<i[l].length;a++){let u=i[l][a];u.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}o.format("%n")}return o.toString()}}$e.CODEWORD_SKEW_SIZE=2,$e.MAX_ERRORS=3,$e.MAX_EC_CODEWORDS=512,$e.errorCorrection=new ys;class wn{decode(i,o=null){let l=wn.decode(i,o,!1);if(l==null||l.length===0||l[0]==null)throw ee.getNotFoundInstance();return l[0]}decodeMultiple(i,o=null){try{return wn.decode(i,o,!0)}catch(l){throw l instanceof K||l instanceof V?ee.getNotFoundInstance():l}}static decode(i,o,l){const a=new Array,u=Ke.detectMultiple(i,o,l);for(const f of u.getPoints()){const p=$e.decode(u.getBits(),f[4],f[5],f[6],f[7],wn.getMinCodewordWidth(f),wn.getMaxCodewordWidth(f)),E=new We(p.getText(),p.getRawBytes(),void 0,f,te.PDF_417);E.putMetadata(He.ERROR_CORRECTION_LEVEL,p.getECLevel());const x=p.getOther();x!=null&&E.putMetadata(He.PDF417_EXTRA_METADATA,x),a.push(E)}return a.map(f=>f)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?B.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(wn.getMaxWidth(i[0],i[4]),wn.getMaxWidth(i[6],i[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.max(wn.getMaxWidth(i[1],i[5]),wn.getMaxWidth(i[7],i[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(wn.getMinWidth(i[0],i[4]),wn.getMinWidth(i[6],i[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.min(wn.getMinWidth(i[1],i[5]),wn.getMinWidth(i[7],i[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}reset(){}}class ni extends b{}ni.kind="ReaderException";class ed{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!s(i)&&i.get(ge.TRY_HARDER)===!0,l=s(i)?null:i.get(ge.POSSIBLE_FORMATS),a=new Array;if(!s(l)){const u=l.some(f=>f===te.UPC_A||f===te.UPC_E||f===te.EAN_13||f===te.EAN_8||f===te.CODABAR||f===te.CODE_39||f===te.CODE_93||f===te.CODE_128||f===te.ITF||f===te.RSS_14||f===te.RSS_EXPANDED);u&&!o&&a.push(new Eo(i,this.verbose)),l.includes(te.QR_CODE)&&a.push(new xn),l.includes(te.DATA_MATRIX)&&a.push(new Ot),l.includes(te.AZTEC)&&a.push(new Ro),l.includes(te.PDF_417)&&a.push(new wn),u&&o&&a.push(new Eo(i,this.verbose))}a.length===0&&(o||a.push(new Eo(i,this.verbose)),a.push(new xn),a.push(new Ot),a.push(new Ro),a.push(new wn),o&&a.push(new Eo(i,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new ni("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(l){if(l instanceof ni)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class td extends je{constructor(i=null,o=500){const l=new ed;l.setHints(i),super(l,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class xo extends je{constructor(i=500){super(new wn,i)}}class nd extends je{constructor(i=500){super(new xn,i)}}var Cs;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Cs||(Cs={}));var rn=Cs;class bl{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Jt(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let l=o[o.length-1];const a=this.field;for(let u=o.length;u<=i;u++){const f=l.multiply(new Jt(a,Int32Array.from([1,a.exp(u-1+a.getGeneratorBase())])));o.push(f),l=f}}return o[i]}encode(i,o){if(o===0)throw new N("No error correction bytes");const l=i.length-o;if(l<=0)throw new N("No data bytes provided");const a=this.buildGenerator(o),u=new Int32Array(l);X.arraycopy(i,0,u,0,l);let f=new Jt(this.field,u);f=f.multiplyByMonomial(o,1);const E=f.divide(a)[1].getCoefficients(),x=o-E.length;for(let C=0;C<x;C++)i[l+C]=0;X.arraycopy(E,0,i,l+x,E.length)}}class Yt{constructor(){}static applyMaskPenaltyRule1(i){return Yt.applyMaskPenaltyRule1Internal(i,!0)+Yt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const l=i.getArray(),a=i.getWidth(),u=i.getHeight();for(let f=0;f<u-1;f++){const p=l[f];for(let E=0;E<a-1;E++){const x=p[E];x===p[E+1]&&x===l[f+1][E]&&x===l[f+1][E+1]&&o++}}return Yt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const l=i.getArray(),a=i.getWidth(),u=i.getHeight();for(let f=0;f<u;f++)for(let p=0;p<a;p++){const E=l[f];p+6<a&&E[p]===1&&E[p+1]===0&&E[p+2]===1&&E[p+3]===1&&E[p+4]===1&&E[p+5]===0&&E[p+6]===1&&(Yt.isWhiteHorizontal(E,p-4,p)||Yt.isWhiteHorizontal(E,p+7,p+11))&&o++,f+6<u&&l[f][p]===1&&l[f+1][p]===0&&l[f+2][p]===1&&l[f+3][p]===1&&l[f+4][p]===1&&l[f+5][p]===0&&l[f+6][p]===1&&(Yt.isWhiteVertical(l,p,f-4,f)||Yt.isWhiteVertical(l,p,f+7,f+11))&&o++}return o*Yt.N3}static isWhiteHorizontal(i,o,l){o=Math.max(o,0),l=Math.min(l,i.length);for(let a=o;a<l;a++)if(i[a]===1)return!1;return!0}static isWhiteVertical(i,o,l,a){l=Math.max(l,0),a=Math.min(a,i.length);for(let u=l;u<a;u++)if(i[u][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const l=i.getArray(),a=i.getWidth(),u=i.getHeight();for(let E=0;E<u;E++){const x=l[E];for(let C=0;C<a;C++)x[C]===1&&o++}const f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*Yt.N4}static getDataMaskBit(i,o,l){let a,u;switch(i){case 0:a=l+o&1;break;case 1:a=l&1;break;case 2:a=o%3;break;case 3:a=(l+o)%3;break;case 4:a=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:u=l*o,a=(u&1)+u%3;break;case 6:u=l*o,a=(u&1)+u%3&1;break;case 7:u=l*o,a=u%3+(l+o&1)&1;break;default:throw new N("Invalid mask pattern: "+i)}return a===0}static applyMaskPenaltyRule1Internal(i,o){let l=0;const a=o?i.getHeight():i.getWidth(),u=o?i.getWidth():i.getHeight(),f=i.getArray();for(let p=0;p<a;p++){let E=0,x=-1;for(let C=0;C<u;C++){const I=o?f[p][C]:f[C][p];I===x?E++:(E>=5&&(l+=Yt.N1+(E-5)),E=1,x=I)}E>=5&&(l+=Yt.N1+(E-5))}return l}}Yt.N1=3,Yt.N2=3,Yt.N3=40,Yt.N4=10;class Zr{constructor(i,o){this.width=i,this.height=o;const l=new Array(o);for(let a=0;a!==o;a++)l[a]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,l){this.bytes[o][i]=l}setBoolean(i,o,l){this.bytes[o][i]=l?1:0}clear(i){for(const o of this.bytes)D.fill(o,i)}equals(i){if(!(i instanceof Zr))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,a=this.height;l<a;++l){const u=this.bytes[l],f=o.bytes[l];for(let p=0,E=this.width;p<E;++p)if(u[p]!==f[p])return!1}return!0}toString(){const i=new it;for(let o=0,l=this.height;o<l;++o){const a=this.bytes[o];for(let u=0,f=this.width;u<f;++u)switch(a[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Mo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new it;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Mo.NUM_MASK_PATTERNS}}Mo.NUM_MASK_PATTERNS=8;class Pt extends b{}Pt.kind="WriterException";class Pe{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,l,a,u){Pe.clearMatrix(u),Pe.embedBasicPatterns(l,u),Pe.embedTypeInfo(o,a,u),Pe.maybeEmbedVersionInfo(l,u),Pe.embedDataBits(i,a,u)}static embedBasicPatterns(i,o){Pe.embedPositionDetectionPatternsAndSeparators(o),Pe.embedDarkDotAtLeftBottomCorner(o),Pe.maybeEmbedPositionAdjustmentPatterns(i,o),Pe.embedTimingPatterns(o)}static embedTypeInfo(i,o,l){const a=new J;Pe.makeTypeInfoBits(i,o,a);for(let u=0,f=a.getSize();u<f;++u){const p=a.get(a.getSize()-1-u),E=Pe.TYPE_INFO_COORDINATES[u],x=E[0],C=E[1];if(l.setBoolean(x,C,p),u<8){const I=l.getWidth()-u-1;l.setBoolean(I,8,p)}else{const T=l.getHeight()-7+(u-8);l.setBoolean(8,T,p)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const l=new J;Pe.makeVersionInfoBits(i,l);let a=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const p=l.get(a);a--,o.setBoolean(u,o.getHeight()-11+f,p),o.setBoolean(o.getHeight()-11+f,u,p)}}static embedDataBits(i,o,l){let a=0,u=-1,f=l.getWidth()-1,p=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);p>=0&&p<l.getHeight();){for(let E=0;E<2;++E){const x=f-E;if(!Pe.isEmpty(l.get(x,p)))continue;let C;a<i.getSize()?(C=i.get(a),++a):C=!1,o!==255&&Yt.getDataMaskBit(o,x,p)&&(C=!C),l.setBoolean(x,p,C)}p+=u}u=-u,p+=u,f-=2}if(a!==i.getSize())throw new Pt("Not all bits consumed: "+a+"/"+i.getSize())}static findMSBSet(i){return 32-B.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new N("0 polynomial");const l=Pe.findMSBSet(o);for(i<<=l-1;Pe.findMSBSet(i)>=l;)i^=o<<Pe.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,o,l){if(!Mo.isValidMaskPattern(o))throw new Pt("Invalid mask pattern");const a=i.getBits()<<3|o;l.appendBits(a,5);const u=Pe.calculateBCHCode(a,Pe.TYPE_INFO_POLY);l.appendBits(u,10);const f=new J;if(f.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new Pt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const l=Pe.calculateBCHCode(i.getVersionNumber(),Pe.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Pt("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const l=(o+1)%2;Pe.isEmpty(i.get(o,6))&&i.setNumber(o,6,l),Pe.isEmpty(i.get(6,o))&&i.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Pt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,l){for(let a=0;a<8;++a){if(!Pe.isEmpty(l.get(i+a,o)))throw new Pt;l.setNumber(i+a,o,0)}}static embedVerticalSeparationPattern(i,o,l){for(let a=0;a<7;++a){if(!Pe.isEmpty(l.get(i,o+a)))throw new Pt;l.setNumber(i,o+a,0)}}static embedPositionAdjustmentPattern(i,o,l){for(let a=0;a<5;++a){const u=Pe.POSITION_ADJUSTMENT_PATTERN[a];for(let f=0;f<5;++f)l.setNumber(i+f,o+a,u[f])}}static embedPositionDetectionPattern(i,o,l){for(let a=0;a<7;++a){const u=Pe.POSITION_DETECTION_PATTERN[a];for(let f=0;f<7;++f)l.setNumber(i+f,o+a,u[f])}}static embedPositionDetectionPatternsAndSeparators(i){const o=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,i),Pe.embedPositionDetectionPattern(i.getWidth()-o,0,i),Pe.embedPositionDetectionPattern(0,i.getWidth()-o,i);const l=8;Pe.embedHorizontalSeparationPattern(0,l-1,i),Pe.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),Pe.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const a=7;Pe.embedVerticalSeparationPattern(a,0,i),Pe.embedVerticalSeparationPattern(i.getHeight()-a-1,0,i),Pe.embedVerticalSeparationPattern(a,i.getHeight()-a,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,a=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let u=0,f=a.length;u!==f;u++){const p=a[u];if(p>=0)for(let E=0;E!==f;E++){const x=a[E];x>=0&&Pe.isEmpty(o.get(x,p))&&Pe.embedPositionAdjustmentPattern(x-2,p-2,o)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class $c{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(i){return Yt.applyMaskPenaltyRule1(i)+Yt.applyMaskPenaltyRule2(i)+Yt.applyMaskPenaltyRule3(i)+Yt.applyMaskPenaltyRule4(i)}static encode(i,o,l=null){let a=Dt.DEFAULT_BYTE_MODE_ENCODING;const u=l!==null&&l.get(rn.CHARACTER_SET)!==void 0;u&&(a=l.get(rn.CHARACTER_SET).toString());const f=this.chooseMode(i,a),p=new J;if(f===Le.BYTE&&(u||Dt.DEFAULT_BYTE_MODE_ENCODING!==a)){const he=oe.getCharacterSetECIByName(a);he!==void 0&&this.appendECI(he,p)}this.appendModeInfo(f,p);const E=new J;this.appendBytes(i,f,E,a);let x;if(l!==null&&l.get(rn.QR_VERSION)!==void 0){const he=Number.parseInt(l.get(rn.QR_VERSION).toString(),10);x=xe.getVersionForNumber(he);const ae=this.calculateBitsNeeded(f,p,E,x);if(!this.willFit(ae,x,o))throw new Pt("Data too big for requested version")}else x=this.recommendVersion(o,f,p,E);const C=new J;C.appendBitArray(p);const I=f===Le.BYTE?E.getSizeInBytes():i.length;this.appendLengthInfo(I,x,f,C),C.appendBitArray(E);const T=x.getECBlocksForLevel(o),P=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(P,C);const z=this.interleaveWithECBytes(C,x.getTotalCodewords(),P,T.getNumBlocks()),U=new Mo;U.setECLevel(o),U.setMode(f),U.setVersion(x);const G=x.getDimensionForVersion(),Y=new Zr(G,G),ue=this.chooseMaskPattern(z,o,x,Y);return U.setMaskPattern(ue),Pe.buildMatrix(z,o,x,ue,Y),U.setMatrix(Y),U}static recommendVersion(i,o,l,a){const u=this.calculateBitsNeeded(o,l,a,xe.getVersionForNumber(1)),f=this.chooseVersion(u,i),p=this.calculateBitsNeeded(o,l,a,f);return this.chooseVersion(p,i)}static calculateBitsNeeded(i,o,l,a){return o.getSize()+i.getCharacterCountBits(a)+l.getSize()}static getAlphanumericCode(i){return i<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(oe.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return Le.KANJI;let l=!1,a=!1;for(let u=0,f=i.length;u<f;++u){const p=i.charAt(u);if(Dt.isDigit(p))l=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)a=!0;else return Le.BYTE}return a?Le.ALPHANUMERIC:l?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=Qe.encode(i,oe.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let a=0;a<l;a+=2){const u=o[a]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,o,l,a){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<Mo.NUM_MASK_PATTERNS;p++){Pe.buildMatrix(i,o,l,p,a);let E=this.calculateMaskPenalty(a);E<u&&(u=E,f=p)}return f}static chooseVersion(i,o){for(let l=1;l<=40;l++){const a=xe.getVersionForNumber(l);if(Dt.willFit(i,a,o))return a}throw new Pt("Data too big")}static willFit(i,o,l){const a=o.getTotalCodewords(),f=o.getECBlocksForLevel(l).getTotalECCodewords(),p=a-f,E=(i+7)/8;return p>=E}static terminateBits(i,o){const l=i*8;if(o.getSize()>l)throw new Pt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let f=0;f<4&&o.getSize()<l;++f)o.appendBit(!1);const a=o.getSize()&7;if(a>0)for(let f=a;f<8;f++)o.appendBit(!1);const u=i-o.getSizeInBytes();for(let f=0;f<u;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==l)throw new Pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,l,a,u,f){if(a>=l)throw new Pt("Block ID too large");const p=i%l,E=l-p,x=Math.floor(i/l),C=x+1,I=Math.floor(o/l),T=I+1,P=x-I,z=C-T;if(P!==z)throw new Pt("EC bytes mismatch");if(l!==E+p)throw new Pt("RS blocks mismatch");if(i!==(I+P)*E+(T+z)*p)throw new Pt("Total bytes mismatch");a<E?(u[0]=I,f[0]=P):(u[0]=T,f[0]=z)}static interleaveWithECBytes(i,o,l,a){if(i.getSizeInBytes()!==l)throw new Pt("Number of bits and data bytes does not match");let u=0,f=0,p=0;const E=new Array;for(let C=0;C<a;++C){const I=new Int32Array(1),T=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(o,l,a,C,I,T);const P=I[0],z=new Uint8Array(P);i.toBytes(8*u,z,0,P);const U=Dt.generateECBytes(z,T[0]);E.push(new $c(z,U)),f=Math.max(f,P),p=Math.max(p,U.length),u+=I[0]}if(l!==u)throw new Pt("Data bytes does not match offset");const x=new J;for(let C=0;C<f;++C)for(const I of E){const T=I.getDataBytes();C<T.length&&x.appendBits(T[C],8)}for(let C=0;C<p;++C)for(const I of E){const T=I.getErrorCorrectionBytes();C<T.length&&x.appendBits(T[C],8)}if(o!==x.getSizeInBytes())throw new Pt("Interleaving error: "+o+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(i,o){const l=i.length,a=new Int32Array(l+o);for(let f=0;f<l;f++)a[f]=i[f]&255;new bl(ut.QR_CODE_FIELD_256).encode(a,o);const u=new Uint8Array(o);for(let f=0;f<o;f++)u[f]=a[l+f];return u}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,l,a){const u=l.getCharacterCountBits(o);if(i>=1<<u)throw new Pt(i+" is bigger than "+((1<<u)-1));a.appendBits(i,u)}static appendBytes(i,o,l,a){switch(o){case Le.NUMERIC:Dt.appendNumericBytes(i,l);break;case Le.ALPHANUMERIC:Dt.appendAlphanumericBytes(i,l);break;case Le.BYTE:Dt.append8BitBytes(i,l,a);break;case Le.KANJI:Dt.appendKanjiBytes(i,l);break;default:throw new Pt("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=Dt.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const l=i.length;let a=0;for(;a<l;){const u=Dt.getDigit(i.charAt(a));if(a+2<l){const f=Dt.getDigit(i.charAt(a+1)),p=Dt.getDigit(i.charAt(a+2));o.appendBits(u*100+f*10+p,10),a+=3}else if(a+1<l){const f=Dt.getDigit(i.charAt(a+1));o.appendBits(u*10+f,7),a+=2}else o.appendBits(u,4),a++}}static appendAlphanumericBytes(i,o){const l=i.length;let a=0;for(;a<l;){const u=Dt.getAlphanumericCode(i.charCodeAt(a));if(u===-1)throw new Pt;if(a+1<l){const f=Dt.getAlphanumericCode(i.charCodeAt(a+1));if(f===-1)throw new Pt;o.appendBits(u*45+f,11),a+=2}else o.appendBits(u,6),a++}}static append8BitBytes(i,o,l){let a;try{a=Qe.encode(i,l)}catch(u){throw new Pt(u)}for(let u=0,f=a.length;u!==f;u++){const p=a[u];o.appendBits(p,8)}}static appendKanjiBytes(i,o){let l;try{l=Qe.encode(i,oe.SJIS)}catch(u){throw new Pt(u)}const a=l.length;for(let u=0;u<a;u+=2){const f=l[u]&255,p=l[u+1]&255,E=f<<8&4294967295|p;let x=-1;if(E>=33088&&E<=40956?x=E-33088:E>=57408&&E<=60351&&(x=E-49472),x===-1)throw new Pt("Invalid byte sequence");const C=(x>>8)*192+(x&255);o.appendBits(C,13)}}static appendECI(i,o){o.appendBits(Le.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=oe.UTF8.getName();class yo{write(i,o,l,a=null){if(i.length===0)throw new N("Found empty contents");if(o<0||l<0)throw new N("Requested dimensions are too small: "+o+"x"+l);let u=st.L,f=yo.QUIET_ZONE_SIZE;a!==null&&(a.get(rn.ERROR_CORRECTION)!==void 0&&(u=st.fromString(a.get(rn.ERROR_CORRECTION).toString())),a.get(rn.MARGIN)!==void 0&&(f=Number.parseInt(a.get(rn.MARGIN).toString(),10)));const p=Dt.encode(i,u,a);return this.renderResult(p,o,l,f)}writeToDom(i,o,l,a,u=null){typeof i=="string"&&(i=document.querySelector(i));const f=this.write(o,l,a,u);i&&i.appendChild(f)}renderResult(i,o,l,a){const u=i.getMatrix();if(u===null)throw new Jn;const f=u.getWidth(),p=u.getHeight(),E=f+a*2,x=p+a*2,C=Math.max(o,E),I=Math.max(l,x),T=Math.min(Math.floor(C/E),Math.floor(I/x)),P=Math.floor((C-f*T)/2),z=Math.floor((I-p*T)/2),U=this.createSVGElement(C,I);for(let G=0,Y=z;G<p;G++,Y+=T)for(let ue=0,he=P;ue<f;ue++,he+=T)if(u.get(ue,G)===1){const ae=this.createSvgRectElement(he,Y,T,T);U.appendChild(ae)}return U}createSVGElement(i,o){const l=document.createElementNS(yo.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(i,o,l,a){const u=document.createElementNS(yo.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",o.toString()),u.setAttributeNS(null,"height",l.toString()),u.setAttributeNS(null,"width",a.toString()),u.setAttributeNS(null,"fill","#000000"),u}}yo.QUIET_ZONE_SIZE=4,yo.SVG_NS="http://www.w3.org/2000/svg";class eo{encode(i,o,l,a,u){if(i.length===0)throw new N("Found empty contents");if(o!==te.QR_CODE)throw new N("Can only encode QR_CODE, but got "+o);if(l<0||a<0)throw new N(`Requested dimensions are too small: ${l}x${a}`);let f=st.L,p=eo.QUIET_ZONE_SIZE;u!==null&&(u.get(rn.ERROR_CORRECTION)!==void 0&&(f=st.fromString(u.get(rn.ERROR_CORRECTION).toString())),u.get(rn.MARGIN)!==void 0&&(p=Number.parseInt(u.get(rn.MARGIN).toString(),10)));const E=Dt.encode(i,f,u);return eo.renderResult(E,l,a,p)}static renderResult(i,o,l,a){const u=i.getMatrix();if(u===null)throw new Jn;const f=u.getWidth(),p=u.getHeight(),E=f+a*2,x=p+a*2,C=Math.max(o,E),I=Math.max(l,x),T=Math.min(Math.floor(C/E),Math.floor(I/x)),P=Math.floor((C-f*T)/2),z=Math.floor((I-p*T)/2),U=new Ct(C,I);for(let G=0,Y=z;G<p;G++,Y+=T)for(let ue=0,he=P;ue<f;ue++,he+=T)u.get(ue,G)===1&&U.setRegion(he,Y,T,T);return U}}eo.QUIET_ZONE_SIZE=4;class Po{encode(i,o,l,a,u){let f;switch(o){case te.QR_CODE:f=new eo;break;default:throw new N("No encoder available for format "+o)}return f.encode(i,o,l,a,u)}}class ki extends ie{constructor(i,o,l,a,u,f,p,E){if(super(f,p),this.yuvData=i,this.dataWidth=o,this.dataHeight=l,this.left=a,this.top=u,a+f>o||u+p>l)throw new N("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(f,p)}getRow(i,o){if(i<0||i>=this.getHeight())throw new N("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const a=(i+this.top)*this.dataWidth+this.left;return X.arraycopy(this.yuvData,a,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=i*o,a=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return X.arraycopy(this.yuvData,u,a,0,l),a;for(let f=0;f<o;f++){const p=f*i;X.arraycopy(this.yuvData,u,a,p,i),u+=this.dataWidth}return a}isCropSupported(){return!0}crop(i,o,l,a){return new ki(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,l,a,!1)}renderThumbnail(){const i=this.getWidth()/ki.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ki.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*o),a=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const p=f*i;for(let E=0;E<i;E++){const x=a[u+E*ki.THUMBNAIL_SCALE_FACTOR]&255;l[p+E]=4278190080|x*65793}u+=this.dataWidth*ki.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ki.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ki.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const l=this.yuvData;for(let a=0,u=this.top*this.dataWidth+this.left;a<o;a++,u+=this.dataWidth){const f=u+i/2;for(let p=u,E=u+i-1;p<f;p++,E--){const x=l[p];l[p]=l[E],l[E]=x}}}invert(){return new Me(this)}}ki.THUMBNAIL_SCALE_FACTOR=2;class Fo extends ie{constructor(i,o,l,a,u,f,p){if(super(o,l),this.dataWidth=a,this.dataHeight=u,this.left=f,this.top=p,i.BYTES_PER_ELEMENT===4){const E=o*l,x=new Uint8ClampedArray(E);for(let C=0;C<E;C++){const I=i[C],T=I>>16&255,P=I>>7&510,z=I&255;x[C]=(T+P+z)/4&255}this.luminances=x}else this.luminances=i;if(a===void 0&&(this.dataWidth=o),u===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new N("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const a=(i+this.top)*this.dataWidth+this.left;return X.arraycopy(this.luminances,a,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=i*o,a=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return X.arraycopy(this.luminances,u,a,0,l),a;for(let f=0;f<o;f++){const p=f*i;X.arraycopy(this.luminances,u,a,p,i),u+=this.dataWidth}return a}isCropSupported(){return!0}crop(i,o,l,a){return new Fo(this.luminances,l,a,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new Me(this)}}class ii extends oe{static forName(i){return this.getCharacterSetECIByName(i)}}class Ss{}Ss.ISO_8859_1=oe.ISO8859_1;class Al{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class id{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Il{constructor(i){this.previous=i}getPrevious(){return this.previous}}class wo extends Il{constructor(i,o,l){super(i),this.value=o,this.bitCount=l}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new wo(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new wo(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+B.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Tl extends wo{constructor(i,o,l){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(i,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(i,o){return new Tl(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Jc(A,i,o){return new Tl(A,i,o)}function ir(A,i,o){return new wo(A,i,o)}const eu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pn=0,to=1,ui=2,Bi=3,zi=4,or=new wo(null,0,0),Rl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function jr(A){for(let i of A)D.fill(i,-1);return A[pn][zi]=0,A[to][zi]=0,A[to][pn]=28,A[Bi][zi]=0,A[ui][zi]=0,A[ui][pn]=15,A}const Nl=jr(D.createInt32Array(6,6));class oi{constructor(i,o,l,a){this.token=i,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let l=this.bitCount,a=this.token;if(i!==this.mode){let f=Rl[this.mode][i];a=ir(a,f&65535,f>>16),l+=f>>16}let u=i===ui?4:5;return a=ir(a,o,u),new oi(a,i,0,l+u)}shiftAndAppend(i,o){let l=this.token,a=this.mode===ui?4:5;return l=ir(l,Nl[this.mode][i],a),l=ir(l,o,5),new oi(l,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(i){let o=this.token,l=this.mode,a=this.bitCount;if(this.mode===zi||this.mode===ui){let p=Rl[l][pn];o=ir(o,p&65535,p>>16),a+=p>>16,l=pn}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new oi(o,l,this.binaryShiftByteCount+1,a+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(i+1)),f}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Jc(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new oi(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(Rl[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=oi.calculateBinaryShiftCost(i)-oi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let a=this.endBinaryShift(i.length).token;a!==null;a=a.getPrevious())o.unshift(a);let l=new J;for(const a of o)a.appendTo(l,i);return l}toString(){return Ce.format("%s bits=%d bytes=%d",eu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}oi.INITIAL_STATE=new oi(or,pn,0,0);function tu(A){const i=Ce.getCharCode(" "),o=Ce.getCharCode("."),l=Ce.getCharCode(",");A[pn][i]=1;const a=Ce.getCharCode("Z"),u=Ce.getCharCode("A");for(let T=u;T<=a;T++)A[pn][T]=T-u+2;A[to][i]=1;const f=Ce.getCharCode("z"),p=Ce.getCharCode("a");for(let T=p;T<=f;T++)A[to][T]=T-p+2;A[ui][i]=1;const E=Ce.getCharCode("9"),x=Ce.getCharCode("0");for(let T=x;T<=E;T++)A[ui][T]=T-x+2;A[ui][l]=12,A[ui][o]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<C.length;T++)A[Bi][Ce.getCharCode(C[T])]=T;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<I.length;T++)Ce.getCharCode(I[T])>0&&(A[zi][Ce.getCharCode(I[T])]=T);return A}const Hi=tu(D.createInt32Array(5,256));class vo{constructor(i){this.text=i}encode(){const i=Ce.getCharCode(" "),o=Ce.getCharCode(`
`);let l=id.singletonList(oi.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ce.getCharCode("\r"):f=p===o?2:0;break;case Ce.getCharCode("."):f=p===i?3:0;break;case Ce.getCharCode(","):f=p===i?4:0;break;case Ce.getCharCode(":"):f=p===i?5:0;break;default:f=0}f>0?(l=vo.updateStateListForPair(l,u,f),u++):l=this.updateStateListForChar(l,u)}return id.min(l,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const l=[];for(let a of i)this.updateStateForChar(a,o,l);return vo.simplifyStates(l)}updateStateForChar(i,o,l){let a=this.text[o]&255,u=Hi[i.getMode()][a]>0,f=null;for(let p=0;p<=zi;p++){let E=Hi[p][a];if(E>0){if(f==null&&(f=i.endBinaryShift(o)),!u||p===i.getMode()||p===ui){const x=f.latchAndAppend(p,E);l.push(x)}if(!u&&Nl[i.getMode()][p]>=0){const x=f.shiftAndAppend(p,E);l.push(x)}}}if(i.getBinaryShiftByteCount()>0||Hi[i.getMode()][a]===0){let p=i.addBinaryShiftChar(o);l.push(p)}}static updateStateListForPair(i,o,l){const a=[];for(let u of i)this.updateStateForPair(u,o,l,a);return this.simplifyStates(a)}static updateStateForPair(i,o,l,a){let u=i.endBinaryShift(o);if(a.push(u.latchAndAppend(zi,l)),i.getMode()!==zi&&a.push(u.shiftAndAppend(zi,l)),l===3||l===4){let f=u.latchAndAppend(ui,16-l).latchAndAppend(ui,1);a.push(f)}if(i.getBinaryShiftByteCount()>0){let f=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);a.push(f)}}static simplifyStates(i){let o=[];for(const l of i){let a=!0;for(const u of o){if(u.isBetterThanOrEqualTo(l)){a=!1;break}l.isBetterThanOrEqualTo(u)&&(o=o.filter(f=>f!==u))}a&&o.push(l)}return o}}class yt{constructor(){}static encodeBytes(i){return yt.encode(i,yt.DEFAULT_EC_PERCENT,yt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,l){let a=new vo(i).encode(),u=B.truncDivision(a.getSize()*o,100)+11,f=a.getSize()+u,p,E,x,C,I;if(l!==yt.DEFAULT_AZTEC_LAYERS){if(p=l<0,E=Math.abs(l),E>(p?yt.MAX_NB_BITS_COMPACT:yt.MAX_NB_BITS))throw new N(Ce.format("Illegal value %s for layers",l));x=yt.totalBitsInLayer(E,p),C=yt.WORD_SIZE[E];let ae=x-x%C;if(I=yt.stuffBits(a,C),I.getSize()+u>ae)throw new N("Data to large for user specified layer");if(p&&I.getSize()>C*64)throw new N("Data to large for user specified layer")}else{C=0,I=null;for(let ae=0;;ae++){if(ae>yt.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(p=ae<=3,E=p?ae+1:ae,x=yt.totalBitsInLayer(E,p),f>x)continue;(I==null||C!==yt.WORD_SIZE[E])&&(C=yt.WORD_SIZE[E],I=yt.stuffBits(a,C));let lt=x-x%C;if(!(p&&I.getSize()>C*64)&&I.getSize()+u<=lt)break}}let T=yt.generateCheckWords(I,x,C),P=I.getSize()/C,z=yt.generateModeMessage(p,E,P),U=(p?11:14)+E*4,G=new Int32Array(U),Y;if(p){Y=U;for(let ae=0;ae<G.length;ae++)G[ae]=ae}else{Y=U+1+2*B.truncDivision(B.truncDivision(U,2)-1,15);let ae=B.truncDivision(U,2),lt=B.truncDivision(Y,2);for(let qe=0;qe<ae;qe++){let Kt=qe+B.truncDivision(qe,15);G[ae-qe-1]=lt-Kt-1,G[ae+qe]=lt+Kt+1}}let ue=new Ct(Y);for(let ae=0,lt=0;ae<E;ae++){let qe=(E-ae)*4+(p?9:12);for(let Kt=0;Kt<qe;Kt++){let Vn=Kt*2;for(let Gn=0;Gn<2;Gn++)T.get(lt+Vn+Gn)&&ue.set(G[ae*2+Gn],G[ae*2+Kt]),T.get(lt+qe*2+Vn+Gn)&&ue.set(G[ae*2+Kt],G[U-1-ae*2-Gn]),T.get(lt+qe*4+Vn+Gn)&&ue.set(G[U-1-ae*2-Gn],G[U-1-ae*2-Kt]),T.get(lt+qe*6+Vn+Gn)&&ue.set(G[U-1-ae*2-Kt],G[ae*2+Gn])}lt+=qe*8}if(yt.drawModeMessage(ue,p,Y,z),p)yt.drawBullsEye(ue,B.truncDivision(Y,2),5);else{yt.drawBullsEye(ue,B.truncDivision(Y,2),7);for(let ae=0,lt=0;ae<B.truncDivision(U,2)-1;ae+=15,lt+=16)for(let qe=B.truncDivision(Y,2)&1;qe<Y;qe+=2)ue.set(B.truncDivision(Y,2)-lt,qe),ue.set(B.truncDivision(Y,2)+lt,qe),ue.set(qe,B.truncDivision(Y,2)-lt),ue.set(qe,B.truncDivision(Y,2)+lt)}let he=new Al;return he.setCompact(p),he.setSize(Y),he.setLayers(E),he.setCodeWords(P),he.setMatrix(ue),he}static drawBullsEye(i,o,l){for(let a=0;a<l;a+=2)for(let u=o-a;u<=o+a;u++)i.set(u,o-a),i.set(u,o+a),i.set(o-a,u),i.set(o+a,u);i.set(o-l,o-l),i.set(o-l+1,o-l),i.set(o-l,o-l+1),i.set(o+l,o-l),i.set(o+l,o-l+1),i.set(o+l,o+l-1)}static generateModeMessage(i,o,l){let a=new J;return i?(a.appendBits(o-1,2),a.appendBits(l-1,6),a=yt.generateCheckWords(a,28,4)):(a.appendBits(o-1,5),a.appendBits(l-1,11),a=yt.generateCheckWords(a,40,4)),a}static drawModeMessage(i,o,l,a){let u=B.truncDivision(l,2);if(o)for(let f=0;f<7;f++){let p=u-3+f;a.get(f)&&i.set(p,u-5),a.get(f+7)&&i.set(u+5,p),a.get(20-f)&&i.set(p,u+5),a.get(27-f)&&i.set(u-5,p)}else for(let f=0;f<10;f++){let p=u-5+f+B.truncDivision(f,5);a.get(f)&&i.set(p,u-7),a.get(f+10)&&i.set(u+7,p),a.get(29-f)&&i.set(p,u+7),a.get(39-f)&&i.set(u-7,p)}}static generateCheckWords(i,o,l){let a=i.getSize()/l,u=new bl(yt.getGF(l)),f=B.truncDivision(o,l),p=yt.bitsToWords(i,l,f);u.encode(p,f-a);let E=o%l,x=new J;x.appendBits(0,E);for(const C of Array.from(p))x.appendBits(C,l);return x}static bitsToWords(i,o,l){let a=new Int32Array(l),u,f;for(u=0,f=i.getSize()/o;u<f;u++){let p=0;for(let E=0;E<o;E++)p|=i.get(u*o+E)?1<<o-E-1:0;a[u]=p}return a}static getGF(i){switch(i){case 4:return ut.AZTEC_PARAM;case 6:return ut.AZTEC_DATA_6;case 8:return ut.AZTEC_DATA_8;case 10:return ut.AZTEC_DATA_10;case 12:return ut.AZTEC_DATA_12;default:throw new N("Unsupported word size "+i)}}static stuffBits(i,o){let l=new J,a=i.getSize(),u=(1<<o)-2;for(let f=0;f<a;f+=o){let p=0;for(let E=0;E<o;E++)(f+E>=a||i.get(f+E))&&(p|=1<<o-1-E);(p&u)===u?(l.appendBits(p&u,o),f--):p&u?l.appendBits(p,o):(l.appendBits(p|1,o),f--)}return l}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}yt.DEFAULT_EC_PERCENT=33,yt.DEFAULT_AZTEC_LAYERS=0,yt.MAX_NB_BITS=32,yt.MAX_NB_BITS_COMPACT=4,yt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class rr{encode(i,o,l,a){return this.encodeWithHints(i,o,l,a,null)}encodeWithHints(i,o,l,a,u){let f=Ss.ISO_8859_1,p=yt.DEFAULT_EC_PERCENT,E=yt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(rn.CHARACTER_SET)&&(f=ii.forName(u.get(rn.CHARACTER_SET).toString())),u.has(rn.ERROR_CORRECTION)&&(p=B.parseInt(u.get(rn.ERROR_CORRECTION).toString())),u.has(rn.AZTEC_LAYERS)&&(E=B.parseInt(u.get(rn.AZTEC_LAYERS).toString()))),rr.encodeLayers(i,o,l,a,f,p,E)}static encodeLayers(i,o,l,a,u,f,p){if(o!==te.AZTEC)throw new N("Can only encode AZTEC, but got "+o);let E=yt.encode(Ce.getBytes(i,u),f,p);return rr.renderResult(E,l,a)}static renderResult(i,o,l){let a=i.getMatrix();if(a==null)throw new Jn;let u=a.getWidth(),f=a.getHeight(),p=Math.max(o,u),E=Math.max(l,f),x=Math.min(p/u,E/f),C=(p-u*x)/2,I=(E-f*x)/2,T=new Ct(p,E);for(let P=0,z=I;P<f;P++,z+=x)for(let U=0,G=C;U<u;U++,G+=x)a.get(U,P)&&T.setRegion(G,z,x,x);return T}}n.AbstractExpandedDecoder=nt,n.ArgumentException=M,n.ArithmeticException=Pi,n.AztecCode=Al,n.AztecCodeReader=Ro,n.AztecCodeWriter=rr,n.AztecDecoder=St,n.AztecDetector=ft,n.AztecDetectorResult=Mr,n.AztecEncoder=yt,n.AztecHighLevelEncoder=vo,n.AztecPoint=En,n.BarcodeFormat=te,n.Binarizer=$,n.BinaryBitmap=F,n.BitArray=J,n.BitMatrix=Ct,n.BitSource=Jo,n.BrowserAztecCodeReader=Es,n.BrowserBarcodeReader=zr,n.BrowserCodeReader=je,n.BrowserDatamatrixCodeReader=yl,n.BrowserMultiFormatReader=td,n.BrowserPDF417Reader=xo,n.BrowserQRCodeReader=nd,n.BrowserQRCodeSvgWriter=yo,n.CharacterSetECI=oe,n.ChecksumException=V,n.Code128Reader=me,n.Code39Reader=en,n.DataMatrixDecodedBitStreamParser=ti,n.DataMatrixReader=Ot,n.DecodeHintType=ge,n.DecoderResult=Ki,n.DefaultGridSampler=Fr,n.DetectorResult=po,n.EAN13Reader=Ci,n.EncodeHintType=rn,n.Exception=b,n.FormatException=K,n.GenericGF=ut,n.GenericGFPoly=Jt,n.GlobalHistogramBinarizer=ot,n.GridSampler=Pr,n.GridSamplerInstance=vi,n.HTMLCanvasElementLuminanceSource=de,n.HybridBinarizer=Fe,n.ITFReader=Tt,n.IllegalArgumentException=N,n.IllegalStateException=Jn,n.InvertedLuminanceSource=Me,n.LuminanceSource=ie,n.MathUtils=ht,n.MultiFormatOneDReader=Eo,n.MultiFormatReader=ed,n.MultiFormatWriter=Po,n.NotFoundException=ee,n.OneDReader=Xt,n.PDF417DecodedBitStreamParser=q,n.PDF417DecoderErrorCorrection=ys,n.PDF417Reader=wn,n.PDF417ResultMetadata=Sl,n.PerspectiveTransform=kn,n.PlanarYUVLuminanceSource=ki,n.QRCodeByteMatrix=Zr,n.QRCodeDataMask=Rn,n.QRCodeDecodedBitStreamParser=Bt,n.QRCodeDecoderErrorCorrectionLevel=st,n.QRCodeDecoderFormatInformation=Tn,n.QRCodeEncoder=Dt,n.QRCodeEncoderQRCode=Mo,n.QRCodeMaskUtil=Yt,n.QRCodeMatrixUtil=Pe,n.QRCodeMode=Le,n.QRCodeReader=xn,n.QRCodeVersion=xe,n.QRCodeWriter=eo,n.RGBLuminanceSource=Fo,n.RSS14Reader=tn,n.RSSExpandedReader=se,n.ReaderException=ni,n.ReedSolomonDecoder=Fi,n.ReedSolomonEncoder=bl,n.ReedSolomonException=go,n.Result=We,n.ResultMetadataType=He,n.ResultPoint=Se,n.StringUtils=Ce,n.UnsupportedOperationException=Oe,n.VideoInputDevice=ze,n.WhiteRectangleDetector=wi,n.WriterException=Pt,n.ZXingArrays=D,n.ZXingCharset=ii,n.ZXingInteger=B,n.ZXingStandardCharsets=Ss,n.ZXingStringBuilder=it,n.ZXingStringEncoding=Qe,n.ZXingSystem=X,n.createAbstractExpandedDecoder=Br,Object.defineProperty(n,"__esModule",{value:!0})})})(ag,ag.exports);var Qh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(s[g]=d[g])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),ym=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),qE=function(t){Qh(e,t);function e(n,s){return t.call(this,n,s)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var s={};s[this.name]=n;var d={advanced:[s]};return this.track.applyConstraints(d)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(ym);(function(t){Qh(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(qE);(function(t){Qh(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(ym);var dg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(dg||(dg={}));var QE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(s[g]=d[g])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();(function(t){QE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(KE);var cg;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(cg||(cg={}));const $E="/Mapa-UC/assets/classroomLogo-caNNTX4V.png",JE="/Mapa-UC/assets/ScienceGroundFloorPlan-u3Hq3kSs.png",e5="/Mapa-UC/assets/Science1stFloorPlan-cZuwY7Va.png",t5="/Mapa-UC/assets/Science2ndFloorPlan-72T-1DP_.png",n5="/Mapa-UC/assets/Science3rdFloorPlan-ltQG_BLK.png",i5="/Mapa-UC/assets/Science4thFloorPlan-ouxsDBoA.png",o5="/Mapa-UC/assets/Science5thFloorPlan-ZcVbmUmd.png",r5="/Mapa-UC/assets/Science6thFloorPlan-YJ9oYy6p.png",s5="/Mapa-UC/assets/CHTMEDS4thFloorPlan-SXuS3p5e.png",l5="/Mapa-UC/assets/CHTMEDS5thFloorPlan-2lXaBFnh.png",a5="/Mapa-UC/assets/CHTMEDS6thFloorPlan-wKiQZ-kU.png",d5="/Mapa-UC/assets/CHTMEDS7thFloorPlan-U3g_VClC.png",c5="/Mapa-UC/assets/CHTMEDS8thFloorPlan-LUttnYwy.png",u5="/Mapa-UC/assets/CHTMEDS9thFloorPlan-n0rqRRQ3.png",h5="/Mapa-UC/assets/EDS3rdFloorPlan-z-ADDSXX.png",f5="/Mapa-UC/assets/CHTM10thFloorPlan-AjHahvk9.png",g5="/Mapa-UC/assets/Main4thFloorPlan-2KY9dXrV.png",p5="/Mapa-UC/assets/Main5thFloorPlan-roZVSH2c.png",m5="/Mapa-UC/assets/Main6thFloorPlan-7EZY2cJo.png",_5="/Mapa-UC/assets/Main3rdFloorPlan-2zKKnUvj.png",E5="/Mapa-UC/assets/Main2ndFloorPlan-VeO3cnro.png",x5="/Mapa-UC/assets/MainGroundFloorPlan-OTrTd-qZ.png",y5="/Mapa-UC/assets/leaveButton--kz3Hal_.png",w5="/Mapa-UC/assets/BRS1stFloorPlan-HFWeZoi-.png",v5="/Mapa-UC/assets/BRS2ndFloorPlan-P15QRV88.png",C5="/Mapa-UC/assets/BRS3rdFloorPlan-0XqkoP_w.png",S5="/Mapa-UC/assets/BRS4thFloorPlan-ZHpzsnA-.png",b5="/Mapa-UC/assets/BRS5thFloorPlan-Em2tRAoJ.png",A5="/Mapa-UC/assets/BRS6thFloorPlan-tiw_cL5j.png",I5="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",T5="/Mapa-UC/assets/BRS7thFloorPlan-030Wrle2.png",R5="/Mapa-UC/assets/BRS9thFloorPlan-JtTiX9QW.png",N5="/Mapa-UC/assets/BRS10thFloorPlan-jSdTOOTR.png",L5="/Mapa-UC/assets/defaultR-eLvNAyb4.png";function O5(t){let e=[];return t=="science2ndFloor"&&(e=[{id:0,lat:6.51,lon:.47},{id:1,lat:6.24,lon:.47},{lat:5.2,lon:.8,title:"office",building:"Science",floor:"2nd Floor",node:1,label:"classroomLogo"},{id:2,lat:6.75,lon:1},{lat:7.4,lon:.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:2,label:"classroomLogo"},{id:3,lat:6.51,lon:1},{id:6,lat:6.51,lon:1.8},{id:5,lat:6.24,lon:1.8},{lat:5.2,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:5,label:"classroomLogo"},{id:4,lat:6.75,lon:1.8},{lat:7.4,lon:1.7,title:"office",building:"Science",floor:"2nd Floor",node:4,label:"classroomLogo"},{id:7,lat:6.51,lon:2.25},{id:8,lat:6.51,lon:2.38},{id:9,lat:6.24,lon:2.38},{lat:5.2,lon:2.26,title:"classRoom",building:"Science",floor:"2nd Floor",node:9,label:"classroomLogo"},{id:10,lat:6.51,lon:2.55},{id:14,lat:7.15,lon:2.55,label:"leaveButton",destination:"science1stFloor",desti:340,direction:"down"},{id:11,lat:7.5,lon:2.25},{id:12,lat:7.5,lon:2.55},{id:13,lat:7.41,lon:2.55,label:"leaveButton",destination:"science3rdFloor",desti:486,direction:"up"},{id:15,lat:6.75,lon:2.78},{lat:8.1,lon:2.8,title:"office",building:"Science",floor:"2nd Floor",node:15,label:"classroomLogo"},{id:16,lat:6.51,lon:2.78},{id:19,lat:6.51,lon:3.3},{id:18,lat:6.75,lon:3.3},{lat:7.25,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:18,label:"classroomLogo"},{id:20,lat:6.24,lon:3.3},{lat:5.9,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:20,label:"classroomLogo"},{id:22,lat:6.51,lon:4.1},{id:23,lat:6.24,lon:4.1},{lat:5.9,lon:4.16,title:"classRoom",building:"Science",floor:"2nd Floor",node:23,label:"classroomLogo"},{id:21,lat:6.75,lon:4.1},{lat:7.25,lon:4,title:"classRoom",building:"Science",floor:"2nd Floor",node:21,label:"classroomLogo"},{id:24,lat:6.51,lon:4.63},{id:25,lat:7.79,lon:4.63},{id:26,lat:7.79,lon:4.725},{lat:8.1,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:26,label:"classroomLogo"},{id:27,lat:7.79,lon:4.5},{lat:8.1,lon:3.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:27,label:"classroomLogo"},{id:28,lat:6.51,lon:5.3},{id:29,lat:6.75,lon:5.3},{lat:7.25,lon:5.23,title:"classRoom",building:"Science",floor:"2nd Floor",node:29,label:"classroomLogo"},{id:30,lat:6.24,lon:5.3},{lat:5.9,lon:5.25,title:"classRoom",building:"Science",floor:"2nd Floor",node:30,label:"classroomLogo"},{id:31,lat:6.51,lon:5.92},{id:33,lat:6.51,lon:6.3},{id:34,lat:6.51,lon:6.47},{id:32,lat:6.75,lon:6.3},{lat:7.5,lon:6.2,title:"",building:"Science",floor:"2nd Floor",node:32,label:"classroomLogo"},{id:35,lat:6.24,lon:6.47},{lat:5.9,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:35,label:"classroomLogo"},{id:37,lat:6.51,lon:6.8},{id:36,lat:6.75,lon:6.8},{lat:7.7,lon:6.75,title:"",building:"Science",floor:"2nd Floor",node:36,label:"classroomLogo"},{id:38,lat:6.51,lon:7.12},{id:39,lat:6.51,lon:7.4},{id:48,lat:5.05,lon:7.12},{lat:4.8,lon:7.12,title:"facility",building:"Science",floor:"2nd Floor",node:48,label:"classroomLogo"},{id:47,lat:5.6,lon:7.21},{lat:5.5,lon:7.5,title:"facility",building:"Science",floor:"2nd Floor",node:47,label:"classroomLogo"},{id:46,lat:6,lon:7.3},{lat:6.05,lon:7.7,title:"facility",building:"Science",floor:"2nd Floor",node:46,label:"classroomLogo"},{id:40,lat:6.75,lon:7.4},{lat:7.7,lon:7.3,title:"",building:"Science",floor:"2nd Floor",node:40,label:"classroomLogo"},{id:41,lat:6.51,lon:7.65},{id:42,lat:6.63,lon:7.65},{id:45,lat:6.35,lon:7.65},{id:43,lat:6.63,lon:7.96},{id:44,lat:6.75,lon:7.96},{lat:7.25,lon:8.17,title:"classRoom",building:"Science",floor:"2nd Floor",node:44,label:"classroomLogo"},{id:49,lat:4.95,lon:5.92},{id:50,lat:4.95,lon:5.99},{lat:4.95,lon:6.4,title:"classRoom",building:"Science",floor:"2nd Floor",node:50,label:"classroomLogo"},{id:51,lat:4.2,lon:5.92},{id:52,lat:4.2,lon:5.99},{lat:4.25,lon:6.5,title:"classRoom",building:"Science",floor:"2nd Floor",node:52,label:"classroomLogo"},{id:53,lat:3.6,lon:5.92},{id:54,lat:3.31,lon:5.92},{lat:3,lon:5.75,title:"",building:"PE",floor:"2nd Floor",node:54,label:"classroomLogo"},{id:55,lat:3.6,lon:6.3},{id:56,lat:3.1,lon:6.3},{lat:2.75,lon:6.3,title:"",building:"PE",floor:"2nd Floor",node:56,label:"classroomLogo"},{id:57,lat:3.73,lon:6.3},{id:58,lat:3.73,lon:7.1},{id:59,lat:3.42,lon:7.1},{id:60,lat:3.6,lon:5.55},{id:61,lat:3.83,lon:5.55},{lat:4.4,lon:5.42,title:"classRoom",building:"Science",floor:"2nd Floor",node:61,label:"classroomLogo"},{id:62,lat:3.31,lon:5.25},{lat:3,lon:5.15,title:"",building:"PE",floor:"2nd Floor",node:62,label:"classroomLogo"},{id:63,lat:3.6,lon:5.05},{id:64,lat:3.83,lon:5.05},{lat:4.4,lon:4.9,title:"classRoom",building:"Science",floor:"2nd Floor",node:64,label:"classroomLogo"},{id:66,lat:3.31,lon:4.65},{lat:3,lon:4.5,title:"",building:"PE",floor:"2nd Floor",node:66,label:"classroomLogo"},{id:82,lat:3.6,lon:5.25},{id:68,lat:3.83,lon:4.5},{lat:4.4,lon:4.38,title:"classRoom",building:"Science",floor:"2nd Floor",node:68,label:"classroomLogo"},{id:67,lat:3.6,lon:4.5},{id:65,lat:3.6,lon:4.65},{id:71,lat:3.31,lon:3.9},{lat:3,lon:3.8,title:"",building:"PE",floor:"2nd Floor",node:71,label:"classroomLogo"},{id:69,lat:3.6,lon:3.9},{id:70,lat:3.83,lon:3.9},{lat:4.4,lon:3.84,title:"classRoom",building:"Science",floor:"2nd Floor",node:70,label:"classroomLogo"},{id:73,lat:3.24,lon:3.33,label:"leaveButton",destination:"science1stFloor",desti:413,direction:"down"},{id:75,lat:3.24,lon:3.045},{id:74,lat:3.6,lon:3.045},{id:72,lat:3.6,lon:3.33},{id:76,lat:3.6,lon:2.78},{id:77,lat:3.15,lon:2.5,label:"leaveButton",destination:"BRS2ndFloor",desti:100},{id:78,lat:4.2,lon:2.78},{id:79,lat:4.2,lon:2.86},{lat:4.3,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:79,label:"classroomLogo"},{id:80,lat:4.95,lon:2.78},{id:81,lat:4.95,lon:2.86},{lat:5,lon:3.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:81,label:"classroomLogo"},{id:90,lat:6.63,lon:8.51},{id:98,lat:6.63,lon:8.6},{lat:6.63,lon:8.75,title:"classRoom",building:"Science",floor:"2nd Floor",node:98},{id:91,lat:7.9,lon:9.05},{id:92,lat:7.9,lon:8.99},{lat:8,lon:8.2,title:"classRoom",building:"Science",floor:"2nd Floor",node:92,label:"classroomLogo"},{id:95,lat:6.35,lon:8.2,label:"leaveButton",destination:"science3rdFloor",desti:578,direction:"up"},{id:17,lat:2.45,lon:3.045},{id:99,lat:2.45,lon:3.33},{id:84,lat:2.68,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:541,direction:"up"},{id:93,lat:3.21,lon:7.1,label:"leaveButton",destination:"science3rdFloor",desti:565,direction:"up"},{id:94,lat:3.42,lon:7,label:"leaveButton",destination:"science1stFloor",desti:401,direction:"down"},{id:87,lat:6.65,lon:.47},{id:88,lat:6.65,lon:.25,label:"leaveButton",destination:"main2ndFloor",desti:827,direction:"up"},{id:87,lat:6.38,lon:.47},{id:89,lat:6.35,lon:8.5,label:"leaveButton",destination:"science1stFloor",desti:387,direction:"down"},{id:86,lat:6.38,lon:.23,label:"leaveButton",destination:"mainGroundFloor",desti:1702,direction:"down"},{id:85,lat:6.38,lon:.47}]),t=="science1stFloor"&&(e=[{id:340,lat:7.63,lon:2.8,label:"leaveButton",destination:"science2ndFloor",desti:14,direction:"up"},{id:341,lat:7.73,lon:2.8},{id:3e3,lat:7.92,lon:2.8,label:"leaveButton",destination:"scienceGroundFloor",desti:4e3,direction:"down"},{id:3001,lat:8,lon:2.8},{lat:8.2,lon:2.7,title:"classRoom",building:"Science",floor:"1st Floor",node:3001},{id:3002,lat:8,lon:1.9},{id:3003,lat:7.92,lon:1.9},{lat:6.5,lon:1.3,title:"classRoom",building:"Science",floor:"1st Floor",node:3007,label:"classroomLogo"},{id:3004,lat:8,lon:.55,label:"leaveButton",destination:"mainGroundFloor",desti:1704},{id:3005,lat:8,lon:1.9},{id:3006,lat:7.92,lon:1.9},{id:342,lat:7.73,lon:2.5},{id:343,lat:6.6,lon:2.5},{id:344,lat:6.6,lon:2.65},{id:345,lat:6.3,lon:2.65},{lat:5.5,lon:2.55,title:"classRoom",building:"Science",floor:"1st Floor",node:345,label:"classroomLogo"},{id:346,lat:6.6,lon:2.8},{id:347,lat:7.28,lon:2.8,label:"leaveButton",destination:"scienceGroundFloor",desti:420,direction:"down"},{id:348,lat:6.6,lon:3.05},{id:349,lat:6.3,lon:3.05},{lat:5.5,lon:3.15,title:"classRoom",building:"Science",floor:"1st Floor",node:349,label:"classroomLogo"},{id:350,lat:6.6,lon:3.5},{id:351,lat:6.9,lon:3.5},{lat:7.9,lon:3.25,title:"classRoom",building:"Science",floor:"1st Floor",node:351,label:"classroomLogo"},{id:352,lat:6.3,lon:3.5},{lat:6.15,lon:3.3,title:"classRoom",building:"Science",floor:"1st Floor",node:352,label:"classroomLogo"},{id:353,lat:6.6,lon:3.96},{id:354,lat:6.3,lon:3.96},{lat:5.5,lon:3.69,title:"classRoom",building:"Science",floor:"1st Floor",node:354,label:"classroomLogo"},{id:355,lat:6.6,lon:4.05},{id:356,lat:6.9,lon:4.05},{lat:7.9,lon:4,title:"classRoom",building:"Science",floor:"1st Floor",node:356,label:"classroomLogo"},{id:357,lat:6.6,lon:4.4},{id:358,lat:6.3,lon:4.4},{lat:5.8,lon:4.3,title:"classRoom",building:"Science",floor:"1st Floor",node:358,label:"classroomLogo"},{id:359,lat:6.6,lon:4.75},{id:360,lat:6.9,lon:4.75},{lat:7.9,lon:4.5,title:"classRoom",building:"Science",floor:"1st Floor",node:360,label:"classroomLogo"},{id:361,lat:6.6,lon:5},{id:362,lat:6.6,lon:5.5},{id:363,lat:6.3,lon:5.5},{lat:5.8,lon:5.4,title:"classRoom",building:"Science",floor:"1st Floor",node:363,label:"classroomLogo"},{id:364,lat:6.6,lon:5.75},{id:365,lat:6.9,lon:5.75},{lat:7.9,lon:5.5,title:"classRoom",building:"Science",floor:"1st Floor",node:365,label:"classroomLogo"},{id:366,lat:6.6,lon:6.1},{id:367,lat:6.3,lon:6.1},{lat:5.8,lon:5.95,title:"classRoom",building:"Science",floor:"1st Floor",node:367,label:"classroomLogo"},{id:368,lat:6.6,lon:6.45},{id:369,lat:6.9,lon:6.45},{lat:7.9,lon:6.34,title:"classRoom",building:"Science",floor:"1st Floor",node:369,label:"classroomLogo"},{id:370,lat:6.6,lon:6.7},{id:371,lat:6.3,lon:6.7},{lat:5.8,lon:6.55,title:"classRoom",building:"Science",floor:"1st Floor",node:371,label:"classroomLogo"},{id:372,lat:6.6,lon:7.15},{id:373,lat:6.9,lon:7.15},{lat:7.9,lon:7,title:"classRoom",building:"Science",floor:"1st Floor",node:373,label:"classroomLogo"},{id:374,lat:6.6,lon:7.3},{id:375,lat:6.3,lon:7.3},{lat:5.8,lon:7.2,title:"classRoom",building:"Science",floor:"1st Floor",node:375,label:"classroomLogo"},{id:376,lat:6.6,lon:7.83},{id:377,lat:6.08,lon:7.83},{id:378,lat:6.08,lon:8},{lat:5.93,lon:8.4,title:"classRoom",building:"Science",floor:"1st Floor",node:378,label:"classroomLogo"},{id:379,lat:5.88,lon:7.83},{lat:5.2,lon:8,title:"classRoom",building:"Science",floor:"1st Floor",node:379,label:"classroomLogo"},{id:405,lat:6.6,lon:8.05},{id:406,lat:6.9,lon:8.05},{lat:7.9,lon:7.95,title:"classRoom",building:"Science",floor:"1st Floor",node:406,label:"classroomLogo"},{id:380,lat:6.6,lon:8.59},{id:407,lat:6.75,lon:8.59},{id:381,lat:6.9,lon:8.59},{lat:8.35,lon:8.65,title:"classRoom",building:"Science",floor:"1st Floor",node:381,label:"classroomLogo"},{id:382,lat:6.75,lon:8.82},{id:383,lat:6.75,lon:8.88},{id:384,lat:7.15,lon:8.82},{lat:7.7,lon:9,title:"classRoom",building:"Science",floor:"1st Floor",node:384,label:"classroomLogo"},{id:385,lat:6.6,lon:8.82},{id:386,lat:6.45,lon:8.82},{id:387,lat:6.45,lon:9.1,label:"leaveButton",destination:"science2ndFloor",desti:89,direction:"up"},{id:390,lat:6.75,lon:9.35},{id:391,lat:6.75,lon:9.45},{id:392,lat:6.45,lon:9.35},{id:393,lat:6.45,lon:9.3,label:"leaveButton",destination:"scienceGroundFloor",desti:466,direction:"down"},{id:394,lat:4.5,lon:5},{id:395,lat:4.5,lon:4.85},{lat:4.6,lon:4.4,title:"classRoom",building:"Science",floor:"1st Floor",node:395,label:"classroomLogo"},{id:396,lat:4.25,lon:5},{id:397,lat:4.25,lon:5.17},{lat:4.3,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:397,label:"classroomLogo"},{id:398,lat:3.9,lon:5},{id:399,lat:3.9,lon:5.17},{lat:3.9,lon:5.7,title:"classRoom",building:"Science",floor:"1st Floor",node:399,label:"classroomLogo"},{id:400,lat:3.45,lon:5},{lat:2.6,lon:5,title:"classRoom",building:"PE",floor:"1st Floor",node:400,label:"classroomLogo"},{id:401,lat:3.45,lon:7.4,label:"leaveButton",destination:"science2ndFloor",desti:94,direction:"up"},{id:403,lat:3.45,lon:2.96},{id:404,lat:3.05,lon:2.75,label:"leaveButton",destination:"BRS1stFloor",desti:130},{id:410,lat:3.45,lon:3.35},{id:411,lat:2.4,lon:3.35},{id:412,lat:2.4,lon:3.67},{id:413,lat:2.55,lon:3.67,label:"leaveButton",destination:"science2ndFloor",desti:73,direction:"up"},{id:414,lat:3.45,lon:3.67},{id:415,lat:3.17,lon:3.67},{lat:2.8,lon:3.67,title:"classRoom",building:"PE",floor:"1st Floor",node:415,label:"classroomLogo"}]),t=="scienceGroundFloor"?e=[{id:420,lat:6.645,lon:1.35,label:"leaveButton",destination:"science1stFloor",desti:347,direction:"up"},{id:421,lat:6.76,lon:1.35},{lat:7,lon:1.28,title:"classRoom",building:"Science",floor:"Ground Floor",node:421},{id:4e3,lat:6.85,lon:1.35,label:"leaveButton",destination:"science1stFloor",desti:3e3,direction:"up"},{id:422,lat:6.76,lon:.99},{id:425,lat:5.5,lon:.99},{id:424,lat:5.5,lon:.85},{lat:5.5,lon:.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:424,label:"classroomLogo"},{id:426,lat:5.5,lon:1.1},{id:427,lat:5.19,lon:1.1},{lat:4.6,lon:1,title:"classRoom",building:"Science",floor:"Ground Floor",node:427,label:"classroomLogo"},{id:428,lat:5.5,lon:1.36},{id:429,lat:5.82,lon:1.36},{id:430,lat:5.5,lon:1.85},{id:431,lat:5.82,lon:1.85},{lat:7,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:431,label:"classroomLogo"},{id:432,lat:5.19,lon:1.85},{lat:4.6,lon:1.7,title:"classRoom",building:"Science",floor:"Ground Floor",node:432,label:"classroomLogo"},{id:433,lat:5.5,lon:2.5},{id:434,lat:5.82,lon:2.5},{lat:7,lon:2.4,title:"classRoom",building:"Science",floor:"Ground Floor",node:434,label:"classroomLogo"},{id:435,lat:5.19,lon:2.5},{lat:4.6,lon:2.36,title:"classRoom",building:"Science",floor:"Ground Floor",node:435,label:"classroomLogo"},{id:436,lat:5.5,lon:3.2},{id:437,lat:5.82,lon:3.2},{lat:7,lon:3.1,title:"classRoom",building:"Science",floor:"Ground Floor",node:437,label:"classroomLogo"},{id:438,lat:5.5,lon:3.4},{id:439,lat:5.19,lon:3.4},{lat:4.6,lon:3.3,title:"classRoom",building:"Science",floor:"Ground Floor",node:439,label:"classroomLogo"},{id:440,lat:5.5,lon:3.9},{id:441,lat:5.82,lon:3.9},{lat:7,lon:3.8,title:"classRoom",building:"Science",floor:"Ground Floor",node:441,label:"classroomLogo"},{id:442,lat:5.5,lon:4.45},{id:443,lat:5.19,lon:4.45},{lat:4.6,lon:4.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:443,label:"classroomLogo"},{id:444,lat:5.5,lon:4.6},{id:445,lat:5.82,lon:4.6},{lat:7,lon:4.5,title:"classRoom",building:"Science",floor:"Ground Floor",node:445,label:"classroomLogo"},{id:446,lat:5.5,lon:5.32},{id:447,lat:5.82,lon:5.32},{lat:7,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:447,label:"classroomLogo"},{id:448,lat:5.19,lon:5.32},{lat:4.6,lon:5.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:448,label:"classroomLogo"},{id:449,lat:5.5,lon:6},{id:450,lat:5.82,lon:6},{lat:7,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:450,label:"classroomLogo"},{id:451,lat:5.19,lon:6},{lat:4.6,lon:5.9,title:"classRoom",building:"Science",floor:"Ground Floor",node:451,label:"classroomLogo"},{id:452,lat:5.5,lon:6.7},{id:453,lat:5.82,lon:6.7},{lat:7,lon:6.65,title:"classRoom",building:"Science",floor:"Ground Floor",node:453,label:"classroomLogo"},{id:454,lat:5.19,lon:6.7},{lat:4.68,lon:6.63,title:"classRoom",building:"Science",floor:"Ground Floor",node:454,label:"classroomLogo"},{id:455,lat:5.5,lon:6.9},{id:456,lat:5.34,lon:6.9},{id:457,lat:5.34,lon:7.2},{id:458,lat:5.19,lon:7.2},{lat:3.9,lon:7.2,title:"classRoom",building:"Science",floor:"Ground Floor",node:458,label:"classroomLogo"},{id:459,lat:5.34,lon:7.4},{id:460,lat:5.45,lon:7.4},{lat:7,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:460,label:"classroomLogo"},{id:461,lat:5.34,lon:7.6},{id:462,lat:5.19,lon:7.6},{lat:4.68,lon:7.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:462,label:"classroomLogo"},{id:463,lat:5.34,lon:8.6},{id:464,lat:5.65,lon:8.7},{id:465,lat:5.82,lon:8.7},{lat:7,lon:8.6,title:"classRoom",building:"Science",floor:"Ground Floor",node:465,label:"classroomLogo"},{id:466,lat:5.65,lon:8.53,label:"leaveButton",destination:"science1stFloor",desti:393,direction:"up"}]:t=="science3rdFloor"?e=[{id:480,lat:7.35,lon:3.44,label:"leaveButton",destination:"science4thFloor",desti:615,direction:"up"},{id:481,lat:7.48,lon:3.44},{id:482,lat:7.48,lon:3.15},{id:483,lat:7.58,lon:3.15},{lat:7.9,lon:3.2,title:"classRoom",building:"Science",floor:"3rd Floor",node:483,label:"classroomLogo"},{id:484,lat:6.47,lon:3.15},{id:485,lat:6.47,lon:3.44},{id:486,lat:7.05,lon:3.44,label:"leaveButton",destination:"science2ndFloor",desti:13,direction:"down"},{id:487,lat:6.47,lon:3.65},{lat:6,lon:5.75,title:"classRoom",building:"PE",floor:"3rd Floor",node:487,label:"classroomLogo"},{id:488,lat:8,lon:3.65},{id:489,lat:8,lon:3.73},{lat:8,lon:3.85,title:"classRoom",building:"PE",floor:"3rd Floor",node:489,label:"classroomLogo"},{id:490,lat:8.4,lon:3.65},{id:491,lat:8.4,lon:4.15},{id:492,lat:8.3,lon:4.15},{lat:8,lon:4.09,title:"classRoom",building:"PE",floor:"3rd Floor",node:492,label:"classroomLogo"},{id:493,lat:8.4,lon:4.4},{id:494,lat:8.3,lon:4.4},{lat:8,lon:4.33,title:"classRoom",building:"PE",floor:"3rd Floor",node:494,label:"classroomLogo"},{id:495,lat:8.4,lon:4.75},{id:496,lat:8.3,lon:4.75},{lat:8,lon:4.65,title:"classRoom",building:"PE",floor:"3rd Floor",node:496,label:"classroomLogo"},{id:497,lat:8.4,lon:5.3},{id:498,lat:8.3,lon:5.3},{lat:8,lon:5.26,title:"classRoom",building:"PE",floor:"3rd Floor",node:498,label:"classroomLogo"},{id:499,lat:8.4,lon:5.7},{id:500,lat:8.3,lon:5.7},{lat:8,lon:5.68,title:"classRoom",building:"PE",floor:"3rd Floor",node:500,label:"classroomLogo"},{id:501,lat:8.4,lon:6},{id:502,lat:8.3,lon:6},{lat:8,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:502,label:"classroomLogo"},{id:503,lat:8.4,lon:6.6},{id:504,lat:8.3,lon:6.6},{lat:8,lon:6.9,title:"classRoom",building:"PE",floor:"3rd Floor",node:504,label:"classroomLogo"},{id:505,lat:6.18,lon:3.15},{lat:5.7,lon:3,title:"classRoom",building:"Science",floor:"3rd Floor",node:505,label:"classroomLogo"},{id:506,lat:6.47,lon:2.65},{id:507,lat:6.7,lon:2.65},{lat:7.3,lon:2.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:507,label:"classroomLogo"},{id:508,lat:6.18,lon:2.65},{lat:5.7,lon:2.47,title:"classRoom",building:"Science",floor:"3rd Floor",node:508,label:"classroomLogo"},{id:509,lat:6.47,lon:1.4},{id:510,lat:6.7,lon:1.4},{lat:7.3,lon:1.4,title:"classRoom",building:"Science",floor:"3rd Floor",node:510,label:"classroomLogo"},{id:511,lat:6.47,lon:1},{id:512,lat:5.85,lon:.9},{id:513,lat:5.85,lon:.4,label:"leaveButton",destination:"main3rdFloor",desti:772},{id:514,lat:4.85,lon:.85},{id:515,lat:4.85,lon:1},{lat:5.4,lon:1.6,title:"classRoom",building:"Science",floor:"3rd Floor",node:515,label:"classroomLogo"},{id:516,lat:4.7,lon:.85},{lat:4.35,lon:.95,title:"classRoom",building:"Science",floor:"3rd Floor",node:516,label:"classroomLogo"},{id:517,lat:4.85,lon:.69},{id:518,lat:3.65,lon:.51},{id:519,lat:3.65,lon:1.59},{id:520,lat:3.76,lon:1.59},{id:521,lat:3.65,lon:2.1},{id:522,lat:3.76,lon:2.1},{lat:4.35,lon:2.05,title:"classRoom",building:"Science",floor:"3rd Floor",node:522,label:"classroomLogo"},{id:523,lat:3.65,lon:2.5},{id:524,lat:3.55,lon:2.5},{id:525,lat:3.7,lon:2.5},{id:526,lat:3.7,lon:2.6,label:"leaveButton",destination:"science4thFloor",desti:674,direction:"up"},{id:527,lat:3.55,lon:3.44},{id:528,lat:4.5,lon:3.44},{id:529,lat:4.5,lon:3.12},{id:530,lat:4.4,lon:3.12},{lat:4.13,lon:2.9,title:"classRoom",building:"Science",floor:"3rd Floor",node:530,label:"classroomLogo"},{id:531,lat:4.5,lon:3},{lat:4.6,lon:2.5,title:"classRoom",building:"Science",floor:"3rd Floor",node:531,label:"classroomLogo"},{id:532,lat:3,lon:3.44,label:"leaveButton",destination:"BRS3rdFloor",desti:155},{id:533,lat:3.45,lon:3.68},{id:534,lat:4.3,lon:3.68},{id:535,lat:4.3,lon:3.73},{lat:4.25,lon:4.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:535,label:"classroomLogo"},{id:536,lat:3.45,lon:4},{id:537,lat:2.35,lon:4},{id:538,lat:2.35,lon:4.3},{id:539,lat:2.55,lon:4.3,label:"leaveButton",destination:"science4thFloor",desti:640,direction:"up"},{id:540,lat:3.45,lon:4.3},{id:541,lat:3.1,lon:4.3,label:"leaveButton",destination:"science2ndFloor",desti:84,direction:"down"},{id:542,lat:3.45,lon:4.65},{id:543,lat:3.16,lon:4.65},{lat:2.8,lon:4.55,title:"classRoom",building:"PE",floor:"3rd Floor",node:543,label:"classroomLogo"},{id:544,lat:3.45,lon:5.05},{id:545,lat:3.16,lon:5.05},{lat:2.8,lon:5,title:"classRoom",building:"PE",floor:"3rd Floor",node:545,label:"classroomLogo"},{id:546,lat:3.45,lon:5.2},{id:547,lat:3.77,lon:5.2},{lat:4.25,lon:5.1,title:"classRoom",building:"PE",floor:"3rd Floor",node:547,label:"classroomLogo"},{id:548,lat:3.45,lon:5.7},{id:549,lat:3.16,lon:5.7},{lat:2.7,lon:5.6,title:"classRoom",building:"PE",floor:"3rd Floor",node:549,label:"classroomLogo"},{id:550,lat:3.45,lon:6.16},{id:551,lat:3.77,lon:6.16},{lat:4.25,lon:5.95,title:"classRoom",building:"PE",floor:"3rd Floor",node:551,label:"classroomLogo"},{id:552,lat:3.45,lon:6.5},{id:553,lat:3.16,lon:6.5},{lat:2.7,lon:6.5,title:"classRoom",building:"PE",floor:"3rd Floor",node:553,label:"classroomLogo"},{id:554,lat:3.45,lon:6.85},{id:555,lat:3.77,lon:6.85},{lat:4.25,lon:6.63,title:"classRoom",building:"PE",floor:"3rd Floor",node:555,label:"classroomLogo"},{id:556,lat:3.45,lon:6.97},{id:557,lat:3,lon:6.97},{lat:2.7,lon:7.16,title:"classRoom",building:"PE",floor:"3rd Floor",node:557,label:"classroomLogo"},{id:558,lat:3.45,lon:7.45},{id:559,lat:3.77,lon:7.45},{lat:4.25,lon:7.4,title:"classRoom",building:"PE",floor:"3rd Floor",node:559,label:"classroomLogo"},{id:560,lat:3.45,lon:7.52},{id:561,lat:2.55,lon:7.52},{id:562,lat:2.55,lon:7.68},{id:563,lat:2.63,lon:7.68,label:"leaveButton",destination:"science4thFloor",desti:654,direction:"up"},{id:564,lat:3.45,lon:7.68},{id:565,lat:3.16,lon:7.68,label:"leaveButton",destination:"science2ndFloor",desti:93,direction:"down"},{id:567,lat:4.7,lon:8.1},{id:568,lat:4.7,lon:7.9},{id:569,lat:5,lon:8.6},{id:570,lat:5.4,lon:8.6},{id:571,lat:5.4,lon:8.53},{lat:5.4,lon:8.15,title:"classRoom",building:"Science",floor:"3rd Floor",node:571,label:"classroomLogo"},{id:572,lat:6.3,lon:8.6},{id:573,lat:6.57,lon:8.53},{lat:6.3,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:573,label:"classroomLogo"},{id:574,lat:6.3,lon:9.15},{id:9e3,lat:6.25,lon:9.3},{id:9001,lat:6.55,lon:9.4},{id:9002,lat:6.5,lon:9.52},{id:9003,lat:6.43,lon:9.517,label:"leaveButton",destination:"science4thFloor",desti:9013,direction:"up"},{id:575,lat:6.57,lon:9.18},{id:576,lat:6.57,lon:9.07,label:"leaveButton",destination:"science4thFloor",desti:655,direction:"up"},{id:577,lat:6.57,lon:8.6},{id:578,lat:6.57,lon:8.8,label:"leaveButton",destination:"science2ndFloor",desti:95,direction:"down"},{id:579,lat:6.9,lon:8.6},{id:580,lat:6.9,lon:8.2},{id:581,lat:7.02,lon:8.2},{lat:7.6,lon:8.1,title:"classRoom",building:"Science",floor:"3rd Floor",node:581,label:"classroomLogo"},{id:582,lat:6.9,lon:7.9},{id:583,lat:6.9,lon:8.75},{id:584,lat:7.02,lon:8.75},{lat:7.6,lon:8.65,title:"classRoom",building:"Science",floor:"3rd Floor",node:584,label:"classroomLogo"},{id:585,lat:6.9,lon:9.12},{id:586,lat:7.3,lon:9.12},{lat:7.8,lon:9.25,title:"classRoom",building:"Science",floor:"3rd Floor",node:586,label:"classroomLogo"}]:t=="science4thFloor"?e=[{id:610,lat:7.38,lon:3.33,label:"leaveButton",destination:"main5thFloor",desti:1002,direction:"up"},{id:611,lat:7.54,lon:3.33},{id:612,lat:7.54,lon:3.05},{id:682,lat:7.61,lon:3.05},{id:613,lat:6.5,lon:3.05},{id:614,lat:6.5,lon:3.33},{id:615,lat:7.12,lon:3.33,label:"leaveButton",destination:"science3rdFloor",desti:480,direction:"down"},{id:616,lat:6.5,lon:2.75},{id:617,lat:6.18,lon:2.75},{lat:5.8,lon:2.65,title:"classRoom",building:"Science",floor:"4th Floor",node:617,label:"classroomLogo"},{id:618,lat:6.5,lon:2.6},{id:619,lat:6.75,lon:2.6},{lat:7.4,lon:2.45,title:"classRoom",building:"Science",floor:"4th Floor",node:619,label:"classroomLogo"},{id:620,lat:3.6,lon:3.33},{id:621,lat:3.6,lon:1.75},{id:622,lat:3.75,lon:1.75},{lat:4.3,lon:1.55,title:"classRoom",building:"Science",floor:"4th Floor",node:622,label:"classroomLogo"},{id:623,lat:3.6,lon:.3},{id:624,lat:3.2,lon:.25,label:"leaveButton",destination:"BRS4thFloor",desti:206},{id:625,lat:4,lon:.4},{id:626,lat:4,lon:.53},{lat:4.3,lon:.85,title:"classRoom",building:"Science",floor:"4th Floor",node:626,label:"classroomLogo"},{id:627,lat:5.5,lon:.7},{id:675,lat:6.4,lon:.9},{id:676,lat:6.4,lon:1.075},{lat:6.4,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:676,label:"classroomLogo"},{id:677,lat:6.65,lon:.95},{id:678,lat:6.65,lon:1.075},{lat:6.7,lon:1.1,title:"classRoom",building:"Science",floor:"4th Floor",node:678,label:"classroomLogo"},{id:628,lat:5.5,lon:1.05},{lat:5.8,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:628,label:"classroomLogo"},{id:629,lat:7.85,lon:1.15,label:"leaveButton",destination:"main4thFloor",desti:737},{id:631,lat:7.85,lon:1.4},{id:632,lat:7.7,lon:1.4},{lat:7.4,lon:1.6,title:"classRoom",building:"Science",floor:"4th Floor",node:632,label:"classroomLogo"},{id:633,lat:3.45,lon:3.45},{id:634,lat:2.95,lon:3.33,label:"leaveButton",destination:"BRS4thFloor",desti:180},{id:635,lat:3.45,lon:3.9},{id:636,lat:2.3,lon:3.9},{id:637,lat:2.3,lon:4.21},{id:638,lat:2.5,lon:4.21,label:"leaveButton",destination:"science5thFloor",desti:906,direction:"up"},{id:639,lat:3.45,lon:4.21},{id:640,lat:3.08,lon:4.21,label:"leaveButton",destination:"science3rdFloor",desti:539,direction:"down"},{id:641,lat:3.45,lon:4.75},{id:642,lat:3.15,lon:4.75},{lat:2.75,lon:4.7,title:"classRoom",building:"PE",floor:"4th Floor",node:642,label:"classroomLogo"},{id:643,lat:3.45,lon:5.6},{id:644,lat:3.15,lon:5.6},{lat:2.7,lon:5.55,title:"classRoom",building:"PE",floor:"4th Floor",node:644,label:"classroomLogo"},{id:645,lat:3.45,lon:6.45},{id:646,lat:3.15,lon:6.45},{lat:2.7,lon:6.45,title:"classRoom",building:"PE",floor:"4th Floor",node:646,label:"classroomLogo"},{id:647,lat:3.45,lon:6.94},{id:648,lat:2.95,lon:6.94},{lat:2.7,lon:7.1,title:"classRoom",building:"PE",floor:"4th Floor",node:648,label:"classroomLogo"},{id:649,lat:3.45,lon:7.47},{id:650,lat:2.5,lon:7.47},{id:651,lat:2.5,lon:7.66},{id:652,lat:2.6,lon:7.66,label:"leaveButton",destination:"science5thFloor",desti:929,direction:"up"},{id:653,lat:3.45,lon:7.66},{id:654,lat:3.13,lon:7.66,label:"leaveButton",destination:"science3rdFloor",desti:563,direction:"down"},{id:655,lat:6.6,lon:8.78,label:"leaveButton",destination:"science3rdFloor",desti:576,direction:"down"},{id:656,lat:6.6,lon:8.6},{id:657,lat:6.6,lon:8.51},{lat:6.65,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:657,label:"classroomLogo"},{id:658,lat:6.3,lon:8.6},{id:659,lat:6.3,lon:8.55},{id:660,lat:6.3,lon:9.1},{id:9010,lat:6.27,lon:9.29},{id:9011,lat:6.22,lon:9.39},{id:9012,lat:6.27,lon:9.44,label:"leaveButton",destination:"science3rdFloor",desti:9003,direction:"down"},{id:9013,lat:6.55,lon:9.4},{id:9014,lat:6.5,lon:9.52},{id:9015,lat:6.45,lon:9.51,label:"leaveButton",destination:"science5thFloor",desti:9022,direction:"up"},{id:661,lat:6.6,lon:9.15},{id:662,lat:6.6,lon:9.05,label:"leaveButton",destination:"science5thFloor",desti:890,direction:"up"},{id:663,lat:6.05,lon:8.55},{id:664,lat:6.05,lon:8.65},{lat:5.85,lon:8.64,title:"classRoom",building:"Science",floor:"4th Floor",node:664,label:"classroomLogo"},{id:665,lat:6.05,lon:8.4},{lat:5.85,lon:8.03,title:"classRoom",building:"Science",floor:"4th Floor",node:665,label:"classroomLogo"},{id:666,lat:6.91,lon:8.6},{id:667,lat:6.91,lon:8.51},{lat:7.5,lon:8.05,title:"classRoom",building:"Science",floor:"4th Floor",node:667,label:"classroomLogo"},{id:668,lat:6.91,lon:8.9},{id:669,lat:7.05,lon:8.9},{lat:7.8,lon:8.6,title:"classRoom",building:"Science",floor:"4th Floor",node:669,label:"classroomLogo"},{id:670,lat:6.91,lon:9.1},{lat:7.2,lon:9.32,title:"classRoom",building:"Science",floor:"4th Floor",node:670,label:"classroomLogo"},{id:671,lat:7.3,lon:9.1},{lat:7.8,lon:9.26,title:"classRoom",building:"Science",floor:"4th Floor",node:671,label:"classroomLogo"},{id:672,lat:3.6,lon:2.7},{id:673,lat:3.68,lon:2.7},{id:674,lat:3.68,lon:2.57,label:"leaveButton",destination:"science3rdFloor",desti:526,direction:"down"}]:t=="science5thFloor"?e=[{id:890,lat:7.2,lon:8.1,label:"leaveButton",destination:"science4thFloor",desti:662,direction:"down"},{id:891,lat:7.2,lon:7.4},{id:892,lat:7.7,lon:7.4},{lat:8.7,lon:7.2,title:"classRoom",building:"Science",floor:"5th Floor",node:893,label:"classroomLogo"},{id:893,lat:7.85,lon:7.4},{id:894,lat:7.7,lon:8.3},{id:895,lat:8.25,lon:8.3},{lat:8.95,lon:8.1,title:"classRoom",building:"Science",floor:"5th Floor",node:895,label:"classroomLogo"},{id:896,lat:7.7,lon:8.85},{id:897,lat:8.25,lon:8.85},{lat:8.95,lon:8.9,title:"classRoom",building:"Science",floor:"5th Floor",node:897,label:"classroomLogo"},{id:898,lat:6.8,lon:7.4},{id:899,lat:6.65,lon:7.4},{lat:6.1,lon:7.5,title:"classRoom",building:"Science",floor:"5th Floor",node:899,label:"classroomLogo"},{id:900,lat:6.8,lon:8.55},{id:9090,lat:7.2,lon:8.65},{id:9091,lat:7.2,lon:8.47,label:"leaveButton",destination:"science6thFloor",desti:950,direction:"up"},{id:9020,lat:6.75,lon:8.8},{id:9021,lat:6.7,lon:8.95},{id:9022,lat:6.78,lon:9.02,label:"leaveButton",destination:"science4thFloor",desti:9015,direction:"down"},{id:9023,lat:7.2,lon:8.93},{id:9024,lat:7.1,lon:9.1},{id:9025,lat:7,lon:9.1,label:"leaveButton",destination:"science6thFloor",desti:9032,direction:"up"},{id:903,lat:2.15,lon:.5,label:"leaveButton",destination:"BRS5thFloor",desti:8449},{id:904,lat:2.64,lon:.7},{id:905,lat:2.64,lon:1.7},{id:906,lat:2.3,lon:1.7,label:"leaveButton",destination:"science4thFloor",desti:638,direction:"down"},{id:907,lat:3.05,lon:1.7},{id:908,lat:3.05,lon:2.25,label:"leaveButton",destination:"science6thFloor",desti:965,direction:"up"},{id:910,lat:2.64,lon:2.5},{id:911,lat:2.38,lon:2.5},{lat:2,lon:2.4,title:"classRoom",building:"PE",floor:"5th Floor",node:911,label:"classroomLogo"},{id:912,lat:2.64,lon:3.5},{id:913,lat:2.38,lon:3.5},{lat:2,lon:3.35,title:"classRoom",building:"PE",floor:"5th Floor",node:913,label:"classroomLogo"},{id:914,lat:2.64,lon:3.7},{id:915,lat:3.05,lon:3.7},{id:916,lat:3.05,lon:4.3},{id:917,lat:2.88,lon:4.3},{lat:2.2,lon:4.2,title:"classRoom",building:"PE",floor:"5th Floor",node:917,label:"classroomLogo"},{id:918,lat:3.05,lon:5.15},{id:919,lat:2.88,lon:5.15},{lat:2.2,lon:5.05,title:"classRoom",building:"PE",floor:"5th Floor",node:919,label:"classroomLogo"},{id:920,lat:3.05,lon:5.7},{id:921,lat:2.88,lon:5.7},{lat:2.2,lon:5.7,title:"classRoom",building:"PE",floor:"5th Floor",node:921,label:"classroomLogo"},{id:922,lat:3.05,lon:5.98},{id:923,lat:2.88,lon:5.98},{lat:2.2,lon:5.98,title:"classRoom",building:"PE",floor:"5th Floor",node:923,label:"classroomLogo"},{id:924,lat:3.05,lon:6.28},{id:925,lat:1.5,lon:6.28},{id:926,lat:1.5,lon:6.51},{id:927,lat:1.65,lon:6.51,label:"leaveButton",destination:"science6thFloor",desti:964,direction:"up"},{id:928,lat:3.05,lon:6.51},{id:929,lat:2.35,lon:6.51,label:"leaveButton",destination:"science4thFloor",desti:652,direction:"down"}]:t=="science6thFloor"?e=[{id:950,lat:6.83,lon:8.06,label:"leaveButton",destination:"science5thFloor",desti:900,direction:"down"},{id:951,lat:6.83,lon:8.2},{id:9030,lat:6.77,lon:8.6},{id:9031,lat:6.7,lon:8.74},{id:9032,lat:6.78,lon:8.82,label:"leaveButton",destination:"science5thFloor",desti:9025,direction:"down"},{id:952,lat:7.2,lon:8.27},{id:953,lat:7.3,lon:8.4},{lat:8.05,lon:8.4,title:"classRoom",building:"Science",floor:"6th Floor",node:953,label:"classroomLogo"},{id:954,lat:7.3,lon:8},{id:955,lat:7.3,lon:7.35},{id:956,lat:7.1,lon:7.35},{lat:6.2,lon:7.35,title:"classRoom",building:"Science",floor:"6th Floor",node:956,label:"classroomLogo"},{id:957,lat:7.3,lon:6.83},{id:958,lat:5.63,lon:6.83},{lat:5.2,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:958,label:"classroomLogo"},{id:959,lat:8,lon:8},{id:960,lat:8,lon:7.88},{lat:8.05,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:960,label:"classroomLogo"},{id:961,lat:9,lon:8},{id:962,lat:9,lon:8.12},{lat:9.1,lon:8.5,title:"classRoom",building:"Science",floor:"6th Floor",node:962,label:"classroomLogo"},{id:963,lat:9,lon:7.88},{lat:9.1,lon:7.1,title:"classRoom",building:"Science",floor:"6th Floor",node:963,label:"classroomLogo"},{id:964,lat:2.35,lon:6.05,label:"leaveButton",destination:"science5thFloor",desti:927,direction:"down"},{id:965,lat:3.05,lon:2,label:"leaveButton",destination:"science5thFloor",desti:908,direction:"down"},{id:966,lat:3.05,lon:3},{id:967,lat:2.88,lon:3},{lat:2,lon:4,title:"classRoom",building:"PE",floor:"6th Floor",node:967,label:"classroomLogo"}]:t=="main4thFloor"?e=[{id:8500,lat:6.15,lon:9.7},{id:8501,lat:6.93,lon:9.75},{id:8502,lat:6.93,lon:9.4},{id:8503,lat:6.75,lon:9.4,label:"leaveButton",destination:"main5thFloor",desti:8512,direction:"up"},{id:700,lat:7.1,lon:7.45,label:"leaveButton",destination:"BRS4thFloor",desti:207},{id:701,lat:5.83,lon:7.45},{id:702,lat:5.83,lon:7.6},{lat:6.5,lon:8.25,title:"classRoom",building:"Main",floor:"4th Floor",node:702,label:"classroomLogo"},{id:703,lat:5.1,lon:7.45},{id:704,lat:5.1,lon:7.6},{id:705,lat:4.74,lon:7.6},{lat:4,lon:7.9,title:"classRoom",building:"Main",floor:"4th Floor",node:705,label:"classroomLogo"},{id:706,lat:5.1,lon:9},{lat:5.1,lon:9.1,title:"classRoom",building:"Main",floor:"4th Floor",node:706},{id:707,lat:5.1,lon:6.98},{id:708,lat:6.9,lon:6.98},{id:709,lat:6.9,lon:6.5},{id:710,lat:6.75,lon:6.5,label:"leaveButton",destination:"main5thFloor",desti:1010,direction:"up"},{id:711,lat:5.1,lon:6.5},{id:712,lat:6.05,lon:6.5,label:"leaveButton",destination:"main3rdFloor",desti:750,direction:"down"},{id:713,lat:5.1,lon:6.2},{id:714,lat:4.74,lon:6.2},{lat:4,lon:6.2,title:"classRoom",building:"Main",floor:"4th Floor",node:714,label:"classroomLogo"},{id:715,lat:5.1,lon:5.7},{id:716,lat:5.45,lon:5.7},{lat:6.5,lon:5.6,title:"classRoom",building:"Main",floor:"4th Floor",node:716,label:"classroomLogo"},{id:719,lat:5.1,lon:4.2},{id:720,lat:5.45,lon:4.2},{lat:6.5,lon:4.1,title:"classRoom",building:"Main",floor:"4th Floor",node:720,label:"classroomLogo"},{id:721,lat:5.1,lon:3.7},{id:722,lat:4.74,lon:3.7},{lat:4,lon:3.65,title:"classRoom",building:"Main",floor:"4th Floor",node:722,label:"classroomLogo"},{id:723,lat:5.1,lon:2.75},{id:724,lat:4.74,lon:2.75},{lat:4,lon:2.1,title:"classRoom",building:"Main",floor:"4th Floor",node:724,label:"classroomLogo"},{id:725,lat:5.45,lon:2.75},{lat:6.5,lon:2.63,title:"classRoom",building:"Main",floor:"4th Floor",node:725,label:"classroomLogo"},{id:726,lat:5.1,lon:2.15},{id:727,lat:6.15,lon:2.15},{id:728,lat:6.33,lon:2.15},{lat:6.8,lon:1.8,title:"classRoom",building:"Main",floor:"4th Floor",node:728,label:"classroomLogo"},{id:729,lat:6.15,lon:2.05},{lat:6,lon:1.75,title:"classRoom",building:"Main",floor:"4th Floor",node:729,label:"classroomLogo"},{id:730,lat:5.1,lon:1.3},{id:731,lat:6.1,lon:.85,label:"leaveButton",destination:"main3rdFloor",desti:779,direction:"down"},{id:732,lat:6.9,lon:1.3},{id:733,lat:6.9,lon:.64},{id:734,lat:6.7,lon:.64},{id:735,lat:5.35,lon:1},{id:736,lat:5.35,lon:.68},{id:737,lat:7.1,lon:.16,label:"leaveButton",destination:"science4thFloor",desti:629}]:t=="main5thFloor"?e=[{id:1002,lat:8.5,lon:.6,label:"leaveButton",destination:"science4thFloor",desti:610,direction:"down"},{id:1003,lat:9,lon:1.5},{id:1004,lat:2.7,lon:3.7},{lat:4,lon:3.7,title:"classRoom",building:"Main",floor:"5th Floor",node:1007,label:"classroomLogo"},{id:1005,lat:2.7,lon:6.5},{id:1009,lat:2.7,lon:7},{id:1010,lat:3.48,lon:7,label:"leaveButton",destination:"main4thFloor",desti:710,direction:"down"},{id:1011,lat:2.7,lon:7.4},{id:1012,lat:4.08,lon:7.4},{lat:4.3,lon:7,title:"classRoom",building:"Main",floor:"5th Floor",node:1012,label:"classroomLogo"},{id:1013,lat:2.7,lon:7.8},{id:1014,lat:2.91,lon:7.8},{lat:3.7,lon:7.68,title:"classRoom",building:"Main",floor:"5th Floor",node:1014,label:"classroomLogo"},{id:1015,lat:2.23,lon:7.8},{lat:1.7,lon:8.1,title:"classRoom",building:"Main",floor:"5th Floor",node:1015,label:"classroomLogo"},{id:1016,lat:2.7,lon:8.8},{id:1017,lat:3.4,lon:8.9},{id:1018,lat:3.4,lon:8.69},{lat:3.7,lon:8.4,title:"classRoom",building:"Main",floor:"5th Floor",node:1018,label:"classroomLogo"},{id:1019,lat:4.15,lon:9,label:"leaveButton",destination:"main6thFloor",desti:1080,direction:"up"},{id:1020,lat:2.7,lon:9.3},{id:8510,lat:3.4,lon:9.5},{id:8511,lat:3.4,lon:9.35},{id:8512,lat:3.65,lon:9.35,label:"leaveButton",destination:"main4thFloor",desti:8503,direction:"down"},{id:8513,lat:3.4,lon:9.65},{id:8514,lat:4.2,lon:9.7},{id:8515,lat:4.2,lon:9.37},{id:8516,lat:4,lon:9.37,label:"leaveButton",destination:"main6thFloor",desti:8521,direction:"up"},{id:1021,lat:.65,lon:9},{id:1022,lat:.25,lon:8.7},{id:1023,lat:.25,lon:7.25},{id:1024,lat:0,lon:7.25,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1160}]:t=="main6thFloor"?e=[{id:1080,lat:6.89,lon:8.9,label:"leaveButton",destination:"main5thFloor",desti:1019,direction:"down"},{id:1081,lat:7.1,lon:8.9},{id:1082,lat:7.1,lon:8.3},{id:1083,lat:5.2,lon:8.3},{id:8520,lat:5.2,lon:9.1},{id:8521,lat:6.34,lon:9.35,label:"leaveButton",destination:"main5thFloor",desti:8516,direction:"down"},{id:1084,lat:5.2,lon:8},{lat:5.2,lon:4.3,title:"classRoom",building:"Main",floor:"6th Floor",node:1084,label:"classroomLogo"}]:t=="main3rdFloor"?e=[{id:750,lat:7.05,lon:7,label:"leaveButton",destination:"main4thFloor",desti:712,direction:"up"},{id:751,lat:7.25,lon:7},{id:752,lat:7.25,lon:7.5},{id:753,lat:5.8,lon:7.5},{id:754,lat:5.8,lon:7.75},{lat:6.6,lon:8.8,title:"classRoom",building:"Main",floor:"3rd Floor",node:754,label:"classroomLogo"},{id:755,lat:5.8,lon:7},{id:756,lat:6.28,lon:7,label:"leaveButton",destination:"main2ndFloor",desti:800,direction:"down"},{id:757,lat:5.1,lon:7.5},{id:758,lat:5.1,lon:7.75},{lat:4.8,lon:8.5,title:"classRoom",building:"Main",floor:"3rd Floor",node:758,label:"classroomLogo"},{id:759,lat:5.1,lon:7},{id:760,lat:4.7,lon:7},{lat:3.7,lon:6.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:760,label:"classroomLogo"},{id:761,lat:5.1,lon:5.8},{id:762,lat:5.55,lon:5.8},{lat:6.6,lon:5.7,title:"classRoom",building:"Main",floor:"3rd Floor",node:762,label:"classroomLogo"},{id:763,lat:5.1,lon:4.8},{id:764,lat:4.7,lon:4.8},{lat:3.7,lon:4.6,title:"classRoom",building:"Main",floor:"3rd Floor",node:764,label:"classroomLogo"},{id:765,lat:5.1,lon:4.1},{id:766,lat:5.55,lon:4.1},{lat:6.6,lon:3.75,title:"classRoom",building:"Main",floor:"3rd Floor",node:766,label:"classroomLogo"},{id:767,lat:5.1,lon:2.93},{id:768,lat:6.1,lon:2.93},{id:769,lat:6.1,lon:2.68},{lat:6.1,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:769,label:"classroomLogo"},{id:770,lat:7,lon:2.93},{id:771,lat:7,lon:2.68},{lat:7,lon:1.9,title:"classRoom",building:"Main",floor:"3rd Floor",node:771,label:"classroomLogo"},{id:772,lat:7.45,lon:2.93,label:"leaveButton",destination:"science3rdFloor",desti:513},{id:773,lat:5.1,lon:2.6},{id:774,lat:4.7,lon:2.6},{lat:3.7,lon:2.4,title:"classRoom",building:"Main",floor:"3rd Floor",node:774,label:"classroomLogo"},{id:775,lat:5.1,lon:1.2},{id:776,lat:6.25,lon:.65,label:"leaveButton",destination:"main2ndFloor",desti:833,direction:"down"},{id:777,lat:7.3,lon:1.2},{id:778,lat:7.3,lon:.4},{id:779,lat:7.09,lon:.4,label:"leaveButton",destination:"main4thFloor",desti:731,direction:"up"}]:t=="main2ndFloor"?e=[{id:800,lat:9.72,lon:6.24,label:"leaveButton",destination:"main3rdFloor",desti:756,direction:"up"},{id:801,lat:9.85,lon:6.24},{id:802,lat:9.85,lon:6.6},{id:803,lat:8.8,lon:6.6},{id:804,lat:8.8,lon:6.75},{lat:9.5,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:804,label:"classroomLogo"},{id:805,lat:8.25,lon:6.6},{id:806,lat:8.25,lon:6.75},{lat:8.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:806,label:"classroomLogo"},{id:807,lat:8.25,lon:6.11},{id:808,lat:8.57,lon:6.11},{lat:9.3,lon:6.15,title:"classRoom",building:"Main",floor:"2nd Floor",node:808,label:"classroomLogo"},{id:809,lat:8.25,lon:5.7},{id:810,lat:7.97,lon:5.7},{lat:7.3,lon:5.6,title:"classRoom",building:"Main",floor:"2nd Floor",node:810,label:"classroomLogo"},{id:811,lat:8.25,lon:5.45},{id:812,lat:8.57,lon:5.45},{lat:9.3,lon:5.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:812,label:"classroomLogo"},{id:813,lat:8.25,lon:4.65},{id:814,lat:7.97,lon:4.65},{lat:7.3,lon:4.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:814,label:"classroomLogo"},{id:815,lat:8.25,lon:4.29},{id:816,lat:8.57,lon:4.29},{lat:9.3,lon:4.2,title:"classRoom",building:"Main",floor:"2nd Floor",node:816,label:"classroomLogo"},{id:817,lat:8.25,lon:3.65},{id:818,lat:7.97,lon:3.65},{lat:7.3,lon:3.5,title:"classRoom",building:"Main",floor:"2nd Floor",node:818,label:"classroomLogo"},{id:819,lat:8.25,lon:3},{id:820,lat:9.25,lon:3},{id:821,lat:9.25,lon:3.1},{lat:9.1,lon:3.33,title:"classRoom",building:"Main",floor:"2nd Floor",node:821,label:"classroomLogo"},{id:822,lat:9.35,lon:3},{lat:9.75,lon:3.25,title:"classRoom",building:"Main",floor:"2nd Floor",node:822,label:"classroomLogo"},{id:823,lat:8.25,lon:2.75},{id:824,lat:7.97,lon:2.75},{lat:7.3,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:824,label:"classroomLogo"},{id:825,lat:9.02,lon:2.75},{lat:9.55,lon:2.4,title:"classRoom",building:"Main",floor:"2nd Floor",node:825,label:"classroomLogo"},{id:826,lat:8.25,lon:2.34},{id:827,lat:8.62,lon:2.34,label:"leaveButton",destination:"science2ndFloor",desti:88,direction:"down"},{id:828,lat:8.25,lon:1.92},{id:829,lat:8.25,lon:1.7},{id:830,lat:8.57,lon:1.6},{lat:9.3,lon:1.43,title:"classRoom",building:"Main",floor:"2nd Floor",node:830,label:"classroomLogo"},{id:831,lat:9.85,lon:1.92},{id:832,lat:9.85,lon:1.5},{id:833,lat:9.6,lon:1.4,label:"leaveButton",destination:"main3rdFloor",desti:776,direction:"up"},{id:834,lat:6.15,lon:6.6},{id:835,lat:6.15,lon:6.75},{lat:6.25,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:835,label:"classroomLogo"},{id:836,lat:6.15,lon:6.23},{id:837,lat:5.6,lon:6.6},{id:838,lat:5.6,lon:6.75},{lat:5.7,lon:7.05,title:"classRoom",building:"Main",floor:"2nd Floor",node:838,label:"classroomLogo"},{id:839,lat:5.25,lon:6.6},{id:840,lat:5.25,lon:6.75},{id:841,lat:4.6,lon:6.6},{id:864,lat:4.6,lon:6.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.7,lon:5.75,title:"classRoom",building:"EDS",floor:"2nd Floor",node:864},{id:842,lat:4.25,lon:6.6},{id:843,lat:4.25,lon:6.75},{lat:4.4,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:843,label:"classroomLogo"},{id:844,lat:3.95,lon:6.6},{id:845,lat:3.95,lon:6.23},{lat:4.5,lon:4.23,title:"classRoom",building:"EDS",floor:"2nd Floor",node:846,label:"classroomLogo"},{id:847,lat:3.3,lon:6.6},{id:848,lat:3.3,lon:6.2},{id:849,lat:2.95,lon:6.6},{id:850,lat:2.95,lon:6.75},{lat:3.3,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:850,label:"classroomLogo"},{id:851,lat:2.7,lon:6.6},{id:852,lat:2.7,lon:5.45},{id:853,lat:3.3,lon:5.45},{id:854,lat:3.3,lon:5.7,label:"leaveButton",destination:"EDS3rdFloor",desti:1225,direction:"up"},{id:855,lat:1.65,lon:6.6},{id:856,lat:1.65,lon:6.75},{lat:1.8,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:856,label:"classroomLogo"},{id:857,lat:1.65,lon:6.23},{id:858,lat:.7,lon:6.6},{id:8100,lat:.84,lon:6.6},{id:860,lat:.84,lon:7.2,label:"leaveButton",destination:"EDS3rdFloor",desti:8003,direction:"up"},{id:859,lat:.7,lon:6.23},{id:861,lat:.3,lon:6.6},{id:862,lat:.3,lon:6.75},{lat:.55,lon:7.3,title:"classRoom",building:"EDS",floor:"2nd Floor",node:862,label:"classroomLogo"},{id:865,lat:7.25,lon:6.6},{id:866,lat:7.25,lon:6.75},{lat:7.2,lon:7.3,title:"classRoom",building:"Main",floor:"2nd Floor",node:866,label:"classroomLogo"}]:t=="EDS3rdFloor"?e=[{id:1220,lat:4.34,lon:4.49,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1106,direction:"up"},{id:1221,lat:3.9,lon:4.49},{id:1222,lat:3.9,lon:5.25},{id:1223,lat:6,lon:5.25},{id:1224,lat:6,lon:4.49},{id:1225,lat:5.3,lon:4.49,label:"leaveButton",destination:"main2ndFloor",desti:854,direction:"down"},{id:1226,lat:6,lon:3.72},{id:1227,lat:4.1,lon:3.72},{id:1228,lat:4.1,lon:3.45},{lat:2.7,lon:2,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1228,label:"classroomLogo"},{id:1229,lat:3,lon:3.72},{id:1230,lat:3,lon:4.03},{lat:2.5,lon:4.7,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1230,label:"classroomLogo"},{id:1231,lat:2.15,lon:3.72},{lat:1.7,lon:3.6,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1231,label:"classroomLogo"},{id:1232,lat:6.46,lon:3.72},{lat:8.1,lon:3.6,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1232,label:"classroomLogo"},{id:1233,lat:6,lon:2.95},{id:1234,lat:5.38,lon:2.95,label:"elevator",elevatorBuilding:"EDS"},{lat:5,lon:2.8,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1234},{id:1235,lat:6,lon:2.1},{id:1236,lat:6.46,lon:2.1},{lat:8,lon:1.7,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1236,label:"classroomLogo"},{id:1237,lat:6,lon:6},{id:1238,lat:6.46,lon:6},{lat:8.1,lon:5.9,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1238,label:"classroomLogo"},{id:1239,lat:5.4,lon:6},{lat:4.8,lon:6.3,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1239,label:"classroomLogo"},{id:1240,lat:6,lon:7.55},{id:8e3,lat:6,lon:7.35},{id:8001,lat:6.7,lon:7.35},{id:8002,lat:6.7,lon:7.85},{id:8003,lat:6.9,lon:7.85,label:"leaveButton",destination:"main2ndFloor",desti:860,direction:"down"},{id:8004,lat:7.8,lon:7.35},{id:8005,lat:7.8,lon:7.85},{id:8006,lat:7.5,lon:7.85,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:8203,direction:"up"},{id:1241,lat:5.4,lon:7.55},{lat:4.9,lon:7.49,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1241,label:"classroomLogo"},{id:1242,lat:6,lon:8.45},{id:1243,lat:6.46,lon:8.45},{lat:8.7,lon:8,title:"classRoom",building:"EDS",floor:"3rd Floor",node:1243,label:"classroomLogo"}]:t=="CHTMEDS4thFloor"?e=[{id:1100,lat:7.7,lon:2.6},{lat:7.8,lon:2.6,title:"classRoom",building:"EDS",floor:"4th Floor",node:1100},{id:1102,lat:6.9,lon:2.6},{id:1103,lat:6.9,lon:2.06},{lat:6.9,lon:1.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1103,label:"classroomLogo"},{id:1104,lat:4.95,lon:2.6},{id:1105,lat:4.95,lon:2.34},{id:1106,lat:4.5,lon:2.34,label:"leaveButton",destination:"EDS3rdFloor",desti:1220,direction:"down"},{id:1107,lat:4.95,lon:1.8},{id:1108,lat:3.35,lon:1.8},{id:1109,lat:3.35,lon:1.62},{lat:3.35,lon:.78,title:"classRoom",building:"EDS",floor:"4th Floor",node:1109,label:"classroomLogo"},{id:1110,lat:2.7,lon:1.8},{id:1111,lat:2.7,lon:2.01},{lat:2.3,lon:2.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1111,label:"classroomLogo"},{id:1112,lat:2.35,lon:1.8},{lat:1.85,lon:1.75,title:"classRoom",building:"EDS",floor:"4th Floor",node:1112,label:"classroomLogo"},{id:1113,lat:4.95,lon:1.5},{id:1114,lat:5.28,lon:1.5},{lat:5.7,lon:1.35,title:"classRoom",building:"EDS",floor:"4th Floor",node:1114,label:"classroomLogo"},{id:1115,lat:4.95,lon:1.32},{id:1116,lat:4.57,lon:1.32,label:"elevator",elevatorBuilding:"EDS"},{lat:4.25,lon:1.2,title:"classRoom",building:"EDS",floor:"4th Floor",node:1116,label:"classroomLogo"},{id:1117,lat:4.95,lon:.75},{id:1118,lat:5.28,lon:.75},{lat:6.5,lon:.4,title:"classRoom",building:"EDS",floor:"4th Floor",node:1118,label:"classroomLogo"},{id:1119,lat:4.95,lon:2.8},{id:1120,lat:3.5,lon:2.8},{id:1121,lat:3.5,lon:2.34},{id:1122,lat:3.88,lon:2.34,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1174,direction:"up"},{id:1123,lat:4.95,lon:3.65},{id:1124,lat:5.28,lon:3.65},{lat:6.5,lon:3.5,title:"classRoom",building:"EDS",floor:"4th Floor",node:1124,label:"classroomLogo"},{id:1125,lat:4.57,lon:3.65},{lat:3.8,lon:3.5,title:"classRoom",building:"EDS",floor:"4th Floor",node:1125,label:"classroomLogo"},{id:1126,lat:4.95,lon:4.5},{id:8200,lat:4.95,lon:4.3},{id:8201,lat:5.42,lon:4.3},{id:8202,lat:5.42,lon:4.65},{id:8203,lat:5.6,lon:4.65,label:"leaveButton",destination:"EDS3rdFloor",desti:8006,direction:"down"},{id:8204,lat:6.2,lon:4.3},{id:8205,lat:6.2,lon:4.65},{id:8206,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8213,direction:"up"},{id:1127,lat:4.57,lon:4.5},{lat:4.1,lon:4.35,title:"classRoom",building:"EDS",floor:"4th Floor",node:1127,label:"classroomLogo"},{id:1128,lat:4.95,lon:5.05},{id:1129,lat:6.05,lon:5.05},{id:1130,lat:6.05,lon:5.65},{id:1131,lat:6.47,lon:5.65},{lat:7.4,lon:5.65,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1131,label:"classroomLogo"},{id:1132,lat:5.73,lon:5.65},{lat:5.35,lon:5.6,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1132,label:"classroomLogo"},{id:1133,lat:6.05,lon:6.15},{id:1134,lat:5.73,lon:6.15},{lat:4.6,lon:5.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1134,label:"classroomLogo"},{id:1135,lat:6.05,lon:7.1},{id:1136,lat:4.8,lon:7.1},{id:1137,lat:4.8,lon:6.65},{id:1149,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1194,direction:"up"},{id:1138,lat:6.75,lon:7.1},{id:1139,lat:7.3,lon:7.1},{id:1140,lat:7.3,lon:7.34},{lat:8.1,lon:7.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1140,label:"classroomLogo"},{id:1141,lat:6.75,lon:7.57},{id:1142,lat:6.47,lon:7.57,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.35,lon:7.4,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1142},{id:1143,lat:6.75,lon:7.9},{id:1144,lat:6.52,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1144,label:"classroomLogo"},{id:1145,lat:6.75,lon:8.4},{id:1146,lat:6.52,lon:8.4},{lat:6.35,lon:8.4,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1146,label:"classroomLogo"},{id:1147,lat:6.75,lon:8.8},{id:8300,lat:6.75,lon:9.65},{id:8301,lat:8.1,lon:9.65},{id:8302,lat:8.1,lon:9.9},{id:8303,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8313,direction:"up"},{id:1148,lat:7.12,lon:8.8},{lat:8.1,lon:8.8,title:"classRoom",building:"CHTM",floor:"4th Floor",node:1148,label:"classroomLogo"}]:t=="CHTMEDS5thFloor"?e=[{id:1160,lat:4.95,lon:0,label:"leaveButton",destination:"main5thFloor",desti:1024},{id:1161,lat:4.95,lon:.75},{id:1162,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1162,label:"classroomLogo"},{id:1163,lat:4.57,lon:.75},{id:1164,lat:4.95,lon:1.42},{id:1165,lat:4.57,lon:1.42,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.27,title:"classRoom",building:"EDS",floor:"5th Floor",node:1165,label:"classroomLogo"},{id:1166,lat:4.95,lon:1.9},{id:1167,lat:2.95,lon:1.9},{id:1168,lat:2.95,lon:1.7},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1168,label:"classroomLogo"},{id:1169,lat:2.95,lon:2.1},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"5th Floor",node:1169,label:"classroomLogo"},{id:1170,lat:2.42,lon:1.9},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"5th Floor",node:1170,label:"classroomLogo"},{id:1171,lat:4.95,lon:2.15},{id:1172,lat:5.28,lon:2.15},{lat:6.8,lon:2.1,title:"classRoom",building:"EDS",floor:"5th Floor",node:1172,label:"classroomLogo"},{id:1173,lat:4.95,lon:2.39},{id:1174,lat:4.5,lon:2.39,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1122,direction:"down"},{id:1175,lat:4.95,lon:2.9},{id:1176,lat:3.5,lon:2.9},{id:1177,lat:3.5,lon:2.39},{id:1178,lat:3.88,lon:2.39,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1267,direction:"up"},{id:1179,lat:4.95,lon:3.65},{id:1180,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1180,label:"classroomLogo"},{id:1181,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"5th Floor",node:1181,label:"classroomLogo"},{id:1182,lat:4.95,lon:4.5},{id:8210,lat:4.95,lon:4.35},{id:8211,lat:5.5,lon:4.35},{id:8212,lat:5.5,lon:4.75},{id:8213,lat:5.76,lon:4.75,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:8206,direction:"down"},{id:8214,lat:6.5,lon:4.35},{id:8215,lat:6.5,lon:4.75},{id:8216,lat:6.3,lon:4.75,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8223,direction:"up"},{id:1183,lat:4.57,lon:4.5},{lat:4,lon:4.4,title:"classRoom",building:"EDS",floor:"5th Floor",node:1183,label:"classroomLogo"},{id:1184,lat:4.95,lon:5.2},{id:1185,lat:6.05,lon:5.2},{id:1186,lat:6.05,lon:6},{id:1187,lat:6.43,lon:6},{lat:7.1,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1187,label:"classroomLogo"},{id:1188,lat:5.71,lon:6},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1188,label:"classroomLogo"},{id:1189,lat:6.05,lon:6.75},{id:1190,lat:5.67,lon:6.75,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:1149,direction:"down"},{id:1191,lat:6.05,lon:7.2},{id:1192,lat:4.8,lon:7.2},{id:1193,lat:4.8,lon:6.75},{id:1194,lat:5.07,lon:6.75,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1284,direction:"up"},{id:1195,lat:6.75,lon:7.2},{id:1196,lat:7.07,lon:7.2},{lat:7.9,lon:6.85,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1196,label:"classroomLogo"},{id:1197,lat:6.75,lon:7.65},{id:1198,lat:6.47,lon:7.65,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.5,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1198,label:"classroomLogo"},{id:1199,lat:6.75,lon:7.95},{id:1200,lat:6.47,lon:7.95},{lat:5.8,lon:7.65,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1200,label:"classroomLogo"},{id:1201,lat:7.07,lon:7.95},{lat:7.9,lon:7.8,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1201,label:"classroomLogo"},{id:1202,lat:6.75,lon:8.8},{id:8310,lat:6.75,lon:9.65},{id:8311,lat:6.95,lon:9.65},{id:8312,lat:6.95,lon:9.9},{id:8313,lat:7.1,lon:9.9,label:"leaveButton",destination:"CHTMEDS4thFloor",desti:8303,direction:"down"},{id:8314,lat:8,lon:9.65},{id:8315,lat:8,lon:9.9},{id:8316,lat:7.8,lon:9.9,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8330,direction:"up"},{id:1203,lat:7.07,lon:8.8},{lat:7.9,lon:8.9,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1203,label:"classroomLogo"},{id:1204,lat:6.47,lon:8.8}]:t=="CHTMEDS6thFloor"?e=[{id:1260,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1337,direction:"up"},{id:1261,lat:3.5,lon:2.32},{id:1262,lat:3.5,lon:2.8},{id:1263,lat:4.95,lon:2.8},{id:1264,lat:4.95,lon:2.55},{id:1265,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"6th Floor",node:1265,label:"classroomLogo"},{id:1266,lat:4.95,lon:2.32},{id:1267,lat:4.5,lon:2.32,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1122,direction:"down"},{id:1268,lat:4.95,lon:1.85},{id:1269,lat:2.88,lon:1.85},{id:1270,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"6th Floor",node:1270,label:"classroomLogo"},{id:1271,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"6th Floor",node:1271,label:"classroomLogo"},{id:1272,lat:2.88,lon:1.62},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"6th Floor",node:1272,label:"classroomLogo"},{id:1273,lat:4.95,lon:1.58},{id:1274,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"6th Floor",node:1274,label:"classroomLogo"},{id:1275,lat:4.95,lon:1.3},{id:1276,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"6th Floor",node:1276,label:"classroomLogo"},{id:1277,lat:4.95,lon:.75},{id:1278,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"6th Floor",node:1278,label:"classroomLogo"},{id:1279,lat:4.95,lon:3.65},{id:1280,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"6th Floor",node:1280,label:"classroomLogo"},{id:1281,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"6th Floor",node:1281,label:"classroomLogo"},{id:1282,lat:4.95,lon:4.5},{id:8220,lat:4.95,lon:4.3},{id:8221,lat:5.45,lon:4.3},{id:8222,lat:5.45,lon:4.65},{id:8223,lat:5.6,lon:4.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8216,direction:"down"},{id:8224,lat:6.2,lon:4.3},{id:8225,lat:6.2,lon:4.65},{id:8226,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8233,direction:"up"},{id:1283,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"6th Floor",node:1283,label:"classroomLogo"},{id:1284,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1362,direction:"up"},{id:1285,lat:4.8,lon:6.65},{id:1286,lat:4.8,lon:7.1},{id:1287,lat:6.05,lon:7.1},{id:1288,lat:6.05,lon:6.65},{id:1289,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1194,direction:"down"},{id:1290,lat:6.47,lon:7.6,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.45,title:"classRoom",building:"CHTM",floor:"5th Floor",node:1198,label:"classroomLogo"},{id:1291,lat:4.95,lon:.5},{lat:4.95,lon:.13,title:"classRoom",building:"EDS",floor:"6th Floor",node:1291,label:"classroomLogo"},{id:1292,lat:4.57,lon:.75},{lat:4.3,lon:.5,title:"classRoom",building:"EDS",floor:"6th Floor",node:1292,label:"classroomLogo"},{id:8320,lat:7.2,lon:9.9,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:8316,direction:"down"},{id:8321,lat:6.95,lon:9.9},{id:8322,lat:6.95,lon:9.65},{id:8323,lat:8,lon:9.65},{id:8324,lat:8,lon:9.9},{id:8325,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8333,direction:"up"}]:t=="CHTMEDS7thFloor"?e=[{id:1330,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1330,direction:"up"},{id:1331,lat:3.5,lon:2.32},{id:1332,lat:3.5,lon:2.8},{id:1333,lat:4.95,lon:2.8},{id:1334,lat:4.95,lon:2.55},{id:1335,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"7th Floor",node:1335,label:"classroomLogo"},{id:1336,lat:4.95,lon:2.32},{id:1337,lat:4.5,lon:2.32,label:"leaveButton",destination:"CHTMEDS5thFloor",desti:1122,direction:"down"},{id:1338,lat:4.95,lon:1.85},{id:1339,lat:2.88,lon:1.85},{id:1340,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"7th Floor",node:1340,label:"classroomLogo"},{id:1341,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"7th Floor",node:1341,label:"classroomLogo"},{id:1342,lat:2.88,lon:1.62},{lat:3.3,lon:.75,title:"classRoom",building:"EDS",floor:"7th Floor",node:1342,label:"classroomLogo"},{id:1343,lat:4.95,lon:1.58},{id:1344,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"7th Floor",node:1344,label:"classroomLogo"},{id:1345,lat:4.95,lon:1.3},{id:1346,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"7th Floor",node:1346,label:"classroomLogo"},{id:1347,lat:4.95,lon:.75},{id:1348,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"7th Floor",node:1348,label:"classroomLogo"},{id:1349,lat:4.95,lon:.5},{lat:4.95,lon:.13,title:"classRoom",building:"EDS",floor:"7th Floor",node:1349,label:"classroomLogo"},{id:1350,lat:4.57,lon:.75},{lat:4.3,lon:.5,title:"classRoom",building:"EDS",floor:"7th Floor",node:1350,label:"classroomLogo"},{id:1351,lat:4.95,lon:3.65},{id:1352,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"7th Floor",node:1352,label:"classroomLogo"},{id:1353,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"7th Floor",node:1353,label:"classroomLogo"},{id:1354,lat:4.95,lon:4.5},{id:8230,lat:4.95,lon:4.3},{id:8231,lat:5.47,lon:4.3},{id:8232,lat:5.47,lon:4.65},{id:8233,lat:5.6,lon:4.65,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8226,direction:"down"},{id:8234,lat:6.2,lon:4.3},{id:8235,lat:6.2,lon:4.65},{id:8236,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8243,direction:"up"},{id:1355,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"7th Floor",node:1355,label:"classroomLogo"},{id:1356,lat:4.95,lon:5},{id:1357,lat:6.07,lon:5},{id:1358,lat:6.07,lon:5.85},{id:1359,lat:6.46,lon:5.85},{lat:7.4,lon:5.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1359,label:"classroomLogo"},{id:1360,lat:5.73,lon:5.85},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1360,label:"classroomLogo"},{id:1361,lat:6.07,lon:6.65},{id:1362,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:1284,direction:"down"},{id:1363,lat:6.07,lon:7.1},{id:1364,lat:4.8,lon:7.1},{id:1365,lat:4.8,lon:6.65},{id:1366,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1453,direction:"up"},{id:1367,lat:6.81,lon:7.1},{id:1368,lat:7.13,lon:7.1},{lat:8,lon:6.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1368,label:"classroomLogo"},{id:1369,lat:6.81,lon:7.58},{id:1370,lat:6.49,lon:7.58,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.4,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1370},{id:1371,lat:6.81,lon:7.9},{id:1372,lat:7.13,lon:7.9},{lat:8,lon:7.7,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1372,label:"classroomLogo"},{id:1373,lat:6.51,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1373,label:"classroomLogo"},{id:1374,lat:6.81,lon:8.8},{id:1375,lat:7.13,lon:8.8},{lat:8,lon:8.9,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1375,label:"classroomLogo"},{id:1376,lat:6.51,lon:8.8},{lat:6.2,lon:8.4,title:"classRoom",building:"CHTM",floor:"7th Floor",node:1376,label:"classroomLogo"},{id:8330,lat:6.81,lon:9.65},{id:8331,lat:7,lon:9.65},{id:8332,lat:7,lon:9.9},{id:8333,lat:7.15,lon:9.9,label:"leaveButton",destination:"CHTMEDS6thFloor",desti:8325,direction:"down"},{id:8334,lat:8.1,lon:9.65},{id:8335,lat:8.1,lon:9.9},{id:8336,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8343,direction:"up"}]:t=="CHTMEDS8thFloor"?e=[{id:1410,lat:3.85,lon:2.32,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1330,direction:"down"},{id:1452,lat:4.95,lon:2.32},{id:1411,lat:4.95,lon:1.85},{id:1412,lat:2.88,lon:1.85},{id:1413,lat:2.88,lon:2.02},{lat:2.5,lon:2.52,title:"classRoom",building:"EDS",floor:"8th Floor",node:1413,label:"classroomLogo"},{id:1414,lat:2.42,lon:1.85},{lat:1.9,lon:.75,title:"classRoom",building:"EDS",floor:"8th Floor",node:1414,label:"classroomLogo"},{id:1415,lat:2.88,lon:1.62},{lat:3.3,lon:1,title:"classRoom",building:"EDS",floor:"8th Floor",node:1415,label:"classroomLogo"},{id:1416,lat:4.95,lon:1.58},{id:1417,lat:5.28,lon:1.58},{lat:6.4,lon:1.4,title:"classRoom",building:"EDS",floor:"8th Floor",node:1417,label:"classroomLogo"},{id:1418,lat:4.95,lon:1.3},{id:1419,lat:4.57,lon:1.3,label:"elevator",elevatorBuilding:"EDS"},{lat:4.3,lon:1.16,title:"classRoom",building:"EDS",floor:"8th Floor",node:1419},{id:1420,lat:4.95,lon:.75},{id:1421,lat:5.28,lon:.75},{lat:6.4,lon:.4,title:"classRoom",building:"EDS",floor:"8th Floor",node:1421,label:"classroomLogo"},{id:1422,lat:4.95,lon:.25},{id:1423,lat:2.5,lon:.25},{id:1424,lat:2.5,lon:.75},{id:1425,lat:2.75,lon:.75,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1500,direction:"up"},{id:1426,lat:4.95,lon:2.55},{id:1427,lat:5.28,lon:2.55},{lat:6.4,lon:2.45,title:"classRoom",building:"EDS",floor:"8th Floor",node:1427,label:"classroomLogo"},{id:1428,lat:4.95,lon:3.65},{id:1429,lat:5.28,lon:3.65},{lat:6.4,lon:3.55,title:"classRoom",building:"EDS",floor:"8th Floor",node:1429,label:"classroomLogo"},{id:1430,lat:4.57,lon:3.65},{lat:3.8,lon:3.55,title:"classRoom",building:"EDS",floor:"8th Floor",node:1430,label:"classroomLogo"},{id:1431,lat:4.95,lon:4.5},{id:8240,lat:4.95,lon:4.3},{id:8241,lat:5.45,lon:4.3},{id:8242,lat:5.45,lon:4.65},{id:8243,lat:5.6,lon:4.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8236,direction:"down"},{id:8244,lat:6.2,lon:4.3},{id:8245,lat:6.2,lon:4.65},{id:8246,lat:6,lon:4.65,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:8257,direction:"up"},{id:1432,lat:4.57,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"EDS",floor:"8th Floor",node:1432,label:"classroomLogo"},{id:1433,lat:4.95,lon:5},{id:1434,lat:6.07,lon:5},{id:1435,lat:6.07,lon:5.85},{id:1436,lat:6.46,lon:5.85},{lat:7.4,lon:5.7,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1436,label:"classroomLogo"},{id:1437,lat:5.73,lon:5.85},{lat:5.2,lon:5.85,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1437,label:"classroomLogo"},{id:1438,lat:6.07,lon:6.65},{id:1453,lat:5.67,lon:6.65,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:1366,direction:"down"},{id:1439,lat:6.07,lon:7.1},{id:1440,lat:4.8,lon:7.1},{id:1441,lat:4.8,lon:6.65},{id:1442,lat:5.07,lon:6.65,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1515,direction:"up"},{id:1443,lat:6.81,lon:7.1},{id:1444,lat:6.81,lon:7.4},{id:1445,lat:7.13,lon:7.4},{lat:8.3,lon:7.1,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1445,label:"classroomLogo"},{id:1454,lat:6.81,lon:7.58},{id:1446,lat:6.49,lon:7.58,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.4,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1446},{id:1455,lat:6.81,lon:7.9},{id:1456,lat:6.51,lon:7.9},{lat:5.8,lon:7.6,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1456,label:"classroomLogo"},{id:1447,lat:6.81,lon:8.4},{id:1448,lat:7.13,lon:8.4},{lat:8.3,lon:8.6,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1448,label:"classroomLogo"},{id:1449,lat:6.51,lon:8.4},{lat:6,lon:8.4,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1449,label:"classroomLogo"},{id:1450,lat:6.81,lon:9.1},{id:1451,lat:6.51,lon:9.1},{lat:6.2,lon:9,title:"classRoom",building:"CHTM",floor:"8th Floor",node:1451,label:"classroomLogo"},{id:8340,lat:6.81,lon:9.65},{id:8341,lat:7,lon:9.65},{id:8342,lat:7,lon:9.9},{id:8343,lat:7.15,lon:9.9,label:"leaveButton",destination:"CHTMEDS7thFloor",desti:8336,direction:"down"},{id:8344,lat:8.1,lon:9.65},{id:8345,lat:8.1,lon:9.9},{id:8346,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:8353,direction:"up"}]:t=="CHTMEDS9thFloor"?e=[{id:1500,lat:2.75,lon:.75,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1425,direction:"down"},{id:1501,lat:3.65,lon:.75},{id:1502,lat:3.65,lon:1.3},{id:8250,lat:5.5,lon:2.6},{id:1503,lat:3.65,lon:1.52},{lat:5.5,lon:2.6,title:"classRoom",building:"EDS",floor:"9th Floor",node:8250,label:"classroomLogo"},{id:1504,lat:2.35,lon:1.3},{lat:1.6,lon:1.3,title:"classRoom",building:"EDS",floor:"9th Floor",node:1504,label:"classroomLogo"},{id:1505,lat:4.2,lon:.75},{id:1506,lat:4.2,lon:1.05,label:"elevator",elevatorBuilding:"EDS"},{lat:4.2,lon:1.2,title:"classRoom",building:"EDS",floor:"9th Floor",node:1506,label:"classroomLogo"},{id:1507,lat:5.95,lon:.75},{id:1508,lat:5.95,lon:.515},{lat:6,lon:.2,title:"classRoom",building:"EDS",floor:"9th Floor",node:1508,label:"classroomLogo"},{id:1509,lat:6.23,lon:.75},{lat:6.55,lon:.4,title:"classRoom",building:"EDS",floor:"9th Floor",node:1509,label:"classroomLogo"},{id:8251,lat:3.5,lon:4.13},{id:8252,lat:3.5,lon:4.45},{id:8253,lat:4.95,lon:4.45},{id:8254,lat:4.95,lon:4.28},{id:8255,lat:5.45,lon:4.28},{id:8256,lat:5.45,lon:4.63},{id:8257,lat:5.6,lon:4.63,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8246,direction:"down"},{id:1510,lat:5.05,lon:6.65,label:"leaveButton",destination:"CHTM10thFloor",desti:1600,direction:"up"},{id:1511,lat:4.7,lon:6.65},{id:1512,lat:4.7,lon:7.1},{id:1513,lat:6,lon:7.1},{id:1514,lat:6,lon:6.65},{id:1515,lat:5.68,lon:6.65,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:1442,direction:"down"},{id:1516,lat:6.8,lon:7.1},{id:1517,lat:6.8,lon:6.65},{id:1518,lat:6.8,lon:6.4},{lat:6.8,lon:5.8,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1518,label:"classroomLogo"},{id:1519,lat:6.8,lon:7.55},{id:1520,lat:7.12,lon:7.55},{lat:8.2,lon:7.65,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1520,label:"classroomLogo"},{id:1521,lat:6.5,lon:7.55,label:"elevator",elevatorBuilding:"CHTM"},{lat:6.3,lon:7.44,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1521},{id:1522,lat:6.8,lon:7.9},{id:1523,lat:6.52,lon:7.9},{lat:5.8,lon:7.65,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1523,label:"classroomLogo"},{id:1524,lat:6.8,lon:8.4},{id:1525,lat:6.52,lon:8.4},{lat:6.2,lon:8.4,title:"classRoom",building:"CHTM",floor:"9th Floor",node:1525,label:"classroomLogo"},{id:8350,lat:6.8,lon:9.65},{id:8351,lat:7,lon:9.65},{id:8352,lat:7,lon:9.9},{id:8353,lat:7.15,lon:9.9,label:"leaveButton",destination:"CHTMEDS8thFloor",desti:8346,direction:"down"},{id:8354,lat:8.1,lon:9.65},{id:8355,lat:8.1,lon:9.9},{id:8356,lat:7.9,lon:9.9,label:"leaveButton",destination:"CHTM10thFloor",desti:8364,direction:"up"}]:t=="CHTM10thFloor"?e=[{id:1600,lat:2.2,lon:3.05,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:1510,direction:"down"},{id:1601,lat:4,lon:3.05},{id:1602,lat:4,lon:3.5},{id:1603,lat:4.89,lon:3.5},{lat:7.5,lon:3.5,title:"classRoom",building:"CHTM",floor:"10th Floor",node:8360,label:"classroomLogo"},{id:1604,lat:4.89,lon:4.84,label:"elevator",elevatorBuilding:"CHTM"},{lat:4.5,lon:4.65,title:"classRoom",building:"CHTM",floor:"10th Floor",node:1604},{id:8361,lat:5.6,lon:8.55},{id:8362,lat:5.6,lon:9.25},{id:8363,lat:6.3,lon:9.25,label:"leaveButton",destination:"CHTMEDS9thFloor",desti:8356,direction:"down"}]:t=="BRS1stFloor"?e=[{id:130,lat:8.3,lon:9.65,label:"leaveButton",destination:"science1stFloor",desti:404},{id:131,lat:5,lon:9.65},{id:8400,lat:4.3,lon:9.65},{id:8401,lat:4.3,lon:9.8},{id:8402,lat:3.4,lon:9.8,label:"leaveButton",destination:"BRS2ndFloor",desti:8412,direction:"up"},{id:132,lat:5,lon:8.1},{id:133,lat:5.38,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"1st Floor",node:133,label:"classroomLogo"},{id:134,lat:5,lon:7.1},{id:135,lat:4.66,lon:7.1},{lat:3.4,lon:7,title:"classRoom",building:"BRS",floor:"1st Floor",node:135,label:"classroomLogo"},{id:136,lat:5,lon:5.7},{id:137,lat:5.38,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"1st Floor",node:137,label:"classroomLogo"},{id:138,lat:5,lon:4.3},{id:139,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"1st Floor",node:139,label:"classroomLogo"},{id:140,lat:5,lon:4.17},{id:141,lat:5.4,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"1st Floor",node:141,label:"classroomLogo"},{id:142,lat:5,lon:3.1},{id:143,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"1st Floor",node:143},{id:144,lat:5,lon:1.5},{id:145,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"1st Floor",node:145,label:"classroomLogo"},{id:146,lat:5,lon:.7},{id:147,lat:6.6,lon:.7},{id:148,lat:6.6,lon:1.9},{id:149,lat:6.2,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:115,direction:"up"}]:t=="BRS2ndFloor"?e=[{id:100,lat:8.55,lon:9.65,label:"leaveButton",destination:"science2ndFloor",desti:77},{id:101,lat:5.25,lon:9.65},{id:8410,lat:4.5,lon:9.65},{id:8411,lat:4.5,lon:9.5},{id:8412,lat:4.25,lon:9.5,label:"leaveButton",destination:"BRS1stFloor",desti:8406,direction:"down"},{id:8413,lat:4.5,lon:9.77},{id:8414,lat:3.5,lon:9.77},{id:8415,lat:3.5,lon:9.5},{id:8416,lat:3.7,lon:9.5,label:"leaveButton",destination:"BRS3rdFloor",desti:8422,direction:"up"},{id:102,lat:5.25,lon:8.1},{id:103,lat:5.6,lon:8.1},{lat:6.8,lon:7.9,title:"classRoom",building:"BRS",floor:"2nd Floor",node:103,label:"classroomLogo"},{id:104,lat:5.25,lon:7.7},{id:105,lat:4.95,lon:7.7},{lat:3.5,lon:7.6,title:"classRoom",building:"BRS",floor:"2nd Floor",node:105,label:"classroomLogo"},{id:106,lat:5.25,lon:5.7},{id:107,lat:5.6,lon:5.7},{lat:6.8,lon:5.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:107,label:"classroomLogo"},{id:108,lat:5.25,lon:4.7},{id:109,lat:4.95,lon:4.7},{lat:3.5,lon:4.5,title:"classRoom",building:"BRS",floor:"2nd Floor",node:109,label:"classroomLogo"},{id:110,lat:5.25,lon:4.17},{id:111,lat:5.8,lon:4.17},{lat:6.9,lon:3.6,title:"facility",building:"BRS",floor:"2nd Floor",node:111,label:"classroomLogo"},{id:112,lat:5.25,lon:3.1},{id:113,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"",building:"BRS",floor:"2nd Floor",node:113},{id:114,lat:5.25,lon:1.9},{id:115,lat:5.6,lon:1.9,label:"leaveButton",destination:"BRS1stFloor",desti:149,direction:"down"},{id:116,lat:5.25,lon:1.6},{id:117,lat:4.95,lon:1.6},{lat:3.5,lon:1.4,title:"classRoom",building:"BRS",floor:"2nd Floor",node:117,label:"classroomLogo"},{id:118,lat:5.25,lon:.7},{id:119,lat:6.9,lon:.7},{id:120,lat:6.9,lon:1.9},{id:121,lat:6.5,lon:1.9,label:"leaveButton",destination:"BRS3rdFloor",desti:168,direction:"up"}]:t=="BRS3rdFloor"?e=[{id:155,lat:8.3,lon:9.65,label:"leaveButton",destination:"science3rdFloor",desti:532},{id:156,lat:5,lon:9.65},{id:8420,lat:4.2,lon:9.65},{id:8421,lat:4.2,lon:9.5},{id:8422,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS2ndFloor",desti:8416,direction:"down"},{id:8423,lat:4.2,lon:9.77},{id:8424,lat:3.3,lon:9.77},{id:8425,lat:3.3,lon:9.5},{id:8426,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS4thFloor",desti:8432,direction:"up"},{id:157,lat:5,lon:7.8},{id:158,lat:4.66,lon:7.8},{lat:3.4,lon:7.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:158,label:"classroomLogo"},{id:159,lat:5,lon:7},{id:160,lat:5.38,lon:7},{lat:7,lon:6.5,title:"classRoom",building:"BRS",floor:"3rd Floor",node:160,label:"classroomLogo"},{id:161,lat:5,lon:4.3},{id:162,lat:4.66,lon:4.3},{lat:3.5,lon:4.1,title:"classRoom",building:"BRS",floor:"3rd Floor",node:162,label:"classroomLogo"},{id:163,lat:5,lon:4.17},{id:164,lat:5.5,lon:4.17},{lat:6.7,lon:3.5,title:"facility",building:"BRS",floor:"3rd Floor",node:164,label:"classroomLogo"},{id:165,lat:5,lon:3.1},{id:166,lat:5.38,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"",building:"BRS",floor:"3rd Floor",node:166},{id:167,lat:5,lon:1.9},{id:168,lat:5.38,lon:1.9,label:"leaveButton",destination:"BRS2ndFloor",desti:121,direction:"down"},{id:169,lat:5,lon:1.5},{id:170,lat:4.66,lon:1.5},{lat:3.5,lon:1.2,title:"classRoom",building:"BRS",floor:"3rd Floor",node:170,label:"classroomLogo"},{id:171,lat:5,lon:.7},{id:172,lat:6.6,lon:.7},{id:173,lat:6.6,lon:1.9},{id:174,lat:6.26,lon:1.9,label:"leaveButton",destination:"BRS4thFloor",desti:197,direction:"up"}]:t=="BRS4thFloor"?e=[{id:202,lat:6.28,lon:2.95,label:"leaveButton",destination:"BRS5thFloor",desti:222,direction:"up"},{id:201,lat:6.6,lon:2.95},{id:200,lat:6.6,lon:1.9},{id:199,lat:5.22,lon:1.9},{id:198,lat:5.22,lon:2.45},{id:203,lat:4.9,lon:2.45},{id:204,lat:4.9,lon:1.9},{id:205,lat:4.9,lon:.85},{id:206,lat:5.6,lon:.85,label:"leaveButton",destination:"science4thFloor",desti:624},{id:207,lat:4.9,lon:.1,label:"leaveButton",destination:"main4thFloor",desti:700},{id:196,lat:5.22,lon:2.95},{id:197,lat:5.55,lon:2.95,label:"leaveButton",destination:"BRS3rdFloor",desti:174,direction:"down"},{id:194,lat:5.22,lon:4},{id:195,lat:5.55,lon:4,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:3.9,title:"classRoom",building:"BRS",floor:"4th Floor",node:195},{id:192,lat:5.22,lon:4.5},{id:193,lat:4.93,lon:4.5},{lat:4,lon:4.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:193,label:"classroomLogo"},{id:190,lat:5.22,lon:4.98},{id:191,lat:5.7,lon:4.98},{lat:6.8,lon:4.5,title:"classRoom",building:"BRS",floor:"4th Floor",node:191},{id:188,lat:5.22,lon:6.3},{id:189,lat:5.55,lon:6.3},{lat:6.8,lon:6,title:"classRoom",building:"BRS",floor:"4th Floor",node:189,label:"classroomLogo"},{id:186,lat:5.22,lon:6.55},{id:187,lat:4.93,lon:6.55},{lat:4,lon:6.4,title:"classRoom",building:"BRS",floor:"4th Floor",node:187,label:"classroomLogo"},{id:184,lat:5.22,lon:8.3},{id:185,lat:5.55,lon:8.3},{lat:6.8,lon:8,title:"classRoom",building:"BRS",floor:"4th Floor",node:185,label:"classroomLogo"},{id:182,lat:5.22,lon:8.5},{id:183,lat:4.93,lon:8.5},{lat:4,lon:8.3,title:"classRoom",building:"BRS",floor:"4th Floor",node:183,label:"classroomLogo"},{id:181,lat:5.22,lon:9.67},{id:8430,lat:4.55,lon:9.65},{id:8431,lat:4.55,lon:9.55},{id:8432,lat:4.33,lon:9.55,label:"leaveButton",destination:"BRS3rdFloor",desti:8426,direction:"down"},{id:8433,lat:4.55,lon:9.77},{id:8434,lat:3.65,lon:9.77},{id:8435,lat:3.65,lon:9.55},{id:8436,lat:3.9,lon:9.55,label:"leaveButton",destination:"BRS5thFloor",desti:8442,direction:"up"},{id:180,lat:8.05,lon:9.67,label:"leaveButton",destination:"science4thFloor",desti:634},{id:208,lat:1.9,lon:2.45},{lat:2,lon:2.45,title:"classRoom",building:"BRS",floor:"4th Floor",node:208}]:t=="BRS5thFloor"?e=[{id:215,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:237,direction:"up"},{id:216,lat:6.65,lon:1.88},{id:217,lat:6.65,lon:.65},{id:218,lat:4.95,lon:.65},{id:219,lat:4.95,lon:1.4},{id:220,lat:4.66,lon:1.4},{lat:3.3,lon:3.4,title:"classRoom",building:"BRS",floor:"5th Floor",node:220,label:"classroomLogo"},{id:221,lat:4.95,lon:1.88},{id:222,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS4thFloor",desti:202,direction:"down"},{id:223,lat:4.95,lon:3.1},{id:224,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"5th Floor",node:224},{id:225,lat:4.95,lon:4.15},{id:226,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"5th Floor",node:226,label:"classroomLogo"},{lat:7.5,lon:6.5,title:"classRoom",building:"BRS",floor:"5th Floor",node:220,label:"classroomLogo"},{id:8440,lat:4.2,lon:9.65},{id:8441,lat:4.2,lon:9.5},{id:8442,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS4thFloor",desti:8436,direction:"down"},{id:8443,lat:4.2,lon:9.77},{id:8444,lat:3.3,lon:9.77},{id:8445,lat:3.3,lon:9.5},{id:8446,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS6thFloor",desti:8452,direction:"up"},{id:8447,lat:5,lon:9.65},{id:8448,lat:5,lon:9.35},{id:8449,lat:8.35,lon:9.65,label:"leaveButton",destination:"science5thFloor",desti:903}]:t=="BRS6thFloor"?e=[{id:230,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:262,direction:"up"},{id:231,lat:6.65,lon:1.88},{id:232,lat:6.65,lon:.65},{id:233,lat:4.95,lon:.65},{id:234,lat:4.95,lon:1.2},{id:235,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"6th Floor",node:235,label:"classroomLogo"},{id:236,lat:4.95,lon:1.88},{id:237,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS5thFloor",desti:215,direction:"down"},{id:238,lat:4.95,lon:3.1},{id:239,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"6th Floor",node:239},{id:240,lat:4.95,lon:4.15},{id:241,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"6th Floor",node:241,label:"classroomLogo"},{id:242,lat:4.66,lon:4.15},{id:243,lat:4.95,lon:7},{id:244,lat:4.66,lon:7},{id:245,lat:5.4,lon:7},{lat:7.5,lon:6.8,title:"classRoom",building:"BRS",floor:"6th Floor",node:245,label:"classroomLogo"},{id:246,lat:4.95,lon:9.65},{id:247,lat:5.4,lon:9.65},{lat:5.85,lon:9.55,title:"classRoom",building:"BRS",floor:"6th Floor",node:247,label:"classroomLogo"},{lat:3.3,lon:5,title:"classRoom",building:"BRS",floor:"6th Floor",node:248,label:"classroomLogo"},{id:8450,lat:4.2,lon:9.65},{id:8451,lat:4.2,lon:9.5},{id:8452,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS5thFloor",desti:8446,direction:"down"},{id:8453,lat:4.2,lon:9.77},{id:8454,lat:3.3,lon:9.77},{id:8455,lat:3.3,lon:9.5},{id:8456,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS7thFloor",desti:8462,direction:"up"}]:t=="BRS7thFloor"?e=[{id:255,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:287,direction:"up"},{id:256,lat:6.65,lon:1.88},{id:257,lat:6.65,lon:.65},{id:258,lat:4.95,lon:.65},{id:259,lat:4.95,lon:1.2},{id:260,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"7th Floor",node:260,label:"classroomLogo"},{id:261,lat:4.95,lon:1.88},{id:262,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS6thFloor",desti:230,direction:"down"},{id:263,lat:4.95,lon:3.1},{id:264,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:264,label:"classroomLogo"},{id:265,lat:4.95,lon:3.5},{id:266,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"7th Floor",node:266,label:"classroomLogo"},{id:267,lat:4.95,lon:4.15},{id:268,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"7th Floor",node:268,label:"classroomLogo"},{id:269,lat:4.95,lon:5.8},{id:270,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:270,label:"classroomLogo"},{id:271,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"7th Floor",node:271,label:"classroomLogo"},{id:272,lat:4.95,lon:8.1},{id:273,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"7th Floor",node:273,label:"classroomLogo"},{id:274,lat:4.95,lon:8.6},{id:275,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"7th Floor",node:275,label:"classroomLogo"},{id:8467,lat:4.95,lon:9.65},{id:8460,lat:4.2,lon:9.65},{id:8461,lat:4.2,lon:9.5},{id:8462,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS6thFloor",desti:8456,direction:"down"},{id:8463,lat:4.2,lon:9.77},{id:8464,lat:3.3,lon:9.77},{id:8465,lat:3.3,lon:9.5},{id:8466,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS8thFloor",desti:8472,direction:"up"}]:t=="BRS8thFloor"?e=[{id:280,lat:6.24,lon:1.88,label:"leaveButton",destination:"BRS9thFloor",desti:312,direction:"up"},{id:281,lat:6.65,lon:1.88},{id:282,lat:6.65,lon:.65},{id:283,lat:4.95,lon:.65},{id:284,lat:4.95,lon:1.2},{id:285,lat:4.66,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"8th Floor",node:285,label:"classroomLogo"},{id:286,lat:4.95,lon:1.88},{id:287,lat:5.4,lon:1.88,label:"leaveButton",destination:"BRS7thFloor",desti:255,direction:"down"},{id:288,lat:4.95,lon:3.1},{id:289,lat:5.4,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:5.8,lon:2.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:289},{id:290,lat:4.95,lon:3.5},{id:291,lat:4.66,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"8th Floor",node:291,label:"classroomLogo"},{id:292,lat:4.95,lon:4.15},{id:293,lat:5.6,lon:4.15},{lat:6.6,lon:3.6,title:"classRoom",building:"BRS",floor:"8th Floor",node:293,label:"classroomLogo"},{id:294,lat:4.95,lon:5.8},{id:295,lat:5.4,lon:5.8},{lat:7.5,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:295,label:"classroomLogo"},{id:296,lat:4.66,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"8th Floor",node:296,label:"classroomLogo"},{id:297,lat:4.95,lon:8.1},{id:298,lat:4.66,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"8th Floor",node:298,label:"classroomLogo"},{id:299,lat:4.95,lon:8.6},{id:300,lat:5.4,lon:8.6},{lat:7.5,lon:7.9,title:"classRoom",building:"BRS",floor:"8th Floor",node:300,label:"classroomLogo"},{id:8477,lat:4.95,lon:9.65},{id:8470,lat:4.2,lon:9.65},{id:8471,lat:4.2,lon:9.5},{id:8472,lat:3.95,lon:9.5,label:"leaveButton",destination:"BRS7thFloor",desti:8466,direction:"down"},{id:8473,lat:4.2,lon:9.77},{id:8474,lat:3.3,lon:9.77},{id:8475,lat:3.3,lon:9.5},{id:8476,lat:3.45,lon:9.5,label:"leaveButton",destination:"BRS9thFloor",desti:8482,direction:"up"}]:t=="BRS9thFloor"?e=[{id:305,lat:6.4,lon:1,label:"leaveButton",destination:"BRS10thFloor",desti:1040,direction:"up"},{id:306,lat:6.65,lon:1},{id:307,lat:6.65,lon:.45},{id:308,lat:4.95,lon:.45},{id:309,lat:4.95,lon:1.2},{id:310,lat:4.43,lon:1.2},{lat:3.3,lon:1.1,title:"classRoom",building:"BRS",floor:"9th Floor",node:310,label:"classroomLogo"},{id:311,lat:4.95,lon:1.88},{id:312,lat:5.6,lon:1.88,label:"leaveButton",destination:"BRS8thFloor",desti:280,direction:"down"},{id:313,lat:4.95,lon:3.1},{id:314,lat:5.6,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6,lon:2.9,title:"classRoom",building:"BRS",floor:"9th Floor",node:314},{id:315,lat:4.95,lon:3.5},{id:316,lat:4.43,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"9th Floor",node:316,label:"classroomLogo"},{id:317,lat:4.95,lon:4.15},{id:318,lat:5.7,lon:4.15},{lat:6.8,lon:3.6,title:"classRoom",building:"BRS",floor:"9th Floor",node:318,label:"classroomLogo"},{id:319,lat:4.95,lon:5.3},{id:320,lat:5.6,lon:5.3},{lat:7.5,lon:5,title:"classRoom",building:"BRS",floor:"9th Floor",node:320,label:"classroomLogo"},{id:321,lat:4.95,lon:5.8},{id:322,lat:4.43,lon:5.8},{lat:3.3,lon:5.5,title:"classRoom",building:"BRS",floor:"9th Floor",node:322,label:"classroomLogo"},{id:323,lat:4.95,lon:7.2},{id:324,lat:5.6,lon:7.2},{lat:7.5,lon:7,title:"classRoom",building:"BRS",floor:"9th Floor",node:324,label:"classroomLogo"},{id:325,lat:4.95,lon:8.1},{id:326,lat:4.43,lon:8.1},{lat:3.3,lon:7.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:326,label:"classroomLogo"},{id:327,lat:4.95,lon:9.15},{id:328,lat:5.6,lon:9.15},{lat:7.5,lon:8.8,title:"classRoom",building:"BRS",floor:"9th Floor",node:328,label:"classroomLogo"},{id:8487,lat:4.95,lon:9.65},{id:8480,lat:4,lon:9.65},{id:8481,lat:4,lon:9.5},{id:8482,lat:3.76,lon:9.5,label:"leaveButton",destination:"BRS8thFloor",desti:8476,direction:"down"},{id:8483,lat:4,lon:9.77},{id:8484,lat:3.05,lon:9.77},{id:8485,lat:3.05,lon:9.5},{id:8486,lat:3.2,lon:9.5,label:"leaveButton",destination:"BRS10thFloor",desti:8492,direction:"up"}]:t=="BRS10thFloor"?e=[{id:1040,lat:5.6,lon:1,label:"leaveButton",destination:"BRS9thFloor",desti:305,direction:"down"},{id:1041,lat:5,lon:1},{id:1042,lat:5,lon:1.2},{id:1043,lat:4.4,lon:1.2},{lat:3.3,lon:1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1043,label:"classroomLogo"},{id:1044,lat:5,lon:1.9},{id:1061,lat:5.62,lon:1.9},{lat:6.4,lon:1.75,title:"classRoom",building:"BRS",floor:"10th Floor",node:1061,label:"classroomLogo"},{id:1045,lat:5,lon:3.1},{id:1046,lat:5.62,lon:3.1,label:"elevator",elevatorBuilding:"BRS"},{lat:6.1,lon:2.9,title:"classRoom",building:"BRS",floor:"10th Floor",node:1046},{id:1047,lat:5,lon:3.5},{id:1048,lat:4.4,lon:3.5},{lat:3.3,lon:3.3,title:"classRoom",building:"BRS",floor:"10th Floor",node:1048,label:"classroomLogo"},{id:1049,lat:5,lon:5.8},{id:1050,lat:3.88,lon:5.8},{lat:2.8,lon:5.55,title:"classRoom",building:"BRS",floor:"10th Floor",node:1050,label:"classroomLogo"},{id:1051,lat:5,lon:7.1},{id:1052,lat:5.62,lon:7.1},{lat:7.2,lon:7.1,title:"classRoom",building:"BRS",floor:"10th Floor",node:1052,label:"classroomLogo"},{id:1053,lat:5,lon:8},{id:1054,lat:4.6,lon:8},{id:1055,lat:3.88,lon:8},{lat:2.8,lon:7.8,title:"classRoom",building:"BRS",floor:"10th Floor",node:1055,label:"classroomLogo"},{id:1056,lat:4.6,lon:9},{id:1057,lat:4.2,lon:9},{id:1059,lat:5.35,lon:9},{id:1060,lat:5.35,lon:9.23},{lat:7.2,lon:8.85,title:"classRoom",building:"BRS",floor:"10th Floor",node:1060,label:"classroomLogo"},{id:8493,lat:4.2,lon:9.65},{id:8490,lat:4,lon:9.65},{id:8491,lat:4,lon:9.5},{id:8492,lat:3.76,lon:9.5,label:"leaveButton",destination:"BRS9thFloor",desti:8486,direction:"down"}]:t=="mainGroundFloor"&&(e=[{id:1700,lat:5.1,lon:.7},{lat:5.1,lon:.1,title:"classRoom",building:"Main",floor:"Ground Floor",node:1700},{id:1701,lat:5.1,lon:2.2},{id:1702,lat:6.2,lon:2.2,label:"leaveButton",destination:"science2ndFloor",desti:86,direction:"up"},{id:1703,lat:5.1,lon:.55},{id:1704,lat:7.5,lon:-.12,label:"leaveButton",destination:"science1stFloor",desti:3004}]),e}const M5="/Mapa-UC/assets/UpArrow-YGzUSuWO.png",P5="/Mapa-UC/assets/DownArrow-hW0x4lvo.png",F5="/Mapa-UC/assets/instructionsF-3RjMGkoV.png",D5="/Mapa-UC/assets/legends-pB1Do4te.png";var ug={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=function(t,e){if(!t)throw gl(e)},gl=function(t){return new Error("Firebase Database ("+wm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let d=t.charCodeAt(s);d<128?e[n++]=d:d<2048?(e[n++]=d>>6|192,e[n++]=d&63|128):(d&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(d=65536+((d&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=d>>18|240,e[n++]=d>>12&63|128,e[n++]=d>>6&63|128,e[n++]=d&63|128):(e[n++]=d>>12|224,e[n++]=d>>6&63|128,e[n++]=d&63|128)}return e},k5=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const d=t[n++];if(d<128)e[s++]=String.fromCharCode(d);else if(d>191&&d<224){const g=t[n++];e[s++]=String.fromCharCode((d&31)<<6|g&63)}else if(d>239&&d<365){const g=t[n++],_=t[n++],w=t[n++],v=((d&7)<<18|(g&63)<<12|(_&63)<<6|w&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const g=t[n++],_=t[n++];e[s++]=String.fromCharCode((d&15)<<12|(g&63)<<6|_&63)}}return e.join("")},$h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let d=0;d<t.length;d+=3){const g=t[d],_=d+1<t.length,w=_?t[d+1]:0,v=d+2<t.length,b=v?t[d+2]:0,M=g>>2,N=(g&3)<<4|w>>4;let F=(w&15)<<2|b>>6,V=b&63;v||(V=64,_||(F=64)),s.push(n[M],n[N],n[F],n[V])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let d=0;d<t.length;){const g=n[t.charAt(d++)],w=d<t.length?n[t.charAt(d)]:0;++d;const b=d<t.length?n[t.charAt(d)]:64;++d;const N=d<t.length?n[t.charAt(d)]:64;if(++d,g==null||w==null||b==null||N==null)throw new B5;const F=g<<2|w>>4;if(s.push(F),b!==64){const V=w<<4&240|b>>2;if(s.push(V),N!==64){const $=b<<6&192|N;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cm=function(t){const e=vm(t);return $h.encodeByteArray(e,!0)},ac=function(t){return Cm(t).replace(/\./g,"")},F1=function(t){try{return $h.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){return Sm(void 0,t)}function Sm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!H5(n)||(t[n]=Sm(t[n],e[n]));return t}function H5(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=()=>U5().__FIREBASE_DEFAULTS__,V5=()=>{if(typeof process>"u"||typeof ug>"u")return;const t=ug.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F1(t[1]);return e&&JSON.parse(e)},bm=()=>{try{return W5()||V5()||G5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z5=t=>{var e,n;return(n=(e=bm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},j5=t=>{const e=Z5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Am=()=>{var t;return(t=bm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",d=t.iat||0,g=t.sub||t.user_id;if(!g)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:d,exp:d+3600,auth_time:d,sub:g,user_id:g,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ac(JSON.stringify(n)),ac(JSON.stringify(_)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Im(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y5())}function K5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tm(){return wm.NODE_ADMIN===!0}function q5(){try{return typeof indexedDB=="object"}catch{return!1}}function Q5(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(s);d.onsuccess=()=>{d.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},d.onupgradeneeded=()=>{n=!1},d.onerror=()=>{var g;e(((g=d.error)===null||g===void 0?void 0:g.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="FirebaseError";class Va extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$5,Object.setPrototypeOf(this,Va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rm.prototype.create)}}class Rm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},d=`${this.service}/${e}`,g=this.errors[e],_=g?J5(g,s):"Error",w=`${this.serviceName}: ${_} (${d}).`;return new Va(d,w,s)}}function J5(t,e){return t.replace(e8,(n,s)=>{const d=e[s];return d!=null?String(d):`<${s}?>`})}const e8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){return JSON.parse(t)}function Fn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=function(t){let e={},n={},s={},d="";try{const g=t.split(".");e=Ta(F1(g[0])||""),n=Ta(F1(g[1])||""),d=g[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:d}},t8=function(t){const e=Nm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},n8=function(t){const e=Nm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ll(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dc(t,e,n){const s={};for(const d in t)Object.prototype.hasOwnProperty.call(t,d)&&(s[d]=e.call(n,t[d],d,t));return s}function D1(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const d of n){if(!s.includes(d))return!1;const g=t[d],_=e[d];if(fg(g)&&fg(_)){if(!D1(g,_))return!1}else if(g!==_)return!1}for(const d of s)if(!n.includes(d))return!1;return!0}function fg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(d=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let N=0;N<16;N++)s[N]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let N=0;N<16;N++)s[N]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let N=16;N<80;N++){const F=s[N-3]^s[N-8]^s[N-14]^s[N-16];s[N]=(F<<1|F>>>31)&4294967295}let d=this.chain_[0],g=this.chain_[1],_=this.chain_[2],w=this.chain_[3],v=this.chain_[4],b,M;for(let N=0;N<80;N++){N<40?N<20?(b=w^g&(_^w),M=1518500249):(b=g^_^w,M=1859775393):N<60?(b=g&_|w&(g|_),M=2400959708):(b=g^_^w,M=3395469782);const F=(d<<5|d>>>27)+b+v+M+s[N]&4294967295;v=w,w=_,_=(g<<30|g>>>2)&4294967295,g=d,d=F}this.chain_[0]=this.chain_[0]+d&4294967295,this.chain_[1]=this.chain_[1]+g&4294967295,this.chain_[2]=this.chain_[2]+_&4294967295,this.chain_[3]=this.chain_[3]+w&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let d=0;const g=this.buf_;let _=this.inbuf_;for(;d<n;){if(_===0)for(;d<=s;)this.compress_(e,d),d+=this.blockSize;if(typeof e=="string"){for(;d<n;)if(g[_]=e.charCodeAt(d),++_,++d,_===this.blockSize){this.compress_(g),_=0;break}}else for(;d<n;)if(g[_]=e[d],++_,++d,_===this.blockSize){this.compress_(g),_=0;break}}this.inbuf_=_,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let d=this.blockSize-1;d>=56;d--)this.buf_[d]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let d=0;d<5;d++)for(let g=24;g>=0;g-=8)e[s]=this.chain_[d]>>g&255,++s;return e}}function Lm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let d=t.charCodeAt(s);if(d>=55296&&d<=56319){const g=d-55296;s++,_e(s<t.length,"Surrogate pair missing trail surrogate.");const _=t.charCodeAt(s)-56320;d=65536+(g<<10)+_}d<128?e[n++]=d:d<2048?(e[n++]=d>>6|192,e[n++]=d&63|128):d<65536?(e[n++]=d>>12|224,e[n++]=d>>6&63|128,e[n++]=d&63|128):(e[n++]=d>>18|240,e[n++]=d>>12&63|128,e[n++]=d>>6&63|128,e[n++]=d&63|128)}return e},Uc=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return t&&t._delegate?t._delegate:t}class Ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Jh;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:n});d&&s.resolve(d)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),d=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(g){if(d)return null;throw g}else{if(d)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a8(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(n);try{const g=this.getOrInitializeService({instanceIdentifier:d});s.resolve(g)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[g,_]of this.instancesDeferred.entries()){const w=this.normalizeInstanceIdentifier(g);s===w&&_.resolve(d)}return d}onInit(e,n){var s;const d=this.normalizeInstanceIdentifier(n),g=(s=this.onInitCallbacks.get(d))!==null&&s!==void 0?s:new Set;g.add(e),this.onInitCallbacks.set(d,g);const _=this.instances.get(d);return _&&e(_,d),()=>{g.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const d of s)try{d(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:l8(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l8(t){return t===Kr?void 0:t}function a8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Gt||(Gt={}));const c8={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},u8=Gt.INFO,h8={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},f8=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),d=h8[e];if(d)console[d](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=u8,this._logHandler=f8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...e),this._logHandler(this,Gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...e),this._logHandler(this,Gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...e),this._logHandler(this,Gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...e),this._logHandler(this,Gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...e),this._logHandler(this,Gt.ERROR,...e)}}const g8=(t,e)=>e.some(n=>t instanceof n);let gg,pg;function p8(){return gg||(gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m8(){return pg||(pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mm=new WeakMap,k1=new WeakMap,Pm=new WeakMap,Nu=new WeakMap,ef=new WeakMap;function _8(t){const e=new Promise((n,s)=>{const d=()=>{t.removeEventListener("success",g),t.removeEventListener("error",_)},g=()=>{n(Cr(t.result)),d()},_=()=>{s(t.error),d()};t.addEventListener("success",g),t.addEventListener("error",_)});return e.then(n=>{n instanceof IDBCursor&&Mm.set(n,t)}).catch(()=>{}),ef.set(e,t),e}function E8(t){if(k1.has(t))return;const e=new Promise((n,s)=>{const d=()=>{t.removeEventListener("complete",g),t.removeEventListener("error",_),t.removeEventListener("abort",_)},g=()=>{n(),d()},_=()=>{s(t.error||new DOMException("AbortError","AbortError")),d()};t.addEventListener("complete",g),t.addEventListener("error",_),t.addEventListener("abort",_)});k1.set(t,e)}let B1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x8(t){B1=t(B1)}function y8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Lu(this),e,...n);return Pm.set(s,e.sort?e.sort():[e]),Cr(s)}:m8().includes(t)?function(...e){return t.apply(Lu(this),e),Cr(Mm.get(this))}:function(...e){return Cr(t.apply(Lu(this),e))}}function w8(t){return typeof t=="function"?y8(t):(t instanceof IDBTransaction&&E8(t),g8(t,p8())?new Proxy(t,B1):t)}function Cr(t){if(t instanceof IDBRequest)return _8(t);if(Nu.has(t))return Nu.get(t);const e=w8(t);return e!==t&&(Nu.set(t,e),ef.set(e,t)),e}const Lu=t=>ef.get(t);function v8(t,e,{blocked:n,upgrade:s,blocking:d,terminated:g}={}){const _=indexedDB.open(t,e),w=Cr(_);return s&&_.addEventListener("upgradeneeded",v=>{s(Cr(_.result),v.oldVersion,v.newVersion,Cr(_.transaction),v)}),n&&_.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),w.then(v=>{g&&v.addEventListener("close",()=>g()),d&&v.addEventListener("versionchange",b=>d(b.oldVersion,b.newVersion,b))}).catch(()=>{}),w}const C8=["get","getKey","getAll","getAllKeys","count"],S8=["put","add","delete","clear"],Ou=new Map;function mg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ou.get(e))return Ou.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,d=S8.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(d||C8.includes(n)))return;const g=async function(_,...w){const v=this.transaction(_,d?"readwrite":"readonly");let b=v.store;return s&&(b=b.index(w.shift())),(await Promise.all([b[n](...w),d&&v.done]))[0]};return Ou.set(e,g),g}x8(t=>({...t,get:(e,n,s)=>mg(e,n)||t.get(e,n,s),has:(e,n)=>!!mg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A8(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function A8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z1="@firebase/app",_g="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Om("@firebase/app"),I8="@firebase/app-compat",T8="@firebase/analytics-compat",R8="@firebase/analytics",N8="@firebase/app-check-compat",L8="@firebase/app-check",O8="@firebase/auth",M8="@firebase/auth-compat",P8="@firebase/database",F8="@firebase/database-compat",D8="@firebase/functions",k8="@firebase/functions-compat",B8="@firebase/installations",z8="@firebase/installations-compat",H8="@firebase/messaging",U8="@firebase/messaging-compat",W8="@firebase/performance",V8="@firebase/performance-compat",G8="@firebase/remote-config",Z8="@firebase/remote-config-compat",j8="@firebase/storage",X8="@firebase/storage-compat",Y8="@firebase/firestore",K8="@firebase/firestore-compat",q8="firebase",Q8="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="[DEFAULT]",$8={[z1]:"fire-core",[I8]:"fire-core-compat",[R8]:"fire-analytics",[T8]:"fire-analytics-compat",[L8]:"fire-app-check",[N8]:"fire-app-check-compat",[O8]:"fire-auth",[M8]:"fire-auth-compat",[P8]:"fire-rtdb",[F8]:"fire-rtdb-compat",[D8]:"fire-fn",[k8]:"fire-fn-compat",[B8]:"fire-iid",[z8]:"fire-iid-compat",[H8]:"fire-fcm",[U8]:"fire-fcm-compat",[W8]:"fire-perf",[V8]:"fire-perf-compat",[G8]:"fire-rc",[Z8]:"fire-rc-compat",[j8]:"fire-gcs",[X8]:"fire-gcs-compat",[Y8]:"fire-fst",[K8]:"fire-fst-compat","fire-js":"fire-js",[q8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,J8=new Map,U1=new Map;function Eg(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uc(t){const e=t.name;if(U1.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;U1.set(e,t);for(const n of cc.values())Eg(n,t);for(const n of J8.values())Eg(n,t);return!0}function ex(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new Rm("app","Firebase",tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=Q8;function Fm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:H1,automaticDataCollectionEnabled:!1},e),d=s.name;if(typeof d!="string"||!d)throw Sr.create("bad-app-name",{appName:String(d)});if(n||(n=Am()),!n)throw Sr.create("no-options");const g=cc.get(d);if(g){if(D1(n,g.options)&&D1(s,g.config))return g;throw Sr.create("duplicate-app",{appName:d})}const _=new d8(d);for(const v of U1.values())_.addComponent(v);const w=new nx(n,s,_);return cc.set(d,w),w}function ox(t=H1){const e=cc.get(t);if(!e&&t===H1&&Am())return Fm();if(!e)throw Sr.create("no-app",{appName:t});return e}function Ks(t,e,n){var s;let d=(s=$8[t])!==null&&s!==void 0?s:t;n&&(d+=`-${n}`);const g=d.match(/\s|\//),_=e.match(/\s|\//);if(g||_){const w=[`Unable to register library "${d}" with version "${e}":`];g&&w.push(`library name "${d}" contains illegal characters (whitespace or "/")`),g&&_&&w.push("and"),_&&w.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(w.join(" "));return}uc(new Ra(`${d}-version`,()=>({library:d,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebase-heartbeat-database",sx=1,Na="firebase-heartbeat-store";let Mu=null;function Dm(){return Mu||(Mu=v8(rx,sx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Na)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),Mu}async function lx(t){try{const n=(await Dm()).transaction(Na),s=await n.objectStore(Na).get(km(t));return await n.done,s}catch(e){if(e instanceof Va)ds.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function xg(t,e){try{const s=(await Dm()).transaction(Na,"readwrite");await s.objectStore(Na).put(e,km(t)),await s.done}catch(n){if(n instanceof Va)ds.warn(n.message);else{const s=Sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(s.message)}}}function km(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=1024,dx=30*24*60*60*1e3;class cx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const d=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),g=yg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===g||this._heartbeatsCache.heartbeats.some(_=>_.date===g)))return this._heartbeatsCache.heartbeats.push({date:g,agent:d}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(_=>{const w=new Date(_.date).valueOf();return Date.now()-w<=dx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yg(),{heartbeatsToSend:s,unsentEntries:d}=ux(this._heartbeatsCache.heartbeats),g=ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,d.length>0?(this._heartbeatsCache.heartbeats=d,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),g}}function yg(){return new Date().toISOString().substring(0,10)}function ux(t,e=ax){const n=[];let s=t.slice();for(const d of t){const g=n.find(_=>_.agent===d.agent);if(g){if(g.dates.push(d.date),wg(n)>e){g.dates.pop();break}}else if(n.push({agent:d.agent,dates:[d.date]}),wg(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q5()?Q5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const d=await this.read();return xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:d.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const d=await this.read();return xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...e.heartbeats]})}else return}}function wg(t){return ac(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){uc(new Ra("platform-logger",e=>new b8(e),"PRIVATE")),uc(new Ra("heartbeat",e=>new cx(e),"PRIVATE")),Ks(z1,_g,t),Ks(z1,_g,"esm2017"),Ks("fire-js","")}fx("");var gx="firebase",px="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(gx,px,"app");var vg={};const Cg="@firebase/database",Sg="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm="";function mx(t){Bm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ta(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return qo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _x(e)}}catch{}return new Ex},es=zm("localStorage"),W1=zm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Om("@firebase/database"),xx=function(){let t=1;return function(){return t++}}(),Hm=function(t){const e=r8(t),n=new o8;n.update(e);const s=n.digest();return $h.encodeByteArray(s)},Ga=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ga.apply(null,s):typeof s=="object"?e+=Fn(s):e+=s,e+=" "}return e};let is=null,bg=!0;const yx=function(t,e){_e(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qs.logLevel=Gt.VERBOSE,is=qs.log.bind(qs),e&&W1.set("logging_enabled",!0)):typeof t=="function"?is=t:(is=null,W1.remove("logging_enabled"))},qn=function(...t){if(bg===!0&&(bg=!1,is===null&&W1.get("logging_enabled")===!0&&yx(!0)),is){const e=Ga.apply(null,t);is(e)}},Za=function(t){return function(...e){qn(t,...e)}},V1=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ga(...t);qs.error(e)},Yo=function(...t){const e=`FIREBASE FATAL ERROR: ${Ga(...t)}`;throw qs.error(e),new Error(e)},Ni=function(...t){const e="FIREBASE WARNING: "+Ga(...t);qs.warn(e)},wx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ni("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Um=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},al="[MIN_NAME]",cs="[MAX_NAME]",pl=function(t,e){if(t===e)return 0;if(t===al||e===cs)return-1;if(e===al||t===cs)return 1;{const n=Ag(t),s=Ag(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},Cx=function(t,e){return t===e?0:t<e?-1:1},Ul=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fn(e))},tf=function(t){if(typeof t!="object"||t===null)return Fn(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Fn(e[s]),n+=":",n+=tf(t[e[s]]);return n+="}",n},Wm=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let d=0;d<n;d+=e)d+e>n?s.push(t.substring(d,n)):s.push(t.substring(d,d+e));return s};function yi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Vm=function(t){_e(!Um(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let d,g,_,w,v;t===0?(g=0,_=0,d=1/t===-1/0?1:0):(d=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(w=Math.min(Math.floor(Math.log(t)/Math.LN2),s),g=w+s,_=Math.round(t*Math.pow(2,n-w)-Math.pow(2,n))):(g=0,_=Math.round(t/Math.pow(2,1-s-n))));const b=[];for(v=n;v;v-=1)b.push(_%2?1:0),_=Math.floor(_/2);for(v=e;v;v-=1)b.push(g%2?1:0),g=Math.floor(g/2);b.push(d?1:0),b.reverse();const M=b.join("");let N="";for(v=0;v<64;v+=8){let F=parseInt(M.substr(v,8),2).toString(16);F.length===1&&(F="0"+F),N=N+F}return N.toLowerCase()},Sx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ax(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const Ix=new RegExp("^-?(0*)\\d{1,10}$"),Tx=-2147483648,Rx=2147483647,Ag=function(t){if(Ix.test(t)){const e=Number(t);if(e>=Tx&&e<=Rx)return e}return null},ja=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ni("Exception was thrown by user callback.",n),e},Math.floor(0))}},Nx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},la=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ni(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(d=>this.auth_=d)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ni(e)}}class Qs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="5",Gm="v",Zm="s",jm="r",Xm="f",Ym=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Km="ls",qm="p",G1="ac",Qm="websocket",$m="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,s,d,g=!1,_="",w=!1,v=!1){this.secure=n,this.namespace=s,this.webSocketOnly=d,this.nodeAdmin=g,this.persistenceKey=_,this.includeNamespaceInQueryParams=w,this.isUsingEmulator=v,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=es.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&es.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function e_(t,e,n){_e(typeof e=="string","typeof type must == string"),_e(typeof n=="object","typeof params must == object");let s;if(e===Qm)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$m)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mx(t)&&(n.ns=t.namespace);const d=[];return yi(n,(g,_)=>{d.push(g+"="+_)}),s+d.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.counters_={}}incrementCounter(e,n=1){qo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return z5(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu={},Fu={};function of(t){const e=t.toString();return Pu[e]||(Pu[e]=new Px),Pu[e]}function Fx(t,e){const n=t.toString();return Fu[n]||(Fu[n]=e()),Fu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let d=0;d<s.length;++d)s[d]&&ja(()=>{this.onMessage_(s[d])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="start",kx="close",Bx="pLPCommand",zx="pRTLPCB",t_="id",n_="pw",i_="ser",Hx="cb",Ux="seg",Wx="ts",Vx="d",Gx="dframe",o_=1870,r_=30,Zx=o_-r_,jx=25e3,Xx=3e4;class Us{constructor(e,n,s,d,g,_,w){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=d,this.authToken=g,this.transportSessionId=_,this.lastSessionId=w,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Za(e),this.stats_=of(n),this.urlFn=v=>(this.appCheckToken&&(v[G1]=this.appCheckToken),e_(n,$m,v))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xx)),vx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rf((...g)=>{const[_,w,v,b,M]=g;if(this.incrementIncomingBytes_(g),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,_===Ig)this.id=w,this.password=v;else if(_===kx)w?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(w,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+_)},(...g)=>{const[_,w]=g;this.incrementIncomingBytes_(g),this.myPacketOrderer.handleResponse(_,w)},()=>{this.onClosed_()},this.urlFn);const s={};s[Ig]="t",s[i_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Hx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Gm]=nf,this.transportSessionId&&(s[Zm]=this.transportSessionId),this.lastSessionId&&(s[Km]=this.lastSessionId),this.applicationId&&(s[qm]=this.applicationId),this.appCheckToken&&(s[G1]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ym.test(location.hostname)&&(s[jm]=Xm);const d=this.urlFn(s);this.log_("Connecting via long-poll to "+d),this.scriptTagHolder.addTag(d,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Us.forceAllow_=!0}static forceDisallow(){Us.forceDisallow_=!0}static isAvailable(){return Us.forceAllow_?!0:!Us.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sx()&&!bx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Cm(n),d=Wm(s,Zx);for(let g=0;g<d.length;g++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,d.length,d[g]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Gx]="t",s[t_]=e,s[n_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Fn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class rf{constructor(e,n,s,d){this.onDisconnect=s,this.urlFn=d,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xx(),window[Bx+this.uniqueCallbackIdentifier]=e,window[zx+this.uniqueCallbackIdentifier]=n,this.myIFrame=rf.createIFrame_();let g="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(g='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+g+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(w){qn("frame writing exception"),w.stack&&qn(w.stack),qn(w)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qn("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[t_]=this.myID,e[n_]=this.myPW,e[i_]=this.currentSerial;let n=this.urlFn(e),s="",d=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+r_+s.length<=o_;){const _=this.pendingSegs.shift();s=s+"&"+Ux+d+"="+_.seg+"&"+Wx+d+"="+_.ts+"&"+Vx+d+"="+_.d,d++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},d=setTimeout(s,Math.floor(jx)),g=()=>{clearTimeout(d),s()};this.addTag(e,g)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const d=s.readyState;(!d||d==="loaded"||d==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{qn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=16384,Kx=45e3;let hc=null;typeof MozWebSocket<"u"?hc=MozWebSocket:typeof WebSocket<"u"&&(hc=WebSocket);class so{constructor(e,n,s,d,g,_,w){this.connId=e,this.applicationId=s,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Za(this.connId),this.stats_=of(n),this.connURL=so.connectionURL_(n,_,w,d,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,d,g){const _={};return _[Gm]=nf,typeof location<"u"&&location.hostname&&Ym.test(location.hostname)&&(_[jm]=Xm),n&&(_[Zm]=n),s&&(_[Km]=s),d&&(_[G1]=d),g&&(_[qm]=g),e_(e,Qm,_)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,es.set("previous_websocket_failure",!0);try{let s;Tm(),this.mySock=new hc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const d=s.message||s.data;d&&this.log_(d),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const d=s.message||s.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){so.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&hc!==null&&!so.forceDisallow_}static previouslyFailed(){return es.isInMemoryStorage||es.get("previous_websocket_failure")===!0}markConnectionHealthy(){es.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ta(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(_e(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Wm(n,Yx);s.length>1&&this.sendString_(String(s.length));for(let d=0;d<s.length;d++)this.sendString_(s[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Kx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}so.responsesRequiredToBeHealthy=2;so.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Us,so]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=so&&so.isAvailable();let s=n&&!so.previouslyFailed();if(e.webSocketOnly&&(n||Ni("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[so];else{const d=this.transports_=[];for(const g of La.ALL_TRANSPORTS)g&&g.isAvailable()&&d.push(g);La.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}La.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=6e4,Qx=5e3,$x=10*1024,Jx=100*1024,Du="t",Tg="d",e6="s",Rg="r",t6="e",Ng="o",Lg="a",Og="n",Mg="p",n6="h";class i6{constructor(e,n,s,d,g,_,w,v,b,M){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=d,this.authToken_=g,this.onMessage_=_,this.onReady_=w,this.onDisconnect_=v,this.onKill_=b,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Za("c:"+this.id+":"),this.transportManager_=new La(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const d=e.healthyTimeout||0;d>0&&(this.healthyTimeout_=la(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Jx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$x?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(d)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Du in e){const n=e[Du];n===Lg?this.upgradeIfSecondaryHealthy_():n===Rg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ng&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ul("t",e),s=Ul("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Mg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Og,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ul("t",e),s=Ul("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ul(Du,e);if(Tg in e){const s=e[Tg];if(n===n6){const d=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(d.h=this.repoInfo_.host),this.onHandshake_(d)}else if(n===Og){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let d=0;d<this.pendingDataMessages.length;++d)this.onDataMessage_(this.pendingDataMessages[d]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===e6?this.onConnectionShutdown_(s):n===Rg?this.onReset_(s):n===t6?V1("Server Error: "+s):n===Ng?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,d=e.h;this.sessionId=e.s,this.repoInfo_.host=d,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),nf!==s&&Ni("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),la(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):la(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Mg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(es.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{put(e,n,s,d){}merge(e,n,s,d){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.allowedEvents_=e,this.listeners_={},_e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let d=0;d<s.length;d++)s[d].callback.apply(s[d].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const d=this.getInitialEvent(e);d&&n.apply(s,d)}off(e,n,s){this.validateEventType_(e);const d=this.listeners_[e]||[];for(let g=0;g<d.length;g++)if(d[g].callback===n&&(!s||s===d[g].context)){d.splice(g,1);return}}validateEventType_(e){_e(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends l_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Im()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fc}getInitialEvent(e){return _e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=32,Fg=768;class Ht{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let d=0;d<this.pieces_.length;d++)this.pieces_[d].length>0&&(this.pieces_[s]=this.pieces_[d],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Nt(){return new Ht("")}function mt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Tr(t){return t.pieces_.length-t.pieceNum_}function Zt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ht(t.pieces_,e)}function a_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function o6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function d_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function c_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ht(e,0)}function bn(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ht)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let d=0;d<s.length;d++)s[d].length>0&&n.push(s[d])}return new Ht(n,0)}function _t(t){return t.pieceNum_>=t.pieces_.length}function pi(t,e){const n=mt(t),s=mt(e);if(n===null)return e;if(n===s)return pi(Zt(t),Zt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function sf(t,e){if(Tr(t)!==Tr(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function lo(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Tr(t)>Tr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class r6{constructor(e,n){this.errorPrefix_=n,this.parts_=d_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Uc(this.parts_[s]);u_(this)}}function s6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Uc(e),u_(t)}function l6(t){const e=t.parts_.pop();t.byteLength_-=Uc(e),t.parts_.length>0&&(t.byteLength_-=1)}function u_(t){if(t.byteLength_>Fg)throw new Error(t.errorPrefix_+"has a key path longer than "+Fg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Pg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pg+") or object contains a cycle "+qr(t))}function qr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends l_{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new lf}getInitialEvent(e){return _e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=1e3,a6=60*5*1e3,Dg=30*1e3,d6=1.3,c6=3e4,u6="server_kill",kg=3;class Vo extends s_{constructor(e,n,s,d,g,_,w,v){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=_,this.appCheckTokenProvider_=w,this.authOverride_=v,this.id=Vo.nextPersistentConnectionId_++,this.log_=Za("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wl,this.maxReconnectDelay_=a6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!Tm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const d=++this.requestNumber_,g={r:d,a:e,b:n};this.log_(Fn(g)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),s&&(this.requestCBHash_[d]=s)}get(e){this.initConnection_();const n=new Jh,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:_=>{const w=_.d;_.s==="ok"?n.resolve(w):n.reject(w)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(g),n.promise}listen(e,n,s,d){this.initConnection_();const g=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+g),this.listens.has(_)||this.listens.set(_,new Map),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(_).has(g),"listen() called twice for same path/queryId.");const w={onComplete:d,hashFn:n,query:e,tag:s};this.listens.get(_).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),d=n._queryIdentifier;this.log_("Listen on "+s+" for "+d);const g={p:s},_="q";e.tag&&(g.q=n._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest(_,g,w=>{const v=w.d,b=w.s;Vo.warnOnListenWarnings_(v,n),(this.listens.get(s)&&this.listens.get(s).get(d))===e&&(this.log_("listen response",w),b!=="ok"&&this.removeListen_(s,d),e.onComplete&&e.onComplete(b,v))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&qo(e,"w")){const s=ll(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const d='".indexOn": "'+n._queryParams.getIndex().toString()+'"',g=n._path.toString();Ni(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||n8(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=t8(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,d=>{const g=d.s,_=d.d||"error";this.authToken_===e&&(g==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+d),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,d)&&this.connected_&&this.sendUnlisten_(s,d,e._queryObject,n)}sendUnlisten_(e,n,s,d){this.log_("Unlisten on "+e+" for "+n);const g={p:e},_="n";d&&(g.q=s,g.t=d),this.sendRequest(_,g)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,d){const g={p:n,d:s};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,_=>{d&&setTimeout(()=>{d(_.s,_.d)},Math.floor(0))})}put(e,n,s,d){this.putInternal("p",e,n,s,d)}merge(e,n,s,d){this.putInternal("m",e,n,s,d)}putInternal(e,n,s,d,g){this.initConnection_();const _={p:n,d:s};g!==void 0&&(_.h=g),this.outstandingPuts_.push({action:e,request:_,onComplete:d}),this.outstandingPutCount_++;const w=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(w):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,g=>{this.log_(n+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const g=s.d;this.log_("reportStats","Error sending stats: "+g)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fn(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):V1("Unrecognized action received from server: "+Fn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>c6&&(this.reconnectDelay_=Wl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*d6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),d=this.id+":"+Vo.nextConnectionId_++,g=this.lastSessionId;let _=!1,w=null;const v=function(){w?w.close():(_=!0,s())},b=function(N){_e(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(N)};this.realtime_={close:v,sendRequest:b};const M=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[N,F]=await Promise.all([this.authTokenProvider_.getToken(M),this.appCheckTokenProvider_.getToken(M)]);_?qn("getToken() completed but was canceled"):(qn("getToken() completed. Creating connection."),this.authToken_=N&&N.accessToken,this.appCheckToken_=F&&F.token,w=new i6(d,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,V=>{Ni(V+" ("+this.repoInfo_.toString()+")"),this.interrupt(u6)},g))}catch(N){this.log_("Failed to get token: "+N),_||(this.repoInfo_.nodeAdmin&&Ni(N),v())}}}interrupt(e){qn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hg(this.interruptReasons_)&&(this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(g=>tf(g)).join("$"):s="default";const d=this.removeListen_(e,s);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,n){const s=new Ht(e).toString();let d;if(this.listens.has(s)){const g=this.listens.get(s);d=g.get(n),g.delete(n),g.size===0&&this.listens.delete(s)}else d=void 0;return d}onAuthRevoked_(e,n){qn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kg&&(this.reconnectDelay_=Dg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Bm.replace(/\./g,"-")]=1,Im()?e["framework.cordova"]=1:K5()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fc.getInstance().currentlyOnline();return hg(this.interruptReasons_)&&e}}Vo.nextPersistentConnectionId_=0;Vo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ct(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ct(al,e),d=new ct(al,n);return this.compare(s,d)!==0}minPost(){return ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;class h_ extends Vc{static get __EMPTY_NODE(){return Cd}static set __EMPTY_NODE(e){Cd=e}compare(e,n){return pl(e.name,n.name)}isDefinedOn(e){throw gl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ct.MIN}maxPost(){return new ct(cs,Cd)}makePost(e,n){return _e(typeof e=="string","KeyIndex indexValue must always be a string."),new ct(e,Cd)}toString(){return".key"}}const $s=new h_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,s,d,g=null){this.isReverse_=d,this.resultGenerator_=g,this.nodeStack_=[];let _=1;for(;!e.isEmpty();)if(e=e,_=n?s(e.key,n):1,d&&(_*=-1),_<0)this.isReverse_?e=e.left:e=e.right;else if(_===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pn{constructor(e,n,s,d,g){this.key=e,this.value=n,this.color=s??Pn.RED,this.left=d??mi.EMPTY_NODE,this.right=g??mi.EMPTY_NODE}copy(e,n,s,d,g){return new Pn(e??this.key,n??this.value,s??this.color,d??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let d=this;const g=s(e,d.key);return g<0?d=d.copy(null,null,null,d.left.insert(e,n,s),null):g===0?d=d.copy(null,n,null,null,null):d=d.copy(null,null,null,null,d.right.insert(e,n,s)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return mi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,d;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return mi.EMPTY_NODE;d=s.right.min_(),s=s.copy(d.key,d.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pn.RED=!0;Pn.BLACK=!1;class h6{copy(e,n,s,d,g){return this}insert(e,n,s){return new Pn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class mi{constructor(e,n=mi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new mi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pn.BLACK,null,null))}remove(e){return new mi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pn.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,d=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return d?d.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(d=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Sd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Sd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Sd(this.root_,null,this.comparator_,!0,e)}}mi.EMPTY_NODE=new h6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e){return pl(t.name,e.name)}function af(t,e){return pl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z1;function g6(t){Z1=t}const f_=function(t){return typeof t=="number"?"number:"+Vm(t):"string:"+t},g_=function(t){if(t.isLeafNode()){const e=t.val();_e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qo(e,".sv"),"Priority must be a string or number.")}else _e(t===Z1||t.isEmpty(),"priority of unexpected type.");_e(t===Z1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg;class On{constructor(e,n=On.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),g_(this.priorityNode_)}static set __childrenNodeConstructor(e){Bg=e}static get __childrenNodeConstructor(){return Bg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new On(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:On.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _t(e)?this:mt(e)===".priority"?this.priorityNode_:On.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:On.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=mt(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(_e(s!==".priority"||Tr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,On.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+f_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Vm(this.value_):e+=this.value_,this.lazyHash_=Hm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===On.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof On.__childrenNodeConstructor?-1:(_e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,d=On.VALUE_TYPE_ORDER.indexOf(n),g=On.VALUE_TYPE_ORDER.indexOf(s);return _e(d>=0,"Unknown leaf type: "+n),_e(g>=0,"Unknown leaf type: "+s),d===g?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}On.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_,m_;function p6(t){p_=t}function m6(t){m_=t}class _6 extends Vc{compare(e,n){const s=e.node.getPriority(),d=n.node.getPriority(),g=s.compareTo(d);return g===0?pl(e.name,n.name):g}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(cs,new On("[PRIORITY-POST]",m_))}makePost(e,n){const s=p_(e);return new ct(n,new On("[PRIORITY-POST]",s))}toString(){return".priority"}}const cn=new _6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=Math.log(2);class x6{constructor(e){const n=g=>parseInt(Math.log(g)/E6,10),s=g=>parseInt(Array(g+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const d=s(this.count);this.bits_=e+1&d}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gc=function(t,e,n,s){t.sort(e);const d=function(v,b){const M=b-v;let N,F;if(M===0)return null;if(M===1)return N=t[v],F=n?n(N):N,new Pn(F,N.node,Pn.BLACK,null,null);{const V=parseInt(M/2,10)+v,$=d(v,V),X=d(V+1,b);return N=t[V],F=n?n(N):N,new Pn(F,N.node,Pn.BLACK,$,X)}},g=function(v){let b=null,M=null,N=t.length;const F=function($,X){const Ne=N-$,W=N;N-=$;const D=d(Ne+1,W),B=t[Ne],J=n?n(B):B;V(new Pn(J,B.node,X,null,D))},V=function($){b?(b.left=$,b=$):(M=$,b=$)};for(let $=0;$<v.count;++$){const X=v.nextBitIsOne(),Ne=Math.pow(2,v.count-($+1));X?F(Ne,Pn.BLACK):(F(Ne,Pn.BLACK),F(Ne,Pn.RED))}return M},_=new x6(t.length),w=g(_);return new mi(s||e,w)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;const Is={};class Uo{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return _e(Is&&cn,"ChildrenNode.ts has not been loaded"),ku=ku||new Uo({".priority":Is},{".priority":cn}),ku}get(e){const n=ll(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof mi?n:null}hasIndex(e){return qo(this.indexSet_,e.toString())}addIndex(e,n){_e(e!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let d=!1;const g=n.getIterator(ct.Wrap);let _=g.getNext();for(;_;)d=d||e.isDefinedOn(_.node),s.push(_),_=g.getNext();let w;d?w=gc(s,e.getCompare()):w=Is;const v=e.toString(),b=Object.assign({},this.indexSet_);b[v]=e;const M=Object.assign({},this.indexes_);return M[v]=w,new Uo(M,b)}addToIndexes(e,n){const s=dc(this.indexes_,(d,g)=>{const _=ll(this.indexSet_,g);if(_e(_,"Missing index implementation for "+g),d===Is)if(_.isDefinedOn(e.node)){const w=[],v=n.getIterator(ct.Wrap);let b=v.getNext();for(;b;)b.name!==e.name&&w.push(b),b=v.getNext();return w.push(e),gc(w,_.getCompare())}else return Is;else{const w=n.get(e.name);let v=d;return w&&(v=v.remove(new ct(e.name,w))),v.insert(e,e.node)}});return new Uo(s,this.indexSet_)}removeFromIndexes(e,n){const s=dc(this.indexes_,d=>{if(d===Is)return d;{const g=n.get(e.name);return g?d.remove(new ct(e.name,g)):d}});return new Uo(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;class Ze{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&g_(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vl||(Vl=new Ze(new mi(af),null,Uo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vl}updatePriority(e){return this.children_.isEmpty()?this:new Ze(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vl:n}}getChild(e){const n=mt(e);return n===null?this:this.getImmediateChild(n).getChild(Zt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(_e(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ct(e,n);let d,g;n.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(s,this.children_)):(d=this.children_.insert(e,n),g=this.indexMap_.addToIndexes(s,this.children_));const _=d.isEmpty()?Vl:this.priorityNode_;return new Ze(d,_,g)}}updateChild(e,n){const s=mt(e);if(s===null)return n;{_e(mt(e)!==".priority"||Tr(e)===1,".priority must be the last token in a path");const d=this.getImmediateChild(s).updateChild(Zt(e),n);return this.updateImmediateChild(s,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,d=0,g=!0;if(this.forEachChild(cn,(_,w)=>{n[_]=w.val(e),s++,g&&Ze.INTEGER_REGEXP_.test(_)?d=Math.max(d,Number(_)):g=!1}),!e&&g&&d<2*s){const _=[];for(const w in n)_[w]=n[w];return _}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+f_(this.getPriority().val())+":"),this.forEachChild(cn,(n,s)=>{const d=s.hash();d!==""&&(e+=":"+n+":"+d)}),this.lazyHash_=e===""?"":Hm(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const d=this.resolveIndex_(s);if(d){const g=d.getPredecessorKey(new ct(e,n));return g?g.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ct(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ct(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(d=>n(d.name,d.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,ct.Wrap);let g=d.peek();for(;g!=null&&n.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,ct.Wrap);let g=d.peek();for(;g!=null&&n.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xa?-1:0}withIndex(e){if(e===$s||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ze(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(cn),d=n.getIterator(cn);let g=s.getNext(),_=d.getNext();for(;g&&_;){if(g.name!==_.name||!g.node.equals(_.node))return!1;g=s.getNext(),_=d.getNext()}return g===null&&_===null}else return!1;else return!1}}resolveIndex_(e){return e===$s?null:this.indexMap_.get(e.toString())}}Ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class y6 extends Ze{constructor(){super(new mi(af),Ze.EMPTY_NODE,Uo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ze.EMPTY_NODE}isEmpty(){return!1}}const Xa=new y6;Object.defineProperties(ct,{MIN:{value:new ct(al,Ze.EMPTY_NODE)},MAX:{value:new ct(cs,Xa)}});h_.__EMPTY_NODE=Ze.EMPTY_NODE;On.__childrenNodeConstructor=Ze;g6(Xa);m6(Xa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=!0;function Qn(t,e=null){if(t===null)return Ze.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new On(n,Qn(e))}if(!(t instanceof Array)&&w6){const n=[];let s=!1;if(yi(t,(_,w)=>{if(_.substring(0,1)!=="."){const v=Qn(w);v.isEmpty()||(s=s||!v.getPriority().isEmpty(),n.push(new ct(_,v)))}}),n.length===0)return Ze.EMPTY_NODE;const g=gc(n,f6,_=>_.name,af);if(s){const _=gc(n,cn.getCompare());return new Ze(g,Qn(e),new Uo({".priority":_},{".priority":cn}))}else return new Ze(g,Qn(e),Uo.Default)}else{let n=Ze.EMPTY_NODE;return yi(t,(s,d)=>{if(qo(t,s)&&s.substring(0,1)!=="."){const g=Qn(d);(g.isLeafNode()||!g.isEmpty())&&(n=n.updateImmediateChild(s,g))}}),n.updatePriority(Qn(e))}}p6(Qn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6 extends Vc{constructor(e){super(),this.indexPath_=e,_e(!_t(e)&&mt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),d=this.extractChild(n.node),g=s.compareTo(d);return g===0?pl(e.name,n.name):g}makePost(e,n){const s=Qn(e),d=Ze.EMPTY_NODE.updateChild(this.indexPath_,s);return new ct(n,d)}maxPost(){const e=Ze.EMPTY_NODE.updateChild(this.indexPath_,Xa);return new ct(cs,e)}toString(){return d_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6 extends Vc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?pl(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(e,n){const s=Qn(e);return new ct(n,s)}toString(){return".value"}}const S6=new C6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){return{type:"value",snapshotNode:t}}function dl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ma(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function b6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.index_=e}updateChild(e,n,s,d,g,_){_e(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const w=e.getImmediateChild(n);return w.getChild(d).equals(s.getChild(d))&&w.isEmpty()===s.isEmpty()||(_!=null&&(s.isEmpty()?e.hasChild(n)?_.trackChildChange(Oa(n,w)):_e(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):w.isEmpty()?_.trackChildChange(dl(n,s)):_.trackChildChange(Ma(n,s,w))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(cn,(d,g)=>{n.hasChild(d)||s.trackChildChange(Oa(d,g))}),n.isLeafNode()||n.forEachChild(cn,(d,g)=>{if(e.hasChild(d)){const _=e.getImmediateChild(d);_.equals(g)||s.trackChildChange(Ma(d,g,_))}else s.trackChildChange(dl(d,g))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ze.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.indexedFilter_=new df(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pa.getStartPost_(e),this.endPost_=Pa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,d,g,_){return this.matches(new ct(n,s))||(s=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,d,g,_)}updateFullNode(e,n,s){n.isLeafNode()&&(n=Ze.EMPTY_NODE);let d=n.withIndex(this.index_);d=d.updatePriority(Ze.EMPTY_NODE);const g=this;return n.forEachChild(cn,(_,w)=>{g.matches(new ct(_,w))||(d=d.updateImmediateChild(_,Ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,d,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Pa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,d,g,_){return this.rangedFilter_.matches(new ct(n,s))||(s=Ze.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,d,g,_):this.fullLimitUpdateChild_(e,n,s,g,_)}updateFullNode(e,n,s){let d;if(n.isLeafNode()||n.isEmpty())d=Ze.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){d=Ze.EMPTY_NODE.withIndex(this.index_);let g;this.reverse_?g=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;g.hasNext()&&_<this.limit_;){const w=g.getNext();if(this.withinDirectionalStart(w))if(this.withinDirectionalEnd(w))d=d.updateImmediateChild(w.name,w.node),_++;else break;else continue}}else{d=n.withIndex(this.index_),d=d.updatePriority(Ze.EMPTY_NODE);let g;this.reverse_?g=d.getReverseIterator(this.index_):g=d.getIterator(this.index_);let _=0;for(;g.hasNext();){const w=g.getNext();_<this.limit_&&this.withinDirectionalStart(w)&&this.withinDirectionalEnd(w)?_++:d=d.updateImmediateChild(w.name,Ze.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,d,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,d,g){let _;if(this.reverse_){const N=this.index_.getCompare();_=(F,V)=>N(V,F)}else _=this.index_.getCompare();const w=e;_e(w.numChildren()===this.limit_,"");const v=new ct(n,s),b=this.reverse_?w.getFirstChild(this.index_):w.getLastChild(this.index_),M=this.rangedFilter_.matches(v);if(w.hasChild(n)){const N=w.getImmediateChild(n);let F=d.getChildAfterChild(this.index_,b,this.reverse_);for(;F!=null&&(F.name===n||w.hasChild(F.name));)F=d.getChildAfterChild(this.index_,F,this.reverse_);const V=F==null?1:_(F,v);if(M&&!s.isEmpty()&&V>=0)return g!=null&&g.trackChildChange(Ma(n,s,N)),w.updateImmediateChild(n,s);{g!=null&&g.trackChildChange(Oa(n,N));const X=w.updateImmediateChild(n,Ze.EMPTY_NODE);return F!=null&&this.rangedFilter_.matches(F)?(g!=null&&g.trackChildChange(dl(F.name,F.node)),X.updateImmediateChild(F.name,F.node)):X}}else return s.isEmpty()?e:M&&_(b,v)>=0?(g!=null&&(g.trackChildChange(Oa(b.name,b.node)),g.trackChildChange(dl(n,s))),w.updateImmediateChild(n,s).updateImmediateChild(b.name,Ze.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:al}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new cf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function I6(t){return t.loadsAllData()?new df(t.getIndex()):t.hasLimit()?new A6(t):new Pa(t)}function zg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===cn?n="$priority":t.index_===S6?n="$value":t.index_===$s?n="$key":(_e(t.index_ instanceof v6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Fn(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Fn(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Fn(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Fn(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Fn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Hg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==cn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends s_{constructor(e,n,s,d){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=d,this.log_=Za("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,d){const g=e._path.toString();this.log_("Listen called for "+g+" "+e._queryIdentifier);const _=pc.getListenId_(e,s),w={};this.listens_[_]=w;const v=zg(e._queryParams);this.restRequest_(g+".json",v,(b,M)=>{let N=M;if(b===404&&(N=null,b=null),b===null&&this.onDataUpdate_(g,N,!1,s),ll(this.listens_,_)===w){let F;b?b===401?F="permission_denied":F="rest_error:"+b:F="ok",d(F,null)}})}unlisten(e,n){const s=pc.getListenId_(e,n);delete this.listens_[s]}get(e){const n=zg(e._queryParams),s=e._path.toString(),d=new Jh;return this.restRequest_(s+".json",n,(g,_)=>{let w=_;g===404&&(w=null,g=null),g===null?(this.onDataUpdate_(s,w,!1,null),d.resolve(w)):d.reject(new Error(w))}),d.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([d,g])=>{d&&d.accessToken&&(n.auth=d.accessToken),g&&g.token&&(n.ac=g.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+i8(n);this.log_("Sending REST request for "+_);const w=new XMLHttpRequest;w.onreadystatechange=()=>{if(s&&w.readyState===4){this.log_("REST Response for "+_+" received. status:",w.status,"response:",w.responseText);let v=null;if(w.status>=200&&w.status<300){try{v=Ta(w.responseText)}catch{Ni("Failed to parse JSON response for "+_+": "+w.responseText)}s(null,v)}else w.status!==401&&w.status!==404&&Ni("Got unsuccessful REST response for "+_+" Status: "+w.status),s(w.status);s=null}},w.open("GET",_,!0),w.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.rootNode_=Ze.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){return{value:null,children:new Map}}function E_(t,e,n){if(_t(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=mt(e);t.children.has(s)||t.children.set(s,mc());const d=t.children.get(s);e=Zt(e),E_(d,e,n)}}function j1(t,e,n){t.value!==null?n(e,t.value):R6(t,(s,d)=>{const g=new Ht(e.toString()+"/"+s);j1(d,g,n)})}function R6(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&yi(this.last_,(s,d)=>{n[s]=n[s]-d}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=10*1e3,L6=30*1e3,O6=5*60*1e3;class M6{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new N6(e);const s=Ug+(L6-Ug)*Math.random();la(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;yi(e,(d,g)=>{g>0&&qo(this.statsToReport_,d)&&(n[d]=g,s=!0)}),s&&this.server_.reportStats(n),la(this.reportStats_.bind(this),Math.floor(Math.random()*2*O6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ao||(ao={}));function x_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=ao.ACK_USER_WRITE,this.source=x_()}operationForChild(e){if(_t(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ht(e));return new _c(Nt(),n,this.revert)}}else return _e(mt(this.path)===e,"operationForChild called for unrelated child."),new _c(Zt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.source=e,this.path=n,this.type=ao.LISTEN_COMPLETE}operationForChild(e){return _t(this.path)?new Fa(this.source,Nt()):new Fa(this.source,Zt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=ao.OVERWRITE}operationForChild(e){return _t(this.path)?new us(this.source,Nt(),this.snap.getImmediateChild(e)):new us(this.source,Zt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=ao.MERGE}operationForChild(e){if(_t(this.path)){const n=this.children.subtree(new Ht(e));return n.isEmpty()?null:n.value?new us(this.source,Nt(),n.value):new Da(this.source,Nt(),n)}else return _e(mt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Da(this.source,Zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_t(e))return this.isFullyInitialized()&&!this.filtered_;const n=mt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function F6(t,e,n,s){const d=[],g=[];return e.forEach(_=>{_.type==="child_changed"&&t.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&g.push(b6(_.childName,_.snapshotNode))}),Gl(t,d,"child_removed",e,s,n),Gl(t,d,"child_added",e,s,n),Gl(t,d,"child_moved",g,s,n),Gl(t,d,"child_changed",e,s,n),Gl(t,d,"value",e,s,n),d}function Gl(t,e,n,s,d,g){const _=s.filter(w=>w.type===n);_.sort((w,v)=>k6(t,w,v)),_.forEach(w=>{const v=D6(t,w,g);d.forEach(b=>{b.respondsTo(w.type)&&e.push(b.createEvent(v,t.query_))})})}function D6(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function k6(t,e,n){if(e.childName==null||n.childName==null)throw gl("Should only compare child_ events.");const s=new ct(e.childName,e.snapshotNode),d=new ct(n.childName,n.snapshotNode);return t.index_.compare(s,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e){return{eventCache:t,serverCache:e}}function aa(t,e,n,s){return Gc(new hs(e,n,s),t.serverCache)}function y_(t,e,n,s){return Gc(t.eventCache,new hs(e,n,s))}function X1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;const B6=()=>(Bu||(Bu=new mi(Cx)),Bu);class Qt{constructor(e,n=B6()){this.value=e,this.children=n}static fromObject(e){let n=new Qt(null);return yi(e,(s,d)=>{n=n.set(new Ht(s),d)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Nt(),value:this.value};if(_t(e))return null;{const s=mt(e),d=this.children.get(s);if(d!==null){const g=d.findRootMostMatchingPathAndValue(Zt(e),n);return g!=null?{path:bn(new Ht(s),g.path),value:g.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_t(e))return this;{const n=mt(e),s=this.children.get(n);return s!==null?s.subtree(Zt(e)):new Qt(null)}}set(e,n){if(_t(e))return new Qt(n,this.children);{const s=mt(e),g=(this.children.get(s)||new Qt(null)).set(Zt(e),n),_=this.children.insert(s,g);return new Qt(this.value,_)}}remove(e){if(_t(e))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const n=mt(e),s=this.children.get(n);if(s){const d=s.remove(Zt(e));let g;return d.isEmpty()?g=this.children.remove(n):g=this.children.insert(n,d),this.value===null&&g.isEmpty()?new Qt(null):new Qt(this.value,g)}else return this}}get(e){if(_t(e))return this.value;{const n=mt(e),s=this.children.get(n);return s?s.get(Zt(e)):null}}setTree(e,n){if(_t(e))return n;{const s=mt(e),g=(this.children.get(s)||new Qt(null)).setTree(Zt(e),n);let _;return g.isEmpty()?_=this.children.remove(s):_=this.children.insert(s,g),new Qt(this.value,_)}}fold(e){return this.fold_(Nt(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((d,g)=>{s[d]=g.fold_(bn(e,d),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Nt(),n)}findOnPath_(e,n,s){const d=this.value?s(n,this.value):!1;if(d)return d;if(_t(e))return null;{const g=mt(e),_=this.children.get(g);return _?_.findOnPath_(Zt(e),bn(n,g),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nt(),n)}foreachOnPath_(e,n,s){if(_t(e))return this;{this.value&&s(n,this.value);const d=mt(e),g=this.children.get(d);return g?g.foreachOnPath_(Zt(e),bn(n,d),s):new Qt(null)}}foreach(e){this.foreach_(Nt(),e)}foreach_(e,n){this.children.inorderTraversal((s,d)=>{d.foreach_(bn(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.writeTree_=e}static empty(){return new ho(new Qt(null))}}function da(t,e,n){if(_t(e))return new ho(new Qt(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const d=s.path;let g=s.value;const _=pi(d,e);return g=g.updateChild(_,n),new ho(t.writeTree_.set(d,g))}else{const d=new Qt(n),g=t.writeTree_.setTree(e,d);return new ho(g)}}}function Wg(t,e,n){let s=t;return yi(n,(d,g)=>{s=da(s,bn(e,d),g)}),s}function Vg(t,e){if(_t(e))return ho.empty();{const n=t.writeTree_.setTree(e,new Qt(null));return new ho(n)}}function Y1(t,e){return ms(t,e)!=null}function ms(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(pi(n.path,e)):null}function Gg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(cn,(s,d)=>{e.push(new ct(s,d))}):t.writeTree_.children.inorderTraversal((s,d)=>{d.value!=null&&e.push(new ct(s,d.value))}),e}function br(t,e){if(_t(e))return t;{const n=ms(t,e);return n!=null?new ho(new Qt(n)):new ho(t.writeTree_.subtree(e))}}function K1(t){return t.writeTree_.isEmpty()}function cl(t,e){return w_(Nt(),t.writeTree_,e)}function w_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((d,g)=>{d===".priority"?(_e(g.value!==null,"Priority writes must always be leaf nodes"),s=g.value):n=w_(bn(t,d),g,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(bn(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e){return b_(e,t)}function z6(t,e,n,s,d){_e(s>t.lastWriteId,"Stacking an older write on top of newer ones"),d===void 0&&(d=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:d}),d&&(t.visibleWrites=da(t.visibleWrites,e,n)),t.lastWriteId=s}function H6(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function U6(t,e){const n=t.allWrites.findIndex(w=>w.writeId===e);_e(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let d=s.visible,g=!1,_=t.allWrites.length-1;for(;d&&_>=0;){const w=t.allWrites[_];w.visible&&(_>=n&&W6(w,s.path)?d=!1:lo(s.path,w.path)&&(g=!0)),_--}if(d){if(g)return V6(t),!0;if(s.snap)t.visibleWrites=Vg(t.visibleWrites,s.path);else{const w=s.children;yi(w,v=>{t.visibleWrites=Vg(t.visibleWrites,bn(s.path,v))})}return!0}else return!1}function W6(t,e){if(t.snap)return lo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&lo(bn(t.path,n),e))return!0;return!1}function V6(t){t.visibleWrites=v_(t.allWrites,G6,Nt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function G6(t){return t.visible}function v_(t,e,n){let s=ho.empty();for(let d=0;d<t.length;++d){const g=t[d];if(e(g)){const _=g.path;let w;if(g.snap)lo(n,_)?(w=pi(n,_),s=da(s,w,g.snap)):lo(_,n)&&(w=pi(_,n),s=da(s,Nt(),g.snap.getChild(w)));else if(g.children){if(lo(n,_))w=pi(n,_),s=Wg(s,w,g.children);else if(lo(_,n))if(w=pi(_,n),_t(w))s=Wg(s,Nt(),g.children);else{const v=ll(g.children,mt(w));if(v){const b=v.getChild(Zt(w));s=da(s,Nt(),b)}}}else throw gl("WriteRecord should have .snap or .children")}}return s}function C_(t,e,n,s,d){if(!s&&!d){const g=ms(t.visibleWrites,e);if(g!=null)return g;{const _=br(t.visibleWrites,e);if(K1(_))return n;if(n==null&&!Y1(_,Nt()))return null;{const w=n||Ze.EMPTY_NODE;return cl(_,w)}}}else{const g=br(t.visibleWrites,e);if(!d&&K1(g))return n;if(!d&&n==null&&!Y1(g,Nt()))return null;{const _=function(b){return(b.visible||d)&&(!s||!~s.indexOf(b.writeId))&&(lo(b.path,e)||lo(e,b.path))},w=v_(t.allWrites,_,e),v=n||Ze.EMPTY_NODE;return cl(w,v)}}}function Z6(t,e,n){let s=Ze.EMPTY_NODE;const d=ms(t.visibleWrites,e);if(d)return d.isLeafNode()||d.forEachChild(cn,(g,_)=>{s=s.updateImmediateChild(g,_)}),s;if(n){const g=br(t.visibleWrites,e);return n.forEachChild(cn,(_,w)=>{const v=cl(br(g,new Ht(_)),w);s=s.updateImmediateChild(_,v)}),Gg(g).forEach(_=>{s=s.updateImmediateChild(_.name,_.node)}),s}else{const g=br(t.visibleWrites,e);return Gg(g).forEach(_=>{s=s.updateImmediateChild(_.name,_.node)}),s}}function j6(t,e,n,s,d){_e(s||d,"Either existingEventSnap or existingServerSnap must exist");const g=bn(e,n);if(Y1(t.visibleWrites,g))return null;{const _=br(t.visibleWrites,g);return K1(_)?d.getChild(n):cl(_,d.getChild(n))}}function X6(t,e,n,s){const d=bn(e,n),g=ms(t.visibleWrites,d);if(g!=null)return g;if(s.isCompleteForChild(n)){const _=br(t.visibleWrites,d);return cl(_,s.getNode().getImmediateChild(n))}else return null}function Y6(t,e){return ms(t.visibleWrites,e)}function K6(t,e,n,s,d,g,_){let w;const v=br(t.visibleWrites,e),b=ms(v,Nt());if(b!=null)w=b;else if(n!=null)w=cl(v,n);else return[];if(w=w.withIndex(_),!w.isEmpty()&&!w.isLeafNode()){const M=[],N=_.getCompare(),F=g?w.getReverseIteratorFrom(s,_):w.getIteratorFrom(s,_);let V=F.getNext();for(;V&&M.length<d;)N(V,s)!==0&&M.push(V),V=F.getNext();return M}else return[]}function q6(){return{visibleWrites:ho.empty(),allWrites:[],lastWriteId:-1}}function Ec(t,e,n,s){return C_(t.writeTree,t.treePath,e,n,s)}function gf(t,e){return Z6(t.writeTree,t.treePath,e)}function Zg(t,e,n,s){return j6(t.writeTree,t.treePath,e,n,s)}function xc(t,e){return Y6(t.writeTree,bn(t.treePath,e))}function Q6(t,e,n,s,d,g){return K6(t.writeTree,t.treePath,e,n,s,d,g)}function pf(t,e,n){return X6(t.writeTree,t.treePath,e,n)}function S_(t,e){return b_(bn(t.treePath,e),t.writeTree)}function b_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;_e(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_e(s!==".priority","Only non-priority child changes can be tracked.");const d=this.changeMap.get(s);if(d){const g=d.type;if(n==="child_added"&&g==="child_removed")this.changeMap.set(s,Ma(s,e.snapshotNode,d.snapshotNode));else if(n==="child_removed"&&g==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&g==="child_changed")this.changeMap.set(s,Oa(s,d.oldSnap));else if(n==="child_changed"&&g==="child_added")this.changeMap.set(s,dl(s,e.snapshotNode));else if(n==="child_changed"&&g==="child_changed")this.changeMap.set(s,Ma(s,e.snapshotNode,d.oldSnap));else throw gl("Illegal combination of changes: "+e+" occurred after "+d)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const A_=new J6;class mf{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pf(this.writes_,e,s)}}getChildAfterChild(e,n,s){const d=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),g=Q6(this.writes_,d,n,1,s,e);return g.length===0?null:g[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t){return{filter:t}}function ty(t,e){_e(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_e(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ny(t,e,n,s,d){const g=new $6;let _,w;if(n.type===ao.OVERWRITE){const b=n;b.source.fromUser?_=q1(t,e,b.path,b.snap,s,d,g):(_e(b.source.fromServer,"Unknown source."),w=b.source.tagged||e.serverCache.isFiltered()&&!_t(b.path),_=yc(t,e,b.path,b.snap,s,d,w,g))}else if(n.type===ao.MERGE){const b=n;b.source.fromUser?_=oy(t,e,b.path,b.children,s,d,g):(_e(b.source.fromServer,"Unknown source."),w=b.source.tagged||e.serverCache.isFiltered(),_=Q1(t,e,b.path,b.children,s,d,w,g))}else if(n.type===ao.ACK_USER_WRITE){const b=n;b.revert?_=ly(t,e,b.path,s,d,g):_=ry(t,e,b.path,b.affectedTree,s,d,g)}else if(n.type===ao.LISTEN_COMPLETE)_=sy(t,e,n.path,s,g);else throw gl("Unknown operation type: "+n.type);const v=g.getChanges();return iy(e,_,v),{viewCache:_,changes:v}}function iy(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const d=s.getNode().isLeafNode()||s.getNode().isEmpty(),g=X1(t);(n.length>0||!t.eventCache.isFullyInitialized()||d&&!s.getNode().equals(g)||!s.getNode().getPriority().equals(g.getPriority()))&&n.push(__(X1(e)))}}function I_(t,e,n,s,d,g){const _=e.eventCache;if(xc(s,n)!=null)return e;{let w,v;if(_t(n))if(_e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const b=fs(e),M=b instanceof Ze?b:Ze.EMPTY_NODE,N=gf(s,M);w=t.filter.updateFullNode(e.eventCache.getNode(),N,g)}else{const b=Ec(s,fs(e));w=t.filter.updateFullNode(e.eventCache.getNode(),b,g)}else{const b=mt(n);if(b===".priority"){_e(Tr(n)===1,"Can't have a priority with additional path components");const M=_.getNode();v=e.serverCache.getNode();const N=Zg(s,n,M,v);N!=null?w=t.filter.updatePriority(M,N):w=_.getNode()}else{const M=Zt(n);let N;if(_.isCompleteForChild(b)){v=e.serverCache.getNode();const F=Zg(s,n,_.getNode(),v);F!=null?N=_.getNode().getImmediateChild(b).updateChild(M,F):N=_.getNode().getImmediateChild(b)}else N=pf(s,b,e.serverCache);N!=null?w=t.filter.updateChild(_.getNode(),b,N,M,d,g):w=_.getNode()}}return aa(e,w,_.isFullyInitialized()||_t(n),t.filter.filtersNodes())}}function yc(t,e,n,s,d,g,_,w){const v=e.serverCache;let b;const M=_?t.filter:t.filter.getIndexedFilter();if(_t(n))b=M.updateFullNode(v.getNode(),s,null);else if(M.filtersNodes()&&!v.isFiltered()){const V=v.getNode().updateChild(n,s);b=M.updateFullNode(v.getNode(),V,null)}else{const V=mt(n);if(!v.isCompleteForPath(n)&&Tr(n)>1)return e;const $=Zt(n),Ne=v.getNode().getImmediateChild(V).updateChild($,s);V===".priority"?b=M.updatePriority(v.getNode(),Ne):b=M.updateChild(v.getNode(),V,Ne,$,A_,null)}const N=y_(e,b,v.isFullyInitialized()||_t(n),M.filtersNodes()),F=new mf(d,N,g);return I_(t,N,n,d,F,w)}function q1(t,e,n,s,d,g,_){const w=e.eventCache;let v,b;const M=new mf(d,e,g);if(_t(n))b=t.filter.updateFullNode(e.eventCache.getNode(),s,_),v=aa(e,b,!0,t.filter.filtersNodes());else{const N=mt(n);if(N===".priority")b=t.filter.updatePriority(e.eventCache.getNode(),s),v=aa(e,b,w.isFullyInitialized(),w.isFiltered());else{const F=Zt(n),V=w.getNode().getImmediateChild(N);let $;if(_t(F))$=s;else{const X=M.getCompleteChild(N);X!=null?a_(F)===".priority"&&X.getChild(c_(F)).isEmpty()?$=X:$=X.updateChild(F,s):$=Ze.EMPTY_NODE}if(V.equals($))v=e;else{const X=t.filter.updateChild(w.getNode(),N,$,F,M,_);v=aa(e,X,w.isFullyInitialized(),t.filter.filtersNodes())}}}return v}function jg(t,e){return t.eventCache.isCompleteForChild(e)}function oy(t,e,n,s,d,g,_){let w=e;return s.foreach((v,b)=>{const M=bn(n,v);jg(e,mt(M))&&(w=q1(t,w,M,b,d,g,_))}),s.foreach((v,b)=>{const M=bn(n,v);jg(e,mt(M))||(w=q1(t,w,M,b,d,g,_))}),w}function Xg(t,e,n){return n.foreach((s,d)=>{e=e.updateChild(s,d)}),e}function Q1(t,e,n,s,d,g,_,w){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v=e,b;_t(n)?b=s:b=new Qt(null).setTree(n,s);const M=e.serverCache.getNode();return b.children.inorderTraversal((N,F)=>{if(M.hasChild(N)){const V=e.serverCache.getNode().getImmediateChild(N),$=Xg(t,V,F);v=yc(t,v,new Ht(N),$,d,g,_,w)}}),b.children.inorderTraversal((N,F)=>{const V=!e.serverCache.isCompleteForChild(N)&&F.value===null;if(!M.hasChild(N)&&!V){const $=e.serverCache.getNode().getImmediateChild(N),X=Xg(t,$,F);v=yc(t,v,new Ht(N),X,d,g,_,w)}}),v}function ry(t,e,n,s,d,g,_){if(xc(d,n)!=null)return e;const w=e.serverCache.isFiltered(),v=e.serverCache;if(s.value!=null){if(_t(n)&&v.isFullyInitialized()||v.isCompleteForPath(n))return yc(t,e,n,v.getNode().getChild(n),d,g,w,_);if(_t(n)){let b=new Qt(null);return v.getNode().forEachChild($s,(M,N)=>{b=b.set(new Ht(M),N)}),Q1(t,e,n,b,d,g,w,_)}else return e}else{let b=new Qt(null);return s.foreach((M,N)=>{const F=bn(n,M);v.isCompleteForPath(F)&&(b=b.set(M,v.getNode().getChild(F)))}),Q1(t,e,n,b,d,g,w,_)}}function sy(t,e,n,s,d){const g=e.serverCache,_=y_(e,g.getNode(),g.isFullyInitialized()||_t(n),g.isFiltered());return I_(t,_,n,s,A_,d)}function ly(t,e,n,s,d,g){let _;if(xc(s,n)!=null)return e;{const w=new mf(s,e,d),v=e.eventCache.getNode();let b;if(_t(n)||mt(n)===".priority"){let M;if(e.serverCache.isFullyInitialized())M=Ec(s,fs(e));else{const N=e.serverCache.getNode();_e(N instanceof Ze,"serverChildren would be complete if leaf node"),M=gf(s,N)}M=M,b=t.filter.updateFullNode(v,M,g)}else{const M=mt(n);let N=pf(s,M,e.serverCache);N==null&&e.serverCache.isCompleteForChild(M)&&(N=v.getImmediateChild(M)),N!=null?b=t.filter.updateChild(v,M,N,Zt(n),w,g):e.eventCache.getNode().hasChild(M)?b=t.filter.updateChild(v,M,Ze.EMPTY_NODE,Zt(n),w,g):b=v,b.isEmpty()&&e.serverCache.isFullyInitialized()&&(_=Ec(s,fs(e)),_.isLeafNode()&&(b=t.filter.updateFullNode(b,_,g)))}return _=e.serverCache.isFullyInitialized()||xc(s,Nt())!=null,aa(e,b,_,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,d=new df(s.getIndex()),g=I6(s);this.processor_=ey(g);const _=n.serverCache,w=n.eventCache,v=d.updateFullNode(Ze.EMPTY_NODE,_.getNode(),null),b=g.updateFullNode(Ze.EMPTY_NODE,w.getNode(),null),M=new hs(v,_.isFullyInitialized(),d.filtersNodes()),N=new hs(b,w.isFullyInitialized(),g.filtersNodes());this.viewCache_=Gc(N,M),this.eventGenerator_=new P6(this.query_)}get query(){return this.query_}}function dy(t){return t.viewCache_.serverCache.getNode()}function cy(t,e){const n=fs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_t(e)&&!n.getImmediateChild(mt(e)).isEmpty())?n.getChild(e):null}function Yg(t){return t.eventRegistrations_.length===0}function uy(t,e){t.eventRegistrations_.push(e)}function Kg(t,e,n){const s=[];if(n){_e(e==null,"A cancel should cancel all event registrations.");const d=t.query._path;t.eventRegistrations_.forEach(g=>{const _=g.createCancelEvent(n,d);_&&s.push(_)})}if(e){let d=[];for(let g=0;g<t.eventRegistrations_.length;++g){const _=t.eventRegistrations_[g];if(!_.matches(e))d.push(_);else if(e.hasAnyCallback()){d=d.concat(t.eventRegistrations_.slice(g+1));break}}t.eventRegistrations_=d}else t.eventRegistrations_=[];return s}function qg(t,e,n,s){e.type===ao.MERGE&&e.source.queryId!==null&&(_e(fs(t.viewCache_),"We should always have a full cache before handling merges"),_e(X1(t.viewCache_),"Missing event cache, even though we have a server cache"));const d=t.viewCache_,g=ny(t.processor_,d,e,n,s);return ty(t.processor_,g.viewCache),_e(g.viewCache.serverCache.isFullyInitialized()||!d.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=g.viewCache,T_(t,g.changes,g.viewCache.eventCache.getNode(),null)}function hy(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(cn,(g,_)=>{s.push(dl(g,_))}),n.isFullyInitialized()&&s.push(__(n.getNode())),T_(t,s,n.getNode(),e)}function T_(t,e,n,s){const d=s?[s]:t.eventRegistrations_;return F6(t.eventGenerator_,e,n,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;class fy{constructor(){this.views=new Map}}function gy(t){_e(!wc,"__referenceConstructor has already been defined"),wc=t}function py(){return _e(wc,"Reference.ts has not been loaded"),wc}function my(t){return t.views.size===0}function _f(t,e,n,s){const d=e.source.queryId;if(d!==null){const g=t.views.get(d);return _e(g!=null,"SyncTree gave us an op for an invalid query."),qg(g,e,n,s)}else{let g=[];for(const _ of t.views.values())g=g.concat(qg(_,e,n,s));return g}}function _y(t,e,n,s,d){const g=e._queryIdentifier,_=t.views.get(g);if(!_){let w=Ec(n,d?s:null),v=!1;w?v=!0:s instanceof Ze?(w=gf(n,s),v=!1):(w=Ze.EMPTY_NODE,v=!1);const b=Gc(new hs(w,v,!1),new hs(s,d,!1));return new ay(e,b)}return _}function Ey(t,e,n,s,d,g){const _=_y(t,e,s,d,g);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,_),uy(_,n),hy(_,n)}function xy(t,e,n,s){const d=e._queryIdentifier,g=[];let _=[];const w=Rr(t);if(d==="default")for(const[v,b]of t.views.entries())_=_.concat(Kg(b,n,s)),Yg(b)&&(t.views.delete(v),b.query._queryParams.loadsAllData()||g.push(b.query));else{const v=t.views.get(d);v&&(_=_.concat(Kg(v,n,s)),Yg(v)&&(t.views.delete(d),v.query._queryParams.loadsAllData()||g.push(v.query)))}return w&&!Rr(t)&&g.push(new(py())(e._repo,e._path)),{removed:g,events:_}}function R_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Js(t,e){let n=null;for(const s of t.views.values())n=n||cy(s,e);return n}function N_(t,e){if(e._queryParams.loadsAllData())return Zc(t);{const s=e._queryIdentifier;return t.views.get(s)}}function L_(t,e){return N_(t,e)!=null}function Rr(t){return Zc(t)!=null}function Zc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;function yy(t){_e(!vc,"__referenceConstructor has already been defined"),vc=t}function wy(){return _e(vc,"Reference.ts has not been loaded"),vc}let vy=1;class Qg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qt(null),this.pendingWriteTree_=q6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cy(t,e,n,s,d){return z6(t.pendingWriteTree_,e,n,s,d),d?Ya(t,new us(x_(),e,n)):[]}function Ws(t,e,n=!1){const s=H6(t.pendingWriteTree_,e);if(U6(t.pendingWriteTree_,e)){let g=new Qt(null);return s.snap!=null?g=g.set(Nt(),!0):yi(s.children,_=>{g=g.set(new Ht(_),!0)}),Ya(t,new _c(s.path,g,n))}else return[]}function jc(t,e,n){return Ya(t,new us(uf(),e,n))}function Sy(t,e,n){const s=Qt.fromObject(n);return Ya(t,new Da(uf(),e,s))}function by(t,e){return Ya(t,new Fa(uf(),e))}function Ay(t,e,n){const s=Ef(t,n);if(s){const d=xf(s),g=d.path,_=d.queryId,w=pi(g,e),v=new Fa(hf(_),w);return yf(t,g,v)}else return[]}function $1(t,e,n,s,d=!1){const g=e._path,_=t.syncPointTree_.get(g);let w=[];if(_&&(e._queryIdentifier==="default"||L_(_,e))){const v=xy(_,e,n,s);my(_)&&(t.syncPointTree_=t.syncPointTree_.remove(g));const b=v.removed;if(w=v.events,!d){const M=b.findIndex(F=>F._queryParams.loadsAllData())!==-1,N=t.syncPointTree_.findOnPath(g,(F,V)=>Rr(V));if(M&&!N){const F=t.syncPointTree_.subtree(g);if(!F.isEmpty()){const V=Ry(F);for(let $=0;$<V.length;++$){const X=V[$],Ne=X.query,W=F_(t,X);t.listenProvider_.startListening(ca(Ne),Cc(t,Ne),W.hashFn,W.onComplete)}}}!N&&b.length>0&&!s&&(M?t.listenProvider_.stopListening(ca(e),null):b.forEach(F=>{const V=t.queryToTagMap.get(Xc(F));t.listenProvider_.stopListening(ca(F),V)}))}Ny(t,b)}return w}function Iy(t,e,n,s){const d=Ef(t,s);if(d!=null){const g=xf(d),_=g.path,w=g.queryId,v=pi(_,e),b=new us(hf(w),v,n);return yf(t,_,b)}else return[]}function Ty(t,e,n,s){const d=Ef(t,s);if(d){const g=xf(d),_=g.path,w=g.queryId,v=pi(_,e),b=Qt.fromObject(n),M=new Da(hf(w),v,b);return yf(t,_,M)}else return[]}function $g(t,e,n,s=!1){const d=e._path;let g=null,_=!1;t.syncPointTree_.foreachOnPath(d,(F,V)=>{const $=pi(F,d);g=g||Js(V,$),_=_||Rr(V)});let w=t.syncPointTree_.get(d);w?(_=_||Rr(w),g=g||Js(w,Nt())):(w=new fy,t.syncPointTree_=t.syncPointTree_.set(d,w));let v;g!=null?v=!0:(v=!1,g=Ze.EMPTY_NODE,t.syncPointTree_.subtree(d).foreachChild((V,$)=>{const X=Js($,Nt());X&&(g=g.updateImmediateChild(V,X))}));const b=L_(w,e);if(!b&&!e._queryParams.loadsAllData()){const F=Xc(e);_e(!t.queryToTagMap.has(F),"View does not exist, but we have a tag");const V=Ly();t.queryToTagMap.set(F,V),t.tagToQueryMap.set(V,F)}const M=ff(t.pendingWriteTree_,d);let N=Ey(w,e,n,M,g,v);if(!b&&!_&&!s){const F=N_(w,e);N=N.concat(Oy(t,e,F))}return N}function O_(t,e,n){const d=t.pendingWriteTree_,g=t.syncPointTree_.findOnPath(e,(_,w)=>{const v=pi(_,e),b=Js(w,v);if(b)return b});return C_(d,e,g,n,!0)}function Ya(t,e){return M_(e,t.syncPointTree_,null,ff(t.pendingWriteTree_,Nt()))}function M_(t,e,n,s){if(_t(t.path))return P_(t,e,n,s);{const d=e.get(Nt());n==null&&d!=null&&(n=Js(d,Nt()));let g=[];const _=mt(t.path),w=t.operationForChild(_),v=e.children.get(_);if(v&&w){const b=n?n.getImmediateChild(_):null,M=S_(s,_);g=g.concat(M_(w,v,b,M))}return d&&(g=g.concat(_f(d,t,s,n))),g}}function P_(t,e,n,s){const d=e.get(Nt());n==null&&d!=null&&(n=Js(d,Nt()));let g=[];return e.children.inorderTraversal((_,w)=>{const v=n?n.getImmediateChild(_):null,b=S_(s,_),M=t.operationForChild(_);M&&(g=g.concat(P_(M,w,v,b)))}),d&&(g=g.concat(_f(d,t,s,n))),g}function F_(t,e){const n=e.query,s=Cc(t,n);return{hashFn:()=>(dy(e)||Ze.EMPTY_NODE).hash(),onComplete:d=>{if(d==="ok")return s?Ay(t,n._path,s):by(t,n._path);{const g=Ax(d,n);return $1(t,n,null,g)}}}}function Cc(t,e){const n=Xc(e);return t.queryToTagMap.get(n)}function Xc(t){return t._path.toString()+"$"+t._queryIdentifier}function Ef(t,e){return t.tagToQueryMap.get(e)}function xf(t){const e=t.indexOf("$");return _e(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ht(t.substr(0,e))}}function yf(t,e,n){const s=t.syncPointTree_.get(e);_e(s,"Missing sync point for query tag that we're tracking");const d=ff(t.pendingWriteTree_,e);return _f(s,n,d,null)}function Ry(t){return t.fold((e,n,s)=>{if(n&&Rr(n))return[Zc(n)];{let d=[];return n&&(d=R_(n)),yi(s,(g,_)=>{d=d.concat(_)}),d}})}function ca(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wy())(t._repo,t._path):t}function Ny(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const d=Xc(s),g=t.queryToTagMap.get(d);t.queryToTagMap.delete(d),t.tagToQueryMap.delete(g)}}}function Ly(){return vy++}function Oy(t,e,n){const s=e._path,d=Cc(t,e),g=F_(t,n),_=t.listenProvider_.startListening(ca(e),d,g.hashFn,g.onComplete),w=t.syncPointTree_.subtree(s);if(d)_e(!Rr(w.value),"If we're adding a query, it shouldn't be shadowed");else{const v=w.fold((b,M,N)=>{if(!_t(b)&&M&&Rr(M))return[Zc(M).query];{let F=[];return M&&(F=F.concat(R_(M).map(V=>V.query))),yi(N,(V,$)=>{F=F.concat($)}),F}});for(let b=0;b<v.length;++b){const M=v[b];t.listenProvider_.stopListening(ca(M),Cc(t,M))}}return _}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wf(n)}node(){return this.node_}}class vf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=bn(this.path_,e);return new vf(this.syncTree_,n)}node(){return O_(this.syncTree_,this.path_)}}const My=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jg=function(t,e,n){if(!t||typeof t!="object")return t;if(_e(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Py(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Fy(t[".sv"],e);_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Py=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_e(!1,"Unexpected server value: "+t)}},Fy=function(t,e,n){t.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&_e(!1,"Unexpected increment value: "+s);const d=e.node();if(_e(d!==null&&typeof d<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!d.isLeafNode())return s;const _=d.getValue();return typeof _!="number"?s:_+s},Dy=function(t,e,n,s){return Cf(e,new vf(n,t),s)},ky=function(t,e,n){return Cf(t,new wf(e),n)};function Cf(t,e,n){const s=t.getPriority().val(),d=Jg(s,e.getImmediateChild(".priority"),n);let g;if(t.isLeafNode()){const _=t,w=Jg(_.getValue(),e,n);return w!==_.getValue()||d!==_.getPriority().val()?new On(w,Qn(d)):t}else{const _=t;return g=_,d!==_.getPriority().val()&&(g=g.updatePriority(new On(d))),_.forEachChild(cn,(w,v)=>{const b=Cf(v,e.getImmediateChild(w),n);b!==v&&(g=g.updateImmediateChild(w,b))}),g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function bf(t,e){let n=e instanceof Ht?e:new Ht(e),s=t,d=mt(n);for(;d!==null;){const g=ll(s.node.children,d)||{children:{},childCount:0};s=new Sf(d,s,g),n=Zt(n),d=mt(n)}return s}function ml(t){return t.node.value}function D_(t,e){t.node.value=e,J1(t)}function k_(t){return t.node.childCount>0}function By(t){return ml(t)===void 0&&!k_(t)}function Yc(t,e){yi(t.node.children,(n,s)=>{e(new Sf(n,t,s))})}function B_(t,e,n,s){n&&!s&&e(t),Yc(t,d=>{B_(d,e,!0,s)}),n&&s&&e(t)}function zy(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ka(t){return new Ht(t.parent===null?t.name:Ka(t.parent)+"/"+t.name)}function J1(t){t.parent!==null&&Hy(t.parent,t.name,t)}function Hy(t,e,n){const s=By(n),d=qo(t.node.children,e);s&&d?(delete t.node.children[e],t.node.childCount--,J1(t)):!s&&!d&&(t.node.children[e]=n.node,t.node.childCount++,J1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=/[\[\].#$\/\u0000-\u001F\u007F]/,Wy=/[\[\].#$\u0000-\u001F\u007F]/,zu=10*1024*1024,z_=function(t){return typeof t=="string"&&t.length!==0&&!Uy.test(t)},H_=function(t){return typeof t=="string"&&t.length!==0&&!Wy.test(t)},Vy=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),H_(t)},U_=function(t,e,n){const s=n instanceof Ht?new r6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qr(s));if(typeof e=="function")throw new Error(t+"contains a function "+qr(s)+" with contents = "+e.toString());if(Um(e))throw new Error(t+"contains "+e.toString()+" "+qr(s));if(typeof e=="string"&&e.length>zu/3&&Uc(e)>zu)throw new Error(t+"contains a string greater than "+zu+" utf8 bytes "+qr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let d=!1,g=!1;if(yi(e,(_,w)=>{if(_===".value")d=!0;else if(_!==".priority"&&_!==".sv"&&(g=!0,!z_(_)))throw new Error(t+" contains an invalid key ("+_+") "+qr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);s6(s,_),U_(t,w,s),l6(s)}),d&&g)throw new Error(t+' contains ".value" child '+qr(s)+" in addition to actual children.")}},W_=function(t,e,n,s){if(!(s&&n===void 0)&&!H_(n))throw new Error(Lm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Gy=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),W_(t,e,n,s)},Zy=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!z_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vy(n))throw new Error(Lm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function V_(t,e){let n=null;for(let s=0;s<e.length;s++){const d=e[s],g=d.getPath();n!==null&&!sf(g,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:g}),n.events.push(d)}n&&t.eventLists_.push(n)}function G_(t,e,n){V_(t,n),Z_(t,s=>sf(s,e))}function _s(t,e,n){V_(t,n),Z_(t,s=>lo(s,e)||lo(e,s))}function Z_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const d=t.eventLists_[s];if(d){const g=d.path;e(g)?(Xy(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Xy(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();is&&qn("event: "+n.toString()),ja(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="repo_interrupt",Ky=25;class qy{constructor(e,n,s,d){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=d,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mc(),this.transactionQueueTree_=new Sf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Qy(t,e,n){if(t.stats_=of(t.repoInfo_),t.forceRestClient_||Nx())t.server_=new pc(t.repoInfo_,(s,d,g,_)=>{e2(t,s,d,g,_)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>t2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fn(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Vo(t.repoInfo_,e,(s,d,g,_)=>{e2(t,s,d,g,_)},s=>{t2(t,s)},s=>{Jy(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Fx(t.repoInfo_,()=>new M6(t.stats_,t.server_)),t.infoData_=new T6,t.infoSyncTree_=new Qg({startListening:(s,d,g,_)=>{let w=[];const v=t.infoData_.getNode(s._path);return v.isEmpty()||(w=jc(t.infoSyncTree_,s._path,v),setTimeout(()=>{_("ok")},0)),w},stopListening:()=>{}}),Af(t,"connected",!1),t.serverSyncTree_=new Qg({startListening:(s,d,g,_)=>(t.server_.listen(s,g,d,(w,v)=>{const b=_(w,v);_s(t.eventQueue_,s._path,b)}),[]),stopListening:(s,d)=>{t.server_.unlisten(s,d)}})}function $y(t){const n=t.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function j_(t){return My({timestamp:$y(t)})}function e2(t,e,n,s,d){t.dataUpdateCount++;const g=new Ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let _=[];if(d)if(s){const v=dc(n,b=>Qn(b));_=Ty(t.serverSyncTree_,g,v,d)}else{const v=Qn(n);_=Iy(t.serverSyncTree_,g,v,d)}else if(s){const v=dc(n,b=>Qn(b));_=Sy(t.serverSyncTree_,g,v)}else{const v=Qn(n);_=jc(t.serverSyncTree_,g,v)}let w=g;_.length>0&&(w=Tf(t,g)),_s(t.eventQueue_,w,_)}function t2(t,e){Af(t,"connected",e),e===!1&&tw(t)}function Jy(t,e){yi(e,(n,s)=>{Af(t,n,s)})}function Af(t,e,n){const s=new Ht("/.info/"+e),d=Qn(n);t.infoData_.updateSnapshot(s,d);const g=jc(t.infoSyncTree_,s,d);_s(t.eventQueue_,s,g)}function ew(t){return t.nextWriteId_++}function tw(t){X_(t,"onDisconnectEvents");const e=j_(t),n=mc();j1(t.onDisconnect_,Nt(),(d,g)=>{const _=Dy(d,g,t.serverSyncTree_,e);E_(n,d,_)});let s=[];j1(n,Nt(),(d,g)=>{s=s.concat(jc(t.serverSyncTree_,d,g));const _=sw(t,d);Tf(t,_)}),t.onDisconnect_=mc(),_s(t.eventQueue_,Nt(),s)}function nw(t,e,n){let s;mt(e._path)===".info"?s=$g(t.infoSyncTree_,e,n):s=$g(t.serverSyncTree_,e,n),G_(t.eventQueue_,e._path,s)}function n2(t,e,n){let s;mt(e._path)===".info"?s=$1(t.infoSyncTree_,e,n):s=$1(t.serverSyncTree_,e,n),G_(t.eventQueue_,e._path,s)}function iw(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Yy)}function X_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qn(n,...e)}function Y_(t,e,n){return O_(t.serverSyncTree_,e,n)||Ze.EMPTY_NODE}function If(t,e=t.transactionQueueTree_){if(e||Kc(t,e),ml(e)){const n=q_(t,e);_e(n.length>0,"Sending zero length transaction queue"),n.every(d=>d.status===0)&&ow(t,Ka(e),n)}else k_(e)&&Yc(e,n=>{If(t,n)})}function ow(t,e,n){const s=n.map(b=>b.currentWriteId),d=Y_(t,e,s);let g=d;const _=d.hash();for(let b=0;b<n.length;b++){const M=n[b];_e(M.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const N=pi(e,M.path);g=g.updateChild(N,M.currentOutputSnapshotRaw)}const w=g.val(!0),v=e;t.server_.put(v.toString(),w,b=>{X_(t,"transaction put response",{path:v.toString(),status:b});let M=[];if(b==="ok"){const N=[];for(let F=0;F<n.length;F++)n[F].status=2,M=M.concat(Ws(t.serverSyncTree_,n[F].currentWriteId)),n[F].onComplete&&N.push(()=>n[F].onComplete(null,!0,n[F].currentOutputSnapshotResolved)),n[F].unwatcher();Kc(t,bf(t.transactionQueueTree_,e)),If(t,t.transactionQueueTree_),_s(t.eventQueue_,e,M);for(let F=0;F<N.length;F++)ja(N[F])}else{if(b==="datastale")for(let N=0;N<n.length;N++)n[N].status===3?n[N].status=4:n[N].status=0;else{Ni("transaction at "+v.toString()+" failed: "+b);for(let N=0;N<n.length;N++)n[N].status=4,n[N].abortReason=b}Tf(t,e)}},_)}function Tf(t,e){const n=K_(t,e),s=Ka(n),d=q_(t,n);return rw(t,d,s),s}function rw(t,e,n){if(e.length===0)return;const s=[];let d=[];const _=e.filter(w=>w.status===0).map(w=>w.currentWriteId);for(let w=0;w<e.length;w++){const v=e[w],b=pi(n,v.path);let M=!1,N;if(_e(b!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)M=!0,N=v.abortReason,d=d.concat(Ws(t.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=Ky)M=!0,N="maxretry",d=d.concat(Ws(t.serverSyncTree_,v.currentWriteId,!0));else{const F=Y_(t,v.path,_);v.currentInputSnapshot=F;const V=e[w].update(F.val());if(V!==void 0){U_("transaction failed: Data returned ",V,v.path);let $=Qn(V);typeof V=="object"&&V!=null&&qo(V,".priority")||($=$.updatePriority(F.getPriority()));const Ne=v.currentWriteId,W=j_(t),D=ky($,F,W);v.currentOutputSnapshotRaw=$,v.currentOutputSnapshotResolved=D,v.currentWriteId=ew(t),_.splice(_.indexOf(Ne),1),d=d.concat(Cy(t.serverSyncTree_,v.path,D,v.currentWriteId,v.applyLocally)),d=d.concat(Ws(t.serverSyncTree_,Ne,!0))}else M=!0,N="nodata",d=d.concat(Ws(t.serverSyncTree_,v.currentWriteId,!0))}_s(t.eventQueue_,n,d),d=[],M&&(e[w].status=2,function(F){setTimeout(F,Math.floor(0))}(e[w].unwatcher),e[w].onComplete&&(N==="nodata"?s.push(()=>e[w].onComplete(null,!1,e[w].currentInputSnapshot)):s.push(()=>e[w].onComplete(new Error(N),!1,null))))}Kc(t,t.transactionQueueTree_);for(let w=0;w<s.length;w++)ja(s[w]);If(t,t.transactionQueueTree_)}function K_(t,e){let n,s=t.transactionQueueTree_;for(n=mt(e);n!==null&&ml(s)===void 0;)s=bf(s,n),e=Zt(e),n=mt(e);return s}function q_(t,e){const n=[];return Q_(t,e,n),n.sort((s,d)=>s.order-d.order),n}function Q_(t,e,n){const s=ml(e);if(s)for(let d=0;d<s.length;d++)n.push(s[d]);Yc(e,d=>{Q_(t,d,n)})}function Kc(t,e){const n=ml(e);if(n){let s=0;for(let d=0;d<n.length;d++)n[d].status!==2&&(n[s]=n[d],s++);n.length=s,D_(e,n.length>0?n:void 0)}Yc(e,s=>{Kc(t,s)})}function sw(t,e){const n=Ka(K_(t,e)),s=bf(t.transactionQueueTree_,e);return zy(s,d=>{Hu(t,d)}),Hu(t,s),B_(s,d=>{Hu(t,d)}),n}function Hu(t,e){const n=ml(e);if(n){const s=[];let d=[],g=-1;for(let _=0;_<n.length;_++)n[_].status===3||(n[_].status===1?(_e(g===_-1,"All SENT items should be at beginning of queue."),g=_,n[_].status=3,n[_].abortReason="set"):(_e(n[_].status===0,"Unexpected transaction status in abort"),n[_].unwatcher(),d=d.concat(Ws(t.serverSyncTree_,n[_].currentWriteId,!0)),n[_].onComplete&&s.push(n[_].onComplete.bind(null,new Error("set"),!1,null))));g===-1?D_(e,void 0):n.length=g+1,_s(t.eventQueue_,Ka(e),d);for(let _=0;_<s.length;_++)ja(s[_])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let d=n[s];try{d=decodeURIComponent(d.replace(/\+/g," "))}catch{}e+="/"+d}return e}function aw(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ni(`Invalid query segment '${n}' in query '${t}'`)}return e}const i2=function(t,e){const n=dw(t),s=n.namespace;n.domain==="firebase.com"&&Yo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Yo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wx();const d=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jm(n.host,n.secure,s,d,e,"",s!==n.subdomain),path:new Ht(n.pathString)}},dw=function(t){let e="",n="",s="",d="",g="",_=!0,w="https",v=443;if(typeof t=="string"){let b=t.indexOf("//");b>=0&&(w=t.substring(0,b-1),t=t.substring(b+2));let M=t.indexOf("/");M===-1&&(M=t.length);let N=t.indexOf("?");N===-1&&(N=t.length),e=t.substring(0,Math.min(M,N)),M<N&&(d=lw(t.substring(M,N)));const F=aw(t.substring(Math.min(t.length,N)));b=e.indexOf(":"),b>=0?(_=w==="https"||w==="wss",v=parseInt(e.substring(b+1),10)):b=e.length;const V=e.slice(0,b);if(V.toLowerCase()==="localhost")n="localhost";else if(V.split(".").length<=2)n=V;else{const $=e.indexOf(".");s=e.substring(0,$).toLowerCase(),n=e.substring($+1),g=s}"ns"in F&&(g=F.ns)}return{host:e,port:v,domain:n,subdomain:s,secure:_,scheme:w,pathString:d,namespace:g}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,s,d){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=d}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fn(this.snapshot.exportVal())}}class J_{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,s,d){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=d}get key(){return _t(this._path)?null:a_(this._path)}get ref(){return new Qo(this._repo,this._path)}get _queryIdentifier(){const e=Hg(this._queryParams),n=tf(e);return n==="{}"?"default":n}get _queryObject(){return Hg(this._queryParams)}isEqual(e){if(e=Wc(e),!(e instanceof Rf))return!1;const n=this._repo===e._repo,s=sf(this._path,e._path),d=this._queryIdentifier===e._queryIdentifier;return n&&s&&d}toJSON(){return this.toString()}toString(){return this._repo.toString()+o6(this._path)}}class Qo extends Rf{constructor(e,n){super(e,n,new cf,!1)}get parent(){const e=c_(this._path);return e===null?null:new Qo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ka{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ht(e),s=Sc(this.ref,e);return new ka(this._node.getChild(n),s,cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,d)=>e(new ka(d,Sc(this.ref,s),cn)))}hasChild(e){const n=new Ht(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zl(t,e){return t=Wc(t),t._checkNotDeleted("ref"),e!==void 0?Sc(t._root,e):t._root}function Sc(t,e){return t=Wc(t),mt(t._path)===null?Gy("child","path",e,!1):W_("child","path",e,!1),new Qo(t._repo,bn(t._path,e))}class Nf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new $_("value",this,new ka(e.snapshotNode,new Qo(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new J_(this,e,n):null}matches(e){return e instanceof Nf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Lf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new J_(this,e,n):null}createEvent(e,n){_e(e.childName!=null,"Child events should have a childName.");const s=Sc(new Qo(n._repo,n._path),e.childName),d=n._queryParams.getIndex();return new $_(e.type,this,new ka(e.snapshotNode,s,d),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Lf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function uw(t,e,n,s,d){let g;if(typeof s=="object"&&(g=void 0,d=s),typeof s=="function"&&(g=s),d&&d.onlyOnce){const v=n,b=(M,N)=>{n2(t._repo,t,w),v(M,N)};b.userCallback=n.userCallback,b.context=n.context,n=b}const _=new cw(n,g||void 0),w=e==="value"?new Nf(_):new Lf(e,_);return nw(t._repo,t,w),()=>n2(t._repo,t,w)}function jl(t,e,n,s){return uw(t,"value",e,n,s)}gy(Qo);yy(Qo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="FIREBASE_DATABASE_EMULATOR_HOST",eh={};let fw=!1;function gw(t,e,n,s){t.repoInfo_=new Jm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function pw(t,e,n,s,d){let g=s||t.options.databaseURL;g===void 0&&(t.options.projectId||Yo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qn("Using default host for project ",t.options.projectId),g=`${t.options.projectId}-default-rtdb.firebaseio.com`);let _=i2(g,d),w=_.repoInfo,v,b;typeof process<"u"&&vg&&(b=vg[hw]),b?(v=!0,g=`http://${b}?ns=${w.namespace}`,_=i2(g,d),w=_.repoInfo):v=!_.repoInfo.secure;const M=d&&v?new Qs(Qs.OWNER):new Ox(t.name,t.options,e);Zy("Invalid Firebase Database URL",_),_t(_.path)||Yo("Database URL must point to the root of a Firebase Database (not including a child path).");const N=_w(w,t,M,new Lx(t.name,n));return new Ew(N,t)}function mw(t,e){const n=eh[e];(!n||n[t.key]!==t)&&Yo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),iw(t),delete n[t.key]}function _w(t,e,n,s){let d=eh[e.name];d||(d={},eh[e.name]=d);let g=d[t.toURLString()];return g&&Yo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),g=new qy(t,fw,n,s),d[t.toURLString()]=g,g}class Ew{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Qy(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qo(this._repo,Nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yo("Cannot call "+e+" on a deleted database.")}}function xw(t=ox(),e){const n=ex(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=j5("database");s&&yw(n,...s)}return n}function yw(t,e,n,s={}){t=Wc(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Yo("Cannot call useEmulator() after instance has already been initialized.");const d=t._repoInternal;let g;if(d.repoInfo_.nodeAdmin)s.mockUserToken&&Yo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),g=new Qs(Qs.OWNER);else if(s.mockUserToken){const _=typeof s.mockUserToken=="string"?s.mockUserToken:X5(s.mockUserToken,t.app.options.projectId);g=new Qs(_)}gw(d,e,n,g)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){mx(ix),uc(new Ra("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),d=e.getProvider("auth-internal"),g=e.getProvider("app-check-internal");return pw(s,d,g,n)},"PUBLIC").setMultipleInstances(!0)),Ks(Cg,Sg,t),Ks(Cg,Sg,"esm2017")}Vo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Vo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ww();const vw={apiKey:"AIzaSyBwM78rh1iYKCnJlW1-oYwB4dZbrRFdz-c",authDomain:"roomorientationdata.firebaseapp.com",databaseURL:"https://roomorientationdata-default-rtdb.firebaseio.com",projectId:"roomorientationdata",storageBucket:"roomorientationdata.appspot.com",messagingSenderId:"99942721154",appId:"1:99942721154:web:18939bfc42074d9316769b"},Cw=Fm(vw),Xl=xw(Cw);function e3({style:t}){const[e,n]=zt.useState(""),[s,d]=zt.useState(""),[g,_]=zt.useState(!1),[w,v]=zt.useState(!1),b=zt.useRef(null),[M,N]=zt.useState(!1),[F,V]=zt.useState(!1),[$,X]=zt.useState(!1),[Ne,W]=zt.useState(!1),[D,B]=zt.useState(!1),[J,Ee]=zt.useState(!1),[ge,K]=zt.useState(!1),[pe,oe]=zt.useState(!1),[Oe,Qe]=zt.useState("");zt.useState(!1),zt.useState(!1);const[Ce,it]=zt.useState([]),[Ct,ee]=zt.useState([]),ot=H=>{let re=[];const Ie=["BRS","Science","EDS","Main","PE","CHTM"],be=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"];return new Promise((De,wt)=>{let Ue=[],at=["<strong> ELEVATOR </strong>","Facility","Drafting Room","Classroom","CR(Women)","CR(Men)","Computer Room","Store","ComputerLab","ComputerRoom","Property Storage Room","StockRoom","Room"];Ie.forEach(Je=>{const Bn=Zl(Xl,Je);Ue.push(new Promise((rt,ce)=>{jl(Bn,we=>{const ne=we.val();be.forEach(Xe=>{for(let nt=1;nt<=35;nt++)ne&&ne[Xe]&&ne[Xe][nt]&&(ne[Xe][nt].cat!=null&&ne[Xe][nt].cat!=""&&!at.includes(ne[Xe][nt].cat)&&ne[Xe][nt].cat.toLowerCase().includes(H.toLowerCase())&&re.push(ne[Xe][nt].cat),ne[Xe][nt].roomID!=null&&ne[Xe][nt].roomID!=""&&!at.includes(ne[Xe][nt].roomID)&&ne[Xe][nt].roomID.toLowerCase().includes(H.toLowerCase())&&re.push(ne[Xe][nt].roomID))}),rt()},we=>{ce(we)})}))}),Promise.all(Ue).then(()=>{console.log(re),De(re)}).catch(Je=>{wt(Je)})})},Fe=async()=>{try{const H=await ot(e);it(H)}catch(H){console.error("Error fetching suggestions:",H),it([])}},ie=async()=>{try{const H=await ot(s);ee(H)}catch(H){console.error("Error fetching suggestions:",H),ee([])}},Me=H=>{const{value:re}=H.target;Qe(re)},de=()=>{N(!M),V(!M),Ne===!0&&(W(!Ne),Ee(!Ne)),D===!0&&(B(!D),X(!$))},ze=()=>{W(!Ne),Ee(!Ne),M===!0&&(N(!M),V(!M)),D===!0&&(B(!D),X(!$))},ke=()=>{B(!D),X(!$),M===!0&&(N(!M),V(!M)),Ne===!0&&(W(!Ne),Ee(!Ne))};let je=[],We;const Be=zt.useRef(null);zt.useEffect(()=>{ie(),Fe(),Be.current=Yn.map("map",{center:[0,-.09],zoom:13,zoomControl:!1,crs:Yn.CRS.EPSG3395}),Be.current.setView([10,10],3);const H=()=>{_(!1),v(!1),en(!1)},re=Ie=>{Ie.key==="Enter"&&(Ie.preventDefault(),b.current.blur())};return document.addEventListener("keydown",re),document.body.addEventListener("click",H),()=>{Be.current.remove(),document.body.removeEventListener("click",H),document.removeEventListener("keydown",re)}},[]);const te=H=>{let re=[{url:H,bounds:H==="main2ndFloorPlan"||H==="main5thFloorPlan"?[[0,0],[12,15]]:[[0,0],[10,10]]}];Be.current.eachLayer(function(Ie){Ie instanceof Yn.ImageOverlay&&Be.current.removeLayer(Ie)}),re.forEach(function(Ie){Yn.imageOverlay(Ie.url,Ie.bounds).addTo(Be.current)})};function fn(H){H==="science2ndFloor"?te(t5):H==="science3rdFloor"?te(n5):H==="main4thFloor"?te(g5):H==="main5thFloor"?te(p5):H==="main6thFloor"?te(m5):H==="main3rdFloor"?te(_5):H==="main2ndFloor"?te(E5):H==="mainGroundFloor"?te(x5):H==="science4thFloor"?te(i5):H==="science5thFloor"?te(o5):H==="science6thFloor"?te(r5):H==="science1stFloor"?te(e5):H==="scienceGroundFloor"?te(JE):H==="CHTMEDS4thFloor"?te(s5):H==="CHTMEDS5thFloor"?te(l5):H==="CHTMEDS6thFloor"?te(a5):H==="CHTMEDS7thFloor"?te(d5):H==="CHTMEDS8thFloor"?te(c5):H==="CHTMEDS9thFloor"?te(u5):H==="EDS3rdFloor"?te(h5):H==="CHTM10thFloor"?te(f5):H==="BRS1stFloor"?te(w5):H==="BRS2ndFloor"?te(v5):H==="BRS3rdFloor"?te(C5):H==="BRS4thFloor"?te(S5):H==="BRS5thFloor"?te(b5):H==="BRS6thFloor"?te(A5):H==="BRS7thFloor"?te(I5):H==="BRS8thFloor"?te(T5):H==="BRS9thFloor"?te(R5):H==="BRS10thFloor"&&te(N5)}const He=H=>{Ki(),qi(),Pi(H),Ro(H),fn(H),St(je)},Ki=()=>{Be.current.eachLayer(H=>{H instanceof Yn.Marker&&Be.current.removeLayer(H)})},qi=()=>{Be.current.eachLayer(H=>{H instanceof Yn.Polyline&&Be.current.removeLayer(H)})};let Jt=[];const Pi=H=>{Jt=O5(H),ut(Be.current,Jt)},ut=(H,re)=>{re.forEach(Ie=>{go(Ie,H)})},go=(H,re)=>{if(!re){console.error("Map not defined. Cannot add marker.");return}function Ie(Ue,at){if(at==="BRS")switch(Ue){case 1:He("BRS1stFloor");break;case 2:He("BRS2ndFloor");break;case 3:He("BRS3rdFloor");break;case 4:He("BRS4thFloor");break;case 5:He("BRS5thFloor");break;case 6:He("BRS6thFloor");break;case 7:He("BRS7thFloor");break;case 8:He("BRS8thFloor");break;case 9:He("BRS9thFloor");break;case 10:He("BRS10thFloor");break}else if(at==="EDS"||at==="CHTM")switch(Ue){case 2:He("main2ndFloor");break;case 3:He("EDS3rdFloor");break;case 4:He("CHTMEDS4thFloor");break;case 5:He("CHTMEDS5thFloor");break;case 6:He("CHTMEDS6thFloor");break;case 7:He("CHTMEDS7thFloor");break;case 8:He("CHTMEDS8thFloor");break;case 9:He("CHTMEDS9thFloor");break;case 10:He("CHTM10thFloor");break}}if(Object.prototype.hasOwnProperty.call(H,"label")){const Ue=Yn.marker([H.lat,H.lon]).addTo(re);let at;if(H.label==="leaveButton"&&(H.direction==="up"?at=M5:H.direction==="down"?at=P5:at=y5,Ue.bindPopup(`Node ${H.id}`),Ue.setIcon(Yn.icon({iconUrl:at,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]})),Ue.on("click",()=>{Ki(),He(H.destination);let ne=(Xe=>Jt.find(nt=>nt.id===Xe))(H.desti);Be.current.setView([ne.lat,ne.lon],8)})),H.label==="classroomLogo"){const we="https://www.uc-bcf.edu.ph/college/of/engineering-and-architecture",ne="https://www.uc-bcf.edu.ph/college/of/teacher-education",Xe="https://www.uc-bcf.edu.ph/college/of/hospitality-and-tourism-management",nt="https://www.uc-bcf.edu.ph/college/of/law",Lt="https://www.uc-bcf.edu.ph/college/of/information-technology-and-computer-science",et="https://www.uc-bcf.edu.ph/college/of/accountancy",Ye="https://www.uc-bcf.edu.ph/college/of/business-administration",No="https://www.uc-bcf.edu.ph/college/of/arts-and-sciences",ci="https://www.uc-bcf.edu.ph/college/of/nursing";let ei="";H.node===1?ei=we:H.node===5?ei=ne:H.node===1445?ei=Xe:H.node===245?ei=nt:H.node===758?ei=Lt:H.node===804?ei=et:H.node===1448?ei=Ye:H.node===1109?ei=No:H.node===1170&&(ei=ci);let _l=`<iframe src="${ei}" width="250" height="300" style="overflow-x: auto; overflow-y: hidden; zoom: 1; margin: 100;"></iframe>`;ei!=""&&Ue.bindPopup(_l,{maxWidth:300,maxHeight:200}),Ue.setIcon(Yn.icon({iconUrl:$E,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}))}if(H.label==="elevator"){Ue.bindPopup(`Node ${H.id}`),Ue.setIcon(Yn.icon({iconUrl:ig,iconSize:[20,20],iconAnchor:[16,16],popupAnchor:[0,-16]}));let we;if(H.elevatorBuilding==="BRS"?we=[{id:1,node:143},{id:2,node:113},{id:3,node:166},{id:4,node:195},{id:5,node:224},{id:6,node:239},{id:7,node:264},{id:8,node:289},{id:9,node:314},{id:10,node:1046}]:H.elevatorBuilding==="EDS"?we=[{id:2,node:864},{id:3,node:1234},{id:4,node:1116},{id:5,node:1165},{id:6,node:1276},{id:7,node:1346},{id:8,node:1419},{id:9,node:1506}]:H.elevatorBuilding==="CHTM"&&(we=[{id:4,node:1142},{id:5,node:1198},{id:6,node:1290},{id:7,node:1370},{id:8,node:1446},{id:9,node:1521},{id:10,node:1604}]),je.includes(H.id)){let ne,Xe;for(let et=0;et<je.length;et++)for(let Ye=0;Ye<we.length;Ye++)je[et]===we[Ye].node&&(ne=we[Ye].id);console.log(je);let nt=!1;for(let et=0;et<je.length;et++){for(let Ye=0;Ye<we.length;Ye++)if(je[et]===we[Ye].node){nt=!0,Xe=we[Ye].id;break}if(nt)break}let Lt=document.createElement("div");for(let et=we[0].id;et<=we[we.length-1].id;et++){let Ye=document.createElement("button");Ye.textContent=et,Ye.addEventListener("click",()=>{Ie(et,H.elevatorBuilding)}),et===Xe&&(Ye.style.border="none"),et===ne&&(Ye.style.backgroundColor="red"),Lt.appendChild(Ye)}Ue.getPopup().setContent(Lt),Ue.openPopup()}else Ue.on("click",()=>{let ne,Xe;for(let et=0;et<je.length;et++)for(let Ye=0;Ye<we.length;Ye++)je[et]===we[Ye].node&&(ne=we[Ye].id);console.log(je);let nt=!1;for(let et=0;et<je.length;et++){for(let Ye=0;Ye<we.length;Ye++)if(je[et]===we[Ye].node){nt=!0,Xe=we[Ye].id;break}if(nt)break}let Lt=document.createElement("div");for(let et=we[0].id;et<=we[we.length-1].id;et++){let Ye=document.createElement("button");Ye.textContent=et,Ye.addEventListener("click",()=>{Ie(et,H.elevatorBuilding)}),et===Xe&&(Ye.style.border="none"),et===ne&&(Ye.style.backgroundColor="red"),Lt.appendChild(Ye)}Ue.getPopup().setContent(Lt),Ue.openPopup()})}let Je="Your Current Location: ",Bn="Your Destination: ",rt=je[0],ce=je[je.length-1];H.id===rt&&Ue.bindPopup(`<strong>${Je}</strong> Room: ${H.roomID}`),H.id===ce&&(Ue.bindPopup(`<strong>${Bn}</strong> Room: ${H.roomID}`),Ue.openPopup())}const be=(Ue,at,Je,Bn)=>new Promise((rt,ce)=>{if(Je==="roomID"){const we=Zl(Xl,Ue);jl(we,ne=>{const Xe=ne.val();for(let nt=1;nt<=35;nt++)if(Xe&&Xe[at]&&Xe[at].length>0&&Xe[at][nt].node===Bn){const Lt=Xe[at][nt].roomID;rt(Lt)}})}else ce("Type is not 'roomID'")}),De=(Ue,at,Je,Bn)=>new Promise((rt,ce)=>{if(Je==="roomID"){const we=Zl(Xl,Ue);jl(we,ne=>{const Xe=ne.val();for(let nt=1;nt<=35;nt++)if(Xe&&Xe[at]&&Xe[at].length>0&&Xe[at][nt].node===Bn){const Lt=Xe[at][nt].cat;rt(Lt)}})}else ce("Type is not 'roomID'")});if(Object.prototype.hasOwnProperty.call(H,"title")){var wt=Yn.latLng(H.lat,H.lon);De(H.building,H.floor,"roomID",H.node).then(Ue=>{be(H.building,H.floor,"roomID",H.node).then(at=>{Ue===""?Yn.marker(wt,{icon:Yn.divIcon({html:`<strong> ${Ue} </strong> ${at}`,className:"text-below-marker"})}).addTo(re):Yn.marker(wt,{icon:Yn.divIcon({html:`<strong> ${Ue}: </strong> ${at}`,className:"text-below-marker"})}).addTo(re)}).catch(at=>{})}).catch(Ue=>{})}on(je,Jt)},Jn=(H,re)=>{for(let Ie=0;Ie<H.length;Ie++)for(let be=0;be<re.length;be++)if(H[Ie]===re[be].id)return console.log("ehe:",H[Ie]),re[be].id},Fi=H=>Jt.find(re=>re.id===H),on=(H,re)=>{const Ie=Fi(Jn(H,re));Ie&&Be.current.flyTo([Ie.lat,Ie.lon],8,{duration:1,easeLinearity:.5})},St=H=>{for(let re=0;re<H.length-1;re++){const Ie=Fi(H[re]),be=Fi(H[re+1]);Ie&&be&&ht(Be.current,Ie,be)}},ht=(H,re,Ie)=>{const be=[[re.lat,re.lon],[Ie.lat,Ie.lon]];Yn.polyline(be,{weight:"4",color:"red"}).addTo(H)},To=H=>{const{value:re}=H.target;n(re),_(re.trim().length>0)},Se=H=>{const{value:re}=H.target;d(re),v(re.trim().length>0)},po=(H,re)=>{re?(n(H),_(!1)):(d(H),v(!1))},Mr=H=>{H.preventDefault();const re=be=>new Promise((De,wt)=>{const Ue=["BRS","Science","EDS","Main","PE","CHTM"];for(let at=0;at<Ue.length;at++){const Je=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"],Bn=Zl(Xl,Ue[at]);jl(Bn,rt=>{const ce=rt.val();for(let we=0;we<Je.length;we++)for(let ne=1;ne<=35;ne++)if(ce&&ce[Je[we]]&&ce[Je[we]][ne]&&(ce[Je[we]][ne].roomID.toLowerCase()===be.toLowerCase()||ce[Je[we]][ne].roomID.toUpperCase()===be.toUpperCase()||ce[Je[we]][ne].cat.toLowerCase()===be.toLowerCase()||ce[Je[we]][ne].cat.toUpperCase()===be.toUpperCase())){let Xe=ce[Je[we]][ne].node;console.log("Node: ",ce[Je[we]][ne].node,"Cat: ",ce[Je[we]][ne].cat),De(Xe);return}},rt=>{})}De(!1)}),Ie=be=>new Promise((De,wt)=>{const Ue=["BRS","Science","EDS","Main","PE","CHTM"];for(let at=0;at<Ue.length;at++){const Je=["Ground Floor","1st Floor","2nd Floor","3rd Floor","4th Floor","5th Floor","6th Floor","7th Floor","8th Floor","9th Floor","10th Floor"],Bn=Zl(Xl,Ue[at]);jl(Bn,rt=>{const ce=rt.val();for(let we=0;we<Je.length;we++)for(let ne=1;ne<=35;ne++)if(ce&&ce[Je[we]]&&ce[Je[we]][ne]&&(ce[Je[we]][ne].roomID.toLowerCase()===be.toLowerCase()||ce[Je[we]][ne].roomID.toUpperCase()===be.toUpperCase()||ce[Je[we]][ne].cat.toLowerCase()===be.toLowerCase()||ce[Je[we]][ne].cat.toUpperCase()===be.toUpperCase())){ce[Je[we]][ne].node,console.log("Node: ",ce[Je[we]][ne].node,"Cat: ",ce[Je[we]][ne].cat),De(Ue[at]);return}},rt=>{})}De(!1)});ge&&(console.log("EEEELLLLEVVAATTTOOORR:",J),e!=""&&s!=""?re(e).then(be=>{be===!1&&Rt(),re(s).then(De=>{console.log("Det",De),De===!1?Tt():(J||F||$)===!1?mo():De&&be&&(J||F||$)&&(je=og("enterDestination",String(be),String(De),M,J),We=rg("enterDestination",String(be),String(De),M,J),He(We))})}):(e===""&&$o(),s===""&&Dr())),pe&&((Oe!="Select Facility"||Oe==="")&&e!=""?(J||F||$)===!0?Oe==="Select Facility"||Oe===""?gt():re(e).then(be=>{be===!1&&Rt(),Ie(e).then(De=>{console.log("GAAGGAAGAGGAGGA",Oe),be&&(je=og("enterFindFacility",be,Oe,M,J,De),We=rg("enterFindFacility",be,Oe,M,J,De),He(We))})}):mo():(e===""&&$o(),(Oe==="Select Facility"||Oe==="")&&gt()))},wi=Ce.filter(H=>H.toLowerCase().indexOf(e.toLowerCase())!==-1),Pr=Ct.filter(H=>H.toLowerCase().indexOf(s.toLowerCase())!==-1),[kn,Fr]=zt.useState(""),vi=H=>{const{value:re}=H.target;Fr(re),re==="Enter Destination"?(K(!0),oe(!1)):(K(!1),oe(!0))},[En,ft]=zt.useState(""),Ro=H=>{H=="science2ndFloor"?ft("Science Building 2nd Floor, PE Building 1st Floor"):H=="science3rdFloor"?ft("Science Building 3rd Floor, PE Building 3rd Floor"):H=="science4thFloor"?ft("Science Building 4th Floor, PE Building 4th Floor"):H=="science5thFloor"?ft("Science Building 5th Floor, PE Building 5th Floor"):H=="science6thFloor"?ft("Science Building 6th Floor, PE Building 6th Floor"):H=="CHTMEDS4thFloor"?ft("EDS Building 4th Floor, CHTM Building 4th Floor"):H=="CHTMEDS5thFloor"?ft("EDS Building 5th Floor, CHTM Building 5th Floor"):H=="CHTMEDS6thFloor"?ft("EDS Building 6th Floor, CHTM Building 6th Floor"):H=="CHTMEDS7thFloor"?ft("EDS Building 7th Floor, CHTM Building 7th Floor"):H=="CHTMEDS8thFloor"?ft("EDS Building 8th Floor, CHTM Building 8th Floor"):H=="CHTMEDS9thFloor"?ft("EDS Building 9th Floor, CHTM Building 9th Floor"):H=="EDS3rdFloor"?ft("EDS Building 3rd Floor"):H=="CHTM10thFloor"?ft("CHTM Building 10th Floor"):H=="main4thFloor"?ft("Main Building 4th Floor"):H=="main5thFloor"?ft("Main Building 5th Floor"):H=="main6thFloor"?ft("Main Building 6th Floor"):H=="main3rdFloor"?ft("Main Building 3rd Floor"):H=="mainGroundFloor"?ft("Main Building Ground Floor"):H=="main2ndFloor"?ft("Main Building 2nd Floor, EDS Building 2nd Floor"):H=="science1stFloor"?ft("Science Building 1st Floor, PE Building Ground Floor"):H=="scienceGroundFloor"?ft("Science Building Ground Floor"):H=="BRS1stFloor"?ft("BRS Building 1st Floor"):H=="BRS2ndFloor"?ft("BRS Building 2nd Floor"):H=="BRS3rdFloor"?ft("BRS Building 3rd Floor"):H=="BRS4thFloor"?ft("BRS Building 4th Floor"):H=="BRS5thFloor"?ft("BRS Building 5th Floor"):H=="BRS6thFloor"?ft("BRS Building 6th Floor"):H=="BRS7thFloor"?ft("BRS Building 7th Floor"):H=="BRS8thFloor"?ft("BRS Building 8th Floor"):H=="BRS9thFloor"?ft("BRS Building 9th Floor"):H=="BRS10thFloor"&&ft("BRS Building 10th Floor")},[Es,Xt]=zt.useState(!1),[me,en]=zt.useState(!0),Tt=()=>{var H=document.createElement("div");H.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var Ie=document.createElement("br"),be=document.createElement("button");be.textContent="Okay",be.className="exit-buttons",be.addEventListener("click",function(){H.style.display="none"});var De=document.createElement("h2");De.textContent=`Your destination "${s}" does not exist on the map`,De.className="errorHead",re.appendChild(De);var wt=document.createElement("text");wt.className="errorBody",wt.innerHTML="Enter your destination exactly as it appears in the suggestion box. Disregard any locations not listed in the suggestion box.",re.appendChild(wt),re.appendChild(Ie),re.appendChild(be),H.appendChild(re),document.body.appendChild(H)},Rt=()=>{var H=document.createElement("div");H.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var Ie=document.createElement("button"),be=document.createElement("br");Ie.textContent="Okay",Ie.className="exit-buttons",Ie.addEventListener("click",function(){H.style.display="none"});var De=document.createElement("h2");De.textContent=`Your current location "${e}" does not exist on the map`,De.className="errorHead",re.appendChild(De);var wt=document.createElement("text");wt.innerHTML="Enter your current location exactly as it appears in the suggestion box. Disregard any locations not listed in the suggestion box.",re.appendChild(wt),re.appendChild(be),re.appendChild(Ie),H.appendChild(re),document.body.appendChild(H)},mo=()=>{var H=document.createElement("div");H.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var Ie=document.createElement("button"),be=document.createElement("br");Ie.textContent="Okay",Ie.className="exit-buttons",Ie.addEventListener("click",function(){H.style.display="none"});var De=document.createElement("h2");De.textContent="Please Select your Path",De.className="errorHead",re.appendChild(De);var wt=document.createElement("text");wt.innerHTML="Please choose your path above: Default Route, Elevator, Emergency Exit",H.appendChild(re),re.appendChild(wt),re.appendChild(be),re.appendChild(Ie),H.appendChild(re),document.body.appendChild(H)},$o=()=>{var H=document.createElement("div");H.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var Ie=document.createElement("button"),be=document.createElement("br");Ie.textContent="Okay",Ie.className="exit-buttons",Ie.addEventListener("click",function(){H.style.display="none"});var De=document.createElement("h2");De.textContent="No Current Location",De.className="errorHead",re.appendChild(De);var wt=document.createElement("text");wt.innerHTML="Please fill up your current location.",re.appendChild(wt),re.appendChild(be),re.appendChild(Ie),H.appendChild(re),document.body.appendChild(H)},Dr=()=>{var H=document.createElement("div");H.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var Ie=document.createElement("button"),be=document.createElement("br");Ie.textContent="Okay",Ie.className="exit-buttons",Ie.addEventListener("click",function(){H.style.display="none"});var De=document.createElement("h2");De.textContent="No Destination Entered",De.className="errorHead",re.appendChild(De);var wt=document.createElement("text");wt.innerHTML="Please enter your destination.",re.appendChild(wt),re.appendChild(be),re.appendChild(Ie),H.appendChild(re),document.body.appendChild(H)},gt=()=>{var H=document.createElement("div");H.className="popup-container-ErroMessage";var re=document.createElement("div");re.className="popup-content-ErrorMessage";var Ie=document.createElement("button"),be=document.createElement("br");Ie.textContent="Okay",Ie.className="exit-buttons",Ie.addEventListener("click",function(){H.style.display="none"});var De=document.createElement("h2");De.textContent="No Facility",De.className="errorHead",re.appendChild(De);var wt=document.createElement("text");wt.innerHTML="Please select a facility.",re.appendChild(wt),re.appendChild(be),re.appendChild(Ie),H.appendChild(re),document.body.appendChild(H)},Ci=()=>{Xt(!Es)},kr=H=>{H.key==="Enter"&&document.getElementById("submitButton").click()};return Re.jsxs("div",{style:t,ref:b,children:[Re.jsx("div",{children:Es&&Re.jsx("div",{className:"popup-container",children:Re.jsxs("div",{className:"popup-content",children:[Re.jsx("span",{className:"exit-button",onClick:Ci,children:"X"}),Re.jsx("img",{src:F5,className:"ins",style:{},alt:"Placeholder Image"}),Re.jsx("img",{src:D5,className:"ins",style:{},alt:"Placeholder Image"})]})})}),Re.jsxs("div",{className:"sticky-div",children:[Re.jsx("div",{children:Re.jsx("button",{onClick:Ci,className:"direction",children:"Instructions/Legends"})}),Re.jsx("div",{children:Re.jsxs("select",{value:kn,onChange:vi,className:"pickButton",children:[Re.jsx("option",{defaultValue:"",children:"Choose Destination"}),Re.jsx("option",{value:"Enter Destination",children:"Enter Destination"}),Re.jsx("option",{value:"Find Closest Facility",children:"Find Closest Facility/Exit"})]})}),Re.jsx("div",{style:{display:ge||pe?"block":"none"},children:Re.jsx("form",{children:Re.jsxs("div",{style:{display:"flex",borderBottom:"4px solid #0c380c"},children:[Re.jsxs("span",{style:{flex:"70%",background:"#0c380c"},children:[Re.jsx("div",{style:{display:"flex"},children:Re.jsx("div",{style:{flex:"100%"},children:Re.jsx("label",{children:Re.jsx("input",{onKeyDown:kr,className:"InputBox",placeholder:"Enter Your Current Location",type:"text",name:"currentPost",value:e,onChange:To})})})}),g&&Re.jsx("ul",{className:"Suggestions",children:wi.map((H,re)=>Re.jsx("li",{onClick:()=>po(H,!0),children:H},re))}),Re.jsx("label",{children:Re.jsx("input",{className:"InputBox",onKeyDown:kr,placeholder:"Enter Your Destination",type:"text",name:"destination",value:s,onChange:Se,style:{display:ge?"block":"none"}})}),w&&Re.jsx("ul",{className:"Suggestions",children:Pr.map((H,re)=>Re.jsx("li",{onClick:()=>po(H,!1),children:H},re))}),Re.jsxs("select",{style:{display:ge?"none":"block"},className:"InputBox",id:"selectFac",value:Oe,onChange:Me,children:[Re.jsx("option",{children:"Select Facility"}),Re.jsx("option",{children:"Exit"}),Re.jsx("option",{children:"CR(WOMEN)"}),Re.jsx("option",{children:"CR(MEN)"}),Re.jsx("option",{children:"Gymnasium"}),Re.jsx("option",{children:"Student Lounge"}),Re.jsx("option",{children:"Sanctuary"}),Re.jsx("option",{children:"Auditorium"}),Re.jsx("option",{children:"Canao Hall"})]})]}),Re.jsx("span",{style:{flex:"30%",background:"#0c380c",borderLeft:"2px solid #0c380c",borderRight:"2px solid #0c380c",borderTop:"1px solid #0c380c"},children:Re.jsxs("div",{children:[Re.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[Re.jsxs("div",{className:`CheckboxDiv ${D?"clicked":""}`,onClick:ke,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:D,onChange:()=>{}}),Re.jsx("img",{src:L5,className:"checkbox-image",alt:"Elevator Logo"})]}),Re.jsxs("div",{className:`CheckboxDiv ${F?"clicked":""}`,onClick:de,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:M,onChange:()=>{}}),Re.jsx("img",{src:ig,className:"checkbox-image",alt:"Elevator Logo"})]}),Re.jsxs("div",{className:`CheckboxDiv ${J?"clicked":""}`,onClick:ze,children:[Re.jsx("input",{type:"checkbox",className:"checkbox",id:"elev",checked:M,onChange:()=>{}}),Re.jsx("img",{src:jE,className:"checkbox-image",alt:"Elevator Logo"})]})]}),Re.jsx("div",{children:Re.jsx("button",{title:"Locate",id:"submitButton",className:"Locatebuttons",onClick:Mr,children:" Locate"})})]})})]})})}),Re.jsx("div",{className:"currentPosition",style:{},children:Re.jsxs("h4",{style:{textAlign:"center",margin:"5px",opacity:"0.6",borderRadius:"60px"},children:[" ",En]})})]}),Re.jsx("div",{id:"map",style:{width:"100%",height:"1000px"}})]})}e3.propTypes={style:ZE.object};function Sw(){return Re.jsx(Re.Fragment,{children:Re.jsx(e3,{})})}Uu.createRoot(document.getElementById("root")).render(Re.jsx(R3.StrictMode,{children:Re.jsx(Sw,{})}));
